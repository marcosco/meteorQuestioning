{
    "items": [
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><code>/g</code> (global) regexps will do that, yes.</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/2630418/javascript-regex-returning-true-then-false-then-true-etc\">this question</a>.</p>\n\n<p>When you write a literal, you're getting a new regexp object every time, so losing the <code>lastIndex</code> state associated with the old object.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I get this behavior in both Chrome (Developer Tools) and Firefox (Firebug). Note the regex test returns alternating true/false values:</p>\n\n<pre><code>&gt; var re = /.*?\\bbl.*\\bgr.*/gi;\nundefined\n&gt; re\n/.*?\\\\bbl.*\\\\bgr.*/gi\n&gt; re.test(\"Blue-Green\");\ntrue\n&gt; re.test(\"Blue-Green\");\nfalse\n&gt; re.test(\"Blue-Green\");\ntrue\n&gt; re.test(\"Blue-Green\");\nfalse\n</code></pre>\n\n<p>However, testing the same regex as a literal:</p>\n\n<pre><code>&gt; /.*?\\bbl.*\\bgr.*/gi.test(\"Blue-Green\");\ntrue\n&gt; /.*?\\bbl.*\\bgr.*/gi.test(\"Blue-Green\");\ntrue\n&gt; /.*?\\bbl.*\\bgr.*/gi.test(\"Blue-Green\");\ntrue\n&gt; /.*?\\bbl.*\\bgr.*/gi.test(\"Blue-Green\");\ntrue\n</code></pre>\n\n<p>I can't explain this and it's making debugging very difficult. Can anyone explain this behavior?</p>\n",
            "last_activity_date": 1274919093,
            "question_id": 2669861,
            "score": 4,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Regular expression test can&#39;t decide between true and false (JavaScript)"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>That's not possible during rendering of the response. The only way to figure that less or more reliable is to let the client send an ajaxical request beforehand in one of the previous requests. This ajaxical request should then set some token in the server side session which identifies that the client has sent an ajaxical request beforehand (which thus proves that the client has JS enabled). But that doesn't cover the possibility that the client can disable JS in meanwhile during a session. Or you must hassle with collecting timestamps and ajaxical requests after every response. Not really something you'd like to do.</p>\n\n<p>Rather render the both contents and make use of <code>&lt;noscript&gt;</code> and <code>&lt;script&gt;</code> tags to toggle the one or other. Also see my answer here for several examples: <a href=\"http://stackoverflow.com/questions/2297643/opposite-of-noscript/2297666#2297666\"><strong>opposite of <code>&lt;noscript&gt;</code></strong></a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could do something sort of hacky like this, but your \"javascript-enabled\" html would need to be generated within the helper</p>\n\n<p>Put this in your application_helper.rb</p>\n\n<pre><code>def javascript_enabled?\n  content_tag(:div, [\n    content_tag(:script, 'document.write(\"Javascript Enabled\")'), \n    content_tag(:noscript, 'No Javascript')\n  ])\nend\n</code></pre>\n\n<p>This goes in your view:</p>\n\n<pre><code>&lt;%= javascript_enabled? %&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can't detect it on the server-side. Indeed, scripting might be turned off the first time your page is accessed, then the browser settings changed and re-navigated without a new HTTP request being made. Not to mention all sorts of caching issues and places where scripting might be technically \u2018enabled\u2019 but not working due to conflicts, bugs or \u2018security\u2019 tools getting in the way.</p>\n\n<p>So you need to do all decisions about content for with-script/without-script on the client side. These days the preferred method would generally be \u2018progressive enhancement\u2019: include the basic HTML version on the page, then have JavaScript replace/upgrade it where it can:</p>\n\n<pre><code>&lt;div id=\"isitjs\"&gt;\n    &lt;p&gt;Backup content for no JavaScript&lt;/p&gt;\n&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n    document.getElementById('isitjs').innerHTML= '&lt;p&gt;Sparkly script-enhanced content!&lt;\\/p&gt;';\n    // or DOM methods, as you prefer\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can detect it, but it isn't pretty.</p>\n\n<p>First, you need a new controller with an action that updates a timeout in the session:</p>\n\n<pre><code>class JavascriptController &lt; ApplicationController\n  def confirm\n    session[:javascript_updated] = Time.now\n  end\nend\n</code></pre>\n\n<p>Next you need to include a javascript action in all your pages so this controller action is called on each page load. The easiest way is to include it on a \"javascript-confirm.js\" file included in your layout (on this particular example I used Prototype's Ajax.Request, so you need to have it included on your javascripts, too):</p>\n\n<pre><code>function confirmJavascript()\n{\n    // Assuming you are using Prototype\n    new Ajax.Request('/JavascriptController/confirm');\n}\n\nmyTimeoutFunction();\nsetInterval(myTimeoutFunction, 10000); // invoke each 10 seconds\n</code></pre>\n\n<p>This will invoke the confirm action in all your page views. Finally, you have to control how much time did it pass since your last confirmation in your application controller.</p>\n\n<pre><code>class ApplicationController &lt; ActionController::Base\n\nJAVASCRIPT_TIME_LIMIT = 10.seconds\n\nbefore_filter :prepare_javascript_test\n\nprivate\ndef prepare_javascript_test\n  if (session[:javascript_updated].blank? or\n     Time.now - session[:javascript_updated] &gt; ApplicationController::JAVASCRIPT_TIME_LIMIT)\n    @javascript_active = true\n  else\n    @javascript_active = false\n  end\nend\n\nend\n</code></pre>\n\n<p>You will now have a variable called <code>@javascript_active</code> in all your controllers.</p>\n\n<p>It should work even when the user activates/deactivates javascript, with a precision of 10 seconds. It might not work if some of your pages take longer than 10 pages to load (i.e. with lots of images). Increase the time limit in that case (on applicationcontroller and your javascript)</p>\n\n<p>Disclaimer: I haven't tested this code, some bugs might be lurking - but it should point you on the right direction.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You cannot check from the server side if Javascript is enabled, however, you can set up a page before you site, and let redirect to your application with a parameter indicating if Javascript is enabled. See the sample code below :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta HTTP-EQUIV=\"REFRESH\" content=\"2; url=./Login.action?javascriptEnabled=false\"&gt;\n    &lt;link rel=\"icon\" href=\"favicon.ico\" type=\"image/x-icon\"/&gt;\n    &lt;link rel=\"shortcut icon\" href=\"favicon.ico\" type=\"image/x-icon\"/&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body onload=\"window.location.href='./Login.action?javascriptEnabled=true'\" &gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So, if Javascript enabled the onload redirect will work, if not then the header meta tag will work. \nThe trick is to put 1-2 second delay on the meta tag redirect, so if the javascript redirect won't redirect, the meta tag will, indicating that no JavaScript is enabled.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If that's <em>all</em> you want it to do, it might be best to put the non-JS version in the view:</p>\n\n<pre><code>&lt;p class=\"replace_by_js\"&gt;No Javascript&lt;/p&gt;\n</code></pre>\n\n<p>and then have the Javascript replace that: (I use jQuery)</p>\n\n<pre><code>$('p.replace_by_js').replaceWith(\"&lt;p&gt;Javascript Enabled!&lt;/p&gt;\")\n</code></pre>\n\n<p>This approach should be usable for practically any progressive enhancement you want to add.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Instead of writing lots of code to check whether your javascript is enable or not, you can simply write as(using HAML) in your page layout- </p>\n\n<pre><code>%p.javascript_require\n  No javascript, please enable JavaScript\n</code></pre>\n\n<p>and make your javascript hide this paragraph using hide() function as -</p>\n\n<pre><code>$(\".javascript_require\").hide();\n</code></pre>\n\n<p>Do whatever function you want to perform when if javascript is disabled.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How would you check if javascript is enabled in Rails?  So that I could do something like this in the views:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;% if javascript_enabled? %&gt;\n    &lt;p&gt;Javascript Enabled!&lt;/p&gt;\n    &lt;%- else -%&gt;\n    &lt;p&gt;No Javascript&lt;/p&gt;\n    &lt;%- end -%&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1371724789,
            "question_id": 2315648,
            "score": 4,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "server-side",
                "erb",
                "noscript"
            ],
            "title": "Check if Javascript is Enabled (Serverside) with Rails"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h2>Karl B's answer is better - use that!</h2>\n\n<p>Wouldn't an easier way be like this:</p>\n\n<pre><code>$var = \"hello,world,test\";\n$var = str_replace(\",\", \"','\", $var);\n</code></pre>\n\n<p>Then wherever you're spitting out JavaScript (assuming you can use PHP there):</p>\n\n<pre><code>var name = ['&lt;?php echo $var; ?&gt;'];\n</code></pre>\n\n<p>This doesn't deal properly with quoted values though - if you want that, you're better off with using <a href=\"http://php.net/manual/en/function.fgetcsv.php\" rel=\"nofollow\"><code>fgetscsv</code></a> et al.</p>\n\n<p>If you're determined to use <code>explode</code>, then you can use its other-half, <a href=\"http://us2.php.net/implode\" rel=\"nofollow\"><code>implode</code></a> like this in your output:</p>\n\n<pre><code>var name = ['&lt;? php echo implode(\"','\", $var); ?&gt;'];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I would have thought <a href=\"http://php.net/manual/en/function.json-encode.php\"><code>json_encode</code></a> would be the most reliable and simplest way.</p>\n\n<p>E.g.</p>\n\n<pre><code>$var = \"hello,world,test\";\n$exp = explode(\",\",$var);\nprint json_encode($exp);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>Suppose that I have a string <code>$var</code>:</p>\n\n<pre><code>//php code\n\n$var = \"hello,world,test\";\n$exp = explode(\",\",$var);\n</code></pre>\n\n<p>Now I get the array as <code>exp[0],exp[1],exp[1]</code> as <code>'hello'</code>, <code>'world'</code> and <code>'test'</code>, respectively.</p>\n\n<p>I want to use this all value in javascript in this:</p>\n\n<pre><code>var name = ['hello','world','test'];\n</code></pre>\n\n<p>How can I generate that JavaScript in PHP?</p>\n",
            "last_activity_date": 1264083830,
            "question_id": 2109531,
            "score": 4,
            "tags": [
                "php",
                "javascript"
            ],
            "title": "Generating a JavaScript array from a PHP array"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The function signature would simply be:</p>\n\n<pre><code> function newConfirm(msg, okAction, cancelAction);\n</code></pre>\n\n<p>and would be used as:</p>\n\n<pre><code> function newConfirm(msg, okAction, cancelAction){\n   var ok = doWhateverPromptIsNecessary();\n   if (ok) {\n     okAction();\n   } else {\n     cancelAction();\n   }\n }\n</code></pre>\n\n<p>That is, to pass function \"pointers\" in to a function as arguments, simply pass in the function name without the (). The function signature is the same.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>All 3 methods actually stop js execution, not just the confirm, because they're all modal dialogs.  Personally, I would try to keep everything as asynchronous as possible as modal dialogs prevent interaction with the current document.</p>\n\n<p>Your best bet is to use callback functions from the new confirm popup as you suggested yourself.</p>\n\n<p>I'm having a hard time understanding exactly what you want to achieve.  It sounds like you want to do something like the following:</p>\n\n<ul>\n<li>Run some javascript code</li>\n<li>Display a \"confirm\" box</li>\n<li>Wait until the ok button or cancel button is clicked</li>\n<li>Continue code when user clicks ok, return when user clicks cancel.</li>\n</ul>\n\n<p>The reason you want to do this is that overriding the function with something that makes use of callbacks would require rewriting each section of code that uses the confirm function.  If you want my advice, I would go ahead and rewrite the code so that it performs asynchronously.  There's no way you can delay script execution without locking up the document which includes the OK and Cancel actions of your dialog.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>if you changed the roles Alert / Prompt / Confirm. slows the execution pending user interaction to run the following code.</p>\n\n<p>Overriding these functions, the code continues its execution.</p>\n\n<p>To achieve this you have to modify each part of the code and work as if you were with asynchronous functions.</p>\n\n<p>Then you can use any plugin for windows as <a href=\"http://www.coders.me/ejemplos/sexy-alert-box-1-2/\" rel=\"nofollow\">sexy-alert-box</a>, and overwrite Alert / Prompt / Confirm</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<blockquote>\n  <p>Now this is problem that this cant help me change the confirm dialog across the site as we did with alert(); </p>\n</blockquote>\n\n<p>That's correct. It's not possible to reproduce the synchronous nature of the alert/confirm/prompt functions in native JavaScript. There is the non-standard method <code>showModalDialog</code> which can do it using a separate pop-up document, but it's not supported by all browsers and it's generally considered highly undesirable.</p>\n\n<p>So the plug-in-replacement strategy isn't going to work. You are going to have to change every place you called these methods in the rest of the script.</p>\n\n<p>The usual pattern is to do it using inline anonymous functions, to preserve the local variables using a closure, eg. replace:</p>\n\n<pre><code>function buttonclick() {\n    var id= this.id;\n    if (confirm('Are you sure you want to frob '+id+'?'))\n        frob(id);\n    wipe(id);\n}\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>function buttonclick() {\n    var id= this.id;\n    myConfirm('Are you sure you want to frob '+id+'?', function(confirmed) {\n        if (confirmed)\n            frob(id);\n        wipe(id);\n    });\n}\n</code></pre>\n\n<p>If you need <code>this</code> to be preserved you would need to look at a further nested closure or function.bind to do it. If you have your call to <code>confirm</code> in a loop things get considerably more difficult.</p>\n\n<p>Obviously you also have to ensure that critical global state doesn't change whilst the confirm box is up. Usually this risk is minimised by greying out the rest of the page with an overlay to stop clicks getting through. However if you have timeouts they can still fire.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>Scenario is : old site which has lots of JS code already written. If user want to change all the alert messages to new age jazzy Div based alert which are very common using JQuery, YUI, Prototype... etc.  <br/>\nThere are mainly tree JS dialogs   <br/>\n<b>1. alert</b>\n<p>\nTo changes this its simple we just have to write new function which will show the div popup and show the message, after that override the window.alert  <br/>  <br/>\n<code>\nfunction showDivAlert(strMessage){ <br/>\n//div popup logic and code <br/>\n} <br/>\n <br/>\nwindow.alert = showDivAlert; <br/>\n</code></p>\n\n<p><b>2. prompt</b></p>\n\n<p><p>This too look easy to write function to accept the string and show the text box for input value. Now as return action is based on the click of \"OK\" button life is easy here.  </p><br/>\n<code>\nfunction shoDivPromp(strMessage){ <br/>\n//div pop up to show the text box and accept input from the user <br/>\n} <br/>\nwindow.prompt = shoDivPromp; <br/>\n</code>\n<br/></p>\n\n<p><b>3. confirm</b></p>\n\n<p>Now above two were easy to override and modify the default dialogs but there is complication with the confirm.<br/>\nHowever default JS confirm dialog stops JS execution and when user click OK or Cancel execution is resumed by determining the return value (true/false). But if we user div popup the execution is not stopped which is problem.<br/> We can still implement the confirm but in that case we have to bind methods for OK and CANCEL case which will be attached to OK and CANCEL button. With this function signature will be like.\n<code>function newConfirm(msg, fun OkAction(), fun CancelAction)</code><br/><br/>\nNow this is problem that this cant help me change the confirm dialog across the site as we did with alert();\n<b>Question</b><br/>\nI am not sure whether its possible or not to achieve but i think can be using some JS pattern. So let me know if its possible.</p>\n",
            "last_activity_date": 1405442207,
            "question_id": 2056747,
            "score": 4,
            "tags": [
                "asp.net",
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "JavaScript puzzle to solve : window.confirm = divConfirm(strMessage)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I may be misunderstanding your issue, but it seems like all you need is a bit of CSS, specifically a max-width (for all the non-idiotic browsers) and a width with a wacky IE expression (for IE).</p>\n\n<p>For instance</p>\n\n<pre><code>max-width:200px;\n_width:expression(document.body.clientWidth &gt; 200? \"200px\": \"auto\" );\n</code></pre>\n\n<p>When you combine that with the CSS you already have, it seems like it should work.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function GetWrapedText(text, maxlength) {    \n    var resultText = [\"\"];\n    var len = text.length;    \n    if (maxlength &gt;= len) {\n        return text;\n    }\n    else {\n        var totalStrCount = parseInt(len / maxlength);\n        if (len % maxlength != 0) {\n            totalStrCount++\n        }\n\n        for (var i = 0; i &lt; totalStrCount; i++) {\n            if (i == totalStrCount - 1) {\n                resultText.push(text);\n            }\n            else {\n                var strPiece = text.substring(0, maxlength - 1);\n                resultText.push(strPiece);\n                resultText.push(\"&lt;br&gt;\");\n                text = text.substring(maxlength - 1, text.length);\n            }\n        }\n    }\n    return resultText.join(\"\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have tinymce editor(textarea) and one div. Whenever i type inside the text editor, it shows at the preview div which is (200px) in real time which is looks alike stackoverflow preview. </p>\n\n<p>What I want to achieve is, if we type one words without space and if exceed 200px, I want to wrap it to the next line. </p>\n\n<p>I tried to find it and I didn't find the solution yet. I tried this solution which i found here</p>\n\n<pre><code>.preview_desc \n{   \n    word-wrap: break-word; /* IE&gt;=5.5 */  \n    white-space: pre; /* IE&gt;=6 */  \n    white-space: -moz-pre-wrap; /* For Fx&lt;=2 */   \n    white-space: pre-wrap; /* Fx&gt;3, Opera&gt;8, Safari&gt;3 */ \n}\n</code></pre>\n\n<p>It doesn't work well in IE7. It added the left and right space. So my div become so wide like the following image </p>\n\n<p><a href=\"http://img38.imageshack.us/img38/2650/ie7g.jpg\" rel=\"nofollow\">http://img38.imageshack.us/img38/2650/ie7g.jpg</a></p>\n\n<p>In IE8, which is correct looks is like this.</p>\n\n<p>img35.imageshack.us/img35/3915/ie8a.jpg (Please add http:// and view)</p>\n\n<p>Opera 10 is not totally working also.</p>\n\n<p>And then I have line count js also. Which is</p>\n\n<pre><code>var height = document.getElementById('divpreview').clientHeight;\nvar lines = Math.round(height / 10); \ndocument.getElementById('lines').innerHTML = lines;  \nif(document.getElementById('divpreview').innerHTML == \"\")\n{\n     document.getElementById('lines').innerHTML = 0;  \n}\n</code></pre>\n\n<p>If we use the above css code, it starting count from line 2 in all browsers except IE8 and 7.</p>\n\n<p>I only want to works on all latest browser which is FF2,3,IE7,IE8,Safari,Chrome,Opera (latest).</p>\n\n<p>Please help me out. Thanks.</p>\n",
            "last_activity_date": 1360160473,
            "question_id": 1587964,
            "score": 4,
            "tags": [
                "javascript",
                "css",
                "word",
                "textarea",
                "wrap"
            ],
            "title": "Wrap Text inside fixed Div with css or javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I think what you actually want is the range of divs between 1 and 3, not just wrapping the third div, yeah?</p>\n\n<p>For getting a range you'll need to use <a href=\"http://docs.jquery.com/Traversing/slice\">jquery slice</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Use map(), slice(), and wrapAll();</p>\n\n<pre><code>\t$(document).ready( function(){\n\t\tvar results =[];\n\t\tvar elements = $(\".items\").children('.boxgrid');\n\t\t$.map( elements  , function(i, n){\n\t\t\tif( n%3 === 0 ){\n\t\t\t\tresults.push(n);\n\t\t\t}\n\t\t});\n\t\t$.each( results , function(i,v){\n\t\t\telements.slice(v, v+3).wrapAll('&lt;div class=\"row\"&gt;&lt;/div&gt;');\n\t\t});\n\t});\n</code></pre>\n\n<p>This is tested and works.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As a plugin:</p>\n\n<pre><code>jQuery.fn.wrapInChunks = function(html, chunkSize) {\n\n    chunkSize = chunkSize || 1;\n\n    var items = this.get(),\n        rows = [],\n        cur = rows[0] = $(html);\n\n    while (items[0]) {\n\n        if (rows[rows.length - 1].children().length === chunkSize) {\n            cur = rows[rows.length] = $(html);\n        }\n\n        cur.append( items.shift() );\n\n    }\n\n    return this.pushStack(rows);\n\n};\n\n$('.boxgrid').wrapInChunks('&lt;div class=\"row\" /&gt;', 3).appendTo('.items');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You would have to slice the elements and make new div elements to contain the sliced elements. Below is a code example. I'm not aware of any more simpler method to do this.</p>\n\n<pre><code>$(\".items\").each(function()\n{\t\n\tvar rowDiv = document.createElement(\"div\");\n\t$(rowDiv).addClass(\"row\");\n\n\tfor(i=0; i&lt; $(this).find(\"&gt; .boxgrid\").length ; i+= 3)\n\t{\t\n\t\t$(rowDiv).append( $(this).find(\"&gt; .boxgrid\").slice(i, i+3).clone() );\t\t\n\t\t$(this).append(rowDiv);\n\t\trowDiv = document.createElement(\"div\");\n\t\t$(rowDiv).addClass(\"row\");\n\t}\n\t$(this).find(\"&gt; .boxgrid\").remove();//Remove all the immediate boxgrid child elements.\t\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3366529/wrap-every-3-divs-in-a-div\">Wrap every 3 divs in a div</a>  </p>\n</blockquote>\n\n\n\n<p>First thing, i know i should use a server side language to accomplish this not client side like jquery but that's not the point, i'm just trying to learn how to use it to manipulate html. Heres the html:</p>\n\n<pre><code>&lt;div class=\"items\"&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"1.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 1&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"2.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 2&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"3.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"4.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 4&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"5.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 5&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"6.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 6&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to be able to wrap every 3 <code>&lt;divs&gt;</code> within the <code>&lt;div class=\"items\"&gt;</code> with yet another div: <code>&lt;div class=\"row\"&gt;&lt;/div&gt;</code>. So it end up like this:</p>\n\n<pre><code>&lt;div class=\"items\"&gt;\n &lt;div class=\"row\"&gt;  \n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"1.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 1&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"2.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 2&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"3.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 3&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n &lt;/div&gt;\n &lt;div class=\"row\"&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"4.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 4&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"5.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 5&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;div class=\"boxgrid\"&gt;&lt;span class=\"cushycms\"&gt;&lt;a href=\"#\"&gt;&lt;img src=\"6.jpg\" alt=\"\"/&gt;&lt;/a&gt;&lt;/span&gt;&lt;div class=\"cover\"&gt;&lt;span class=\"film_title\"&gt;Title 6&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n &lt;/div&gt;\n&lt;/div&gt;  \n</code></pre>\n\n<p>How can i accomplish this with jquery's selectors? I thought i can use something like:</p>\n\n<pre><code>$(\"div.items:nth-child(3n)\").wrap('&lt;div class=\"row\"&gt;&lt;/div&gt;');\n</code></pre>\n\n<p>But that doesn't work. Any ideas please?            </p>\n",
            "last_activity_date": 1314991445,
            "question_id": 1432201,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "How to wrap every 3 child divs with html using jquery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The location of local storage on the file system is most likely an implementation detail that is not guaranteed to always be the same from version to version (it could even change with a service pack or update to IE).</p>\n\n<p>To clear local storage using the approved methods, see <a href=\"http://msdn.microsoft.com/en-us/library/cc197062.aspx#%5Fclear\">Clearing the Storage Areas</a> on the <a href=\"http://msdn.microsoft.com/en-us/library/cc197062.aspx\">Introduction to DOM Storage MSDN page</a>:</p>\n\n<blockquote>\n  <p><strong>Clearing the Storage Areas</strong></p>\n  \n  <p>Session state is released as soon as\n  the last window to reference that data\n  is closed. However, users can clear\n  storage areas at any time by selecting\n  <strong>Delete Browsing History</strong> from the <strong>Tools</strong>\n  menu in Internet Explorer, selecting\n  the <strong>Cookies</strong> check box, and clicking\n  <strong>OK</strong>. This clears session and local\n  storage areas for all domains that are\n  not in the Favorites folder and resets\n  the storage quotas in the registry.\n  Clear the <strong>Preserve Favorite Site Data</strong>\n  check box to delete all storage areas,\n  regardless of source.</p>\n  \n  <p>To delete key/value pairs from a\n  storage list, iterate over the\n  collection with <a href=\"http://msdn.microsoft.com/en-us/library/cc197047.aspx\">removeItem</a> or use\n  <a href=\"http://msdn.microsoft.com/en-us/library/cc288131.aspx\">clear</a> to remove all items at once.\n  Keep in mind that changes to a local\n  storage area are saved to disk\n  asynchronously.</p>\n</blockquote>\n\n<p>An alternative to using the approved methods is to use a tool like <a href=\"http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx\">Process Monitor</a> to watch disk and Registry accesses while you write something to <code>window.localStorage</code>. Unfortunately, if you see it writing to a file like <code>%userprofile%\\Cookies\\index.dat</code> it would probably be unwise to delete that file (since it contains information about all the other cookies IE knows about).</p>\n\n<p>EDIT: Using my own suggestion I found that local storage seems to be at <code>%userprofile%\\Local Settings\\Application Data\\Microsoft\\Internet Explorer\\DOMStore</code> (in Windows XP, Vista and Windows 7 will be slightly different). They are just XML files but I'm not sure how safe they are to delete because of the <code>index.dat</code> (which may retain information about the existence of the XML files or their contents).</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>There are also some registry settings that might relate to this under:</p>\n\n<pre><code>HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\LowRegistry\\DOMStorage\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Deleting the localhost[1].xml from the appropriate directory under %userprofile%\\Local Settings\\Application Data\\Microsoft\\Internet Explorer\\DOMStore solved the problem.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My organization is starting to use this feature and for testing it would be ideal if we could find and delete these values as well as see what's written to disk, but I can't figure out where IE8 is storing them. I found the .sqlite files in </p>\n\n<p>AppData\\Local\\Apple Computer\\Safari for Safari \nand\nAppData\\Roaming\\Mozilla\\Firefox\\Profiles\\ryb7f27l.default\\webappsstore.sqlite for FF3.5</p>\n\n<p>Any help on IE8 would be appreciated!</p>\n",
            "last_activity_date": 1418853662,
            "question_id": 1412083,
            "score": 4,
            "tags": [
                "javascript",
                "cookies"
            ],
            "title": "Where in the filesystem does IE8 store values stored in localStorage?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's caused because IE will cache the image, and the onload event will never fire after it's already been loaded.</p>\n\n<p>You need to position the onload event before the src. </p>\n\n<pre><code>var availablePages = ['1002_001','1002_002','1002_003','1002_004','1002_005'];\n\nfunction seePage(index) {\n    $get('imgSingle').src = 'graphics/loading.gif';\n    var img = new Image();\n    img.onload = function() {\n         var single = $get('imgSingle');\n         single.src = img.src;\n    }\n    img.src = 'get.jpg.aspx?size=single&amp;id=' + availablePages[index];\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Another way of doing this is to check if the image is already loaded with <code>image.complete</code>. For instance:</p>\n\n<pre><code>var img = new Image();\nimg.src = 'foo.jpg';\nif(img.complete){\n    img.onload = function(){ /* ... */ };\n} else {\n    /* execute something else, or the same. */\n}\n</code></pre>\n\n<p>I've experienced this behavior in IE6 and 7.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>It works in IE6, and FireFox; but for some reason not in IE7.</p>\n\n<p>Using ASP.NET on the Page_Init I populate a list of chapters that are links to the image in the book as well as a javascript array which holds the pageIDs.</p>\n\n<p>ex.</p>\n\n<p>Chapter 1 --> href=\"javascript:seePage(4);\"</p>\n\n<p>here is the actual code I am using:</p>\n\n<pre><code>\nvar availablePages = ['1002_001','1002_002','1002_003','1002_004','1002_005'];\n\nfunction seePage(index) {\n    $get('imgSingle').src = 'graphics/loading.gif';\n    var img = new Image();\n    img.src = 'get.jpg.aspx?size=single&id=' + availablePages[index];\n    img.onload = function() {\n    \t var single = $get('imgSingle');\n    \t single.src = img.src;\n    }\n}\n</code></pre>\n\n<p>When I click on Chapter 1, the image loads fine across the board (IE6,7,FF) and clicking on a second chapter link also works; however, in (and only in) IE7 does clicking on the same chapter twice (chap1, chap2, then chap1 again) does the image get stuck on the 'loading' image... I'm pulling out my hair here guys...</p>\n",
            "last_activity_date": 1290521562,
            "question_id": 1038327,
            "score": 4,
            "tags": [
                "javascript",
                "javascript-events",
                "internet-explorer-7"
            ],
            "title": "image.onload not firing twice in IE7"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It's called event-bubbling, and you can control it with the event.stopProgation() method (event.cancelBubble() in IE). You can also control it by returning true/false from handlers called by onwhatever attributes on elements. It's a tricky subject so I suggest you do some <a href=\"http://www.quirksmode.org/js/events%5Forder.html\" rel=\"nofollow\">research</a>.</p>\n\n<p>Info: <a href=\"http://msdn.microsoft.com/en-us/library/ms533545%28VS.85%29.aspx\" rel=\"nofollow\">cancelBubble</a>, <a href=\"http://www.w3.org/TR/2001/WD-DOM-Level-3-Events-20010823/events.html\" rel=\"nofollow\">stopPropagation</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Although this does not address the problem directly it may be a viable workaround until a more fitting solution presents itself. </p>\n\n<p>Write a single function to be called onClick and allow the function enough smarts to know who called it. The function then takes the appropriate action based upon who clicked it. You could send it pretty much anything that would be unique and then use a switch. </p>\n\n<p>simplified example :</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nfunction myClickHandle(anID)\n{\nswitch(anID){\ncase 'bottom': \n      alert(\"I am on the bottom\");\n      break;\ncase 'top':\n      alert(\"I am on the top\");\n      break;\n}\n}\n&lt;/script&gt;\n\n&lt;html&gt;\n&lt;div style=\"z-index:10\"&gt;&lt;input type=button value='top' onclick=\"myClickHandle(this.value)\"/&gt;&lt;/div&gt;\n&lt;div style=\"z-index:11\"&gt;&lt;input type=button value='bottom' onclick=\"myClickHandle(this.value)\"/&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think the best practice is to detach the event handler when the control moves to the upper layer and when the control gets back to the lower layer, you can reattach the events.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>priority to the element who has the great z-index</p>\n\n<p><a href=\"http://api.jquery.com/event.stopPropagation/\" rel=\"nofollow\">http://api.jquery.com/event.stopPropagation/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have 2 z-index layers in a map application I'm building. I have a problem when I click on  the layers to zoom in. The click handler is on the underlying z-index layer and I don't want it to fire when a control in the overlying layer is clicked. </p>\n\n<p>The problem i have is that the event gets raised no matter what but the originalTarget property of the event is not the image in the underlying layer when something on the top layer is clicked. Is there anyway to change this?</p>\n",
            "last_activity_date": 1322558618,
            "question_id": 1026060,
            "score": 4,
            "tags": [
                "javascript",
                "event-handling",
                "z-index"
            ],
            "title": "Handling click events on z-index&#39;d layers"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>check out <a href=\"http://quirksmode.org/\" rel=\"nofollow\">http://quirksmode.org/</a></p>\n\n<p>Its been a great help to me.\nIt also has a wealth of classy javascript tutorials.</p>\n\n<p>cheers, jrh</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p><a href=\"http://en.wikipedia.org/wiki/Comparison_of_web_browsers\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Comparison_of_web_browsers</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Okay it's only for Gecko but for Gecko specific references take a look at </p>\n\n<p><a href=\"http://developer.mozilla.org/en/gecko_dom_reference\" rel=\"nofollow\">http://developer.mozilla.org/en/gecko_dom_reference</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>i second quirksmode.org. i find it most useful via a google site search.</p>\n\n<p>for example, suppose you want to see the different implementations of events</p>\n\n<p>site:quirksmodes.org events</p>\n\n<p>or if you want to know one browser's counterpart in a different browser, just try the one you know</p>\n\n<p>site:quirksmode.org relatedtarget</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Where can I get a list of browser differences in the implementation of DOM?</p>\n",
            "last_activity_date": 1242812090,
            "question_id": 886947,
            "score": 4,
            "tags": [
                "javascript",
                "dom",
                "cross-browser"
            ],
            "title": "Wanted: Resource for documented Cross-Browser differences"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>you can do it with jquery!</p>\n\n<p><a href=\"http://docs.jquery.com/Effects/fadeOut\">http://docs.jquery.com/Effects/fadeOut</a></p>\n\n<p><a href=\"http://docs.jquery.com/Effects/fadeIn\">http://docs.jquery.com/Effects/fadeIn</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Fading in or out can be achieved by changing the opacity of an element over time, a very simple example:</p>\n\n<pre><code>var iframe = document.getElementById('iframe');\n\nfadeOut(iframe, 1000);\n\nfunction fadeOut(el, duration) {\n\n    /*\n     * @param el - The element to be faded out.\n     * @param duration - Animation duration in milliseconds.\n     */\n\n    var step = 10 / duration,\n        opacity = 1;\n    function next() {\n        if (opacity &lt;= 0) { return; }\n        el.style.opacity = ( opacity -= step );\n        setTimeout(next, 10);\n    }\n    next();\n}\n</code></pre>\n\n<hr>\n\n<p>While jQuery is an incredible library your usage of it should be justified by more than just its ability to create fancy effects. A library should be adopted for its completeness and ease of use; not because it happens to offer just <em>one</em> thing you might want to use. </p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Is it possible to make fade in and fade out transitions in iframes?</p>\n",
            "last_activity_date": 1332626629,
            "question_id": 867272,
            "score": 4,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "Can we do fade in and fade out in iframes"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>This is the Microsoft-approved way:</p>\n\n<pre><code>&lt;!--[if IE]&gt;\n    &lt;a href=\"ie-only.html\"&gt;click here!&lt;/a&gt;\n&lt;![endif]--&gt;\n&lt;![if !IE]&gt;\n    &lt;a href=\"all-other-browsers.html\"&gt;click here!&lt;/a&gt;\n&lt;![endif]&gt;\n</code></pre>\n\n<p>More information available at <a href=\"http://msdn.microsoft.com/en-us/library/ms537512%28VS.85%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ms537512(VS.85).aspx</a>.</p>\n\n<h2>Edit</h2>\n\n<p>This code is implicitly guaranteed to work in all current and future versions of IE starting with IE 5. For non-IE browsers, the code works by relying on those browsers ignoring the \"nonsensical\" <code>&lt;![if !IE]&gt;</code> tag, which they all do, and I've never seen it fail. For a version that uses nothing but good ol' HTML comments, see <a href=\"http://stackoverflow.com/questions/738831/how-to-display-browser-specific-html/739207#739207\">bobince's answer</a>, which I actually prefer to the Microsoft-provided solution.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I didn't try, but maybe you could use IE flaws on CSS. Eric Meyer has written this article on the subject: <a href=\"http://www.ericmeyeroncss.com/bonus/trick-hide.html\" rel=\"nofollow\">Tricking Browsers and Hiding Styles</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A shot in the dark, maybe, but would this work?</p>\n\n<pre><code>&lt;style&gt;\n\n    a.forIeOnly {display: none; }\n    a.notForIe  {display: block; }\n\n&lt;/style&gt;\n\n&lt;!--[if ie]&gt;\n\n&lt;stlye&gt;\n    a.forIeOnly {display: block;}\n    a.notForIe  {display: none; }\n&lt;/style&gt;\n\n&lt;![endif]--&gt;\n\n&lt;a href=\"#\" class=\"forIeOnly\"&gt;Link One&lt;/a&gt;\n&lt;a href=\"#\" class=\"notForIe\"&gt;Link Two&lt;/a&gt;\n</code></pre>\n\n<p>It's nowhere near as clean/attractive as an if/else statement could be, but...it was the easiest way I could think of to implement a solution. Though it may well be fraught with issues all of its own.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could always use CSS to hide the code from specific browsers. For instance, considering the following code:</p>\n\n<pre><code>&lt;a href\"ie-only.html\" id=\"ie-only\"&gt;click here!&lt;/a&gt;\n&lt;a href\"all-other-browsers.html\" id=\"other-browsers\"&gt;click here!&lt;/a&gt;\n</code></pre>\n\n<p>You could apply the following CSS hacks, and the appropriate links would be displayed to the appropriate browsers.</p>\n\n<pre><code>/* Display settings for most browsers */\n#ie-only {display: none;}\n#other-browsers {display: block;}\n\n/* Display settings for IE &lt;= 6 */\n* html #ie-only {display: block;}\n* html #other-browsers {display: none;}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One way that I've figured out how to do it:</p>\n\n<p>Get the javascript code from <a href=\"http://www.quirksmode.org/js/detect.html\" rel=\"nofollow\">http://www.quirksmode.org/js/detect.html</a> and put it in the <code>&lt;head&gt;</code> tag.</p>\n\n<p>Then in your <code>&lt;body&gt;</code> tag use:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n&lt;!--\nif (BrowserDetect.browser == 'Explorer') {\n    document.write('&lt;a href=\"#\"&gt;Explorer&lt;/a&gt;');\n} else {\n    document.write('&lt;a href=\"#\"&gt;Other Browsers&lt;/a&gt;');\n}\n// --&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Not sure if this is the most simple way to do it but it got the job done.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is not going to be the popular answer, but its damn time somebody started posting it - stop with the browser-specific junk. You're only perpetuating future problems when new versions come out.</p>\n\n<p>If developers had taken the additional time (yes, it takes time and hard work. If you can't convince your clients you aren't trying hard enough) then we wouldn't have seen IE7 \"break the web\" and there would have been even less of a brouhaha with IE8.</p>\n\n<p>Yes, IE is less standards compliant than the others. But, Fx is also missing certain things that are a part of the standard too. They all suck when it comes to \"standards\". But they are all getting better. (At different rates, but they are all getting better.)</p>\n\n<p>Think first why you are trying to do this, and ask yourself if you really want to deal with this when the next browser version comes out and you have to re-jigger your browser detection and how you handle version X of browser Y.</p>\n\n<p>[/rant]</p>\n\n<p><strong>Edit:</strong> To answer some of the comments that point out the obvious fact that I didn't really answer the question, without more information this question makes me wonder if we're not trying to help a person decide to <a href=\"http://weblogs.asp.net/alex_papadimoulis/archive/2005/05/25/408925.aspx\">hammer in a nail with a glass bottle or a shoe...</a></p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>IE supports <a href=\"http://javascriptkit.com/javatutors/conditionalcompile.shtml\" rel=\"nofollow\">conditional compilation</a>, which you can use to easily deliver IE-only code without needing to perform user agent sniffing or feature detection.</p>\n\n<pre><code>/*@cc_on\n   /*@if (@_jscript)\n      alert(\"IE.\");\n   @else @*/\n      alert(\"Not IE.\");\n   /*@end\n@*/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>I don't think this is possible with conditional comment tags (which only work in internet explorer)</p>\n</blockquote>\n\n<p>Sure it is. You just have to leave the content for non-IE browsers in a position such that it's part of a conditional comment clause but not actually inside a &lt;!-- comment -->. Then browsers that don't know about conditional comments will see the content fine. This is known as a <a href=\"http://msdn.microsoft.com/en-us/library/ms537512%28VS.85%29.aspx#dlrevealed\">downlevel-revealed</a> conditional comment.</p>\n\n<p>Unfortunately the markup Microsoft give you there is invalid HTML (and not even well-formed XML). To make it pass muster you just need a few additional \u2018--\u2019s:</p>\n\n<pre><code>&lt;!--[if IE]&gt; This is IE! &lt;![endif]--&gt;\n&lt;!--[if !IE]&gt;&lt;!--&gt; This ain't IE! &lt;!--&lt;![endif]--&gt;\n</code></pre>\n\n<p>Although I have to echo AnonJr's non-answer, in that it's rare you should need a completely separate link/page for IE compared to other browsers. If you're doing something tricky like complex VML and ActiveX work in IE with Flash on other browsers I guess there could be a reason for it, but usually a few CSS and script hacks over the same basic page should suffice.</p>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I'm trying to find a way to display one link to an IE user and another link to all other browsers using javascript or conditional comments (or whatever it takes).</p>\n\n<p>Basically...</p>\n\n<pre><code>//pseudo code\n&lt;!--[if IE]&gt;\n    &lt;a href\"ie-only.html\"&gt;click here!&lt;/a&gt;\n&lt;!--[else]&gt;\n    &lt;a href\"all-other-browsers.html\"&gt;click here!&lt;/a&gt;\n&lt;![endif]--&gt;\n</code></pre>\n\n<p>I don't think this is possible with conditional comment tags (which only work in internet explorer). Plus I don't think there is an \"else\" statement.</p>\n\n<p>Is there a way to do this with javascript? Please help! Thanks!</p>\n",
            "last_activity_date": 1239656542,
            "question_id": 738831,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "conditional",
                "browser-detection"
            ],
            "title": "How to display browser specific HTML?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Using the browsers statusbar to display page info is in most cases a very bad idea, the browsers has not disabled it without reason.</p>\n\n<ol>\n<li>Nobody looks down there to find such info.</li>\n<li>People expect it to show <em>browser</em> information. When hovering links for example i want to know if i leave the site, if it's a mailto:-link, if it's a pdf etc. </li>\n</ol>\n\n<p>Instead use somthing like the orange(yellow?) thing stackoverflow have at the top of the page. \"Are you new to stackoverflow...\", \"New posts has been added...\" etc etc.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Have a look at the pages still changing this info. If it is being done by javascript you should be able to see the source.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There are two things you can do without Flash or Java:</p>\n\n<ol>\n<li><p>Fake it: display a <code>div</code> that looks like a status bar.</p>\n\n<pre><code>position: fixed;\nbottom: 0;\nleft: 0;\nborder: 1px solid silver;\nbackground: #aaaaaa;\n</code></pre></li>\n<li><p>Choose URLs so that you show desired information to the user when they hover over links.</p></li>\n</ol>\n\n<p>But please don't.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>It was once possible to change the message a browser shows in the status bar at the bottom of the window. This functionality has been disabled in newer browser versions due to abuse.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nwindow.status = 'hello world';\n&lt;/script&gt;\n</code></pre>\n\n<p>Is there still any way to achieve this (consider jQuery available)? I think I still see pages around that change the status message, but they might use Flash or Java to change the window status.</p>\n",
            "last_activity_date": 1386311859,
            "question_id": 536691,
            "score": 4,
            "tags": [
                "javascript",
                "browser"
            ],
            "title": "JavaScript: Change browser window status message"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Nope, sadly I believe this is a browser specific implementation that will open new links with target=\"_blank\" within the same browser.</p>\n\n<p>If you wanted to open it in the default browser, then you would need to interact with the OS, which JavaScript cannot do.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Create a shell and attempt to run a URL.</p>\n\n<p>This works for me (save as whatever.hta and execute it) on my system. Clicking on the button opens Google in Firefox:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;title&gt;HTA Test&lt;/title&gt;\n  &lt;hta:application applicationname=\"HTA Test\" scroll=\"yes\" singleinstance=\"yes\"&gt;\n  &lt;script type=\"text/javascript\"&gt;\n  function openURL()\n  {\n      var shell = new ActiveXObject(\"WScript.Shell\");\n      shell.run(\"http://www.google.com\");\n  }\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=\"button\" onclick=\"openURL()\" value=\"Open Google\"&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I'm working on an application that is implemented as an HTA. I have a series of links that I would like to have open in the system's default web browser. Using <code>&lt;a href=\"url\" target=\"_blank\"&gt;</code> opens the link in IE regardless of the default browser.</p>\n\n<p>Is there a way to use the default browser? Using JavaScript is an option.</p>\n",
            "last_activity_date": 1413574552,
            "question_id": 185423,
            "score": 4,
            "tags": [
                "javascript",
                "browser",
                "hta"
            ],
            "title": "How can I open a link in the default web browser from an HTA?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can iterate through the body element's <code>TextRange.text</code> property using <code>String.substring()</code> to compare against the TextRange for which you want the character offset.</p>\n\n<pre><code>function charOffset(textRange, parentTextRange)\n { var parentTxt = parentTextRange.text;\n   var txt       = textRange.text;\n   var parentLen = parentTxt.length;\n\n   for(int i=0; i &lt; parentLen ; ++i) \n    { if (parentTxt.substring(i, txt.length+i) == txt) \n       { var originalPosition = textRange.getBookmark();\n\n         //moves back one and searches backwards for same text\n         textRange.moveStart(\"character\",-1);\n         var foundOther = textRange.findText(textRange.text,-parentLen,1);\n\n         //if no others were found return offset\n         if (!foundOther) return i;\n\n         //returns to original position to try next offset\n         else textRange.moveToBookmark(originalPosition);\n       }\n    }\n\n   return -1;\n }\n</code></pre>\n\n<p>[<a href=\"http://msdn.microsoft.com/en-us/library/ms536422(VS.85).aspx\" rel=\"nofollow\">Reference for <code>findText()</code></a>]</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I use a method based on this caret position trick:</p>\n\n<pre><code>// Assume r is a range:\nvar offsetFromBody = Math.abs( r.moveEnd('character', -1000000) );\n</code></pre>\n\n<p>Since moveEnd returns the number of characters actually moved, offset should now be the offset from the start of the document. This works fine for testing primitive caret movement, but for expanded selections and for getting the exact node that holds the range anchor you'll need something more complex:</p>\n\n<pre><code>// where paramter r is a range:\nfunction getRangeOffsetIE( r ) {\n  var end = Math.abs( r.duplicate().moveEnd('character', -1000000) );\n  // find the anchor element's offset\n  var range = r.duplicate();\n  r.collapse( false );\n  var parentElm = range.parentElement();\n  var children = parentElm.getElementsByTagName('*');\n  for (var i = children.length - 1; i &gt;= 0; i--) {\n    range.moveToElementText( children[i] );\n    if ( range.inRange(r) ) {\n      parentElm = children[i];\n      break;\n    }\n  }\n  range.moveToElementText( parentElm );\n  return end - Math.abs( range.moveStart('character', -1000000) );\n}\n</code></pre>\n\n<p>This should return the correct caret text offset. Of course, if you know the target node already, or are able to provide a context, then you can skip the whole looping search mess.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I'd suggest <a href=\"http://code.google.com/p/ierange/\" rel=\"nofollow\">IERange</a>, or just the <code>TextRange</code>-to-<code>DOM Range</code> algorithm from it.</p>\n\n<h2>Update, 9 August 2011</h2>\n\n<p>I'd now suggest using my own <a href=\"http://code.google.com/p/rangy\" rel=\"nofollow\">Rangy</a> library, which is similar in idea to IERange but much more fully realized and supported.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I used a slightly simpler solution using the offset values of a textRange:</p>\n\n<pre><code>function getIECharOffset() {\n  var offset = 0;\n\n  // get the users selection - this handles empty selections\n  var userSelection = document.selection.createRange();\n\n  // get a selection from the contents of the parent element\n  var parentSelection = userSelection.parentElement().createTextRange();\n\n  // loop - moving the parent selection on a character at a time until the offsets match\n  while (!offsetEqual(parentSelection, userSelection)) {\n    parentSelection.move('character');\n    offset++;\n  }\n\n  // return the number of char you have moved through\n  return offset;\n}\n\nfunction offsetEqual(arg1, arg2) {\n  if (arg1.offsetLeft == arg2.offsetLeft &amp;&amp; arg1.offsetTop == arg2.offsetTop) {\n    return true;\n  }\n  return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>As far as I can tell there's no simple way of retrieving a character offset from a TextRange object in Internet Explorer. The W3C Range object has a node, and the offset into the text within that node. IE seems to just have pixel offsets. There are methods to create, extend and compare ranges, so it would be possible to write an algorithm to calculate the character offset, but I feel I must be missing something.</p>\n\n<p>So, what's the easiest way to calculate the character offset of the start of an Internet Explorer TextRange?</p>\n",
            "last_activity_date": 1312890145,
            "question_id": 164147,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "internet-explorer",
                "selection",
                "dhtml"
            ],
            "title": "Character offset in an Internet Explorer TextRange"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It appears that you'd have to overwrite some of the source code in order to be able to remove a model an add a new one since Mongoose makes sure that a model doesn't exist before it's willing to create a new one, which may or may not be more than you care to do:</p>\n\n<pre><code>if (this.models[name] &amp;&amp; !collection) {\n    // model exists but we are not subclassing with custom collection\n    if (schema instanceof Schema &amp;&amp; schema != this.models[name].schema) {\n      throw new MongooseError.OverwriteModelError(name);\n    }\n    return this.models[name];\n}\n</code></pre>\n\n<p>Line 587 <a href=\"https://github.com/LearnBoost/mongoose/blob/master/lib/connection.js\" rel=\"nofollow\">https://github.com/LearnBoost/mongoose/blob/master/lib/connection.js</a></p>\n\n<h2>Question Author's Update:</h2>\n\n<p>Thanks to this answer I discovered that you can access the models defined on the connection through <code>connection.models</code>. In my scenario I was testing a mongoose plugin with <a href=\"http://visionmedia.github.io/mocha/\" rel=\"nofollow\">Mocha</a> and and I wanted to clear the models between each unit test.</p>\n\n<pre><code>afterEach(function () {\n    mongoose.connection.models = {};\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>try this</p>\n\n<pre><code>delete mongoose.connection.models['Book'];\n</code></pre>\n\n<p>and then re-register/re-initialize it . it will work fine</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I don't mean remove a document or documents. I mean remove the model entirely so that mongoose is no longer aware of it. After declaring a model I can't figure out how to make mongoose forget that model so that it could be recreated.</p>\n\n<pre><code>mongoose.model('Book', bookSchema);\nmongoose.model('Book', bookSchema);\n</code></pre>\n\n<p>Currently the above throws an exception.</p>\n\n<blockquote>\n  <p>OverwriteModelError: Cannot overwrite 'Book' model once compiled.</p>\n</blockquote>\n\n<p>I'd like to be able do something like this...</p>\n\n<pre><code>mongoose.model('Book', bookSchema);\nmongoose.removeModel('Book');\nmongoose.model('Book', bookSchema);\n</code></pre>\n\n<p>...and not get any errors. Any ideas?</p>\n",
            "last_activity_date": 1409569243,
            "question_id": 19643126,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "mongoose",
                "mongoose-plugins"
            ],
            "title": "How do you remove a model from mongoose?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<ul>\n<li>Try to be as pure as you can when working with promises. Avoid functions that have side effects, i.e. do manipulate any variables outside of their own scope.</li>\n<li>Avoid passing callbacks to functions. Do only pass them to promise methods. You are doing this both with <code>r_client.smembers()</code> and when invoking your <code>getFromRedis</code> method</li>\n</ul>\n\n<p>I can see only one specific mistake that would keep your script from working:</p>\n\n<pre><code>return [];\n</code></pre>\n\n<p>does not have any effect from the callback. So, <code>ret</code> is never going to be resolved in this case. You would do <code>ret.resolve([]); return;</code> if at all. However, there are better solutions that let you use <code>return</code> again.</p>\n\n<p>To restructure your script, there are two points:</p>\n\n<ul>\n<li>Use the <a href=\"https://github.com/kriskowal/q/wiki/API-Reference#qnfcallfunc-args\" rel=\"nofollow\"><code>Q.nfcall</code> helper function</a> (and the like) to avoid dealing with callback-style APIs directly. Use <code>then</code> to transform its result then - synchronously returning the tree leaves or a promise for the descendant-getting computations.</li>\n<li>Use <a href=\"https://github.com/kriskowal/q/wiki/API-Reference#promiseall\" rel=\"nofollow\"><code>Q.all</code></a> first, and then transform its result. Don't add a handler to each <code>dependent</code>, but get the whole result and build the <code>construct</code> in one single step.</li>\n</ul>\n\n<p></p>\n\n<pre><code>function getFromRedis(nodeName){\n    return Q.ninvoke(r_client, \"smembers\", 'parents.' + nodeName).then(function(val) {\n        // this is our returned object\n        var constructedObject = {label: nodeName};\n        if (val) {\n            var dependents = val.map(function(par) {\n                // get a promise for the next level\n                return getFromRedis(nodeName+\".\"+par.toString());\n            });\n            return Q.all(dependents).then(function(dependentResults) {\n                 constructedObject.parents = dependentResults;\n                 return constructedObject;\n            });\n        } else { \n            return constructedObject; // without parents\n        }\n    });\n}\n\ngetFromRedis( 'greg' ).done(function(out) {\n    console.log('Final output: ' + JSON.stringify( out ));\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to use recursive calls to get data out of redis, stopping and returning when the members return null.</p>\n\n<p>So my data is added like this:</p>\n\n<pre><code>SADD parents.&lt;name&gt; &lt;parent1&gt; &lt;parent2&gt;\nSADD parents.&lt;parent1&gt; &lt;grandparent1&gt; &lt;grandparent2&gt;\n...\n</code></pre>\n\n<p>And the final data should look like:</p>\n\n<pre><code>[\n {\n     label: &lt;name&gt;,\n     parents: [\n         { label: &lt;parent1&gt;,\n           parents: [ {label: &lt;grandparent1&gt;}, {label: &lt;grandparent2&gt; }] },\n         { label: &lt;parent2&gt; }\n     ]\n }\n]\n</code></pre>\n\n<p>Here's the code I'm messing with (sort of cobbled together from different sources), but I have no idea what I'm doing.  Not sure if this code is even useful, I could be way off track.</p>\n\n<pre><code>var redis = require('node-redis');\nvar r_client = redis.createClient();\nvar Q = require('q');\n\n\nfunction getFromRedis(nodeName){\n        var ret = Q.defer();\n        r_client.smembers('parents.' + nodeName,function(err,val){\n                if (err) ret.reject(err);\n                else {\n                        var constructedObject={};  //this is our returned object\n                        var dependents=[];\n                        if (val)\n                        {\n                                for (var k in val){  //iterate the keys in val\n                                        constructedObject.name = val[k];\n\n                                        dependents.push(getFromRedis(val[k])\n                                        .then(function(subVal){\n                                                constructedObject[k]=subVal;\n                                                return ret.promise;\n                                        })\n                                        );\n                                }\n                        }\n                        else { return [] }\n\n                }\n                Q.all(dependents)\n                .then(function(){ret.resolve(constructedObject);},ret.reject.bind(ret));\n\n        });\n                return ret;\n}\n\ngetFromRedis( 'greg', function(out) {console.log('Final output: ' + JSON.stringify( out ))} );\n</code></pre>\n\n<p>I can look at the examples and see theoretically how it's supposed to work, but I can't get my mind around how it should work with the q implementation.  Any help would be greatly appreciated.</p>\n",
            "last_activity_date": 1379650377,
            "question_id": 18904745,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "recursion",
                "promise"
            ],
            "title": "Understanding promises in node.js for recursive function"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Nice question!</p>\n\n<p>You could get away with the <code>setTimeout</code> within a dev environment. But for production where you log these errors for reporting for instance, You will want to avoid <code>setTimeout</code> as it's non-deterministic. You could end up seeing errors that aren't really accurate, but occurred due to some order in which the <code>setTimeout</code> fired.</p>\n\n<p>You can do this by moving your checks to the first <code>then</code> of the promise, and then returning that <code>thenable</code> instead of deferred directly.</p>\n\n<p>I prefer to use <code>Ember.Deferred</code> instead of <code>Ember.RSVP.Promise</code>. <code>Deferred</code> is a layer over <code>RSVP</code> that has a nicer API. It avoids needing to nest the whole thing inside a callback to <code>Ember.RSVP.Promise</code>. <code>Ember.Deferred</code> provides <code>resolve</code> and <code>reject</code> as methods.</p>\n\n<pre><code>model: function(params) {\n  var promise = Ember.Deferred.create();\n  var successCallback = function(resp) {\n    promise.resolve(resp);\n  };\n\n  var errorCallback = function(err) {\n    promise.reject(err);\n  };\n\n  var thenable = promise.then(function(resp) {\n    if (resp.isError) {\n      throw new Error(resp.errorMessage);\n    } else {\n      return resp;\n    }\n  });\n\n  // some api that takes a callback\n  this.callApi(params, successCallback, errorCallback);\n\n  return thenable;\n},\n</code></pre>\n\n<p>Throwing an error at any point in the promise/API will automatically reject the promise. So you don't need to catch and rethrow anything.</p>\n\n<p>This allows for 3 different types of responses.</p>\n\n<p>successCallback with response data.</p>\n\n<pre><code> successCallback({data: 'foo'});\n</code></pre>\n\n<p>successCallback with error in response.</p>\n\n<pre><code> successCallback({isError: true, errorMessage: 'Response data is wrong'});\n</code></pre>\n\n<p>errorCallback with message.</p>\n\n<pre><code> errorCallback('Incorrect use of API');\n</code></pre>\n\n<p>See this <a href=\"http://jsbin.com/evadav/1/edit\" rel=\"nofollow\">jsbin</a> to try this out.</p>\n\n<p>You could clean this up a bit if the API that you call uses promises instead of callbacks. Then you can just chain the <code>thens</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>New answer --</p>\n\n<p>In this video panel discussion with ember core developers, at one point the developers all share one debugging tip:</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=L9OOMygo1HI\" rel=\"nofollow\">http://www.youtube.com/watch?v=L9OOMygo1HI</a></p>\n\n<p>Tom Dale specifically addresses the issue of swallowed exceptions inside promises and recommends use of the new Ember.RSVP.onerror feature for debugging errors inside promises which would have otherwise gone unreported because no rejection handler was attached.</p>\n\n<p>I think that is the correct answer to my question -- although I don't yet know how to use the RSVP.onerror callback (or in which ember releases its available) ...</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm using the RSVP library distributed inside Ember.js and I'm trying to figure out the correct pattern for reporting fatal errors inside a promise -- particularly I want to inform of something that's almost certainly the result of a programming error due to api misuse and I want to do it in a LOUD way.  I'm new to promises and javascript in general, hopefully this question makes sense</p>\n\n<p>Here's a simple example (in coffeescript):</p>\n\n<pre><code>doAsync = (arg, callback) -&gt;\n  throw new Error('you gave me a way bad arg, I fail for you!')\n\npromiseReturningApi = (data) -&gt;\n  return new Ember.RSVP.Promise (resolve, reject) -&gt;\n    callback = (err, resp) -&gt;\n      if err then reject(err)\n      else resolve(resp)\n    doAsync(data, callback)\n</code></pre>\n\n<p>Now lets say I've identified an error that there's no possible way to recover from which occurred inside doAsync -- I want to make sure this error gets reported even if the caller neglected to attach an error handler because it almost certainly only resulted because the caller invoked the api function in an incorrect way</p>\n\n<p>I came across the idea of using setTimeout within a rejection handler to ensure the error gets raised from <em>somewhere</em> even if the caller doesn't attach an error handler to the promise</p>\n\n<pre><code>failLoud = (err) -&gt;\n  if err.isProgrammerError\n    setTimeout () -&gt;\n      throw err\n  throw err\n\npromiseReturningApi = (data) -&gt;\n  promise = new Ember.RSVP.Promise (resolve, reject) -&gt;\n    callback = (err, resp) -&gt;\n      if(err) then reject(err)\n      else resolve(resp)\n    doAsync(data, callback)\n  return promise.then(null, failLoud)\n</code></pre>\n\n<p>Is it considered a reasonable practice to attach such a default error handler to a promise before returning it from my promiseReturningApi? This would allow me to force a stacktrace when the caller does something that can't possibly work -- even though the stacktrace would be a little odd it could make things a bit easier to get started with ...  </p>\n\n<p>Even though I called the example promise returning function an 'api' call -- I should add that I'm not writing framework code -- this is rather all within an application.  If doAsync were  a real-world function, then in my versio of the real-world its pretty likely to be coming from an external party with a new-to-me api -- so it seems pretty likely that I'll misuse it while I'm getting to know it...  Meaning I might want to make the pattern something like this</p>\n\n<pre><code>failLoud = (err) -&gt;\n  if err?.isProgrammerError\n    setTimeout () -&gt;\n      throw err\n  throw err\n\npromiseReturningApi = (data) -&gt;\n  promise = new Ember.RSVP.Promise (resolve, reject) -&gt;\n    callback = (err, resp) -&gt;\n      if(err) reject(err)\n      resolve(resp)\n    try\n      doAsync(data, callback)\n    catch err\n      err.isProgrammerError = true\n      throw err\n   return promise.then(null, failLoud)\n</code></pre>\n\n<p>I think what this is doing is forcing an exception to be thrown from <em>somewhere</em>  any time that my asynchronous function call invocation itself raises an exception -- such an exception would almost certainly be raised during the argument validation phase of the async call which is most commonly going to be the result of my application code passing in something which doesn't make any sense -- and I want to find out about that as soon as I can.  Does this seem like a reasonable pattern to follow to aid in debugging promises used in application code in this context?</p>\n",
            "last_activity_date": 1375316717,
            "question_id": 17866672,
            "score": 3,
            "tags": [
                "javascript",
                "ember.js",
                "promise",
                "rsvp.js"
            ],
            "title": "acceptable promise pattern for &#39;LOUD&#39; errors?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Maybe this?:</p>\n\n<pre><code>for (var property in window)\n{\n    if (window.hasOwnProperty(property))\n        console.log(property)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You would need to do the work for yourself. Read in all properties, on the first possible time you can. From that point on, you can compare the property list with your static one.</p>\n\n<pre><code>var globalProps = [ ];\n\nfunction readGlobalProps() {\n    globalProps = Object.getOwnPropertyNames( window );\n}\n\nfunction findNewEntries() {\n    var currentPropList = Object.getOwnPropertyNames( window );\n\n    return currentPropList.filter( findDuplicate );\n\n    function findDuplicate( propName ) {\n        return globalProps.indexOf( propName ) === -1;\n    }\n}\n</code></pre>\n\n<p>So now, we could go like</p>\n\n<pre><code>// on init\nreadGlobalProps();  // store current properties on global object\n</code></pre>\n\n<p>and later</p>\n\n<pre><code>window.foobar = 42;\n\nfindNewEntries(); // returns an array of new properties, in this case ['foobar']\n</code></pre>\n\n<hr>\n\n<p>Of course, the caveat here is, that you can only \"freeze\" the global property list at the time where your script is able to call it the earliest time.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You could also compare the window against a clean version of the window instead of trying to snapshot during runtime to compare against.  I ran this in console but, you could turn it into a function.</p>\n\n<pre><code>// make sure it doesn't count my own properties\n(function () {\n    var results, currentWindow,\n    // create an iframe and append to body to load a clean window object\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    document.body.appendChild(iframe);\n    // get the current list of properties on window\n    currentWindow = Object.getOwnPropertyNames(window);\n    // filter the list against the properties that exist in the clean window\n    results = currentWindow.filter(function(prop) {\n        return !iframe.contentWindow.hasOwnProperty(prop);\n    });\n    // log an array of properties that are different\n    console.log(results);\n    document.body.removeChild(iframe);\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there a way to find out all user defined window properties and variables (global variables) in javascript?</p>\n\n<p>I tried <code>console.log(window)</code> but the list is endless.</p>\n",
            "last_activity_date": 1372193256,
            "question_id": 17246309,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Get all user defined window properties?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Chrome automatically opens a URL in a new tab only if it's user generated action, limited to one tab per user action. In any other case, the URL will be opened in a new window (which, BTW, is blocked by default on Chrome).<br>\n<em>window.open</em> must be called within a callback which is triggered by a user action (e.g. onclick) for the page to open in a new tab instead of a window.</p>\n\n<p>In your example, you attempt to open N tabs upon user action. But only the first one is opened in a new tab (because it's a user generated action). Following that, any other URL will be opened in a new window.</p>\n\n<p>Similar question: <a href=\"http://stackoverflow.com/questions/11999837/force-window-open-to-create-new-tab-in-chrome\">force window.open() to create new tab in chrome</a>  (see answer by maclema)</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have a small bit of javascript intended to open two or more tabs. This works fine in FF and IE, but chrome opens the second one in a new window instead of tab. It isn't dependant on the url as I've tried it with two identical url's. First opens in tab, second one in new window.</p>\n\n<p>Here's my code snippet:</p>\n\n<pre><code>for(var i=0 ; i&lt;sites.length ;i++)\n{\n    window.open(sites[i].Url);\n}\n</code></pre>\n",
            "last_activity_date": 1369584194,
            "question_id": 16749907,
            "score": 3,
            "tags": [
                "javascript",
                "google-chrome",
                "window.open"
            ],
            "title": "window.open behaviour in chrome tabs/windows"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you are making the fetch call to your localhost which I'm guessing is run by node.js in the same directory as your backbone code, than it will most likely be on <code>http://localhost:3000</code> or something like that. Than this should be your model:</p>\n\n<pre><code>var model = Backbone.Model.extend({\n    url: '/item'\n});\n</code></pre>\n\n<p>And in your node.js you now have to accept that call like this:</p>\n\n<pre><code>app.get('/item', function(req, res){\n    res.send('some info here');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want everyone to be able to access the Node app, then try using </p>\n\n<pre><code>res.header('Access-Control-Allow-Origin', \"*\")\n</code></pre>\n\n<p>That will allow requests from any origin. The <a href=\"http://enable-cors.org/\">CORS enable</a> site has a lot of information on the different Access-Control-Allow headers and how to use them.</p>\n\n<p>I you are using Chrome, please look at <a href=\"https://code.google.com/p/chromium/issues/detail?id=67743\">this</a> bug bug regarding localhost and Access-Control-Allow-Origin. There is another <a href=\"http://stackoverflow.com/questions/10883211/deadly-cors-when-http-localhost-is-the-origin\">StackOverflow question here</a> that details the issue.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>There are 2 calls that need to set the correct headers.  Initially there is a preflight check so you need something like...</p>\n\n<pre><code>app.get('/item', item.list);\napp.options('/item', item.preflight);\n</code></pre>\n\n<p>and then have the following functions...</p>\n\n<pre><code>exports.list = function (req, res) {\nItems.allItems(function (err, items) {\n    ...\n        res.header('Access-Control-Allow-Origin', \"*\");     // TODO - Make this more secure!!\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST');\n        res.header('Access-Control-Allow-Headers', 'Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept');\n        res.send(items);\n      }\n   );\n};\n</code></pre>\n\n<p>and for the pre-flight checks</p>\n\n<pre><code>exports.preflight = function (req, res) {\nItems.allItems(function (err, items) {\n        res.header('Access-Control-Allow-Origin', \"*\");     // TODO - Make this more secure!!\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST');\n        res.header('Access-Control-Allow-Headers', 'Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept');\n        res.send(200);\n    }\n  );\n};\n</code></pre>\n\n<p>You can consolidate the res.header() code into a single function if you want.</p>\n\n<p>Also as stated above, be careful of using \n    res.header('Access-Control-Allow-Origin', \"*\") \nthis means anyone can access your site!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>By localhost you have to use the <code>null</code> origin. I recommend you to create a list of allowed hosts and check the request's <code>Host</code> header. If it is contained by the list, then by localhost send back an </p>\n\n<pre><code>res.header('Access-Control-Allow-Origin', \"null\");\n</code></pre>\n\n<p>by any other domain an</p>\n\n<pre><code>res.header('Access-Control-Allow-Origin', hostSentByTheRequestHeader);\n</code></pre>\n\n<p>If it is not contained by the list, then send back the servers host name, so the browser will hide the response by those requests.</p>\n\n<p>This is much more secure, because by allow origin * and allow credentials everybody will be capable of for example stealing profile data of a logged in user, etc...</p>\n\n<p>So to summarize something like this:</p>\n\n<pre><code>if (reqHost in allowedHosts)\n    if (reqHost == \"http://localhost\")\n        res.header('Access-Control-Allow-Origin', \"null\");\n    else\n        res.header('Access-Control-Allow-Origin', reqHost);\nelse\n    res.header('Access-Control-Allow-Origin', serverHost);\n</code></pre>\n\n<p>is the most secure solution if you want to allow multiple other domains to access your page. (I guess you can figure out how the get the host request header and the server host by node.js.)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to do a fetch from backbone.js to my node.js server. However, I get the following error in the console:</p>\n\n<p><code>Origin http://localhost is not allowed by Access-Control-Allow-Origin.</code></p>\n\n<p>I added the following to my node.js server:</p>\n\n<pre><code>var allowCrossDomain = function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', \"http://localhost\");\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\n    res.header('Access-Control-Allow-Headers', 'Content-Type');\n};\n\napp.configure(function() {\n    app.use(allowCrossDomain);\n});\n</code></pre>\n\n<p>But it's still returning the same error. However, even if this did work, it doesn't seem like the ideal solution, as I would like users from all over to be able to send requests.</p>\n",
            "last_activity_date": 1408720894,
            "question_id": 16046364,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "backbone.js",
                "cors"
            ],
            "title": "Origin http://localhost is not allowed by Access-Control-Allow-Origin"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I would rather do it with something like this:</p>\n\n<p><a href=\"http://jsfiddle.net/YC58s/\" rel=\"nofollow\">http://jsfiddle.net/YC58s/</a></p>\n\n<pre><code>generate = function(length)\n{\n    var arr = [];\n    var n;\n    for(var i=0; i&lt;length; i++)\n    {\n        do\n            n = Math.floor(Math.random()*20+1);\n        while(arr.indexOf(n) !== -1)\n\n       arr[i] = n;\n    }\n\n    return arr;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<blockquote>\n  <p>once it actually hits a number that's the same</p>\n</blockquote>\n\n<p>It never should. Such algorithms <a href=\"http://thedailywtf.com/Articles/The-Quest-for-the-Unique-ID.aspx\">take longer the longer they run</a>. You should take a different approach:</p>\n\n<p>Put all possible numbers into a pool. Once you draw a number, remove it from the pool. Just like it's done in real life.</p>\n\n<pre><code>var pool = [1, 2, 3, 4, 5];\nvar getNumber = function () {\n    if (pool.length == 0) {\n        throw \"No numbers left\";\n    }\n    var index = Math.floor(pool.length * Math.random());\n    var drawn = pool.splice(index, 1);\n    return drawn[0];\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>window.onload = unRanNumGen(20, 1, 12);\n    //above, we need 12 random numbers between 20 (included) and 1(included)\n\nfunction unRanNumGen(max, min, limit){\n\n    //max = maximum number [inclued] (range of numbers)\n    //min = minimum number [included] (range of numbers)\n    //limit = number of random numbers (how many numbers do you want?)\n\n    var pool = [genRan(max, min)];\n\n    for(i=0; i&lt;limit; i++){\n        for(n = 0; n &lt;i; n++){\n\n            if(pool[n] !== genRan(max, min)){\n            pool.push(genRan(max, min));\n\n            break;\n            }\n        }\n\n    }\n\nfunction genRan(max, min){\n    var genRan = Math.floor(Math.random() * (max - min) + min);\n    return genRan;\n}\n\nalert(pool.join('\\n')); //to display the array of random numbers\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I'm trying to make a bingo game for fun. I've looked in a lot of places for a unique generator but I can't seem to find one. I've tried to make my own,but once it actually hits a number that's the same it does an infinite loop. I've tried a simple code that in theory should work but for some reason things pass through. What can I do!?</p>\n\n<pre><code>var bc = [];\nfor (var i = 0; i &lt; 5; i++) {\n  var r = Math.floor(Math.random()*20+1) + 0;\n  if(!(r in bc)){\n    bc.push(r);     \n    }\n    else\n    {\n    i--;\n    }\n}\n____________________________________________\n____________________________________________\n____________________________________________\nb1=0;\nb2=0;\nb3=0;\nb4=0;\nb5=0;\nvar bc = [b1,b2,b3,b4,b5]\nvar bnc = function(){\n    var n = Math.floor(Math.random() * 5+1)+0;\n    var n2 = Math.floor(Math.random() * 5+1)+0;\n    b1 = n;\n    var a1 = true;\n    var as = false;\n    while(a1){\n        var c = n;\n        if(c===b1||c===0 ||as!==false){\n        c = n2;\n        as=true;\n        }\n        if(c===b1||c===0&amp;&amp;as===true){\n        c = n;\n        as=false;\n        }\n            if(c!=b1){\n            b2 = c;\n            a1 = false;\n            a2 = true;\n        }\n    }\n};\nbnc();\nconsole.log(\"new1\");\nconsole.log(b1,b2,b3,b4,b5);\n//_______________________________________\nvar bnc2 = function(){\n    var n = Math.floor(Math.random() * 5+1)+0;\n    var n2 = Math.floor(Math.random() * 5+1)+0;\n    var a1 = true;\n    var as = false;\n    while(a1){\n        var c = n;\n        if(c===b1||c===b2||c===0&amp;&amp;as===false){\n        c = n2;\n        as=true;\n        }\n        if(c===b1||c===b2||c===0&amp;&amp;as===true){\n        c = n;\n        as=false;\n        }\n        if(c!=b1&amp;&amp;c!=b2){\n            b3 = c;\n            console.log(\"made it 1\");\n            a1 = false;\n        }\n    }\n};\nbnc2();\nconsole.log(\"new2\");\nconsole.log(b1,b2,b3,b4,b5);\n</code></pre>\n",
            "last_activity_date": 1406432931,
            "question_id": 15584716,
            "score": 3,
            "tags": [
                "javascript",
                "random",
                "generator"
            ],
            "title": "Unique Random Number Generator Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Without modifying your regex, you can set it to start matching at the beginning of the second half of the match after each match using <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp/exec\"><code>.exec</code></a> and manipulating the regex object's <code>lastIndex</code> property.</p>\n\n<pre><code>var string = 'A1B1Y:A1B2Y:A1B3Y:A1B4Z:A1B5Y:A1B6Y:A1B7Y:A1B8Z:A1B9Y:A1B10Y:A1B11Y';\nvar reg = /A[0-9]+B[0-9]+Y:A[0-9]+B[0-9]+Y/g;\nvar matches = [], found;\nwhile (found = reg.exec(string)) {\n    matches.push(found[0]);\n    reg.lastIndex -= found[0].split(':')[1].length;\n}\n\nconsole.log(matches);\n//[\"A1B1Y:A1B2Y\", \"A1B2Y:A1B3Y\", \"A1B5Y:A1B6Y\", \"A1B6Y:A1B7Y\", \"A1B9Y:A1B10Y\", \"A1B10Y:A1B11Y\"]\n</code></pre>\n\n<p><a href=\"http://jsbin.com/upesek/5/edit\"><strong>Demo</strong></a></p>\n\n<hr>\n\n<p>As per Bergi's comment, you can also get the index of the last match and increment it by 1 so it instead of starting to match from the second half of the match onwards, it will start attempting to match from the second character of each match onwards:</p>\n\n<pre><code>reg.lastIndex = found.index+1;\n</code></pre>\n\n<p><a href=\"http://jsbin.com/upesek/7/edit\"><strong>Demo</strong></a></p>\n\n<p>The final outcome is the same. Though, Bergi's update has a little less code and performs slightly <a href=\"http://jsperf.com/setting-lastindex-inside-exec-performance\">faster</a>. <code>=]</code></p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>You cannot get the direct result from <code>match</code>, but it is possible to produce the result via <code>RegExp.exec</code> and with some modification to the regex:</p>\n\n<pre><code>var regex = /A[0-9]+B[0-9]+Y(?=(:A[0-9]+B[0-9]+Y))/g;\nvar input = 'A1B1Y:A1B2Y:A1B3Y:A1B4Z:A1B5Y:A1B6Y:A1B7Y:A1B8Z:A1B9Y:A1B10Y:A1B11Y'\nvar arr;\nvar results = [];\n\nwhile ((arr = regex.exec(input)) !== null) {\n    results.push(arr[0] + arr[1]);\n}\n</code></pre>\n\n<p>I used <em>zero-width</em> positive look-ahead <code>(?=pattern)</code> in order not to consume the text, so that the overlapping portion can be rematched.</p>\n\n<p>Actually, it is possible to abuse <code>replace</code> method to do achieve the same result:</p>\n\n<pre><code>var input = 'A1B1Y:A1B2Y:A1B3Y:A1B4Z:A1B5Y:A1B6Y:A1B7Y:A1B8Z:A1B9Y:A1B10Y:A1B11Y'\nvar results = [];\n\ninput.replace(/A[0-9]+B[0-9]+Y(?=(:A[0-9]+B[0-9]+Y))/g, function ($0, $1) {\n    results.push($0 + $1);\n    return '';\n});\n</code></pre>\n\n<p>However, since it is <code>replace</code>, it does extra useless replacement work.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Unfortunately, it's not quite as simple as a single <code>string.match</code>.</p>\n\n<p>The reason is that you want overlapping matches, which the <code>/g</code> flag doesn't give you.</p>\n\n<p>You could use lookahead:</p>\n\n<pre><code>var re = /A\\d+B\\d+Y(?=:A\\d+B\\d+Y)/g;\n</code></pre>\n\n<p>But now you get:</p>\n\n<pre><code>string.match(re); // [\"A1B1Y\", \"A1B2Y\", \"A1B5Y\", \"A1B6Y\", \"A1B9Y\", \"A1B10Y\"]\n</code></pre>\n\n<p>The reason is that lookahead is zero-width, meaning that it just says whether the pattern comes after what you're trying to match or not; it doesn't include it in the match.</p>\n\n<p>You could use <code>exec</code> to try and grab what you want. If a regex has the <code>/g</code> flag, you can run <code>exec</code> repeatedly to get all the matches:</p>\n\n<pre><code>// using re from above to get the overlapping matches\n\nvar m;\nvar matches = [];\nvar re2 = /A\\d+B\\d+Y:A\\d+B\\d+Y/g; // make another regex to get what we need\n\nwhile ((m = re.exec(string)) !== null) {\n  // m is a match object, which has the index of the current match\n  matches.push(string.substring(m.index).match(re2)[0]);\n}\n\nmatches == [\n  \"A1B1Y:A1B2Y\", \n  \"A1B2Y:A1B3Y\", \n  \"A1B5Y:A1B6Y\", \n  \"A1B6Y:A1B7Y\", \n  \"A1B9Y:A1B10Y\", \n  \"A1B10Y:A1B11Y\"\n];\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/jWzfM/\" rel=\"nofollow\">Here's a fiddle of this in action</a>. Open up the console to see the results</p>\n\n<p>Alternatively, you could split the original string on <code>:</code>, then loop through the resulting array, pulling out the the ones that match when <code>array[i]</code> and <code>array[i+1]</code> both match like you want.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "\n\n<p>I'm trying to obtain <em>all possible matches</em> from a string using regex with javascript. It appears that my method of doing this is not matching parts of the string that have already been matched.</p>\n\n<p>Variables:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var string = 'A1B1Y:A1B2Y:A1B3Y:A1B4Z:A1B5Y:A1B6Y:A1B7Y:A1B8Z:A1B9Y:A1B10Y:A1B11Y';\n\nvar reg = /A[0-9]+B[0-9]+Y:A[0-9]+B[0-9]+Y/g;\n</code></pre>\n\n<p>Code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var match = string.match(reg);\n</code></pre>\n\n<p>All matched results I get:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>A1B1Y:A1B2Y\nA1B5Y:A1B6Y\nA1B9Y:A1B10Y\n</code></pre>\n\n<p>Matched results I want:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>A1B1Y:A1B2Y\nA1B2Y:A1B3Y\nA1B5Y:A1B6Y\nA1B6Y:A1B7Y\nA1B9Y:A1B10Y\nA1B10Y:A1B11Y\n</code></pre>\n\n<p>In my head, I want <code>A1B1Y:A1B2Y</code> to be a match along with <code>A1B2Y:A1B3Y</code>, even though <code>A1B2Y</code> in the string will need to be part of two matches.</p>\n",
            "last_activity_date": 1360837120,
            "question_id": 14863026,
            "score": 3,
            "tags": [
                "javascript",
                "regex",
                "string",
                "match"
            ],
            "title": "Javascript Regex - Find all possible matches, even in already captured matches"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>JavaScript relational comparison operator type coercion is defined in the <a href=\"http://es5.github.com/\">JavaScript specification</a>, specifically in sections <a href=\"http://es5.github.com/#x11.8\">11.8 to 11.8.5</a> which describe the operators, and sections <a href=\"http://es5.github.com/#x9.1\">9.1 (ToPrimitive)</a> and <a href=\"http://es5.github.com/#x9.3\">9.3 (ToNumber)</a> which describe the process of coercing the operands.</p>\n\n<p>In short, the 4 comparison operators (<code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code>) do their best to convert each operand to a number, then compare the numbers. The exception is when both operands are strings, in which case they are compared alphabetically.</p>\n\n<p>Specifically,</p>\n\n<ol>\n<li><p>If an argument <code>o</code> is an object instead of a primitive, <a href=\"http://es5.github.com/#x8.12.8\">try to convert it to a primitive value</a> by calling <code>o.valueOf()</code> or - if <code>o.valueOf</code> wasn't defined or didn't return a primitive type when called - by calling <code>o.toString()</code></p></li>\n<li><p>If both arguments are Strings, compare them according to their <a href=\"http://en.wikipedia.org/wiki/Lexicographical_order\">lexicographical ordering</a>. For example, this means <code>\"a\" &lt; \"b\"</code> and <code>\"a\" &lt; \"aa\"</code> both return true.</p></li>\n<li><p>Otherwise, <a href=\"http://es5.github.com/#x9.3\">convert each primitive to a number</a>, which means:</p>\n\n<ul>\n<li><code>undefined</code> -> <code>NaN</code></li>\n<li><code>Null</code> -> +0</li>\n<li><code>Boolean</code> primitive type -> <code>1</code> if <code>true</code>, <code>+0</code> if <code>false</code></li>\n<li><code>String</code> -> <a href=\"http://es5.github.com/#x9.3.1\">try to parse a number</a> from the string</li>\n</ul></li>\n<li><p>Then compare each item as you'd expect for the operator, with the caveat that any comparison involving <code>NaN</code> evaluates to <code>false</code>.</p></li>\n</ol>\n\n<p>So, this means the following:</p>\n\n<pre><code>console.log(true &gt; null);           //prints true\nconsole.log(true &gt; false);          //prints true\nconsole.log(\"1000.0\" &gt; 999);        //prints true\nconsole.log(\"  1000\\t\\n\" &lt; 1001);   //prints true\n\nvar oVal1 = { valueOf: function() { return 1; } };\nvar oVal0 = { toString: function() { return \"0\"; } };\n\nconsole.log(oVal1 &gt; null);         //prints true\nconsole.log(oVal0 &lt; true);         //prints true\nconsole.log(oVal0 &lt; oVal1);        //prints true\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>What rules apply for the JavaScript relational comparison operators when the operands are of different types?</p>\n\n<p>For example, how is <code>true &gt; null</code> evaluated? I can type this into my developer console and it gives the result <code>true</code>, but why?</p>\n\n<p>I searched for a bit, but didn't find any blog posts explaining this, although there are plenty explaining type coercion for == and === comparison operators.</p>\n",
            "last_activity_date": 1361451459,
            "question_id": 14687876,
            "score": 3,
            "tags": [
                "javascript",
                "type-conversion"
            ],
            "title": "How do the JavaScript relational comparison operators coerce types?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>A browser extension should be fine. A standalone application would need to utilize a full-fledged browser, which is cumbersome.</p>\n\n<p>Only with a browser extension (in contrast to a bookmarklet) you would have the permission to save the results directly to the filesystem. You can add the \"Annotate\" button to the browser (G)UI as well.</p>\n\n<p>However, storing thousands of HTML files on your harddisk might not be your aim. Instead, you could set up a simple database server to which you post the annotation results. A small bookmarklet with some ajax code would be enough on the clientside then.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A chrome extension can automate this functionality, you can further extend this skeleton functionality for all possibilities.</p>\n\n<p>The following skeleton adds a <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/contextmenu\">context menu</a> for right click event of mouse for selection event<sup>1</sup> </p>\n\n<p>A Menu is added to chrome browser and is activated when a selection is made as shown in this screen shot</p>\n\n<h2>Context Menu Appearance after selection of text</h2>\n\n<p><img src=\"http://i.stack.imgur.com/UNcmX.png\" alt=\"enter image description here\"></p>\n\n<p><sup><strong>1</strong></sup>- <strong>Selection context event fires when a selection of text is done by mouse click</strong></p>\n\n<h1>Demonstration</h1>\n\n<p>Look at <a href=\"http://jsfiddle.net/_Sud/2m8Wx/\">jsfiddle</a>, after installation of chrome extension it annotates with user-defined tags </p>\n\n<h3>HTML Code Before</h3>\n\n<p><img src=\"http://i.stack.imgur.com/tqSEF.png\" alt=\"enter image description here\"></p>\n\n<h3>HTML Code After Selection</h3>\n\n<p>Select a <code>&lt;li&gt;</code> text from output console of jsfiddle through context menu added to chrome browser,you can see DOM is also changed!</p>\n\n<p><img src=\"http://i.stack.imgur.com/67bv8.png\" alt=\"enter image description here\"></p>\n\n<h1>Code Reference</h1>\n\n<h3>manifest.json</h3>\n\n<p>manifest file binds <code>content script(s)</code> and <code>background page(s)</code> to extension.</p>\n\n<pre><code>{\n    \"name\": \"Annotation Tool\",\n    \"description\": \"http://stackoverflow.com/questions/14244498/web-page-source-annotation-tool\",\n    \"version\": \"1\",\n    \"manifest_version\": 2,\n    \"content_scripts\": [\n        {\n            \"matches\": [\n                \"&lt;all_urls&gt;\"\n            ],\n            \"js\": [\n                \"myscript.js\"\n            ],\n            \"all_frames\": true\n        }\n    ],\n    \"permissions\": [\n        \"contextMenus\",\n        \"&lt;all_urls&gt;\",\n        \"tabs\"\n    ],\n    \"background\": {\n        \"scripts\": [\n            \"background.js\"\n        ]\n    },\n    \"icons\": {\n        \"16\": \"screen.png\",\n        \"48\": \"screen.png\",\n        \"128\": \"screen.png\"\n    }\n}\n</code></pre>\n\n<h3>background.js</h3>\n\n<p>Create(s) Context menu and binds it to browser and activates context menu execution through message passing.</p>\n\n<pre><code>var _selection_univ = chrome.contextMenus.create({\n    \"title\": \"Add &lt;univ&gt; tag for %s \",\n    \"id\": \"_selection_univ\",\n    \"onclick\": reportclick,\n    \"contexts\": [\"selection\"]\n}, function () {\n    console.log(\"Context Menu 2 Created\");\n});\nvar _selection_address = chrome.contextMenus.create({\n    \"title\": \"Add &lt;address&gt; tag for %s \",\n    \"id\": \"_selection_address\",\n    \"onclick\": reportclick,\n    \"contexts\": [\"selection\"]\n}, function () {\n    console.log(\"Context Menu 2 Created\");\n});\n//Add number of variables here for your functionality\nfunction reportclick(info, tab) {\n    switch (info.menuItemId) {\n        case \"_selection_univ\":\n            chrome.tabs.sendMessage(tab.id, \"univ\");//Notify Content Script for univ\n            break;\n        case \"_selection_address\":\n            chrome.tabs.sendMessage(tab.id, \"address\");//Notify Content Script for address\n            break;\n        default:\n            console.log(\"Handle default case..\");\n    }\n}\n</code></pre>\n\n<h3>myscript.js</h3>\n\n<pre><code>//Handle DOM Changes here\nchrome.extension.onMessage.addListener(function (message, sender, response) {\n    switch (message) {\n        //Hanlde [univ] tag \n        case \"univ\":\n            if (document.getSelection().baseNode != null) document.getSelection().baseNode.parentNode.innerHTML = \"[univ]\" + document.getSelection().baseNode.parentNode.innerHTML + \"[/univ]\";\n            break;\n        //Hanlde [address] tag  \n        case \"address\":\n            if (document.getSelection().baseNode != null) document.getSelection().baseNode.parentNode.innerHTML = \"[address]\" + document.getSelection().baseNode.parentNode.innerHTML + \"[/address]\";\n            break;\n        default:\n            console.log(\"Handle default case..\");\n    }\n});\n</code></pre>\n\n<h1>Further Extension</h1>\n\n<p>If you want to further add few more context menu(s) </p>\n\n<p>1) create a variable for context menu as shown here in <code>background.js</code> </p>\n\n<pre><code>var _selection_Some_Tag = chrome.contextMenus.create({\n    \"title\": \"Add [SOME TAG] tag for %s \",\n    \"id\": \"_selection_univ\",\n    \"onclick\": reportclick,\n    \"contexts\": [\"selection\"]\n}, function () {\n    console.log(\"Context Menu for Some Tag Created\");//In Call Back\n});\n</code></pre>\n\n<p>2) add a case for switch in background page as shown here</p>\n\n<pre><code>case \"_selection_your_case\":\n    chrome.tabs.sendMessage(tab.id, \"_your_tag_content\"); //Notify Content Script for address\n    break;\n</code></pre>\n\n<p>3) handle your custom tag in content scripts by adding code as shown here</p>\n\n<pre><code>//Hanlde [your custom] tag \ncase \"univ\":\n    if (document.getSelection().baseNode != null) document.getSelection().baseNode.parentNode.innerHTML = \"[your tag]\" + document.getSelection().baseNode.parentNode.innerHTML + \"[/your tag]\";\n    break;\n</code></pre>\n\n<h1>Testing and Loading Extension</h1>\n\n<p>Check <a href=\"https://developer.chrome.com/extensions/getstarted.html\">How to Load an Extension</a> for testing and extending this script.</p>\n\n<h1>References</h1>\n\n<ul>\n<li><a href=\"https://developer.chrome.com/extensions/getstarted.html\">Chrome Extension</a>.</li>\n<li><a href=\"https://developer.chrome.com/extensions/background_pages.html\">Background Page</a></li>\n<li><a href=\"https://developer.chrome.com/extensions/content_scripts.html\">Content Scripts</a></li>\n<li><a href=\"https://developer.chrome.com/extensions/contextMenus.html\">Context Menu</a></li>\n<li><a href=\"https://developer.chrome.com/extensions/messaging.html\">Message Passing</a></li>\n<li><a href=\"https://developer.chrome.com/extensions/extension.html\">Extension API</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/DOM/Selection\">DOM Selection</a></li>\n</ul>\n\n<h1>EDIT 1</h1>\n\n<p>You can use following code of chrome extension for </p>\n\n<ul>\n<li><strong>Tool Bar Instead of Context Menu</strong> </li>\n<li><strong>Replacing only selected text</strong></li>\n<li><strong>Saving File to Sand Boxed Location</strong></li>\n</ul>\n\n<p>To use this code use any of your fav icon(s) and put them in chrome directory for every tag <code>[univ]</code> and use corresponding names in <code>css file</code> here </p>\n\n<blockquote>\n  <p>background-image: url(chrome-extension://<strong>MSG_@@extension_id</strong>/YOUR_ICON_NAME.png);</p>\n</blockquote>\n\n<h3>manifest.json</h3>\n\n<p>Registering <code>css and java script</code> for <code>annotation tool</code>.</p>\n\n<pre><code>{\n    \"name\": \"Annotation Tool\",\n    \"description\": \"http://stackoverflow.com/questions/14244498/web-page-source-annotation-tool\",\n    \"version\": \"1\",\n    \"manifest_version\": 2,\n    \"content_scripts\": [\n        {\n            \"matches\": [\n                \"&lt;all_urls&gt;\"\n            ],\n            \"css\": [\n                \"myscript.css\"\n            ],\n            \"js\": [\n                \"jquery.js\",\n                \"myscript.js\"\n            ],\n            \"all_frames\": true\n        }\n    ],\n    \"permissions\": [\n        \"contextMenus\",\n        \"&lt;all_urls&gt;\",\n        \"tabs\"\n    ],\n    \"icons\": {\n        \"16\": \"screen.png\",\n        \"48\": \"screen.png\",\n        \"128\": \"screen.png\"\n    },\n    \"web_accessible_resources\": [\n        \"icon1.png\",\n        \"icon2.png\"\n    ]\n}\n</code></pre>\n\n<h3>myscript.css</h3>\n\n<p>Binding Icons here.</p>\n\n<pre><code>#root #univ {\n    display: inline-block;\n    z-index: 100000;\n    height: 22px;\n    width: 26px;\n    background-image: url(chrome-extension://__MSG_@@extension_id__/icon1.png);\n}\n#root #addr {\n    display: inline-block;\n    z-index: 100000;\n    height: 22px;\n    width: 26px;\n    background-image: url(chrome-extension://__MSG_@@extension_id__/icon2.png);\n}\n</code></pre>\n\n<h3>myscript.js</h3>\n\n<p>Code for updating selected text with custom tags.</p>\n\n<pre><code>//Intialize counters to default values\nclicking = false;\nselecting = false;\n\n//Set the toolbar to some invalid position so it will not appear unless a selection is made\nvar currentMousePos = {\n    x: -100,\n    y: -100\n};\n\n$(document).mousedown(function () {\n    //Click is started\n    clicking = true;\n});\n\n//Tool bar to add\n$('body').append(\"&lt;div id='root' style='position: absolute; left:\" + currentMousePos.x + \"px; top:\" + currentMousePos.y + \"px; display: block;'&gt;&lt;a id='univ' href='javascript:void(0);'&gt;&amp;nbsp;&lt;/a&gt;&lt;a id='addr' href='javascript:void(0);' &gt;&amp;nbsp;&lt;/a&gt;&lt;/div&gt;\");\n\n\n$(document).mouseup(function (event) {\n    if (selecting) {\n        //He is selecting text\n        $(\"#root\").attr(\"style\", \"position: absolute; left:\" + currentMousePos.x + \"px; top:\" + currentMousePos.y + \"px; display: block;\");\n    } else {\n        //He just clicked\n        $(\"#root\").attr(\"style\", \"display: none;\");\n    }\n    //Reset counters\n    clicking = false;\n    selecting = false;\n});\n\n$(document).mousemove(function () {\n    if (clicking) {\n        //He did not simply click , but he is selecting some text\n        selecting = true;\n        //Track current position to put toolbar\n        currentMousePos.x = event.pageX;\n        currentMousePos.y = event.pageY;\n    }\n});\n\n$(\"div #addr\").click(function () {\n    //Get Selected text\n    var selection = document.getSelection();\n    //Add your tags and prepare replacing content\n    var html = \"[addr]\" + selection + \"[/addr]\";\n    if (selection.getRangeAt &amp;&amp; selection.rangeCount) {\n        //Chrome supports only one range fire fox supports multiple ranges\n        range = document.getSelection().getRangeAt(0);\n        //remove selection\n        range.deleteContents();\n        //Create a node\n        node = range.createContextualFragment(html);\n        //Add the custom node\n        range.insertNode(node);\n    }\n});\n\n$(\"div #univ\").click(function () {\n    //Get Selected text\n    var selection = document.getSelection();\n    //Add your tags and prepare replacing content\n    var html = \"[univ]\" + selection + \"[/univ]\";\n    if (selection.getRangeAt &amp;&amp; selection.rangeCount) {\n        //Chrome supports only one range fire fox supports multiple ranges\n        range = document.getSelection().getRangeAt(0);\n        //remove selection\n        range.deleteContents();\n        //Create a node\n        node = range.createContextualFragment(html);\n        //Add the custom node\n        range.insertNode(node);\n    }\n});\n</code></pre>\n\n<h1>Output1</h1>\n\n<p>Now You can replace any part of text</p>\n\n<p><img src=\"http://i.stack.imgur.com/WnACI.png\" alt=\"enter image description here\"></p>\n\n<h1>Output 2</h1>\n\n<p>Replace any web page</p>\n\n<p><img src=\"http://i.stack.imgur.com/VDPQY.png\" alt=\"enter image description here\"></p>\n\n<h1>Saving file to chosen Location</h1>\n\n<p>It is possible to download the page using <a href=\"http://developer.chrome.com/trunk/extensions/pageCapture.html\">chrome.pageCapture API</a>, but to a <code>sand boxed</code> location.</p>\n\n<h2>Sample Implementation on using pageCapture API</h2>\n\n<h3>manifest.json</h3>\n\n<pre><code>{\n    \"name\": \"Page Capture Demo\",\n    \"description\": \"This demos Page Capture MHTML Functionality\",\n    \"permissions\": [\n        \"pageCapture\"\n    ],\n    \"browser_action\": {\n        \"default_icon\": \"screen.png\",\n        \"default_popup\": \"popup.html\"\n    },\n    \"manifest_version\": 2,\n    \"version\": \"1\"\n}\n</code></pre>\n\n<h3>popup.html</h3>\n\n<pre><code>&lt;html&gt;\n\n    &lt;head&gt;\n        &lt;script src=\"popup.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"pushhere\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<h3>popup.js</h3>\n\n<pre><code>function capture() {\n    chrome.tabs.query({\n        \"active\": true,\n        \"currentWindow\": true,\n        \"status\": \"complete\"\n    }, function (tabs) {\n        chrome.pageCapture.saveAsMHTML({\n            \"tabId\": tabs[0].id\n        }, function (data) {\n            var reader = new FileReader();\n            reader.onload = function (eventt) {\n                console.log(eventt.target.result);\n                document.getElementById('pushhere').innerHTML = eventt.target.result;\n                //window.open(eventt.target.result);\n            };\n            reader.readAsText(data);\n            //window.open(data);\n        });\n    });\n}\nwindow.onload = capture;\n</code></pre>\n\n<p>Test this code using steps above by picking your icons of choice, hope this helps :)</p>\n\n<h1>Edit 2</h1>\n\n<ul>\n<li>Accessing contents of HTML File(s) <code>images</code>, <code>js</code> and <code>css</code> files is possible from chrome extension</li>\n<li>Accessing Local Disk System(Reading and storing data to them) is not supported from chrome extensions(for security reasons)</li>\n<li>You can save files to sand-boxed location which  however are not accessible for general access.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<pre><code>&lt;ul class=\"contact\"&gt;\n&lt;li class=\"first\"&gt;Carnegie Mellon University&lt;/li&gt;\n&lt;li&gt;5000 Forbes Avenue, Pittsburgh, PA 15213&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>=></p>\n\n<pre><code>&lt;ul class=\"contact\"&gt;\n&lt;li class=\"first\"&gt;[univ]Carnegie Mellon University[/univ]&lt;/li&gt;\n&lt;li&gt;[address]5000 Forbes Avenue, Pittsburgh, PA 15213[/address]&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>shows the semantic annotation process I'd like to go through for thousands of web pages. To make my intention clear, I'd like to download all these web pages and have them annotated with user-defined tags (e.g., <code>univ</code>, <code>address</code>). The annotated pages will be used later for processing.</p>\n\n<p>The most naive method I've been using is download the page, open the page file, edit the file with a text editor and save it. It's just too cumbersome.</p>\n\n<p>A better approach I've been using is select the target text to be annotated from browser, inspect the target with tools like Firebug, edit the target text within the inspected view and save the edited page. This helps alleviate some burden, but still there's much room for improvement.</p>\n\n<p>The ideal tool I'd like to have is one with which I can select the target text from the page within a browser, pick the corresponding  annotation tag(preferably choosing from a tool bar which displays all tags available), and save the edited page with a single button.</p>\n\n<p>If anyone knows such kind of tools, it would be great. But I doubt such a tool exists at all. Chances are I have to write such a tool myself. The question is, how should I get started? I have little web application developing experience.</p>\n\n<p>Should I write a browser extension? Should I write a standalone application? In what language?</p>\n\n<p><strong>EDIT</strong>: A simpler version of the question can be found <a href=\"http://stackoverflow.com/questions/14271919/surrounding-selected-text-with-tags\">here</a>. A complete working solution is preferred. I assume this problem is no big deal for experienced web developers but it might really take a while for me and I need to implement the function as soon as possible.</p>\n\n<p><strong>EDIT</strong>: Also, I prefer a tool bar right after selection to a drop-down list after right click. I think the tool bar for chrome extension <code>Diigo Web Collector</code> is quite cool. \n<img src=\"http://i.stack.imgur.com/mZmOY.jpg\" alt=\"enter image description here\"></p>\n\n<p>What's more, a <code>save</code> button is needed on the tool bar to save the edited page to default or user specified place on computer. The buttons on the tool bar should be in this order: <code>univ</code> <code>address</code> <code>tag3</code> <code>tag4</code> ... <code>tagn</code> <code>save</code>. The save button comes last.</p>\n\n<p><strong>EDIT</strong>: It seems impossible to download the edited page to local file system using Javascript. In either Chrome or Firefox, after we edit the source code of the page in the inspected view, there's a save button for us to save the edited page to local file system. How was that implemented? What I don't want about that save button is it always prompts for the directory to download the page. I'd like to make it a default directory with my own save button. </p>\n",
            "last_activity_date": 1358255867,
            "question_id": 14244498,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "google-chrome-extension",
                "firefox-addon"
            ],
            "title": "Web Page Source Annotation Tool"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>If your variable is defined in the global context, you may do this :</p>\n\n<pre><code>console.log(window['myText_' + myLang]); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>var hellos = {\n    ESP: 'Hola a todos!',\n    ENG: 'Hello everybody!'\n};\n\nvar myLang = 'ESP';\n\nconsole.log(hellos[myLang]);\n</code></pre>\n\n<p>I don't like putting everything in global scope, and then string accessing window properties; so here is another way to do it.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>It is not a good pratice, but you can try using <code>eval()</code> function.</p>\n\n<pre><code>var myLang = \"ESP\";\n\nvar myText_ESP = \"Hola a todos!\";\nvar myText_ENG = \"Hello everyboy!\";\n\nconsole.log(eval('myText_' + myLang));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var myLang = \"ESP\";\n\nvar myText = {\n    ESP : \"Hola a todos!\",\n    ENG : \"Hello everybody!\"\n}\n\nconsole.log(myText[myLang]); // This should trace \"Hola a todos!\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use <code>eval</code> for that but this is very bad practice:</p>\n\n<pre><code>console.log(eval(\"myText_\" + myLang);\n</code></pre>\n\n<p>I'll suggest to have an object instead:</p>\n\n<pre><code>var myLang = \"ESP\";\nvar texts = {\n    'ESP': \"Hola a todos!\",\n    'ENG': \"Hello everyboy!\"\n};\nconsole.log( texts[ myLang ] );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Does anyone know how could I select a variable from a String in JavaScript? Here's what I'm basically trying to achieve:</p>\n\n<pre><code>var myLang = \"ESP\";\n\nvar myText_ESP = \"Hola a todos!\";\nvar myText_ENG = \"Hello everybody!\";\n\nconsole.log(myText_ + myLang); // This should trace \"Hola a todos!\"\n</code></pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1355503807,
            "question_id": 13882215,
            "score": 3,
            "tags": [
                "javascript",
                "eval"
            ],
            "title": "Get variable from a string"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Try:</p>\n\n<pre><code>var date = new Date('2012-11-29 17:00:34 UTC');\ndate.toString();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>This should work    </p>\n\n<pre><code>var date = new Date('2012-11-29 17:00:34 UTC');\ndate.toString()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>var offset = new Date().getTimezoneOffset();\n</code></pre>\n\n<p>offset will be in minutes. Add/subtract the minutes from your date</p>\n\n<pre><code>utc_date.setMinutes(utc_date.getMinutes() + offset);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>To format your date try the following function:</p>\n\n<pre><code>var d = new Date();\nvar fromatted = d.toLocaleFormat(\"%d.%m.%Y %H:%M (%a)\");\n</code></pre>\n\n<p>But the downside of this is, that it's a <strong>non-standard</strong> function, which is not working in Chrome, but working in FF (afaik).</p>\n\n<p>Chris</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>/*\n * convert server time to local time\n *  simbu\n*/\nfunction convertTime(serverdate) {\n    var date = new Date(serverdate);\n    // convert to utc time\n    var toutc = date.toUTCString();\n    //convert to local time\n    var locdat = new Date(toutc + \" UTC\");\n    return locdat;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>Okay, say JSON parse string UTC date as below:</p>\n\n<pre><code>2012-11-29 17:00:34 UTC\n</code></pre>\n\n<p>Now if I want to convert this UTC date to my local time, how can I do this?</p>\n\n<p>Thanks for the answer</p>\n\n<p>=====</p>\n\n<p>Then, how do I format it to something else like 'yyyy-MM-dd HH:mm:ss z'?</p>\n\n<p>This <code>date.toString('yyyy-MM-dd HH:mm:ss z');</code> never work out :/</p>\n",
            "last_activity_date": 1420705819,
            "question_id": 13622142,
            "score": 3,
            "tags": [
                "javascript",
                "datetime"
            ],
            "title": "Javascript to convert UTC to local time"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You may try this as an alternative of <code>replace</code> function</p>\n\n<pre><code>String.prototype.fakeReplace=function(str, newstr) {\n    return this.split(str).join(newstr);\n};\n\nvar str=\"Welcome javascript\";\nstr=str.fakeReplace('javascript', '');\nalert(str); // Welcome\n</code></pre>\n\n<p><a href=\"http://jsbin.com/eyebad/3/edit\" rel=\"nofollow\"><strong>DEMO</strong></a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For a more efficient, but slightly longer method, use this:</p>\n\n<pre><code>String.prototype.myReplace = function(pattern, nw) {\n   var curidx = 0, len = this.length, patlen = pattern.length, res = \"\";\n   while(curidx &lt; len) {\n       var nwidx = this.indexOf(pattern, curidx);\n       console.log(nwidx);\n       if(nwidx == -1) {\n           break;\n       }\n       res = res + this.substr(curidx, nwidx - curidx);\n       res = res + nw;\n       curidx = nwidx + patlen;\n   }\n   return res;\n};\nalert(\"Glee is awesome\".myReplace(\"awesome\", \"very very very awesome\"));\n</code></pre>\n\n<p>See it in action: <a href=\"http://jsfiddle.net/glee/eRvzY/\" rel=\"nofollow\">little link</a>.</p>\n\n<p>Hope that helped!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am coding a template for eBay. However, eBay does not allow .replace. The code below is for a rollover tab section.When the user hovers over tab(a), the correspodning div div(a) is made to become visible.</p>\n\n<p>Is there a workaround to get the code to work without using .replace?</p>\n\n<pre><code>var divs = new Array();\ndivs.push(\"contentPayment\");\ndivs.push(\"contentShipping\");\ndivs.push(\"contentWarranty\");\ndivs.push(\"contentContact\");\nvar navs = new Array();\nnavs.push(\"nav1\");\nnavs.push(\"nav2\");\nnavs.push(\"nav3\");\nnavs.push(\"nav4\");\n///////////////////////////////////////\n\n\nfunction hasClass(element, cls) {\n    return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') &gt; -1;\n}\n///////////////////////////////////////////////////////////////////////\n\n\nfunction toggleDisplay(id) {\n    for (var i = 0; i &lt; divs.length; i++) {\n        var item = document.getElementById(divs[i]);\n        item.style.display = 'none';\n    }\n    var target = document.getElementById(id);\n    target.style.display = 'block';\n    /////////////////////////////////////////////////////////////////////////////////////////////////////// \n    ////////////////////////////PAYMENT IS HOVERED////////////////////////////////////////////////////////\n    if (id == \"contentPayment\") {\n        var CurrentTab = document.getElementById(\"nav1\");\n        var AlreadyActive = hasClass(CurrentTab, \"tabActive\");\n        if (AlreadyActive === false) {\n            for (var i = 0; i &lt; navs.length; i++) {\n                var otherTabs = document.getElementById(navs[i]);\n                otherTabs.className = otherTabs.className.replace(' tabActive', '');\n            }\n            CurrentTab.className += \" \" + \"tabActive\";\n        }\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////////////\n    ////////////////////////////Shipping IS HOVERED////////////////////////////////////////////////////////\n    if (id == \"contentShipping\") {\n        var CurrentTab = document.getElementById(\"nav2\");\n        var AlreadyActive = hasClass(CurrentTab, \"tabActive\");\n        if (AlreadyActive === false) {\n            for (var i = 0; i &lt; navs.length; i++) {\n                var otherTabs = document.getElementById(navs[i]);\n                otherTabs.className = otherTabs.className.replace(' tabActive', '');\n            }\n            CurrentTab.className += \" \" + \"tabActive\";\n        }\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n    ////////////////////////////Warranty IS HOVERED////////////////////////////////////////////////////////\n    if (id == \"contentWarranty\") {\n        var CurrentTab = document.getElementById(\"nav3\");\n        var AlreadyActive = hasClass(CurrentTab, \"tabActive\");\n        if (AlreadyActive === false) {\n            for (var i = 0; i &lt; navs.length; i++) {\n                var otherTabs = document.getElementById(navs[i]);\n                otherTabs.className = otherTabs.className.replace(' tabActive', '');\n            }\n            CurrentTab.className += \" \" + \"tabActive\";\n        }\n    }\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n    ////////////////////////////Contact IS HOVERED////////////////////////////////////////////////////////\n    if (id == \"contentContact\") {\n        var CurrentTab = document.getElementById(\"nav4\");\n        var AlreadyActive = hasClass(CurrentTab, \"tabActive\");\n        if (AlreadyActive === false) {\n            for (var i = 0; i &lt; navs.length; i++) {\n                var otherTabs = document.getElementById(navs[i]);\n                otherTabs.className = otherTabs.className.replace(' tabActive', '');\n            }\n            CurrentTab.className += \" \" + \"tabActive\";\n        }\n    }\n}\n</code></pre>\n",
            "last_activity_date": 1349690145,
            "question_id": 12770045,
            "score": 3,
            "tags": [
                "javascript",
                "css",
                "ebay"
            ],
            "title": "Javascript .Replace Alternative"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>in plain javascript:</p>\n\n<pre><code>onChange=\"this.form.submit()\"\n</code></pre>\n\n<p>into the form/input tag</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Yes, this is possible.</p>\n\n<pre><code>&lt;form id=\"formName\" action=\"&lt;?php echo $_SERVER['PHP_SELF'];?&gt;\" method=\"get\"&gt;\n    &lt;input type =\"checkbox\" name=\"cBox[]\" value = \"3\" onchange=\"document.getElementById('formName').submit()\"&gt;3&lt;/input&gt;\n    &lt;input type =\"checkbox\" name=\"cBox[]\" value = \"4\" onchange=\"document.getElementById('formName').submit()\"&gt;4&lt;/input&gt;\n    &lt;input type =\"checkbox\" name=\"cBox[]\" value = \"5\" onchange=\"document.getElementById('formName').submit()\"&gt;5&lt;/input&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"Search\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>By adding <code>onchange=\"document.getElementById('formName').submit()\"</code> to each checkbox, you'll submit any time a checkbox is changed.</p>\n\n<p>If you're OK with jQuery, it's even easier (and unobtrusive):</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"#formname\").on(\"change\", \"input:checkbox\", function(){\n        $(\"#formname\").submit();\n    });\n});\n</code></pre>\n\n<p>For any number of checkboxes in your form, when the \"change\" event happens, the form is submitted.  This will even work if you dynamically create more checkboxes thanks to the <code>.on()</code> method.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>$(document).ready(\n    function()\n    {\n        $(\"input:checkbox\").change(\n            function()\n            {\n                if( $(this).is(\":checked\") )\n                {\n                    $(\"#formName\").submit();\n                }\n            }\n        )\n    }\n);\n</code></pre>\n\n<p>Though it would probably be better to add classes to each of the checkboxes and do</p>\n\n<pre><code>$(\".checkbox_class\").change();\n</code></pre>\n\n<p>so that you can choose which checkboxes submit the form instead of all of them doing it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>is there are way to submit a form when a checkbox is checked?</p>\n\n<pre><code>&lt;form id=\"formName\" action=\"&lt;?php echo $_SERVER['PHP_SELF'];?&gt;\" method=\"get\"&gt;\n    &lt;input type =\"checkbox\" name=\"cBox[]\" value = \"3\"&gt;3&lt;/input&gt;\n    &lt;input type =\"checkbox\" name=\"cBox[]\" value = \"4\"&gt;4&lt;/input&gt;\n    &lt;input type =\"checkbox\" name=\"cBox[]\" value = \"5\"&gt;5&lt;/input&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"Search\" /&gt;\n&lt;/form&gt;\n\n&lt;?php\n    if(isset($_GET['submit'])){\n        include 'displayResults.php';\n    }\n?&gt;\n</code></pre>\n\n<p>That is what I have currently, but I would like to submit the form without a submit button, when the user checks or unchecks a checkbox. Any help?</p>\n",
            "last_activity_date": 1337111065,
            "question_id": 10602470,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "forms",
                "search",
                "checkbox"
            ],
            "title": "submitting a form when a checkbox is checked"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>When an element is prefixed by a namespace, you <strong>have</strong> to also add the namespace:</p>\n\n<ul>\n<li><code>.find('ns1:return')</code> does not work, because <code>:</code> is used by jQuery as pseudo-selectors.</li>\n<li><code>.find('ns1\\:return')</code> does not work either, because a single backslash in a string is used as an escape character. <code>\"ns1\\:return\"</code> becomes <code>\"ns1:return\"</code> which is equal to the previous one.</li>\n<li><strong><code>.find('ns1\\\\:return')</code></strong> should be used. The double backslash is used to escape the colon.</li>\n</ul>\n\n<p>It appears that the last solution works fine in IE and Firefox, but not Opera, Chrome or Safari. To get maximum compatibility, use jQuery selectors with, and without fake prefix, ie. <code>\"ns1\\\\:return, return\"</code> instead of a plain <code>ns1\\\\:return</code>.</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/5BQjv/51/\" rel=\"nofollow\">http://jsfiddle.net/5BQjv/51/</a></p>\n\n<pre><code>// For example, this is the result:\nvar data = '&lt;ns1:executeResponse xmlns:ns1=\"http://sqlws.test.com\"&gt;' +\n               '&lt;ns1:return&gt;' + \n                   '&lt;results&gt; &lt;row&gt; ... &lt;/row&gt; &lt;/results&gt;' +\n               '&lt;/ns1:return&gt;' +\n           '&lt;/ns1:executeResponse&gt;';\n\n// The very first thing is to parse the string as XML. NOT later!\nvar $xmlDoc = $($.parseXML(data));\n\n// Then, look for the element with the namespace:\nvar $txt = $xmlDoc.find('ns1\\\\:return, return');\n\n// No need to use unescape or something, just use DOM manipulation:\n// `results` is the immediate child. Don't use .find, but .children\nvar $firstrow = $txt.children(\"results\").children(\":first\");\n</code></pre>\n\n<p>As you may have noticed, I have prefixed some variables with a dollar sign. It's the convention to prefix variables which refer to jQuery objects with a dollar sign, to avoid confusion during/after development.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I'm executing a web service call using JQuery and it's ajax function and I'm unable to parse the data coming back.  When I alert the data (alert($(data).find(\"return\").text()) its empty.  I see the server responding with xml data as outlined below and when I alert(data) I get [object XMLDocument].  Is txt = $(data).find(\"return\").text() valid given my XML structure with a namespace below?  I can see the full xml string in firebug. Any ideas?</p>\n\n<p>var txt = $(data).find(\"ns1\\:return\").text(); works on Chrome and Firefox, but not Safari </p>\n\n<p><strong>index.js:</strong></p>\n\n<pre><code>$(function () {\n$.ajax({\n                url: url,\n                success: function (data) {\n                    var ndx = 0,\n                        row,\n                        **txt = $(data).find(\"return\").text(),**\n                        xml = unescape(txt),\n                        xmlDoc = $.parseXML(xml),\n                        firstrow = $(xmlDoc).find(\n                                \"results\").children(\":first\");\n\n                    // populate the table based on the results returned by\n                    // the web service\n                    $(\"table.results thead\").empty();\n                    $(\"table.results tbody\").empty();\n                    row = $(\"&lt;tr/&gt;\");\n\n                    row.append($(\"&lt;th/&gt;\").text(\"#\").addClass(\"ndx\"));\n                    firstrow.children().each(function () {\n                        row.append($(\"&lt;th/&gt;\").text(this.nodeName));\n                    });\n                    row.appendTo($(\"table.results thead\"));\n\n                    $(xmlDoc).find(\"row\").each(function () {\n                        row = $(\"&lt;tr/&gt;\");\n                        row.append($(\"&lt;td/&gt;\").text(ndx + 1).addClass(\"ndx\"));\n                        $(this).children().each(function () {\n                            row.append($(\"&lt;td/&gt;\").text($(this).text()));\n                        });\n                        row.appendTo($(\"table.results tbody\"));\n                        ndx++;\n                    });\n\n                    // clear the table if no results were returned\n                    if (ndx == 0) {\n                        // no rows returned\n                        $(\"table.results thead\").empty();\n                        $(\"table.results tbody\").empty();\n                    }\n\n                    statusNotice(\"Records Returned: \" + ndx);\n                },\n                error: function(XMLHttpRequest, textStatus, errorThrown) {\n                    // display the error returned by the web service\n                    var xmlDoc = $(XMLHttpRequest.responseXML);\n                    statusError(xmlDoc.find(\"Text\").text());\n                },          \n                complete: function(XMLHttpRequest, textStatus) {\n                    // hide the busy dialog\n                    $(\"#busy-dlg\").dialog(\"close\");\n                }\n            });\n       });\n</code></pre>\n\n<p><strong>index.html:</strong>\n    \n    \n    \n    \n    Demo\n    \n    \n    </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/jquery-1.6.4.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery-ui-min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery.layout-latest.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/index.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n//table displaying results from ajax call here\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>XML:</strong></p>\n\n<pre><code>&lt;ns1:executeResponse xmlns:ns1=\"http://sqlws.test.com\"&gt;\n&lt;ns1:return&gt;\n    &lt;results&gt;\n        &lt;row&gt;\n            &lt;attribute1&gt;value1&lt;/attribute1&gt;\n            &lt;attribute2&gt;value2&lt;/attribute2&gt;\n        &lt;/row&gt;\n        &lt;row&gt;\n            &lt;attribute1&gt;value1&lt;/attribute1&gt;\n            &lt;attribute2&gt;value2&lt;/attribute2&gt;\n        &lt;/row&gt;\n    &lt;/results&gt;\n&lt;/ns1:return&gt;\n&lt;/ns1:executeResponse&gt; \n</code></pre>\n",
            "last_activity_date": 1376555849,
            "question_id": 9625487,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Parsing XML JQuery Ajax Response with Namespace"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You could just use <code>.innerHTML</code>. An alternative would be to use a document fragment:</p>\n\n<pre><code>var fragment = document.createDocumentFragment();\n\nfunction u1(t, i, c){ // type,id,class_name\n    var tag = document.createElement(t); // Create node to be appended\n    tag.id = i;\n    tag.className = c;\n    fragment.appendChild(tag); // will use `fragment` from the outer scope\n}\n\n// call u1() seven times\n\n// then insert all the elements into the DOM all at once\ndocument.getElementById('foo').appendChild(fragment);\n</code></pre>\n\n<p>Document fragments are a bit slow to create, but can save performance in the long run. In this case, for example, you go from 7 DOM insertions to just one. (Anything involving the DOM is <em>slow</em> in JavaScript.)</p>\n\n<p>If you want to benchmark your specific use case using both approaches, <a href=\"http://jsperf.com/\" rel=\"nofollow\">create a jsPerf test case</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have to create seven div elements in one hit - container A which contains A1, A2, A3 &amp; A4, and then A2a &amp; A2b within A2. I am using multiple calls to this little function:</p>\n\n<pre><code>function u1(t,i,c,p){ // type,id,class_name,parent_id\n    var tag=document.createElement(t); // Create node to be appended\n    tag.id=i;\n    tag.className=c;\n    document.getElementById(p).appendChild(tag);\n}\n</code></pre>\n\n<p>My question: Is there is a more time-efficient way to bundle the seven together, and then just do one DOM append? Or is innerHTML a good option?</p>\n\n<p>Thanks :)</p>\n",
            "last_activity_date": 1331116387,
            "question_id": 9598916,
            "score": 3,
            "tags": [
                "javascript",
                "appendchild"
            ],
            "title": "Speed/efficiency of multiple DOM appendChild"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Skip the html5  use flowplayer.  It has an html5 fall back.  And just fyi on all iOS (ipads etc) there is no autoplay.  This is what I do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Load the page with just a direct download to the audio file. Detect if the browser supports MP3s. If it does, progressively enhance the direct download into an AUDIO tag. Here's a sample:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Audio demo&lt;/title&gt;\n    &lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p id=\"audio\"&gt;\n        &lt;a href=\"BadAppleEnglish.mp3\"&gt;Listen &amp;raquo;&lt;/a&gt;        \n    &lt;/p&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"audio.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And the Javascript:</p>\n\n<pre><code>$(function () {\nvar audioElement = $('#audio'),\n    href = audioElement.children('a').attr('href');\n$.template('audioTemplate', '&lt;audio src=\"${src}\" controls&gt;');\nif (Modernizr.audio.mp3) {\n    audioElement.empty();\n    $.tmpl('audioTemplate', {src: href}).appendTo(audioElement);\n}\n});\n</code></pre>\n\n<p>I would imagine that most of the zillions of prebuilt MP3 playing plugins work like this.</p>\n\n<p>UPDATE:</p>\n\n<p>Since you've edited the question to specify that you'd prefer a solution that doesn't use jQuery, I will point out that rewriting this to not use jQuery is trivial. It's just longer and less elegant. Do keep in mind that Javascript libraries loaded from CDNs are usually cached by the browser.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>new Audio('&lt;url&gt;').play()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Which is the best and cross-browser way to play a mp3 (very short) file via javascript?\nI tried different ways but there's always a problem...</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>I don't need a \"full\" player, I just need a function than I can call everytime something happens</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>Ok, I've to explain better my problem. The server is a smartphone connected in a LAN, but not always to the internet. I want to use mp3 because the file weighs only 3kb (instead of 60kb of wav), but if the mechanism to play this file is too \"heavy\" (a player or jquery.js) I think is better to use the wav file.\nOther suggestions?</p>\n",
            "last_activity_date": 1421000929,
            "question_id": 9300655,
            "score": 3,
            "tags": [
                "javascript",
                "cross-browser",
                "mp3"
            ],
            "title": "Play mp3 file using javascript"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>you can use innerText like this</p>\n\n<pre><code>try{\n     row.innerHTML =mystring1;\n}catch(e){\n     row.innerText =mystring1;\n     row.style.display='table-row';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As I commented on your other, related question: IDs on elements need to be unique. It's possible that Internet Explorer is refusing to set the innerHTML because you'd end up with DOM elements with IDs that aren't unique, whereas Firefox and Chrome aren't being quite so restrictive.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can try creating a div in the row and try setting this HTML to div's HTML. So if the div with unique id can be created then you can easily update its content by changing its innerHTML.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This error shows up, because several elements' <code>innerHTML</code> property, including <code>&lt;tr&gt;</code> are read-only <sup>[<a href=\"http://msdn.microsoft.com/en-us/library/ms533897%28VS.85%29.aspx\">source</a>]</sup> (Tested in IE 6-8). To solve this issue, the best way is to use the <code>insertCell</code> method:</p>\n\n<h2>An universal \"lazy\" method: (demo: <a href=\"http://jsfiddle.net/VLjhW/2/\">http://jsfiddle.net/VLjhW/2/</a>)</h2>\n\n<pre><code>// Variables mystring2, rowCount and table as defined in the question.\nvar tmp = document.createElement('div');         // &lt;-- Placeholder\ntmp.innerHTML = '&lt;table&gt;&lt;tr&gt;' + mystring2 + '&lt;/tr&gt;&lt;/table&gt;';\nvar row = tmp.firstChild.rows[0];                // &lt;-- Created \"real\" row\n\nvar newrow = table.insertRow(table.rows.length); // &lt;-- New dummy row\nnewrow.parentNode.replaceChild(row, newrow);     // &lt;-- Replace dummy with real row\n</code></pre>\n\n<p><hr />\nAnother method:</p>\n\n<h2>Demo: <a href=\"http://jsfiddle.net/VLjhW/\">http://jsfiddle.net/VLjhW/</a></h2>\n\n<pre><code>// Array of innerHTML properties for each cell\nvar cells = ['&lt;h4&gt;Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;',\n             '&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;',\n             '',\n             '&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;',\n             '&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;'];\n// Array of `class=` attributes for each cell\nvar cellClasses = ['formlabel', 'formfield', 'formgap', 'formlabel', 'formfield'];\n\nvar table = document.getElementById('t1');     // &lt;-- table\nvar tr = table.insertRow(table.rows.length-1); // &lt;-- Last row\nfor (var i=0; i&lt;cells.length; i++) {\n    var td = tr.insertCell(i);                 // &lt;-- Insert cell\n    td.className = cellClasses[i];             // &lt;-- Set class attribute\n    td.innerHTML = cells[i];                   // &lt;-- Set innerHTML\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Never ever! Never use this kind of approach. This is very incorrect to concat a string and append as <code>innerHTML</code>. The better way is to use the native JavaScript DOM api for dom manipulation. </p>\n\n<p><a href=\"http://jsbin.com/otacic/edit#javascript,html\" rel=\"nofollow\">Here</a> the example of a working fiddle.</p>\n\n<p><b>EDIT</b></p>\n\n<p>I've tested it in IE9 but it should work in other IE versions too. The reason you cannot do it is that XHTML specification prohibit modifying the innerHTML property of certain tags. One of them is <code>select</code> tag. You cannot modify the internal options with <code>innerHTML</code>. As I see this is applicable to table either. </p>\n\n<p>Starting here, this is a very good point to refer to some library that has established itself as reliable dom manipulator. For example jQuery. </p>\n\n<blockquote>\n  <p><em>If you want something to be done well, do it using jQuery.</em></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For IE while creating a table dynamically u must always create a table row</p>\n\n<p>document.createElement('tr');</p>\n\n<p>Had de same issue once. It got solved once i added this</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>try this. It should works. I tested in both IE and Firefox:</p>\n\n<pre><code>function addrow(tableID) {\n\n            var table = document.getElementById(tableID);\n            var rowCount = table.rows.length;\n            var row = table.insertRow(rowCount - 1);\n            var td1 = document.createElement(\"TD\");\n            td1.innerHTML = \"&lt;h4&gt;Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n            var td2 = document.createElement(\"TD\");\n            td2.innerHTML='&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;';\n            var td3 = document.createElement(\"TD\");\n            td3.innerHTML = '&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;';\n            var td4 = document.createElement(\"TD\");\n            td4.innerHTML = '&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;';\n            row.appendChild(td1);\n            row.appendChild(td2);\n            row.appendChild(td3);\n            row.appendChild(td4);\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have created a script through which you can add inner tables into a column of the table.</p>\n\n<p>I have used the concepts of @DragonPrince and @Bui Cuong for devoloping my answer.</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n\n&lt;script language=\"javascript\"&gt;\n\nfunction addtabletesting(tableID) {   \n\n\nvar table1 = document.getElementById(tableID);         \nvar rowCount1 = table1.rows.length;         \nvar row1 = table1.insertRow(rowCount1-1); \nvar td1 = document.createElement(\"TD\");  \n\n/*\n creating a new row row1 andadded a column td1\n*/\n\nvar table2= document.createElement(\"TABLE\");\nvar rowCount2 = table2.rows.length;         \nvar row2 = table2.insertRow(rowCount2); \nvar td2 = document.createElement(\"TD\"); \n\n/*\nCreated a new table table2 added row2 and td2. \n*/\ntd2.innerHTML = \"&lt;h4&gt;my new column in new inner table &lt;/h4&gt;\";  \n\nrow1.appendChild(td1); \ntd1.appendChild(table2); \nrow2.appendChild(td2); \n/*\nAdded td1 into row1, table2 into td1, and td2  into row2.\n*/\n\n} \n\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n\n&lt;table id=\"testtable1\" border=\"1\"&gt;\n&lt;tr&gt;&lt;td width=\"150\"&gt;old table row 1 column 1&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;old table row 2 column 1&lt;/td&gt;&lt;/tr&gt;\n\n&lt;tr&gt;&lt;td&gt; &lt;a  onclick=\"addtabletesting('testtable1')\" &gt;Add table&lt;/a&gt; &lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Check it. Currently its just simply adding a inner table only. You can modify it so that you will be able to make it as you want.</p>\n\n<p>Check the following detailed answer.</p>\n\n<p>Body part</p>\n\n<pre><code>&lt;body&gt;      \n\n\n\n&lt;br/&gt;\n\n\n\n    &lt;a onclick=\"show_prompt()\" &gt;Add Multiple Companies&lt;/a&gt; \n\n\n&lt;br/&gt;\n\n\n\n\n&lt;table border=\"0\"  align=\"left\" class=\"totalbodycontainer\"&gt;     &lt;%-- table in which entire body content is written  --%&gt;\n  &lt;tr&gt;\n    &lt;td class=\"totalbodycontainer\"&gt;\n&lt;div class=\"boxdiv\" align=\"center\"  &gt;       \n\n\n&lt;div  class=\"formmainheader\" &gt;  &lt;h2 &gt;Add  Company&lt;/h2&gt; &lt;/div&gt;   \n&lt;form action=\"registration\"  &gt;\n\n\n\n&lt;table id=\"sarinaddrow\" border=\"0\" align=\"center\"&gt;&lt;tr&gt;&lt;td&gt;\n\n  &lt;table width=\"200\" border=\"1\" class=\"tableborder\" align=\"center\"&gt; \n\n\n  &lt;tr class=\"rowdiv\"&gt;  &lt;td width=\"799\" class=\"formheader\" &gt;&lt;h4&gt; Comany Details&lt;/h4&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td width=\"799\"&gt; \n\n\n\n    &lt;table id=\"table1\" width=\"792\" border=\"0\"&gt;\n    &lt;tr class=\"rowdiv\"&gt;\n    &lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt; Company ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n    &lt;td width=\"205\" class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;\n             &lt;td width=\"20\" class=\"formgap\"&gt;&lt;/td&gt;\n    &lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt; Company Name &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n    &lt;td width=\"205\" class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type\" id=\"type\" size=\"30\" /&gt; \n            &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"rowdiv\"&gt;\n    &lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Address &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n    &lt;td width=\"205\" class=\"formfield\"&gt;&lt;textarea name=\"textarea\" id=\"textarea\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n    &lt;td width=\"20\" class=\"formgap\"&gt;&lt;/td&gt;\n    &lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Phone Number &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n    &lt;td width=\"205\" class=\"formfield\"&gt;&lt;h6&gt;\n      &lt;input type=\"text\" name=\"type2\" id=\"type2\" size=\"30\"/&gt;\n    &lt;/h6&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"rowdiv\"&gt;\n      &lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Fax Number &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type3\" id=\"type3\" size=\"30\"/&gt;&lt;/td&gt;\n      &lt;td class=\"formgap\"&gt;&lt;/td&gt;\n      &lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;E Mail &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type5\" id=\"type5\" size=\"30\"/&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;tr class=\"rowdiv\"&gt;\n      &lt;td class=\"formlabel\"&gt;&lt;h4&gt;Web Site &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type7\" id=\"type7\" size=\"30\"/&gt;&lt;/td&gt;\n      &lt;td class=\"formgap\"&gt;&lt;/td&gt;\n      &lt;td class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;tr class=\"rowdiv\"&gt;\n      &lt;td class=\"formlabel\"&gt;&lt;h4&gt;Product Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;&lt;/td&gt;\n      &lt;td class=\"formgap\"&gt;&lt;/td&gt;\n      &lt;td class=\"formlabel\"&gt;&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr class=\"rowdiv\"&gt;\n        &lt;td width=\"170\" class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"formgap\"&gt;&lt;/td&gt;\n        &lt;td class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"formfield\"&gt;&lt;h6&gt;&lt;a  onclick=\"addproduct('table1')\"&gt;Add product&lt;/a&gt;&lt;/h6&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n\n    &lt;/table&gt;  \n\n\n\n&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt;\n\n&lt;/td&gt;&lt;/tr&gt;\n\n&lt;tr&gt; &lt;td  class=\"formlabel\"&gt;&lt;h6 &gt;&lt;a onclick=\"addcompany('sarinaddrow',1)\"&gt;Add Company&lt;/a&gt;&lt;/h6&gt;&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt;\n\n  &amp;nbsp;\n&lt;/form&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Scripts</p>\n\n<pre><code>&lt;script language=\"javascript\"&gt;\n\nvar sarintableno=1;\nfunction addpolicy(tableID) {\n    try{\n        var mystring=null;\n\n        var table = document.getElementById(tableID);\n        var rowCount = table.rows.length;\n        var row1 = table.insertRow(rowCount-1);\n\n            var td1 = document.createElement(\"TD\"); //td1\n            td1.className=\"formlabel\";\n            td1.innerHTML='&lt;h4&gt;Product Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;';\n            row1.appendChild(td1);\n\n            var td2 = document.createElement(\"TD\"); //td2\n            td2.className=\"formfield\";\n            mystring='&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;';\n            td2.innerHTML=mystring;\n            row1.appendChild(td2);\n\n            var td3 = document.createElement(\"TD\"); //td3\n            td3.className=\"formgap\";\n            row1.appendChild(td3);\n\n            var td4 = document.createElement(\"TD\"); //td4\n            td4.className=\"formlabel\";\n            td4.innerHTML='&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;';\n            row1.appendChild(td4); \n\n            var td5 = document.createElement(\"TD\"); //td5\n            td5.className=\"formfield\";\n            mystring='&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;';\n            td5.innerHTML=mystring;\n            row1.appendChild(td5);\n    }catch(e) {\n\n    alert(e);\n    }\n}\n\nfunction addcompany(tableID,companyno) {\n    try{\n        var xxx=0; var mytext1=null;\n    for( xxx=0;xxx&lt;companyno;xxx++ ){\n        sarintableno++;\n\n        var table1 = document.getElementById(tableID);     // t1    \n        var rowCount1 = table1.rows.length;         \n        var row1 = table1.insertRow(rowCount1-1); //add tr1\n        var td1 = document.createElement(\"TD\");  //add td1\n        row1.appendChild(td1); \n\n\n        var table2= document.createElement(\"TABLE\");//t2\n        td1.appendChild(table2); \n\n            var rowCount2 = table2.rows.length;       \n            var row2 = table2.insertRow(rowCount2); //tr2  \n            var td2 = document.createElement(\"TD\"); //td2\n            row2.appendChild(td2); \n\n            rowCount2 = table2.rows.length;       \n            var row3 = table2.insertRow(rowCount2); //tr3  \n            var td3 = document.createElement(\"TD\"); //td3\n            row3.appendChild(td3); \n\n            var table3= document.createElement(\"TABLE\");//t3\n            td3.appendChild(table3);\n\n                var rowCount3 = table3.rows.length;       \n                var row4 = table3.insertRow(rowCount3); //tr4 \n                var td4 = document.createElement(\"TD\"); //td4\n                row4.appendChild(td4); \n                var td5 = document.createElement(\"TD\"); //td5\n                row4.appendChild(td5); \n                var td6 = document.createElement(\"TD\"); //td6\n                row4.appendChild(td6);\n                var td7 = document.createElement(\"TD\"); //td7\n                row4.appendChild(td7);\n                var td8 = document.createElement(\"TD\"); //td8\n                row4.appendChild(td8); \n\n                var rowCount3 = table3.rows.length;       \n                var row5 = table3.insertRow(rowCount3); //tr5 \n                var td9 = document.createElement(\"TD\"); //td9\n                row5.appendChild(td9); \n                var td10 = document.createElement(\"TD\"); //td10\n                row5.appendChild(td10); \n                var td11 = document.createElement(\"TD\"); //td11\n                row5.appendChild(td11); \n                var td12 = document.createElement(\"TD\"); //td12\n                row5.appendChild(td12); \n                var td13 = document.createElement(\"TD\"); //td13\n                row5.appendChild(td13); \n\n                var rowCount3 = table3.rows.length;       \n                var row6 = table3.insertRow(rowCount3); //tr6 \n                var td14 = document.createElement(\"TD\"); //td14\n                row6.appendChild(td14); \n                var td15 = document.createElement(\"TD\"); //td15\n                row6.appendChild(td15);\n                var td16 = document.createElement(\"TD\"); //td16\n                row6.appendChild(td16);\n                var td17 = document.createElement(\"TD\"); //td17\n                row6.appendChild(td17);\n                var td18 = document.createElement(\"TD\"); //td18\n                row6.appendChild(td18);\n\n                var rowCount3 = table3.rows.length;       \n                var row7 = table3.insertRow(rowCount3); //tr7 \n                var td19 = document.createElement(\"TD\"); //td19\n                row7.appendChild(td19);\n                var td20 = document.createElement(\"TD\"); //td20\n                row7.appendChild(td20);\n                var td21 = document.createElement(\"TD\"); //td21\n                row7.appendChild(td21);\n                var td22 = document.createElement(\"TD\"); //td22\n                row7.appendChild(td22);\n                var td23 = document.createElement(\"TD\"); //td23\n                row7.appendChild(td23);\n\n                var rowCount3 = table3.rows.length;       \n                var row8 = table3.insertRow(rowCount3); //tr7 \n                var td24 = document.createElement(\"TD\"); //td24\n                row8.appendChild(td24);\n                var td25 = document.createElement(\"TD\"); //td25\n                row8.appendChild(td25);\n                var td26 = document.createElement(\"TD\"); //td26\n                row8.appendChild(td26);\n                var td27 = document.createElement(\"TD\"); //td27\n                row8.appendChild(td27);\n                var td28 = document.createElement(\"TD\"); //td28\n                row8.appendChild(td28);\n\n                var rowCount3 = table3.rows.length;       \n                var row9 = table3.insertRow(rowCount3); //tr7 \n                var td29 = document.createElement(\"TD\"); //td24\n                row9.appendChild(td29);\n                var td30 = document.createElement(\"TD\"); //td25\n                row9.appendChild(td30);\n                var td31 = document.createElement(\"TD\"); //td26\n                row8.appendChild(td31);\n                var td32 = document.createElement(\"TD\"); //td27\n                row9.appendChild(td32);\n                var td33 = document.createElement(\"TD\"); //td28\n                row9.appendChild(td33);\n\n    /* styles and inner htmls */\n    table2.className=\"tableborder\";\n    table2.setAttribute(\"width\",\"200\");\n    table2.setAttribute(\"border\",\"1\");\n    table2.setAttribute(\"allign\",\"center\");\n\n        row2.className=\"rowdiv\";\n            td2.className=\"formheader\";\n            td2.setAttribute(\"width\",\"799\");\n            td2.innerHTML=\"&lt;h4&gt;Comany Details&lt;/h4&gt;\";\n\n            td3.setAttribute(\"width\",\"799\");\n\n                table3.setAttribute(\"width\",\"792\");\n                table3.setAttribute(\"border\",\"0\");\n                table3.setAttribute(\"id\",\"table\"+sarintableno);\n\n                    row4.className=\"rowdiv\";\n\n                        td4.className=\"formlabel\";\n                        td4.setAttribute(\"width\",\"170\");\n                        td4.innerHTML=\"&lt;h4&gt;Company ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td5.className=\"formfield\";\n                        td5.setAttribute(\"width\",\"205\");\n                        td5.innerHTML=\"&amp;nbsp;\";\n\n                        td6.className=\"formgap\";\n                        td6.setAttribute(\"width\",\"20\");\n\n                        td7.className=\"formlabel\";\n                        td7.setAttribute(\"width\",\"170\");\n                        td7.innerHTML=\"&lt;h4&gt;Company Name &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td8.className=\"formfield\";\n                        td8.setAttribute(\"width\",\"205\");\n                        td8.innerHTML='&lt;input type=\"text\" name=\"type\" id=\"type\" size=\"30\" /&gt;';\n\n                    row5.className=\"rowdiv\";\n\n                        td9.className=\"formlabel\";\n                        td9.setAttribute(\"width\",\"170\");\n                        td9.innerHTML=\"&lt;h4&gt;Address &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td10.className=\"formfield\";\n                        td10.setAttribute(\"width\",\"205\");\n                        td10.innerHTML='&lt;textarea name=\"textarea\" id=\"textarea\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;';\n\n                        td11.className=\"formgap\";\n                        td11.setAttribute(\"width\",\"20\");\n\n                        td12.className=\"formlabel\";\n                        td12.setAttribute(\"width\",\"170\");\n                        td12.innerHTML=\"&lt;h4&gt;Phone Number &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td13.className=\"formfield\";\n                        td13.setAttribute(\"width\",\"205\");\n                        td13.innerHTML='&lt;h6&gt;&lt;input type=\"text\" name=\"type2\" id=\"type2\" size=\"30\"/&gt;&lt;/h6&gt;';\n\n                    row6.className=\"rowdiv\";\n\n                        td14.className=\"formlabel\";\n                        td14.setAttribute(\"width\",\"170\");\n                        td14.innerHTML=\"&lt;h4&gt;Fax Number &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td15.className=\"formfield\";\n                        td15.setAttribute(\"width\",\"205\");\n                        td15.innerHTML='&lt;input type=\"text\" name=\"type3\" id=\"type3\" size=\"30\"/&gt;';\n\n                        td16.className=\"formgap\";\n                        td16.setAttribute(\"width\",\"20\");\n\n                        td17.className=\"formlabel\";\n                        td17.setAttribute(\"width\",\"170\");\n                        td17.innerHTML=\"&lt;h4&gt;E Mail &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td18.className=\"formfield\";\n                        td18.setAttribute(\"width\",\"205\");\n                        td18.innerHTML='&lt;input type=\"text\" name=\"type5\" id=\"type5\" size=\"30\"/&gt;';\n\n                    row7.className=\"rowdiv\";\n\n                        td19.className=\"formlabel\";\n                        td19.setAttribute(\"width\",\"170\");\n                        td19.innerHTML=\"&lt;h4&gt;Web Site &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td20.className=\"formfield\";\n                        td20.setAttribute(\"width\",\"205\");\n                        td20.innerHTML='&lt;input type=\"text\" name=\"type7\" id=\"type7\" size=\"30\"/&gt;';\n\n                        td21.className=\"formgap\";\n                        td21.setAttribute(\"width\",\"20\");\n\n                        td22.className=\"formlabel\";\n                        td22.setAttribute(\"width\",\"170\");\n                        td22.innerHTML=\"&lt;h4&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td23.className=\"formfield\";\n                        td23.setAttribute(\"width\",\"205\");\n                        td23.innerHTML='&amp;nbsp;';\n\n                    row8.className=\"rowdiv\";\n\n                        td24.className=\"formlabel\";\n                        td24.setAttribute(\"width\",\"170\");\n                        td24.innerHTML=\"&lt;h4&gt;Product Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td25.className=\"formfield\";\n                        td25.setAttribute(\"width\",\"205\");\n                        td25.innerHTML='&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;';\n\n                        td26.className=\"formgap\";\n                        td26.setAttribute(\"width\",\"20\");\n\n                        td27.className=\"formlabel\";\n                        td27.setAttribute(\"width\",\"170\");\n                        td27.innerHTML=\"&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;\";\n\n                        td28.className=\"formfield\";\n                        td28.setAttribute(\"width\",\"205\");\n                        td28.innerHTML='&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;';\n\n                    row9.className=\"rowdiv\";\n\n                        td29.className=\"formlabel\";\n                        td29.setAttribute(\"width\",\"170\");\n                        td29.innerHTML=\"&amp;nbsp;\";\n\n                        td30.className=\"formfield\";\n                        td30.setAttribute(\"width\",\"205\");\n                        td30.innerHTML='&amp;nbsp;';\n\n                        td31.className=\"formgap\";\n                        td31.setAttribute(\"width\",\"20\");\n                        td31.innerHTML=\"&amp;nbsp;\";\n\n                        td32.className=\"formlabel\";\n                        td32.setAttribute(\"width\",\"170\");\n                        td32.innerHTML=\"&amp;nbsp;\";\n\n                        td33.className=\"formfield\";\n                        td33.setAttribute(\"width\",\"205\");\n                        mytext1='&lt;h6&gt;&lt;a  onclick=\"addproduct('+\"'table\"+sarintableno+\"'\"+');\"&gt;Add product&lt;/a&gt;&lt;/h6&gt;';\n                        td33.innerHTML=mytext1;\n\n    }\n}catch(e) {\n    alert(e);\n}\n}\n\n\n\nfunction show_prompt()\n{\nvar name=prompt(\"Please enter the number of companies \",\"2\");\nif (name!=null &amp;&amp; name!=\"\")\n  {\n\n    addcompany('sarinaddrow',name);\n  }\n}\n\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>My problem was it worked in firefox and did not work in IE know am using multipe tables and forms inside each other ...</p>\n\n<p><strong>General solution</strong><br><br>\nUse JQuery it can solve such issues between browsers in my case i faced this error and replaced with the <code>$('#'+loc).html(ddl)</code> line instead of innerHTML  and it worked</p>\n\n<pre><code>function buildDDL(){\n    if (http_request.readyState == 4)\n    {\n        var ddl = http_request.responseText;\n        ddl = ddl.replace(/[\\n]/g, '');\n        if(ddl != 'SESSION_EXPIRED'){\n            $('#'+loc).html(ddl);\n            //document.getElementById(loc).innerHTML = ddl;\n        }else{\n            location.href = 'errorPage.jsp?status='+ddl;\n        }\n        http_request = false;\n    }\n}\n</code></pre>\n\n<p>If you're wondering about functionality, then jQuery's html() performs the same intended functionality as innerHTML, but it also performs checks for cross-browser compatibility.</p>\n\n<p>For this reason, always use jQuery's html() instead of innerHTML where possible.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a jsp page in which rows are created dynamically to a table using java script. It is working fine in all the browsers except IE. In IE it is showing the error Unknown run time error..</p>\n\n<p>I have attached the java script function</p>\n\n<pre><code>   function addrow(tableID) {\n        try{\n        var table = document.getElementById(tableID);\n        var rowCount = table.rows.length;\n        var row = table.insertRow(rowCount-1);\n\n\n        var mystring1='&lt;td class=\"formlabel\"&gt;&lt;h4&gt;Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;&lt;/td&gt;&lt;td class=\"formgap\"&gt;&lt;/td&gt;&lt;td class=\"formlabel\"&gt;&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;&lt;/td&gt;';\n\nrow.innerHTML =mystring1;\n\n    }catch(e) {\n        alert(e);\n    }\n    }\n</code></pre>\n\n<p>HTML part</p>\n\n<pre><code>&lt;table id=\"table1\" width=\"792\" border=\"0\"&gt;\n\n&lt;tr class=\"rowdiv\"&gt;\n      &lt;td class=\"formlabel\"&gt;&lt;h4&gt;Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;&lt;/td&gt;\n      &lt;td class=\"formgap\"&gt;&lt;/td&gt;\n      &lt;td class=\"formlabel\"&gt;&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;\n      &lt;td class=\"formfield\"&gt;&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n\n      &lt;tr class=\"rowdiv\"&gt;\n        &lt;td width=\"170\" class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"formgap\"&gt;&lt;/td&gt;\n        &lt;td class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"formfield\"&gt;&lt;h6 onclick=\"addrow('table1')\"&gt;Add policy&lt;/h6&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n\n    &lt;/table&gt;\n</code></pre>\n\n<p>Actually I already tried to add a table into a row using a second function..</p>\n\n<pre><code>var mystring2='&lt;td&gt;&lt;table width=\"200\" border=\"1\" class=\"tableborder\" align=\"center\"&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td width=\"799\" class=\"formheader\" &gt;&lt;h4&gt;Comany Details&lt;/h4&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td width=\"799\"&gt;&lt;table id=\"table'+rowCount+'\" width=\"792\" border=\"0\"&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Company ID&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td width=\"205\" class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td width=\"20\" class=\"formgap\"&gt;&lt;/td&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Company &amp;nbsp;&amp;nbsp;&amp;nbsp; Name &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td width=\"205\" class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type\" id=\"type\" size=\"30\"/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Address &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td width=\"205\" class=\"formfield\"&gt;&lt;textarea name=\"textarea\" id=\"textarea\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;&lt;/td&gt;&lt;td width=\"20\" class=\"formgap\"&gt;&lt;/td&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Phone Number &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td width=\"205\" class=\"formfield\"&gt;&lt;h6&gt;&lt;input type=\"text\" name=\"type2\" id=\"type2\" size=\"30\"/&gt;&lt;/h6&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;Fax Number &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type3\" id=\"type3\" size=\"30\"/&gt;&lt;/td&gt;&lt;td class=\"formgap\"&gt;&lt;/td&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&lt;h4&gt;E Mail &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type5\" id=\"type5\" size=\"30\"/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td class=\"formlabel\"&gt;&lt;h4&gt;Web Site &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type7\" id=\"type7\" size=\"30\"/&gt;&lt;/td&gt;&lt;td class=\"formgap\"&gt;&lt;/td&gt;&lt;td class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td class=\"formlabel\"&gt;&lt;h4&gt;Type &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;input type=\"text\" name=\"type7\" id=\"type8\" size=\"30\"/&gt;&lt;/td&gt;&lt;td class=\"formgap\"&gt;&lt;/td&gt;&lt;td class=\"formlabel\"&gt;&lt;h4&gt;Description &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;textarea name=\"textarea2\" id=\"textarea2\" cols=\"28\" rows=\"2\"&gt;&lt;/textarea&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\"rowdiv\"&gt;&lt;td width=\"170\" class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=\"formgap\"&gt;&lt;/td&gt;&lt;td class=\"formlabel\"&gt;&amp;nbsp;&lt;/td&gt;&lt;td class=\"formfield\"&gt;&lt;h6 onclick=\"addrow('+\"'table\"+rowCount+\"'\"+')\"&gt;&lt;a href=\"#\"&gt;Add row&lt;/a&gt;&lt;/h6&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt;&lt;/td&gt;';\n</code></pre>\n\n<p>All these codes are working in chrome and firefox..</p>\n",
            "last_activity_date": 1383724925,
            "question_id": 9110044,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "internet-explorer"
            ],
            "title": "IE shows run time error for innerHTML"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Function declarations are not <em>valid</em> in blocks. You have undefined behaviour <em>which is</em> undefined.</p>\n\n<p>Function declarations at a top level (either global or top level within a function) are hoisted.</p>\n\n<p>Function declarations inside blocks are a syntax error in strict mode</p>\n\n<pre><code>(function () { \n  \"use strict\"; \n  if (true) { \n    function g() { } \n  } \n})();\n</code></pre>\n\n<p><code>SyntaxError: In strict mode code, functions can only be declared at top level or immediately within another function.</code></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>The ECMA standard for this behavior is to throw a SyntaxError when parsing the script.  Unfortunately doing that is not compatible with the web as Raynos says.</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/5758042/which-js-function-declaration-syntax-is-correct-according-to-the-standard\">Which JS function-declaration syntax is correct according to the standard?</a> for some extended discussion on the issue.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Although I couldn't find a reference to this easily in google, I'm familiar with the fact that, in javascript, global function declarations get interpreted before any code is executed. In other words, this works fine:</p>\n\n<pre><code>f();\nfunction f() {}\n</code></pre>\n\n<p>However, I've noticed that chrome and firefox have different interpretations of what a global function declaration is. In particular, chrome is happy reading a function declaration that is inside an if block in the first pass, but firefox is not.</p>\n\n<pre><code>try {document.write(f);}               // works in chrome\ncatch(e) {document.write(e.message);}  // throws an error in firefox\n\ntry {document.write(g);}               // works in chrome and firefox\ncatch(e) {document.write(e.message);}\n\nif(true) function f() {}\nfunction g() {}\n</code></pre>\n\n<p>You can try this example yourself with this <a href=\"http://jsfiddle.net/cmacrander/ZRPT4/2/\" rel=\"nofollow\">fiddle</a>. I'm using Chrome 16.0.912.75 and Firefox 9.0.1.</p>\n\n<p>What is the ECMA standard for this behavior? Is there a term for this process of \"lifting\" function declarations above other code? Is what code gets \"lifted\" open to interpretation (are both browsers right)? Or is it a bug in one of them?</p>\n",
            "last_activity_date": 1326691937,
            "question_id": 8871974,
            "score": 3,
            "tags": [
                "javascript",
                "firefox",
                "google-chrome"
            ],
            "title": "Why are function declarations handled differently in different browsers?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Are you waiting for the image to fully load before calling <code>canvas.drawImage</code>?</p>\n\n<pre><code>var img = new Image();\nimg.onload = function(){\n    canvas.drawImage(img,0,0);\n    //do whatever else here\n};\nimg.src = 'foo.jpg';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The behavior you describe is per <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#security-with-canvas-elements\" rel=\"nofollow\">the specification</a>. Excerpted:</p>\n\n<blockquote>\n  <p>All <code>canvas</code> elements must start with their <em>origin-clean</em> set to true. The flag must be set to false if any of the following actions occur:</p>\n  \n  <ul>\n  <li>The element's 2D context's <code>drawImage()</code> method is called with an <code>HTMLImageElement</code> or an <code>HTMLVideoElement</code> whose origin is not the same as that of the <code>Document</code> object that owns the <code>canvas</code> element.</li>\n  </ul>\n  \n  <p>[...]</p>\n  \n  <p>Whenever the <code>toDataURL()</code> method of a <code>canvas</code> element whose <em>origin-clean</em> flag is set to false is called, the method must throw a <code>SecurityError</code> exception.</p>\n</blockquote>\n\n<p>The only way to circumvent this is to use a server-side technology to fetch the remote image for you and re-serve it from your same domain.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Well not exactly. If I just draw (ex lines,rect...) and try to export the canvas as an image. It works fine. If I however use the <code>canvas.drawImage(...)</code> function which places an image on the canvas. Then try to export it as an image, I get the following security error:</p>\n\n<pre><code>[16:05:05.326] uncaught exception: [Exception... \"Security error\"  code: \"1000\" nsresult: \n\"0x805303e8 (NS_ERROR_DOM_SECURITY_ERR)\"  location: \n\"http://127.0.0.1:8020/Blackboard/Models/BlackboardCanvas.js Line: 82\"]\n</code></pre>\n\n<p>I was assuming that the <code>canvas.drawImage</code> would take the raw pixel from the image and paste it onto the canvas, but I guess I was wrong. What can I do?</p>\n",
            "last_activity_date": 1321325784,
            "question_id": 8128118,
            "score": 3,
            "tags": [
                "javascript",
                "security",
                "html5",
                "canvas"
            ],
            "title": "Get security error when saving canvas object into an image"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I'm not sure about this line:</p>\n\n<pre><code>var flashFile = eval(\"window.document.test\");\n</code></pre>\n\n<p>I would use:</p>\n\n<pre><code>var flashFile = document.getElementById(\"test\");\n</code></pre>\n\n<hr>\n\n<p>Also, I'm guessing this was just a typo when pasting here, but <code>flashFile.js_method_to_call;</code> should be <code>flashFile.js_method_to_call();</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's something that should work really good:</p>\n\n<ol>\n<li><p>Use SWFObject.js for embedding the Flash content:</p>\n\n<pre><code>// Embedding through SWFObject rocks in comparison with Adobe shits:\nvar flashvars = {};\n\nvar params                  =   {};\nparams.menu                 =   \"false\";\nparams.salign               =   \"t\";\nparams.scale                =   \"noscale\";\nparams.wmode                =   \"transparent\";\nparams.allowScriptAccess    =   \"always\";\n\nvar attributes              =   {};\nattributes.id = \"${swf}\";\n\nswfobject.embedSWF(\"${swf}.swf\", \"flashDiv\", \"${width}\", \"${height}\", \"9.0.0\", \"\", flashvars, params, attributes);\n</code></pre></li>\n<li><p>Use this for the HTML:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div id=\"flashDiv\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre></li>\n<li><p>To call your Flash method use this pattern:</p>\n\n<pre><code>// Functions needed for calling Flex ExternalInterface\nfunction thisMovie(movieName) \n{\n    if (navigator.appName.indexOf(\"Microsoft\") != -1) \n    {\n        return window[movieName];\n    } \n    else \n    {\n        return document[movieName];\n    }\n}\n</code></pre></li>\n<li><p>Call the Flash method:</p>\n\n<pre><code>function callFlashMethod()\n{\n    thisMovie(\"${swf}\").js_method_to_call();\n}\n</code></pre></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>You get a reference to your embedded SWF object and use it to make a call to your as3 method.</p>\n\n<pre><code>//AS3 Code\nExternalInterface.addCallback(\"helloFromJS\",helloFromJS);\n\nprivate function helloFromJS():void\n{\n    trace(\"JS is saying hello\");\n}\n\n\n//HTML Code\n&lt;object width=\"100%\" height=\"100%\" id=\"Test\"&gt;\n          &lt;param name=\"movie\" value=\"Test.swf\"/&gt;\n\n//JS Code\nvar swfObject = document.getElementById(\"Test\");\nswfObject.helloFromJS();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>There is an interesting and quite detailed tutorial here\n<a href=\"http://bytes.com/topic/flash/answers/694359-how-do-i-access-flash-function-using-javascript#post2759970\" rel=\"nofollow\">http://bytes.com/topic/flash/answers/694359-how-do-i-access-flash-function-using-javascript#post2759970</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/external/ExternalInterface.html?filter_flash=cs5&amp;filter_flashplayer=10.2&amp;filter_air=2.6\" rel=\"nofollow\">http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/external/ExternalInterface.html?filter_flash=cs5&amp;filter_flashplayer=10.2&amp;filter_air=2.6</a></p>\n\n<p>This page describe the solution very well, just try to make that sample work. So you can sort out the problem, and Vladimir Tsvetkov's answer is complete.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I tried to call a flash callback method from JavaScript.\nBut it seems not working.\nThe flash action script example code is like below [Simplified]:</p>\n\n<pre><code>import flash.events.ActivityEvent; \nimport flash.events.StatusEvent; \nimport flash.external.ExternalInterface;\n\nvar test_var = ExternalInterface.addCallback(\"js_method_to_call\", flash_method);\n\n\nfunction flash_method()\n{   \n  return \"test\"; \n}\n</code></pre>\n\n<p>The javascript example code is written below [Simplified]:</p>\n\n<pre><code> function callFlashMethod(){\n   var flashFile = eval(\"window.document.test\");\n   flashFile.js_method_to_call;\n }\n function loadTest(){\n   swfobject.embedSWF(\"test.swf\", \"test\", \"1\", \"1\", \"10.0.0\", false);\n }\n\n $(document).ready(function(){\n   loadTest();\n   callFlashMethod();\n });\n</code></pre>\n\n<p>It is always display the error in fire bug console \"flashFile.js_method_to_call is not a function\".</p>\n",
            "last_activity_date": 1400858526,
            "question_id": 7657842,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "flash",
                "actionscript-3",
                "swfobject"
            ],
            "title": "How to call flash actionscript callback method from javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You cannot invoke any methods of an extension from within a web page. However, it's possible to inject a content script into the web page, and use <code>sendMessage</code> and <code>onMessage</code>, or <code>onConnect</code> and <code>connect</code>.</p>\n\n<p>To edit an extension: Visit <code>chrome://extensions</code> page, and enable the Developer mode. Unpack an extension and/or visit the extension's directory. Edit the <code>manifest.json</code> file, and add the necessary lines (see <a href=\"https://developer.chrome.com/extensions/content_scripts\" rel=\"nofollow\">here</a>).</p>\n\n<p>Add an event event listener at the background page. Add a poller in the content script, eg:</p>\n\n<pre><code>// Content script\nvar poller = window.setInterval(function() {\n   if (document.documentElement.getAttribute('extensionCalled')) {\n       chrome.extension.sendMessage({\"anyname\": \"anything\"}, function() {\n           /*optional callback function.*/alert(\"Something happened\")\n       });\n       clearInterval(poller);\n   }\n}, 200);\n\n// Background\nchrome.extension.onMessage.addListener(function(request, sender, callback) {\n    if (request.anyname == \"anything\") {\n        function_logic_here();\n        //Optionally, callback:\n        callback();\n    }\n});\n</code></pre>\n\n<h2>See also</h2>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/9636008/938089\">Chrome extension - retrieving Gmail's original message</a> - Using DOM events to communicate between a page and extension (recommended)</li>\n<li>MDN: <a href=\"https://developer.mozilla.org/en/DOM/window.postMessage\" rel=\"nofollow\"><code>postMessage</code></a> - It can be used to communicate between a page and extension (this method may cause conflicts when the page itself is also using the <code>message</code> events).</li>\n</ul>\n\n<h2>References:</h2>\n\n<ul>\n<li><a href=\"http://code.google.com/chrome/extensions/messaging.html\" rel=\"nofollow\">Extension messaging</a></li>\n<li><a href=\"http://code.google.com/chrome/extensions/extension.html#content%20scripts\" rel=\"nofollow\">Content scripts</a></li>\n<li><a href=\"https://developer.chrome.com/extensions/content_scripts\" rel=\"nofollow\">Content scripts in extensions</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>It would only be possible if the extension provides an interface to do it. Extensions run in an isolated environment, so you don't have direct access to any of their functions.</p>\n\n<p>The closest they get is content scripts, which have access to the DOM. Because of that, you <em>can</em> communicate using events, but obviously the extension would need to set up event handlers for them, so it completely depends on the extension.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>There is an excellent extension called <a href=\"http://intenseminimalism.com/2010/blipshot-real-one-click-screenshots-for-google-chrome\" rel=\"nofollow\">Blipshot</a> which takes page screenshots. I need to invoke the extension with page level javascript, instead of clicking its icon. Is this possible?</p>\n",
            "last_activity_date": 1396179102,
            "question_id": 7597310,
            "score": 3,
            "tags": [
                "javascript",
                "google-chrome-extension"
            ],
            "title": "Invoking a Google Chrome extension from Javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Probably <a href=\"http://stackoverflow.com/questions/5322608/jqgrid-tree-view-adjacencey/5333199#5333199\">this</a> old answer could help you. The demo which used the last current version of jqGrid you can find <a href=\"http://www.ok-soft-gmbh.com/jqGrid/LocalAdjacencyTree2.htm\" rel=\"nofollow\">here</a>.</p>\n\n<p><strong>UPDATED</strong>: Now I would be prefer to use <code>datatype: \"jsonstring\"</code> which is almost the same as <code>datatype: \"local\"</code>. One need to use <code>datastr: mydata</code> instead of <code>data: mydata</code> in the case. Additionally one have to use <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aretrieving_data#jsonreader_as_function\" rel=\"nofollow\">jsonReader as function</a>. As the result one will have the following <a href=\"http://www.ok-soft-gmbh.com/jqGrid/LocalAdjacencyTree3.htm\" rel=\"nofollow\">modified demo</a>.</p>\n\n<p>The corresponding code of the demo you find below</p>\n\n<pre><code>var mydata = [\n    { id:\"1\", name:\"Cash\",   num:\"100\", debit:\"400.00\",credit:\"250.00\", balance:\"150.00\", enbl:\"1\",\n      level:\"0\", parent:\"\",  isLeaf:false, expanded:false, loaded:true },\n    { id:\"2\", name:\"Cash 1\", num:\"1\",   debit:\"300.00\",credit:\"200.00\", balance:\"100.00\", enbl:\"0\",\n      level:\"1\", parent:\"1\", isLeaf:false, expanded:false, loaded:true },\n    { id:\"3\", name:\"Sub Cash 1\", num:\"1\",debit:\"300.00\",credit:\"200.00\", balance:\"100.00\", enbl:\"1\",\n      level:\"2\", parent:\"2\", isLeaf:true,  expanded:false, loaded:true },\n    { id:\"4\", name:\"Cash 2\", num:\"2\",debit:\"100.00\",credit:\"50.00\", balance:\"50.00\", enbl:\"0\",\n      level:\"1\", parent:\"1\", isLeaf:true,  expanded:false, loaded:true },\n    { id:\"5\", name:\"Bank\\'s\", num:\"200\",debit:\"1500.00\",credit:\"1000.00\", balance:\"500.00\", enbl:\"1\",\n      level:\"0\", parent:\"\",  isLeaf:false, expanded:true, loaded:true },\n    { id:\"6\", name:\"Bank 1\", num:\"1\",debit:\"500.00\",credit:\"0.00\", balance:\"500.00\", enbl:\"0\",\n      level:\"1\", parent:\"5\", isLeaf:true,  expanded:false, loaded:true },\n    { id:\"7\", name:\"Bank 2\", num:\"2\",debit:\"1000.00\",credit:\"1000.00\", balance:\"0.00\", enbl:\"1\",\n      level:\"1\", parent:\"5\", isLeaf:true,  expanded:false, loaded:true },\n    { id:\"8\", name:\"Fixed asset\", num:\"300\",debit:\"0.00\",credit:\"1000.00\", balance:\"-1000.00\", enbl:\"0\",\n      level:\"0\", parent:\"\",  isLeaf:true,  expanded:false, loaded:true }\n    ],\n    grid = $(\"#treegrid\");\n\ngrid.jqGrid({\n    datatype: \"jsonstring\",\n    datastr: mydata,\n    colNames:[\"Id\",\"Account\",\"Acc Num\",\"Debit\",\"Credit\",\"Balance\",\"Enabled\"],\n    colModel:[\n        {name:'id', index:'id', width:1, hidden:true, key:true},\n        {name:'name', index:'name', width:180},\n        {name:'num', index:'acc_num', width:80, align:\"center\"},\n        {name:'debit', index:'debit', width:80, align:\"right\"},\n        {name:'credit', index:'credit', width:80,align:\"right\"},\n        {name:'balance', index:'balance', width:80,align:\"right\"},\n        {name:'enbl', index:'enbl', width: 60, align:'center',\n         formatter:'checkbox', editoptions:{value:'1:0'},\n         formatoptions:{disabled:false}}\n    ],\n    height: 'auto',\n    gridview: true,\n    rowNum: 10000,\n    sortname: 'id',\n    treeGrid: true,\n    treeGridModel: 'adjacency',\n    treedatatype: \"local\",\n    ExpandColumn: 'name',\n    caption: \"Demonstrate how to use Tree Grid for the Adjacency Set Model\",\n    jsonReader: {\n        repeatitems: false,\n        root: function (obj) { return obj; },\n        page: function (obj) { return 1; },\n        total: function (obj) { return 1; },\n        records: function (obj) { return obj.length; }\n    }\n});\n</code></pre>\n\n<p><strong>UPDATED 2</strong>: One should use <code>parent:\"null\"</code> or <code>parent:null</code> instead of <code>parent:\"\"</code>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p><a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3atreegrid\" rel=\"nofollow\" title=\"jqGrid docs\">jqGrid docs</a> for tree grid say: \"Currently jqGrid can work only with data returned from server. There are some tricks and articles wich describes how to work with local data.\"</p>\n\n<p>Fair enough, but I was unable to find such articles. Any hints on how I can achieve it, preferably with equivalent of <code>datatype=local</code>?</p>\n",
            "last_activity_date": 1394468220,
            "question_id": 6788727,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "jqgrid"
            ],
            "title": "jqGrid tree grid with local data"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is the basics of how to redirect a specific URL.</p>\n\n<pre><code>function interceptRequest(request) {\n  console.log('onBeforeRequest ', request.url);\n  if (request &amp;&amp; request.url &amp;&amp; request.url === 'http://example.org/') {\n    return { redirectUrl: 'http://www.google.com' }\n  }\n}\nchrome.experimental.webRequest.onBeforeRequest.addListener(interceptRequest, null, ['blocking']);\n</code></pre>\n\n<p>You can also replace <code>null</code> with an object that further restricts the URL matching as Chrome will be more performant then having JS do it. Be careful not to be too greedy in what you redirect though as that can cause issues with general web browsing.</p>\n\n<pre><code>function interceptRequest(request) {\n  return { redirectUrl: 'http://example.com/chat2.swf' }\n}\nchrome.experimental.webRequest.onBeforeRequest.addListener(interceptRequest, { urls: ['http://example.com/swf'] }, ['blocking']);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm trying to use webRequest API to change the loaded .swf file on a webpage... The page loads a file called chat.swf, but i want to redirect to chat2.swf in the same directory in order to use the other file. I was told that this could work, but I have no idea how to use this API correctly and I cannot find any examples @_@</p>\n\n<pre><code>function incerceptChat(chat){\n    console.log( \"onBeforeRequest\", details );\n        if(chat.url == swf1){\n            chat = swf2;\n        }\n}\n</code></pre>\n\n<p>that's my function that's supposed to change the URL, but I have been unable to get it to work (probably wrong syntax somewhere...) and I'm using this to listen:</p>\n\n<pre><code>chrome.experimental.webRequest.onBeforeRequrest.addListener(interceptChat, {\"redirectUrl\": chat});\n</code></pre>\n",
            "last_activity_date": 1308885833,
            "question_id": 6447082,
            "score": 3,
            "tags": [
                "javascript",
                "api",
                "redirect",
                "google-chrome-extension",
                "webrequest"
            ],
            "title": "using chrome.experimental.webRequest API to change loaded file?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>//test for iOS retina display\n$.mobile.media(\"screen and (-webkit-min-device-pixel-ratio: 2)\");\n</code></pre>\n\n<p>Docs: <a href=\"http://jquerymobile.com/demos/1.0a4.1/#docs/api/mediahelpers.html\" rel=\"nofollow\">http://jquerymobile.com/demos/1.0a4.1/#docs/api/mediahelpers.html</a></p>\n\n<p>UPDATE:</p>\n\n<p>After looking for a minute I found the jQuery can change the meta tag.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>// Check for iPhone screen size\nif($.mobile.media(\"screen and (min-width: 320px)\")) {\n    // Check for iPhone4 Retina Display\n    if($.mobile.media(\"screen and (-webkit-min-device-pixel-ratio: 2)\")) {\n        $('meta[name=viewport]').attr('content','width=device-width, user-scalable=no,initial-scale=.5, maximum-scale=.5, minimum-scale=.5');\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>How to change the meta viewport based on device resolution? we can use media queries to target different resolution screens how can set different viewport?</p>\n\n<p>like my demo site works ok in iPad with this meta tag</p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no,initial-scale=1, maximum-scale=1, minimum-scale=1\" /&gt;\n</code></pre>\n\n<p>but for iphone4 I need this</p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no,initial-scale=.5, maximum-scale=.5, minimum-scale=.5\" /&gt;\n</code></pre>\n",
            "last_activity_date": 1307036184,
            "question_id": 6216409,
            "score": 3,
            "tags": [
                "javascript",
                "jquery-mobile"
            ],
            "title": "changing viewport based on device resolution"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>javascript is desgined for single process single thread runtime, and browser also puts UI rendering in this thread, so if you sleep the thread, UI rendering such as gif animation and element's event will also be blocked, the browser will be in \"not responding\" state.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Because \"sleep()\" in JavaScript would make for a potentially horrible user experience, by freezing the web browser and make it unresponsive.  </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Maybe a combination of setTimeout and yield would work for your needs?</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2282140/whats-the-yield-keyword-in-javascript\">What&#39;s the yield keyword in javascript?</a></p>\n\n<p>You could keep local function scope while letting the browser keep going about its work.</p>\n\n<p>Of course that is only in Mozilla at the moment?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I think 'sleep'ing is something you do not want in your browser.</p>\n\n<p>First of all it might be not clear what has to happen and how a browser should behave when you actually sleep.</p>\n\n<ul>\n<li><p>Is the complete Script runtime sleeping? Normally it should because you only have one thread running your code. So what happens if other events oocur during sleep? they would block, and as soon execution continues all blocked events would fire. That will cause an odd behaviour as you might imagine (for instance mouse click events which are fired some time, maybe seconds, after the actual click). Or these events had to be ignored, which will lead to a loss of information.</p></li>\n<li><p>What will happen to your browser? Shall it wait for sleep if the user clicks a (e.g. close window) button? I think not, but this might actually call javascript code again (unload) which will not be able to be called since program execution is sleeping.</p></li>\n</ul>\n\n<p>On a second thought sleep is a sign of poor program design. Actually a program/function/you name it has a certain task, which shall be completed as soon as possible. Sometimes you have to wait for a result (for instance you wait for an XHR to complete) and you want to continue program execution meanwhile. In this case you can and should use asynchronous calls. This results in two advantages:</p>\n\n<ul>\n<li>The speed of all scripts is enhanced (no blocking of other scripts due to sleep)</li>\n<li>The code is executed exactly when it should and not before or after a certain event (which might lead to other problems like deadlocks if two functions check for the same condition ...)</li>\n</ul>\n\n<p>... which leads to another problem: Imagine two or more pieces of code would call sleep. They would hinder themselves if they try to sleep at the same, maybe unnecessarily. This would cause a lot of trouble when you like to debug, maybe you even have difficulties in ensuring which function sleeps first, because you might control this behavior somehow.</p>\n\n<p>Well I think that it is one of the good parts of Javascript, that sleep does not exist. However it might be interesting how multithreaded javascripts could perform in a browser ;) </p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>What you want is a combination of <code>yield</code> and <code>Deferreds</code> (from <code>jquery</code> for example).</p>\n\n<p>It's called sometimes pseudoThreads, Light Threading or Green Threads. And you can do exactly what you want with them in javascript > 1.7 . And here is how:</p>\n\n<p>You'll need first to include this code:</p>\n\n<pre><code>$$ = function (generator) {\n    var d = $.Deferred();\n    var iter;\n    var recall = function() {\n       try {var def = iter.send.apply(iter, arguments);} catch(e) {\n          if (e instanceof StopIteration) {d.resolve(); return;}\n          if (e instanceof ReturnValueException) {\n              d.resolve(e.retval); return\n          };\n          throw e;\n       };\n       $.when(def).then(recall);      // close the loop !\n    };\n    return function(arguments) {\n         iter = generator.apply(generator, arguments);\n         var def = iter.next();        // init iterator\n         $.when(def).then(recall);     // loop in all yields\n         return d.promise();           // return a deferred\n    }\n}\n\nReturnValueException = function (r) {this.retval = r; return this; };\nReturn = function (retval) {throw new ReturnValueException(retval);};\n</code></pre>\n\n<p>And of course call jquery code to get the <code>$</code> JQuery acces (for Deferreds).</p>\n\n<p>Then you'll be able to define once for all a Sleep function:</p>\n\n<pre><code>function Sleep(time) {\n  var def = $.Deferred();\n  setTimeout(function() {def.resolve();}, time);\n  return def.promise();\n}\n</code></pre>\n\n<p>And use it (along with other function that could take sometime):</p>\n\n<pre><code>// Sample function that take 3 seconds to execute\nfakeAjaxCall = $$(function () {\n   yield (Sleep(3000));\n   Return(\"AJAX OK\");\n});\n</code></pre>\n\n<p>And there's a fully featured demo function:</p>\n\n<pre><code>function log(msg) {$('&lt;div&gt;'+msg+'&lt;/div&gt;').appendTo($(\"#log\")); }\n\ndemoFunction = $$(function (arg1, arg2) {\n   var args = [].splice.call(arguments,0);\n   log(\"Launched, arguments: \" + args.join(\", \"));\n   log(\"before sleep for 3secs...\");\n   yield (Sleep(3000));\n   log(\"after sleep for 3secs.\");\n\n   log(\"before call of fake AjaxCall...\");\n   ajaxAnswer = yield (fakeAjaxCall());\n   log(\"after call of fake AjaxCall, answer:\" + ajaxAnswer);\n\n   // You cannot use return, You'll have to use this special return\n   // function to return a value\n   log(\"returning 'OK'.\");\n   Return(\"OK\");\n   log(\"should not see this.\");\n});\n</code></pre>\n\n<p>As you can see, syntax is a little bit different:</p>\n\n<p>Remember:</p>\n\n<ul>\n<li>any function that should have these features should be wrapped in <code>$$(myFunc)</code></li>\n<li><code>$$</code> will catch any yielded value from your function and resume it only when\nthe yielded value has finished to be calculted. If it's not a defered, it'll work\nalso. </li>\n<li>Use 'Return' to return a value.</li>\n<li>This will work only with Javascript 1.7 (which is supported in newer firefox version)</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Why there no such function in javascript that <em>sets a timeout for its continuation, saves the necessary state (the scope object and the execution point), terminates the script and gives the control back to the browser?</em> After the timeout expires the browser would load back the execution context and continues the script, and we would have a real non browser blocking sleep functionality that would work even if the JS engine is single threaded.</p>\n\n<p>Why there is still no such functionality in javascript? Why do we have to still slice our code into functions and set the timeouts to the next step to achieve the sleep effect?</p>\n",
            "last_activity_date": 1319890476,
            "question_id": 5832276,
            "score": 3,
            "tags": [
                "javascript",
                "browser",
                "language-design"
            ],
            "title": "Why there is no sleep functionality in javascript when there is setTimeout and setInterval?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Enclose your Javascript in CDATA Sections:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n/* &lt;![CDATA[ */\n\n    function isNumber(inputId){\n\n            var value = document.getElementById('mainForm:'+ inputId).value;\n            var  s = value.length;\n\n            while(s &gt;= 0){\n                var c = value.charAt(s);\n                if(c &gt; \"9\"){\n                    alert(\"Value must be digit\");\n                    document.getElementById('mainForm:'+ inputId).value = \"\";\n                    document.getElementById('mainForm:'+ inputId).focus();\n                    return false;\n                }\n                s --;\n            }\n            return true;\n        }\n\n        //Code containing \"&lt;\" also comes in this section\n\n/* ]]&gt; */\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>As explained by Matt Handy, you could not use the <code>&lt;</code> or <code>&gt;</code> sign in your JSPX, as this is a XML format. You have three solutions regarding your problem:</p>\n\n<ul>\n<li>Escape by using <code>&amp;lt;</code> or <code>&amp;gt;</code>.</li>\n<li>Use <code>&lt;![CDATA[ ... ]]&gt;</code> to hold your JavaScript code in your page.</li>\n<li>Set your JavaScript code in a separate <code>.js</code> file, and load it in your JSPX page.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Besides the escaping and CDATA answers:</p>\n\n<p>If you want to check if a value is a number, there is a javascript built-in function for that: <code>isNaN</code></p>\n\n<p>Here is an example:</p>\n\n<pre><code>if (isNaN(document.getElementById('mainForm:'+ inputId).value))\n  {\n    alert(\"Please enter digits\");\n    document.getElementById(obj).focus();\n    document.getElementById(obj).select();\n    return false;\n  }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I have file with jspx extension i write javascript like </p>\n\n<pre><code>function isNumber(inputId){\n\n            var value = document.getElementById('mainForm:'+ inputId).value;\n            var  s = value.length;\n\n            while(s &gt;= 0){\n                var c = value.charAt(s);\n                if(c &gt; \"9\"){\n                    alert(\"Value must be digit\");\n                    document.getElementById('mainForm:'+ inputId).value = \"\";\n                    document.getElementById('mainForm:'+ inputId).focus();\n                    return false;\n                }\n                s --;\n            }\n            return true;\n        }\n</code></pre>\n\n<p>that work perfect but when i check if condition like  if(c > \"9\" || c &lt; \"0\") it will gives error like </p>\n\n<pre><code>com.sun.facelets.FaceletException: Error Parsing /WEB-INF/includes/templates/cc-classic-template.jspx: Error Traced[line: 386] The content of elements must consist of well-formed character data or markup.\n</code></pre>\n\n<p>After long observation i found that &lt;(less than) sign will create problem.\nIs JSF not support &lt; sign ?</p>\n",
            "last_activity_date": 1301037645,
            "question_id": 5429420,
            "score": 3,
            "tags": [
                "javascript",
                "jsf",
                "icefaces"
            ],
            "title": "javascript in jsf/icefaces"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You are not passing a string otherwise it would have a <code>replace</code> method. I hope you didnt type <code>function trim(str) { return var.replace(blah); }</code> instead of <code>return str.replace</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>My guess is that the code that's calling your <code>trim</code> function is <em>not</em> actually passing a string to it.</p>\n\n<p>If you post that code, I could update my answer.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Did you call your function properly? Ie. is the thing you pass as as a parameter really a string?</p>\n\n<p>Otherwise, I don't see a problem with your code - the example below works as expected</p>\n\n<pre><code>function trim(str) {\n    return str.replace(/^\\s+|\\s+$/g,'');\n}\n\n\ntrim('    hello   ');  // --&gt; 'hello'\n</code></pre>\n\n<p>However, if you call your functoin with something non-string, you will indeed get the error above:</p>\n\n<pre><code>trim({});  // --&gt; TypeError: str.replace is not a function\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I fixed the problem.... sorry I should have put the code on how I was calling it too.... realized I accidentally was passing the object of the form field itself rather than it's value.</p>\n\n<p>Thanks for your responses anyway. :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should probably do some validations before you actually execute your function : <pre>function trim(str){\n    if(typeof str != \"string\")\n        throw new Error('only string parameter supported!');\n    return str.replace(/^\\s+|\\s+$/g,'');\n}\n</pre></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h1>probable issues:</h1>\n\n<p>If variable is :<br/>\n1) a <strong>NUMBER</strong>, instead of string.</p>\n\n<p>2) an <strong>object</strong>, instead of string;</p>\n\n<p>3) not set.</p>\n\n<p><br/>\np.s. solution for <strong>1st</strong> case:</p>\n\n<pre><code>MyVariable.replace(3,'three');\n\nvar MyVariable=35;    =====&gt; ERROR\nvar MyVariable='35';  =====&gt; CORRECT\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm using the below code to try to trim the string in Javascript but am getting the error mentioned in the title:</p>\n\n<pre><code>function trim(str) {\n    return str.replace(/^\\s+|\\s+$/g,'');\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>I fixed the problem.... sorry I should have put the code on how I was calling it too.... realized I accidentally was passing the object of the form field itself rather than its value.</p>\n",
            "last_activity_date": 1421844251,
            "question_id": 4775206,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "var.replace is not a function"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Javascript only speaks HTTP and WebSockets (on newer browsers), and not FTP. In that situation, keeping it all on the client-side, you'd probably have to write a Flash or Java applet that handles the actual FTP protocol, and interface with Javascript to provide interactivity.</p>\n\n<p>Unless you're planning on redirecting the browser to the ftp site, passing in the username and password? Are you concerned about the users getting the FTP information, or are you concerned with man-in-the-middle attacks sniffing the plaintext FTP credentials?</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>JavaScript doesn't support FTP. What you need is a server-side or a more robust client-side language to access the remote server.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If by \"downloading\" you mean \"prompt user to save a file from external link\" (which basically means open a new window with URL that points to a file) then you can just point user to a script you have control over.</p>\n\n<pre><code>window.open('http://myserver/get_file/filename');\n</code></pre>\n\n<p>And your server-side <code>get_file</code> script will do all the work of connecting to a FTP and fetching a file</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>How about creating an iframe and setting the url to <a href=\"ftp://whatever\" rel=\"nofollow\">ftp://whatever</a>?</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a got a file server and a web server. They are running on physically different machines.</p>\n\n<p>I would like to download a file from the FTP server via JavaScript. The reason I have to do it via JavaScript is that I have an external application and I can only inject JavaScript into that application.</p>\n\n<p>Basically, I need to specify ftp address username and password. But I am concerning about security as people can view FTP credentials. </p>\n\n<p>What is the best way to implement such scenario? </p>\n\n<p>Thanks for your help</p>\n\n<p>Regards</p>\n",
            "last_activity_date": 1308499061,
            "question_id": 4594798,
            "score": 3,
            "tags": [
                "javascript",
                "ftp"
            ],
            "title": "Download file from FTP via Javascript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Due this map is loaded inside an iFrame, it's not possible to run any javascript event listeners on the links, neither is it possible to change the html.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To make a link popup in a new window you would usually use <code>target=\"_blank\"</code> as such:</p>\n\n<pre><code>&lt;a href=\"http://www.yahoo.com\" target=\"_blank\"&gt;Go to Yahoo&lt;/a&gt;\n</code></pre>\n\n<p>However this will only work if you can modify the code you're showing within the iFrame</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can't (or it is <em>extremely</em> hard to ) make events inside the iframe affect the parent page.  This is to prevent attacks from XSS, or <a href=\"http://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"nofollow\">cross site scripting</a>. Having said that, if the site within the iframe is on your own <strong>domain</strong> and you want to set up some extremely tricky ajaxing and php session IDs, <em>maybe</em> you could make something work, but even then I'm not sure.  And I don't know if this would be a security hole, maybe someone else can speak to that. It would perhaps look like:</p>\n\n<ol>\n<li>main page sets up session ID and passes that to the iframe url via a get variable</li>\n<li>the iframe takes click information and sends it to a Session variable via an ajaxing call to a script on the server.</li>\n<li>The main page then reads (how?) the session cookie and makes changes based on it's value.</li>\n</ol>\n\n<p>All in all, you may find that it may be much simpler and more secure to acheive what you want using a different method.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You will need some kind of open API to do this properly, and <a href=\"http://www.eniro.se/\">Eniro</a> doesn't provide one according to <a href=\"http://www.eniro.se/hjalp/flygfoto/\">this page</a> (in Swedish).</p>\n\n<p>I would recommend you to use the <a href=\"http://code.google.com/apis/maps/documentation/javascript/\">Google Maps API v3</a> instead. I've made an <strong><a href=\"http://www.jsfiddle.net/mekwall/Dvxbv/\">example on jsFiddle</a></strong> that looks similar to that of Eniro.</p>\n\n<p>I'll gladly give you more help with this, so just ask away!</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>There is a <strong>partial solution</strong>.</p>\n\n<p>You can add an absolutely positioned DIV tag over the top of the IFRAME and capture clicks on this instead. See example here shaded in 20% alpha red.</p>\n\n<p><strong><a href=\"http://www.jsfiddle.net/rkd59/6/\" rel=\"nofollow\">http://www.jsfiddle.net/rkd59/6/</a></strong></p>\n\n<p>However, this means that the map works in \"read-only mode\" and while you can capture the click event you wont know what link the user has clicked on. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Please try the following:</p>\n\n<pre><code>&lt;script&gt;\nx=document.querySelectorAll(\"a\");\nfor(i=0;i&lt;x.length;i++)\n{\n   x[i].setAttribute(\"target\",\"_blank\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Thus all links open in new frame.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to display an map inside an iframe that has a needle which on mouseover shows some information about a certain company, the thing is once you click the link the page opens up inside the iframe which ruins the experience, so i was wondering is it possible to make the links inside an iframe open up in a new window instead perhaps using jquery or something similiar?</p>\n\n<p>the code i have atm is</p>\n\n<p><a href=\"http://www.jsfiddle.net/rkd59/1/\" rel=\"nofollow\">http://www.jsfiddle.net/rkd59/1/</a></p>\n\n<p>Edit: the very least capture a click within the iframe so i might resize the iframe</p>\n",
            "last_activity_date": 1392285219,
            "question_id": 4583792,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "iframe"
            ],
            "title": "Make links inside an iframe open in a new window"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I don't believe you can. On IE you could simulate it with the <code>zoom</code> CSS property, but that's non-standard and so support outside IE will vary.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I Googled \"javascript browser zoom\".  Somebody asked the same thing here a while ago.</p>\n\n<p><a href=\"http://stackoverflow.com/q/1055336/534056\">Changing the browser zoom level</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I do not believe there is a standards based way to do this. Certain browsers may offer their own API to do this but I am doubtful.</p>\n\n<p>That being said I have accomplished this effect in the past through some CSS trickery. Essentially in your CSS define every measurement (width, height, margin, padding, font-size, etc.) in em instead of px. This essentially makes the size of everything dependent on the default font size of the document. Then to zoom you change the font-size of the body tag to make things smaller or larger. If you do this carefully the effect will look the same as if the user zoomed using their browser.</p>\n\n<p>To make life easier when doing this I like to use a CSS reset stylesheet that sets 1em to be 10px. That way if you want a div to be 200px wide you just set it to be 20em. You can accomplish this by setting the body font-size to 62.5% in your CSS reset stylesheet. Since most browsers have a default font size of 16px and therefore 1em=16px, 10px is 62.5%.</p>\n\n<p>I hope this helps, it is a lot of work to do it right, but using em instead of px has helped me in countless ways when working with HTML and CSS.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Think this was already answered with</p>\n\n<pre><code>window.parent.document.body.style.zoom = 1.5;\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/questions/9798331/zoom-a-browser-window-view-with-javascript\">&quot;Zoom&quot; a browser window/view with JavaScript?</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is it possible to trigger Browser's zoom-in and zoom-out function through JavaScript?</p>\n\n<p>I want to add Zoom-In(+) and Zoom-Out(-) buttons in my website, and by clicking on the button want to call browser's zoom-in (which can be called by pressing ctrl and +) / zoom-out (ctrl and -) function.</p>\n",
            "last_activity_date": 1388153141,
            "question_id": 4539955,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "triggering browser Zoom-in and Zoom-out functions"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>No versions of Internet Explorer\n  (including IE8) support the property\n  values \"inline-table\", \"run-in\",\n  \"table\", \"table-caption\",\n  \"table-cell\", \"table-column\",\n  \"table-column-group\", \"table-row\", or\n  \"table-row-group\".</p>\n</blockquote>\n\n<p>This is the note from <a href=\"http://www.w3schools.com/css/pr_class_display.asp\" rel=\"nofollow\">w3schools</a></p>\n\n<p>I think you should try another way.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>the fastest (but not clean) solution is to wrap your container by a table inside a conditional comment like so</p>\n\n<pre><code>&lt;!--[if lte IE 7 ]&gt;&lt;table&gt;&lt;td&gt;&lt;![endif]--&gt;\n&lt;div&gt;                   \n &lt;!-- your markup here --&gt;\n&lt;/div&gt;\n&lt;!--[if lte IE 7 ]&gt;&lt;/td&gt;&lt;/table&gt;&lt;![endif]--&gt; \n</code></pre>\n\n<p>Could be acceptable for a single page, but definitely to avoid in a large scale </p>\n\n<p>otherwise you could specify in detail why are you trying to define a display: table-cell. if this is somewhat related to obtain a vertical alignment of text you could take a look to this snippet of code</p>\n\n<p><a href=\"http://jsfiddle.net/fcalderan/985e4/\" rel=\"nofollow\">http://jsfiddle.net/fcalderan/985e4/</a></p>\n\n<p>--\nedit (after comment)</p>\n\n<p>If you wish to obtain a bottom alignment you could also set <code>position : relative</code> to the image container and then <code>position: absolute; bottom: 0;</code> to the image</p>\n\n<p>--\nedit 2 (after comment)</p>\n\n<p>We are still waiting your code. Anyway the resulting css will be</p>\n\n<pre><code>#imagecontainer {   /* or whatever image container you have */\n  position: relative;\n}\n\n#imagecontainer img {\n  position: absolute;\n  bottom : 0;\n  left: 50%; \n  margin-left:-n/2px; /* where 'n' is width of your image */\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Probably if you look at the <a href=\"http://www.brunildo.org/test/disptable.html\" rel=\"nofollow\">test site</a>, which use <code>display: table-cell</code> in different combinations, you can easier choose the CSS settings which you need?</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How to get <code>display:table-cell</code> support in IE? I need lightest solution.</p>\n",
            "last_activity_date": 1290376952,
            "question_id": 4170883,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "xhtml"
            ],
            "title": "How to get display:table-cell support in IE? any pure javascript or jQuery workaround?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try something like this <em>(not tested)</em>.</p>\n\n<p>Set the <em>UpdateMode</em> of the <code>UpdatePanel</code> to <strong>Conditional</strong>.</p>\n\n<p>Add this to your <code>&lt;head&gt;</code> section:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    window.onload = __doPostBack('UpdatePanel1', ''); // Replace UpdatePanel1 with the ID of your UpdatePanel\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had to do something very similar recently, here's how i did it (right or wrong):</p>\n\n<p>The trick is a \"Hidden Async Postback Trigger\".</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"upFacebookImage\" runat=\"server\"&gt;\n   &lt;ContentTemplate&gt;\n      &lt;!-- Your updatepanel content --&gt;\n   &lt;/ContentTemplate&gt;\n   &lt;Triggers&gt;\n      &lt;asp:AsyncPostBackTrigger ControlID=\"hiddenAsyncTrigger\" EventName=\"Click\" /&gt;\n   &lt;/Triggers&gt;\n&lt;/asp:UpdatePanel&gt;\n&lt;asp:Button ID=\"hiddenAsyncTrigger\" runat=\"server\" Text=\"AsyncUpdate\" style=\"display:none;\" /&gt;\n</code></pre>\n\n<p>Then from JavaScript, whenever you want to trigger the async postback, you do this:</p>\n\n<pre><code>__doPostBack('&lt;%= hiddenAsyncTrigger.ClientID %&gt;', 'OnClick');\n</code></pre>\n\n<p>In my example, i needed to trigger an async postback from a particular JS event. But you could attach it to doc ready.</p>\n\n<p>I seem to remember trying @Marko Ivanovski's way, but for some reason it didn't work. I think you need to specify a \"postback-able\" control (ie a button) to trigger the postback.</p>\n\n<p>HTH.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Updating this with my solution, I pieced together mostly from the first answer above.  </p>\n\n<p>I need my page to load, then then start loading content for my update panel.  The panel calls some webservices and we don't want the whole page to crash in the event that the remote server doesn't respond.  We don't want the wait either.</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"udpCheckout\" runat=\"server\" UpdateMode=\"Always\"&gt;\n        &lt;ContentTemplate&gt;\n            &lt;asp:Image ID=\"imgSpinner\" runat=\"server\" Visible=\"true\" ImageUrl=\"~/images/ajax-loader.gif\" /&gt;\n            &lt;br /&gt;\n            &lt;asp:Label ID=\"lblWait\" runat=\"server\" Visible=\"true\" Text=\"Please wait...\"&gt;&lt;/asp:Label&gt;\n            &lt;asp:Button ID=\"hiddenAsyncTrigger\" runat=\"server\" Text=\"AsyncUpdate\" style=\"display:none;\" /&gt;\n        &lt;/ContentTemplate&gt;\n        &lt;Triggers&gt;\n            &lt;asp:AsyncPostBackTrigger ControlID=\"hiddenAsyncTrigger\" EventName=\"Click\" /&gt;\n        &lt;/Triggers&gt;\n    &lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p>My Code behind snippets:<br>\nIn page_load:<br></p>\n\n<pre><code>ScriptManager.RegisterStartupScript(Me.Page, Me.Page.GetType, \"LoadUpdate\", GetPostBackEventReference(hiddenAsyncTrigger, String.Empty), True)\n</code></pre>\n\n<p>And the button handler:</p>\n\n<pre><code>Sub LoadUpdatePanels(ByVal o As Object, ByVal e As EventArgs) Handles hiddenAsyncTrigger.Click\n        System.Threading.Thread.Sleep(5000)  'wait 5 seconds so I can see the page change\n        imgSpinner.Visible = False\n        lblWait.Text = \"Content is now loaded.\"\n        'udpCheckout.Update()\n    End Sub\n</code></pre>\n\n<p>This was my test to see if I could get it working.  Now to replace all of this with the real code!</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Old hand at ASP.NET, new to the UpdatePanel.  I have a reporting page which executes a fairly length SQL query... takes about 10 seconds right now.  What I would like to do is have my page fully render, with some placeholder text (Loading...) and then have the UpdatePanel kick off the actual time-consuming reporting process and render the report when it's done.</p>\n\n<p>So... my theory is to use RegisterStartupScript() to kick this off and drop the string from GetPostBackEventReference() to trigger the UpdatePanel update.  Some problems crop up:</p>\n\n<p>1) Can I actually use GetPostBackEventReference w/ the UpdatePanel or do I need to trigger it some other way?  Use this method on a button inside the Update Panel?</p>\n\n<p>2) What event gets triggered when the postback reference is the UpdatePanel?  It's not clear to me.  I've got to call my databinding code somewhere!  Again, maybe I need to use a button inside?</p>\n",
            "last_activity_date": 1305918190,
            "question_id": 3877951,
            "score": 3,
            "tags": [
                "javascript",
                "asp.net",
                "updatepanel"
            ],
            "title": "How can I defer loading UpdatePanel content until after the page renders?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You cannot reliably force windows or tabs to grab focus. Some browsers are more amenable to the idea than others: IE will generally allow it, but Firefox has to be configured by the user to allow it, and Safari will basically never honor a focus request. (Well, almost never.)</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>If in some of my tabs alert() is executed, then this tab becomes selected instantly. The thing is - this alert() box is ugly. I have created  with my design and all.. But when I call it - tab is not selected/focused.\nwindow.focus(); does not work. Any ideas?</p>\n",
            "last_activity_date": 1281098704,
            "question_id": 3423470,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "How to focus window/tab like alert()?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>First question:</strong></p>\n\n<p>No because the <code>i</code> variable is incremented <em>after</em> the last successful iteration, then the condition is checked and it evaluates to <code>false</code> so the loop ends.</p>\n\n<p>The <code>for</code> statement is composed by:</p>\n\n<pre><code>for ([initialExpression]; [condition]; [incrementExpression])\n  statement\n</code></pre>\n\n<p>And it is executed in the following steps:</p>\n\n<ol>\n<li>The <code>initialExpression</code> is evaluated at the start</li>\n<li>The <code>condition</code> is evaluated, if it evaluates to <code>false</code>, the loop ends, if it evaluates to <code>true</code>, the statement is evaluated.</li>\n<li>Evaluate the statement.</li>\n<li>The <code>incrementExpression</code> is evaluated, go to step 2. </li>\n</ol>\n\n<p><strong>Second question:</strong></p>\n\n<p>The function is executed asynchronously <strong>after</strong> the loop has ended, at this time as you know <code>i</code> contains <code>3</code>.</p>\n\n<p>The common workaround for this is to use a function to preserve the value of the looping variable on each iteration, for example:</p>\n\n<pre><code>for (var i=0; i&lt;=2; i++) {\n  (function (i) {\n    setTimeout(function(){console.log(i);}, i*1000);\n  })(i);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I have couple of questions about the javascript for loop.</p>\n\n<p>First question:</p>\n\n<pre><code>for (i=0; i&lt;=2; i++) {;}\nconsole.log(i);\n</code></pre>\n\n<p>Output is 3. Shouldn't it be 2? </p>\n\n<p>Second question:</p>\n\n<pre><code>for (var i=0; i&lt;=2; i++) {\n    setTimeout(function(){console.log(i);}, i*1000);\n}\n</code></pre>\n\n<p>Timeouts are set correctly: 0, 1000 and 2000. But the output is 3,3,3 (should be 0, 1, 2). Does this mean the delayed functions are executed <b>after</b> the loop exits? Why? </p>\n\n<p>What should I read to understand all this mysterious javascript stuff?</p>\n\n<p>Thank you.</p>\n",
            "last_activity_date": 1278140283,
            "question_id": 3170589,
            "score": 3,
            "tags": [
                "javascript",
                "loops"
            ],
            "title": "javascript for loop unexpected behaviour"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>If this is a poll, then \"b\" is my vote.</p>\n\n<p>Firstly, all times should be stored in UTC. This is dogma.  It's very sensible dogma, the kind about which you end up saying \"I sure wish I had followed that,\" after your project gets more complicated.  Among other things, it is the only unambiguous, consistent way to store all points in time.  Any timezone with daylight savings time has ambiguous time references around the switch (1:30 am usually happens twice, for example).  Also, when converting between timezones, most of the time you end up using UTC as an intermediary anyway.</p>\n\n<p>Second of all, you have to decide whether your site is international or not.  If not, then you make rules for the six U.S. time zones and end it.  With three browsers reporting timestamps in their own whacky ways, that's still only 18 cases, and it should be possible to handle them.  Anything beyond that, and you should assume that it requires an advanced degree to anticipate daylight savings time differences.  The times switch on different days in different places.</p>\n\n<p>Your biggest problem with b is that, if this is a calendar-like application, scheduling will still be an issue if you can't accurately determine what time zone someone is in.  For example, suppose it's February.  No one is on DST.  Someone schedules something for 6pm (local) on May 5.  You see the offset is UTC-4.  How do you know whether that person is in New Brunswick, which observes DST (in which case the time <em>meant</em> is 2100 UTC), or Puerto Rico, which does not (in which case the time <em>meant</em> is 2200 UTC?  It's a tricky question.  <a href=\"http://stackoverflow.com/questions/608423/how-do-i-determine-the-systems-olson-zoneinfo-in-javascript\">This post</a> may have some help.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you want to rely on javascript you can simply send the utc time/timestamp back and forth  and let the client convert it to its local time representation.</p>\n\n<p>edit: simple self-contained example (using jquery)</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;...&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      function foo(){\n        $('.time').each( function() {\n          var t = $(this);\n          var d = new Date(Date.parse(t.text()));\n          t.text(d.toLocaleString());\n        });\n      }\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div class=\"time\"&gt;&lt;?php echo gmdate(DateTime::RFC1123); ?&gt;&lt;/div&gt;\n    &lt;button onclick=\"foo()\"&gt;local time&lt;/button&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If javascript is not available the user still sees a date/time though it's in UTC.<br>\nedit2: And there is a javascript library (or was it even a jquery plugin?) that does this kind of things plus some nifty conversions like \"an hour ago\", \"last week\" ..something like that. But I forgot the name :(</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think that without knowing the exact timezone, There will always be a chance you miss out on some obscure rule.<br>\nAs with most internationalization issues, there tend more obscure rules than you expect.</p>\n\n<p>I would however go for option A: \"pick a likely timezone with the correct offset\" exactly because timezone stuff tends to be more complicated than you would expect. especially when you take daylight saving changes into account. If you go for option A, you can use the standard functions provided by PHP.</p>\n\n<p>You could combine this with other metrics to improve your quality of prediction; for example:</p>\n\n<ul>\n<li>Based on visitor statistics: pick the timezone where most visitors come from;</li>\n<li>Based on accept_headers: match the language to a timezone;</li>\n<li>based on IP-geolocation: match with country in correct timezone.</li>\n</ul>\n\n<p>Combining the above should give a quite reasonable estimate. But 100% certainty cannot be achieved.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To robustly determine a user's timezone using javascript. Check out <a href=\"https://bitbucket.org/pellepim/jstimezonedetect\">jsTimezoneDetect</a>.</p>\n\n<p>It will give you an Olsen timezone database key that you can use for server side datetime calculations.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Please see also this alternative:\n<a href=\"http://stackoverflow.com/a/12682439/1691517\">http://stackoverflow.com/a/12682439/1691517</a></p>\n\n<p>Detects 90 timezones and has 100% accuracy in tested platforms.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'd like to be able to guess the user's timezone offset and whether or not daylight savings is being applied. Currently, the most definitive code that I've found for this is here: </p>\n\n<p><a href=\"http://www.michaelapproved.com/articles/daylight-saving-time-dst-detect/\" rel=\"nofollow\">http://www.michaelapproved.com/articles/daylight-saving-time-dst-detect/</a></p>\n\n<p>So this gives me the offset along with the DST indicator.</p>\n\n<p>Now, I want to use these in my PHP scripts in order to ouput the local date/time for the user....but what's best for this? I figure I have 2 options:</p>\n\n<p>a) Pick a random timezone which has the same offset and DST setting from the output of timezone_abbreviations_list(). Then call date_timezone_set() with this in order to apply the correct treatment to the time.</p>\n\n<p>b) Continue treating the date as UTC but just do some timestamp addition to add the appropriate number of hours on.</p>\n\n<p>My feeling is that option B is the best way. The reason for this is that with A, I could be using a timezone which although correct in terms of offset/dst, may have some obscur rules in place behind the scene that could give surprising results (I don't know of any but nonetheless I don't think I can rule it out).</p>\n\n<p>I'd then re-check the timezone using Javascript at the start of each session in order to capture when either the user's timezone changes (very unlikely) or they pass in to the DST period.</p>\n\n<p>Sorry for the brain dump - I'm really just after some sort of reassurance that the approaches above are valid.</p>\n\n<p>Thanks,</p>\n\n<p>James.</p>\n",
            "last_activity_date": 1349138497,
            "question_id": 2319451,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "timezone"
            ],
            "title": "Javascript/PHP and timezones"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code> // Overlay click = trigger out\n    $('#overlay').click(function () {\n        $('#overlay').fadeOut(1000);\n        $('.modal').fadeOut(200);\n    });\n</code></pre>\n\n<p>is triggered on page load, when the #overlay element doesn't exist. If you move this piece of code inside the <code>$('a[name=modal]').click(function(e) {</code> part, but after the $<code>('body').append('&lt;div id=\"overlay\"&gt;&lt;/div&gt;');</code> part, it should work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The click event to the overlay is binded before the element exists. You need to use <a href=\"http://api.jquery.com/live/\">live binding</a> to retain the binding &ndash; otherwise you'd have to do the bind every time you create the element. Just change your function to use <code>live()</code> like this:</p>\n\n<pre><code>$('#overlay').live('click', function () {\n    $('#overlay').fadeOut(1000);\n    $('.modal').fadeOut(200);\n});\n</code></pre>\n\n<p>The click event for <code>.modal .close</code> works as it is already defined in the DOM when the event is bound.</p>\n\n<p>Normal event binding only considers the elements that currently exist in the DOM while events bound with <code>live()</code> work also on all future elements that match the selector.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>If you're creating #overlay programmatically, you need to bind it with $.live();</p>\n\n<pre><code>$('#overlay').live(\"click\", function () {\n  $('#overlay').fadeOut(1000);\n  $('.modal').fadeOut(200);\n});\n</code></pre>\n\n<p>This method of binding binds to all present, and future elements that match the provided selector.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using the .live() method it will work with any elements you add to the DOM after its loaded.</p>\n\n<pre><code>// Overlay click = trigger out\n$('#overlay').live('click', function () {\n    $('#overlay').fadeOut(1000);\n    $('.modal').fadeOut(200);\n});\n</code></pre>\n\n<p>Another way to do it would be to bind it to click when it is added (inside the click handler for $('a[name=modal]').</p>\n\n<p>You should probably also change $('#overlay').fadeOut() to $(this).fadeOut().</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Keep in mind that your code will create a new overlay each time the <code>a[name=modal]</code> link is clicked..</p>\n\n<p>Either remove the overlay element from the DOM when you are done with it .. or create it outside of the click, and just show/hide it on the click event ..</p>\n\n<p>You specific problem is that you bind the click event to the overlay before it is ever created (<em>since you will created after you click the link ..</em>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The following code is fairly self explanatory, but I am running in to an issue binding the click event to an element that has been created. </p>\n\n<p>You can see at line 25 I am creating a div with id of 'overlay'. I then set it's css properties.</p>\n\n<p>Then at line 65 I bind click to trigger the hiding of the modal. The problem is, it doesn't work. If I put the div in the html, the the .click works as expected.</p>\n\n<p>Any help is appreciated.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;title&gt;Modal&lt;/title&gt;\n\n&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-latest.pack.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n$(document).ready(function() {  \n\n    // Select the link(s) with name=modal\n    $('a[name=modal]').click(function(e) {\n\n        // Cancel the link behavior\n        e.preventDefault();\n\n        // Get the id of this link's associated content box.\n        var id = $(this).attr('href');\n\n        // Find the screen height and width\n        var overlayHeight = $(document).height();\n        var overlayWidth = $(window).width();\n\n        // Create the overlay\n        $('body').append('&lt;div id=\"overlay\"&gt;&lt;/div&gt;');\n\n        //Set css properties for newly created #overlay\n        $('#overlay').css({\n                'width' : overlayWidth,\n                'height' : overlayHeight,\n                'position':'absolute',\n                'left' : '0',\n                'top' : '0',\n                'z-index' : '9000',\n                'background-color' : '#000',\n                'display' : 'none'          \n            });\n\n        // Get the viewpane height and width\n        var winH = $(window).height();\n        var winW = $(window).width();\n\n        // Center the modal\n        $(id).css('top',  winH/2-$(id).height()/2);\n        $(id).css('left', winW/2-$(id).width()/2);\n\n        // Transition effects for overlay\n        $('#overlay').fadeIn(1000).fadeTo(1000,0.8);\n\n        // Transition effect for modal\n        $(id).fadeIn(1000); \n\n    });\n\n    // Close link click = trigger out\n    $('.modal .close').click(function (e) {\n        //Cancel the link behavior\n        e.preventDefault();\n\n        $('#overlay').fadeOut(1000);\n        $('.modal').fadeOut(200);\n    });     \n\n    // Overlay click = trigger out\n    $('#overlay').click(function () {\n        $('#overlay').fadeOut(1000);\n        $('.modal').fadeOut(200);\n    });\n\n    // Load rules in to modal\n    $('#rules .text').load('rules.html');\n\n});\n\n&lt;/script&gt;\n&lt;style type=\"text/css\"&gt;\n\n.modal{\n  position:absolute;\n  display:none;\n  z-index:9999;\n}\n#rules{\n  width:600px; \n  height:400px;\n}\n#rules p{\n    background: #fff;\n    margin: 0;\n    padding: 0;\n}\n#rules .head{\n    background: #ddd;\n    text-align: right;\n    padding: 0 10px;\n    height: 30px;\n}\n#rules .text{\n    height: 370px;\n    padding: 0 20px;\n    overflow: auto;\n}\n\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;&lt;a href=\"#rules\" name=\"modal\"&gt;Open Modal&lt;/a&gt;&lt;/p&gt;\n\n&lt;div id=\"rules\" class=\"modal\"&gt;\n    &lt;p class=\"head\"&gt;&lt;a href=\"#\" class=\"close\"&gt;close&lt;/a&gt;&lt;/p&gt;\n    &lt;p class=\"text\"&gt;&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1265821191,
            "question_id": 2238616,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Binding dynamically created elements in jQuery"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Well you can use the <code>window.onclose</code> event and return <code>false</code> in the event handler.</p>\n\n<pre><code>function closedWin() {\n    confirm(\"close ?\");\n    return false; /* which will not allow to close the window */\n}\nif(window.addEventListener) {\n     window.addEventListener(\"close\", closedWin, false);\n}\n\nwindow.onclose = closedWin;\n</code></pre>\n\n<p>Code was taken from <a href=\"http://bytes.com/topic/javascript/answers/431659-gecko-dom-window-onclose-event\" rel=\"nofollow\">this site</a>. </p>\n\n<p>In the other hand, if they force the closing (by using task manager or something in those lines) you cannot do anything about it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What will you do when a user hits ALT + F4 or closes it from Task Manager</p>\n\n<p>Why don't you keep track if they did not complete it in a cookie or the DB and when they visit next time just bring the same screen back...:BTW..you haven't finished filling this form out...\"</p>\n\n<p>Of course if you were around before the dotcom bust you would remember porn storms, where if you closed 1 window 15 others would open..so yes there is code that will detect a window closing but if you hit ALT + F4 twice it will close the child and the parent (if it was a popup)</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>This is generally a good way to get on your user's nerves. I suggest you follow a different workflow. Users don't appreciate a website that messes with their expected behavior.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It's poor practice to force the user to do something they don't necessarily want to do.  You can't ever really prevent them from closing the browser.</p>\n\n<p>You can achieve a similar effect, though, by making a <code>div</code> on your current web page to layer over top the rest of your controls so your form is the only thing accessible.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Take a look at <a href=\"http://www.4guysfromrolla.com/demos/OnBeforeUnloadDemo1.htm\"><code>onBeforeUnload</code></a>.</p>\n\n<p>It wont force someone to stay but it will prompt them asking them whether they really want to leave, which is probably the best cross browser solution you can manage. (Similar to this site if you attempt to leave mid-answer.)</p>\n\n<pre><code>&lt;script language=\"JavaScript\"&gt;\n    window.onbeforeunload = confirmExit;\n    function confirmExit() {\n        return \"You have attempted to leave this page. Are you sure?\";\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>This will pop a dialog asking the user if he really wants to close or stay, with a message.</p>\n\n<pre><code>var message = \"You have not filled out the form.\";\nwindow.onbeforeunload = function(event) {\n    var e = e || window.event;\n    if (e) {\n        e.returnValue = message;\n    }\n    return message;\n};\n</code></pre>\n\n<p>You can then unset it before the form gets submitted or something else with</p>\n\n<pre><code>window.onbeforeunload = null;\n</code></pre>\n\n<p>Keep in mind that this is <strong>extremely</strong> annoying. If you are trying to force your users to fill out a form that <em>they don't want to fill out</em>, then you will fail: they will find a way to close the window and never come back to your mean website.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If your sending out an internal survey that requires 100% participation from your company's employees, then a better route would be to just have the form keep track of the responders ID/Username/email etc. Every few days or so just send a nice little email reminder to those in your organization to complete the survey...you could probably even automate this.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>How about that?</p>\n\n<pre><code>function internalHandler(e) {\n    return \"Please don't leave our page ever!\";\n}\n\nif (window.addEventListener) {\n    window.addEventListener('beforeunload', internalHandler, true);\n} else if (window.attachEvent) {\n    window.attachEvent('onbeforeunload', internalHandler);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to block users from closing the window using the exit button [X]? I am actually providing a close button in the page for the users to close the window.Basically what im trying to do is to force the users to fill the form and submit it.I dont want them to close the window till they have submitted it.</p>\n\n<p>guys i really appreciate your comments,im not thinking of hosting on any commercial website.its an internal thing,we are actually getting all the staff to participate in this survey we have designed.... \ni know its not the right way but i was wondering if there was a solution to the problem we have got here...</p>\n",
            "last_activity_date": 1327296910,
            "question_id": 2229942,
            "score": 3,
            "tags": [
                "javascript",
                "javascript-events",
                "anti-patterns"
            ],
            "title": "how to block users from closing a window in javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can only cancel specific events. You cannot \"globally cancel\" default actions.</p>\n\n<p>To specifically cancel <code>dragging</code> an image (which is only a default function in some browsers), return <code>false</code> to the <code>mousedown</code> event. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can register the events you want to cancel, and then either <code>return false</code> from them or use <code>Event.preventDefault()</code>, depending on the browser and event.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>(function() {\n    var onmousedown;\n    if('onmousedown' in document &amp;&amp; typeof document.onmousedown == 'function') {\n        onmousedown = document.onmousedown;\n    }\n    document.onmousedown = function(e) {\n        if(typeof e == 'undefined') {\n            e = window.event;\n        }\n        if(!e.target) {\n            e.target = e.srcElement || document;\n        }\n        if('nodeName' in e.target &amp;&amp; e.target.nodeName.toLowerCase() == 'img') {\n            if(e.preventDefault) {\n                e.preventDefault();\n            }\n\n            // If you want to register mousedown events for\n            // elements containing images, you will want to\n            // remove the next four lines.\n            if(e.stopPropagation) {\n                e.stopPropagation();\n            }\n            e.cancelBubble = true;\n\n            e.returnValue = false;\n            return false;\n        }\n\n        if(onmousedown !== undefined) {\n            onmousedown(e);\n        }\n    };\n})();\n</code></pre>\n\n<p>You may need to do something similar to other events you'd like to prevent, if this doesn't do what you want.</p>\n\n<p>Also it's worth noting that if you're trying to prevent people from downloading images from a page to their computer, you will not succeed. If a browser can download an image, so can the user. Using JavaScript to block (some) attempts is easily circumvented by simply disabling JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>What is the cross-browser method? I need to prevent any default action on an image, so that neither dragging nor anything else will fire on a default bases.</p>\n",
            "last_activity_date": 1263087479,
            "question_id": 1886306,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "How do we prevent default actions in JavaScript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>From <a href=\"http://stackoverflow.com/questions/824833/how-to-preserve-text-selection-when-opening-a-jquery-dialog\">http://stackoverflow.com/questions/824833/how-to-preserve-text-selection-when-opening-a-jquery-dialog</a>: you have to preserve selection on blur and restore it on focus:</p>\n\n<pre><code>$(\"dialog\").focus(function() {\n  // save the selection\n}).blur(function() {\n  // set the text selection\n});\n</code></pre>\n\n<p>Setting selection (from <a href=\"http://stackoverflow.com/questions/499126/jquery-set-cursor-position-in-text-area\">http://stackoverflow.com/questions/499126/jquery-set-cursor-position-in-text-area</a>):</p>\n\n<pre><code>$.fn.selectRange = function(start, end) {\n  return this.each(function() {\n    if(this.setSelectionRange) {\n      this.focus();\n      this.setSelectionRange(start, end);\n    } else if(this.createTextRange) {\n      var range = this.createTextRange();\n      range.collapse(true);\n      range.moveEnd('character', end);\n      range.moveStart('character', start);\n      range.select();\n    }\n  });\n};\n$('#elem').selectRange(3,5);\n</code></pre>\n\n<p>Getting selection: <a href=\"http://laboratorium.0xab.cd/jquery/fieldselection/0.1.0/test.html\">http://laboratorium.0xab.cd/jquery/fieldselection/0.1.0/test.html</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have a normal textbox, and a lightbox with a text input.</p>\n\n<p>I want to keep the user's selection in the textbox, even when the user focuses on the lightbox's text input.</p>\n\n<ol>\n<li>Select text in normal textbox</li>\n<li>Toggle lightbox</li>\n<li>Focus on lightbox input</li>\n</ol>\n\n<p>At step 3., the user's text selection is discarded. How can this be prevented? See Google docs link insertion lightbox for example.</p>\n\n<p>Thanks :)</p>\n\n<p><strong>Update</strong></p>\n\n<p>Ok, so Google docs uses an iframe for the blank page section, which is how they are handling the multiple selections. Something like this (excuse the disgusting HTML):</p>\n\n<pre><code>// test.html\n&lt;html&gt;&lt;body&gt;\n  &lt;h1 onclick='lightbox();'&gt;This is the main section&lt;/h1&gt;\n  &lt;iframe src='frame.html'&gt;&lt;/iframe&gt;\n  &lt;div id='lightbox' style='display: none; position: fixed; top: 0; left: 0; height: 100%; width: 100%; opacity: 0.8; background-color: black;'&gt;\n    &lt;input type='text' name='url' /&gt;\n  &lt;/div&gt;\n  &lt;script type='text/javascript'&gt;\n    function lightbox() {\n      document.getElementById('lightbox').style.display = 'block';\n    }\n  &lt;/script&gt;\n&lt;/body&gt;&lt;/html&gt;\n\n// frame.html\n&lt;p&gt;This is my iframe&lt;/p&gt;\n</code></pre>\n\n<p>Text selection in the iframe is <em>independent</em> of focus on the input in the lightbox. So if some of the text 'This is my iframe' is selected, then the lightbox is toggled and the cursor placed in the input, the iframe's text selection persists without any javascript.</p>\n\n<p>I'm trying Nickolay's suggestion now.</p>\n",
            "last_activity_date": 1399557555,
            "question_id": 1592637,
            "score": 3,
            "tags": [
                "javascript",
                "textbox",
                "focus",
                "range",
                "selection"
            ],
            "title": "Keep text selection when focus changes"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>For those that don't know, here is the spec for Web Worker:\n<a href=\"http://www.whatwg.org/specs/web-workers/current-work/\">http://www.whatwg.org/specs/web-workers/current-work/</a></p>\n\n<p>And a post by John Resig:\n<a href=\"http://ejohn.org/blog/web-workers/\">http://ejohn.org/blog/web-workers/</a></p>\n\n<p>Javascript, generally, can't access anything outside of the url that the javascript file came from.</p>\n\n<p>I believe that is what this part of the spec means, from: <a href=\"http://www.w3.org/TR/workers/\">http://www.w3.org/TR/workers/</a></p>\n\n<pre><code>4.2 Base URLs and origins of workers\n\nBoth the origin and effective script origin of scripts running in workers are the origin of the absolute URL given in that the worker's location attribute represents.\n</code></pre>\n\n<p>This post has a statement about what error should be thrown in your situation:\n<a href=\"http://canvex.lazyilluminati.com/misc/cgi/issues.cgi/message/%3Cop.u0ppu4lpidj3kv@zcorpandell.linkoping.osa%3E\">http://canvex.lazyilluminati.com/misc/cgi/issues.cgi/message/%3Cop.u0ppu4lpidj3kv@zcorpandell.linkoping.osa%3E</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>According to the <a href=\"http://www.whatwg.org/specs/web-workers/current-work/#worker\" rel=\"nofollow\">Web Worker draft specification</a>, workers must be hosted at the same domain as the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#first-script\" rel=\"nofollow\">\"first script\"</a>, that is, the script that is creating the worker. The URL of the first script is what the worker URL is resolved against.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Not to mention...</p>\n\n<p>Just about anytime you have a Cross-Origin Restriction Policy, there's no counterpoise to the file system (file://path/to/file.ext) - Meaning, the file protocol triggers handling for this policy.</p>\n\n<p>This goes for \"dirty images\" in the Canvas API as well.</p>\n\n<p>Hope this helps =]</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I haven't been able to get something like this to work:</p>\n\n<pre><code>var myWorker = new Worker(\"http://example.com/js/worker.js\");\n</code></pre>\n\n<p>In my Firebug console, I get an error like this:</p>\n\n<blockquote>\n  <p>Failed to load script:\n  <a href=\"http://example.com/js/worker.js\" rel=\"nofollow\">http://example.com/js/worker.js</a>\n  (nsresult = 0x805303f4)</p>\n</blockquote>\n\n<p>Every example of web worker usage I've seen loads a script from a relative path. I tried something like this, and it works just fine:</p>\n\n<pre><code>var myWorker = new Worker(\"worker.js\");\n</code></pre>\n\n<p>But what if I need to load a worker script that's not at a relative location? I've googled extensively, and I haven't seen this issue addressed anywhere.</p>\n\n<p>I should add that I'm attempting to do this in Firefox 3.5.</p>\n",
            "last_activity_date": 1376074650,
            "question_id": 1549614,
            "score": 3,
            "tags": [
                "javascript",
                "firefox",
                "multithreading"
            ],
            "title": "Can I load a web worker script from an absolute URL?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If the user is trying to close the browser, then his intentions are pretty clear; he expects that the browser will close. Preventing that from happening, or causing anything else to happen in between the user clicking on 'close' and the browser closing is just a bad idea IMO. Is there a special reason for this? I mean, when I click on the 'close' button I expect that the browser will close, and should anything else happen, I would find that extremely annoying. I think I'm being reasonable enough. Am I? Who knows such things.</p>\n\n<p>Why don't you try to entice the user to visit the other page in a less intrusive way? Like with a link or a banner?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The simple answer is no.  If browsers allowed you to do more with the onbeforeunload/onunload events, this could be used pretty maliciously by anybody.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your onbeforeunload event needs to return a string (that doesn't equate to false), the browser will include this string in its own message displayed to the user.  </p>\n\n<pre><code>window.onbeforeunload = function(){\n    \tlocation.assign('http://www.google.com');\n    \treturn \"go to google instead?\";\n    }\n</code></pre>\n\n<p>However, it's going to be really tricky to word your message in a way that the user would be able to understand what to do.  And I'm not sure this is robust in every browser, I just tried it in Chrome, it worked, but I ended up with a tab I could not close!  I managed to kill it via the Chrome task manager thankfully.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It's not without it's faults but it works</p>\n\n<pre><code>window.onbeforeunload = function(){\n        window.open(\"http://www.google.com\",\"newwindow\");\n        return \"go to google instead?\";\n}\n</code></pre>\n\n<p>This will open a new window as a popup to the address you selected when the user closes the page, though it is limited by any popup blockers the browser may implement.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is it possible to redirect to another page when the user closes the browser?</p>\n\n<p>Attempts:</p>\n\n<ol>\n<li><p>I tried onunload, does not work</p>\n\n<pre><code>window.onunload = function redirect(){...}\n</code></pre></li>\n<li><p>I also tried another method, it doesn't work either:</p>\n\n<pre><code>window.onbeforeunload = redirect(){...}\n</code></pre></li>\n<li><p><code>&lt;body onbeforeunload=\"return false; redirecty()\"&gt;</code></p></li>\n</ol>\n\n<p>The 3rd method, I want to cancel the <code>onbeforeunload</code> (means delay closing the browser), the I call the redirect function, <code>window.confirm</code>, if yes redirect, if no then close the browser. But it does not work as well.</p>\n\n<p>Is there any other way?? Maybe prompt to let user select whether to redirect to new page when he/she close the browser? I'm running out of ideas...</p>\n",
            "last_activity_date": 1366806612,
            "question_id": 1408922,
            "score": 3,
            "tags": [
                "javascript",
                "browser",
                "redirect"
            ],
            "title": "Javascript, Can I &quot;redirect&quot; user in onbeforeunload? If cant, how to"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>When find is called inside of findSequence, it has access to the goal variable that is set in findSequence's definition.  A simple example of this is:</p>\n\n<pre><code>function outerFunction() {\n  var a = 2;\n  function innerFunction() {\n    alert(a);\n  }\n  innerFunction();\n}\nouterFunction();\n</code></pre>\n\n<p>The start variable is defined when it does:</p>\n\n<pre><code>return find(1, \"1\");\n</code></pre>\n\n<p>Effectively having an initial start variable of 1, goal variable of 24, and a history of \"1\" on the first pass.</p>\n\n<p>EDIT: Per Rob's comment, closures aren't actually what's causing this here, as find() is not being executed outside of findSequence(), scoping is causing goal to be found.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If I'm understanding your question correctly: The final line of code is calling findSequence(), with a goal of 24.  In findSequence() there's a function called find(), which is defined and then called in the return statement for findSequence, with start equaling 1, and history equaling 1.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>But <code>find</code> <em>didn't</em> get executed without a value for <code>start</code> and <code>goal</code>. It was first executed with the value <code>1</code> for <code>start</code>, and the only value for <code>goal</code> was <code>24</code>.</p>\n\n<p>Perhaps you're confused about the order of operations. There we see the <em>declaration</em> of a function, <code>findSequence</code>. During the declaration, no code is executed. The <code>findSequence</code> function only gets executed later, on the last line, where the result of executing the function gets printed out.</p>\n\n<p>Within the declaration of <code>findSequence</code>, there's a declaration of another function, <code>find</code>. Once again, it doesn't get executed until later. The <code>findSequence</code> function has just <em>one</em> executable line of code, the one that calls <code>find(1, \"1\")</code>. Execution of that one line triggers the execution of <code>find</code> some number of times, recursively. The <code>find</code> function makes reference to <code>goal</code>; when the Javascript interpreter executes the code, <code>goal</code> always refers to the parameter of <code>findSequence</code>, and since in this example <code>findSequence</code> is only called once, <code>goal</code> always has the same value, <code>24</code>.</p>\n\n<p>You should be able to see where the recursion happened. If <code>start</code> was equal to <code>goal</code>, then the function stops; it returns the history of how it arrived at that number. If <code>start</code> is greater than <code>goal</code>, then it returns <code>null</code>, indicating that that path was not a path to the target number. If <code>start</code> is still less than <code>goal</code>, then the function tries <em>calling itself</em> with its start value plus 5. If that returns a non-null value, then that's what gets returned. Otherwise, it tries multiplying by 3 and returning that history value instead.</p>\n\n<p>Note that although this code can return many numbers, it cannot return <em>all</em> numbers. If the goal is <code>2</code>, for example, <code>findSequence</code> will return <code>null</code> because there is no way to start at <code>1</code> and get to <code>2</code> by adding <code>5</code> or multiplying by <code>3</code>.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I was reading Eloquent JavaScript and I came across this example for the puzzle:</p>\n\n<blockquote>\n  <p>Consider this puzzle: By starting from\n  the number 1 and repeatedly either\n  adding 5 or multiplying by 3, an\n  infinite amount of new numbers can be\n  produced. How would you write a\n  function that, given a number, tries\n  to find a sequence of additions and\n  multiplications that produce that\n  number?</p>\n</blockquote>\n\n<p>Here's the code for the solution:</p>\n\n<pre><code>function findSequence(goal) {\n  function find(start, history) {\n    if (start == goal)\n      return history;\n    else if (start &gt; goal)\n      return null;\n    else\n      return find(start + 5, \"(\" + history + \" + 5)\") ||\n             find(start * 3, \"(\" + history + \" * 3)\");\n  }\n  return find(1, \"1\");\n}\n\nprint(findSequence(24));\n</code></pre>\n\n<p>Could someone clear up how dod find get executed if it didn't have a value for the arguments start and goal? Also how did the recursion happen?</p>\n",
            "last_activity_date": 1238989005,
            "question_id": 720158,
            "score": 3,
            "tags": [
                "javascript",
                "recursion"
            ],
            "title": "A clearer explanation for recursion and flow of execution in JavaScript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>context.drawImage( \n    sourceImage, \n    sourceX, sourceY, sourceWidthToClip, sourceHeightToClip, \n    canvasX, canvasY, scaledWidth, scaledHeight );\n</code></pre>\n\n<p>In <code>context.drawImage</code> the first parameter is the source image.</p>\n\n<p>The next 4 parameters are the x,y,width &amp; height rectangular sub-image to clip from that source</p>\n\n<p>The last 4 parameters are the x,y,scaledWidth &amp; scaledHeight rectangular scaled image to draw on the canvas.</p>\n\n<p><strong>Annotated drawImage:</strong></p>\n\n<pre><code>context.drawImage(\n\n    sourceImage,  // the source image to clip from\n\n    sX,           // the left X position to start clipping \n    sY,           // the top Y position to start clipping\n    sW,           // clip this width of pixels from the source\n    wH,           // clip this height of pixels from the source\n\n    dX,           // the left X canvas position to start drawing the clipped sub-image\n    dY,           // the top Y canvas position to start drawing the clipped sub-image\n    dW,           // scale sW to dW and draw a dW wide sub-image on the canvas\n    dH            // scale sH to dH and draw a dH high sub-image on the canvas\n\n}\n</code></pre>\n\n<p><strong>Visual drawImage:</strong></p>\n\n<p>![enter image description here][1]</p>\n\n<p><strong>Code example for drawImage:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas=document.getElementById(\"canvas\");\r\nvar ctx=canvas.getContext(\"2d\");\r\nvar canvas1=document.getElementById(\"drawImage\");\r\nvar ctx1=canvas1.getContext(\"2d\");\r\n\r\nvar img=new Image();\r\nimg.onload=start;\r\nimg.src=\"https://dl.dropboxusercontent.com/u/139992952/stackoverflow/avatars.jpg\";\r\nfunction start(){\r\n\r\n  canvas.width=img.width;\r\n  canvas.height=img.height;\r\n  ctx.drawImage(img,0,0);\r\n\r\n  var scale=2;\r\n  canvas1.width=471/5*3;\r\n  canvas1.height=255/2*3;\r\n\r\n  ctx1.drawImage(img,\r\n                 94,0,94,120,\r\n                 50,50,94*scale,120*scale\r\n                );\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{ background-color: ivory; padding:10px; }\r\ncanvas{border:1px solid red;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h4&gt;The original image&lt;/h4&gt;\r\n&lt;canvas id=\"canvas\" width=300 height=300&gt;&lt;/canvas&gt;&lt;br&gt;\r\n&lt;h4&gt;The clipped &amp; scaled sub-image drawn into the canvas&lt;/h4&gt;\r\n&lt;canvas id=\"drawImage\" width=300 height=300&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Example Illustration for drawImage:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/a6aeJ.png\" alt=\"enter image description here\"></p>\n\n<p><strong>[ Addition: How to control dx,dy with html range controls ]</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas=document.getElementById(\"canvas\");\r\nvar ctx=canvas.getContext(\"2d\");\r\nvar canvas1=document.getElementById(\"drawImage\");\r\nvar ctx1=canvas1.getContext(\"2d\");\r\n\r\nvar $dx=$('#dx');\r\nvar $dy=$('#dy');\r\nvar scale=2;\r\n\r\nvar img=new Image();\r\nimg.onload=start;\r\nimg.src=\"https://dl.dropboxusercontent.com/u/139992952/stackoverflow/avatars.jpg\";\r\nfunction start(){\r\n\r\n  canvas.width=img.width;\r\n  canvas.height=img.height;\r\n  ctx.drawImage(img,0,0);\r\n\r\n  canvas1.width=471/5*3;\r\n  canvas1.height=255/2*3;\r\n\r\n  draw();\r\n\r\n  $dx.change(function(){draw();});\r\n  $dy.change(function(){draw();});\r\n\r\n}\r\n\r\nfunction draw(){\r\n  ctx1.clearRect(0,0,canvas1.width,canvas1.height);\r\n  ctx1.drawImage(img,94,0,94,120,$dx.val(),$dy.val(),94*scale,120*scale);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{ background-color: ivory; padding:10px; }\r\ncanvas{border:1px solid red;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h4&gt;The original image&lt;/h4&gt;\r\n&lt;canvas id=\"canvas\" width=300 height=300&gt;&lt;/canvas&gt;&lt;br&gt;\r\n&lt;h4&gt;The clipped &amp; scaled sub-image drawn into the canvas&lt;/h4&gt;\r\ndx:&lt;input id=dx type=range min=0 max=280 value=0&gt;&lt;br&gt;\r\ndy:&lt;input id=dy type=range min=0 max=380 value=0&gt;&lt;br&gt;\r\n&lt;canvas id=\"drawImage\" width=300 height=300&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n  [1]: <a href=\"http://i.stack.imgur.com/9paHM.jpg\" rel=\"nofollow\">http://i.stack.imgur.com/9paHM.jpg</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I've tried to use the drawImage function of the canvas.</p>\n\n<p>In the documentation (<a href=\"http://msdn.microsoft.com/en-us/library/ie/ff975414(v=vs.85).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ie/ff975414(v=vs.85).aspx</a>) I thought the last two parameters are the destination point, but I guess it's not because it's not working.</p>\n\n<p>Is there a way to draw image between two points without rotate it or something like this?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1411917725,
            "question_id": 26080776,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "image",
                "canvas",
                "draw"
            ],
            "title": "HTML / Java Script Canvas - how to draw an image between source and destination points?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You should only be using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.write\" rel=\"nofollow\"><code>document.write()</code></a> to insert content on the fly while document is being loaded. </p>\n\n<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.write#Notes\" rel=\"nofollow\">MDN's doc</a>:</p>\n\n<blockquote>\n  <p>Writing to a document that has already loaded without calling <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.open\" rel=\"nofollow\"><code>document.open()</code></a> will automatically perform a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.open\" rel=\"nofollow\"><code>document.open()</code></a> call</p>\n</blockquote>\n\n<p>And from <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.open#Notes\" rel=\"nofollow\"><code>document.open()</code></a>: </p>\n\n<blockquote>\n  <p>If a document exists in the target, this method clears it</p>\n</blockquote>\n\n<p>So, Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.write\" rel=\"nofollow\"><code>document.write()</code></a> after the document is loaded will overwrite (<em>or clear</em>) your document. For such reasons, <a href=\"http://stackoverflow.com/a/802943/2333214\">using <code>document.write()</code> is considered a bad practice</a>.</p>\n\n<p>Using </p>\n\n<pre><code>document.body.innerHTML+= '&lt;h1&gt;Welcome ' + x + ' &lt;/h1&gt;&lt;p id=\"show\"&gt;You are being redirected in 3 seconds&lt;/p&gt;';\n</code></pre>\n\n<p>instead or having the content hidden in <code>HTML</code> before hand will fix the issue.</p>\n\n<p><a href=\"http://jsfiddle.net/tilwinjoy/cgLmrqn7/\" rel=\"nofollow\">Demo</a></p>\n\n<p>See also <a href=\"http://stackoverflow.com/questions/4537963/what-are-alternatives-to-document-write\">What are alternatives to document.write?</a></p>\n\n<p>How this works in chrome, is a mystery to me, IMHO - it shouldn't.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>From <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.open#Notes\" rel=\"nofollow\">DOC's</a>:</p>\n\n<blockquote>\n  <p>Also, an automatic <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.open\" rel=\"nofollow\"><code>document.open()</code></a> call happens when <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.write\" rel=\"nofollow\"><code>document.write()</code></a> is called after the page has loaded, but that's not defined in the W3C specification.</p>\n</blockquote>\n\n<p>So it is no more mystery, since there is no spec, different browsers implemented it differently. One more reason to avoid <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.write\" rel=\"nofollow\"><code>document.write()</code></a> :)</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>you use function in function. this is works for me</p>\n\n<pre><code>c=5;\nfunction yes() {\n    alert(\"Right\");\n    var ans=0;\n    while(ans==0){\n        var x=prompt(\"Your Name?\");\n        var ans=confirm(\"Your Name is \"+x+\" right?\");\n    }\n    document.write('&lt;h1&gt;Welcome '+x+' &lt;/h1&gt;&lt;p id=\"show\"&gt;You are being redirected in 3 seconds&lt;/p&gt;');\n   updateShow();\n    var iAmTimer= setTimeout(function(){ updateShow(); },1000);\n} \n\n function updateShow(){\n            document.getElementById('show').innerHTML=\"&lt;h1&gt;You are being redirected in \"+c+\"     seconds&lt;/h1&gt;\";\n            c=c-1;\n            if(c&lt;0){\n                document.location='2.html';\n            }\n            else{\n                 setTimeout(function(){ updateShow(); },1000);\n                 }\n\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I am making a simple Redirect script that will redirect users to <code>2.html</code> after 5 seconds.</p>\n\n<p>When I tested the script on Chrome and it works!, But in latest Firefox but it doesn't decrease seconds and hangs.</p>\n\n<p>I am a beginner and have tried my best out of knowledge but I am unable to solve this, I looked online but was unable to find a solution. How can I solve this?</p>\n\n<p>My code:</p>\n\n<p>index.html:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;My First Page&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"script.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n\n        &lt;input type=\"button\" value=\" YES \" onclick=\"yes()\" /&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<p>script.js:</p>\n\n<pre><code>c=5;\nfunction yes() {\n    alert(\"Right\");\n    var ans=0;\n    while(ans==0){\n        var x=prompt(\"Your Name?\");\n        var ans=confirm(\"Your Name is \"+x+\" right?\");\n    }\n    document.write('&lt;h1&gt;Welcome '+x+' &lt;/h1&gt;&lt;p id=\"show\"&gt;You are being redirected in 3 seconds&lt;/p&gt;');\n    function updateShow(){\n            document.getElementById('show').innerHTML=\"&lt;h1&gt;You are being redirected in \"+c+\"     seconds&lt;/h1&gt;\";\n            c=c-1;\n            if(c&lt;0){\n                document.location='2.html';\n            }\n            else{\n                 setTimeout(function(){ updateShow(); },1000);\n                 }\n\n    }\n    var iAmTimer= setTimeout(function(){ updateShow(); },1000);\n} \n</code></pre>\n\n<hr>\n\n<p>2.html:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Welcome&lt;/h1&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Console Error Messages</strong></p>\n\n<ol>\n<li>Firefox - None</li>\n<li>Chrome - None</li>\n</ol>\n\n<hr>\n\n<p><strong>Output</strong>:  </p>\n\n<ol>\n<li><p>Firefox (forever): </p>\n\n<pre><code>Welcome &lt;name&gt;\n\nYou are being redirected in 3 seconds \n</code></pre></li>\n</ol>\n\n  <hr>\n\n<ol start=\"2\">\n<li><p>Chrome:</p>\n\n<pre><code>Welcome &lt;name&gt;\n\nYou are being redirected in 3 seconds\n\nWelcome &lt;name&gt;\n\nYou are being redirected in 2 seconds\n\nWelcome &lt;name&gt;\n\nYou are being redirected in 1 seconds\n\nWelcome &lt;name&gt;\n\nYou are being redirected in 0 seconds\n</code></pre></li>\n</ol>\n\n<p>Any help is appreciated.</p>\n",
            "last_activity_date": 1417367035,
            "question_id": 25398005,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "google-chrome",
                "firefox",
                "redirect"
            ],
            "title": "Why document.write() behaves differently in Firefox and chrome?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>this is hacky fix I did for now:</p>\n\n<pre><code>var getCount = function(timeBlock, start, end, cb) {\n\n    Document.aggregate(\n    {\n        $match: {\n            time: {\n                $gte: new Date(start),\n                $lt: new Date(end)\n            }\n        }\n    },\n\n    {\n        $project: {\n            time: 1,\n            delta: { $subtract: [\n                new Date(end),\n                '$time'\n            ]}\n        }\n    },\n\n    {\n        $project: {\n            time: 1,\n            delta: { $subtract: [\n                \"$delta\",\n                { $mod: [\n                    \"$delta\",\n                    timeBlock\n                ]}\n            ]}\n        }\n    },\n\n    {\n        $group: {\n            _id: { $subtract: [\n                end,\n                \"$delta\"\n            ]},\n            count: { $sum: 1 }\n        }\n    },\n\n    {\n        $project: {\n            time: \"$_id\",\n            count: 1,\n            _id: 0\n        }\n    },\n\n    {\n        $sort: {\n            time: 1\n        }\n\n    }, function(err, results) {\n        if (err) {\n            cb(err)\n        } else {\n            // really hacky way\n            var numOfTimeBlocks = ( end - start ) / timeBlock\n\n            // in case there is no 0s in the given period of time there is no need\n            // to iterate through all of the results\n            if ( results.length === numOfTimeBlocks ) {\n                cb(results);\n\n            } else {\n                var time = start;\n                var details = [];\n\n                var times = results.map(function(item) {\n                    return item.time;\n                });\n\n                for( var i = 0; i &lt; numOfTimeBlocks; i++) {\n                    time += timeBlock;\n                    var idx = times.indexOf(time);\n\n                    if (idx &gt; -1) {\n                        details.push(results[idx]);\n                    } else {\n                        var documentCount = { count: 0, time: time };\n                        details.push(documentCount);\n                    }\n                }\n\n                cb(details);\n            }\n\n        }\n    })\n}\n</code></pre>\n\n<p>I was also thinking about doing one query per time block, which gives the same result but I think is inefficient because you query the database N times.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The group stage is producing documents based on grouping on your given _id and counting the number of documents from the previous stage that end up in the group. Hence, a count of zero would be the result of a document being created from 0 input documents belonging to the group. Thinking about it this way, it's clear that there's no way the aggregation pipeline can do this for you. It doesn't know what all of the \"missing\" time periods are and it can't invent the appropriate documents out of thin air. Reapplying your extra knowledge about the missing time periods to complete the picture at the end seems like a reasonable solution (not \"hacky\") if you need to have an explicit count of 0 for empty time periods.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Though it has already been said the best thing to do here is \"merge\" your results post process rather than expect \"keys\" that do not exist to appear or to issue multiple queries with explicit keys that are possibly not going to aggregate results and combine them.</p>\n\n<p>What has not already been said is how you actually do this, so I'll give you a MongoDB \"thinking\" kind of way to collect your results.</p>\n\n<p>As a quick disclaimer, you could possibly employ much the same approach by \"seeding\" empty keys for each interval using mapReduce, or possibly even altering your data so that there is always an empty value within each possible block. Those approaches seem basically \"hacky\" and in the mapReduce case is not going to provide the best performance or muliple results.</p>\n\n<p>What I would suggest is that working with collection results for the MongoDB brain can be made simple. There is a neat little solution called <a href=\"https://github.com/louischatriot/nedb\" rel=\"nofollow\">neDB</a>, which is billed as a kind of SQL Lite for MongoDB. It supports a subset of functionality and is therefore perfect for \"in memory\" manipulation of results with a MongoDB mindset:</p>\n\n<pre><code>var async = require('async'),\n    mongoose = require('mongoose'),\n    DataStore = require('nedb'),\n    Schema = mongoose.Schema;\n\n\nvar documentSchema = new Schema({\n  time: { type: Date, default: Date.now }\n});\n\nvar Document = mongoose.model( \"Document\", documentSchema );\n\n\nmongoose.connect('mongodb://localhost/test');\n\nvar getCount = function(timeBlock, start, end, callback) {\n\n  async.waterfall(\n    [\n\n      // Fill a blank series\n      function(callback) {\n\n        var db = new DataStore();\n\n        var current = start;\n\n        async.whilst(\n          function() { return current &lt; end },\n          function(callback) {\n            var delta = end - current;\n            db.insert({ \"_id\": end - delta, \"count\": 0 },function(err,doc) {\n              //console.log( doc );\n              current += timeBlock;\n              callback(err);\n            });\n          },\n          function(err) {\n            callback(err,db);\n          }\n        );\n      },\n\n      // Get data and update\n      function(db,callback) {\n\n        var cursor = Document.collection.aggregate(\n          [\n            // Match documents\n            { \"$match\": {\n              \"time\": {\n                \"$gte\": new Date(start),\n                \"$lt\": new Date(end)\n              }\n            }},\n\n            // Group. 1 step and less hacky\n            { \"$group\": {\n              \"_id\": {\n                \"$let\": {\n                  \"vars\": {\n                    \"delta\": {\n                      \"$subtract\": [\n                        { \"$subtract\": [ new Date(end), \"$time\" ] },\n                        { \"$mod\": [\n                          { \"$subtract\": [ new Date(end), \"$time\" ] },\n                          timeBlock\n                        ]}\n                      ]\n                    }\n                  },\n                  \"in\": { \"$subtract\": [ end, \"$$delta\" ] }\n                }\n              },\n              \"count\": { \"$sum\": 1 }\n            }}\n          ],\n          { \"cursor\": { \"batchSize\": 100 } }\n        );\n\n        cursor.on(\"data\",function(item) {\n          cursor.pause();\n          console.log( \"called\" );\n          db.update(\n            { \"_id\": item._id },\n            { \"$inc\": { \"count\": item.count } },\n            { \"upsert\": true },\n            function(err) {\n              cursor.resume();\n            }\n          );\n        });\n\n        cursor.on(\"end\",function() {\n          console.log( \"done\" );\n          db.find({},function(err,result) {\n            callback(err,result);\n          });\n        });\n      }\n\n    ],\n    function(err,result) {\n      callback(err,result);\n    }\n  );\n\n}\n\nmongoose.connection.on(\"open\", function(err,conn) {\n\n  getCount(\n    1000 * 60 * 60,                     // each hour\n    new Date(\"2014-07-01\").valueOf(),   // start\n    new Date(\"2014-07-02\").valueOf(),   // end\n    function(err,result) {\n      if (err) throw err;\n      console.log( result );\n    }\n  );\n\n});\n</code></pre>\n\n<p>So essentially create each interval as in memory collection and then just update those interval records with the actual data retrieved. I can't think of another way to do that where it would be more simple and natural to the way of thinking.</p>\n\n<p>Just a footnote, the \"interval\" logic is just replicated from your question, but in fact the time periods are \"rounded up\" where 15 minutes would appear in hour 1. It usually is the practice to round down so that everything belongs to the interval it falls in and not the next one.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm stuck on this for couple of days. I'm trying to get the <code>count: 0</code> where there is no documents in the given time period. This is the aggregate function I'm using at the moment:</p>\n\n<pre><code>var getCount = function(timeBlock, start, end, cb) {\n\n    Document.aggregate(\n    {\n        $match: {\n            time: {\n                $gte: new Date(start),\n                $lt: new Date(end)\n            }\n        }\n    },\n\n    {\n        $project: {\n            time: 1,\n            delta: { $subtract: [\n                new Date(end),\n                '$time'\n            ]}\n        }\n    },\n\n    {\n        $project: {\n            time: 1,\n            delta: { $subtract: [\n                \"$delta\",\n                { $mod: [\n                    \"$delta\",\n                    timeBlock\n                ]}\n            ]}\n        }\n    },\n\n    {\n        $group: {\n            _id: { $subtract: [\n                end,\n                \"$delta\"\n            ]},\n            count: { $sum: 1 }\n        }\n    },\n\n    {\n        $project: {\n            time: \"$_id\",\n            count: 1,\n            _id: 0\n        }\n    },\n\n    {\n        $sort: {\n            time: 1\n        }\n\n    }, function(err, results) {\n        if (err) {\n            cb(err)\n        } else {\n            cb(null, results)\n        }\n    })\n}\n</code></pre>\n\n<p>I tried using <code>$cond</code>, but with no luck</p>\n",
            "last_activity_date": 1407547859,
            "question_id": 25039406,
            "score": 2,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "aggregation-framework"
            ],
            "title": "skipped count 0 in aggregate function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Normally, one would use <code>FormData</code> to compose the <code>postData</code> of a request, but unfortunately we cannot do so here, as there is currently no way to get the stream (and other information) from a <code>FormData</code> instance (<code>nsIXHRSendable</code> is not scriptable, unfortunately), so we'll have to create a <code>multipart/form-data</code> stream ourselves.</p>\n\n<p>Since it is likely you'll want to post some file data as well, I added file uploads as well. ;)</p>\n\n<pre><code>function encodeFormData(data, charset) {\n  let encoder = Cc[\"@mozilla.org/intl/saveascharset;1\"].\n                createInstance(Ci.nsISaveAsCharset);\n  encoder.Init(charset || \"utf-8\",\n               Ci.nsISaveAsCharset.attr_EntityAfterCharsetConv + \n               Ci.nsISaveAsCharset.attr_FallbackDecimalNCR,\n               0);\n  let encode = function(val, header) {\n    val = encoder.Convert(val);\n    if (header) {\n      val = val.replace(/\\r\\n/g, \" \").replace(/\"/g, \"\\\\\\\"\");\n    }\n    return val;\n  }\n\n  let boundary = \"----boundary--\" + Date.now();\n  let mpis = Cc['@mozilla.org/io/multiplex-input-stream;1'].\n             createInstance(Ci.nsIMultiplexInputStream);\n  let item = \"\";\n  for (let k of Object.keys(data)) {\n    item += \"--\" + boundary + \"\\r\\n\";\n    let v = data[k];\n    if (v instanceof Ci.nsIFile) {\n      let fstream = Cc[\"@mozilla.org/network/file-input-stream;1\"].\n                    createInstance(Ci.nsIFileInputStream); \n      fstream.init(v, -1, -1, Ci.nsIFileInputStream.DEFER_OPEN);\n      item += \"Content-Disposition: form-data; name=\\\"\" + encode(k, true) + \"\\\";\" +\n              \" filename=\\\"\" + encode(file.leafName, true) + \"\\\"\\r\\n\";\n      let ctype = \"application/octet-stream\";\n      try {\n        let mime = Cc[\"@mozilla.org/mime;1\"].getService(Ci.nsIMIMEService);\n        ctype = mime.getTypeFromFile(v) || ctype;\n      }\n      catch (ex) {\n        console.warn(\"failed to get type\", ex);\n      }\n      item += \"Content-Type: \" + ctype + \"\\r\\n\\r\\n\";\n      let ss = Cc[\"@mozilla.org/io/string-input-stream;1\"].\n               createInstance(Ci.nsIStringInputStream);\n      ss.data = item;\n      mpis.appendStream(ss);\n      mpis.appendStream(fstream);\n      item = \"\";\n    }\n    else {\n      item += \"Content-Disposition: form-data; name=\\\"\" + encode(k, true) + \"\\\"\\r\\n\\r\\n\";\n      item += encode(v);\n    }\n    item += \"\\r\\n\";\n  }\n  item += \"--\" + boundary + \"--\\r\\n\";\n  let ss = Cc[\"@mozilla.org/io/string-input-stream;1\"].\n           createInstance(Ci.nsIStringInputStream);\n  ss.data = item;\n  mpis.appendStream(ss);\n  let postStream = Cc[\"@mozilla.org/network/mime-input-stream;1\"].\n                   createInstance(Ci.nsIMIMEInputStream);\n  postStream.addHeader(\"Content-Type\",\n                       \"multipart/form-data; boundary=\" + boundary);\n  postStream.setData(mpis);\n  postStream.addContentLength = true;\n  return postStream;\n}\n</code></pre>\n\n<p>(You could use additional <code>nsIMIMEInputStream</code> instead of string-concatenating stuff together, but this would perform worse and has no real merit).</p>\n\n<p>Which can then be used like e.g.:</p>\n\n<pre><code>let file = Services.dirsvc.get(\"Desk\", Ci.nsIFile);\nfile.append(\"australis-xp ha\u0308llow, wo\u0308rld.png\");\n\nlet postData = encodeFormData({\n  \"filename\": \"\",\n  \"image_url\": \"\",\n  \"image_content\": \"--somne value ---\",\n  \"contents\": file\n}, \"iso8859-1\");\n\ngBrowser.loadOneTab(\"http://www.example.org/\", {\n  inBackground: false,\n  postData: postData\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>If I dynamically insert a form object into a page, submit and remove the form and it works fine.</p>\n\n<p>Here is an example of the form code:</p>\n\n<pre><code>&lt;form target=\"_blank\" enctype=\"multipart/form-data\" \n      action=\"https://www.example.com/\" method=\"POST\"&gt;\n  &lt;input value=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\" name=\"image_content\" type=\"hidden\"&gt;\n  &lt;input value=\"\" name=\"filename\" type=\"hidden\"&gt;\n  &lt;input value=\"\" name=\"image_url\" type=\"hidden\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When I try to do the same process with <code>loadOneTab()</code>, result <code>POST</code> is not exactly the same and therefore the result is not the same as above.<br>\nOn checking the headers, \"some value\" is not sent fully (gets cropped) and it sets <code>Content-Length: 0</code>.<br>\nI must be missing something.</p>\n\n<pre><code>let postStream = Components.classes['@mozilla.org/network/mime-input-stream;1']\n                   .createInstance(Components.interfaces.nsIMIMEInputStream);\npostStream.addHeader('Content-Type', 'multipart/form-data');\npostStream.addHeader('filename', '');\npostStream.addHeader('image_url', '');\npostStream.addHeader('image_content', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==');\npostStream.addContentLength = true;\nwindow.gBrowser.loadOneTab('https://www.example.com/',\n    {inBackground: false, postData: postStream});\n</code></pre>\n\n<p><strong>Note:</strong>  image_content value is 'data:image/png;base64' Data URI<br>\nNoScript causes issues with sending form and XSS and I prefer to use <code>loadOneTab</code> for the <code>inBackground</code></p>\n",
            "last_activity_date": 1406725328,
            "question_id": 25009431,
            "score": 2,
            "tags": [
                "javascript",
                "firefox-addon",
                "firefox-addon-restartless"
            ],
            "title": "Replication of Form method with loadOneTab"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I'm not sure what the purpose of <code>dot</code> is (maybe I'm missing some maths knowledge here), but two circles colliding happens if <code>dist &lt; sum(radii)</code>. Should this occur, you should deflect the circles, but ensure they have at least some small speed to ensure they separate.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>When two circles overlap with no velocity your <code>resCCCol()</code> method won't work since <code>dot</code> is <code>0</code>. Even if you change the <code>if</code> statement to execute on <code>dot &gt;= 0</code>, you're still left with 0 velocity. </p>\n\n<pre><code>if (dot &gt; 0) { //dot === 0\n    var scale = dot / dist; //scale === 0\n\n    var cx = dx * scale; //cx === 0\n    var cy = dy * scale; //cy === 0\n\n    var mass = a.r + b.r;\n\n    var cw1 = 2 * b.r / mass;\n    var cw2 = 2 * a.r / mass;\n\n    a.vx += cw1 * cx // 0\n    a.vy += cw1 * cy // 0\n    b.vx -= cw2 * cx // 0\n    b.vy -= cw2 * cy // 0\n}\n</code></pre>\n\n<p>You should handle cases when <code>dot === 0</code>. The easiest way is to simply give them a set velocity when the velocity is <code>0</code>:</p>\n\n<pre><code>if (dot &gt; 0) { \n    ... \n} else {\n    a.vx = 1;\n    a.vy = 1;\n    b.vx = -1;\n    b.vy = -1;\n}\n</code></pre>\n\n<p>This, of course, will only propel them away from each other towards opposite corners of the screen, but you could easily implement something that better adheres to the laws of physics (ignoring the fact that two objects can't take up the same space).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's not entirely clear what the best way to handle this would be, and I think it would be better to make sure you don't end up in this situation in the first place (by making sure they don't ever overlap with zero velocity), but a quick and dirty fix is to check <code>dot === 0</code> and if so, give them some velocity. For example:</p>\n\n<pre><code>if (dot === 0) {\n    // numbers pulled completely out of thin air...\n    a.vx = 0.5;\n    a.vy = 0.5;\n    b.vx = -0.5;\n    b.vy = -0.5;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/yP7xf/5/\" rel=\"nofollow\">http://jsfiddle.net/yP7xf/5/</a></p>\n\n<p>Now what velocity should you give them? That's something you'll need to work out. Probably you want them to move apart so you can probably calculate some vector based on a line from the center of one to the center of the other and send one in one direction along that vector and the other in the other at whatever speed you think is appropriate. But if they are laid exactly on top of each other (centers at the same point), then you'll need to account for that case too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am making a game in HTML5, Canvas, and this is my code for resolving collision between two moving circles:</p>\n\n<pre><code>function resCCCol(a, b) {\n    var dx = a.x - b.x;\n    var dy = a.y - b.y;\n\n    var dist = dx * dx + dy * dy;\n\n    var vx = b.vx - a.vx;\n    var vy = b.vy - a.vy;\n\n    var dot = dx * vx + dy * vy;\n\n    if (dot &gt; 0) {\n        var scale = dot / dist;\n\n        var cx = dx * scale;\n        var cy = dy * scale;\n\n        var mass = a.r + b.r;\n\n        var cw1 = 2 * b.r / mass;\n        var cw2 = 2 * a.r / mass;\n\n        a.vx += cw1 * cx\n        a.vy += cw1 * cy\n        b.vx -= cw2 * cx\n        b.vy -= cw2 * cy\n    }\n}\n</code></pre>\n\n<p>If I set the coordinates so that the circles overlap but still have their velocity both at 0, the circles won't push out each other, that is the problem. How do I fix this?</p>\n\n<p>EDIT: Fiddle: <a href=\"http://jsfiddle.net/yP7xf/2/\" rel=\"nofollow\">http://jsfiddle.net/yP7xf/2/</a>, click \"Glitch it!\" to see the glitch, as you see they won't separate.</p>\n",
            "last_activity_date": 1396896651,
            "question_id": 22919567,
            "score": 2,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "physics",
                "collision"
            ],
            "title": "Javascript - Circle-Circle Collision Issue"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Not sure you can restore the previous state with several html files.</p>\n\n<p>You should use the multi-page template of JQM and set all your html in one file with each page in a div with the data-role=\"page\" and a specific id :</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"foo\"&gt;\n&lt;/div&gt;\n&lt;div data-role=\"page\" id=\"bar\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>With that, you will be able to keep the state of each pages.</p>\n\n<p>The JQM documentation : <a href=\"http://demos.jquerymobile.com/1.4.2/pages/#Multi-pagetemplatestructure\" rel=\"nofollow\">http://demos.jquerymobile.com/1.4.2/pages/#Multi-pagetemplatestructure</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h3>Short answer..</h3>\n\n<ul>\n<li><strong>Ajax Enabled</strong> : No, it is not possible.</li>\n<li><strong>Ajax Disabled</strong>: Yes, it is possible.</li>\n</ul>\n\n<hr>\n\n<h2>Details</h2>\n\n<p><strong>Ajax Enabled:</strong></p>\n\n<p>When you use <em>Single Page Model</em>, you have to make sure that you fulfill the below points:</p>\n\n<ol>\n<li>For each HTML, place jQuery, jQM.css and jQM.js in <code>head</code>.</li>\n<li>Custom JS should go inside <code>data-role=page</code> div.</li>\n<li>Each <code>data-role=page</code> div in a separate HTML file.</li>\n</ol>\n\n<p><strong>Note</strong>: jQM loads ONLY first <code>data-role=page</code> div of each HTML file into DOM. Anything outside <code>data-role=page</code> div is neglected. That's why <em>Custom JS</em> should be placed inside that div.</p>\n\n<p>When you navigate away from a <em>page</em> (except very first page loaded) jQuery Mobile removes that page from DOM. Unless you <em>cache</em> it by adding <code>data-dom-cache=\"true\"</code> to <code>data-role=page</code> div. The page is removed from DOM, however, CSS and JS are cached. To remove them, you need to refresh/reload the page completely.</p>\n\n<p>Hence, when you navigate from pageX.html to pageY.html via Ajax, if you override CSS in pageZ, they will be applied on pageX (in case you used same selectors).</p>\n\n<p>To safely override CSS of different pages, create custom classes and <code>addClass()</code> / <code>removeClass()</code> depending on page. Or, use <code>#pageID</code> selector to be more specific when you override CSS. The same applies for JS, you should be specific when you use <em>Page Events</em>.</p>\n\n<p><strong>Ajax Disabled:</strong></p>\n\n<p>You can do whatever you want, the website will be using HTTP not Ajax.</p>\n\n<blockquote>\n  <p><strong><a href=\"http://jsfiddle.net/Palestinian/bB5ar/show/\" rel=\"nofollow\">Demo</a></strong></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am fairly new at JQM and i am trying to build mobile application using jQuery Mobile.</p>\n\n<p><strong>Below is what i am trying to achieve..</strong></p>\n\n<p><strong>I have few HTML pages with each having its own css, javascript and JQM pages. What i need is when i change to another html file and do back on the back button using data-rel=\"back\" i get restored to the previous html file in the state i left it in.</strong></p>\n\n<p>I tried using pagecontainer change function, but it does not load javascript on the new loaded html file. It tried using the following code.</p>\n\n<pre><code>$( document ).on( \"vclick\", '.openTutorial', function(){\n    $.mobile.pageContainer.pagecontainer(\"change\", \"tutorial.html\", { \n        reload : true\n    });\n});\n</code></pre>\n\n<p>Also i tried another option which was pagecontainer load but this time its not even redirecting. I used the following code.</p>\n\n<pre><code>$( document ).on( \"vclick\", '.openTutorial', function(){\n    $.mobile.pageContainer.pagecontainer(\"load\", \"tutorial.html\", { });\n});\n</code></pre>\n\n<p>Is it achievable in JQM.</p>\n\n<p>If Yes then how do i navigate to the other html file so that its javascript and css in the head get loaded. And when i go back using data-rel=\"back\" the previous state is restored.</p>\n\n<p>If No then how do i achieve this. I mean what changes should i make..</p>\n\n<p>Thanks.. Much appreciate any help.</p>\n",
            "last_activity_date": 1396608253,
            "question_id": 22859314,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "jquery-mobile",
                "jquery-mobile-pageshow"
            ],
            "title": "jQuery Mobile | Navigation between Pages"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here is how to do it using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\" rel=\"nofollow\"><code>CustomEvent</code></a>, cross-browser (<a href=\"http://jsfiddle.net/uUJNz\" rel=\"nofollow\">fiddle</a>):</p>\n\n<pre><code>// listen to event\nwindow.addEventListener(\"say\", function(e) { alert(e.detail.word); });\n\n// create and dispatch the event\nvar event = document.createEvent(\"CustomEvent\");\nevent.initCustomEvent('say', true, true, \n    { \"word\": \"Hello!\" });\n\nwindow.dispatchEvent(event);\n</code></pre>\n\n<p>You'd need to use <code>window</code> or <code>document</code> or any other existing DOM element to register listeneres and dispatch the event. <code>EventTarget</code> is not a object, it's an interface. Try accessing <code>EventTarget</code> in JavaScript console and you'll see that.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I gave up on this awhile ago, but recently needed it again. Here's what I ended up using.</p>\n\n<p><strong>requires</strong> ecmascript <code>&gt;= 5</code></p>\n\n<hr>\n\n<pre><code>function Emitter() {\n  var eventTarget = document.createDocumentFragment();\n\n  function delegate(method) {\n    this[method] = eventTarget[method].bind(eventTarget);\n  }\n\n  [\n    \"addEventListener\",\n    \"dispatchEvent\",\n    \"removeEventListener\"\n  ].forEach(delegate, this);\n}\n</code></pre>\n\n<p>Now a \"class\" that uses it</p>\n\n<pre><code>function Example() {\n  Emitter.call(this);\n}\n</code></pre>\n\n<p>Let's try it out now!</p>\n\n<pre><code>var e = new Example();\n\ne.addEventListener(\"something\", function(event) {\n  alert(\"something happened! check the console too!\");\n  console.log(event);\n});\n\ne.dispatchEvent(new Event(\"something\"));\n</code></pre>\n\n<p>Yeah!</p>\n\n<hr>\n\n<p>For those that need to support older versions of ecmascript, here you go</p>\n\n<pre><code>// IE &lt; 9 compatible\nfunction Emitter() {\n  var eventTarget = document.createDocumentFragment();\n\n  function addEventListener(type, listener, useCapture, wantsUntrusted) {\n    return eventTarget.addEventListener(type, listener, useCapture, wantsUntrusted);\n  }\n\n  function dispatchEvent(event) {\n    return eventTarget.dispatchEvent(event);\n  }\n\n  function removeEventListener(type, listener, useCapture) {\n    return eventTarget.removeEventListener(type, listener, useCapture);\n  }\n\n  this.addEventListener = addEventListener;\n  this.dispatchEvent = dispatchEvent;\n  this.removeEventListener = removeEventListener;\n}\n</code></pre>\n\n<p>The usage stays the same</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>Bergi was right about the part, that <code>EventTarget</code> is just an interface and not a constructor. </p>\n\n<p>There are multiple objects in js that are valid event targets. As mentioned <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\" rel=\"nofollow\">there</a>: \n<em>Element, document, and window are the most common event targets</em>, but there are also others for example <code>Websocket</code>. Anyway, all of them are given. </p>\n\n<p>If you make a short test, you can notice few things:</p>\n\n<pre><code>EventTarget.isPrototypeOf(WebSocket); // true\n\nvar div = document.createElement(\"div\");\n\nEventTarget.isPrototypeOf(div.constructor); // true\n\ntypeof EventTarget // function\n\nEventTarget() // TypeError: Illegal constructor\n</code></pre>\n\n<p><code>EventTarget</code> is prototype of these constructors, which is something you can't set for any other constructor (and even if you could, it wouldnt probably work). Also it is a function, but not callable one. </p>\n\n<p><strong>Now this is the time when you ask:</strong> So what is it <code>EventTarget</code> good for and how can I use it?</p>\n\n<p>We have 3 methods that each event emitter needs to implement and there was probably a need to bind these methods together, so we have an interface for them. Which means you can't use <code>EventTarget</code> for calling purposes, but some other native functions might. This is similar like creating elements, we have <code>document.createElement</code> factory method and we don't (can't) use <code>new HTMLDivElement()</code> to create a new element, but we can compare constructors of two elements. </p>\n\n<p><strong>Conclusion</strong></p>\n\n<p>If you want to create custom event emitter, you always have to create some dummy object or use some that already exists. From my point of view, it doesn't matter what object it will be. </p>\n\n<p>Some methods are not callable, but still can be compared as properties of objects. Therefore they are visible. <code>EventTarget</code> is one of them. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to create a custom event emitter in my client-side programs. I am referencing this (sparse) documentation for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\" rel=\"nofollow\">EventTarget</a></p>\n\n<p><strong>My implementation attempt</strong></p>\n\n<pre><code>var Emitter = function Emitter() {\n  EventTarget.call(this);\n};\n\nEmitter.prototype = Object.create(EventTarget.prototype, {\n  constructor: {\n    value: Emitter\n  }\n});\n</code></pre>\n\n<p><strong>My desired usage</strong></p>\n\n<pre><code>var e = new Emitter();\n\ne.addEventListener(\"hello\", function() {\n  console.log(\"hello there!\");\n});\n\ne.dispatchEvent(new Event(\"hello\"));\n// \"hello there!\"\n</code></pre>\n\n<p><strong>Where it fails</strong></p>\n\n<pre><code>var e = new Emitter();\n// TypeError: Illegal constructor\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>The following is possible, but it's a hack that depends on a dummy DOMElement</p>\n\n<pre><code>var fake = document.createElement(\"phony\");\nfake.addEventListener(\"hello\", function() { console.log(\"hello there!\"); });\nfake.dispatchEvent(new Event(\"hello\"));\n// \"hello there!\"\n</code></pre>\n\n<p>I'd like to know how to do this without having to use the dummy element</p>\n",
            "last_activity_date": 1424370841,
            "question_id": 22186467,
            "score": 2,
            "tags": [
                "javascript",
                "events"
            ],
            "title": "How to use JavaScript EventTarget?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It works perfectly for me. I created extension with two files you showed:</p>\n\n<p>manifest.json:</p>\n\n<pre><code>{\n  \"manifest_version\": 2,\n\n  \"name\": \"Temp Ext\",\n  \"version\": \"1.0\",\n\n  \"content_scripts\": [\n    {\n      \"matches\": [\"*://trello.com/b/*\"],\n      \"js\":[\"contentscript.js\"]\n    }\n  ]\n}\n</code></pre>\n\n<p>contentscript.js:</p>\n\n<pre><code>console.log(\"Hello, world!\");\n</code></pre>\n\n<p>Then I open third link in this search thread: <a href=\"https://www.google.ca/search?q=trello+board+game&amp;oq=trello+board+game&amp;aqs=chrome..69i57.5037j0j1&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow\">https://www.google.ca/search?q=trello+board+game&amp;oq=trello+board+game&amp;aqs=chrome..69i57.5037j0j1&amp;sourceid=chrome&amp;ie=UTF-8</a> (\"Game of Thrones: the Board Game - Trello\") and Chrome DevTools Console writes \"Hello, world!\"</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The problem was that <a href=\"http://blog.fogcreek.com/the-trello-tech-stack/\">Trello uses HTML5's pushState</a> for page transitions, so the content script wasn't always being run after a board was opened.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Changes to manifest:</p>\n\n<pre><code>{\n  \"manifest_version\": 2,\n\n  \"name\": \"Temp Ext\",\n  \"version\": \"1.1\",\n\n  \"content_scripts\": [{\n    \"matches\": [\"*://trello.com/*\"],\n    \"js\":[\"contentscript.js\"]\n  }],\n\n  \"background\": {\n    \"scripts\": [\"background.js\"]\n  },\n\n  \"permissions\": [\n    \"*://trello.com/*\", \"tabs\", \"webNavigation\"\n  ]\n}\n</code></pre>\n\n<p>Add background script:</p>\n\n<pre><code>chrome.webNavigation.onHistoryStateUpdated.addListener(function(details) {\n    chrome.tabs.executeScript(null,{file:\"contentscript.js\"});\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have a Chrome extension content script that I want to run on Trello boards. For now, it contains only:</p>\n\n<pre><code>console.log(\"Hello, world!\");\n</code></pre>\n\n<p>When you open the Trello board page through an internal link, like from the My Boards page, the content script does not run. It does run after you refresh the page though.</p>\n\n<p>My manifest file contains:</p>\n\n<pre><code>{\n  \"manifest_version\": 2,\n\n  \"name\": \"Temp Ext\",\n  \"version\": \"1.0\",\n\n  \"content_scripts\": [\n    {\n      \"matches\": [\"*://trello.com/b/*\"],\n      \"js\":[\"contentscript.js\"]\n    }\n  ]\n}\n</code></pre>\n\n<p>Can anyone help me figure out why the script doesn't run at the time the page is initially loaded?</p>\n\n<p>EDIT: Corrected question. Issue only occurred after following internal links, not any links.</p>\n",
            "last_activity_date": 1389501221,
            "question_id": 20865581,
            "score": 2,
            "tags": [
                "javascript",
                "google-chrome-extension",
                "trello"
            ],
            "title": "Chrome extension Content Script not loaded until page is refreshed"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Change </p>\n\n<pre><code>contentType: \"application/json utf-8\",\n</code></pre>\n\n<p>to</p>\n\n<pre><code>contentType: \"application/json; charset=utf-8\",\n</code></pre>\n\n<p>The malformation of your <code>contentType</code> header is causing your server to incorrectly interpret the content of your <code>POST</code> request.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try to change the JQuery URL from :</p>\n\n<pre><code>http://www.example.com/ws/webservice.php/methodName\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>http://www.example.com/ws/webservice.php?method=methodName\n</code></pre>\n\n<p>And then try to read it from the $_GET['method'] from PHP, I think this should be your problem</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just change your response to text and then parse the text as JSON, example:</p>\n\n<p>var json = JSON.parse(data);</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>because you are doing cross domain calls you need to use JSONP.  The PHP server must form a response that looks like this:   callback( jsonSyntax);</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I'm having this headache now, since I've been having this problem the whole day and, still, can't fix it. I've looked on Google and StackOverflow for hours, tried many methods (including changing from JSON to JSONP, checking headers on PHP, localhost tests), asked friends, etc., and I'm still stuck. Maybe it's but a detail, I don't know.</p>\n\n<p>I'm working on an Android mobile app, and for it, I have a PHP webservice on a hosting (let's say, example.com) that's working OK since I tested with with a PHP WS JSON client. Problem is I'm calling this WS now from a JS file on my computer using jQuery, JSON and Ajax, and I get the following response from Google Chrome's debugger console:</p>\n\n<ul>\n<li>readyState: 4</li>\n<li>statusText: \"OK\"</li>\n<li>responseText: (what I need, no errors)</li>\n</ul>\n\n<p>But on the response from the server, <strong>I always receive the Error callback, never the Success</strong>. I read it's because the server couldn't parse JSON correctly, but I don't really know.</p>\n\n<p>I leave you my code.</p>\n\n<p>From CLIENT.JS:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    crossDomain: true,\n    contentType: \"application/json utf-8\",\n    dataType: \"json\",\n    url: \"http://www.example.com/ws/webservice.php/\" + methodName,\n    data: JSON.stringify(window.parameterArray),\n\n    success: function (response)\n        {\n            alert('Success!');\n            window.resultVar = \"Success! \" + response;\n            console.log(response);\n        },\n    error: function (response)\n        {\n            alert('Error');\n            window.resultVar = \"Error: \" + response;\n            console.log(response);\n        }\n});\n</code></pre>\n\n<p>From SERVER.PHP:</p>\n\n<pre><code>&lt;?php\nheader('Access-Control-Allow-Origin: *');  //I have also tried the * wildcard and get the same response\nheader(\"Access-Control-Allow-Credentials: true\");\nheader('Access-Control-Allow-Methods: GET, PUT, POST, DELETE, OPTIONS');\nheader('Access-Control-Max-Age: 1000');\nheader('Access-Control-Allow-Headers: Content-Type, Content-Range, Content-Disposition, Content-Description');\nheader('Content-type: application/json; charset=utf-8');\n\nrequire_once \"mobilefuncts.php\";\n\n$methodName = str_replace($_SERVER[\"SCRIPT_NAME\"].\"/\", \"\", $_SERVER[\"REQUEST_URI\"]);\n\nif (isset($methodName))\n{\n   $param = (array)json_decode($HTTP_RAW_POST_DATA);\n\n   $access = new MobileAccess();  //From mobilefuncts.php\n   $result = call_user_func_array(array($access,$methodName), $param);   //Calls the method\n\n   echo json_encode($result);\n}\n?&gt;\n</code></pre>\n\n<p>Does anyone knows what can be done? Maybe, as I said before, the problem is but a detail. I don't know really, I'm kinda new to this kind of things.</p>\n\n<p>Thanks in forehand!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I just realized the Chrome console tells me this:</p>\n\n<pre><code>GET http://localhost:81/.../cordova_plugins.json 404 (Not Found)\n</code></pre>\n\n<p>Could it be the cause of the problem?</p>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>Look here, I have a clue. I added more parameters to the error function, and got myself this result:</p>\n\n<p>(The change in error is from <em>function(response)</em> to <em>function(jqXHR, textStatus, errorThrown)</em>)</p>\n\n<pre><code>jqXHR.responseText: [an array with the info I'm asking]\nerrorThrown: \"SyntaxError: Unexpected token\"\n</code></pre>\n",
            "last_activity_date": 1387488363,
            "question_id": 20685949,
            "score": 2,
            "tags": [
                "javascript",
                "php",
                "jquery",
                "json",
                "web-services"
            ],
            "title": "JQuery JSON Calls To PHP WebService Always Runs &quot;Error&quot; Callback"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The reasen is because Facebook callback in different php-session and cant access config info from caller session.\nLook at Endpoint.php\nif ( ! $storage->config( \"CONFIG\" ) ) ...\nThe rason was because I use in my site with 127.0.0.1 but return_uri was with localhost because of Facebook restrictions.\nPHP builds different sessions in this case.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>adding \"www.\" to the URL resolves the issue.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>After adding this on top of my controller it started working </p>\n\n<pre><code>if (session_status() == PHP_SESSION_NONE) {\n    @session_id($_COOKIE['CAKEPHP']);\n    @session_start();\n    @session_name('CAKEPHP');\n}\n</code></pre>\n\n<p>Read here\n<a href=\"https://github.com/hybridauth/CakePHP-HybridAuth/pull/1\" rel=\"nofollow\">https://github.com/hybridauth/CakePHP-HybridAuth/pull/1</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using HybridAuth social plugin in my website to login from facebook and other websites,</p>\n\n<p>everything is working fine, but when I checked on other computers, there is an error</p>\n\n<blockquote>\n  <p>You cannot access this page directly</p>\n</blockquote>\n\n<p>and I noticed that the error comes when the browser use WWW in the address bar, the browser on same computer eg: opera not using the www so there is no error on those browser.</p>\n\n<p>please help me how can I fix this error so login can done from any browser</p>\n",
            "last_activity_date": 1413807285,
            "question_id": 18655472,
            "score": 2,
            "tags": [
                "php",
                "javascript",
                "facebook",
                "hybrid"
            ],
            "title": "You cannot access this page directly - HybridAuth Social Login"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Here you go:</p>\n\n<pre><code>function getFrequency(string) {\n    var freq = {};\n    for (var i=0; i&lt;string.length;i++) {\n        var character = string.charAt(i);\n        if (freq[character]) {\n           freq[character]++;\n        } else {\n           freq[character] = 1;\n        }\n    }\n\n    return freq;\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Here's another option using underscore.js:</p>\n\n<pre><code>function charCount(str) {\n    return _(str.split('')).countBy(function(char) {\n        return char.toLowerCase();\n    });\n}\n</code></pre>\n\n<p><code>charCount('aaabbbbdd')</code> outputs <code>Object {a: 3, b: 4, d: 2}</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>for(i = strlen(string)var string = 'aabsssd';\nvar chars = new Array();\nfor(var i = 0; i &lt; string.length; i++){\n    var char = string.charAt(i);\n    if(chars[char] == undefined){\n        chars[char] = 0;\n    }\n    chars[char]++;\n}\nconsole.log(chars);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another solution:</p>\n\n<pre><code>function count (string) {  \n  var count = {};\n  string.split('').forEach(function(s) {\n     count[s] ? count[s]++ : count[s] = 1;\n  });\n  return count;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to write some kind of loop that can count the frequency of each letter in a string.</p>\n\n<p>For example: \"aabsssd\"</p>\n\n<p>output: a:2, b:1, s:3, d:1</p>\n\n<p>Also want to map same character as property name in object. Any good idea how to do this?</p>\n\n<p>I am not sure how to do it.</p>\n\n<p>This is where I am so far:</p>\n\n<pre><code>var arr = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"];\n\nfunction counter(x) {\n    var count=0, temp = [];\n    x = x.split('');\n    console.log(x);\n    for(var i=0, len = x.length; i &lt; len; i++) {\n        if(x[i] == \"a\") {\n            count++;\n        }\n    }\n    return count;\n}\nvar a = \"aabbddd\";\nconsole.log(counter(a));\n</code></pre>\n",
            "last_activity_date": 1396626965,
            "question_id": 18619785,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "counting frequency of characters in a string using javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>var page = require('webpage').create();\nvar fs=require('fs');\nvar system = require('system');\nvar url = 'http://www.google.com/';\npage.open(url, function(status) {\n    var links = page.evaluate(function() {\n        return [].map.call(document.querySelectorAll('a.gbzt'), function(link) {\n            return link.getAttribute('href');\n        });\n    });\n    var _urls = links.join('\\n');\n    try\n    {\n        fs.write('/home/JIM/Documents/phantomjs-1.9.1-linux-x86_64/bin/MEFile/Log.txt', _urls , 'w');\n    }\n    catch (e)\n    {\n        console.log(e);\n    }\n    if (system.args.length &lt; 2) {\n        console.log(\"Usage: readFile.js FILE\");\n        phantom.exit(1);\n    }\n    var content = '',\n        f = null,\n        lines = null,\n        eol = system.os.name == 'windows' ? \"\\r\\n\" : \"\\n\";\n    try {\n        f = fs.open(system.args[1], \"r\");\n        content = f.read();\n    } catch (e) {\n        console.log(e);\n    }\n    if (f) {\n        f.close();\n    }\n    if (content) {\n        lines = content.split(eol);\n        for (var i = 0, len = lines.length; i &lt; len; i++) {\n            console.log(lines[i]);\n        }\n    }  \n    phantom.exit();\n    });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<pre><code>var page = require('webpage').create();\npage.open('http://www.alfeker.net/', function () {\n    page.includeJs(\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js\",\n        function () {\n            try {\n                var b = [];\n                b = page.evaluate(function () {\n                    $(\"a.titr\").each(function () {\n                        return b = $(this).text();\n                    });\n                });\n            } catch (e) {\n                console.log(e);\n            }\n            console.log(b);\n        });\n});\n</code></pre>\n",
            "last_activity_date": 1375351678,
            "question_id": 17924478,
            "score": 2,
            "tags": [
                "javascript",
                "phantomjs"
            ],
            "title": "PhantomJS why return null?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I prepared solution based on pie chart. Legend is generated on data points, automatically as HTML list. Then all elements gets colors from series, and use CSS3 to generate circle object (border-radius). As a result you need to add click event. </p>\n\n<p><a href=\"http://jsfiddle.net/N3KAC/1/\" rel=\"nofollow\">http://jsfiddle.net/N3KAC/1/</a></p>\n\n<pre><code> $legend = $('#customLegend');\n\n    $.each(chart.series[0].data, function (j, data) {\n\n        $legend.append('&lt;div class=\"item\"&gt;&lt;div class=\"symbol\" style=\"background-color:'+data.color+'\"&gt;&lt;/div&gt;&lt;div class=\"serieName\" id=\"\"&gt;' + data.name + '&lt;/div&gt;&lt;/div&gt;');\n\n    });\n\n    $('#customLegend .item').click(function(){\n        var inx = $(this).index(),\n            point = chart.series[0].data[inx];\n\n        if(point.visible)\n            point.setVisible(false);\n        else\n            point.setVisible(true);\n    });  \n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>    .symbol {\n    width:20px;\n    height:20px;\n    margin-right:20px;\n    float:left;\n    -webkit-border-radius: 10px;\n    border-radius: 10px;\n}\n.serieName {\n    float:left;\n    cursor:pointer;\n}\n\n.item {\n    height:40px;\n    clear:both;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>In recent versions of Highcharts you can use <code>symbolWidth: width</code> and <code>symbolRadius: width/2</code> inside <code>legend: {}</code>.</p>\n\n<p>See this JSFiddle demonstration: <a href=\"http://jsfiddle.net/Wzs9L/\" rel=\"nofollow\">http://jsfiddle.net/Wzs9L/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Im using a highchart pie chart to create a donut chart but would like the legend icons to be circles any ideas??? Below is the mockup and the actual web version. Thanks...</p>\n\n<p><img src=\"http://i.stack.imgur.com/PszZY.jpg\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1408194605,
            "question_id": 17041490,
            "score": 2,
            "tags": [
                "javascript",
                "highcharts",
                "circle",
                "legend"
            ],
            "title": "Highchart pie legend circles"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>function cmp(x, y) {\n    return x &gt; y ? 1 : x &lt; y ? -1 : 0;\n}\n\nary.sort(function(a, b) {\n    return cmp(a.name, b.name) || cmp(b.hours, a.hours)\n})\n</code></pre>\n\n<p>If javascript had a <a href=\"http://stackoverflow.com/questions/827649/what-is-the-ruby-spaceship-operator\">spaceship operator</a> that would be even more elegant. Note that this code is easy to extend to use more properties:</p>\n\n<pre><code>ary.sort(function(a, b) {\n    return cmp(a.name, b.name) || cmp(a.age, b.age) || cmp(b.hours, a.hours) || ....\n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>You can sort by <em>Name</em>, then sort elements who have the same name by <em>Hours</em></p>\n\n<p>Example:</p>\n\n<pre><code>var array = [{\"Name\":\"ANDY\", \"Hours\":40},\n             {\"Name\":\"ANDY\", \"Hours\":50},\n             {\"Name\":\"GREG\", \"Hours\":40}];\n\n\nvar sortedArray = array.sort(function(a,b) {\n            return (a[\"Name\"] &gt; b[\"Name\"]) ? 1 : -1;\n    }).sort(function(a,b) {\n            if(a[\"Name\"] == b[\"Name\"])\n                return (a[\"Hours\"] &lt; b[\"Hours\"]) ? 1 : -1;\n            else \n                return 0;\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>obj.sort(function(item1,item2) {\n  if ( item1.Name &lt; item2.Name )\n    return -1;\n  if ( item1.Name &gt; item2.Name )\n    return 1;\n  return item1.Hours - item2.Hours;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var arr = [{\n    name: \"GREG\",\n    hours: \"40\"\n}, {\n    name: \"ANDY\",\n    hours: \"50\"\n}, {\n    name: \"ANDY\",\n    hours: \"40\"\n}];\n\nArray.prototype.sortOn = function(conds){\n    this.sort(function(a, b){\n        for(var i=0; i &lt; conds.length; i++){\n            var c = conds[i].split(\" \");\n            if(a[c[0]] &lt; b[c[0]]){\n                return c[1] == \"asc\" ? -1:1;\n            }\n            if(a[c[0]] &gt; b[c[0]]){\n                return c[1] == \"asc\" ? 1:-1;\n            }\n        }\n        return 0;\n    });\n    return this;\n}\n\narr.sortOn([\"name asc\", \"hours dsc\"]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have an array of objects with two properties: Name and Hours.</p>\n\n<p>For example:</p>\n\n<pre><code>array = [\n    {name: \"ANDY\", hours: 40 }, \n    {name: \"ANDY\", hours: 50 }, \n    {name: \"GREG\", hours: 40 },\n]\n</code></pre>\n\n<p>For example in my array I would like the result of the sorting to have the Andy with the most hours first, then Andy with slightly less hours, and then Greg because his name comes later alphabetically and so on and so on.</p>\n\n<p>Since the array.sort() function passes two elements of the array to compare i realise this is not the way to go for me but fail to come up with an elegant solution. Please help me out.</p>\n",
            "last_activity_date": 1419215097,
            "question_id": 16164078,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Grouped sorting on a JS array"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Geocoding is asynchronous, you need to use the returned data in the callback function</p>\n\n<pre><code>&lt;input id=\"address\" type=\"textbox\" value=\"\"&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar lat;\nvar lng;\nfunction addressurls(address) {\nvar address = document.getElementById(\"address\").value;\nvar geocoder = new google.maps.Geocoder();\ngeocoder.geocode({'address': address}, function postcodesearch(results, status) \n{   \n  if (status == google.maps.GeocoderStatus.OK) \n  {\n    var lat = results[0].geometry.location.lat();\n    var lng = results[0].geometry.location.lng();\n    var laturl = \"&amp;lat=\";\n    var lonurl = \"&amp;lon=\";\n    var postcode = document.getElementById(\"address\").value;\n    var addressurl = \"/distributors-search?address=\" + postcode + laturl + lat+ lonurl + lng;\n    parent.location=addressurl;\n  }\n  else {\n    alert(\"Error\");\n  }\n});\n\n}\n&lt;/script&gt;\n&lt;input type=\"button\" value=\"Encode\" onclick=\"addressurls('address'), parent.location=addressurl\"&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I need to get the Lat/Lng from a Postcode, so I'm using Google Map/Geocode API.</p>\n\n<p>I can't get the lat/lng variable out of the function running within the Geocode script. The code I'm using is below:</p>\n\n<pre><code>&lt;input id=\"address\" type=\"textbox\" value=\"\"&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar lat;\nvar lng;\nfunction addressurls(address) {\nvar address = document.getElementById(\"address\").value;\nvar geocoder = new google.maps.Geocoder();\ngeocoder.geocode({'address': address}, function postcodesearch(results, status) \n{   \n  if (status == google.maps.GeocoderStatus.OK) \n  {\n    var lat = results[0].geometry.location.lat();\n    var lng = results[0].geometry.location.lng();\n  }\n  else {\n    alert(\"Error\");\n  }\n  return lat;\n  return lng;\n});\nvar laturl = \"&amp;lat=\";\nvar lonurl = \"&amp;lon=\";\nvar postcode = document.getElementById(\"address\").value;\nvar addressurl = \"/distributors-search?address=\" + postcode + laturl + lat+ lonurl + lng;\nparent.location=addressurl;\n}\n&lt;/script&gt;\n&lt;input type=\"button\" value=\"Encode\" onclick=\"addressurls('address'), parent.location=addressurl\"&gt;\n</code></pre>\n\n<p>Does anyone know how to fix it?</p>\n",
            "last_activity_date": 1364853645,
            "question_id": 15752345,
            "score": 2,
            "tags": [
                "javascript",
                "google-maps-api-3",
                "google-geocoder"
            ],
            "title": "How to get a javascript lat/lng variable out of a Google Map API function"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>JavaScript numbers are <a href=\"https://en.wikipedia.org/wiki/Double_precision\" rel=\"nofollow\">Double Precision Floats</a>; the largest integer that can be precisely stored is 2^53 (9007199254740992). \nIf you actually need it in a number you have some fun math ahead of you, or you can use a library such as <a href=\"https://github.com/MikeMcl/big.js\" rel=\"nofollow\">big.js</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>It's seems that your number is greater than 2^53, biggest integer number in javascript which can be represented without loosing precision (see <a href=\"http://stackoverflow.com/questions/307179/what-is-javascripts-max-int-whats-the-highest-integer-value-a-number-can-go-t\">this question</a>). </p>\n\n<p>If you really need to operate big numbers, you could use special libraries like this one: <a href=\"https://github.com/peterolson/BigInteger.js\" rel=\"nofollow\">https://github.com/peterolson/BigInteger.js</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can compare strings that represent big integers as strings-</p>\n\n<p>a longer string of integers is larger, otherwise compare characters in order.</p>\n\n<p>You can sort an array of integer-strings</p>\n\n<pre><code>function compareBigInts(a, b){\n    if(a.length== b.length) return a&gt;b? 1:-1;\n    return a.length-b.length;\n}\n</code></pre>\n\n<p>or return the larger of two strings of digits</p>\n\n<pre><code>function getBiggestBigInts(a, b){\n    if(a.length== b.length) return a&gt;b? a:b;\n    return a.length&gt;b.length? a: b;\n}\n</code></pre>\n\n<p>//examples</p>\n\n<pre><code>var n1= '9223372036854775807', n2= '9223372056854775807',\nn3= '9223',n2= '9223372056854775817',n4= '9223372056854775';\n</code></pre>\n\n<p><strong>getBiggestBigInts(n1,n2)</strong>;>> 9223372056854775807</p>\n\n<p><strong>[n1,n2,n3,n4].sort(compareBigInts)</strong>;>></p>\n\n<pre><code>9223\n9223372056854775\n9223372036854775807\n9223372056854775817\n</code></pre>\n\n<p>Just make sure you are comparing <strong>strings</strong>.</p>\n\n<p>(If you use '-' minus values,a 'bigger' string value is <strong>less</strong>)</p>\n\n<p>By the way,you  sort big <strong>decimals</strong> by splitting on the decimal point and comparing the integer parts. If the integers are the same length and are equal, look at the the decimal parts.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a string value ' 9223372036854775807 '. I use Number() function in JavaScript to convert it to a number value using the following Code</p>\n\n<pre><code>var numericVal = Number(' 9223372036854775807 ');\n</code></pre>\n\n<p>when i check the value in numericVal, it is 9223372036854776000. How can I get the equivalent value for the string representing the Number?</p>\n",
            "last_activity_date": 1363805116,
            "question_id": 15529337,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Prevent JavaScript Number function from rounding big numbers"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>In Method #2 there are two problems:</p>\n\n<ol>\n<li><p>You are returning the key name, <code>a</code>, rather than the array value, <code>ar[a]</code>. That is, rather than <code>return a;</code> you want <code>return ar[a];</code>.</p></li>\n<li><p>The function will always refer to the last value looped through because it references the same scope object. To create a new scope object you will need a closure, a <code>with</code> block, or a bound function.</p></li>\n</ol>\n\n<p>With a closure:</p>\n\n<pre><code>for(var a in ar) { \n  var O = (function(val) { \n    return function() { \n      return val; \n     }\n  })(ar[a]);\n  alStr.push(O); \n}\n</code></pre>\n\n<p>With a <code>with</code> block:</p>\n\n<pre><code>for(var a in ar) { \n  with({val: ar[a]}) {\n    alStr.push(function() { \n      return val; \n     });\n  }\n} \n</code></pre>\n\n<p>With a bound function:</p>\n\n<pre><code>for(var a in ar) { \n  var O = function(x) { return x; };\n  alStr.push(O.bind(null, arr[a]));\n} \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Peter Olson is correct. However, the more modern (correct?) way of doing this is by using <code>function.bind(obj, val)</code>. Introduced somewhat recently, <code>function.bind</code> allows you to pass variables by value and in certain contexts. Read more <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\">here</a>.</p>\n\n<p>So, you could write something like this:</p>\n\n<pre><code>function transform(ar) {\n    var alStr = [];\n    var O = function(x) { return x }\n    for(var a in ar) {\n        alStr.push(O.bind(null, ar[a]));\n    }\n    return alStr; \n}\n\nvar a = [\"a\", 24, 12345];\nvar b = transform(a);\nconsole.log(a[2]);\nb[2]();\n</code></pre>\n\n<p>This is a more correct paradigm due to the fact that initiating closures has very clear implications. Using bind, however, tends to be a functional approach to be used specifically when function calling (in particular contexts or with particular stipulations).</p>\n\n<p>Using a with block also has some downsides (there are plenty of questions about it).</p>\n\n<p><strong>Bonus</strong>: If you wanted <code>b</code> to also represent subsequent changes to the <code>a</code> array, this solution solves that problem:</p>\n\n<pre><code>function transform(ar) {\n    var alStr = [];\n    var O = function(x) { return ar[x] }\n    for(var a in ar) {\n        alStr.push(O.bind(null, a));\n    }\n    return alStr; \n}\n\nvar a = [\"a\", 24, 12345];\nvar b = transform(a);\nconsole.log(a[2]);\nconsole.log(b[2]());\nconsole.log(\"*********\");\na[2] = \"new value!\";\nconsole.log(a[2]);\nconsole.log(b[2]());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Method # 1</p>\n\n<pre><code>function transform(ar) {\n    var alStr = [];\n    for(var i=0; i&lt;ar.length; i++) {\n\n        alStr[i] = (function(v) {\n            return (function() {\n                return v;\n            });\n        }(ar[i]));\n    }\n\n    return alStr;\n}\n\nvar a = [\"a\", 24, { foo: \"bar\" }];\nvar b = transform(a);\na[1];\nb[1]();\n</code></pre>\n\n<p>Method # 2</p>\n\n<pre><code>function transform(ar) {\n    var alStr = [];\n    for(var a in ar) {\n        var O = function() {\n            return a;\n        }\n        alStr.push(O);\n    }\n    return alStr; \n}\n\nvar a = [\"a\", 24, { foo: \"bar\" }];\nvar b = transform(a);\na[1];\nb[1]();\n</code></pre>\n\n<p>The above mentioned methods are used to convert an array objects into individual functions which on execution return the specific array object. Want to know why method #1 works and method #2 doesnt.</p>\n",
            "last_activity_date": 1344274682,
            "question_id": 11821484,
            "score": 2,
            "tags": [
                "javascript",
                "closures"
            ],
            "title": "Javascript closure?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Strangely enough I'm pretty sure all of them cause reflows &amp; even repaints.</p>\n\n<p>Here's an article about it all:\n<a href=\"http://www.phpied.com/rendering-repaint-reflowrelayout-restyle/\" rel=\"nofollow\">Reflows &amp; Repaints</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In a nutshell, any property that causes an element to change size or move will cause a reflow because that change of size or position can affect other elements.  Browsers spend effort trying to be as efficient as possible to identify what might need to be reflowed, but each has a different way of doing that.</p>\n\n<p>Properties that cannot affect the size or position of an element such as a background color should not trigger a reflow, though there is no guarantee that every browser is smart enough to implement this.</p>\n\n<p>In your list:</p>\n\n<p><code>innerHTML</code> changes the HTML of an object which certainly can affect size and position and will trigger at least a partial reflow.</p>\n\n<p><code>offsetParent</code> appears to me to be a read-only property that isn't something you set directly so reading it shouldn't cause a reflow if one wasn't otherwise already scheduled.</p>\n\n<p><code>style</code> is the gateway to lots of properties, including <code>height</code> and <code>width</code> which obviously would lead to at least a partial reflow.</p>\n\n<p><code>scrollTop</code> need not cause a reflow because layout is generally not changed, just a scroll position of one element (and it's children).  The layout should remain the same, just a repaint is required.</p>\n\n<p>It's probably worth saying also that most properties that lead to a reflow, don't immediately cause that reflow, but rather they schedule the reflow for some short time in the future.  That way, if some javascript runs that changes a bunch of different properties, each of which needs a reflow, the browser isn't doing N reflows, but rather, it schedules the reflow, waits for the current javascript thread of execution to finish and then it carries out whatever reflows are needed just once.  There are some properties that when read, cause all reflows that are pending to be done now because those properties could have inaccurate values if the reflows aren't done right away.  You can read about that in this earlier post: <a href=\"http://stackoverflow.com/questions/1397478/forcing-a-dom-refresh-in-internet-explorer-after-javascript-dom-manipulation/1397505#1397505\">Forcing a DOM refresh in Internet explorer after javascript dom manipulation</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>It depends.</p>\n\n<ul>\n<li><code>innerHTML</code> will only trigger a reflow when setting it changes the DOM.</li>\n<li><code>offsetParent</code> shouldn't do anything, getting it might flush the render tree queue.</li>\n<li><code>style</code> might trigger reflow and repaint when setting it (or properties of it) or chain those actions. Some properties like <code>color</code> should only trigger repaints.</li>\n<li><code>scrollTop</code> would trigger a repaint on setting, getting it might flush the queue.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Which of these DOM element properties can cause browser to perform a reflow operation?</p>\n\n<ul>\n<li><code>innerHTML</code></li>\n<li><code>offsetParent</code></li>\n<li><code>style</code></li>\n<li><code>scrollTop</code></li>\n</ul>\n",
            "last_activity_date": 1382413550,
            "question_id": 11616619,
            "score": 2,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "Which DOM element properties can cause the browser to perform a reflow operation when modified?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here you will need some Math:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Qo1jc.png\" alt=\"enter image description here\">\nThis is the basic concept if you don't know how to solve equations in general. I will leave the rest of the thinking to you. ;) Figuring out <code>CD</code>'s length isn't that hard.</p>\n\n<p>If you are asking how, that's how:\n<img src=\"http://i.stack.imgur.com/zix66.png\" alt=\"enter image description here\">\nFinding collisions in JavaScript is kind of complicated.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm looking for a definitive answer, maybe a function cos I'm slow, that will determine if a line segment and circle have collided, in javascript (working with canvas)</p>\n\n<p>A function like the one below that simply returns true if collided or false if not would be awesome. I might even donate a baby to you.</p>\n\n<pre><code>function isCollided(lineP1x, lineP1y, lineP2x, lineP2y, circlex, circley, radius) {\n\n    ...\n}\n</code></pre>\n\n<p>I've found plenty of formulas, <a href=\"http://stackoverflow.com/questions/1073336/circle-line-collision-detection\">like this one</a>, but they are over my head.</p>\n",
            "last_activity_date": 1339213481,
            "question_id": 10957689,
            "score": 2,
            "tags": [
                "javascript",
                "canvas",
                "line",
                "collision-detection",
                "circle"
            ],
            "title": "Collision detection between a line and a circle in JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes. A named function expression produces a variable corresponding to the function name within the scope of that function only.</p>\n\n<p>Here's an excellent but lengthy article on the subject: <a href=\"http://kangax.github.com/nfe/\" rel=\"nofollow\">http://kangax.github.com/nfe/</a></p>\n\n<p>See also <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_13\" rel=\"nofollow\">the relevant section of the ECMAScript 5 spec</a>. It has a specific note about this.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>Javascript Code</p>\n\n<pre><code>var d = function c() { console.log(c); };\nd(); // function c() { console.log(c); }; \nc(); // Reference Error\n</code></pre>\n\n<p>I understand the concept of variable hoisting where variable declarations and function definitions are hoisted to top of the existing scope. Also function definition in function expressions are not hoisted. </p>\n\n<p>So, above will be</p>\n\n<pre><code>var d;\nd = function c() { console.log(c); };\nd();\nc();\n</code></pre>\n\n<p>Hence d is a reference to a named function c</p>\n\n<ol>\n<li>on executing <code>d()</code> the function c is executed in global scope, where there is no variable or property named c. But still console manages to log function definition of c. </li>\n<li>When I tried <code>c()</code> I got a reference error. [As I Expected]</li>\n</ol>\n\n<p>Case 2 proves that there is no window property named c available\nSo, How did <code>d()</code> manage to print the c's definition on execution? </p>\n\n<p>Does every function have its own definition in its local scope as a property?</p>\n",
            "last_activity_date": 1405448137,
            "question_id": 10484281,
            "score": 2,
            "tags": [
                "javascript",
                "function",
                "scope"
            ],
            "title": "Javascript named function as an expression"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I think I understand your problem and find your question interesting, so I wrote the demo for you which shows how one can solve the problem.</p>\n\n<p><a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3ajquery_ui_methods#column_chooser\">columnChooser</a> uses jQuery UI Multiselect plugin internally which uses jQuery UI Sortable. So I suggest to use <a href=\"http://docs.jquery.com/UI/API/1.7.1/Sortable#event-receive\">sortreceive</a> event of the jQuery UI Sortable to catch the information needed.</p>\n\n<p>The code can be the following</p>\n\n<pre><code>$(\"#grid\").jqGrid('navButtonAdd', '#pager', {\n    caption: \"\",\n    buttonicon: \"ui-icon-calculator\",\n    title: \"Choose columns\",\n    onClickButton: function () {\n        $(this).jqGrid('columnChooser');\n        $(\"#colchooser_\" + $.jgrid.jqID(this.id) + \" ul.selected\")\n            .bind(\"sortreceive\", function (event, ui) {\n                alert('column \"' + ui.item.text() + '\" is choosed');\n            });\n        $(\"#colchooser_\" + $.jgrid.jqID(this.id) + \" ul.available a.action\")\n            .click(function () {\n                alert('column \"' + $(this).parent().text() + '\" is choosed');\n            });\n\n    }\n});\n</code></pre>\n\n<p>See the demo <a href=\"http://www.ok-soft-gmbh.com/jqGrid/SimpleLocalGridWithColumnChooser8.htm\">here</a>.</p>\n\n<p>The code bind 'click' event on the \"+\" for the <em>initial</em> list of the columns which was in the column chooser at the initialization time of the dialog. I think it would be sufficient for you. If needed you can easy modify the code to support the 'click' on the \"+\" for the columns which will be removed from the left list during the work with the <code>columnChooser</code>.</p>\n\n<p>I almost forget to mention that I used in the demo improved version of the <code>columnChooser</code> (see <a href=\"http://stackoverflow.com/a/9688942/315935\">the answer</a>), but my above suggestion works with the original version of <code>columnChooser</code> too.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I am using the below code in JqGrid for column chooser plug-in. when i tick the <strong>select All</strong> check box in the grid. I want to exclude particular column ( by default it should not display in my grid).<br>\nI used hidden=True property in col model. buy  i want to handle these in column chooser also.</p>\n\n<pre><code>function Properties_Columnchooser() {\n    $('#btn_setColumns').click(function () {\n        jQuery('#grid-tableProperties').jqGrid('columnChooser',{\n        \"shrinkToFit\" : true,\n        \"autowidth\" : true,\n        done : function(perm) {\n            w = $(window).width();\n            // alert('done ' + w);\n            if (perm) \n               {\n                this.jqGrid(\"remapColumns\", perm, true);\n                 this.setGridWidth(w - 30, true);\n\n                $('.ui-search-input').show();\n            } \n             else \n            {\n            }\n        }\n    }\n);\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm using the <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3ajqgriddocs\" rel=\"nofollow\">jqGrid</a> <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3ajquery_ui_methods\" rel=\"nofollow\">columnChooser</a>, like so:</p>\n\n<pre><code>    jQuery(grid).jqGrid(\n        'navButtonAdd',\n        pagerDiv,\n        {\n            caption: \"Columns\",\n            buttonicon: \"ui-icon-newwin\",\n            title: \"Hide/Show Columns\",\n            onClickButton: function () {\n                $(this).jqGrid('columnChooser', {\n                    done: function (perm) {\n                        if (perm) {\n                            $(this).jqGrid('remapColumns', perm, true);\n                        }\n                    },\n                    modal: true,\n                    width: 400,\n                    height: 300,\n                    classname: 'column-chooser-select'\n                });\n            }\n        }\n    );\n</code></pre>\n\n<p>and was wondering if there was a way to specify an event handler on the columnChooser (using the <a href=\"http://www.quasipartikel.at/multiselect/\" rel=\"nofollow\">jQuery UI Multiselect</a> plugin that comes w/ jqGrid) that fires any time a column is either added or removed.  So I guess it's a two-part question:</p>\n\n<ol>\n<li>does the jQuery UI Multiselect support such a thing?</li>\n<li>if so, is there a way to hook it up without altering the jqGrid source?</li>\n</ol>\n\n<p>A bit of background on what I'm trying to achieve:</p>\n\n<p>My default grid configuration hides many columns.  Some of these columns are not populated from the db - they are obscure, rarely used data elements that if populated would dramatically decrease the query execution performance (multiple joins involving tables with 100 million plus records).</p>\n\n<p>Should a user pick one of these columns for display i'd like to warn them that another roundtrip to the server is required and it could take a while - and give them the option to cancel the column addition.</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1407751548,
            "question_id": 10439072,
            "score": 2,
            "tags": [
                "javascript",
                "jqgrid",
                "multi-select"
            ],
            "title": "Add Remove Column Handler on jqGrid ColumnChooser"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>you should use <a href=\"http://api.jquery.com/on/\"><code>.on</code></a> to bind the handler to another element that is already present during the execution of the binding, like say the <code>&lt;body&gt;</code>, or the <code>document</code> and have it detect the children events. but ideally, you should bind it to the nearest common parent of the content loaded.</p>\n\n<p><a href=\"http://jsfiddle.net/fWsY8/1/\">demo</a></p>\n\n<pre><code>//bind to the body a \"click\" handler for elements that have class names of \"hello\"\n$('body').on('click','.hello',function(){\n  alert(\"Hello Clicked\");\n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I have a couple of Divs in my page with CSS class=\"hello\"\nFurther I use Ajax to fetch a few more Divs with a CSS class=\"hello\"\nI have a piece of code which is called on Click event of the Divs as follows:</p>\n\n<pre><code>$('.hello').click(function(){\n  alert(\"Hello Clicked\");\n})\n</code></pre>\n\n<p>It works fine with the Divs that are present in my page from start but does not work with Divs loaded using Ajax. Is there something I need do in order to bind this little piece of code with the newly loaded Divs too?</p>\n",
            "last_activity_date": 1334193878,
            "question_id": 10116170,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "ajax"
            ],
            "title": "How to bind a function to Element loaded via Ajax"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>HMAC is a construct for turning a hash function, like SHA1, into a <a href=\"http://en.wikipedia.org/wiki/Message_authentication_code\">Message Authentication Code</a> (MAC). </p>\n\n<p>Normal hash functions don't have any secret data associated with it. This means that anyone can compute the digest, assuming they have the original input. HMAC uses a secret key, so that only those in possession of the key can compute outputs. </p>\n\n<p>Suppose I have a file, file.txt. I want to send this to you, and we need to make sure nobody tampers with it. Sorry, I have no clever way to represent this with just text.</p>\n\n<pre><code>me -&gt; file.txt -&gt; you\nme -&gt; SHA1(file.txt) -&gt; you\n</code></pre>\n\n<p>Then you verify the result by computing your own SHA1 digest, and verifying it matches what I sent you. </p>\n\n<p>Now suppose an attacker was in the middle. Unfortunately, because there is no secret involved, the attacker can modify the file, and compute his own file/digest pair. When you compute your version, it'll match what he sent you, and you'll be none the wiser. </p>\n\n<pre><code>me -&gt; file.txt -&gt; attacker -&gt; modified.txt -&gt; you\nme -&gt; SHA1(file.txt) -&gt; attacker -&gt; SHA1(modified.txt) -&gt; you\n</code></pre>\n\n<p>With HMAC, we add a secret key to the computation. </p>\n\n<pre><code>me -&gt; file.txt -&gt; you\nme -&gt; SHA1_HMAC(file.txt, our_secret) -&gt; you\n</code></pre>\n\n<p>When you compute your version, you apply the secret key as well, and the result matches. The attacker, without knowledge of the key, can't replace the digest. </p>\n\n<pre><code>me -&gt; file.txt -&gt; attacker -&gt; modified.txt -&gt; you \nme -&gt; SHA1(file.txt) -&gt; attacker -&gt; SHA1_HMAC(modified.txt, // DOESN'T KNOW KEY) -&gt; you\n</code></pre>\n\n<p>HMAC is a very specific way of adding the secret key. Unfortunately, simple methods of just concatenating a key to the end of the file, or pre-pending it before hashing, are vulnerable to different attacks (length extension attacks, for example). </p>\n\n<p>The B64 is Base64 encoding the output, to make it pretty. </p>\n\n<p>What this code is ultimately doing is taking some input, and some secret key, and computing a 160-bit digest, and base64 encoding the result. </p>\n\n<p>There is an implementation of <a href=\"http://msdn.microsoft.com/en-us/library/system.security.cryptography.hmacsha1.aspx\">SHA1 HMAC in .NET</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/169907/how-do-i-base64-encode-a-string-efficiently-using-excel-vba\">This</a> looks like an implementation of Base64 for VBA</p>\n\n<p>I hope this answers it well enough, or clear enough. If the text is confusing, please let me know. I tried a couple routes of how to express it, and none of them seemed that clear. </p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You have written:</p>\n\n<blockquote>\n  <p>It appears to me that calling a JavaScript function from VBA is fairly impractical.</p>\n</blockquote>\n\n<p>That is a misjudgment. </p>\n\n<p>Javascript can be easily packaged as a Windows Script Component (WSC) and then invokved via COM, from VBA, Perl, VB6, or what-have-you.  </p>\n\n<p>Here's an example of packaging Javascript as a WSC and invoking it:  <a href=\"http://stackoverflow.com/a/849970/48082\">http://stackoverflow.com/a/849970/48082</a></p>\n\n<p>Therefore, your problem should be easily solvable. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to convert an ASP/VBScript OAuth library to VBA. One of the challenges is this line of code:</p>\n\n<pre><code>Get_Signature = b64_hmac_sha1(strSecret, strBaseSignature)\n</code></pre>\n\n<p>This function, b64_hmac_sha1 is actually a function contained in a JavaScript library. It appears to me that calling a JavaScript function from VBA is fairly impractical.</p>\n\n<p>Because I know so little about encryption, it's not even clear to me what this b64_hmac_sha1 function does. Is HMAC SHA1 different from SHA1?</p>\n\n<p>I half suspect I might be able to find some VBA code online to do what I need to do if I just understood what this function is actually doing. If I do not find an existing function, I could possibly write one that would use the .NET Cryptography library (you can actually call the .NET cryptography libraries from VBA if you know how).</p>\n\n<p>I'm not looking for someone to convert this JavaScript to VBA. I'm only trying to understand what it is that this b64_hmac_sha1 function is outputting so I can try to find ways to achieve the same output in VBA if possible.</p>\n\n<p>A copy of this JavaScript library is visible on this website. You'll have to scroll down past the VBScript to the JavaScript section.\n<a href=\"http://solstice.washington.edu/solstice/ASP_Signing_REST_Example\" rel=\"nofollow\">http://solstice.washington.edu/solstice/ASP_Signing_REST_Example</a></p>\n\n<p><strong>Edit1:</strong><br>\nOK, so here's the functions I ended up writing and using:  </p>\n\n<pre><code>Public Function Base64_HMACSHA1(ByVal sTextToHash As String, ByVal sSharedSecretKey As String)\n\n    Dim asc As Object, enc As Object\n    Dim TextToHash() As Byte\n    Dim SharedSecretKey() As Byte\n    Set asc = CreateObject(\"System.Text.UTF8Encoding\")\n    Set enc = CreateObject(\"System.Security.Cryptography.HMACSHA1\")\n\n    TextToHash = asc.Getbytes_4(sTextToHash)\n    SharedSecretKey = asc.Getbytes_4(sSharedSecretKey)\n    enc.Key = SharedSecretKey\n\n    Dim bytes() As Byte\n    bytes = enc.ComputeHash_2((TextToHash))\n    Base64_HMACSHA1 = EncodeBase64(bytes)\n    Set asc = Nothing\n    Set enc = Nothing\n\nEnd Function\n\nPrivate Function EncodeBase64(ByRef arrData() As Byte) As String\n\n    Dim objXML As MSXML2.DOMDocument\n    Dim objNode As MSXML2.IXMLDOMElement\n\n    Set objXML = New MSXML2.DOMDocument\n\n    ' byte array to base64\n    Set objNode = objXML.createElement(\"b64\")\n    objNode.DataType = \"bin.base64\"\n    objNode.nodeTypedValue = arrData\n    EncodeBase64 = objNode.Text\n\n    Set objNode = Nothing\n    Set objXML = Nothing\n\nEnd Function\n</code></pre>\n\n<p>Using this function:</p>\n\n<pre><code>Debug.Print Base64_HMACSHA1(\"abc\", \"123\")\nVAsMU9SSWDe9krP3Gr56nXC2dsQ=\n</code></pre>\n",
            "last_activity_date": 1333946937,
            "question_id": 10068548,
            "score": 2,
            "tags": [
                "javascript",
                "vba",
                "encryption",
                "hmacsha1"
            ],
            "title": "Base64 HMAC SHA1 String in VBA"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There is <strong>no way to get direct access</strong> to the background page's global object from a <a href=\"https://developer.chrome.com/extensions/content_scripts.html\" rel=\"nofollow\">Content script</a> or <strong>injected script</strong>.</p>\n\n<p>To use a background page's method from an injected script , follow these steps:</p>\n\n<ol>\n<li><strong>Content Script</strong>: Bind an event listener to the page <sup><a href=\"http://stackoverflow.com/a/9636008/938089?chrome-extension-retrieving-gmails-original-message\">example 1</a></sup>.\n<br><em>Whenever you want to notify the method from the background page:</em></li>\n<li><strong>Injected script</strong>: Create and fire this specific event <sup><a href=\"http://stackoverflow.com/a/9636008/938089?chrome-extension-retrieving-gmails-original-message\">example 1</a></sup>.\n<br>&rarr; The event listener from <strong>1)</strong> gets triggered.</li>\n<li>In this event listener, use <a href=\"https://developer.chrome.com/extensions/runtime.html#method-sendMessage\" rel=\"nofollow\"><code>chrome.runtime.sendMessage</code></a> to request the functionality from the background <sup><a href=\"https://developer.chrome.com/extensions/messaging.html#simple\" rel=\"nofollow\">example 2</a></sup>.</li>\n<li>In the background page, handle this request using <a href=\"https://developer.chrome.com/extensions/runtime.html#event-onMessage\" rel=\"nofollow\"><code>chrome.runtime.onMessage</code></a>.</li>\n<li>Optionally, inject code in the original tab using <a href=\"https://developer.chrome.com/extensions/tabs.html#method-executeScript\" rel=\"nofollow\"><code>chrome.tabs.executeScript(tab.id, func)</code></a>.</li>\n</ol>\n\n<p>To use a background page's method from a Content script, only steps 3 and 4 are needed.<br>\nHere's an example, in which the content script communicates with the background page:</p>\n\n<pre><code>// Example background page\nfunction some_method(arg_name) {\n    return localStorage.getItem(arg_name);\n}\nchrome.runtime.onMessage.addListener(function(request, sender, callback) {\n    if (request.type == 'localStorage - step 4') {\n        callback( some_method(request.name) );\n    } else if (request.type == 'localStorage - step 5') {\n        localStorage.setItem(request.name, request.value);\n    }\n});\n\n// Example contentscript.js\nchrome.runtime.sendMessage({\n    type: 'localStorage - step 4',\n    name: 'preference'\n}, function(value) {\n    if (value === null) {\n        // Example: If no preference is set, set one:\n        chrome.runtime.sendMessage({\n            type: 'localStorage - step 5',\n            name: 'preference',\n            value: 'default'\n        });\n    }\n});\n</code></pre>\n\n<h2>See also</h2>\n\n<ul>\n<li>SO: What you <strong>should</strong> know about <a href=\"http://stackoverflow.com/a/9916089/938089?chrome-extension-auto-run-a-function\">background scripts vs Content Scripts vs Injected scripts</a>.</li>\n<li>SO: Example code: <a href=\"http://stackoverflow.com/a/9636008/938089?chrome-extension-retrieving-gmails-original-message\">Communicating between an Injected script and a Content script</a>.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have defined a global object in a .js file. For example file1.js contains the global object SomeObject. This file gets loaded in background.html. </p>\n\n<p>Since file1.js is included in background.html, I am able to access the global object in this page. So no issues here.</p>\n\n<p>When an event like click on the extension button is performed, I am running a content script using the <code>chrome.tabs.executeScript(null, {file: \"contentscript.js\"});</code> api.</p>\n\n<p>How can I access SomeObject in the contentscript in this case?</p>\n",
            "last_activity_date": 1373757305,
            "question_id": 10052259,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "google-chrome-extension"
            ],
            "title": "Accessing global object from content script in chrome extension"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Solved: unbelievably, the only minor error was that I was using a global variable inside my JS file called \"name\". That's a serious no-no with the Facebook SDK (though not mentioned anywhere). I found the reasoning on a link I can't remember, but the primary issue is that the global name variable is mangled up with the window.name which is required by the FB api.</p>\n\n<p>I'd simply suggest avoiding a global variable called name whether or not you use the Facebook SDK. Just in case.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I've been trying to configure the new Facebook Javascript API with my website, but I'm facing an issue with Firefox (working perfectly fine with Chrome and Safari, yet to test out on IE fully but have been informed of no issues).</p>\n\n<p>The issue is being pointed out in the beginning of Facebook's all.js file, with the message saying</p>\n\n<pre><code>window.name is undefined\nif(!window.FB)window.FB={_apiKey:null,...return document.getElementById(a);}}; \nall.js (line 3)\n</code></pre>\n\n<p>Hence, any subsequent accesses to the SDK using FB. results in an error stating</p>\n\n<pre><code>FB is not defined\n[Break On This Error] FB.login(function(response) \n</code></pre>\n\n<p>The code that I've used is</p>\n\n<pre><code>&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;script&gt;\n    window.fbAsyncInit = function() {\n    FB.init({\n    appId      : 'my_app_id', // App ID\n    channelURL : 'my_channel_file', // Channel File\n    status     : true, // check login status\n    cookie     : true, // enable cookies to allow the server to access the session\n    oauth      : true, // enable OAuth 2.0\n    xfbml      : true  // parse XFBML\n    });\n    startLoad();\n</code></pre>\n\n<p>};</p>\n\n<pre><code>    // Load the SDK Asynchronously\n    (function(d){\n        var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}\n        js = d.createElement('script'); js.id = id; js.async = true;\n        js.src = \"//connect.facebook.net/en_US/all.js\";\n        d.getElementsByTagName('head')[0].appendChild(js);\n    }(document));\n&lt;/script&gt;\n</code></pre>\n\n<p>Any clues as to what the issue has? And has anyone faced this error before?</p>\n",
            "last_activity_date": 1326129433,
            "question_id": 8780368,
            "score": 2,
            "tags": [
                "javascript",
                "facebook",
                "facebook-javascript-sdk"
            ],
            "title": "Having issue with Firefox 8 for Mac: window.name is undefined"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The following is based on <a href=\"http://stackoverflow.com/a/4812022/96100\">this answer</a> but is modified to work with selections in any document (such as one in an iframe). The same caveats about the na\u00efvet\u00e9 of this approach laid out in that answer still apply.</p>\n\n<pre><code>function getCaretCharacterOffsetWithin(element) {\n    var doc = element.ownerDocument || element.document;\n    var win = doc.defaultView || doc.parentWindow;\n    var sel, range, preCaretRange, caretOffset = 0;\n    if (typeof win.getSelection != \"undefined\") {\n        sel = win.getSelection();\n        if (sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            preCaretRange = range.cloneRange();\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(range.endContainer, range.endOffset);\n            caretOffset = preCaretRange.toString().length;\n        }\n    } else if ( (sel = doc.selection) &amp;&amp; sel.type != \"Control\") {\n        range = doc.selection.createRange();\n        preCaretRange = doc.body.createTextRange();\n        preCaretRange.moveToElementText(element);\n        preCaretRange.setEndPoint(\"EndToEnd\", textRange);\n        caretOffset = preCaretTextRange.text.length;\n    }\n    return caretOffset;\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>var iframe = document.getElementById(\"foo\");\nvar iframeBody = (iframe.contentDocument || iframe.contentWindow.document).body;\nalert( getCaretCharacterOffsetWithin(iframeBody) );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>This worked for me </p>\n\n<pre><code>function getCaretPosition() {\nvar element = document.idEditbox.document.body; // just my content IFRAME\nvar doc = element.ownerDocument || element.document;\nvar win = doc.defaultView || doc.parentWindow;\nvar sel, range, preCaretRange, caretOffset = 0;\nif (typeof win.getSelection != \"undefined\") {\n    sel = win.getSelection();\n    if (sel.rangeCount) {\n        range = sel.getRangeAt(0);\n        preCaretRange = range.cloneRange();\n        preCaretRange.selectNodeContents(element);\n        preCaretRange.setEnd(range.endContainer, range.endOffset);\n        caretOffset = preCaretRange.toString().length;\n    }\n} else if ( (sel = doc.selection) &amp;&amp; sel.type != \"Control\") {\n    range = doc.selection.createRange();\nvar tempRange = range.duplicate();\n    preCaretRange = doc.body.createTextRange();\n    preCaretRange.moveToElementText(element);\n    preCaretRange.setEndPoint(\"EndToEnd\", tempRange);\n    caretOffset = preCaretRange.text.length;\n}\nreturn caretOffset;\n</code></pre>\n\n<p>}</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to get the cursor position of an editable iFrame (using designMode). Here is the code I have so far:</p>\n\n<pre><code>document.getElementById('iframe_id').contentWindow.document.getSelection().getRangeAt(0)\n</code></pre>\n\n<p>From there, getting the property <code>startOffset</code> gets the number of characters from the beginning of that line, but not from the beginning of the iFrame document. I would like to get the cursor position relative to the beginning of the document.</p>\n\n<p>Please note: I <strong>am not</strong> interested in <em>setting the cursor position</em>; I just want to get it.</p>\n\n<p>Preferably, I would like the fix to be compatible with Chrome/Safari/Firefox; compatibility with IE is not necessary.</p>\n\n<p>Any help would be greatly appreciated.</p>\n",
            "last_activity_date": 1391368225,
            "question_id": 8664504,
            "score": 2,
            "tags": [
                "javascript",
                "iframe",
                "designmode"
            ],
            "title": "designMode iFrame Get Cursor Position"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Google's geocoder is asynchronous so the <code>map.fitbounds(latlngbounds)</code>  is being called before all of the points have been geocoded.  The simplest way to fix this would be to put the <code>map.fitbounds(latlngbounds)</code> right after the extend call.</p>\n\n<pre><code>for(var i = 0; i &lt; arrAddress.length; i++) {\n     geocoder.geocode( { 'address': arrAddress[i]}, function(results, status) {\n          if (status == google.maps.GeocoderStatus.OK) {\n\n                var marker = new google.maps.Marker({\n                  map: map, \n                  position: results[0].geometry.location\n                });\n\n                latlngbounds.extend(results[0].geometry.location);\n                map.fitBounds(latlngbounds);\n\n        }\n    });\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nHere is a better answer.  In the last example the <code>map.fitbounds(latlngbounds)</code> method is called repeatedly, which can possibly create problems when there are lots of markers.  Using the answer in <a href=\"http://stackoverflow.com/questions/4288759/asynchronous-for-cycle-in-javascript\">this question</a> you can create an asynchronous loop to make sure the <code>map.fitbounds(latlngbounds)</code> is only called once.</p>\n\n<pre><code>//replaced the for loop.\nasyncLoop(arrAddress.length, function(loop) {\n    geocoder.geocode({                           \n        'address': arrAddress[loop.iteration()] //loop counter\n    }, function(results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n            var marker = new google.maps.Marker({\n                map: map,\n                position: results[0].geometry.location\n            });\n\n            latlngbounds.extend(results[0].geometry.location);    \n        }\n\n        //increment the loop counter.\n        loop.next();\n    });\n}, function() {\n    //when the loop is complete call fit bounds.\n    map.fitBounds(latlngbounds);\n});    \n\nfunction asyncLoop(iterations, func, callback) {\n    var index = 0;\n    var done = false;\n    var loop = {\n        next: function() {\n            if (done) {\n                return;\n            }\n\n            if (index &lt; iterations) {\n                index++;\n                func(loop);\n\n            } else {\n                done = true;\n                callback();\n            }\n        },\n\n        iteration: function() {\n            return index - 1;\n        },\n\n        break: function() {\n            done = true;\n            callback();\n        }\n    };\n    loop.next();\n    return loop;\n}\n</code></pre>\n\n<p>example has been updated:\n<a href=\"http://jsfiddle.net/jFMQ5/2/\" rel=\"nofollow\">fiddle of the working code.</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Following code works ok, except that it not zoom to the given points.</p>\n\n<p>If I take the Latlng direct it works, without convert the address to Latlng.</p>\n\n<p>I need to convert a address to latlng because I get the addresses out of a database.</p>\n\n<p>Anyone an idea what is wrong?</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt; \n&lt;html&gt;  \n&lt;head&gt;  \n   &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"/&gt;  \n   &lt;title&gt;Google Maps Test&lt;/title&gt;  \n   &lt;script src=\"http://maps.google.com/maps/api/js?sensor=false\"  \n           type=\"text/javascript\"&gt;&lt;/script&gt;  \n&lt;/head&gt;  \n&lt;body&gt;  \n   &lt;div id=\"map\" style=\"width: 600px; height: 400px;\"&gt;&lt;/div&gt;  \n\n   &lt;script type=\"text/javascript\"&gt;  \n\n   var arrAddress = new Array();\n\n   arrAddress[0] = \"kelbergen, Amsterdam\";\n   arrAddress[1] = \"Kraailookstraat, Amsterdam\";\n   arrAddress[2] = \"krootstraat, Amsterdam\";\n\n   var optionMap = {\n          zoom: 16,\n          MapTypeId: google.maps.MapTypeId.ROADMAP,\n          };\n\n    var map = new google.maps.Map(document.getElementById('map'), optionMap);\n\n    var geocoder = new google.maps.Geocoder();\n\n    var latlngbounds = new google.maps.LatLngBounds();\n\n    for(var i = 0; i &lt; arrAddress.length; i++) {\n\n        geocoder.geocode( { 'address': arrAddress[i]}, function(results, status) {\n              if (status == google.maps.GeocoderStatus.OK) {\n\n                    var marker = new google.maps.Marker({\n                      map: map, \n                      position: results[0].geometry.location\n                    });\n\n                    latlngbounds.extend(results[0].geometry.location);\n            }\n        });\n\n    }\n\n    map.fitBounds(latlngbounds);\n\n    &lt;/script&gt;  \n&lt;/body&gt;  \n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1324325323,
            "question_id": 8565539,
            "score": 2,
            "tags": [
                "javascript",
                "google-maps-api-3"
            ],
            "title": "Google Maps with fitBounds don&#39;t zoom"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This will do the trick:</p>\n\n<pre><code>\"sermon[thesis][1][name][2]\".replace(/\\[(\\d+)\\]/g, function(match, number) {\n    return \"[\" + (Number(number) + 1) + \"]\";\n});\n</code></pre>\n\n<p>Working demo: <a href=\"http://jsfiddle.net/eHUeT/\" rel=\"nofollow\">jsFiddle</a>.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>To increment the last number, you would add a dollar sign <code>$</code> before the last <code>/</code>, here's a demo: <a href=\"http://jsfiddle.net/h5bwV/\" rel=\"nofollow\">jsFiddle</a>.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can use <code>replace</code>, it can actually take a function as the replacement \"string\".</p>\n\n<pre><code>var str = 'sermon[thesis][1][name][2]';\nstr = str.replace(/(\\d+)/g, function(a){\n   return parseInt(a,10) + 1;\n});\nconsole.log(str); //'sermon[thesis][2][name][3]'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can use the <code>replace()</code> function to match any number with a regular expression and then return that value incremented by 1 to replace it:</p>\n\n<pre><code>var string = '[1][2]';\nstring.replace(/[0-9]+/g,function(e){return parseInt(e,10)+1})); //Returns [2][3]\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/sPHb4/1/\" rel=\"nofollow\">Working Example</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can do something like this:</p>\n\n<pre><code>var str = \"sermon[thesis][1][name][2]\";\nvar newStr = str.replace(new RegExp(\"\\\\d+\", \"g\"), function (n) {\n    return parseInt(a, 10) + 1;\n});\n</code></pre>\n\n<p>Basicly, the function would be called with the text been captured by the expression <code>\\d+</code>\uff0cthe text return from the function would be use to replace the captured text.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to search a string for any numbers in it and increase the numbers by 1. So that this <code>'sermon[thesis][1][name][2]'</code> becomes <code>'sermon[thesis][2][name][3]'</code>. </p>\n",
            "last_activity_date": 1357955763,
            "question_id": 8432865,
            "score": 2,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "How to increase each number in a string?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can use <code>navigator.userAgent</code> to check the OS version, but that isn't really the problem here.</p>\n\n<p>What you can do is use media queries to check the actual screen resolution of the device, which might be the cause of the problem at hand.</p>\n\n<pre><code>var isRetina = window.matchMedia(\"(-webkit-min-device-pixel-ratio: 2)\").matches;\n</code></pre>\n\n<p>You could also probably do without JavaScript, by using media queries for loading different stylesheets for retina displays:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"retina.css\"\n    media=\"only screen and (-webkit-min-device-pixel-ratio: 2)\" /&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Maybe you can check it by taking OS version in query <code>navigator.appVersion.indexOf(\"...</code>\niphone3G has Apple iOS 4.2.1\niphone4 and 4S have  Apple iOS 5.0.1 but iphone3GS has the same.</p>\n\n<p>As variant you can provide cpu speed test by using big loop. Something like <code>for (var i=0, k=1; i&lt;5000000; i++) k++;</code> and checkin consumed time for this.</p>\n\n<p>iphone3G(S) has maximum 600 Mhz, and iphone4 has 1 Ghz. So, there is a distinction, and you can to catch it after some tests (loop) and define loop speed for each iphone generation. </p>\n\n<p>But note, all this ways are rough and may have been not correct in other conditions.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The solution is actually pretty simple but longer to write than i expected.</p>\n\n<p>as Yan Pak Said, the only way we can check it is by checking the CPU speed. I wrote a small loop that runs from 0 to 10000000 and then started to run it on different devices. i checked the time before, than checked the time after and of course, every device returened different result.</p>\n\n<p>from the agent, we can know the device type. all is left is to separate the speeds.\nthese are the devices i was checking it on.</p>\n\n<pre><code>iphone 4s &lt; 200\niphone 4 &lt;300\niphone 3gs &lt;400\n\nipad 2 &lt;200\nall the rest are ipad 1\n</code></pre>\n\n<p>here is my code, hope it helps anybody:</p>\n\n<pre><code>var date1 = new Date();//time we started              \nfor (var i=0, j=1; i&lt;10000000; i++) j++; \nvar date2 = new Date();//time we ended\ndiff=date2.getTime() - date1.getTime(); //time difference.\nalert(diff);//show me the difference so i can add lines to more phone types\nif (device=='iPad' &amp;&amp; diff&lt;200){\n    deviceVersion='2';\n}\nelse if (device=='iPad'){\n    deviceVersion='1';\n}\nelse if (device=='iphone' &amp;&amp; diff&lt;200){\n    deviceVersion='4s';\n}\nelse if (device=='iphone' &amp;&amp; diff&lt;300){\n    deviceVersion='4';\n}\nelse if (device=='iphone' &amp;&amp; diff&lt;400){\n    deviceVersion='3gs';\n}\n...\n</code></pre>\n\n<p>Some people might prefer switch case. i like if.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I came across to a similar problem a while ago. Working on a client's website that had lots of videos loaded via javascript, I found out that the video format they needed to use had a weird frame rate that didn't work on iPhone 3GS -.</p>\n\n<p>Following atornblad's approach, I got to this solution that perfectly suited what I needed:</p>\n\n<pre><code>if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i))) {\n    if (!(window.devicePixelRatio &gt; 1)){\n        //non retina iphone / ipod\n    }\n};\n</code></pre>\n\n<p>First it checks if the user is coming to me from an iPod or an iPhone. Then, it checks for Retina support. Since only iPhone 4+ supports it, I managed to call the correct video files for older devices. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Need to distinguish between <em>iPhone3x</em> and <em>iPhone4x</em>. Is there any way to figure out the version from JavaScript please?</p>\n",
            "last_activity_date": 1355763830,
            "question_id": 8309998,
            "score": 2,
            "tags": [
                "javascript",
                "mobile",
                "mobile-safari"
            ],
            "title": "How to determine which iPhone version the javascript code runs on?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>In general, no.</p>\n\n<p>Unless there is a \"connection\" between the windows (e.g., one window opened all the other using <code>window.open</code>), browser windows can't interact because of security reasons.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>If you assign a name to your window, you can regain control over it after refreshing the parent page.</p>\n\n<ol>\n<li><p><code>windowVar = window.open('somePage.html', 'windowName');</code> opens a child window with name <code>windowName</code>.</p></li>\n<li><p>After refreshing the parent page, <code>windowVar = window.open('', 'windowName');</code> re-associates the variable <code>windowVar</code> with the window of name <code>windowName</code>.</p></li>\n<li><p>Now, <code>windowVar.location.href= 'logout.html';</code> lets you log out your user.</p></li>\n</ol>\n\n<p><strong>Edit:</strong></p>\n\n<p>Assuming you use PHP, you could do something like this:</p>\n\n<p>Create <code>logged.php</code> with a function <code>logged_in</code> that verifies if the session ID is still valid.</p>\n\n<pre><code>&lt;?php\n    if (isset($_GET['sid']))\n            if (logged_in($_GET['sid']))\n            echo \"in\";\n    else\n            echo \"out\";\n?&gt;\n</code></pre>\n\n<p>Include <code>check()</code> function in your pages.</p>\n\n<pre><code>function check()\n{\n    var url = \"http://redtwitz.com/test/logged.php?sid=\" + sessionId;\n    var request;\n    try\n    {\n        request = new XMLHttpRequest();\n    }\n    catch(error1)\n    {\n        try\n        {\n            request = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }\n        catch(error2)\n        {\n            request = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n    }\n    request.open(\"GET\", url, false);\n    request.setRequestHeader(\"User-Agent\",navigator.userAgent);\n    request.send(null);\n    if(request.status==200)\n        if(request.responseText == \"out\")\n            window.location.href = \"logout.html\";\n}\n</code></pre>\n\n<p>Call check function every 5 seconds.</p>\n\n<pre><code>&lt;body onload=\"setInterval(check, 5000);\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Alternatively, you can implement Chrome extension and do your task by using extension api: <a href=\"http://code.google.com/chrome/extensions/tabs.html\" rel=\"nofollow\">http://code.google.com/chrome/extensions/tabs.html</a>\nBut it will work in Chrome browser only.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a way to get a list of all the open browser windows if they are from the same domain as the window that is trying to get the list?</p>\n",
            "last_activity_date": 1319655598,
            "question_id": 7905887,
            "score": 2,
            "tags": [
                "javascript",
                "window"
            ],
            "title": "Javascript: Find browser windows open with the same domain"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>no.  your statement </p>\n\n<p><code>var newValue = table[value];</code></p>\n\n<p>is not setting anything, and since at the time when you created <code>table</code> you didn't assign any property, <code>newValue</code> will be <code>undefined</code>.</p>\n\n<p>If you have a <code>value</code> variable that is assigned a value, and you want to assign that value to table under the key <code>value</code>, you want to do</p>\n\n<p><code>table['value'] = value;</code></p>\n\n<p>or alternatively</p>\n\n<p><code>table.value = value</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You're confusing accessing with assigning.  </p>\n\n<pre><code>// Assigns a variable named 'value' with a value of 'New Value'.\nvar value = \"New value\";\n// Creates a variable named 'table' as a blank Object.\nvar table = new Object(); // Alternatively - table = {};\n// Attempts to access \"New Value\" from object \"table\" which returns undefined.\nvar newValue = table[value];\n</code></pre>\n\n<p>If you want to assign properties to an object you do so like this:</p>\n\n<pre><code>// Assumes table is still an object.\ntable['key'] = 'value';\n\n// Note that I almost _always_ opt for the variable['key'] notation over\n// the variable.key notation because it allows you to use keys\n// that would otherwise not be valid as identifiers.\ntable['Some Key'] = 'Some Value'; // This works.\ntable.Some Key = 'Some Value'; // This does not.\n</code></pre>\n\n<p>Later, when you want to retrieve that value and store it in a new variable, that's when you do this:</p>\n\n<pre><code>var newVariable = table['key'];\n</code></pre>\n\n<p>Hopefully that clarifies some.  Please let me know if I can expand on any part of it.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Erm, no, I don't think you've got it quite right.</p>\n\n<p>All that does is assign <code>undefined</code> to <code>newValue</code>, because you're trying to access <code>table</code>'s \"<code>New Value</code>\" property, which doesn't exist.</p>\n\n<p>What I think you're trying to do is this:</p>\n\n<pre><code>var value = \"New value\";\nvar table = {};\ntable.value = value;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am new to JavaScript and trying to do some experiment with it. I have one question. I know we  can create new properties in Javascript objects during runtime but would that property can be assigned a value too. For example.</p>\n\n<pre><code>var value = \"New value\";\n\nvar table = new Object();\n\nvar newValue = table[value];\n</code></pre>\n\n<p>Now, I know that value table has a new property called \"value\". but does that \"value key contains the information as \" New Value\". So, does that mean now table object is like following:</p>\n\n<pre><code>table = {\nvalue:\"New Value\";\n}\n</code></pre>\n\n<p>Thanks for your help in advance guys.</p>\n\n<p>-Vik</p>\n",
            "last_activity_date": 1339719091,
            "question_id": 7638659,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Use variable for property name in JavaScript literal?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Parsing XML data (as HTML is a type of) using regular expressions is bound to fail.\nI suggest you use a tool specifically designed for parsing XML. In javascript, DOMParser can be used for this.</p>\n\n<p><a href=\"http://www.w3schools.com/xml/xml_parser.asp\" rel=\"nofollow\">Link to w3schools for using this.</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Neither regex nor jQuery: The idea is to iterate over all child nodes and check whether the node is a comment node and if yes, whether it contains a certain string, e.g. <code>itemtemplate</code>.</p>\n\n<pre><code>function extract(node, needle) {\n    var children = node.childNodes,\n        record = false,\n        container = document.createDocumentFragment();\n\n    for(var i = 0, l = children.length; i &lt; l; i++) {\n        var child = children[i];\n\n        if(child.nodeType === 8 &amp;&amp; child.nodeValue === needle) {\n            record = !record;\n            continue;\n        }   \n\n        if(record) {\n            container.appendChild(child.cloneNode(true));\n        }       \n    }\n    return container;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var nodes = extract(someParent, ' itemtemplate ');\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ur7ah/1/\" rel=\"nofollow\"><strong>DEMO</strong></a></p>\n\n<p>I don't know whether this is the best solution for you situation, you don't give any information about the context.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You can try this </p>\n\n<pre><code>var result = '&lt;div id=\"lvList\">&lt;!-- itemtemplate -->something something <br/>something&lt;boundfield output=\"string\" datafield=\"id\" />&lt;!-- itemtemplate -->&lt;/div>'<br/>.split(/&lt;!--\\s*itemtemplate\\s*-->/)</code></pre>\n\n<p>result[1] will have the desired text you want.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Hopefully not too tricky this one...</p>\n\n<p>I am trying to get just the context between the <code>&lt;!-- itemtemplate --&gt;</code> comments using javascript (with the jQuery plugin). The result must exclude the comments though.  In this case the parent is a table, but it can be anything such as a div</p>\n\n<p>Table</p>\n\n<pre><code>&lt;table id=\"lvList\" class=\"grid1\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Name &lt;/th&gt;\n        &lt;th&gt;Number &lt;/th&gt;\n        &lt;th&gt;Type &lt;/th&gt;\n        &lt;th&gt;Account Manager &lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;!-- itemtemplate --&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;boundfield output=\"hyperlink\" datafield=\"name\" dataurlfields=\"id\" dataurlformat=\"details/?id={0}\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;boundfield output=\"string\" datafield=\"id\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;boundfield output=\"string\" datafield=\"type\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;boundfield output=\"string\" datafield=\"accmgr\" /&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;!-- itemtemplate --&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Div</p>\n\n<pre><code>&lt;div id=\"lvList\"&gt;\n  &lt;!-- itemtemplate --&gt;\n     something something something\n     &lt;boundfield output=\"string\" datafield=\"id\" /&gt;\n  &lt;!-- itemtemplate --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Thanks to Felix for the idea</strong></p>\n\n<pre><code>function GetTemplate(root, name) {\n    var output = \"\";\n    var record = false;\n    function iterate(node) {\n        var children = node.childNodes;\n        for (var i = 0; i &lt; children.length; i++) {\n            var child = children[i];\n            if (child.nodeType === 3 &amp;&amp; child.nodeValue.trim() === \"\") continue;\n\n            if (child.nodeType === 8 &amp;&amp; child.nodeValue.trim() === name) {\n                if (!record) { record = true; continue; }\n                else { break; }\n            }\n\n            if (record)\n                output += outerHTML(child);\n            else {\n                if (child.hasChildNodes)\n                    iterate(child);\n            }\n        }\n    }\n    iterate(root);\n    return output;\n};\nfunction ClearTemplate (root, name) {\n    var record = false;\n    function iterate(node) {\n        var children = node.childNodes;\n        for (var i = children.length - 1; i &gt;= 0; i--) {\n            var child = children[i];\n            if (child.nodeType === 8 &amp;&amp; child.nodeValue.trim() === name) {\n                if (!record) { record = true; continue; }\n                else { break; }\n            }\n            if (record)\n                node.removeChild(child);\n            else {\n                if (child.hasChildNodes)\n                    iterate(child);\n            }\n        }\n    }\n    iterate(root);\n};\nfunction InsertInto (root, name, items) {\n    function iterate(node) {\n        var children = node.childNodes;\n        for (var i = 0; i &lt; children.length; i++) {\n            var child = children[i];\n            if (child.nodeType === 3 &amp;&amp; child.nodeValue.trim() === \"\") continue;\n            if (child.nodeType === 8 &amp;&amp; child.nodeValue.trim() === name) {\n                for (var n = items.length - 1; n &gt;= 0; n--)\n                    child.parentNode.insertBefore(items[n], child.nextSibling);\n                break;\n            }\n            if (child.hasChildNodes)\n                iterate(child);\n        }\n    }\n    iterate(root);\n};\nString.prototype.trim = function () {\n    return this.replace(/^(\\s|&amp;nbsp;|\\u00A0)+|(\\s|&amp;nbsp;|\\u00A0)+$/g, \"\");\n};\nfunction outerHTML(node) {\n    return node.outerHTML || \n            (function (n) {\n                var div = document.createElement('div');\n                div.appendChild(n.cloneNode(true));\n                return div.innerHTML;\n            })(node);\n};\n</code></pre>\n",
            "last_activity_date": 1317323959,
            "question_id": 7594661,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "regex"
            ],
            "title": "Get content between comments"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'm not 100% clear on what you're trying to achieve, and there seems to be a lot of code in your post that doesn't directly relate to your question. Here's a much simpler piece of code that seems to do what you want (if I'm interpreting your goal correctly):</p>\n\n<p><a href=\"http://jsfiddle.net/ebiewener/Zte6T/1/\" rel=\"nofollow\">JSFiddle Example</a></p>\n\n<pre><code>$(function(){\n    var btn = $('.button');\n    var btnPosTop = btn.offset().top;\n    var win = $(window);\n    win.scroll(function(e){\n        var scrollTop = win.scrollTop();\n        if(scrollTop &gt;= btnPosTop){\n            //we've reached the button\n            btn.css({position:'fixed',top:0,marginTop:0});\n        }else if(btn.css('position') === 'fixed'){\n            //if we scroll back up past the button's original position, and the button had previously been changed to its fixed position, we change it back\n            btn.css({position:'',top:'',marginTop:'100px'});\n        }\n    });\n});\n</code></pre>\n\n<p>When the page loads, we get the original position, relative to the document, of the button's top edge. We then bind the window's scroll event to code that checks how far down the user has scrolled (<code>win.scrollTop()</code>). It compares that value to the button's original position. If it's found to be greater than or equal to the button's original position, that means the button should start scrolling with us by changing its CSS <code>position</code> to <code>fixed</code>. The <code>else if</code> part returns the button to its original position when the user scrolls back up.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try using this </p>\n\n<pre><code>$(window).scroll(function () {\n    var top = $(window).scrollTop();\n    if(top&gt;879)\n    {   $(\"div\").addClass('yourclass');\n    }\n});\n</code></pre>\n\n<p>Here <code>879</code> is assigned scrolling point</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to make a div (button) scroll when I reach a certain scrolling point.Also i want to add classes to the other elements on the page.Somehow it isnt working.Here is the code Im using for the scroll,but I dont quite understand it.Please help me</p>\n\n<pre><code>$(window).load(function () {\n\n    var nav = get_nav();\n\n    if (!(nav.is_msie &amp;&amp; nav.ver &lt;= 6)) {\n        var tmp1 = $('#tag_container').css('position');\n        var cur_w_offset = start_offset = $('#butoni').offset().top;\n        var bp = $('#right_content');\n        var pt = $('#butoni');\n        cur_w_offset = $(window).scrollTop();\n        if (cur_w_offset &gt;= start_offset) {\n            bp.addClass('flyingbuy');\n        } else {\n            pt.css('top', 'auto');\n        }\n        if (window.content_center != true || window.c != false) {\n            window.buydeal_forpresent = false;\n        }\n        $(window).scroll(function () {\n            var tmp = $('#tag_container').css('position');\n            ur_w_offset = $(window).scrollTop();\n            if (cur_w_offset &gt;= start_offset) {\n                bp.addClass('flyingbuy');\n                $('#tag_container').css('height', 'auto');\n                $('#tag_container_bialo').slideDown('slow');\n            } else {\n                bp.removeClass('flyingbuy');\n                $('#tag_container').css(({\n                    position: \"fixed\",\n                    height: \"101px\"\n                }));\n                $('#tag_container_bialo').slideUp('slow');\n            }\n            if (!window.buydeal_forpresent) {\n                var nvp_panel = $('#right_content');\n                var nvp_pricetag = $('#butoni');\n                var bialo_height = $('#tag_container_bialo').height() + 20;\n                var offset_top = nvp_pricetag.offset().top - nvp_panel.offset().top + 16;\n                if (tmp == 'fixed') {\n                    $('#gift').css('position', 'fixed');\n                    var left = $('#butoni').offset().left + 223 - 18;\n                    $('#gift').css('top', 16 + bialo_height + 'px');\n                    $('#gift').css('left', left + 'px');\n                } else {\n                    $('#gift').css('position', 'absolute');\n                    $('#gift').css('top', offset_top);\n                    $('#gift').css('left', '205px');\n                    $('#gift').animate({\n                        top: offset_top + bialo_height\n                    }, 400);\n                }\n            }\n        });\n    }\n});\n</code></pre>\n\n<hr>\n\n<p>I have a problem now.I've been working here : <a href=\"http://jsfiddle.net/Zte6T/3/\" rel=\"nofollow\">JsFiddle</a></p>\n\n<p>I don't want the text div to scroll that way.When the pages reaches at the button's level ,I want the txt to show,sliding down and moving along with the button.But,the text needs to be BEFORE the button.I don't know why it grows when sliding down.The sliding up part is ok.</p>\n\n<hr>\n\n<p>Ok,i found out the growing part.I didnt specify the height.\nI really dont know how can I make the txt appear before the button and slide together.Like this:</p>\n\n<p>TEXT\nBUTTON</p>\n",
            "last_activity_date": 1316580901,
            "question_id": 7471382,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Make a div scroll when i reach a certain point"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I'm pretty sure for security reasons this isn't possible in any browser. Otherwise links to phishing sites will become much, much harder to detect, because attackers can then just place a genuine URL in the status bar while the dangerous link actually leads elsewhere...</p>\n\n<p>Use an onclick event handler for your hyperlink instead, and put a real, meaningful URL in the <code>href</code> attribute in place of the <code>javascript:</code> link (even if the link is meant to be used only with JavaScript).</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I guess you mean you want to change what destination is shown for link that is selected? In that case you most likely should put nice url in href attribute, and use onclick attribute for your javascript. Not sure that you can duplicate everything what is done by putting javascritp in href.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;a href=\"#\" onClick=\"yourFunc(); return false;\"&gt;Your \"link\"&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Assuming this is what you have:<br>\n<code>&lt;a onClick=\"blabla\"&gt;Link&lt;/a&gt;</code><br>\nAdd <code>href=\"#\"</code> to it. Then the <code>#</code> should be shown in stead of the <code>javascript:blabla</code>.<br>\nSo that would be like this:<br>\n<code>&lt;a href=\"#\" onClick=\"blabla\"&gt;Link&lt;/a&gt;</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Although you selected your answer, the idea in <a href=\"http://jsfiddle.net/c4BZG/\" rel=\"nofollow\">this jsfiddle</a> may be an alternative?</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It is definitely possible to achieve the desired effect. Just look at what Google puts in the status bar of its search results.</p>\n\n<p>However, you need to use some kind of a trick, e.g. <code>onclick</code> like BoltClock suggested.</p>\n\n<p>Google shows you what you would like to see - a plain, clean URL.\nUnderneath, however, they use a long redirect URL with monitoring parameters to track you down as you click any result link. That way Google monitors which of the search results are clicked on and which are not.</p>\n\n<p>Unfortunately, most people do not realize that. Quite frankly, I would be very glad to see a browser extension which takes all this dirty tricks down and replaces \"tracking\" URLs with the \"real ones\".</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>When I hover over a url in Chrome, the url is displayed in the Chrome status bar.  In my case this results in an ugly javascript:bla-bla-bla reference.  Is there any way to change the contents of the status bar when you hover over a link?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1355608926,
            "question_id": 6394506,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "url",
                "google-chrome",
                "statusbar"
            ],
            "title": "Change URL shown in Chrome status bar"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>No, nothing wrong with your code, most decimal fractions cannot be represented exactly\nin binary, use</p>\n\n<pre><code>number.toFixed(x)\n</code></pre>\n\n<p>Where <code>x</code> is the number of decimals you want and <code>number</code> is the result of the subtraction.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p><code>toFixed()</code> is what you must be looking for.</p>\n\n<p>E.g </p>\n\n<pre><code>number.toFixed(x); \n</code></pre>\n\n<p>where x is the number of digits after the decimal point. It is optional with default value of 0.</p>\n\n<p>More here : <a href=\"http://www.bennadel.com/blog/1013-Javascript-Number-toFixed-Method.htm\" rel=\"nofollow\">Javascript Number.toFixed() Method</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The reason of your problem is explained here:\n<a href=\"http://stackoverflow.com/questions/3966484/floating-point-numbers-and-javascript-modulus-operator\">Floating point numbers and JavaScript modulus operator</a></p>\n\n<p>A possible solution could be:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar result = (-20-10)/100;\nalert(\"My result is \"+result);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You are doing nothing wrong, what you are seeing is the side effect of computers storing numbers in base 2. In base 10, 1/3 can't be precisely represented: .33333333 (with a bar over the 3). The same is true for 1/10 and 1/5 in base 2 or binary. The answer you see is merely the result of a rounding error. If you are working with money, it is often advised to just store values as cents to avoid some floating point errors.</p>\n\n<p>As far as fixing the result you can do something like:</p>\n\n<pre><code>var SIGDIG= 100000000;\nalert( Math.floor((-0.2-0.1)*SIGDIG)/SIGDIG );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another possible solution might be this:</p>\n\n<pre><code>Number((-0.2-0.1).toFixed(x))\n</code></pre>\n\n<p>Where x should be the tolerance in decimals you'd like.</p>\n\n<p>Running this with an <code>x</code> of 16, gives me an output of <code>-0.3</code>.</p>\n\n<pre><code>-0.3 === Number((-0.2-0.1).toFixed(16)) // true, and also with every 0 &lt; x &lt; 16\n</code></pre>\n\n<p>Let me know.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I was wondering how can I subtract two negative Floating-Point numbers in javascript. I tried:</p>\n\n<pre><code>alert(-0.2-0.1);\n</code></pre>\n\n<p>and the result is <code>-0.30000000000000004</code>. Am I doing something wrong? What do I have to do to get <code>-0.3</code> ?</p>\n",
            "last_activity_date": 1369709259,
            "question_id": 6027937,
            "score": 2,
            "tags": [
                "javascript",
                "floating-point"
            ],
            "title": "Javascript float subtract"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You're getting all that extra nonsense because a <code>contenteditable</code> element supports the <code>text/html</code> MIME type. When you paste something from the clipboard, there is often a content negotiation phase:</p>\n\n<ul>\n<li>The paste target says \"I support these content types: ....\"</li>\n<li>The clipboard manager then discusses that list with the data source to get the pasted data in a suitable format for the paste target.</li>\n<li>And finally, the data gets dumped in your <code>contenteditable</code> element as <code>text/html</code> with all that extra noise.</li>\n</ul>\n\n<p>The process may not be exactly like the above but it will be similar. Your best bet would probably to add a handler for the <a href=\"https://developer.mozilla.org/en/DOM/element.onpaste\" rel=\"nofollow\"><code>paste</code></a> event and use that handler to convert the pasted data to <code>text/plain</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can only get the plain text using a hack. Recent versions of both TinyMCE and CKEditor use this technique on their iframe-based editors:</p>\n\n<ol>\n<li>Detect a <kbd>Ctrl</kbd>-<kbd>v</kbd> / <kbd>Shift</kbd>-<kbd>Insert</kbd> event using a keypress event handler</li>\n<li>In that handler, save the current user selection, add a textarea element off-screen (say at left -1000px) to the document, turn <code>contentEditable</code> off and call <code>focus()</code> on the textarea, thus moving the caret and effectively redirecting the paste</li>\n<li>Set a very brief timer (say 1 millisecond) in the event handler to call another function that stores the textarea value, removes the textarea from the document, turns <code>contentEditable</code> back on, restores the user selection and pastes the text in.</li>\n</ol>\n\n<p>Note that this will only work for keyboard paste events and not pastes from the context or edit menus. The <code>paste</code> event would be better but by the time it fires, it's too late to redirect the caret into the textarea in most browsers.</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I am using a contentedittable field as user input so that I can exploit text formatting. Unfortunately I have found that when a user pastes into the field a massive amound of unnessessary html comes with it. I only want the plain text from the clipboard. </p>\n\n<p>Why is this happening?!</p>\n\n<p><strong>A Truncated Example:</strong></p>\n\n<pre><code>&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=\"Apple-style-span\" style=\"font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; font-size: 13px; line-height: 12px; color: rgb(0, 0, 0); \"&gt;&lt;table style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 13px; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-collapse: collapse; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; background-position: initial initial; background-repeat: initial initial; \"&gt;&lt;tbody style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 13px; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; background-position: initial initial; background-repeat: initial initial; \"&gt;&lt;tr style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 13px; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; background-position: initial initial; background-repeat: initial initial; \"&gt;&lt;td class=\"votecell\" style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 13px; vertical-align: top; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; width: 60px; background-position: initial initial; background-repeat: initial initial; \"&gt;&lt;div class=\"vote\" style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 13px; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-align: center; background-position: initial initial; background-repeat: initial initial; \"&gt;&lt;span class=\"vote-count-post\" style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 31px; vertical-align: baseline; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; display: block; color: rgb(128, 129, 133); font-weight: bold; background-position: initial initial; background-repeat: initial initial; \"&gt;1&lt;/span&gt;&lt;a class=\"vote-down-off\" title=\"This question does not show any research effort; it is unclear or not useful (click again to undo)\" style=\"margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 1px; vertical-align: baseline; background-image: url(http://sstatic.net/stackoverflow/img/sprites.png?v=3); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; color: rgb(0, 119, 204); text-decoration: none; cursor: pointer; overflow-x: hidden; overflow-y: hidden; display: block; width: 41px; height: 25px; text-indent: -9999em; background-position: 0px -300px; background-repeat: no-repeat no-repeat; \"&gt;...\n</code></pre>\n",
            "last_activity_date": 1305579742,
            "question_id": 6022551,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "html5",
                "contenteditable"
            ],
            "title": "Pasting into contentedittable results in random tag insertion"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I had the exact same problem.  I use a downloaded font for my headers and on IE8, the Facebook Javascript screwed up the fonts.  This occurred when I structured my code in what I assumed was the proper architecture - the Facebook Javascript include was up in my header with the rest of my Javascript includes.</p>\n\n<p>When I moved the javascript include down to the actual div that added the like button, the problem went away.</p>\n\n<pre><code>    &lt;div id=\"facebooklike\" style=\"position: absolute; left: 645px; top: -37px;\"&gt;\n    &lt;div id=\"fb-root\"&gt;&lt;/div&gt;&lt;script src=\"http://connect.facebook.net/en_US/all.js#xfbml=1\"&gt;&lt;/script&gt;&lt;fb:like href=\"http://www.tripinsurance.com\" send=\"false\" width=\"350\" show_faces=\"false\" font=\"arial\"&gt;&lt;/fb:like&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>I think the issue may be happening  if the Facebook code is loaded before the the div loads on the page.  </p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I seem to notice that Facebook's JS</p>\n\n<pre><code>&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;script src=\"http://connect.facebook.net/en_US/all.js#appId=APP_ID&amp;amp;xfbml=1\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>seems to affect my site's CSS in IE. eg. say headers use font1 and body use font2. sometimes, in IE all fonts use font1 or even swap, headers used font2 and body use font1 ... It also seem to affect some <a href=\"http://css3pie.com\" rel=\"nofollow\">PIE CSS</a> stuff. Anyone having the same problem?</p>\n",
            "last_activity_date": 1305003618,
            "question_id": 5739618,
            "score": 2,
            "tags": [
                "javascript",
                "css",
                "facebook",
                "internet-explorer",
                "css3pie"
            ],
            "title": "Facebook JS affecting CSS/@font-face in IE?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I think you're overcomplicating things - there's no need to update multiple sources as any given browser is only ever going to be playing one of your videos.  If you're loading new sources with JavaScript you can simply query the <code>currentSrc</code> property of <code>vd1</code>, determine which of the videos is playing and load the new video in that format.  At that point I'd simply remove all the <code>source</code> elements and set <code>video.src</code> to the new value.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have found several sites on Google about this problem and also found a few questions on here, which were apparently answered, but as I've been working on this for the last one or two weeks and just can't seem to get it to work at all, I wanted to revisit this.</p>\n\n<p>I'm working on a demo that uses several video tags (vd1-3) which are then used in several canvas tags (cv1-3).</p>\n\n<pre><code>&lt;video id=\"vd1\" width=\"480\" preload&gt; \n    &lt;source src=\"jerryclips/Bild01.webm\" type=\"video/webm\" id=\"vd1webm\"&gt;\n    &lt;source src=\"jerryclips/Bild01.mp4\" type=\"video/mp4\" id=\"vd1mp4\"&gt;\n&lt;/video&gt;\n\n&lt;canvas id=\"cv1\" width=\"160\" height=\"270\"&gt;&lt;/canvas&gt;\n</code></pre>\n\n<p>I got a working version that uses one video. Now I would like to be able to dynamically change the clips that are playing in my video tags and subsequently in the canvas tags. Changing only one source worked, as far as I remember that was just \"vd1.src = '...'\", but I want to have at least two video files in there.\nNow as you can see here, I tried using id's for the sources (as was suggested in an answered question here on stackoverflow), but I wasn't able to make that work.</p>\n\n<p>We were able to get all the sources with this little bit of code here:</p>\n\n<pre><code>var x = document.getElementById(\"vd1\");\n\nvar items = x.getElementsByTagName(\"source\");\n\nfor(var i= 0; i &lt; items.length; i++){\n    alert(items[i].getAttribute('src'));\n}\n}, false);\n</code></pre>\n\n<p>But I also failed to use it in order to change my sources. I thought I might be able to use \"items[i].src = ...\" or use setAttribute, but I can't get anything to work.</p>\n\n<p>I'm still fairly new to all this, so I'm possibly missing something very simple... so if anyone has an idea and could point me into a direction, I would really appreciate it.</p>\n\n<p><strong>Update:</strong>\nEventually we came up with this solution which is pretty simple and straightforward</p>\n\n<pre><code>var videoPlaying = vd1.currentSrc;\nvar ext = videoPlaying.substr(videoPlaying.lastIndexOf(\".\"));\nvd1.src = \"jerryclips/Bild02\"+ext;\n</code></pre>\n",
            "last_activity_date": 1350646490,
            "question_id": 5703203,
            "score": 2,
            "tags": [
                "javascript",
                "html5",
                "html5-video",
                "src"
            ],
            "title": "HTML5 Video - Change multiple sources"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can't style a <code>confirm();</code> alert -- this is generic to the browser. Instead, look into alternatives such as boxy for jQuery: <a href=\"http://onehackoranother.com/projects/jquery/boxy/\">http://onehackoranother.com/projects/jquery/boxy/</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/JxBUO.png\" alt=\"boxy for jQuery -- asking a question\"></p>\n\n<p>Of course, you can style this in CSS until your heart melts. ;-)</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can also use the jQuery dialog box. Check this out <a href=\"http://jqueryui.com/demos/dialog/#modal-confirmation\" rel=\"nofollow\">jQuery Dialog</a> </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to style the confirm box generated by JavaScript. I want the background color of the box to be green and replace <code>ok/cancel</code> with <code>yes/no</code>. Do you know how to do this ?</p>\n",
            "last_activity_date": 1397752044,
            "question_id": 5498988,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "confirm box styling"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You want:</p>\n\n<pre><code>setTimeout(function() { testWindow.close(); },5000);\n</code></pre>\n\n<p>You current code is executing that function as soon as it is hit and then trying to run it's return value after the delay. By wrapping it up in the function it will be run correctly after 5 seconds.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function manualWindow(){\n       testWindow = window.open(\"http://www.google.co.uk\",\"interaction\",\"resizable=0,width=800,height=600,status=0\");\n       setTimeout(function() { testWindow.close() },5000);\n    }\n\n    manualWindow();\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You are not using setTimeout correctly. Try this:</p>\n\n<pre><code>function manualWindow(){\n   testWindow = window.open(\"popup.php\",\"interaction\",\"resizable=0,width=800,height=600,status=0\");\n   setTimeout(function() { testWindow.close(); },5000);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think your code is missing the qutoes in the first parameter testWindow.close().This can be corrected in the following way:</p>\n\n<pre><code>function manualWindow() {\n    testWindow = window.open(\"http://www.google.com\", \"interaction\", \"resizable=0,width=800,height=600,status=0\");\n    setTimeout('testWindow.close()',5000);\n}\n\nmanualWindow();\n</code></pre>\n\n<p>I found this link may help you a bit <a href=\"https://developer.mozilla.org/en/DOM/window.setTimeout\" rel=\"nofollow\">https://developer.mozilla.org/en/DOM/window.setTimeout</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I'm just getting into Java. I'm working on a simple script to open a window, then close it after a short delay. I've tried various connotations of the following with no avail. The function works (in that it opens, then closes the window) but the delay fails to happen.</p>\n\n<pre><code>function manualWindow(){\ntestWindow = window.open(\"popup.php\",\"interaction\",\"resizable=0,width=800,height=600,status=0\");\nsetTimeout(testWindow.close(),5000);\n}\n</code></pre>\n\n<p>thank you</p>\n",
            "last_activity_date": 1325239475,
            "question_id": 5116223,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "why is this setTimeout not working"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I ended up using the <strong>object model</strong> to create the My Links (as apposed to the popup dialog). </p>\n\n<p>The upside to this is that adding a link is now only a 1-click process, the downside is that the user does not have the opportunity to rename the link or assign it to a group (personally, I've hidden the groups from the UI anyway as we didnt need them so this was a non-issue for me).</p>\n\n<p>For those interested, I created a little usercontrol which just houses an ajaxified button which you can drop onto your masterpage / page layout. My code for this is as follows:</p>\n\n<p><strong>HTML</strong></p>\n\n<hr>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function FavouriteImageButton_AddMyLink_Clicked() {\n        SP.UI.Notify.addNotification(\"Bookmark generated successfully.\");\n    }\n\n    function FavouriteImageButton_RemoveMyLink_Clicked() {\n        SP.UI.Notify.addNotification(\"Bookmark deleted successfully.\");\n    }\n&lt;/script&gt;\n\n&lt;asp:UpdatePanel ID=\"UpdatePanel\" runat=\"server\" ChildrenAsTriggers=\"true\" UpdateMode=\"Conditional\"&gt;\n    &lt;ContentTemplate&gt;\n        &lt;asp:ImageButton ID=\"FavouriteImageButon\" runat=\"server\" OnCommand=\"FavouriteImageButton_Command\" /&gt;\n    &lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<hr>\n\n<pre><code>private struct FavouriteButtonCommandNames\n{\n    public const string AddMyLink = \"AddMyLink\";\n    public const string RemoveMyLink = \"RemoveMyLink\";\n}\n\nprotected void Page_PreRender(object sender, EventArgs e)\n{\n    // Initialise the favourites button according to whether or not the page already exists in the My Links list.\n    this.FavouriteImageButon.ImageUrl = \"/_layouts/images/favourite_add.png\";\n    this.FavouriteImageButon.AlternateText = \"Add to My Links\";\n    this.FavouriteImageButon.CommandName = FavouriteButtonCommandNames.AddMyLink;\n    this.FavouriteImageButon.CommandArgument = null;\n\n    UserProfileManager userProfileManager = new UserProfileManager(SPServiceContext.Current);\n    UserProfile currentUser = userProfileManager.GetUserProfile(false);\n\n    foreach (QuickLink quickLink in currentUser.QuickLinks.GetItems())\n    {\n        if (quickLink.Url.ToLower() == this.Page.Request.Url.ToString().ToLower())\n        {\n            this.FavouriteImageButon.ImageUrl = \"/_layouts/images/favourite_delete.png\";\n            this.FavouriteImageButon.AlternateText = \"Remove from My Links\";\n            this.FavouriteImageButon.CommandName = FavouriteButtonCommandNames.RemoveMyLink;\n            this.FavouriteImageButon.CommandArgument = quickLink.ID.ToString();\n            break;\n        }\n    }\n}\n\nprotected void FavouriteImageButton_Command(object sender, CommandEventArgs e)\n{\n    UserProfileManager userProfileManager = new UserProfileManager(SPServiceContext.Current);\n    UserProfile currentUser = userProfileManager.GetUserProfile(false);\n\n    switch (e.CommandName)\n    {\n        case FavouriteButtonCommandNames.AddMyLink:\n            // Create the link.\n            currentUser.QuickLinks.Create(\n                SPContext.Current.File.Title, \n                this.Page.Request.Url.ToString(), \n                QuickLinkGroupType.General, \n                null, \n                Privacy.Private);\n\n            // Display a notification message.\n            ScriptManager.RegisterStartupScript(this.UpdatePanel, this.UpdatePanel.GetType(), e.CommandName, \"ExecuteOrDelayUntilScriptLoaded(FavouriteImageButton_AddMyLink_Clicked, \\\"sp.js\\\");\", true);\n            break;\n\n        case FavouriteButtonCommandNames.RemoveMyLink:\n            long id;\n\n            if (long.TryParse((string)e.CommandArgument, out id))\n            {\n                // Delete the link.\n                QuickLink quickLink = currentUser.QuickLinks[long.Parse((string)e.CommandArgument)];\n                quickLink.Delete();\n\n                // Display a notification message.\n                ScriptManager.RegisterStartupScript(this.UpdatePanel, this.UpdatePanel.GetType(), e.CommandName, \"ExecuteOrDelayUntilScriptLoaded(FavouriteImageButton_RemoveMyLink_Clicked, \\\"sp.js\\\");\", true);\n            }\n            else\n            {\n                throw new ArgumentNullException(\"e.CommandArgument\", \"\\\"{0}\\\" is not a valid QuickLink ID. The QuickLink could not be removed from the list.\");\n            }\n            break;\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Add the following function to your master page:</p>\n\n<pre><code>function addlink(){\n    t=document.title;\n    u=escape(location.href);\n\n    var q = window.location.protocol + \"//\" + window.location.host + \"/_vti_bin/portalapi.aspx?cmd=PinToMyPage&amp;ListViewURL=\" + u + \"&amp;ListTitle=\" + t + \"&amp;IsDlg-1\"; // + \"&amp;ReturnUrl=\" + u;\n\n    location.href = q;\n\n}\n</code></pre>\n\n<p>Then add your anchor tag:</p>\n\n<pre><code>&lt;a href='javascript:addlink()'&gt;Add this Page&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am trying to create a link/button on my masterpage which when clicked, adds the current page to the user's <strong>My Links</strong> list. This is merely a shortcut to save the user from having to navigate to their <strong>My Site</strong> and add the link manually.</p>\n\n<p><a href=\"http://clintoncherry.wordpress.com/2007/07/16/creating-a-bookmark-button-in-sharepoint/\" rel=\"nofollow\">[This blog post]</a> gives a solution to this problem, but I get a JavaScript error on the second line of the \"Add Link\" dialog (QuickLinksDialog2.aspx) because the <strong>frameElement</strong> property is null:</p>\n\n<pre><code>&lt;script language=\"Javascript\"&gt;\n    var form = document.forms[0];\n    var args = window.parent.frameElement.dialogArgs;\n</code></pre>\n\n<p>Regardless, <strong>Portal.js</strong> appears to contain all the functions that the My Links page (_layouts/MyQuickLinks.aspx) uses to add links to this list.</p>\n\n<p>Can anyone suggest how I might go about calling one/some of these functions from my masterpage so that the \"Add Link\" dialog is opened with the title and URL fields pre-poulated?</p>\n",
            "last_activity_date": 1303310534,
            "question_id": 4960026,
            "score": 2,
            "tags": [
                "javascript",
                "sharepoint-2010",
                "mysite"
            ],
            "title": "SharePoint 2010: Create a bookmark button that adds a page to your My Links"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You could use a DOM Level 3 Event, like <code>DOMNodeInserted</code>. This could look like:</p>\n\n<pre><code>$(document).bind('DOMNodeInserted', function(event) {\n    // A new node was inserted into the DOM\n    // event.target is a reference to the newly inserted node\n});\n</code></pre>\n\n<p>As an alternative, you might checkout the <a href=\"http://docs.jquery.com/Plugins/livequery\" rel=\"nofollow\"><code>.liveQuery</code><sup>help</sup></a> jQuery plugin.</p>\n\n<p><strong>update</strong></p>\n\n<p>In referrence to your comment, have a look at <a href=\"http://www.quirksmode.org/dom/events/index.html\" rel=\"nofollow\">http://www.quirksmode.org/dom/events/index.html</a>, only browser which do not support it are the Internet Explorers of this this world (I guess IE9 does at least).</p>\n\n<p>I can't say much about the performance, but it should perform fairly well.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to devise a method of when adding a simple div element with a class and some data-* in it, it will replace it or add into it some other elements. This method should not be called manually, but automatically by some kind of .live() jQuery method, a custom event or some kind like $('body').bind('create.custom'), etc.\nI need it this way since I wouldn't know in advance what elements will be created since they will be served through ajax like single empty div's or p's .</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n\n        &lt;title &gt;on create&lt;/title&gt;\n\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\" &gt;&lt;/script&gt;\n\n        &lt;script type=\"text/javascript\" &gt;\n\n            jQuery(function($){\n                $(\"div.fancyInput\").each(function(index,element){\n\n                    var $div = $(this);\n                    var dataId = $div.attr(\"data-input-id\");\n                    var inputId = '';\n                    var labelId = '';\n                    if(!!dataId){\n                        inputId = 'id=\"' + dataId + '\"';\n                        labelId = 'id=\"' + dataId + 'Label\"';\n                    } // if\n\n                    var dataValue = $div.attr();\n\n                    $(\n                        '&lt;p class=\"fancyInput\" &gt;' +\n                        '    &lt;label ' + labelId + ' for=\"' + inputId + '\" &gt;A fancy input&lt;/label&gt;' +\n                        '    &lt;input ' + inputId + ' name=\"' + inputId + '\" value=\"A fancy input\" /&gt;' +\n                        '&lt;/p&gt;'\n                    ).appendTo($div);               \n                }); // .each()\n            }); // jQuery()\n        &lt;/script&gt;\n\n        &lt;script type=\"text/javascript\" &gt;\n\n            jQuery(function($){\n                var counter = 2;\n                var $form = $('#form');\n                $('#add').click(function(event){\n                    $('&lt;div class=\"fancyInput\" data-input-id=\"fancyInput' + counter + '\" &gt;&lt;/div&gt;').appendTo($form);\n                    counter++;\n                }); // .click\n            }); // jQuery()\n\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;a id=\"add\" href=\"#\" &gt; add another one &lt;/a&gt;\n        &lt;form id=\"form\" action=\"#\" &gt;\n\n            &lt;p class=\"normalInput\" &gt;\n                &lt;label id=\"normalInputLabel\" for=\"normalInput\" &gt;A normal input&lt;/label&gt;\n                &lt;input id=\"normalInput\" name=\"normalInput\" value=\"A normal input\" /&gt;\n            &lt;/p&gt;\n\n            &lt;div class=\"fancyInput\" &gt;&lt;/div&gt;\n\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Update:</strong>\nI checked liveQuery beforehand, it's that kind of functionality that I need, but with the ability to modify DOM elements while the event callback is executed. So it's not just that I need events attached, but the ability to modify the DOM upon element creation. For example: whenever a new  is created, it should be filled in (even better if replaced) with the p, label and input tags</p>\n",
            "last_activity_date": 1297021355,
            "question_id": 4915387,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "dom"
            ],
            "title": "How to catch creation of DOM elements and manipulate them with jQuery"
        }
    ]
}
