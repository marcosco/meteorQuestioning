{
    "items": [
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I am not sure about what you are asking. But If you want a method to be called when the user attempts to Access <code>object.nonExistingProperty</code> . I dont think there is any way to do that.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Firefox it's possible with non-standard noSuchMethod:-</p>\n\n<pre><code>({__noSuchMethod__:function(){alert(1);}}).a();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>What Gareth said, except it's <code>__noSuchMethod__</code>.</p>\n\n<p>Or maybe you were thinking of PHP?</p>\n\n<p>Here's a very good article on the recently standardized property getters/setters, highlighting some previous non-standard incarnations.</p>\n\n<p><a href=\"http://whereswalden.com/2010/04/16/more-spidermonkey-changes-ancient-esoteric-very-rarely-used-syntax-for-creating-getters-and-setters-is-being-removed/\" rel=\"nofollow\">http://whereswalden.com/2010/04/16/more-spidermonkey-changes-ancient-esoteric-very-rarely-used-syntax-for-creating-getters-and-setters-is-being-removed/</a></p>\n\n<p>summary: there's no standard 'catch-all' getter / setter (yet), but Object.defineProperty is the future.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You need to wait for the implementation of the ECMA6 \"Proxy\" system, designed to do exactly this. See <a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:direct_proxies\" rel=\"nofollow\">http://wiki.ecmascript.org/doku.php?id=harmony:direct_proxies</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In ECMAScript 5, you can only intercept get/set operations on specific named properties (not universally all properties) via <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\"><code>Object.defineProperty</code></a>:</p>\n\n<pre><code>Object.definedProperty(someObj, \"someProp\", {\n    get: function() {\n        console.log(\"you tried to get someObj.someProp\");\n        return \"foo\";\n    }\n});\n</code></pre>\n\n<p>Here, the <code>get</code> function will run any time code tries to read <code>someObj.someProp</code>.</p>\n\n<p>In the upcoming ECMAScript 6 draft, this will be possible via <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow\">proxies</a>. A proxy has an underlying target object and set/get functions. Any time a set or get operation happens on any of a proxy's properties, the appropriate function runs, taking as arguments the proxy's target object, property name used, and the value used in a <code>set</code> attempt.</p>\n\n<pre><code>var proxyHandler = {\n    get: function(obj, name){\n        console.log(\"you're getting property \" + name);\n        return target[name];\n    },\n    set: function(obj, name, value) {\n        console.log(\"you're setting property \" + name);\n        target[name] = value;\n    }\n}\n\nvar underlyingObj = {};\n\n// use prox instead of underlyingObj to use get/set interceptor functions\nvar prox = new Proxy(underlyingObj, proxyHandler);\n</code></pre>\n\n<p>Here, setting to getting property values on <code>prox</code> will cause the <code>set</code>/<code>get</code> functions to run.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I specify a default getter for a prototype?\nWith default getter I mean a function that is called if <code>obj.undefinedProperty123</code> is called.</p>\n\n<p>I tried Object.prototype.get = function(property) {..} but this is not called in this case.</p>\n",
            "last_activity_date": 1412011087,
            "question_id": 3112793,
            "score": 6,
            "tags": [
                "javascript",
                "prototype",
                "getter",
                "ecmascript-5"
            ],
            "title": "How can I define a default getter and setter using ECMAScript 5?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>No, you can't avoid the standard one from the browser. All you can do is inject some custom text into it; if you use the following event handler (registered the prototype lib way):</p>\n\n<pre><code>Event.observe(window, \"beforeunload\", function(event) {\n    if (showMyBeforeUnloadConfirmation)\n        event.returnValue = \"foo bar baz\";\n});\n</code></pre>\n\n<p>(and <code>showMyBeforeUnloadConfirmation</code> is true) you'll get the browser's standard confirmation with the following text:</p>\n\n<blockquote>\n  <p>Are you sure you want to navigate away from this page?</p>\n  \n  <p>foo bar baz</p>\n  \n  <p>Press OK to continue, or Cancel to stay on the current page.</p>\n  \n  <p>[   OK   ] [ Cancel ]</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>window.onbeforeunload = function (e) {\n  var message = \"Your confirmation message goes here.\",\n  e = e || window.event;\n  // For IE and Firefox\n  if (e) {\n    e.returnValue = message;\n  }\n\n  // For Safari\n  return message;\n};\n</code></pre>\n\n<p>Please note: Most browsers put this message after some other text. You do not have complete control of the content of the confirmation dialog.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I faced the same problem, I was able to get its own dialog box with my message, but the problems I faced were:</p>\n\n<ol>\n<li>It was giving message on all navigations and I wanted it only for close click.</li>\n<li>With my own confirmation message if user selects \"Cancel\", it still shows the browser's default dialog box.</li>\n</ol>\n\n<p>Following is the solutions code I found, which I wrote on my Master page.</p>\n\n<pre><code>function closeMe(evt) {\n    if (typeof evt == 'undefined') {\n        evt = window.event;\n    }\n    if (evt &amp;&amp; evt.clientX &gt;= (window.event.screenX - 150) &amp;&amp; evt.clientY &gt;= -150 &amp;&amp; evt.clientY &lt;= 0) {\n        return \"Do you want to log out of your current session?\";\n    }\n}\n\nwindow.onbeforeunload = closeMe;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to create a custom confirmation box for the onbeforeunload event in a browser? I tried but then I get 2 confirmation boxes (one from me which is nothing more than return confirm... and then the standard one from the browser).</p>\n\n<p>At the moment my code looks like:</p>\n\n<pre><code>var inputChanged = false;\n\n$(window).load(function() {\n    window.onbeforeunload = navigateAway;\n    $(':input').bind('change', function() { inputChanged = true; });\n});\n\nfunction navigateAway(){\n    if(inputChanged){\n        return 'Are you sure you want to navigate away?';\n    }\n}\n</code></pre>\n\n<p>I'm using jQuery for this.</p>\n",
            "last_activity_date": 1386364885,
            "question_id": 1335727,
            "score": 6,
            "tags": [
                "javascript",
                "onbeforeunload",
                "confirm"
            ],
            "title": "onbeforeunload confirmation screen customization"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>The order in which elements are stored in an associative array is not guaranteed. You'll have to sort your output explicitly.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Think of an associative array as a paper sack into which all the key-value pairs are placed.  As you reach your hand into the sack to look at the pairs (such as with the for...in loop), the order that you encounter them is for all practical purposes random.</p>\n\n<p>If you want to see them in a specific order, you'll need to extract the keys into an array and sort it. Then walk across the array, using the keys you encounter to index into the associative array.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>As the other answers say, the order in which an object's properties are iterated is not defined in the spec, even though the major browsers all iterate them in the defined order.</p>\n\n<p>Chrome will enumerate them in order too, if all of the object's properties contain primitive values. John Resig gives more detail on Chrome's behavior here (under \"for loop order\"):\n<a href=\"http://ejohn.org/blog/javascript-in-chrome/\" rel=\"nofollow\">http://ejohn.org/blog/javascript-in-chrome/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As pointed out Chrome's behaviour is perfectly valid.</p>\n\n<p>This is a good case of where some OO thinking can help. Do you really want an associative array or just a list of objects?</p>\n\n<pre><code>var salesWeeks = [\n    [\"200911\", \"11 / 2009\", \"Fiscal 2009\"],\n    ...\n]\n...\nfor(var key in salesWeeks)\n{\n    arr.push(\n        \"&lt;option value=\\\"\" + salesWeeks[key][0] + \"\\\"&gt;\" +\n        salesWeeks[key][1] + \" (\" + salesWeeks[key][2] + \")\" +\n        \"&lt;\\/option&gt;\"\n    );\n}\n</code></pre>\n\n<p>would serve you better I think (to those that advocated some form of sort, the order is already defined - why do you want to do extra work?)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Contrary to all the other answers, it is CERTAINLY A BUG IN CHROME </p>\n\n<p><strong>The reason:</strong></p>\n\n<p>If the data structure is a paper sack like Barry said then:</p>\n\n<p>The values should always be randimized. This is not the case in chrome</p>\n\n<p>If the data structure is sequential then:</p>\n\n<p>The values should be in the sequence in which they are added to the structure</p>\n\n<p>While other browsers follow the second approach, chrome follows neither and there is still no explanation of what is the sorting order chrome makes up for the data structure while it is accessed.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>@curtainDog: NO! NO! Using \u201cfor .. in\u201d with Array objects in JavaScript is bad - the entire point of most of the the responses here is that \u201cfor .. in\u201d does not guarantee any order. Moreover, \u201cfor .. in\u201d will grab properties from an object\u2019s constructor\u2019s prototype and will not iterate over nonexistent keys.</p>\n\n<p>@Samnan: The spec simply says that iteration order is not guaranteed; this means that browsers are free to iterate in sorted order, in order of insertion, in random order, or however else they may. It\u2019s just like a hash table - think of it as random, even if it happens to come out in some apparent order.</p>\n\n<p>I\u2019m fairly sure most browsers look for \u201cfor..in\u201d with Array objects and iterate in numeric order so that things don\u2019t break; however, it\u2019s not really doing what most people who use it that way think it\u2019s doing, and it should be avoided unless you specifically need <em>object</em>-type iteration.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's not a real good practice but...</p>\n\n<p>If you add a space to the value chrome will not consider value a number and won't sort them by value.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;select&gt;\n  &lt;option value=\" 3\"&gt;Third&lt;/option&gt;\n  &lt;option value=\" 1\"&gt;First&lt;/option&gt;\n  &lt;option value=\" 2\"&gt;Second&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>The good side is that you have not to add and then remove alphabetic characters from ID like someone suggested (don't remember if in this or other post with similar question), you could easily trim it but most of the times the space is just ignored and if you post or get those to another file they will simply see the integer value not the space.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Ok, so on a web page, I've got a JavaScript object which I'm using as an associative array. This exists statically in a script block when the page loads:</p>\n\n<pre><code>var salesWeeks = {\n    \"200911\" : [\"11 / 2009\", \"Fiscal 2009\"],\n    \"200910\" : [\"10 / 2009\", \"Fiscal 2009\"],\n    \"200909\" : [\"09 / 2009\", \"Fiscal 2009\"],\n    \"200908\" : [\"08 / 2009\", \"Fiscal 2009\"],\n    \"200907\" : [\"07 / 2009\", \"Fiscal 2009\"],\n    \"200906\" : [\"06 / 2009\", \"Fiscal 2009\"],\n    \"200905\" : [\"05 / 2009\", \"Fiscal 2009\"],\n    \"200904\" : [\"04 / 2009\", \"Fiscal 2009\"],\n    \"200903\" : [\"03 / 2009\", \"Fiscal 2009\"],\n    \"200902\" : [\"02 / 2009\", \"Fiscal 2009\"],\n    \"200901\" : [\"01 / 2009\", \"Fiscal 2009\"],\n    \"200852\" : [\"52 / 2008\", \"Fiscal 2009\"],\n    \"200851\" : [\"51 / 2008\", \"Fiscal 2009\"]\n};\n</code></pre>\n\n<p>The order of the key/value pairs is intentional, as I'm turning the object into an HTML select box such as this:</p>\n\n<pre><code>&lt;select id=\"ddl_sw\" name=\"ddl_sw\"&gt;\n&lt;option value=\"\"&gt;== SELECT WEEK ==&lt;/option&gt;\n&lt;option value=\"200911\"&gt;11 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200910\"&gt;10 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200909\"&gt;09 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200908\"&gt;08 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200907\"&gt;07 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200906\"&gt;06 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200905\"&gt;05 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200904\"&gt;04 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200903\"&gt;03 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200902\"&gt;02 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200901\"&gt;01 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200852\"&gt;52 / 2008 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200851\"&gt;51 / 2008 (Fiscal 2009)&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>...with code that looks like this (snipped from a function):</p>\n\n<pre><code>var arr = [];\narr.push(\n    \"&lt;select id=\\\"ddl_sw\\\" name=\\\"ddl_sw\\\"&gt;\" +\n    \"&lt;option value=\\\"\\\"&gt;== SELECT WEEK ==&lt;/option&gt;\"\n);\n\nfor(var key in salesWeeks)\n{\n    arr.push(\n    \t\"&lt;option value=\\\"\" + key + \"\\\"&gt;\" +\n    \tsalesWeeks[key][0] + \" (\" + salesWeeks[key][1] + \")\" +\n    \t\"&lt;\\/option&gt;\"\n    );\n}\n\narr.push(\"&lt;\\/select&gt;\");\n\nreturn arr.join(\"\");\n</code></pre>\n\n<p>This all works fine in IE, FireFox and Opera.</p>\n\n<p>However in Chrome, the order comes out all weird:</p>\n\n<pre><code>&lt;select id=\"ddl_sw\" name=\"ddl_sw\"&gt;\n&lt;option value=\"\"&gt;== SELECT WEEK ==&lt;/option&gt;\n&lt;option value=\"200852\"&gt;52 / 2008 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200908\"&gt;08 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200906\"&gt;06 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200902\"&gt;02 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200907\"&gt;07 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200904\"&gt;04 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200909\"&gt;09 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200903\"&gt;03 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200905\"&gt;05 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200901\"&gt;01 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200910\"&gt;10 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200911\"&gt;11 / 2009 (Fiscal 2009)&lt;/option&gt;\n&lt;option value=\"200851\"&gt;51 / 2008 (Fiscal 2009)&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>NOTE: This order, though weird, does not change on subsequent refreshes. It's always in this order.</p>\n\n<p>So, what is Chrome doing? Some optimization in how it processes the loop?</p>\n\n<p>In the first place, am I wrong to rely on the order that the key/value pairs are declared in <em>any</em> associative array?</p>\n\n<p>I never questioned it before, I just assumed the order would hold because this technique has always worked for me in the other browsers. But I suppose I've never seen it stated anywhere that the order is guaranteed. Maybe it's not?</p>\n\n<p>Any insight would be awesome.\nThanks.</p>\n",
            "last_activity_date": 1341526083,
            "question_id": 640745,
            "score": 6,
            "tags": [
                "javascript",
                "google-chrome",
                "associative-array"
            ],
            "title": "Google Chrome: JavaScript associative arrays, evaluated out of sequence"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There's no such thing as 'deeper in the prototype'. \"this\" will always be the object that you're calling it on, unless that's changed through being a callback or various ways to rebind. You'll have less sanity loss if you split up your concepts and link them together:</p>\n\n<pre><code>Board = function (game) {\n    this.game = game;\n}\n\nBoard.prototype.init = function () {\n    console.log(this.game.id);\n}\n\nGame = function () {\n    this.id = 123;\n    this.board = new Board(game);\n}\n\nGame.prototype = {};\n</code></pre>\n\n<p>Alternatively, if you're hellbent on making it all use the same base, you can do some crazy hack like..</p>\n\n<pre><code>Game = function () {\n    this.id = 123;\n    var self = this;\n    for(var p in this.board) {\n        var property = this.board[p];\n        if(typeof property == 'function') {\n            this.board[p] = function (method) {\n                return function () {\n                    method.apply(self, arguments);\n                }\n            }(property)\n        }\n    }\n}\n</code></pre>\n\n<p>This is a total hack, and it'll make your coworkers hate you. (If you're using the underscore library, there's a bindAll function that helps with this stuff)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As you only have one instance of the <code>board</code> object, there is no way for it to know what you used to access it. Using <code>game.board</code> or <code>Game.prototype.board</code> to access the object gives exactly the same result.</p>\n\n<p>If you don't want to create one <code>board</code> object for each <code>Game</code> instance, you have to tell the <code>board</code> object which <code>Game</code> object it should consider itself to belong to for each call:</p>\n\n<pre><code>game.board.doSomething(game);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Game.prototype.board.doSomething(game);\n</code></pre>\n\n<h3>Edit:</h3>\n\n<p>To create one board for each <code>Game</code> instance, make a constructor for <code>Board</code>, and make the board object aware of the <code>Game</code> instance that it belongs to:</p>\n\n<pre><code>function Game(id) {\n  this.id = id;\n  this.board = new Board(this);\n}\n\nGame.prototype = {\n};\n\nfunction Board(game) {\n  this.game = game;\n}\n\nBoard.prototype = {\n  init: function(){\n    console.log(this.game.id);\n  }\n};\n\nvar game = new Game('123');\ngame.board.init(); // outputs \"123\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>UPDATE</p>\n\n<p>You must make a new instance of for each game if you don't want to provide scope for each function.  If you want, you can make board private to <code>Game</code> by making the board constructor a variable in the <code>Game</code> constructor function</p>\n\n<pre><code>var Game = function(id){\n    //Keep board private to Game\n    var boardClass = function (scope) {\n        this.scope = scope;\n        this.init = function () {\n            if ( this.scope instanceof Game ) {\n                console.log(this.scope.id);\n            }\n        };\n    };\n    this.id = id;\n    //Instantiate a new board for each game\n    this.board = new boardClass(this);\n};\n\nvar game = new Game(123);\n//Logs 123\ngame.board.init();\n\nvar game2 = new Game(456);\n//Logs 456\ngame2.board.init()\n\n//Still Logs 123\ngame.board.init();\n</code></pre>\n\n<p><strong>Don't use the code below because, as <em>Guffy</em> points out, one board object is shared between all instances of Game.  So the solutions below do not work for multiple Games.</strong></p>\n\n<hr>\n\n<p>You could force game.board.init to make <code>this</code> refer to an instance of game.</p>\n\n<pre><code>var Game = function(id){\n    this.id = id;\n    this.board.game = this;\n};\n\nGame.prototype = {\n    board : {\n        game: {},\n        init: function() {\n            //check if this is an instance of board by seeing if it has a game property\n            if(this.game) {\n                //make this refer to the game if it is referring to the board\n                this.init.apply(this.game);\n            }\n            console.log(this.id);\n        }\n    }\n}\n\nvar game = new Game(123);\n//Logs 123\ngame.board.init();\n\nvar game2 = new Game(456);\n//Logs 456\ngame2.board.init();\n\n//Logs 456...oops!\ngame.board.init();\n</code></pre>\n\n<p>Or you could simply make the instance of game a property on the board.</p>\n\n<pre><code>var Game = function(id){\n    this.id = id;\n    this.board.scope = this;\n};\n\nGame.prototype = {\n    board : {\n        init: function(){\n           // can check if the scope is what we want it to be\n           if( this.scope instanceof Game )\n                console.log(this.scope.id);\n        }\n    }\n}\n\nvar game = new Game(123);\n//Logs 123\ngame.board.init();\n\nvar game2 = new Game(456);\n//Logs 456\ngame2.board.init();\n\n//Logs 456...oops!\ngame.board.init();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can the the top-most scope can be cached in order to be used deeper in the prototype later, like so:</p>\n\n<pre><code>var Game = function(id){\n   this.id = id;\n};\n\nGame.prototype = {\n  board : {\n    init: function(){\n       // obviously \"this\" isn't the instance itself, but will be \"board\"\n       console.log(this.id);\n    }\n  }\n}\n\nvar game = new Game('123');\ngame.board.init(); // should output \"123\"\n</code></pre>\n\n<h2>update:</h2>\n\n<p>Well now that I think about it, I can use apply() and pass the context...</p>\n\n<pre><code>game.board.init.apply(game);\n</code></pre>\n",
            "last_activity_date": 1368442030,
            "question_id": 16502467,
            "score": 5,
            "tags": [
                "javascript",
                "prototype"
            ],
            "title": "prototype: deep scope of &quot;this&quot; to access instance&#39;s scope"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In order to use <code>$</code> in resulting string, use <code>$$</code> as <code>$</code> has special meaning in JavaScript Regular Expressions and String <code>replace</code> method: <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter\">https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I found a bug in my JavaScript code that I have isolated to a string replace that is acting in a way I didn't expect.  Here is an example of the code:</p>\n\n<pre><code>var text=\"as\";\ntext = text.replace(text,\"$\\'\");\nconsole.log(text);\n</code></pre>\n\n<p>This prints an empty string to the console.  I was expecting it to print $' to the console.  Can anyone explain this?  </p>\n",
            "last_activity_date": 1330045052,
            "question_id": 9423722,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "`string.replace` weird behavior when using dollar sign ($) as replacement"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>var interval = setInterval(function() {\n    $.ajax({\n        url: \"test.php\",\n        success: function(result) {\n            $(\"#results\").append(result);\n        }\n    });\n}, 1000);\n\nclearInterval(interval);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>You need to use the <code>clearInterval</code> function</p>\n\n<pre><code>    var interval = setInterval()....\n    clearInterval(interval);\n</code></pre>\n\n<p><a href=\"http://www.elated.com/articles/javascript-timers-with-settimeout-and-setinterval/\">http://www.elated.com/articles/javascript-timers-with-settimeout-and-setinterval/</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Use clear interval method <code>clearInterval();</code> pass your variable in which you <code>setInterval</code>.</p>\n\n<p>For example: </p>\n\n<pre><code>var refreshIntervalId = setInterval(fname, 10000);\n\nclearInterval(refreshIntervalId);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you were planning on only running the function once, I would suggest using <a href=\"http://www.w3schools.com/jsref/met_win_settimeout.asp\" rel=\"nofollow\">Window SetTimeout() Method</a> as it executes once, making clearing the interval after one run redundant.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there anyone know how to kill interval after using <code>setInterval()</code> in the following use case?</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>$(document).ready(function(){\n  setInterval(function(){\n    $.ajax({ url: \"test.php\",\n      success: function(result){\n        $(\"#results\").append(result);\n      }\n    });\n  }, 1000);\n});\n</code></pre>\n\n<p><strong>test.php</strong></p>\n\n<pre><code>$CT = date('Y-m-d H:i:s', time());\necho $CT;\n</code></pre>\n",
            "last_activity_date": 1366893113,
            "question_id": 8266726,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "JS - How to clear interval after using setInterval()"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Without code impossible to say, but you could be running foul of the cross-site ajax limitation: you cannot make ajax requests to other domains.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Sounds like you are breaking the <a href=\"https://developer.mozilla.org/en/Same_origin_policy_for_JavaScript\">same origin policy</a>.</p>\n\n<p>Sub domains, different ports, different protocols are considered different domains.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Try adding <code>Access-Control-Allow-Origin:*</code> header to the server side script that feeds you the XML. If you don't do it in PHP (where you can use <code>header()</code>) and try to read a raw XML file, you probably have to set the header in a .htaccess file by adding <code>Header set Access-Control-Allow-Origin \"*\"</code>. In addition you might need to add <code>Acces-Control-Allow-Headers:*</code>.</p>\n\n<p>Also I'd recommend to replace the * in production mode to disable everybody from reading your data and instead add your own url there.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another possible cause of this is when you are working with a .html file directly on the file system. For example, if you're accessing it using this url in your browser: <code>C:/Users/Someguy/Desktop/MyProject/index.html</code></p>\n\n<p>If that then has to make an ajax request, the ajax request will fail because ajax requests to the filesystem are restricted. To fix this, setup a webserver that points localhost to <code>C:/Users/Someguy/Desktop/MyProject</code> and access it from <code>http://localhost/index.html</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<blockquote>\n  <p>Access to restricted URI denied\" code: \"1012 [Break On This Error]</p>\n  \n  <p>xhttp.send(null);</p>\n</blockquote>\n\n<pre><code>function getXML(xml_file) {\n\n  if (window.XMLHttpRequest) {\n\n    var xhttp = new XMLHttpRequest();  // Cretes a instantce of XMLHttpRequest object\n  }\n  else {\n\n    var xhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");  // for IE 5/6\n  }\n\n  xhttp.open(\"GET\",xml_file,false);  \n  xhttp.send(null);  \n\n   var xmlDoc = xhttp.responseXML; \n\n   return (xmlDoc);\n}\n</code></pre>\n\n<p>I'm trying to get data from a XML file using JavaScript. Im using Firebug to test and debug on Firefox.</p>\n\n<p>The above error is what I'm getting. It works in other places i used the same before, why is acting weird here?</p>\n\n<p>Can someone help me why it's occuring?</p>\n\n<h3>Update:</h3>\n\n<p><a href=\"http://jquery-howto.blogspot.com/2008/12/access-to-restricted-uri-denied-code.html\">http://jquery-howto.blogspot.com/2008/12/access-to-restricted-uri-denied-code.html</a></p>\n\n<p>I found this link explaining the cause of the problem. But I didn't get what the solution given means can someone elaborate?</p>\n",
            "last_activity_date": 1423672168,
            "question_id": 6653825,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "xml",
                "firefox",
                "firebug"
            ],
            "title": "Error: &quot;Access to restricted URI denied&quot;"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Use the  <a href=\"http://www.datejs.com/\" rel=\"nofollow\">date.js</a> library. It's great for all date-related functions.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's some quick code</p>\n\n<pre><code>var DAY = 86400000;\n\nfunction getFriday(weekNum, year) {\n  var year = new Date(year.toString()); // toString first so it parses correctly year numbers\n  var daysToFriday = (5 - year.getDay()); // Note that this can be also negative\n  var fridayOfFirstWeek = new Date(year.getTime() + daysToFriday * DAY);\n  var nthFriday = new Date(fridayOfFirstWeek.getTime() + (7 * (weekNum - 1) * DAY));\n  return nthFriday;\n}\n</code></pre>\n\n<p>Split some variables for readability.</p>\n\n<p>But if you find yourself writing more complex time operations, you're better using a library instead.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i think if i should not use any date library i would:</p>\n\n<p>assuming u use a christian week, where sunday is the frist day of the week. this is neccessary to find out if the first days in a year belong to the first week of the year or not.</p>\n\n<p>create an array. months = new Array(31,28,31, ... )\nif(year % 4 == 0) then february has 29 days.</p>\n\n<p>days = num_week * 7;</p>\n\n<p>then iterate over the month and decrease days by month[current]. if days gets negative increase days with the current month days again.</p>\n\n<p>result: year-(current+1)-days</p>\n\n<p>i hope this helps you. what u have to add on your own is the handling for january and the first days.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The week #1 is the week with the first Thursday.</p>\n\n<p>Here is a function to get any day:</p>\n\n<pre><code>var w2date = function(year, wn, dayNb){\n    var j10 = new Date( year,0,10,12,0,0),\n        j4 = new Date( year,0,4,12,0,0),\n        mon1 = j4.getTime() - j10.getDay() * 86400000;\n    return new Date(mon1 + ((wn - 1)  * 7  + dayNb) * 86400000);\n};\nconsole.log(w2date(2010, 1, 4));\n</code></pre>\n\n<p>week numbers start at 1 until 52 or 53 it depends the year.<br/>\nFor the day numbers, 0 is Monday, 1 is Tuesday, ... and 4 is Friday</p>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I have week number and year, need to find out date (friday) in that week and year.</p>\n\n<pre><code>function getFriday(week_num, year)\n{\n    ?\n\n    return friday_date_object;\n}\n</code></pre>\n\n<p>How do I do that?</p>\n",
            "last_activity_date": 1293638894,
            "question_id": 4555324,
            "score": 5,
            "tags": [
                "javascript",
                "date"
            ],
            "title": "Get friday from week number and year in javascript"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>The <a href=\"https://developer.mozilla.org/en/Core%5FJavaScript%5F1.5%5FReference/Global%5FObjects/Date\" rel=\"nofollow\">Date</a> constructor cannot parse that format, and since you cannot change it, you should parse it manually, and pass the <code>year</code>, <code>month</code> and <code>date</code> parts to it, for example:</p>\n\n<pre><code>function compareDates(startDate, endDate) {\n\n  // parse a date in yyyy-mm-dd format\n  function parseDate(input) {\n    var parts = input.match(/(\\d+)/g);\n    return new Date(parts[0], parts[1]-1, parts[2]); // months are 0-based\n  }\n\n  if (parseDate(endDate) &lt; parseDate(startDate)) {\n    alert (\"Error !\");\n  }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var startDate = \"2009-11-01\",\n    endDate = \"2009-11-04\";\ncompareDates(startDate, endDate);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>var myDate=new Date();\nmyDate.setFullYear(2010,0,14);\nvar today = new Date();\n\nif (myDate&gt;today)\n{\n    alert(\"Today is before 14th January 2010\");\n}\nelse\n{\n    alert(\"Today is after 14th January 2010\");\n}\n</code></pre>\n\n<p>source: <a href=\"http://www.w3schools.com/jS/js%5Fobj%5Fdate.asp\" rel=\"nofollow\">http://www.w3schools.com/jS/js%5Fobj%5Fdate.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h3>Someone finally uses ISO 8601 standard dates but then ...</h3>\n\n<p>You are using a nice international standard that JavaScript arguably should understand. But it doesn't.</p>\n\n<p>The problem is that your dates are in <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> standard format which the built-in <code>Date.parse()</code> can't read.</p>\n\n<p>JavaScript implements the older IETF dates from <a href=\"http://tools.ietf.org/html/rfc822\" rel=\"nofollow\">RFC 822</a>/1123. One solution is to tweak them into the RFC-style, which you can see <a href=\"http://tools.ietf.org/html/rfc1123#page-55\" rel=\"nofollow\">in RFC1123</a>, and which look like <strong>dd month yyyy</strong>.</p>\n\n<p>There is coding floating about that can scan the ISO format comprehensively, and now that you know to google for \"iso standard date\" you can get it. <a href=\"http://delete.me.uk/2005/03/iso8601.html\" rel=\"nofollow\">Over here</a> I found this:</p>\n\n<pre><code>Date.prototype.setISO8601 = function (string) {\n    var regexp = \"([0-9]{4})(-([0-9]{2})(-([0-9]{2})\" +\n        \"(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\\.([0-9]+))?)?\" +\n        \"(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?\";\n    var d = string.match(new RegExp(regexp));\n\n    var offset = 0;\n    var date = new Date(d[1], 0, 1);\n\n    if (d[3]) { date.setMonth(d[3] - 1); }\n    if (d[5]) { date.setDate(d[5]); }\n    if (d[7]) { date.setHours(d[7]); }\n    if (d[8]) { date.setMinutes(d[8]); }\n    if (d[10]) { date.setSeconds(d[10]); }\n    if (d[12]) { date.setMilliseconds(Number(\"0.\" + d[12]) * 1000); }\n    if (d[14]) {\n        offset = (Number(d[16]) * 60) + Number(d[17]);\n        offset *= ((d[15] == '-') ? 1 : -1);\n    }\n\n    offset -= date.getTimezoneOffset();\n    time = (Number(date) + (offset * 60 * 1000));\n    this.setTime(Number(time));\n}\n\njs&gt; t = new Date()\nSun Nov 01 2009 09:48:41 GMT-0800 (PST)\njs&gt; t.setISO8601(\"2009-11-01\")\njs&gt; t\n\nSat Oct 31 2009 17:00:00 GMT-0700 (PDT)\n</code></pre>\n\n<p>The 11-01 is reinterpreted in my timezone, as long as all your dates get the same conversion then they should compare reasonably, otherwise you can add TZ info to your string or to the Date object.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Try using <a href=\"http://www.datejs.com/\">DateJS</a>, an open-source JavaScript Date Library that can handle pretty much everything! The following example is working:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"date.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\n    startdate = \"2009-11-01\";\n    enddate  = \"2009-11-04\"; \n\n    var d1 = Date.parse(startdate);\n    var d2 = Date.parse(enddate) ;\n\n    if (d1 &lt; d2) {\n    \talert (\"Error!\");\n    }\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you only need to know if one date comes before the other, you could just use the Date object's getTime() method to compare their respective numbers of milliseconds since midnight Jan 1, 1970:</p>\n\n<pre><code>if( d2.getTime() &lt; d1.getTime() )\n{\n    alert(\"eeeek!\");\n}\n</code></pre>\n\n<p>--- Don't get mixed up and try to use getMilliseconds(), though :)</p>\n\n<p><a href=\"http://www.w3schools.com/jsref/jsref_gettime.asp\" rel=\"nofollow\">w3schools documentation on getTime()</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>USe this function for date comparison in javascript:</p>\n\n<pre><code>    function fn_DateCompare(DateA, DateB) {\n      var a = new Date(DateA);\n      var b = new Date(DateB);\n\n      var msDateA = Date.UTC(a.getFullYear(), a.getMonth()+1, a.getDate());\n      var msDateB = Date.UTC(b.getFullYear(), b.getMonth()+1, b.getDate());\n\n      if (parseFloat(msDateA) &lt; parseFloat(msDateB))\n        return -1;  // less than\n      else if (parseFloat(msDateA) == parseFloat(msDateB))\n        return 0;  // equal\n      else if (parseFloat(msDateA) &gt; parseFloat(msDateB))\n        return 1;  // greater than\n      else\n        return null;  // error\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I implemented the below code for a date comparison depending on current time - -</p>\n\n<pre><code>// get the current time from a hidden input which is being set by server time \n// because client may have a wrong time\nvar ch = jQuery('#clockHours').val(); // e.g. 9,10 etc.\nch = parseInt(ch);\n// get the today's date from a server value as well\nvar td = jQuery('#clockDate').val(); // may be =&gt; new Date(); e.g. 2014-05-15\ntd = Date.parse(td);\ntd.setHours(0, 0, 0, 0);\n// get the input date\nvar inpdate = jQuery('#jform_in_date').val(); // may be =&gt; new Date(); e.g. 2014-05-15\ninpdate = Date.parse(inpdate);\ninpdate.setHours(0, 0, 0, 0);\n// get yesterday's date. this is from server as well\nyd = new Date();\nyd.setFullYear(td.getFullYear(), td.getMonth(), td.getDate()-1);\nyd.setHours(0, 0, 0, 0);\nalert('today\\'s date is: '+td.toString());\nalert('yesterday\\'s date is: '+yd.toString());\n// if it is not 10 AM then dates from yesterday are valid\nif(ch &lt;= 9) {\n   if(inpdate.getTime() &gt;= yd.getTime()) {\n       alert('Valid: dates from yesterday are allowed');\n   } else {\n       alert('Invalid: dates before yesterday are not allowed');\n   }\n} else {\n   if(inpdate.getTime() &gt;= td.getTime()) {\n       alert('Valid: dates from today are allowed');\n   } else {\n       alert('Invalid: dates before today are not allowed');\n   }\n}\n</code></pre>\n\n<p>I hope this will help very clearly.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I am trying to compare two dates. I have this code which I thought would work a treat, but it didn't. For now I just want to alert with an error if the end date is less than the start date. The date style, <code>yyyy-mm-dd</code>, needs to be kept in this format for other events prior to this. What is wrong with this code?</p>\n\n<pre><code>   startdate = \"2009-11-01\" ;\n   enddate  = \"2009-11-04\" ;\n\n   var d1 = new Date(startdate)\n   var d2 = new Date(enddate)\n\n   if (d2 &lt; d1) {\n      alert (\"Error ! ) ;\n   }\n\n   document.cookie='st =' + startdate // set sytem cookie\n   document.cookie='en =' + enddate\n   window.location = self.location.href\n   window.opener.location.reload()\n   close()\n</code></pre>\n",
            "last_activity_date": 1418994335,
            "question_id": 1657733,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Compare two dates in JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>function combineObject( keys, values)\n{\n    var obj = {};\n    if ( keys.length != values.length)\n       return null;\n    for (var index in keys)\n        obj[keys[index]] = values[index];\n     return obj;\n};\n\n\nvar your_obj = combine( your_keys, your_values);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Simple JS function would be:</p>\n\n<pre><code>function toObject(names, values) {\n    var result = {};\n    for (var i = 0; i &lt; names.length; i++)\n         result[names[i]] = values[i];\n    return result;\n}\n</code></pre>\n\n<p>Of course you could also actually implement functions like zip, etc as JS supports higher order types which make these functional-language-isms easy :D</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>In the <a href=\"http://code.google.com/p/jquery-utils/\" rel=\"nofollow\">jQuery-Utils project</a>, the <a href=\"http://code.google.com/p/jquery-utils/wiki/JqueryArrayUtils\" rel=\"nofollow\">ArrayUtils</a> module has a zip function implemented.</p>\n\n<pre><code>//...\nzip: function(object, object2, iterator) {\n    var output = [];\n    var iterator = iterator || dummy;\n        $.each(object, function(idx, i){\n        if (object2[idx]) { output.push([i, object2[idx]]); }\n    });\n    return output;\n}\n//...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have:</p>\n\n<pre><code>var keys = [ \"height\", \"width\" ];\nvar values = [ \"12px\", \"24px\" ];\n</code></pre>\n\n<p>And I'd like to convert it into this object:</p>\n\n<pre><code>{ height: \"12px\", width: \"24px\" }\n</code></pre>\n\n<p>In Python, there's the simple idiom <code>dict(zip(keys,values))</code>. Is there something similar in jQuery or plain Javascript, or do I have to do this the long way?</p>\n",
            "last_activity_date": 1247466921,
            "question_id": 1117916,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "idioms"
            ],
            "title": "Merge keys array and values array into an object in Javascript"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<ul>\n<li><code>=</code> in <code>palindrom[i] = palindrom.charAt(palindrom.length)-1</code> should be <code>==</code> or <code>===</code></li>\n<li><code>palindrom.charAt(palindrom.length)-1</code> should be <code>palindrom.charAt(palindrom.length - i)</code></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First problem</p>\n\n<p>= is assign\n== is compare</p>\n\n<p>Second problem, Your logic here is wrong</p>\n\n<pre><code>palindrom.charAt(palindrom.length)-1\n</code></pre>\n\n<p>You are subtracting one from the charAt and not the length.</p>\n\n<p>Third problem, it still will be wrong since you are not reducing the length by i.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function checkPalindrom(palindrom)\n{\n   var flag = true;\n   var j = 0;\n    for( var i = palindrom.length-1; i &gt; palindrom.length / 2; i-- )\n    {\n        if( palindrom[i] != palindrom[j] )\n        {\n           flag = false;\n           break; // why this? It'll exit the loop at once when there is a mismatch.\n        }\n        j++;\n    }\n  if( flag ) {\n  document.write('the word is palindrome.');\n  }\n  else {\ndocument.write('the word is not palindrome.');\n  }\n}\ncheckPalindrom('wordthatwillbechecked');\n</code></pre>\n\n<p>Why am I printing the result outside the loop? Otherwise, for each match in the word, it'll print \"is or is not pallindrome\" rather than checking the whole word.</p>\n\n<p>EDIT: Updated with changes and a fix suggested by Basemm.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The logic here is not quite correct, you need to check every letter to determine if the word is a palindrome. Currently, you print multiple times. What about doing something like:</p>\n\n<pre><code>function checkPalindrome(word) {    \n    var l = word.length;\n    for (var i = 0; i &lt; l / 2; i++) {\n        if (word.charAt(i) !== word.charAt(l - 1 - i)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nif (checkPalindrome(\"1122332211\")) {\n    document.write(\"The word is a palindrome\");\n} else {\n    document.write(\"The word is NOT a palindrome\");\n}\n</code></pre>\n\n<p>Which should print that it IS indeed a palindrome.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>At least three things:</p>\n\n<ul>\n<li><p>You are trying to test for equality with <code>=</code>, which is used for setting.  You need to test with <code>==</code> or <code>===</code>.  (Probably the latter, if you don't have a reason for the former.)</p></li>\n<li><p>You are reporting results after checking each character.  But you don't know the results until you've checked enough characters.</p></li>\n<li><p>You double-check each character-pair, as you really only need to check if, say <code>first === last</code> and not also if <code>last === first</code>.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Maybe I will suggest probably better solution:</p>\n\n<pre><code>function checkPalindrom(str) {\n    return str == str.split('').reverse().join('');\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>I've added some more to the above functions, to check strings like, \"Go hang a salami, I'm a lasagna hog\". </p>\n\n<pre><code>function checkPalindrom(str) {\n    var str = str.replace(/[^a-zA-Z0-9]+/gi, '').toLowerCase();\n    return str == str.split('').reverse().join('');\n}\n</code></pre>\n\n<p>Thanks</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The most important thing to do when solving a Technical Test is <strong>Don't use shortcut methods</strong> -- <strong>they want to see how you think algorithmically! Not your use of methods.</strong></p>\n\n<p>Here is one that I came up with (45 minutes after I blew the test). There are a couple optimizations to make though. When writing any algorithm, its best to assume <code>false</code> and alter the logic if its looking to be <code>true</code>.</p>\n\n<p><strong><code>isPalindrome()</code>:</strong></p>\n\n<p>Basically, to make this run in <strong>O(N)</strong> (linear) complexity you want to have 2 <em>iterators</em> whose vectors point towards each other. Meaning, one iterator that starts at the beginning and one that starts at the end, each traveling inward. You could have the iterators traverse the whole array and use a condition to <code>break</code>/<code>return</code> once they meet in the middle, but it may save some work to only give each iterator a <em>half-length</em> by default.</p>\n\n<p><code>for</code> loops seem to force the use of more checks, so I used <code>while</code> loops - which I'm less comfortable with.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>/**\n * TODO: If func counts out, let it return 0\n *  * Assume !isPalindrome (invert logic)\n */\nfunction isPalindrome(S){\n    var s = S\n      , len = s.length\n      , mid = len/2;\n      , i = 0, j = len-1;\n\n    while(i&lt;mid){\n        var l = s.charAt(i);\n        while(j&gt;=mid){\n            var r = s.charAt(j);\n            if(l === r){\n                console.log('@while *', i, l, '...', j, r);\n                --j;\n                break;\n            }\n            console.log('@while !', i, l, '...', j, r);\n            return 0;\n        }\n        ++i;\n    }\n    return 1;\n}\n\nvar nooe = solution('neveroddoreven');  // even char length\nvar kayak = solution('kayak');  // odd char length\nvar kayaks = solution('kayaks');\n\nconsole.log('@isPalindrome', nooe, kayak, kayaks);\n</code></pre>\n\n<p>Notice that if the loops count out, it returns <code>true</code>. All the logic should be inverted so that it by default returns <code>false</code>. I also used one short cut method <code>String.prototype.charAt(n)</code>, but I felt OK with this as every language natively supports this method.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>terse + efficient + recursive</p>\n\n<pre><code>function isPalindrome(s,i) {\n return (i=i||0)&lt;0|| i&gt;=s.length/2|| s[i]==s[s.length-1-i]&amp;&amp; isPalindrome(s,++i);\n}\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/namcx0yf/\" rel=\"nofollow\">http://jsfiddle.net/namcx0yf/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function palindromCheck(str) {\n    var palinArr, i,\n        palindrom = [],\n\n    palinArr = str.split(/[\\s!.?,;:'\"-()]/ig);\n\n    for (i = 0; i &lt; palinArr.length; i++) {\n        if (palinArr[i].toLowerCase() === palinArr[i].split('').reverse().join('').toLowerCase() &amp;&amp;\n            palinArr[i] !== '') {\n            palindrom.push(palinArr[i]);\n        }\n    }\n        return palindrom.join(', ');\n}\nconsole.log(palindromCheck('There is a man, his name! was Bob.')); //a, Bob\n</code></pre>\n\n<p>Finds and upper to lower case. Split string into array, I don't know why a few white spaces remain, but I wanted to catch and single letters. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>i have the following:</p>\n\n<pre><code>function checkPalindrom(palindrom)\n{\n\n    for( var i = palindrom.length; i &gt; 0; i-- )\n    {\n        if( palindrom[i] = palindrom.charAt(palindrom.length)-1 )\n        {\n            document.write('the word is palindrome.');\n        }else{\n            document.write('the word is not palindrome!');\n        }\n    }\n}\ncheckPalindrom('wordthatwillbechecked');\n</code></pre>\n\n<p>What is wrong with my code? i want to check if the word is palindrome.</p>\n",
            "last_activity_date": 1413043900,
            "question_id": 14813369,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "Palindrome check in Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>maybe you can fix this using a bit of code (but yet maybe expensive)<br>\nadd class <code>hover</code> on <code>mouseenter</code>, remove it on <code>mouseleave</code> and then test on it.</p>\n\n<pre><code>$('.selector').hover(\n    function(){$(this).addClass('hover');},\n    function(){$(this).removeClass('hover');}\n);\n\nif(!$(this).parent().find('ul').first().hasClass('hover')) {\n   $(this).parent().parent().removeClass('open');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Unfortunately, while we all wish that our code were future proof, your <code>$('foo').on( 'hover, ... function(){ //do stuff }</code> code is <a href=\"http://bugs.jquery.com/ticket/11731\" rel=\"nofollow\">deprecated in jQuery 1.8</a>.  I wish I had better news for you, but your code is broken because of a core change to jQuery 1.8.  You now have to use the syntax</p>\n\n<pre><code>$('.selector').on( 'mouseenter mouseleave', function() {\n      $(this).toggleClass('hover');\n   }\n);\n\nif(!$(this).parent().find('ul').first().hasClass('hover')) {\n   $(this).parent().parent().removeClass('open');\n}\n</code></pre>\n\n<p>Wish I had better news for you, but deprecation happens :/ ... jQuery 1.8 doesn't like your shortcut and they've deprecated the <code>hover</code> event handler from <code>.on()</code> and also the pseudo-selector <code>:hover</code>, so it can't be used that way any more.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>weird - for me, .is(\":hover\") is still working in 1.8, but broken in 1.9.1.</p>\n\n<p>Anyway, here is a fix</p>\n\n<pre><code>function mouseIsOverWorkaround(what){\n    var temp = $(what).parent().find(\":hover\");\n    return temp.length == 1 &amp;&amp; temp[0] == what;\n}\n</code></pre>\n\n<p>then call above function on the \"naked\" (non jQuery-wrapped) element. In your case,</p>\n\n<pre><code>if(!mouseIsOverWorkaround($(this).parent().find('ul').first()[0]) {\n   $(this).parent().parent().removeClass('open');\n}\n</code></pre>\n\n<p>(don't forget the [0])</p>\n\n<p>the above-mentioned (comment to orig question) fiddle <a href=\"http://jsfiddle.net/nnnnnn/Tm77a/\" rel=\"nofollow\">http://jsfiddle.net/nnnnnn/Tm77a/</a> does not work in jQuery 1.9.1</p>\n\n<p>fiddle with this one <a href=\"http://jsfiddle.net/mathheadinclouds/BxL4w/\" rel=\"nofollow\">http://jsfiddle.net/mathheadinclouds/BxL4w/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>The following code raises the error <code>unsupported pseudo: hover</code> on jQuery 1.8, while it works perfect on jQuery 1.7.2:</p>\n\n<pre><code>if(!$(this).parent().find('ul').first().is(':hover')) {\n   $(this).parent().parent().removeClass('open');\n}\n</code></pre>\n\n<p>Does anyone know what's going on?</p>\n",
            "last_activity_date": 1367263212,
            "question_id": 11998514,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "jquery-1.8"
            ],
            "title": "jQuery 1.8: unsupported pseudo: hover"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I wrote this function. It keeps its own array with a history of generated numbers, preventing initial duplicates, continuing to output a random number if all numbers in the range have been outputted once:</p>\n\n<pre><code>// Generates a unique number from a range\n// keeps track of generated numbers in a history array\n// if all numbers in the range have been returned once, keep outputting random numbers within the range\nvar UniqueRandom = { NumHistory: new Array(), generate: function(maxNum) {\n        var current = Math.round(Math.random()*(maxNum-1));\n        if (maxNum &gt; 1 &amp;&amp; this.NumHistory.length &gt; 0) {\n            if (this.NumHistory.length != maxNum) {\n                while($.inArray(current, this.NumHistory) != -1) { current = Math.round(Math.random()*(maxNum-1)); }\n                this.NumHistory.push(current);\n                return current;\n            } else {\n                //unique numbers done, continue outputting random numbers, or we could reset the history array (NumHistory = [];)\n                return current;\n            }\n        } else {\n            //first time only\n            this.NumHistory.push(current);\n            return current;\n        }\n    }\n};\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/c_kick/YnRs7/\" rel=\"nofollow\">Here's a working Fiddle</a></p>\n\n<p>I hope this is of use to someone!</p>\n\n<p>Edit: as pointed out by <a href=\"http://stackoverflow.com/users/182668/pointy\">Pointy</a> below, it might get slow with a large range (here is a \n<a href=\"http://jsfiddle.net/c_kick/sDe4p/\" rel=\"nofollow\">fiddle, going over a range from 0-1000</a>, which seems to run fine). However; I didn't require a very large range, so perhaps this function is indeed not suited if you look to generate and keep track of an enormous range.</p>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>This should do it:</p>\n\n<pre><code>function makeRandomRange(x) {\n    var used = new Array(x),\n        exhausted = false;\n    return function getRandom() {\n        var random = Math.floor(Math.random() * x);\n        if (exhausted) {\n            return random;\n        } else {\n            for (var i=0; i&lt;x; i++) {\n                random = (random + 1) % x;\n                if (random in used)\n                    continue;\n                used[random] = true;\n                return random;\n            }\n            // no free place found\n            exhausted = true;\n            used = null; // free memory\n            return random;\n        }\n    };\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var generate = makeRandomRange(20);\n\nvar x1 = generate(),\n    x2 = generate(),\n    ...\n</code></pre>\n\n<hr>\n\n<p>Although it works, it has no good performance when the x-th random is generated - it searches the whole list for a free place. <a href=\"http://stackoverflow.com/a/196065/1048572\">This algorithm</a>, a step-by-step <a href=\"http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow\">Fisher\u2013Yates shuffle</a>, from the question <a href=\"http://stackoverflow.com/q/196017/1048572\">Unique random numbers in O(1)?</a>, will perform better:</p>\n\n<pre><code>function makeRandomRange(x) {\n    var range = new Array(x),\n        pointer = x;\n    return function getRandom() {\n        pointer = (pointer-1+x) % x;\n        var random = Math.floor(Math.random() * pointer);\n        var num = (random in range) ? range[random] : random;\n        range[random] = (pointer in range) ? range[pointer] : pointer;\n        return range[pointer] = num;\n    };\n}\n</code></pre>\n\n<p>(<a href=\"http://jsfiddle.net/cyDEa/\" rel=\"nofollow\">Demo at jsfiddle.net</a>)</p>\n\n<p>Extended version which does only generate one \"group\" of unique numbers:</p>\n\n<pre><code>function makeRandomRange(x) {\n    var range = new Array(x),\n        pointer = x;\n    return function getRandom() {\n        if (range) {\n            pointer--;\n            var random = Math.floor(Math.random() * pointer);\n            var num = (random in range) ? range[random] : random;\n            range[random] = (pointer in range) ? range[pointer] : pointer;\n            range[pointer] = num;\n            if (pointer &lt;= 0) { // first x numbers had been unique\n                range = null; // free memory;\n            }\n            return num;\n        } else {\n            return Math.floor(Math.random() * x);\n        }\n    };\n}\n</code></pre>\n\n<p>(<a href=\"http://jsfiddle.net/cyDEa/1/\" rel=\"nofollow\">Demo</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You may try generating the number using the current date and time value which would make it unique. To make it within the range, you may have to use some mathematical function.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You got some great programming answer. Here's one with a more theoretical flavor to complete your panorama :-)</p>\n\n<p>Your problem is called \"sampling\" or \"subset sampling\" and there are several ways you could do this. Let <code>N</code> be the range you are sampling frame (i.e., <code>N=X+1</code>) and <code>M</code> be the size of your sample (the number of elements you want to pick).</p>\n\n<ul>\n<li><p>if <code>N</code> is much larger than <code>M</code>, you'll want to use an algorithm such as the one suggested by Bentley and Floyd in his column \"<a href=\"http://dl.acm.org/citation.cfm?id=315746\" rel=\"nofollow\">Programming Pearls: a sample of brilliance</a>\" (temporarily available without ACM's lock screen <a href=\"http://wikisend.com/download/954842/BeFl87.pdf\" rel=\"nofollow\">here</a>), I really recommend this as they explicitly give code and discuss in terms of hash tables, etc.; there a few neat tricks in there</p></li>\n<li><p>if <code>N</code> is within the same range as <code>M</code>, then you might want to use the <a href=\"http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow\">Fisher-Yates shuffle</a> but stop after only <code>M</code> steps (instead of <code>N</code>)</p></li>\n<li><p>if you don't really know then the algorithm on <a href=\"http://luc.devroye.org/chapter_thirteen.pdf\" rel=\"nofollow\">page 647 of Devroye's book on random generation is pretty fast</a>.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I ran into the challenge where I need a function that returns a random number within a given range from <code>0 - X</code>. Not only that, but I require the number returned to be <strong>unique</strong>; not duplicating numbers that have already been returned on previous calls to the function. </p>\n\n<p>Optionally, when this is done (e.g. the range has been 'exhausted'), just return a random number within the range.</p>\n\n<p>How would one go about doing this?</p>\n",
            "last_activity_date": 1344118594,
            "question_id": 11808804,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "arrays",
                "random"
            ],
            "title": "Generate unique number within range (0 - X), keeping a history to prevent duplicates"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You are returning <code>false</code> in the <code>onclientclick</code>, so the event is returned before the postback. As a result, <code>onclick</code> never fires.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://vijaymodi.wordpress.com/2007/06/08/button-onclick-and-onclientclick-2/\">This article</a> kind of explains the problem. You need to return true in your JS if you want the server event to trigger. Otherwise, you have to return false.</p>\n\n<p>And, it also looks like you will have to add the UseSubmitBehavior = false based on: <a href=\"http://stackoverflow.com/questions/2155048/onclientclick-and-onclick-is-not-working-at-the-same-time\">OnclientClick and OnClick is not working at the same time?</a> </p>\n\n<p>This is especially evident after seeing that your generated HTML only has the CloseDialog() and not the call to Button1_Click. This change will concatenate to the end of your onclick.</p>\n\n<pre><code>&lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Soumettre ce ticket\" \n            onclick=\"Button1_Click\"  OnClientClick=\"CloseDialog();\"  \n            UseSubmitBehavior=\"false\"/&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>I ran into this problem and using <code>UseSubmitBehavior=\"false\"</code> nearly did the trick. Be sure to have your <code>OnClientClick</code> call set up correctly:</p>\n\n<p>My code was using <code>OnClientClick=\"return ValidateSearch();\"</code> which is incorrect. It should just be </p>\n\n<pre><code>&lt;asp:Button ID=\"keywordSearch\" runat=\"server\" Text=\"Search\" TabIndex=\"1\" \nOnClick=\"keywordSearch_Click\" OnClientClick=\"if (!ValidateSearch()) { return false;};\" /&gt;\n</code></pre>\n\n<p>See the <a href=\"http://nileshmandekar.blogspot.com/2012/04/aspbutton-onclientclick-and-onclick-not.html\" rel=\"nofollow\">Source</a> here (and tell them thanks!)</p>\n\n<p>If it is set up incorrectly, the <code>OnClick</code> function will not fire.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>With this code, i try to Close a Window (the way i'm doing it works) but i have also an Onclick event which is ignored!</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n\n            function GetRadWindow() {\n                var oWindow = null;\n                if (window.radWindow) oWindow = window.radWindow;\n                else if (window.frameElement.radWindow) oWindow = window.frameElement.radWindow;\n                return oWindow;\n            }\n\n            function CloseDialog() {\n                GetRadWindow().close();\n\n            }  \n</code></pre>\n\n<p></p>\n\n<p>ASPX page:</p>\n\n<pre><code> &lt;asp:Button ID=\"Button1\" runat=\"server\" Text=\"Soumettre ce ticket\" \n                onclick=\"Button1_Click\"  OnClientClick=\"CloseDialog();return false;\"/&gt;\n</code></pre>\n\n<p>My application never enters Button1_click event, can anyone help me to find out why ?\nthanks in advance</p>\n\n<p>EDIT: HTML GENERATED FOR THE BUTTON</p>\n\n<pre><code>&lt;input type=\"submit\" id=\"Button1\" onclick=\"CloseDialog();\" value=\"Soumettre ce ticket\" name=\"Button1\"/&gt;\n</code></pre>\n",
            "last_activity_date": 1364754096,
            "question_id": 9619395,
            "score": 4,
            "tags": [
                "javascript",
                "asp.net"
            ],
            "title": "OnClick not working when i use both Onclick &amp; OnClientClick"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>No that's not possible. PHP code runs <strong><em>before</em></strong> (server-side) javascript (client-side)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>PHP is server side and Javascript is client so not really (yes I know there is some server side JS). What you could do is use Ajax and make a call to a PHP page to get some results.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The PHP function cannot be called in the way that you have illustrated above. However you can call a PHP script using AJAX, code is as shown below. Also you can find a simple example <a href=\"http://tallymobile.com/test3.html\" rel=\"nofollow\">here</a>. Let me know if you need further clarification</p>\n\n<p><strong>Using Jquery</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"./jquery-1.4.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction compute() {\n    var params=\"session=123\";\n    $.post('myphpscript.php',params,function(data){ \n            alert(data);//for testing if data is being fetched\n            var myObject = eval('(' + data + ')');\n            document.getElementById(\"result\").value=myObject(addend_1,addend_2);\n        }); \n}\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Barebones Javascript Alternative</strong></p>\n\n<pre><code>   &lt;script type=\"text/javascript\"&gt;\n\n    function compute() {\n        var params=\"session=123\"\n        var xmlHttp; \n        var addend_1=document.getElementById(\"par_1\").value;\n        var addend_2=document.getElementById(\"par_2\").value;\n\n        try \n        { \n            xmlHttp = new XMLHttpRequest(); \n        } \n        catch (e) \n        { \n            try \n            { \n                xmlHttp = new ActiveXObject(\"Msxml2.XMLHTTP\"); \n            } \n            catch (e) \n            { \n                try \n                { \n                    xmlHttp = new ActiveXObject(\"Microsoft.XMLHTTP\"); \n                } \n                catch (e) \n                { \n                    alert(\"No Ajax for YOU!\"); \n                    return false; \n                } \n            } \n        } \n        xmlHttp.onreadystatechange = function() \n        { \n            if (xmlHttp.readyState == 4) { \n                ret_value=xmlHttp.responseText;\n                var myObject = eval('(' + ret_value + ')');\n                document.getElementById(\"result\").value=myObject(addend_1,addend_2);\n            }\n        }       \n        xmlHttp.open(\"POST\", \"http://yoururl/getjs.php\", true);\n        xmlHttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        xmlHttp.setRequestHeader(\"Content-length\", params.length);\n        xmlHttp.setRequestHeader(\"Connection\", \"close\");\n        xmlHttp.send(params);\n    }\n    &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>The other answers have it right.</p>\n\n<p>However, there is a library, <a href=\"http://www.xajax-project.org/\" rel=\"nofollow\">XAJAX</a>, that helps simulate the act of calling a PHP function from JavaScript, using AJAX and a particularly designed PHP library. </p>\n\n<p>It's a little complicated, and it would be much easier to learn to use $.get and $.post in jQuery, since they are better designed and simpler, and once you get your head around how they work, you won't feel the need to call PHP from JavaScript directly. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>PHP always runs before the page loads. JavaScript always runs after the page loads. They never run in tandem.</p>\n\n<p>The closest solution is to use AJAX or a browser redirect to call another .php file from the server.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to know is it possible to call a php function within javascript, only and only when a condition is true. For example</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nif (foo==bar)\n{\nphpFunction(); call the php function\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Is there any means of doing this.. If so let me know. Thanks</p>\n",
            "last_activity_date": 1333219358,
            "question_id": 4172976,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "ajax"
            ],
            "title": "Calling PHP Function within Javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Generally, it's not possible because a casper script runs inside only one phantomjs runtime. In your case it seems possible.</p>\n\n<p><strong>Note:</strong> Because this relies on a second casper instance, this cannot be used in a casper <em>test</em> environment.</p>\n\n<p>You can create a new casper instance (<code>casper2</code>) inside one step of the outer casper instance (<code>casper1</code>). You then have to instruct <code>casper1</code> to wait for completion of the <code>casper2</code> instance, since casper is asynchronous in nature. Keep in mind that this is exactly like a new tab, so the instances will share the cache, cookies and storage.</p>\n\n<p>Here is an sample script:</p>\n\n<pre><code>var casper1 = require('casper').create();\nvar casper2done = false;\n\ncasper1.start(\"http://www.example.com\").then(function(){\n    casper1.capture(\"casper1_1.png\");\n    var casper2 = require('casper').create();\n    casper2.start(\"http://stackoverflow.com/contact\").then(function(){\n        casper1.echo(casper2.getCurrentUrl(), casper2.getTitle());\n        casper2.capture(\"casper2.png\");\n    }).run(function(){\n        this.echo(\"DONE 2\");\n        casper2done = true;\n    });\n}).waitFor(function check(){\n    return casper2done;\n}).then(function(){\n    casper1.echo(casper1.getCurrentUrl(), casper1.getTitle()); // Comment to fix answer (min 6 chars)\n    casper1.capture(\"casper1_2.png\");\n}).run(function(){\n    this.echo(\"DONE\");\n    this.exit();\n});\n</code></pre>\n\n<p>Here I use the promise chaining/builder pattern. You can even make your own function to hide the complexity and make it repeatedly usable:</p>\n\n<pre><code>var casper = require('casper').create();\n\n// IIFE to hide casper2done variable\n(function(casper){\n    var casper2done = false;\n    casper.newTab = function(url, then, timeout){\n        if (typeof url !== \"string\" || typeof then !== \"function\") {\n            throw \"URL or then callback are missing\";\n        }\n        this.then(function(){\n            var casper2 = require('casper').create();\n            casper2.start(url).then(then).run(function(){\n                casper2done = true;\n            });\n        }).waitFor(function check(){\n            return casper2done;\n        }, null, null, timeout).then(function(){\n            casper2done = false;\n        });\n        return this;\n    };\n})(casper);\n\ncasper.start(\"http://www.example.com\").newTab(\"http://stackoverflow.com/contact\", function(){\n    // this is casper2\n    this.echo(this.getCurrentUrl(), this.getTitle());\n    this.capture(\"casper2_1.png\");\n    this.thenClick(\"a#nav-askquestion\");\n    this.then(function(){\n        this.echo(this.getCurrentUrl(), this.getTitle());\n        this.capture(\"casper2_2.png\");\n    });\n}, 15000).then(function(){\n    // this is casper\n    this.echo(casper.getCurrentUrl(), casper.getTitle());\n    this.capture(\"casper1.png\");\n}).run(function(){\n    this.echo(\"DONE\");\n    this.exit();\n});\n</code></pre>\n\n<p>You can use multiple steps in your <em>child</em> casper instance, but don't forget to specify a good timeout.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am using CasperJS testing framework to make some test suite since almost a month now, but I am facing a problem in one of them.</p>\n\n<p>Here is what I want to do: I am browsing a url (page1) and I have to make another action from an another url (simulate a new tab like we have on our graphics browser) without quitting the first one (page1). The action from the second url is going to change my first one. Hope it's clear enough :)</p>\n\n<p>So for now when I reach the step to observe that on my first url I open the second one by doing a <code>thenOpen()</code>, so it's making a new navigation step and I am losing the current session and I cannot come back on it. I try many way such as using the history, reopen the page, using the event from CasperJS and also I try with PhantomJS but without success.</p>\n\n<p>Here is some pseudo code to make it clearer:</p>\n\n<pre><code>casper.test.begin(\"A random test suite\", 0, function testSuite(test) {\n    casper.start(url1, function () {\n        casper.then(function() {\n            // do some action on the first url\n        });\n\n        casper.then(function () {\n            // open url2 and do some action in a new tab to not lose the session of url1\n        });\n\n        casper.then(function () {\n            // check url1 (who should be still open)\n        });\n    });\n\n    casper.run(function () {\n        test.done();\n    });\n});\n</code></pre>\n\n<p>I really would like to use CasperJS to do that but I start to think it is not possible, and I am starting to look in different solution such as this post: \n<a href=\"http://stackoverflow.com/questions/22513730/casperjs-parallel-browsing-with-the-testing-framework\">CasperJS, parallel browsing WITH the testing framework</a>. But I have never use node.js before so if it's the only way please show me some example.</p>\n",
            "last_activity_date": 1408554615,
            "question_id": 24880671,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "casperjs"
            ],
            "title": "How to open a new tab in CasperJS"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>three.js was designed to be easy to use, not easy to modify. This may change in the future... </p>\n\n<p>You need to set the <code>material.defines</code> like so: </p>\n\n<pre><code>var defines = {};\n\ndefines[ \"USE_MAP\" ] = \"\";. \n</code></pre>\n\n<p>Then specify <code>defines</code> in the material constructor.</p>\n\n<pre><code>var material =  new THREE.ShaderMaterial({\n   name: \"TerrainShader\",\n   defines     : defines,\n   uniforms    : shaderUniforms,\n   vertexShader: THREE.MyShader.vertexShader,\n   fragmentShader: THREE.MyShader.fragmentShader,\n   fog:false,\n   lights:true\n});\n</code></pre>\n\n<p>Regarding the texture repetitions, you need to add the repeat to your uniforms:</p>\n\n<pre><code>shaderUniforms[ \"offsetRepeat\" ].value.set( 0, 0, 2, 2 );\n</code></pre>\n\n<p>three.js r.66</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I noticed that THREE.js uses shaders internally to create core material \"e.g. MeshLambertMaterial\", So I decided to copy the lambert shader from Three.js code into a new shader and build on it.</p>\n\n<p>This is the code I got (Copied faithfully from Three.js r66)</p>\n\n<pre><code>THREE.MyShader = {\n\nuniforms: THREE.UniformsUtils.merge( [\n    THREE.UniformsLib[ \"common\" ],\n    THREE.UniformsLib[ \"fog\" ],\n    THREE.UniformsLib[ \"lights\" ],\n    THREE.UniformsLib[ \"shadowmap\" ],\n    {\n        \"ambient\"  : { type: \"c\", value: new THREE.Color( 0xffffff ) },\n        \"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) },\n        \"wrapRGB\"  : { type: \"v3\", value: new THREE.Vector3( 1, 1, 1 ) }\n    }\n]),\n\nvertexShader: [\n\n    \"#define LAMBERT\",\n\n    \"varying vec3 vLightFront;\",\n\n    \"#ifdef DOUBLE_SIDED\",\n\n        \"varying vec3 vLightBack;\",\n\n    \"#endif\",\n\n    THREE.ShaderChunk[ \"map_pars_vertex\" ],\n    THREE.ShaderChunk[ \"lightmap_pars_vertex\" ],\n    THREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n    THREE.ShaderChunk[ \"lights_lambert_pars_vertex\" ],\n    THREE.ShaderChunk[ \"color_pars_vertex\" ],\n    THREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n    THREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n    THREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\n    \"void main() {\",\n\n        THREE.ShaderChunk[ \"map_vertex\" ],\n        THREE.ShaderChunk[ \"lightmap_vertex\" ],\n        THREE.ShaderChunk[ \"color_vertex\" ],\n\n        THREE.ShaderChunk[ \"morphnormal_vertex\" ],\n        THREE.ShaderChunk[ \"skinbase_vertex\" ],\n        THREE.ShaderChunk[ \"skinnormal_vertex\" ],\n        THREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\n        THREE.ShaderChunk[ \"morphtarget_vertex\" ],\n        THREE.ShaderChunk[ \"skinning_vertex\" ],\n        THREE.ShaderChunk[ \"default_vertex\" ],\n\n        THREE.ShaderChunk[ \"worldpos_vertex\" ],\n        THREE.ShaderChunk[ \"envmap_vertex\" ],\n        THREE.ShaderChunk[ \"lights_lambert_vertex\" ],\n        THREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\n    \"}\"\n\n].join(\"\\n\"),\n\nfragmentShader: [\n\n    \"uniform float opacity;\",\n\n    \"varying vec3 vLightFront;\",\n\n    \"#ifdef DOUBLE_SIDED\",\n\n        \"varying vec3 vLightBack;\",\n\n    \"#endif\",\n\n    THREE.ShaderChunk[ \"color_pars_fragment\" ],\n    THREE.ShaderChunk[ \"map_pars_fragment\" ],\n    THREE.ShaderChunk[ \"lightmap_pars_fragment\" ],\n    THREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n    THREE.ShaderChunk[ \"fog_pars_fragment\" ],\n    THREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n    THREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\n\n\n    \"void main() {\",\n\n        \"gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\",\n\n        THREE.ShaderChunk[ \"map_fragment\" ],\n        THREE.ShaderChunk[ \"alphatest_fragment\" ],\n        THREE.ShaderChunk[ \"specularmap_fragment\" ],\n\n        \"#ifdef DOUBLE_SIDED\",\n\n            //\"float isFront = float( gl_FrontFacing );\",\n            //\"gl_FragColor.xyz *= isFront * vLightFront + ( 1.0 - isFront ) * vLightBack;\",\n\n            \"if ( gl_FrontFacing )\",\n                \"gl_FragColor.xyz *= vLightFront;\",\n            \"else\",\n                \"gl_FragColor.xyz *= vLightBack;\",\n\n        \"#else\",\n\n            \"gl_FragColor.xyz *= vLightFront;\",\n\n        \"#endif\",\n\n        THREE.ShaderChunk[ \"lightmap_fragment\" ],\n        THREE.ShaderChunk[ \"color_fragment\" ],\n        THREE.ShaderChunk[ \"envmap_fragment\" ],\n        THREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\n        THREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\n        THREE.ShaderChunk[ \"fog_fragment\" ],\n\n    \"}\"\n\n].join(\"\\n\")\n\n}\n</code></pre>\n\n<p>and this is the code that I use to setup my uniforms and create the material.</p>\n\n<pre><code>var textureUsed = 'rock_1';\nvar texture = THREE.ImageUtils.loadTexture( texturePath + textureUsed + \"/diffuse.png\");\ntexture.wrapS   = THREE.RepeatWrapping;\ntexture.wrapT   = THREE.RepeatWrapping;\ntexture.repeat.x = 128;\ntexture.repeat.y = 128;\nvar shaderUniforms = THREE.UniformsUtils.clone( THREE.MyShader.uniforms );\nshaderUniforms[ \"map\" ].value = texture;\nvar material =  new THREE.ShaderMaterial({\n                    name: \"TerrainShader\",\n                    uniforms    : shaderUniforms,\n                    vertexShader: THREE.MyShader.vertexShader,\n                    fragmentShader: THREE.MyShader.fragmentShader,\n                    fog:false,\n                    lights:true\n                });\n</code></pre>\n\n<p>The problem is that when I use these parameters to create a MeshLambertMaterial I get the correct lighting and texture repetitions, when I use it to create ShaderMaterial the lights and shadows seem to be working but the texture map isn't loaded, to fix this I dug through the code and managed to get the map to load by adding this ugly \"hack\" to my code, right after the material definition</p>\n\n<pre><code>material.map = true;\n</code></pre>\n\n<p>Now the texture is loaded and displayed but it looks like the texture coordinates are messed up, instead of repeating, the Shader seems to be ignoring the repeat values I supplied.</p>\n\n<p>Why did I need that hack to get my texture processed and what can I do to get the correct texture repetitions?</p>\n",
            "last_activity_date": 1392998827,
            "question_id": 21928178,
            "score": 3,
            "tags": [
                "javascript",
                "opengl-es",
                "three.js",
                "webgl",
                "shader"
            ],
            "title": "Replicating MeshLambertMaterial Using ShaderMaterial ignores textures"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I've updated your fiddle see: <a href=\"http://jsfiddle.net/eghpf/2/\" rel=\"nofollow\">http://jsfiddle.net/eghpf/2/</a></p>\n\n<p>I've added var <code>currentPosition</code> which is used in this method </p>\n\n<pre><code>function setSelectionRange(input, selectionStart, selectionEnd) {\n  if (input.setSelectionRange) {\n    input.focus();\n    input.setSelectionRange(selectionStart, selectionEnd);\n  }\n  else if (input.createTextRange) {\n    var range = input.createTextRange();\n    range.collapse(true);\n    range.moveEnd('character', selectionEnd);\n    range.moveStart('character', selectionStart);\n    range.select();\n  }\n}\n</code></pre>\n\n<p>Which comes from this <a href=\"http://stackoverflow.com/questions/499126/jquery-set-cursor-position-in-text-area\">jQuery Set Cursor Position in Text Area</a></p>\n\n<p>What happens (is the reason why the cursor is always on the last position); is when you call <code>$('#systemNotesbuilder').val(arrayOfLines.join(\"\\n\"));</code> the entire value gets overwritten with a new value placing the cursor after that new value. The call to set the cursor is (and should) be after that call.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to somewhat duplicate the \"autocorrect\" functionality seen in programs like Microsoft Office's Outlook.</p>\n\n<p>For starters, anytime a user types \"a \" (the letter a and a space) at the beginning of a line I want to change that text to \"*Agent [\" </p>\n\n<p>I have written the below which works fine if you are typing along in the textarea from top to bottom. <strong>But if you type anywhere else in the textarea the text is changed then the cursor moves to the end of the textarea.</strong></p>\n\n<p>I want the cursor to always be placed at the end of the changed text.</p>\n\n<p>I have the line number that was changed in the variable <code>currentLineNumber</code> and i know the cursor needs to be after the 8th character in that line but I am unsure of how to tell it to go there </p>\n\n<p>Ideally id like to something like </p>\n\n<pre><code>function setCursor(row, position) {\n //.... code to set cursor \n}\n</code></pre>\n\n<p>What can I do to accomplish this? Im open to a javascript or jQuery solution (although I find jQuery a little difficult to read and understand)</p>\n\n<p>If there's a better way to achieve what I need overall, I'm open to that too.</p>\n\n<p>Here's a <a href=\"http://jsfiddle.net/eghpf/\" rel=\"nofollow\">jsFiddle</a> if you don't understand the issue</p>\n",
            "last_activity_date": 1374756924,
            "question_id": 17858174,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "cursor",
                "textarea",
                "textselection"
            ],
            "title": "set cursor to specific position on specific line in a textarea"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You don't need to make $http request in directive, better place for it is controller. </p>\n\n<p>You can specify method inside controller - <code>$scope.saveDeployment = function () { // here you make and handle your error on request ... };</code> you'll save error to scope and then create a directive that will watch <code>$scope.yourResponseObject</code> and set validity based on it.</p>\n\n<p>Also if you need something like request and error on input field blur instead, you need to create a simple directive with <code>elem.bind('blur', ...)</code> where you call <code>$scope.saveDeployment</code> with callback to handle validity.</p>\n\n<p>Take a look on the examples, there might be something similar - <a href=\"https://github.com/angular/angular.js/wiki/JsFiddle-Examples\" rel=\"nofollow\">https://github.com/angular/angular.js/wiki/JsFiddle-Examples</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>My solution was taken from Kosmetika's idea.</p>\n\n<p>I used the <code>angular-ui</code> project and set an <code>onBlur</code> callback that was on the controller which called the web service via <code>$http</code>.</p>\n\n<p>This set a controller/model property to true or false.</p>\n\n<p>I then had a <code>&lt;span&gt;</code> use <code>ng-show</code> to watch the controller/model property so when the web service returned it would show the user information</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Validating a form input field using an asynchronous <code>$http</code> ajax call is a common need, but I haven't found any implementations that were complete, reusable, and easy to use so I tried my best to make one.</p>\n\n<p>This functionality is especially useful for checking if a username, email, or other field/column is unique, but there are plenty of other use cases where a value must be validated with an ajax call (as in your example).</p>\n\n<p>My solution has the following features:</p>\n\n<ul>\n<li>Accepts a \"check\" function from the <code>$scope</code> that makes the <code>$http</code> call or any kind of validation (synchronous or asynchronous)</li>\n<li>Accepts a \"gate\" function from the <code>$scope</code> that allows the check to be bypassed based on the value or <code>ngModel</code> state.</li>\n<li>Debounces the \"check\" function's execution until the user has stopped typing</li>\n<li>Ensure that only the latest <code>$http</code> call result is used (in case multiple are fired and return out of order).</li>\n<li>Allows for state bindings so that the UI can respond appropriately and conveniently.</li>\n<li>Customizable debounce time, check/gate functions, binding names and validation name.</li>\n</ul>\n\n<p>My directive is <a href=\"https://github.com/m59peacemaker/angular-pmkr-components/tree/master/src/directives/validateCustom\" rel=\"nofollow\"><code>pmkr-validate-custom (GitHub)</code></a>. It can be used for any asynchronous validation. I've tested it in several <strong>versions as far back as 1.1.5</strong>.</p>\n\n<p>Here is a sample usage with Twitter Bootstrap in which I check if a username is unique. </p>\n\n<h2><a href=\"http://jsbin.com/qidiw/28/edit\" rel=\"nofollow\">Live Demo</a></h2>\n\n<pre><code>&lt;form name=\"the_form\" class=\"form-group has-feedback\"&gt;\n  &lt;div ng-class=\"{'has-success':userNameUnique.valid, 'has-warning':userNameUnique.invalid}\"&gt;\n    &lt;label for=\"user_name\"&gt;Username&lt;/label&gt;\n    &lt;input \n      name=\"user_name\" \n      ng-model=\"user.userName\" \n      pmkr-validate-custom=\"{name:'unique', fn:checkUserNameUnique, gate:gateUserNameUnique, wait:500, props:'userNameUnique'}\" \n      pmkr-pristine-original=\"\" \n      class=\"form-control\"\n    &gt;\n    &lt;span ng-show=\"userNameUnique.valid\" class=\"glyphicon glyphicon-ok form-control-feedback\"&gt;&lt;/span&gt;\n    &lt;span ng-show=\"userNameUnique.invalid\" class=\"glyphicon glyphicon-warning-sign form-control-feedback\"&gt;&lt;/span&gt;\n    &lt;i ng-show=\"userNameUnique.pending\" class=\"glyphicon glyphicon-refresh fa-spin form-control-feedback\"&gt;&lt;/i&gt;\n    &lt;p ng-show=\"userNameUnique.valid\" class=\"alert alert-success\"&gt;\"{{userNameUnique.checkedValue}}\" is availiable.&lt;/p&gt;\n    &lt;p ng-show=\"userNameUnique.invalid\" class=\"alert alert-warning\"&gt;\"{{userNameUnique.checkedValue}}\" is not availiable.&lt;/p&gt;\n    &lt;button \n      ng-disabled=\"the_form.$invalid || the_form.user_name.$pristine || userNameUnique.pending\" \n      class=\"btn btn-default\"\n    &gt;Submit&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Sample controller:</p>\n\n<pre><code>// Note that this ought to be in a service and referenced to $scope. This is just for demonstration.\n$scope.checkUserNameUnique = function(value) {\n  return $http.get(validationUrl+value).then(function(resp) {\n    // use resp to determine if value valid\n    return isValid; // true or false\n  });\n}\n\n// The directive is gated off when this function returns true.\n$scope.gateUserNameUnique = function(value, $ngModel) {\n  return !value || $ngModel.$pristine;\n};\n</code></pre>\n\n<p>If I make any improvements, they will be up-to-date on <a href=\"https://github.com/m59peacemaker/angular-pmkr-components/tree/master/src/directives/validateCustom\" rel=\"nofollow\">GitHub</a>, but I am also going to put the code here for this directive and its dependencies (may not be updated). I welcome suggestions or issues though <a href=\"https://github.com/m59peacemaker/angular-pmkr-components/issues\" rel=\"nofollow\">GitHub issues</a>!</p>\n\n<pre><code>angular.module('pmkr.validateCustom', [\n  'pmkr.debounce'\n])\n\n.directive('pmkrValidateCustom', [\n  '$q',\n  'pmkr.debounce',\n  function($q, debounce) {\n\n    var directive = {\n      restrict: 'A',\n      require: 'ngModel',\n      // set priority so that other directives can change ngModel state ($pristine, etc) before gate function\n      priority: 1,\n      link: function($scope, $element, $attrs, $ngModel) {\n\n        var opts = $scope.$eval($attrs.pmkrValidateCustom);\n\n        // this reference is used as a convenience for $scope[opts.props]\n        var props = {\n          pending : false,\n          validating : false,\n          checkedValue : null,\n          valid : null,\n          invalid : null\n        };\n        // if opts.props is set, assign props to $scope\n        opts.props &amp;&amp; ($scope[opts.props] = props);\n\n        // debounce validation function\n        var debouncedFn = debounce(validate, opts.wait);\n        var latestFn = debounce.latest(debouncedFn);\n\n        // initially valid\n        $ngModel.$setValidity(opts.name, true);\n\n        // track gated state\n        var gate;\n\n        $scope.$watch(function() {\n          return $ngModel.$viewValue;\n        }, valueChange);\n\n        // set model validity and props based on gated state\n        function setValidity(isValid) {\n          $ngModel.$setValidity(opts.name, isValid);\n          if (gate) {\n            props.valid = props.invalid = null;\n          } else {\n            props.valid = !(props.invalid = !isValid);\n          }\n        }\n\n        function validate(val) {\n          if (gate) { return; }\n          props.validating = true;\n          return opts.fn(val);\n        }\n\n        function valueChange(val) {\n\n          if (opts.gate &amp;&amp; (gate = opts.gate(val, $ngModel))) {\n            props.pending = props.validating = false;\n            setValidity(true);\n            return;\n          }\n\n          props.pending = true;\n          props.valid = props.invalid = null;\n\n          latestFn(val).then(function(isValid) {\n            if (gate) { return; }\n            props.checkedValue = val;\n            setValidity(isValid);\n            props.pending = props.validating = false;\n          });\n\n        }\n\n      } // link\n\n    }; // directive\n\n    return directive;\n\n  }\n])\n\n;\n\nangular.module('pmkr.debounce', [])\n\n.factory('pmkr.debounce', [\n  '$timeout',\n  '$q',\n  function($timeout, $q) {\n\n    var service = function() {\n      return debounceFactory.apply(this, arguments);\n    };\n    service.immediate = function() {\n      return debounceImmediateFactory.apply(this, arguments);\n    };\n    service.latest = function() {\n      return debounceLatestFactory.apply(this, arguments);\n    };\n\n    function debounceFactory(fn, wait) {\n\n      var timeoutPromise;\n\n      function debounced() {\n\n        var deferred = $q.defer();\n\n        var context = this;\n        var args = arguments;\n\n        $timeout.cancel(timeoutPromise);\n\n        timeoutPromise = $timeout(function() {\n          deferred.resolve(fn.apply(context, args));\n        }, wait);\n\n        return deferred.promise;\n\n      }\n\n      return debounced;\n\n    }\n\n    function debounceImmediateFactory(fn, wait) {\n\n      var timeoutPromise;\n\n      function debounced() {\n\n        var deferred = $q.defer();\n\n        var context = this;\n        var args = arguments;\n\n        if (!timeoutPromise) {\n          deferred.resolve(fn.apply(context, args));\n          // return here?\n        }\n\n        $timeout.cancel(timeoutPromise);\n        timeoutPromise = $timeout(function() {\n          timeoutPromise = null;\n        }, wait);\n\n        return deferred.promise;\n\n      }\n\n      return debounced;\n\n    }\n\n    function debounceLatestFactory(fn) {\n\n      var latestArgs;\n\n      function debounced() {\n\n        var args = latestArgs = JSON.stringify(arguments);\n\n        var deferred = $q.defer();\n\n        fn.apply(this, arguments).then(function(res) {\n          if (latestArgs === args) {\n            deferred.resolve(res);\n          }\n        }, function(res) {\n          if (latestArgs === args) {\n            deferred.reject(res);\n          }\n        });\n\n        return deferred.promise;\n\n      }\n\n      return debounced;\n\n    }\n\n    return service;\n\n  }\n])\n\n;\n\nangular.module('pmkr.pristineOriginal', [])\n\n.directive('pmkrPristineOriginal', [\n  function() {\n\n    var directive = {\n      restrict : 'A',\n      require : 'ngModel',\n      link: function($scope, $element, $atts, $ngModel) {\n\n        var pristineVal = null;\n\n        $scope.$watch(function() {\n          return $ngModel.$viewValue;\n        }, function(val) {\n          // set pristineVal to newVal the first time this function runs\n          if (pristineVal === null) {\n            pristineVal = $ngModel.$isEmpty(val) ? '' : val.toString();\n          }\n\n          // newVal is the original value - set input to pristine state\n          if (pristineVal === val) {\n            $ngModel.$setPristine();\n          }\n\n        });\n\n      }\n    };\n\n    return directive;\n\n  }\n])\n\n;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a form that looks like this:</p>\n\n<pre><code>&lt;form name=\"myForm\" ng-submit=\"saveDeployment()\"&gt;\n    &lt;input type=\"hidden\" value=\"{{item.CloneUrl}}\" name=\"cloneurl\" /&gt;\n    &lt;input type=\"hidden\" value=\"{{Username}}\" name=\"username\" /&gt;\n\n    &lt;input type=\"radio\" name=\"deploymenttype\" ng-model=\"item.deploymentType\" value=\"azure\" checked=\"checked\"&gt;Azure \n    &lt;br /&gt;\n    &lt;input type=\"radio\" name=\"deploymenttype\" ng-model=\"item.deploymentType\" value=\"ftp\"&gt;FTP\n\n    &lt;div id=\"azure\" ng-show=\"item.deploymentType=='azure'\"&gt;\n        &lt;label for=\"azurerepo\"&gt;Azure Git Repo&lt;/label&gt;\n        &lt;input type=\"text\" name=\"azurerepo\" ng-model=\"item.azurerepo\" ng-class=\"{error: myForm.azurerepo.$invalid}\" ng-required=\"item.deploymentType=='azure'\" /&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"ftp\" ng-show=\"item.deploymentType=='ftp'\"&gt;\n        &lt;label for=\"ftpserver\"&gt;FTP Server&lt;/label&gt;\n        &lt;input type=\"text\" name=\"ftpserver\" ng-model=\"item.ftpserver\" ng-class=\"{error: myForm.ftpserver.$invalid}\" ng-required=\"item.deploymentType=='ftp'\"  /&gt;\n\n        &lt;label for=\"ftppath\"&gt;FTP Path&lt;/label&gt;\n        &lt;input type=\"text\" name=\"ftppath\" ng-model=\"item.ftppath\" ng-class=\"{error: myForm.ftppath.$invalid}\" ng-required=\"item.deploymentType=='ftp'\" /&gt;\n\n        &lt;label for=\"ftpusername\"&gt;FTP Username&lt;/label&gt;\n        &lt;input type=\"text\" name=\"ftpusername\" ng-model=\"item.ftpusername\" ng-class=\"{error: myForm.ftpusername.$invalid}\" ng-required=\"item.deploymentType=='ftp'\"/&gt;\n\n        &lt;label for=\"ftppassword\"&gt;FTP Password&lt;/label&gt;\n        &lt;input type=\"password\" name=\"ftppassword\" ng-model=\"item.ftppassword\" ng-class=\"{error: myForm.ftppassword.$invalid}\" ng-required=\"item.deploymentType=='ftp'\"/&gt;\n    &lt;/div&gt;\n\n    &lt;input type=\"submit\" value=\"Save\" ng-disabled=\"myForm.$invalid\"/&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Its setup so that the required fields and Save button are all working once data is entered. However, part of my validation will be, <code>\"Is the user already registered?\"</code> where I will use the data entered to hit the server via POST using $http.</p>\n\n<p>Should I put that logic in the <code>saveDeployment()</code> function or is there a better place to put it?</p>\n\n<p>*<strong><em>UPDATE:</em>*</strong></p>\n\n<p>I've implemented the below which is applied as an attribute on a element but it calls the server/database on every key press which I don't like:</p>\n\n<pre><code> app.directive('repoAvailable', function ($http, $timeout) { // available\n        return {\n            require: 'ngModel',\n            link: function (scope, elem, attr, ctrl) {\n                console.log(ctrl);\n                ctrl.$parsers.push(function (viewValue) {\n                    // set it to true here, otherwise it will not \n                    // clear out when previous validators fail.\n                    ctrl.$setValidity('repoAvailable', true);\n                    if (ctrl.$valid) {\n                        // set it to false here, because if we need to check \n                        // the validity of the email, it's invalid until the \n                        // AJAX responds.\n                        ctrl.$setValidity('checkingRepo', false);\n\n                        // now do your thing, chicken wing.\n                        if (viewValue !== \"\" &amp;&amp; typeof viewValue !== \"undefined\") {\n                            $http.post('http://localhost:12008/alreadyregistered',viewValue) //set to 'Test.json' for it to return true.\n                                .success(function (data, status, headers, config) {\n                                    ctrl.$setValidity('repoAvailable', true);\n                                    ctrl.$setValidity('checkingRepo', true);\n                                })\n                                .error(function (data, status, headers, config) {\n                                    ctrl.$setValidity('repoAvailable', false);\n                                    ctrl.$setValidity('checkingRepo', true);\n                                });\n                        } else {\n                            ctrl.$setValidity('repoAvailable', false);\n                            ctrl.$setValidity('checkingRepo', true);\n                        }\n                    }\n                    return viewValue;\n                });\n\n            }\n        };\n    });\n</code></pre>\n",
            "last_activity_date": 1410454411,
            "question_id": 16810913,
            "score": 3,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive",
                "angularjs-scope"
            ],
            "title": "AngularJS custom form validation using $http"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You could <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Working_with_Objects#Defining_getters_and_setters\" rel=\"nofollow\">define a getter</a> for your property.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>Three solutions:</p>\n\n<ul>\n<li><p>Implement your object as a <a href=\"http://wiki.ecmascript.org/doku.php?id=harmony%3aproxies\" rel=\"nofollow\"><code>Proxy</code></a>, which is designed to do exactly what you want. Yet, it is only a draft and currently only <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow\">supported in Firefox' Javascript 1.8.5</a>.</p></li>\n<li><p>Always fill your translation object with a complete set of messages. When creating that \"dictionary\" (serverside or clientside), always include all needed keys. If no translation exists, you can use a fallback language, the message's name or the string representation of <code>undefined</code> - your choice.</p>\n\n<p>But a non-existing property should always mean \"there is no such message\" instead of \"no translation available\".</p></li>\n<li><p>Use a getter function with a string parameter instead of object properties. That function can look the messages up in an internal dictionary object, and handle misses programmatically.</p>\n\n<p>I would recommend a map object which is different from the dictionary, to allow \"get\" and co as message names:</p></li>\n</ul>\n\n<p></p>\n\n<pre><code>var translate = (function(){\n    var dict = {\n        something: \"somethingelse\",\n        ...\n    };\n    return {\n        exists: function(name) { return name in dict; },\n        get: function(name) { return this.exists(name) ? dict[name] : \"undefined\"; },\n        set: function(name, msg) { dict[name] = msg; }\n    };\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>var tr={};\ntr.SomeThing='SomeThingElse';\nconsole.log(tr.SomeThing); // SomeThingElse\nconsole.log(tr.Other); // undefined\n\ntr.get=function(what){\n    if (tr.hasOwnProperty(what)) return tr[what];\n    else return what;\n};\ntr.get('SomeThing') // SomeThingElse\ntr.get('Other') // Other\n</code></pre>\n\n<p>Is there any way to make tr.Other or tr['Other'] and all other undefined properties of the object to return its name instead undefined?</p>\n",
            "last_activity_date": 1342532096,
            "question_id": 11503666,
            "score": 3,
            "tags": [
                "javascript",
                "object",
                "getter"
            ],
            "title": "Set undefined javascript property before read"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If you want to detect AJAX-created nodes your options (besides Mutation events which you are wise to rule out) are:</p>\n\n<ol>\n<li>Polling with an interval or timer.</li>\n<li>Trying to hook into the page's AJAX requests (if any).</li>\n<li>Splicing into, hijacking, or replacing the page's javascript.</li>\n</ol>\n\n<p>I've done all of these at one time and all but one have major drawbacks:</p>\n\n<ol>\n<li>Splicing into the page's javascript is not always easy (especially with anonymous functions), usually requires complicated deconstruction of that code, and is brittle as heck.  A page's javascript changes without notice.</li>\n<li>Hooking into the page's AJAX requests can sometimes be pretty easy, but transferring the information across the sandbox barrier usually makes it more trouble than it's worth.</li>\n<li>Polling works darn well in practice, is simple to implement, and usually low cost.  </li>\n</ol>\n\n<p>I recommend you use <a href=\"https://gist.github.com/2625891\">the waitForKeyElements() utility</a> and be done with it.\nIt's very easy to use.  For example:</p>\n\n<pre><code>// ==UserScript==\n// @name    Highlight good comments\n// @include http://SOME_SITE/*\n// @require http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\n// @require https://gist.github.com/raw/2625891/waitForKeyElements.js\n// ==/UserScript==\n\nfunction highlightGoodComments (jNode) {\n    if (/beer/i.test (jNode.text () ) ) {\n        jNode.css (\"background\", \"yellow\");\n    }\n}\n\nwaitForKeyElements (\"#userBlather div.comment\", highlightGoodComments);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I'm trying to write a Greasemonkey script that alters keywords in Twitter posts. Trouble is, the content is \"late loading\" and is added to at the users request.</p>\n\n<p>If I were adding event listeners to the added elements, I could use JQuery's <code>delegate()</code>. As I simply want to change the content when it loads, this doesn't appear to be appropriate.</p>\n\n<p>Mutation Events seem to fit the bill. They are Gecko specific, but this doesn't matter much for a Greasemonkey script. Problem is, <a href=\"https://developer.mozilla.org/en/DOM/Mutation_events\" rel=\"nofollow\">they have been depreciated</a> and for a set of <a href=\"http://lists.w3.org/Archives/Public/public-webapps/2011JulSep/0779.html\" rel=\"nofollow\">very good reasons</a>.</p>\n\n<p>Of course I could use a timer and poll the DOM at regular intervals, but this just seems icky.</p>\n\n<p>How can I detect additions to the DOM and react to the inserted elements?</p>\n",
            "last_activity_date": 1385531685,
            "question_id": 10664669,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "twitter",
                "greasemonkey",
                "mutation-events"
            ],
            "title": "How can I detect AJAX node insertion without using DOM mutation events?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can make a recursive loop function, but you'd have a problem: when a property is an object, there is no text to display because there is no string. So, you'll end up with:</p>\n\n<pre><code>- - value11\n  - value12\n- value2\n- value3\n</code></pre>\n\n<p>because while <code>value2</code> is the string to display for item #2, it is an object that's displayed for item #1.</p>\n\n<p>Anyway, this is what I made up: <a href=\"http://jsfiddle.net/uXww2/\" rel=\"nofollow\">http://jsfiddle.net/uXww2/</a>.</p>\n\n<pre><code>// obj is the object to loop, ul is the ul to append lis to\nfunction loop(obj, ul) {\n    $.each(obj, function(key, val) {\n        if(val &amp;&amp; typeof val === \"object\") { // object, call recursively\n            var ul2 = $(\"&lt;ul&gt;\").appendTo(\n                $(\"&lt;li&gt;\").appendTo(ul)\n            );\n\n            loop(val, ul2);\n        } else {\n            $(\"&lt;li&gt;\", {\n                id: key\n            }).text(val).appendTo(ul);\n        }\n    });\n}\n\n$.getJSON('test.json', function(data) {\n  var ul = $(\"&lt;ul&gt;\");\n\n  loop(data, ul);\n\n  ul.addClass(\"my-new-list\").appendTo('body');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>so, what you want is a treeview looping through a json object</p>\n\n<p>you can use this code i made myself recursively, test it ;)</p>\n\n<pre><code>var treestring      = \"\";\nvar myid            = \"arv\";\nvar json_object     = {your json}; \n\nvar Tree = function (data) {\n   this.data = data;\n};\n\n//1st step\nTree.renderTree(json_object, myid);\n\n//2st step , this is a function\nTree.renderTree= function (json_object, myid) {\n    $.each(json_object, function (key, val) {\n        var m = new Tree(val);\n        m.render(myid);\n    });       \n}\n\n//3st step, this a function too\nTree.prototype.render = function (myid) {\n    treestring = \"&lt;li class='category'&gt; \" + this.data.Name;\n    //Check if has another arrays inside the current\n    if (this.data.SubFolders) {\n        treestring += \"&lt;ul id=\" + this.data.ID + \"&lt;/ul&gt;\";\n        $(\"#\" + myid).append(treestring);\n        myid = this.data.ID;\n        Tree.renderTree(this.data.Sub_Fodlers, myid);\n    }\n    else {\n        treestring += \"&lt;/li&gt;\";\n        $(\"#\" + myid).append(treestring);\n    }\n};\n\n\n//HTML\n&lt;div id=\"tree\"&gt; \n     &lt;ul id=\"arv\"&gt;&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>//this.data.{something} ate the fields defined in your json object</p>\n\n<p>enjoy ;)</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I currently have this:</p>\n\n<pre><code>    $.getJSON('test.json', function(data) {\n      var items = [];\n\n      $.each(data, function(key, val) {\n        items.push('&lt;li id=\"' + key + '\"&gt;' + val + '&lt;/li&gt;');\n      });\n\n      $('&lt;ul/&gt;', {\n        'class': 'my-new-list',\n        html: items.join('')\n      }).appendTo('body');\n    });\n</code></pre>\n\n<p>test.json looks like this:</p>\n\n<p><code>{\"key1\":{\"key11\":\"value11\",\"key12\":\"value12\"},\"key2\":\"value2\",\"key3\":\"value3\"}</code></p>\n\n<p>I'm getting:</p>\n\n<pre><code>[object Object]\nvalue2\nvalue3\n</code></pre>\n\n<p>How can I change it so it will loop through all the nested items regardless of how many nested values I have?</p>\n\n<p>So for the above example I will get</p>\n\n<pre><code>value1\n    value11\n    value12\nvalue2\nvalue3\n</code></pre>\n",
            "last_activity_date": 1398784557,
            "question_id": 8553539,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "jQuery JSON looping through nested objects"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can try something like this:</p>\n\n<pre><code>function Dog(name,id) {\n   var self = this;   // &lt;---- NEW BIT saving a reference to this\n   this.name = name || \"spot\"; // &lt;-- unrelated tidy-up to use || instead of ?:\n   this.id = id || \"dog\";\n   this.el = document.getElementById(this.id); // given there is a div with a matching    \n   this.el.addEventListener(\"click\",function(){ self.speak(); });\n        // ignore IE for simplicity (attachEvent has its own 'this' scope issues)\n}\n</code></pre>\n\n<p>Through the magic of closures the anonymous function I've added within <code>addEventListener()</code> has access to the scope of the containing function even after the containing function returns, so it is able to use <code>self</code> which holds a reference to the original object saved from <code>this</code> when <code>Dog()</code> was called as a constructor.</p>\n\n<p>EDIT: Sorry, I didn't directly address the questions you numbered (1) and (2), but as you can see you don't need global variables to fix this this issue. With the technique I described you could instantiate 100 dogs and they'd all work. (Well, they'd all speak anyway: they'd all work if you added <code>Dog.prototype.work = function() { }</code>.)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\">https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind</a></p>\n\n<pre><code> this.el.addEventListener(\"click\", this.speak.bind(this));\n</code></pre>\n\n<p>This way is preferable because it doesn't require allocating a scope in order to pass the binding. Scope allocation is one of the more costly things in JS.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p><em>\"1) What are some strategies for attaching objects to html elements...\"</em></p>\n</blockquote>\n\n<p>Since you're using <code>.addEventListener()</code>, I'd suggest taking advantage of a feature of it that few people seem to know about... making your <code>Dog</code> object implement the <code>EventListener</code> interface.</p>\n\n<p>This establishes a very clean relationship between your <code>Dog</code> data and its associated element. </p>\n\n<p>Only minor changes are required. Code first... explanation below.</p>\n\n<hr>\n\n<p><em><strong>DEMO:</em></strong> <a href=\"http://jsfiddle.net/Ewgw5/1/\" rel=\"nofollow\">http://jsfiddle.net/Ewgw5/1/</a></p>\n\n<pre><code>function Dog(name,id) {\n    this.name = name ? name : \"spot\";\n    this.id = id ? id : \"dog\";\n    this.el = document.getElementById(this.id);\n\n    // ---------------------------------v----no function!\n    this.el.addEventListener(\"click\", this);\n}\n\nDog.prototype = {\n    // Implement the `EventListener` interface   \n    handleEvent: function(event) {\n        switch (event.type) {\n            case \"click\": return this.speak();\n        }\n    },\n    speak: function() {\n        console.log(\"this.name: \"+this.name+\"\\nmyDog.name: \"+myDog.name);\n    }\n};\n\nvar myDog = new Dog(\"tye\",\"dog1\");\n</code></pre>\n\n<hr>\n\n<p>So all I did was pass <code>this</code> in the constructor to <code>addEventListener()</code> instead of passing a function, and then I added a <code>handleEvent()</code> method to <code>Dog.prototype</code>.</p>\n\n<p>Now when a <code>\"click\"</code> event occurs, it will invoke the <code>handleEvent()</code> method. The value of <code>this</code> in that method will be your <code>Dog</code> instance. So from there you can call whatever method(s) you need.</p>\n\n<p>Because you made the element a property of <code>this</code>, you can access the element via <code>this.el</code>. But that's technically not even necessary, since the element is also available via the <code>event</code> object as <code>event.currentTarget</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>\"2) Are global variables in this case a necessary evil...\"</em></p>\n</blockquote>\n\n<p>Thankfully no!</p>\n\n<hr>\n\n<p>This behavior should be part of your shim for <code>.addEventListener()</code>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I've generalized my lack of understanding of the situation to this small problem. Here's what I think I know so far: </p>\n\n<p>I have an object <code>myDog</code> (a global variable). <code>Dog</code> has a member variable <code>el</code> that is an html element; because it's an element, I can add event listeners to it. So, when you click on <code>myDog.el</code>, it logs to the console the values of <code>this.name</code> and <code>myDog.name</code>. As expected because of scope, <code>this.name</code> is undefined and <code>myDog.name</code> is 'tye'. <code>this</code> inside of <code>Dog.speak</code> when invoked by the click event listener refers to the element that was clicked, the member variable <code>el</code>, not the object <code>Dog</code>. Since <code>myDog</code> is a global variable, it's able to pick back up regardless of the function's scope and get to <code>myDog.name</code> just fine.</p>\n\n<p>See code below:</p>\n\n<pre><code>function Dog(name,id) {\n    this.name = name ? name : \"spot\";\n    this.id = id ? id : \"dog\";\n    this.el = document.getElementById(this.id); // given there is a div with a matching    \n    this.el.addEventListener(\"click\",this.speak); // ignore IE for simplicity (attachEvent has its own 'this' scope issues)\n}\n\nDog.prototype = {\n    speak: function() {\n        console.log(\"this.name: \"+this.name+\"\\nmyDog.name: \"+myDog.name);\n    }\n};\n\nvar myDog = new Dog(\"tye\",\"dog1\");\n</code></pre>\n\n<p>So... my questions are</p>\n\n<p>1) What are some strategies for attaching objects to html elements, so that I can go from <code>this.el</code> back to <code>myDog</code> (<code>this.el</code>'s owner) without <code>myDog</code> being a global variable? </p>\n\n<p>2) Are global variables in this case a necessary evil? And if so, what are so good strategies in this case to gracefully use them? For example, what if I wanted 100 dogs instantiated? How would I handle all those global variables in <code>Dog.speak</code>?</p>\n\n<p>Here's a jsfiddle version if you want to play with it: <a href=\"http://jsfiddle.net/chadhutchins/Ewgw5/\" rel=\"nofollow\">http://jsfiddle.net/chadhutchins/Ewgw5/</a></p>\n",
            "last_activity_date": 1368364769,
            "question_id": 8336779,
            "score": 3,
            "tags": [
                "javascript",
                "oop",
                "events",
                "scope"
            ],
            "title": "Dealing with Scope in Object methods containing &#39;this&#39; keyword called by Event Listeners "
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In general <strong>setInterval == BAD</strong> and <strong>setTimeout == GOOD</strong> for animations. </p>\n\n<p><strong>setInterval</strong> will try play catchup, as <strong>nnnnnn</strong> stated:</p>\n\n<blockquote>\n  <p>some browsers may queue everything and then try to catch up when your\n  tab gets focus again</p>\n</blockquote>\n\n<p>You best method for looping animate() is by calling recursively, for example:</p>\n\n<pre><code>var myTimeout;\n\nvar myAnimation = function () {\n\n    $('#myID').animate({\n        [propertyKey]:[propertyValue]\n    }, 5000, function() {\n        myTimeout = setTimeOut(myAnimation, 1000);\n    });\n}\n</code></pre>\n\n<p>Notice how the <strong>myTimeout</strong> is held outside the scope of <strong>myAnnimation</strong> allowing the ability to stop the animation</p>\n\n<pre><code>clearTimeout(myTimeout);\n</code></pre>\n\n<p>Which you could hook up to the <strong>window.unload</strong> event.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I had some problems with animations with jQuery 1.6. I solved it with jQuery 1.5.</p>\n\n<p>In my project I used <code>setInterval()</code> to make custom logo slider. Animations fired up instantly (not simultaneously) two by two. Everything goes smoothly when I am on the page, but when I went on other tab and comeback (after minute, two or so) to my page project everything goes crazy...</p>\n\n<p>Ok, so I got one answer to use <code>Queue()</code>. Can I achieve same thing with that method?</p>\n\n<p>I have book Manning jQuery in Action and there is nothing on instantly fired up animations with <code>Queue()</code>.</p>\n\n<p><a href=\"http://jsfiddle.net/dejancolic/Y5VdL/embedded/result/\" rel=\"nofollow\">Link to Jsfiddle</a> </p>\n\n<p>To quote some of that answer:</p>\n\n<blockquote>\n  <p>Because of the nature of requestAnimationFrame(), you should never queue animations using a setInterval or setTimeout loop.</p>\n</blockquote>\n",
            "last_activity_date": 1313985834,
            "question_id": 7142192,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "animation"
            ],
            "title": "Is setInterval() and setTimeout() bad things to do in modern jQuery animations?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You need to look at <a href=\"https://developer.mozilla.org/en/DOM/element.addEventListener\" rel=\"nofollow\"><code>addEventListener</code></a> and <a href=\"http://msdn.microsoft.com/en-us/library/ms536343.aspx\" rel=\"nofollow\"><code>attachEvent</code></a>, which are native implementations of your <code>addOnloadHandler</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>PPK's reference on addEventListener explains how do this pretty well:</p>\n\n<p><a href=\"http://www.quirksmode.org/js/events_advanced.html\" rel=\"nofollow\">http://www.quirksmode.org/js/events_advanced.html</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Thanks for the answers!</p>\n\n<p>I rewrote my script2.js using addEventListener and attachEvent like this:</p>\n\n<pre><code>//addOnloadHandler(initAll1); // it works only when uncommenting this\naddOnloadHandler(initAll2);\n\nfunction initAll2() {\n    alert(\"initAll2\");\n    if (linkHasOnclickHandler(document.getElementById(\"redirect\"))) {\n        alert(\"correct!\"); \n    }\n    else {\n        alert(\"wrong!\");\n    }\n}\n\nfunction addOnloadHandler(newFunction) {    \n    if (window.addEventListener) { // W3C standard\n        window.addEventListener('load', newFunction, false); // NB **not** 'onload'\n    }    \n    else if (window.attachEvent) { // Microsoft\n        window.attachEvent('onload', newFunction);\n    }\n}\n\nfunction linkHasOnclickHandler(element) {\n    var oldevent = document.getElementById(\"redirect\").onclick;\n    if (typeof oldevent == \"function\") {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>As you can see, addOnloadHandler() has been rewritten using the native implementations you guys mentioned. I left script1.js untouched. </p>\n\n<p>The resulting code still does not work (i.e., the \"wrong!\" alert message is shown). It only works when I register the onload initAll1() handler twice by uncommenting the first line of code in script2.js.</p>\n\n<p>Apparently, mixing </p>\n\n<pre><code>window.onload = handler1;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>window.addEventListener('load', handler2, false);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>window.attachEvent('onload', handler2);\n</code></pre>\n\n<p>does not work fine.</p>\n\n<p>Is there any way to work around this problem that does not imply touching script1.js? </p>\n\n<p>Just in case you wonder why I don't want to touch script1.js, the reason is that I want my code (script2.js) to be reusable in other projects as well, no matter which other js files each project uses. So, it should work with every possible event-handling registration method used in script1.js.</p>\n\n<p>thanks once more for your help!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just in case future people find this, and are looking for a way to use multiple event handlers when the object itself doesn't support <code>addEventListener</code>, <code>attachEvent</code> or some other form of listener stacking - i.e. it is a bespoke object, badly implemented. Then you can do the following:</p>\n\n<pre><code>object.onload = (function(pre){\n  return function(){\n    pre &amp;&amp; pre.apply(this,arguments);\n    /// do what you need for your listener here\n  }\n})(object.onload);\n</code></pre>\n\n<p>Each time you use the above code the previous <code>onload</code> listener is passed in as an argument, and when your new listener is triggered it runs the old listener first - meaning you can stack many listeners like this, <em>if you so wish</em>. However, this will only work for as long as the above code is always used to add listeners to your object. All your hard work will be undone if somewhere else it is overridden with a simple:</p>\n\n<pre><code>object.onload = function(){}\n</code></pre>\n\n<p>As a note to coders, if you are to implement a library, plugin or constructor, and it is possible other coders will take over your work. Please, please code the ability for multiple event listeners. <em>It's really not that difficult.</em></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have two js files, each one with its own window.onload handler. Depending on how I attach the two onload handlers to the window object I get a different behaviour on the second handler. </p>\n\n<p>More specifically, here is my html file:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n &lt;title&gt;Welcome to our site&lt;/title&gt;\n &lt;script type=\"text/javascript\" src=\"script1.js\"&gt; &lt;/script&gt;\n &lt;script type=\"text/javascript\" src=\"script2.js\"&gt; &lt;/script&gt;\n&lt;/head&gt;\n&lt;body id=\"pageBody\"&gt;\n &lt;h2 align=\"center\"&gt; \n  &lt;a href=\"http://www.whatever.com\" id=\"redirect\"&gt; Wellcome to our site... c'mon in! &lt;/a&gt; \n &lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It loads two js files, script1.js and script2.js.</p>\n\n<p>Here is the version of these two scripts that leads to the (at least by me) unexpected behaviour.</p>\n\n<p>Script1.js:</p>\n\n<pre><code>window.onload = initAll1(); // attach first onload handler\n\nfunction initAll1() {\n alert(\"initAll1\");\n document.getElementById(\"redirect\").onclick = foo; // attach an onclick handler\n}\n\nfunction foo() {\n alert(\"we are in foo\"); \n return false;\n}\n</code></pre>\n\n<p>Script2.js:</p>\n\n<pre><code>addOnloadHandler(initAll2); // with this we should attach a second onload handler\n\nfunction initAll2() {\n alert(\"initAll2\");\n if (linkHasOnclickHandler(document.getElementById(\"redirect\"))) {\n  alert(\"correct!\"); \n }\n else {\n  alert(\"wrong!\");\n }\n}\n\nfunction addOnloadHandler (newFunction) {\n var oldevent = window.onload;\n if (typeof oldevent == \"function\") {\n  window.onload = function() {\n      if (oldevent) {\n          oldevent();\n      }\n   newFunction();\n  };\n }\n else {\n      window.onload = newFunction;\n }\n}\n\nfunction linkHasOnclickHandler() {\n var oldevent = document.getElementById(\"redirect\").onclick;\n if (typeof oldevent == \"function\") {\n  return true;\n }\n else {\n  return false;\n }\n}\n</code></pre>\n\n<p>In Script2.js I tried to add the second onload handler in a nice noninvasive way using function addOnloadHandler(). This function does not make any assumption on whether there is already any onload handler attached to the window object. It is noninvasive because it should add the new handler without deleting previous ones.</p>\n\n<p>The thing is that when loaded with addOnloadHandler(), initAll2() is not capable of detecting the fact that document.getElementById(\"redirect\") already has foo() attached as an onclick event handler (see initAll1()). The alert message \"wrong!\" is triggered, which to me seems to be the wrong behaviour.</p>\n\n<p>When I forget about addOnloadHandler() and attach both onload handlers in Script1.js using:</p>\n\n<pre><code>window.onload = function () {initAll1(); initAll2();};\n</code></pre>\n\n<p>then everything works as expected, and initAll2() launches the \"correct!\" alert message.</p>\n\n<p>Is there something wrong about addOnloadHandler()? Could anybody make it work? I would really like to use it instead of the second method.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1352708420,
            "question_id": 4558325,
            "score": 3,
            "tags": [
                "javascript",
                "event-handling",
                "onload"
            ],
            "title": "Adding multiple onload handlers"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>For stuff like this I just use the built in tools in Chrome, or Firebug in Firefox if you swing that way. This is very handy for debugging JS and CSS, not sure about HTML5 though.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<ul>\n<li>Firebug for Firefox <a href=\"http://getfirebug.com/\" rel=\"nofollow\">http://getfirebug.com/</a></li>\n<li>Developer tools for IE8 <a href=\"http://blogs.msdn.com/b/ie/archive/2008/03/07/improved-productivity-through-internet-explorer-8-developer-tools.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/ie/archive/2008/03/07/improved-productivity-through-internet-explorer-8-developer-tools.aspx</a></li>\n<li>Chrome Developer tools <a href=\"http://code.google.com/chrome/devtools/\" rel=\"nofollow\">http://code.google.com/chrome/devtools/</a></li>\n</ul>\n\n<p>They all let you debug JS, examine CSS and HTML, and they are all free. </p>\n\n<p>I prefer those over IDE built-in debuggers since they are usually implemented using firefox and you're out of luck if you have a webkit/IE problem. Maybe one day, IDEs will let you debug using any browser, until then, I use the IDE just for editing the code. Yeah, I know, not nearly as integrated, but that's all we have for now.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You might like <a href=\"http://www.jetbrains.com/webstorm/\" rel=\"nofollow\">WebStorm</a> from JetBrains.  It's not free, but the fee is nominal.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Microsoft Visual Web Developer express could help with all of this functionality and is free.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In Google Chrome you can just right click, Inspect Element and then click </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I know that there is a varity of HTML5 debuggers (such as in Dreamweaver), a vareity of JavaScript (such as JSLint), and CSS debuggers (such as Firebug), but is there a single program that will debug my HTML5, JS, and CSS? And is it free?</p>\n",
            "last_activity_date": 1371521804,
            "question_id": 4445759,
            "score": 3,
            "tags": [
                "javascript",
                "css",
                "html5"
            ],
            "title": "Is there a single HTML5, JavaScript, and CSS debugger?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You have to split the string:</p>\n\n<pre><code>jstr2 += '&lt;' + '/script&gt;\\n';\n</code></pre>\n\n<p>It's also better to comment out everything inside the script:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n&lt;!--//\n    // your code here\n//--&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Or in HTML:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n//&lt;![CDATA[\n    // your code here\n//]]&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Or in XHTML: </p>\n\n<ul>\n<li>same as HTML but #PCDATA instead of CDATA.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Write it as:</p>\n\n<pre><code>jstr2 += '&lt;\\/script&gt;\\n';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The <em>SCRIPT</em> tag is content agnostic, so the parser just keeps running through the content until it finds a <em>/SCRIPT</em> sequence. When it does, it passes the content it's found to the JS environment for evaluation. That gives you your unterminated literal error because the sent content ends where your <em>/SCRIPT</em> begins. (There is no terminating quote mark to be found for the JS parser).</p>\n\n<p>Escaping the slash with backslash </p>\n\n<pre><code>jstr2 += \"&lt;\\/script&gt;\";\n</code></pre>\n\n<p>or some other work-around hack breaks the trigger point in the sequence here and solves this problem (but still leaves you with some very dubious code). </p>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I need a little assistance.  I have to create a javascript string that contains more javascript that is then written to a div tag in the parent window.  The code is as follows:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nvar jstr2 = '';\njstr2 += '&lt;script language=\"javascript\"&gt;\\n';\njstr2 += 'function doPagingProducts(str) {\\n';\njstr2 += 'document.frmPagingProducts.PG.value = str\\;\\n';\njstr2 += 'document.frmPagingProducts.submit()\\;\\n';\njstr2 += 'return false\\;\\n';\njstr2 += '}\\n';\njstr2 += '&lt;/script&gt;\\n';\njstr2 += '\\n';\n&lt;/script&gt;\n</code></pre>\n\n<p>However the closing script tag in the created string actually close the javascript and I get errors such as:</p>\n\n<pre><code>Error: unterminated string literal\nLine: 135, Column: 9 ( The &lt;/script&gt; line before the end of the string.)\nSource Code:\njstr2 += '\n</code></pre>\n\n<p>Is there any way I can prevent this issue..?</p>\n\n<p>Many thanks for all your help.</p>\n\n<p>Best Regards,\nPaul</p>\n\n<hr>\n\n<p><strong>edit</strong>  I finally solved this problem by extracting the final <code>&lt;/script&gt;</code> from the javascript string. I added a end tag where the script shows. Its messy, but it works. Many thanks for all your comments. </p>\n",
            "last_activity_date": 1310267134,
            "question_id": 4404679,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "javascript variable that contains &lt;/script&gt;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You need to capture the keypress event and decide which keycode was pressed</p>\n\n<pre><code>$(document).keypress(function(e) {\n    switch(e.keyCode) { \n        case 37:\n            //left arrow pressed\n        break;\n        case 39:\n            //right arrow pressed\n        break;\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use the <code>keydown</code> event listener to listen for keypresses. You can use this on <code>&amp;lt;input&amp;gt;</code> fields and the like. Because keydown events <a href=\"http://api.jquery.com/keydown/\">bubble</a> up the DOM, you can use it on the <code>document</code> object to catch any keypress on the page:</p>\n\n<pre><code>$(function () {\n  $(document).keydown(function (evt) {\n    alert(\"Key pressed: \" + evt.keyCode);\n  });\n});\n</code></pre>\n\n<p>Each keypress has a code. If you use the code above in your web page, you'll see that the key code for the down arrow is 40. You can solo this out using an <code>if</code> or <code>switch</code> statement in the handler:</p>\n\n<pre><code>jQuery(function () {\n\n  $(document).keydown(function (evt) {\n    if (evt.keyCode == 40) { // down arrow\n      alert(\"You pressed down.\");\n    }\n  });\n\n});\n</code></pre>\n\n<p>Now you need to bind in the code that actually jumps to the next heading. I recommend abstracting the code out into a function so you can use it for both keypresses and clicks. Here is the function, together with a variant of your original code that uses it:</p>\n\n<pre><code>// Here is the function:\n\nfunction scrollToNew () {\n  scrollTop = $(window).scrollTop();\n  $('.new').each(function(i, h2){ // loop through article headings\n    h2top = $(h2).offset().top; // get article heading top\n    if (scrollTop &lt; h2top) { // compare if document is below heading\n      $.scrollTo(h2, 800); // scroll to in .8 of a second\n      return false; // exit function\n    }\n  });\n}\n\n// Here is your original code, modified to use the function:\n\njQuery(function () {\n\n  $(\"#next\").click(scrollToNew);\n\n});\n</code></pre>\n\n<p>Finally, you can add in the keypress code and call the function from there:</p>\n\n<pre><code>function scrollToNew () {\n  scrollTop = $(window).scrollTop();\n  $('.new').each(function(i, h2){ // loop through article headings\n    h2top = $(h2).offset().top; // get article heading top\n    if (scrollTop &lt; h2top) { // compare if document is below heading\n      $.scrollTo(h2, 800); // scroll to in .8 of a second\n      return false; // exit function\n    }\n  });\n}\n\njQuery(function () {\n\n  $(\"#next\").click(scrollToNew);\n\n  $(document).keydown(function (evt) {\n    if (evt.keyCode == 40) { // down arrow\n      evt.preventDefault(); // prevents the usual scrolling behaviour\n      scrollToNew(); // scroll to the next new heading instead\n    }\n  });\n\n});\n</code></pre>\n\n<p><strong>Update:</strong> To scroll upwards, do two things. Change the <code>keydown</code> handler to:</p>\n\n<pre><code>  $(document).keydown(function (evt) {\n    if (evt.keyCode == 40) { // down arrow\n      evt.preventDefault(); // prevents the usual scrolling behaviour\n      scrollToNew(); // scroll to the next new heading instead\n    } else if (evt.keyCode == 38) { // up arrow\n      evt.preventDefault();\n      scrollToLast();\n    }\n  }\n</code></pre>\n\n<p>and write a <code>scrollToLast()</code> function based off of <code>scrollToNew()</code> that finds the last new heading that isn't on the page:</p>\n\n<pre><code>function scrollToLast () {\n  scrollTop = $(window).scrollTop();\n\n  var scrollToThis = null;\n\n  // Find the last element with class 'new' that isn't on-screen:\n  $('.new').each(function(i, h2) {\n    h2top = $(h2).offset().top;\n    if (scrollTop &gt; h2top) {\n      // This one's not on-screen - make a note and keep going:\n      scrollToThis = h2;\n    } else {\n      // This one's on-screen - the last one is the one we want:\n      return false;\n    }\n  });\n\n  // If we found an element in the loop above, scroll to it:\n  if(scrollToThis != null) {\n    $.scrollTo(scrollToThis, 800);\n  }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Just for giving more idea, working with arrays.</p>\n\n<pre><code>var panel_arr = new Array();\n$(document).ready(function(e) {\n\n    $('.parallax-panel-wrapper').each(function(i, element){ \n        panel_arr.push( $(this).attr(\"id\") );\n    });\n\n    var current_parallax_panel_no   = 0;\n    $(document).keydown(function (evt) {\n        if (evt.keyCode == 40) { // down arrow\n            evt.preventDefault(); // prevents the usual scrolling behaviour\n            if(current_parallax_panel_no &lt; (panel_arr.length-1)) current_parallax_panel_no++;\n            scrollByArrowKeys(1);               \n        } else if (evt.keyCode == 38) { // up arrow\n            evt.preventDefault(); // prevents the usual scrolling behaviour\n            if(current_parallax_panel_no &gt;= 1) current_parallax_panel_no--;\n            scrollByArrowKeys(0); \n        }\n    });\n\n    function scrollByArrowKeys(add_more){\n        scrollToThis = (($(\"#\" + panel_arr[current_parallax_panel_no]).offset().top)  + add_more ; // get element top\n        $.scrollTo(scrollToThis, 800);      \n    }\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have successfully implemented the scrollTo jQuery plugin which scrolls to the next div with the class \"new\" when a link is clicked. However, I would also like to be able to use the arrow keys to scroll up and down to the next/previous divs of the same class.</p>\n\n<p>I have looked all over the internet but have been unable to find out how to do this. I am very new to JS so very simple instructions would be appreciated!</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\njQuery(function($){\n\n $('&lt;div id=\"next_arrow\"&gt;&lt;/div&gt;') \n  .prependTo(\"body\") //append the Next arrow div to the bottom of the document\n  .click(function(){ \n   scrollTop = $(window).scrollTop();\n   $('.new').each(function(i, h2){ // loop through article headings\n    h2top = $(h2).offset().top; // get article heading top\n    if (scrollTop &lt; h2top) { // compare if document is below heading\n     $.scrollTo(h2, 800); // scroll to in .8 of a second\n     return false; // exit function\n    }\n   });\n  });\n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>What do I need to add to this to make the arrow keys work?</p>\n\n<p>Thanks,\nTed</p>\n",
            "last_activity_date": 1338018792,
            "question_id": 2168739,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "scrollto",
                "arrow-keys"
            ],
            "title": "Using arrow keys with jQuery scrollTo"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This won't work for submit buttons. Once the user clicks \"submit\", the request has been posted to the server. Once that happens, the action has been performed. The best you could do in that case is stop the user from seeing the <em>response</em> of their action, however the action would still be performed. </p>\n\n<p>Also, the only way to stop the user from navigating to another page once another request has been started would be to redirect the user back to the page they came from. In general, cancelling out of the request is just a plain Bad Idea\u2122</p>\n\n<p>For forms, another option would be to use AJAX for all form submissions. AJAX requests can be cancelled, so you could use this to your advantage, although it makes things more complicated and harder to deal with.</p>\n\n<p>If you still want to go through with this, knowing the implications though, you can easily do this <a href=\"http://stackoverflow.com/questions/863603/when-should-i-use-a-javascript-framework-library\">with a JavaScript framework</a> like <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a>, <a href=\"http://developer.yahoo.com/yui/\" rel=\"nofollow\">YUI</a>, <a href=\"http://www.dojotoolkit.org/\" rel=\"nofollow\">Dojo</a>, <a href=\"http://mootools.net/\" rel=\"nofollow\">MooTools</a>, <a href=\"http://www.extjs.com/\" rel=\"nofollow\">ExtJS</a>, or <a href=\"http://code.google.com/closure/library/docs/gettingstarted.html\" rel=\"nofollow\">Closure</a>. </p>\n\n<p>Here is an example of how to do this in jQuery. As I mentioned, you can't stop a request once it has started without refreshing the page the user is on (to stop the current page load) so I have omitted that part from this example.</p>\n\n<pre><code>$().ready(function() { \n    function showLoading(){  \n        $loadingOverlay = $('&lt;div id=\"loadingOverlay\"&gt;&lt;/div&gt;'); \n        $loadingAnimation = $('&lt;div id=\"loadingAnimation\"&gt;Loading...&lt;/div&gt;'); \n        $(\"body\").prepend($loadingAnimation).prepend($loadingOverlay); \n    } \n\n    $(\"a[href]\").click(showLoading); \n    $(\"form\").submit(showLoading); \n});\n</code></pre>\n\n<p>To add an animated gif in the loading box, replace the text \"Loading...\" with an <code>&lt;img /&gt;</code> tag pointing to the loading gif of your choice. A live demo of this can be seen here: <a href=\"http://jsbin.com/opadi\" rel=\"nofollow\">http://jsbin.com/opadi</a></p>\n\n<p>You'll need this CSS to go with the code above:</p>\n\n<pre><code>#loadingOverlay {\n    position: absolute; \n    top: 0px; \n    left: 0px; \n    height: 100%; \n    width: 100%; \n    z-index: 1000; \n    background: #000;\n    filter:alpha(opacity=50);\n    -moz-opacity:0.5;\n    -khtml-opacity: 0.5;    \n    opacity: 0.5;\n}\n#loadingAnimation {\n    position: absolute; \n    top: 30%; \n    left: 50%;\n    z-index: 1001;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think you should check so called \"Anchor Navigation\". There's a good tutorial here:</p>\n\n<p><a href=\"http://yensdesign.com/2008/11/creating-ajax-websites-based-on-anchor-navigation/\" rel=\"nofollow\">http://yensdesign.com/2008/11/creating-ajax-websites-based-on-anchor-navigation/</a></p>\n\n<p>Basically, you will refer user to the same URL but with anchor in the end (<a href=\"http://localhost/home#somepage?param1=val1\" rel=\"nofollow\">http://localhost/home#somepage?param1=val1</a>) and load the data using AJAX. Javascript will catch anchor change and can show \"loading\" icon and provide additional stuff like \"cancel loading\". In this case you will have your browser history in place, so you can say \"back\" in the browser or history.go(-1) in the javascript.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Sorry, I don't think there's any way to do this, no. I mean you can spot an escape keypress for what that's worth, but there's no general way to detect a cancel of the next page loading. Other than just guessing that if you're still around a number of seconds after a submit/click then either it's been cancelled or your server's slow. Or doing the whole navigation and submission stuff with AJAX in the same page, which would avoid the problem simply by breaking the browser's own stop button; probably not a good idea.</p>\n\n<p>(I don't it's really a great idea to add a wait throbber of your own though anyway; the browser has a perfectly good one of its own!)</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>(Yep, I do like old topics)</p>\n\n<p>I'm facing the same situation here. I'm building some pages where the navigation is done through form submitting, and I find convenient to show clearly to the user that something is happening before he gets exited and triggers 15 times the same request - \"We don't trust users, do we?\"</p>\n\n<p>So I use jQuery along with a nice plug-in maned Impromptu, available there <a href=\"http://trentrichardson.com/Impromptu/index.php\" rel=\"nofollow\">http://trentrichardson.com/Impromptu/index.php</a></p>\n\n<p>Here is the piece of code:</p>\n\n<pre><code>$(document).ready( function () {\n\n $(\"form\").submit( function() {\n  $.prompt( \"&lt;center&gt;Sending request...&lt;/center&gt;\", {\n   overlayspeed: 200,\n   buttons:{}\n  });\n\n  setTimeout( \"jQuery.prompt.close()\", 2000 );\n });\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am working on a Web CMS. When the user clicks on a link to move to a different page, or submits a form, I want a \"please wait\" animated GIF to show up in the top right corner to symbolize that loading is in progress.</p>\n\n<p>However, the user can cancel loading of the new page in their browser, for example by pressing the \"cancel\" button or ESC. In that case, they will stay on the current page as the browser stops loading the next page.</p>\n\n<p>How can I detect this in Javascript, and hide the \"wait\" icon again?</p>\n\n<blockquote>\n  <p><strong>Edit:</strong> To address the \"you shouldn't do that, the browser already has it\" comments. I have two specific reasons for introducing a custom solution.</p>\n  \n  <ul>\n  <li><p>I have AJAX buttons on the page. I need an activity indicator for them so the user isn't confused whether the click registered or not.</p></li>\n  <li><p>On slow connections with a lot of lag, some browsers' progress bar will move extremely slowly. I am in a real-life work situation when it takes ages until the throbber shows any kind of activity in IE6/7. This gives the impression that nothing is happening and the app is reacting very slowly, and that annoys me. I want an indicator that is constantly moving (like Safari's, for example). </p></li>\n  </ul>\n</blockquote>\n",
            "last_activity_date": 1298092482,
            "question_id": 1776447,
            "score": 3,
            "tags": [
                "javascript",
                "internet-explorer",
                "firefox",
                "events"
            ],
            "title": "Detect when user clicks link, but aborts"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Plugin schmugin. Get rid of your onclick and try this:</p>\n\n<pre><code>$(\"input[type=radio]\").click(function() {\n    var total = 0;\n    $(\"input[type=radio]:checked\").each(function() {\n        total += parseFloat($(this).val());\n    });\n\n    $(\"#totalSum\").val(total);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>\n\n    \n        \n        Untitled Document</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        function DisplayPrice(price){\n\t\t\tvar val1 = 0;\n\t\t\tfor( i = 0; i &lt; document.form1.price.length; i++ ){\n\t\t\t\tif( document.form1.price[i].checked == true ){\n\t\t\t\t\tval1 = document.form1.price[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar val2 = 0;\n\t\t\tfor( i = 0; i &lt; document.form2.price2.length; i++ ){\n\t\t\t\tif( document.form2.price2[i].checked == true ){\n\t\t\t\t\tval2 = document.form2.price2[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar sum=parseInt(val1) + parseInt(val2);\n            document.getElementById('totalSum').value=sum;\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    Choose a number:&lt;br&gt;\n    &lt;form name=\"form1\" id=\"form1\" runat=\"server\"&gt;\n        &lt;br&gt;\n        &lt;input id=\"rdo_1\" type=\"radio\" value=\"159\" name=\"price\" onclick=\"DisplayPrice(this.value);\"&gt;159\n        &lt;br&gt;\n        &lt;input id=\"rdo_2\" type=\"radio\" value=\"259\" name=\"price\" onclick=\"DisplayPrice(this.value);\"&gt;259\n        &lt;br&gt;\n    &lt;/form&gt;\n\n    Choose another number:&lt;br&gt;\n    &lt;form name=\"form2\" id=\"form2\" runat=\"server\"&gt;\n        &lt;br&gt;\n        &lt;input id=\"rdo_1\" type=\"radio\" value=\"345\" name=\"price2\" onclick=\"DisplayPrice(this.value);\"&gt;345\n        &lt;br&gt;\n        &lt;input id=\"rdo_2\" type=\"radio\" value=\"87\" name=\"price2\" onclick=\"DisplayPrice(this.value);\"&gt;87\n        &lt;br&gt;\n    &lt;/form&gt;\n    &lt;input type=\"text\" name=\"totalSum\" id=\"totalSum\" value=\"\" size=\"2\" readonly=\"readonly\"&gt;\n\n\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>The code above will dinamically sum the checked values from both groups.\nparseInt will convert to integers. Use parseFloat otherwise.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am trying to create a form with many groups containing many radio buttons. When the user selects a button, I would like to calculate the sum of each selected radio button value and show this sum to the user.</p>\n\n<p>I have found a plugin for jQuery which will do the calculation, this plugin use the name attribute of the buttons to calculate. For example, it will sum the values of all buttons which have the name <code>sum</code>. </p>\n\n<p>So far, I have tried two ways of setting this up: in the first method, I create a hidden field for each group to hold the sum of the selected values inside it, this hidden field gets the value but the problem is that the total value will not update when a user selects a button. My code looks like this:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;\n        &lt;title&gt;Untitled Document&lt;/title&gt;\n        &lt;script src=\"jquery.js\" type=\"text/javascript\"&gt;\n        &lt;/script&gt;\n        &lt;script src=\"calc.js\" type=\"text/javascript\"&gt;\n        &lt;/script&gt;\n        &lt;script src=\"calc_f.js\" type=\"text/javascript\"&gt;\n        &lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            function DisplayPrice(price){\n                $('#spn_Price').val(price);\n            }\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form id=\"form1\" runat=\"server\"&gt;\n            &lt;input type=\"hidden\" id=\"spn_Price\" name=\"sum\" value=\"\"&gt;\n            &lt;br&gt;\n            &lt;input id=\"rdo_1\" type=\"radio\" value=\"159\" name=\"price\" onclick=\"DisplayPrice(this.value);\"&gt;\n            &lt;br&gt;\n            &lt;input id=\"rdo_2\" type=\"radio\" value=\"259\" name=\"price\" onclick=\"DisplayPrice(this.value);\"&gt;\n            &lt;br&gt;\n            &lt;input type=\"text\" name=\"totalSum\" id=\"totalSum\" value=\"\" size=\"2\" readonly=\"readonly\"&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>In this code, the input tag with the name <code>totalSum</code> is where the value will update, but it won't update when changing the buttons.</p>\n\n<p>As I said before, the reason why I use a hidden field is to hold each group's subtotal. It  has the name <code>sum</code>, which indicates to the plugin that it should be added to others.</p>\n\n<p>I dont know if this is the right way to do this, i have tried to change the name attribute of the buttons when user click them to <code>sum</code> but that didn`t work either!</p>\n\n<p>Here is plugin address : <a href=\"http://www.pengoworks.com/workshop/jquery/calculation/calculation.plugin.htm\" rel=\"nofollow\">http://www.pengoworks.com/workshop/jquery/calculation/calculation.plugin.htm</a></p>\n\n<p>How can I do this ?</p>\n",
            "last_activity_date": 1407177371,
            "question_id": 1324703,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "radio-button"
            ],
            "title": "How might I calculate the sum of radio button values using jQuery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You could access <a href=\"http://www.w3.org/TR/DOM-Level-2-Style/stylesheets.html#StyleSheets-StyleSheetList\" rel=\"nofollow\"><code>document.styleSheets</code></a> and look for a rule that is applied on that specific element. But that\u2019s not any cleaner than using a simple additional class.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>UPDATE</strong>: I somehow got this wrong. The below example doesn't work. See <a href=\"http://stackoverflow.com/questions/1285033/read-hover-pseudo-class-with-javascript/1285212#comment17028965_1285212\">@bfavaretto's comment</a> for an explanation.</p>\n\n<p><del>In Firefox, Opera and Chrome or any other browser that correctly implements <a href=\"https://developer.mozilla.org/en/DOM/window.getComputedStyle\" rel=\"nofollow\"><code>window.getComputedStyle</code></a> is very simple. You just have to pass \"hover\" as the second argument:</del></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;style type=\"text/css\"&gt;\ndiv {\n  display: block;\n  width: 200px;\n  height: 200px;\n  background: red;\n}\ndiv:hover {\n  background: green;\n}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div&gt;&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nwindow.onload = function () {\n    var div = document.getElementsByTagName(\"div\")[0];\n    var style = window.getComputedStyle(div, \"hover\");\n    alert(style.backgroundColor);\n};\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><del>But I don't believe there's yet a solution for Internet Explorer, except for using <code>document.styleSheets</code> as Gumbo suggested. But there will be differences.</del> So, having a <code>.hover</code> class is the best solution so far. Not unclean at all.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>If there are any people here who use the questions accepted answer but it won't work, here's a nice function that might:</p>\n\n<pre><code>function getPseudoStyle(id, style) {\nvar all = document.getElementsByTagName(\"*\");\nfor (var i=0, max=all.length; i &lt; max; i++) {\nvar targetrule = \"\";\nif (all[i].id === id) {\nif(all[i].selectorText.toLowerCase()== id + \":\" + style){ //example. find \"a:hover\"     rule\ntargetrule=myrules[i]\n}\n}\nreturn targetrule;\n}\n}\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.getComputedStyle\"><code>getComputedStyle</code></a> as on the accepted answer won't work, because:</p>\n\n<ol>\n<li>The computed style for the hover state is only available when the element is actually on that state. </li>\n<li>The second parameter to <code>getComputedStyle</code> should be empty or a pseudo-element. It doesn't work with <code>:hover</code> because it's a pseudo-class.</li>\n</ol>\n\n<p>Here is an alternative solution:</p>\n\n<pre><code>function getCssPropertyForRule(rule, prop) {\n    var sheets = document.styleSheets;\n    var slen = sheets.length;\n    for(var i=0; i&lt;slen; i++) {\n        var rules = document.styleSheets[i].cssRules;\n        var rlen = rules.length;\n        for(var j=0; j&lt;rlen; j++) {\n            if(rules[j].selectorText == rule) {\n                return rules[j].style[prop];\n            }\n        }\n    }\n}\n\n// Get the \"color\" value defined on a \"div:hover\" rule,\n// and output it to the console\nconsole.log(getCssPropertyForRule('div:hover', 'color'));\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/EtLT5/\"><strong>Demo</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I made a function that overwrite the the :hover of some elements on a page. It fades between the normal and the :hover effect. That for i had to create a .hover class in my CSS file. I think this is a little unclean. How could i read the the :hover pseudo class contents?  </p>\n",
            "last_activity_date": 1348778235,
            "question_id": 1285033,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Read :hover pseudo class with javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The idea is that you use scope in parent->child inheritance:</p>\n\n<pre><code> .state(\"main\", {\n      controller:'mainController',\n      abstract: true,\n      url:\"/main\",\n      templateUrl: \"main_init.html\"\n  })  \n  .state(\"main.1\", {\n      controller:'mainController1',\n      parent: 'main',\n      url:\"/1\",\n      templateUrl: 'form_1.html'\n  })  \n  .state(\"main.2\", {\n      controller:'mainController2',\n      parent: 'main',\n      url: \"/2\",\n      templateUrl: 'form_2.html'\n  })  \n</code></pre>\n\n<p>Than the usage is simple, you have 3 controllers, one is shared (mainController) and each view has it's own. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I <a href=\"http://plnkr.co/edit/cqx77pb4CDI2TXyESYGN?p=preview\" rel=\"nofollow\">created working plunker</a>, showing how to use $scopes and UI-Router.</p>\n\n<p>The state definition is unchanged:</p>\n\n<pre><code>$stateProvider\n    // States\n .state(\"main\", {\n      controller:'mainController',\n      url:\"/main\",\n      templateUrl: \"main_init.html\"\n  })  \n  .state(\"main.1\", {\n      controller:'mainController',\n      parent: 'main',\n      url:\"/1\",\n      templateUrl: 'form_1.html'\n  })  \n  .state(\"main.2\", {\n      controller:'mainController',\n      parent: 'main',\n      url: \"/2\",\n      templateUrl: 'form_2.html'\n  })  \n</code></pre>\n\n<p>But each state can have different controller. Why? because each view of each state gets new instance of defined controller. So while we have <code>mainController</code> like the one below, we can be sure, that if we navigate to state <code>'main.2'</code> it will be instantiated twice.</p>\n\n<pre><code>controller('mainController', function ($scope) {\n  $scope.Model = $scope.Model || {Name : \"xxx\"};\n})\n</code></pre>\n\n<p>But what we can see [here][0], is that we check if $scope.Model already exsits... and if not (Parent state) we instantiate it with new intance <strong><code>{Name : \"xxx\"}</code></strong>. </p>\n\n<p>Well, what I am saying is: only parent state will init the <code>$scope.Model</code>. All others will get that already filled. How? Well here is the answer:</p>\n\n<h3><a href=\"https://github.com/angular-ui/ui-router/wiki/Nested-States-%26-Nested-Views#scope-inheritance-by-view-hierarchy-only\" rel=\"nofollow\">Scope Inheritance by View Hierarchy Only</a></h3>\n\n<blockquote>\n  <p>Keep in mind that scope properties only inherit down the state chain if the views of your states are nested. Inheritance of scope properties has nothing to do with the nesting of your states and everything to do with the nesting of your views (templates).</p>\n  \n  <p>It is entirely possible that you have nested states whose templates populate ui-views at various non-nested locations within your site. In this scenario you cannot expect to access the scope variables of parent state views within the views of children states.</p>\n</blockquote>\n\n<p>So, as stated in the documentation. Because our child views are nested in the parent view, the scope is inherited.</p>\n\n<h3><a href=\"https://github.com/angular/angular.js/wiki/Understanding-Scopes\" rel=\"nofollow\">Understanding Scopes</a></h3>\n\n<blockquote>\n  <p>In AngularJS, a child scope normally prototypically inherits from its parent scope.<br>\n   ...</p>\n  \n  <p>Having a '.' in your models will ensure that prototypal inheritance is in play. </p>\n</blockquote>\n\n<pre><code>// So, use\n&lt;input type=\"text\" ng-model=\"someObj.prop1\"&gt; \n// rather than\n&lt;input type=\"text\" ng-model=\"prop1\"&gt;.\n</code></pre>\n\n<p>And that's it. We get inheritance from <code>UI-Router</code> views and angular scopes, and because we smartly used a reference type (<strong><code>Model</code></strong>), i.e. do have <code>'.'</code> dot in ng-model definition - we can share data now</p>\n\n<p>Check the <a href=\"http://plnkr.co/edit/cqx77pb4CDI2TXyESYGN?p=preview\" rel=\"nofollow\">working example here</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Without using a service or constructing watchers in the parent controller, how would one give children states access to the main controller's $scope. </p>\n\n<pre><code>      .state(\"main\", {\n          controller:'mainController',\n          url:\"/main\",\n          templateUrl: \"main_init.html\"\n      })  \n      .state(\"main.1\", {\n          controller:'mainController',\n          parent: 'main',\n          url:\"/1\",\n          templateUrl: 'form_1.html'\n      })  \n      .state(\"main.2\", {\n          controller:'mainController',\n          parent: 'main',\n          url: \"/2\",\n          templateUrl: 'form_2.html'\n      })  \n</code></pre>\n\n<p>I'm not able to access the mainController scope in child state--or rather I'm getting another instance of that scope--not what I want. I feel I'm missing something simple. \nThere is a shared data config option in the state object but I'm not sure if this should be used for something like this.</p>\n",
            "last_activity_date": 1419915601,
            "question_id": 27696612,
            "score": 2,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-scope",
                "angular-ui-router"
            ],
            "title": "How do I share $scope data between states in angularjs ui-router?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The child_added event is not immediately executed, therefore is not synchronous and you can't rely on it  to have executed, before the log call at the end of your function.</p>\n\n<p>The procedure is:</p>\n\n<ul>\n<li>Define myArr</li>\n<li>Instantiate Firebase</li>\n<li>Assign event handler for child_added</li>\n<li>Log the value of myArr</li>\n<li>Return myArr - end of function</li>\n<li>Now at some point after this, the child_added event is fired, which pushes to your array, but as you can see, your show_fb() function has already finished executing by this point.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If Firebase makes ajax call(it probably does), then callback function(snapshot){..} is called after return statement. So function show_fb always returns [].</p>\n\n<p>for instance:</p>\n\n<ul>\n<li>You execute this statement: var x=show_fb();\n<ul>\n<li>show_fb creates empty array</li>\n<li>function creates ajax call</li>\n<li>function returns myArr (it is empty at this moment)</li>\n<li>variable x gets reference to myArr (array is still empty)</li>\n<li>callback is called and inserts new value to x (x and myArr have same instance)</li>\n</ul></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The callback is recognizing/modifying <code>myArr</code> perfectly fine. The problem is that when your \"doesn't work\"-labeled <code>console.log(myArr)</code> executes, the callback hasn't fired yet.</p>\n\n<p>Let's change your code a bit:</p>\n\n<pre><code>var myArr = [];\nfunction show_fb() {\n    var firebase = new Firebase('https://scorching-fire-6816.firebaseio.com/');\n    firebase.on('child_added', on_post_added); // steps 1-3\n    console.log(myArr);                        // step 4\n    return myArr;                              // step 5\n};\nfunction on_post_added(snapshot) {             // step 6\n    var newPost = snapshot.val();\n    myArr.push(newPost.user);                  // step 7\n    console.log(myArr);                        // step 8\n}\n</code></pre>\n\n<p>Now it might be a bit easier to see what's going on.</p>\n\n<ol>\n<li>You register a listener for <code>child_added</code> that will call <code>on_post_added</code> for every post that is added to your Firebase</li>\n<li>This will result in a call to the server, which may take a significant amount of time to return</li>\n<li>Meanwhile your JavaScript code continues and...</li>\n<li>Logs the array, which at this stage is still empty</li>\n<li>And then thus returns an empty array</li>\n<li>Now at some point the server returns the new value(s) and your callback is invoked</li>\n<li>Which means we can add it to the array without problems</li>\n<li>And logging it to the console shows the expected values</li>\n</ol>\n\n<p>Handling asynchronous code/callbacks like this takes some getting used to, but is crucial to working with Firebase or any other AJAX-like or event driven technology. Putting the callback's code into a separate function sometimes makes it a bit easier to see what's going on.</p>\n\n<p>In the case of Firebase it may also help to realize that the event is called <code>child_added</code> for a reason. It is called whenever a child is added to the Firebase, not just when you first register your callback. So minutes later when some other client adds a child, your callback will still fire, adding a new child to <code>myArr</code>. At that stage the code in steps 4 and 5 above will long have executed and will not execute again.</p>\n\n<p>The solution is simple: put anything that you want to do after a child is added into your callback:</p>\n\n<pre><code>var myArr = [];\nfunction show_fb() {\n    var firebase = new Firebase('https://scorching-fire-6816.firebaseio.com/');\n    firebase.on('child_added', on_post_added);\n};\nfunction on_post_added(snapshot) {\n    var newPost = snapshot.val();\n    myArr.push(newPost.user);\n    console.log(myArr);\n    // do whatever else you need to do for a new post\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>This is more of a JavaScript Closure question than a Firebase question. In the following code, the Firebase callback isn't recognizing the variable myArr in the parent scope.</p>\n\n<pre><code>function show_fb() {\n    var myArr = [];\n    var firebase = new Firebase('https://scorching-fire-6816.firebaseio.com/');\n    firebase.on('child_added', function(snapshot) {\n        var newPost = snapshot.val();\n        myArr.push(newPost.user);\n        console.log(myArr); // works\n    });\n    console.log(myArr); // doesn't work. myArr in the firebase.on callback is\n                        // not altering myArr\n    return myArr;\n};\n</code></pre>\n",
            "last_activity_date": 1413223507,
            "question_id": 26297654,
            "score": 2,
            "tags": [
                "javascript",
                "ajax",
                "closures",
                "firebase"
            ],
            "title": "Passing variable in parent scope to callback function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You cannot simply use messaging the same way you would use it in a content script from an arbitrary webpage's code.</p>\n\n<p>There are two guides available in the documentation for communicating with webpages, which correspond to two approaches: <a href=\"https://developer.chrome.com/extensions/messaging#external-webpage\" rel=\"nofollow\">(externally_connectable)</a> <a href=\"https://developer.chrome.com/extensions/content_scripts#host-page-communication\" rel=\"nofollow\">(custom events with a content script)</a></p>\n\n<p>Suppose you want to allow <code>http://example.com</code> to send a message to your extension.</p>\n\n<ol>\n<li><p>You need to specifically whitelist that site in the manifest:</p>\n\n<pre><code>  \"externally_connectable\" : {\n    matches: [ \"http://example.com\" ]\n  },\n</code></pre></li>\n<li><p>You need to <a href=\"http://stackoverflow.com/questions/23873623/obtaining-chrome-extension-id-for-development\">obtain a permanent extension ID</a>. Suppose the resulting ID is <code>abcdefghijklmnoabcdefhijklmnoabc</code></p></li>\n<li><p>Your webpage needs to check it's allowed to send a message, then send it using the pre-defined ID:</p>\n\n<pre><code>// This will only be true if some extension allowed the page to connect\nif(chrome &amp;&amp; chrome.runtime &amp;&amp; chrome.runtime.sendMessage) {\n  chrome.runtime.sendMessage(\n    \"abcdefghijklmnoabcdefhijklmnoabc\",\n    {greeting: \"yes\"},\n    onAccessApproved\n  );\n}\n</code></pre></li>\n<li><p>Your extension needs to listen to <em>external</em> messages and probably also check their origin:</p>\n\n<pre><code>chrome.runtime.onMessageExternal.addListener(\n  function(request, sender, sendResponse) {\n    if(!validate(request.sender)) // Check the URL with a custom function\n      return;\n    /* do work */\n  }\n});\n</code></pre></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to implement a screen sharing web application that will use the desktopCapture Chrome API to display the users screen on a web page.  I have created the chrome extension and have an event listener running in the background.  My problem is when I try to send a message from the web page to the extension (to get the userMedia id) I am not receiving anything on the extension side.  I am also trying to return the getUserMedia id back to the webpage to display the feed.  I have attached what I have.  Thanks</p>\n\n<p>Manifest</p>\n\n<pre><code>{\n\"name\": \"Class Mate Manifest\",\n\"description\": \"Extension that allows for user to share their screen\",\n\"version\": \"1\",\n\"manifest_version\": 2,\n\n\"background\": {\n  \"scripts\": [\"background.js\"]\n},\n\"permissions\": [\n\"desktopCapture\",\n\"tabs\"\n],\n\"browser_action\": {\n  \"default_icon\": \"icon.png\",\n\"default_popup\": \"index.html\"\n    }\n }\n</code></pre>\n\n<p>background.js</p>\n\n<pre><code>chrome.runtime.onMessage.addListener(\nfunction(request, sender, sendResponse) {\nconsole.log(request.greeting);\nif(request.greeting == yes){\n chrome.desktopCapture.chooseDesktopMedia([\"screen\", \"window\"], sendResponse);\n return true;\n }\n });\n</code></pre>\n\n<p>webpage.js</p>\n\n<pre><code>function gotStream(stream) {\nconsole.log(\"Received local stream\");\nvar video = document.querySelector(\"video\");\nvideo.src = URL.createObjectURL(stream);\nlocalstream = stream;\n// stream.onended = function() { console.log(\"Ended\"); };\n}\n\nfunction getUserMediaError() {\nconsole.log(\"getUserMedia() failed.\");\n}\n\nfunction onAccessApproved(id) {\nconsole.log(id);\nif (!id) {\nconsole.log(\"Access rejected.\");\nreturn;\n}\n\n\nnavigator.webkitGetUserMedia({\n  audio:false,\n  video: { mandatory: { chromeMediaSource: \"desktop\", chromeMediaSourceId: id } }\n}, gotStream, getUserMediaError);\n\n}\n\n\nchrome.runtime.sendMessage({greeting: \"yes\"}, onAccessApproved);\n</code></pre>\n",
            "last_activity_date": 1411978479,
            "question_id": 26090563,
            "score": 2,
            "tags": [
                "javascript",
                "google-chrome",
                "web",
                "google-chrome-extension",
                "video-capture"
            ],
            "title": "Sending message to background script"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>When you set a <code>@grant</code> value other than none, Greasemonkey activates its sandbox and <a href=\"http://stackoverflow.com/a/24720223/331508\">Greasemonkey 2.0 radically changed unsafeWindow handling</a>.</p>\n\n<p>Now, in order to create or overwrite variables in the target-page scope, you must correctly chose from a menu of techniques. EG:</p>\n\n<h1>To Read:</h1>\n\n<ul>\n<li><p><strong>A simple variable:</strong></p>\n\n<pre><code>Target page sets:       var foo = \"bar\";\nGM script can read:     unsafeWindow.foo    //-- \"bar\"\n</code></pre></li>\n<li><p><strong>A simple object:</strong></p>\n\n<pre><code>Target page sets:       var obj = {A: 1};\nGM script can read:     unsafeWindow.obj    //-- Object { A: 1 }\n</code></pre></li>\n<li><p><strong>A complex object:</strong>  This is not always possible.</p></li>\n</ul>\n\n<h1>To Call:</h1>\n\n<ul>\n<li><p><strong>A simple function:</strong></p>\n\n<pre><code>Target page sets:       function func () {console.log ('Hi');}\nGM script can call:     unsafeWindow.func() //-- \"Hi\"\n</code></pre></li>\n<li><p><strong>A complex function:</strong>  <a href=\"http://stackoverflow.com/q/25532475/331508\">This is not always possible.</a></p></li>\n</ul>\n\n<h1>To Write/Set:</h1>\n\n<ul>\n<li><p><strong>A simple variable:</strong></p>\n\n<pre><code>unsafeWindow.foo = \"Apple\";\n</code></pre></li>\n<li><p><strong>A simple object:</strong></p>\n\n<pre><code>var gmObject        = {X: \"123\"};\nunsafeWindow.obj    = cloneInto (gmObject, unsafeWindow);\n</code></pre></li>\n<li><p><strong>A simple function:</strong></p>\n\n<pre><code>function gmFunc () {\n    console.log (\"Lorem ipsum\");\n    //-- Can use GM_ functions in here! :)\n}\nunsafeWindow.func   = exportFunction (gmFunc, unsafeWindow);\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>Consider this HTML:</p>\n\n<pre><code>&lt;button id=\"helloBtn\"&gt;Say \"Hello\".&lt;/button&gt;\n</code></pre>\n\n<p>And this javascript:</p>\n\n<pre><code>var simpleGlobalVar = \"A simple, global var in the page scope.\";\nvar globalObject    = {Letter: \"A\", Number: 2};\n\nfunction simpleFunction () {\n    console.log (\"The target page's simpleFunction was called.\");\n}\n\nvar sayHello = function() {\n    console.log ('Hello.');\n}\n\ndocument.getElementById ('helloBtn').addEventListener ('click', function () {\n    sayHello ();\n} );\n</code></pre>\n\n<p>which you can see live at <a href=\"http://fiddle.jshell.net/sepwL7n6/1/show/\" rel=\"nofollow\"><strong>this jsFiddle page</strong></a>.</p>\n\n<p>If you install and run this Greasemonkey script against that page:</p>\n\n<pre><code>// ==UserScript==\n// @name     _Demonstrate accessing target-page variables with @grant values set\n// @include  http://fiddle.jshell.net/sepwL7n6/*/show/\n// @require  http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\n// @grant    GM_addStyle\n// ==/UserScript==\n\nconsole.log (\"*** Greasemonkey script start.\");\n\n$(\"body\").append ('&lt;div id=\"gmArea\"&gt;Added by Greasemonkey:&lt;p&gt;&lt;/p&gt;&lt;/div&gt;');\n$(\"#gmArea &gt; p:first\").append ('&lt;button id=\"gmShow\"&gt;Access select target-page variables and functions&lt;/button&gt;');\n$(\"#gmArea &gt; p:first\").append ('&lt;button id=\"gmChange\"&gt;Change javascript things in the target-page scope.&lt;/button&gt;');\n\n$(\"#gmShow\").click ( function () {\n    //-- Access things from the target-page scope:\n    console.log (\"----------------\");\n    console.log (\"==&gt; simpleGlobalVar is: \", unsafeWindow.simpleGlobalVar);\n    console.log (\"==&gt; globalObject    is: \", unsafeWindow.globalObject);\n    console.log (\"==&gt; Calling target's simpleFunction():\");\n    unsafeWindow.simpleFunction ();\n\n    //-- WARNING! This next technique is not robust, but works in some cases.\n    console.log (\"==&gt; Calling target's button's click().\");\n    unsafeWindow.document.getElementById ('helloBtn').click ();\n} );\n\n$(\"#gmChange\").click ( function () {\n    this.disabled = true;   //-- Can only click once.\n    unsafeWindow.simpleGlobalVar    = \"Simple var... Intercepted by GM!\";\n    unsafeWindow.globalObject       = cloneInto (gmObject, unsafeWindow);\n    unsafeWindow.sayHello           = exportFunction (sayHello, unsafeWindow);\n    console.log (\"==&gt; Target page objects were changed.\");\n} );\n\nvar gmMessageStr    = \"Function... Intercepted by GM, but also can use GM_ functions!\";\nfunction sayHello () {\n    sayHello.K      = (sayHello.K  ||  0) + 1;\n    console.log (gmMessageStr);\n    GM_addStyle ('body {background: ' + (sayHello.K % 2  ?  \"lime\"  :  \"white\") + ';}');\n}\nvar gmObject        = {message: \"Object overridden by GM.\"};\n</code></pre>\n\n<p><br>\nOpen the console and press the buttons and you will see that the GM script is able to read and change the page's variables and functions.</p>\n\n<hr>\n\n<p>Notes:</p>\n\n<ol>\n<li>This is all <strong>Firefox specific</strong>.</li>\n<li>For cross platform code, and for some complex situations, you can use <a href=\"http://stackoverflow.com/a/13485650/331508\"><em>Script Injection</em></a> instead.  But injected code cannot directly access <code>GM_</code> functions.</li>\n<li>Note that these techniques only work for javascript variables and functions that are global.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Let's say I am working with the following web page:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;body&gt;\n&lt;span id=\"click\"&gt;click me&lt;/span&gt;\n&lt;script&gt;\nvar hello = function() {\n    alert('hello');\n}\n\ndocument.getElementById('click').addEventListener('click', function(e) {\n    hello();\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and my Greasemonkey script is:</p>\n\n<pre><code>// ==UserScript==\n// @name        My Script\n// @include     http://example.com/hello.html\n// @version     1\n// @grant       none\n// ==/UserScript==\n\nwindow.hello = function() {\n    alert('goodbye');\n}\n</code></pre>\n\n<p>With the Greasemonkey script disabled, clicking the <code>#click</code> element on the page displays the 'hello' alert. With the script enabled, clicking the element displays the 'goodbye' alert.</p>\n\n<p>Simple enough. The <code>hello</code> function from the web page is being replaced by the function in the Greasemonkey script.</p>\n\n<p>Now let's say I want to use a Greasemonkey API. When I set the <code>@grant</code> value to a valid value other than 'none' (e.g. <code>// @grant GM_setClipboard</code>) [which causes Greasemonkey to run the script as a \"content script\", rather than in the page's scope like with 'none'],  the Greasemonkey script fails to work.</p>\n\n<p><code>window.hello</code> is no longer targeting the correct object on the page.</p>\n\n<p>Replacing <code>window.hello</code> with <code>unsafeWindow.hello</code> looks like it would work, but instead, the following error is thrown in the JS console:</p>\n\n<blockquote>\n  <p>Error: Permission denied to access object</p>\n</blockquote>\n\n<p>How can I rewrite the Greasemonkey script while having <code>@grant GM_setClipboard</code> set to target and replace the original <code>hello</code> function on the page?</p>\n\n<p>System information:</p>\n\n<ul>\n<li>Windows 7 64-bit</li>\n<li>Firefox 32.0</li>\n<li>Greasemonkey 2.2</li>\n</ul>\n",
            "last_activity_date": 1420313195,
            "question_id": 25778469,
            "score": 2,
            "tags": [
                "javascript",
                "firefox",
                "greasemonkey"
            ],
            "title": "How to access `window` (Target page) objects from a GM content script (`@grant` other than `none`)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes there is a solution. You have to use delegation because the HTML element is created dynamically.</p>\n\n<p>Considering the <code>.towns</code> element the container of the select box and <code>#town_id</code> the select box the syntax looks like this:</p>\n\n<pre><code>$('.towns').on('change', '#town_id', function(){\n    if($(this).val() == \"ADD_NEW\"){\n        console.log('Add New');\n        $('#town_id').val('');\n        $('#town_id').trigger('chosen:updated');\n        $('#modal-1').modal('show');\n    }\n});\n</code></pre>\n\n<p>And yes, this will work for both static and dynamic select box.</p>\n\n<hr>\n\n<blockquote>\n  <h1>Direct and delegated events</h1>\n  \n  <p>When a <code>selector</code> is provided, the event handler is referred to as <em>delegated</em>. The handler is not called when the event occurs directly on the bound element, but <strong>only for descendants (inner elements) that match the selector</strong>. [...]</p>\n  \n  <p>Event handlers are bound only to the currently selected elements; <strong>they must exist on the page at the time your code makes the call to <code>.on()</code></strong>.</p>\n  \n  <p><a href=\"https://api.jquery.com/on/#direct-and-delegated-events\" rel=\"nofollow\">Read more</a></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have a page with a dropdown list and one of the options in ADD NEW. The function created for it works great.</p>\n\n<pre><code>$('#town_id').on('change', function(){\n    if($(this).val() == \"ADD_NEW\"){\n        console.log('Add New');\n        $('#town_id').val('');\n        $('#town_id').trigger('chosen:updated');\n        $('#modal-1').modal('show');\n    }\n});\n</code></pre>\n\n<p>The problem is that sometimes the selectbox will not be on the page at all and I will append it into the page with jquery. This piece works too but the ADD NEW that was added from the jquery doesn't get picked up when running the code above. If I place the code above under the adding select code and then select ADD NEW in the dropdown it works ok.</p>\n\n<pre><code>// remove towns text\n$('.towns').html('&lt;select class=\"form-control chosen add_town\" name=\"town_id\" id=\"town_id\" data-rule-required=\"true\" data-placeholder=\"Choose a town\"&gt;&lt;/select');\n$(\"#town_id\").chosen({disable_search_threshold: 15});\n$(\"#town_id\").css('width', '100%');\n\n\n// add chosen select\n$('#town_id').append('&lt;option value=\"' + result.id + '\" selected&gt;' + result.name + '&lt;/option&gt;');\n$('#town_id').append('&lt;option value=\"ADD_NEW\"&gt;Add new town...&lt;/option&gt;');\n$('#town_id').trigger('chosen:updated');\n</code></pre>\n\n<p>Is there a way to make it work without duplicating the select code?</p>\n",
            "last_activity_date": 1393418464,
            "question_id": 22041463,
            "score": 2,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "JQuery function only works within a function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>I could assign a local variables for every property export&amp;required module G object, but obviously it's a tedious process to add every variable to the test file manually to correspond the G objects.</p>\n</blockquote>\n\n<p>No, that's how it is supposed to work. You - and only you - are in charge of what local variables exist in your module scope. No changes in the \"export variables\" of an included module should break your code.</p>\n\n<p>Accessing properties on the imported module (with a self-chosen name) is the way to go. This is quite equivalent to Python's <code>import app</code> or <code>import app as g</code>.</p>\n\n<p>If you want some particular properties as local variables, you will usually choose them manually, as in Python's <code>from app import DATA, F1</code>. In JS, you will need a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var\" rel=\"nofollow\">multiple <code>var</code> statement</a> like the one you've shown in your question. However, there is a syntax feature called <a href=\"http://wiki.ecmascript.org/doku.php?id=harmony%3adestructuring\" rel=\"nofollow\">destructuring assignment</a> which will make this more fluid. You can use this in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/1.7\" rel=\"nofollow\">JavaScript 1.7+ (Gecko)</a>, <a href=\"http://coffeescript.org/#destructuring\" rel=\"nofollow\">CoffeeScript</a>, or <a href=\"http://fitzgeraldnick.com/weblog/50/\" rel=\"nofollow\">EcmaScript 6</a>:</p>\n\n<pre><code>var {DATA, F1} = require(\"app.js\");\n</code></pre>\n\n<blockquote>\n  <p>Is there any way to do this automatically?</p>\n</blockquote>\n\n<p>Yes and No. You <em>should not</em> do this, but you can - just like Python's frowned-upon <code>from app import *</code>. To cite <a href=\"http://docs.python.org/3/tutorial/modules.html#more-on-modules\" rel=\"nofollow\">what they say</a>, which is equally true for JavaScript:</p>\n\n<blockquote>\n  <p>[It] introduces an unknown set of names into the interpreter, possibly\n  hiding some things you have already defined.</p>\n  \n  <p>Note that in general the practice of importing <code>*</code> from a module or\n  package is frowned upon, since it often causes poorly readable code.\n  However, it is okay to use it to save typing in interactive sessions.</p>\n</blockquote>\n\n<p>In JavaScript, you can<sup>[1]</sup> <a href=\"https://stackoverflow.com/questions/61552/are-there-legitimate-uses-for-javascripts-with-statement\">use the <code>with</code>-statement</a>:</p>\n\n<pre><code>with (require(\"app.js\")) {\n    \u2026\n}\n</code></pre>\n\n<p><sub>[1]: <a href=\"https://stackoverflow.com/questions/5373577/future-of-the-with-statement-in-javascript\">Not in ES5.1 <em>strict mode</em></a>, though - which is recommended for optimisation</sub></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have variables in <strong><code>app.js</code></strong>:</p>\n\n<pre><code>var G = {};\nmodule.exports = G;\n\nvar DATA = G.DATA = 'DATA';\nvar F1 = G.F1\u3000= function(val)\n{\n  return val;\n};\n</code></pre>\n\n<p>In this manner, I can export variables under the object <code>G</code>, and at the same time, can access the variable directly writing <code>DATA</code> without <code>G.</code> prefix.</p>\n\n<p>So far so good.</p>\n\n<p>Now, I want to run a <em>test</em> for <code>app.js</code> in <strong><code>test.js</code></strong>:</p>\n\n<pre><code>var G = require('./app.js');\nconsole.log(G.DATA);  // -&gt; DATA\n</code></pre>\n\n<p>This works, but I also want to access the variable directly writing <code>DATA</code> without <code>G.</code> prefix like <code>console.log(DATA);  // -&gt; DATA</code></p>\n\n<p>Surely, I could do like</p>\n\n<p><code>var DATA = G.DATA;</code> for every variables(property) export&amp;required module <code>G</code> object, but obviously it's a tedious process to add every variable to the test file manually to correspond the <code>G</code> objects.</p>\n\n<p>Is there any way to do this automatically?</p>\n\n<p>So far, I'm pessmistic since</p>\n\n<p>JS <code>function</code> encloses <code>var</code> in the own scope, so in theory there's no way to have a helper function to <code>var</code> for every object property. </p>\n\n<p>Thanks.</p>\n\n<p>PS. I would like to avoid any <code>eval</code> or <code>VM</code> of node solution. I have tried them in past, and too much problems. </p>\n",
            "last_activity_date": 1391623656,
            "question_id": 21562973,
            "score": 2,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "Is it possible to import variables in JavaScript (node.js)?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>data[i][category]\n</code></pre>\n\n<p>in JS, <code>obj.prop</code> is synonymous with <code>obj['prop']</code>.</p>\n\n<pre><code>var foo {\n  bar: 'baz'\n};\n// foo.bar == foo['bar'] == 'baz'\n</code></pre>\n\n<p>Also, you're dealing with a javascript object, not JSON (though it may have <em>originated</em> there)</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I'm trying to access a JSON using a variable I'm passing through a function:</p>\n\n<pre><code>function highlightCategory (category) {\n   for (var i in data) {\n      console.log(data[i].category)\n   }\n}\n</code></pre>\n\n<p>Obviously, this doesn't work, because 'category' is what I'm passing with the function and not the real name of the property, but I've been trying different possibilities unsuccessfully.\nThanks in advance!</p>\n",
            "last_activity_date": 1381419458,
            "question_id": 19300236,
            "score": 2,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "Accessing a JSON property (String) using a variable"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>That's because you shouldn't just use the <code>submit</code> function, but <code>trigger</code> the submit like:</p>\n\n<pre><code>$(\"#MyForm\").trigger('submit');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Browsers don't fire the form's <code>onsubmit</code> handler when you manually call <code>form.submit()</code>. If they did, it would be impossible to actually intercept and defer a submit without creating an infinite loop! </p>\n\n<p>jQuery also mimicks that (see this <a href=\"http://bugs.jquery.com/ticket/4930\" rel=\"nofollow\">\"wontfix\" \"bug\" report</a>).</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/645555/should-jquerys-form-submit-not-trigger-onsubmit-within-the-form-tag\">Should jQuery&#39;s $(form).submit(); not trigger onSubmit within the form tag?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/11172811/jquery-on-submit-doesnt-work\">JQuery: on submit doesn&#39;t work</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I have a HTML form with button:</p>\n\n<pre><code>&lt;form action=\"/\" method=\"post\" id=\"MyForm\"&gt;\n&lt;input type=\"hidden\" name=\"Field1\" value=\"Value1\" /&gt;\n&lt;input type=\"hidden\" name=\"Field2\" value=\"Value2\" /&gt;\n&lt;input type=\"submit\" name=\"name\" value=\"submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I have event handler for submit attached to Window:</p>\n\n<pre><code>window.onsubmit = function()\n{\n    alert(\"Submit happening!\");\n};\n</code></pre>\n\n<p>This event handler fires properly if I click \"Submit\" button.\nHowever events never works when submit is triggered programatically from javascript:</p>\n\n<pre><code>$(\"#MyForm\")[0].submit();\n</code></pre>\n\n<p>How to catch submit event handler when it was initiated by Javascript, not by User click?\nI tried to subscribe for Form event using Jquery or AddEventListener - does not work.</p>\n",
            "last_activity_date": 1379023677,
            "question_id": 18774821,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "forms",
                "event-handling"
            ],
            "title": "submit event does not fire if submit initiated programatically"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>Never use <code>.onclick()</code>, or similar attributes from a userscript!</strong> (It's also <a href=\"http://stackoverflow.com/a/12627478/331508\">poor practice in a regular web page</a>).</p>\n\n<p>The reason is that userscripts operate in a sandbox (\"isolated world\"), and <code>onclick</code> operates in the target-page scope and cannot see any functions your script creates.</p>\n\n<p>Always use <a href=\"https://developer.mozilla.org/es/docs/DOM/elemento.addEventListener\"><code>addEventListener()</code><sup>Doc</sup></a> (or an equivalent library function, like jQuery <code>.on()</code>).</p>\n\n<p>So instead of code like:</p>\n\n<pre><code>something.outerHTML += '&lt;input onclick=\"resetEmotes()\" id=\"btnsave\" ...&gt;'\n</code></pre>\n\n<p><br>\nYou would use:</p>\n\n<pre><code>something.outerHTML += '&lt;input id=\"btnsave\" ...&gt;'\n\ndocument.getElementById (\"btnsave\").addEventListener (\"click\", resetEmotes, false);\n</code></pre>\n\n<hr>\n\n<p>For the loop, you can't pass data to an event listener like that  See <a href=\"https://developer.mozilla.org/es/docs/DOM/elemento.addEventListener\">the doc</a>.  Plus every time you change <code>innerHTML</code> like that, you destroy the previous event listeners!</p>\n\n<p>Without refactoring your code much, you can pass data with data attributes.  So use code like this:</p>\n\n<pre><code>for (i = 0; i &lt; EmoteURLLines.length; i++) {\n    if (checkIMG (EmoteURLLines[i])) {\n        localStorage.setItem (\"nameEmotes\", JSON.stringify (EmoteNameLines));\n        localStorage.setItem (\"urlEmotes\", JSON.stringify (EmoteURLLines));\n        localStorage.setItem (\"usageEmotes\", JSON.stringify (EmoteUsageLines));\n        if (i == 0) {\n            console.log (resetSlot ());\n        }\n        emoteTab[2].innerHTML  += '&lt;span style=\"cursor:pointer;\" id=\"' \n                                + EmoteNameLines[i] \n                                + '\" data-usage=\"' + EmoteUsageLines[i] + '\"&gt;'\n                                + '&lt;img src=\"' + EmoteURLLines[i] + '\" /&gt;&lt;/span&gt;'\n                                ;\n    } else {\n        alert (\"The maximum emote (\" + EmoteNameLines[i] + \") size is (36x36)\");\n    }\n}\n//-- Only add events when innerHTML overwrites are done.\nvar targetSpans = emoteTab[2].querySelectorAll (\"span[data-usage]\");\nfor (var J in targetSpans) {\n    targetSpans[J].addEventListener (\"click\", appendEmote, false);\n}\n</code></pre>\n\n<p>Where appendEmote is like:</p>\n\n<pre><code>function appendEmote (zEvent) {\n    //-- this and the parameter are special in event handlers.  see the linked doc.\n    var emoteUsage  = this.getAttribute (\"data-usage\");\n    shoutdata.value += emoteUsage;\n}\n</code></pre>\n\n<p><br></p>\n\n<h1>WARNINGS:</h1>\n\n<ul>\n<li>Your code reuses the same id for several elements.  Don't do this, it's invalid.  A given ID should occur only once per page.</li>\n<li>Every time you use <code>.outerHTML</code> or <code>.innerHTML</code>, you trash any event handlers on the affected nodes.  If you use this method beware of that fact.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I'm trying to make a userscript for a website to add custom emotes. However, I've been getting a lot of errors as I finalized. </p>\n\n<p>Here is the function code:</p>\n\n<pre><code>function saveEmotes() {\n    removeLineBreaks();\n    EmoteNameLines = EmoteName.value.split(\"\\n\");\n    EmoteURLLines = EmoteURL.value.split(\"\\n\");\n    EmoteUsageLines = EmoteUsage.value.split(\"\\n\");\n\n    if (EmoteNameLines.length == EmoteURLLines.length &amp;&amp; EmoteURLLines.length == EmoteUsageLines.length) {\n        for (i = 0; i &lt; EmoteURLLines.length; i++) {\n            if (checkIMG(EmoteURLLines[i])) {\n                localStorage.setItem(\"nameEmotes\", JSON.stringify(EmoteNameLines));\n                localStorage.setItem(\"urlEmotes\", JSON.stringify(EmoteURLLines));\n                localStorage.setItem(\"usageEmotes\", JSON.stringify(EmoteUsageLines));\n                if (i == 0) {\n                    console.log(resetSlot());\n                }\n                emoteTab[2].innerHTML += '&lt;span style=\"cursor:pointer;\" onclick=\"appendEmote(\\'' + EmoteUsageLines[i] + '\\')\"&gt;&lt;img src=\"' + EmoteURLLines[i] + '\" /&gt;&lt;/span&gt;';\n            } else {\n                alert(\"The maximum emote(\" + EmoteNameLines[i] + \") size is (36x36)\");\n            }\n        }\n    } else {\n        alert(\"You have an unbalanced amount of emote parameters.\");\n    }\n}\n</code></pre>\n\n<p>The span tag onclick calls this function:</p>\n\n<pre><code>function appendEmote(em) {\n    shoutdata.value += em;\n}\n</code></pre>\n\n<p>What's wrong? I keep getting a: Uncaught ReferenceError: function is not defined. Every time I click a button that has an <code>onclick</code> attribute.</p>\n\n<p>[The complete script is posted at pastebin.com][1].</p>\n\n<p>Help would be appreciated.</p>\n\n<p>Thank you!</p>\n\n<p>Edit:\nI tried using:</p>\n\n<pre><code>emoteTab[2].innerHTML += '&lt;span style=\"cursor:pointer;\" id=\"'+ EmoteNameLines[i] +'\"&gt;&lt;img src=\"' + EmoteURLLines[i] + '\" /&gt;&lt;/span&gt;';\ndocument.getElementById(EmoteNameLines[i]).addEventListener(\"click\", appendEmote(EmoteUsageLines[i]), false);\n</code></pre>\n\n<p>Got an undefined error.</p>\n\n<p>Here is the script:\n<a href=\"http://pastebin.com/RVSV9rR0\" rel=\"nofollow\">http://pastebin.com/RVSV9rR0</a></p>\n\n<p>I tried doing this to test to see if listeners work and they don't for me.</p>\n\n<pre><code>emoteTab[2].innerHTML = '&lt;td class=\"trow1\" width=\"12%\" align=\"center\"&gt;&lt;a id=\"togglemenu\" style=\"cursor: pointer;\"&gt;Custom Icons&lt;/a&gt;&lt;/br&gt;&lt;a style=\"cursor: pointer;\" id=\"smilies\" onclick=\\'window.open(\"misc.php?action=smilies&amp;amp;popup=true&amp;amp;editor=clickableEditor\",\"Smilies\",\"scrollbars=yes, menubar=no,width=460,height=360,toolbar=no\");\\' original-title=\"\"&gt;Smilies&lt;/a&gt;&lt;br&gt;&lt;a style=\"cursor: pointer;\" onclick=\\'window.open(\"shoutbox.php\",\"Shoutbox\",\"scrollbars=yes, menubar=no,width=825,height=449,toolbar=no\");\\' original-title=\"\"&gt;Popup&lt;/a&gt;&lt;/td&gt;&lt;/br&gt;';\ndocument.getElementById(\"togglemenu\").addEventListener(\"click\", changedisplay,false);\n</code></pre>\n",
            "last_activity_date": 1372506201,
            "question_id": 17378199,
            "score": 2,
            "tags": [
                "javascript",
                "onclick",
                "userscripts"
            ],
            "title": "Uncaught ReferenceError: function is not defined with onclick"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If you are using <a href=\"http://modernizr.com/\" rel=\"nofollow\">Modernizr</a>, load that in the head. Load your other scripts, including jquery, in the bottom of the <code>body</code> (unless specified otherwise -- some scripts will require to be <code>head</code>). Ideally, your _Layout.cshtml would look like:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;!-- head stuff --&gt;\n    @Scripts.Render(\"~/bundles/modernizr\")\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;!-- your entire body --&gt;\n    @Scripts.Render(\"~/bundles/jquery\")\n    @RenderSection(\"scripts\", required: false)\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So that will load your jQuery bundle, and then a section where you can load custom scripts per page, as needed, like (in some other <code>.cshtml</code> file):</p>\n\n<pre><code>@section Scripts {\n    @Scripts.Render(\"~/bundles/myNiceBundle\")\n}\n</code></pre>\n\n<p>so it will put your custom scripts under jQuery.</p>\n\n<p><a href=\"http://developer.yahoo.com/performance/rules.html#js_bottom\" rel=\"nofollow\">Obligatory reason for putting scripts at bottom of page</a>:</p>\n\n<blockquote>\n  <p>The problem caused by scripts is that they block parallel downloads.\n  The HTTP/1.1 specification suggests that browsers download no more\n  than two components in parallel per hostname. If you serve your images\n  from multiple hostnames, you can get more than two downloads to occur\n  in parallel. While a script is downloading, however, the browser won't\n  start any other downloads, even on different hostnames.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I am fairly new to MVC and I have noticed a lot of inconsistencies with loading js files I have written and tried to load.</p>\n\n<p>To start, here is how I have my website setup:</p>\n\n<pre><code>    _Layout.cshtml (main page)\nIndex.cshtml\n_MainMenu.cshtml (partial view)\n</code></pre>\n\n<p>I render my MainMenu in the body of Layout.  All jquery scripts are loaded in the footer of layout (I read somewhere that was preferrable).</p>\n\n<p>When I render a view, I load any specific scripts related to that content at the top of the view.</p>\n\n<p>What is the best way to go about loading javascript files (whether it's cdn files from google or files included in my project)?  Should I load all of them in the header of my layout page, or just load them as I use them?  Can someone please explain the best practice and managing/loading/using javascript files in an mvc application.</p>\n\n<p>Thank you for your input!</p>\n",
            "last_activity_date": 1393952027,
            "question_id": 14784616,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "asp.net-mvc"
            ],
            "title": "MVC 4 - Where to load JS Scripts"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The data applies to the div, the attributes should be on the div. If you want to format your code with one item per line, then you can.</p>\n\n<pre><code>&lt;div class=\"item\"\n     data-id=\"123\"\n     data-type=\"sometype\"\n     data-validate=\"true\"&gt;\n</code></pre>\n\n<p>There are no elements designed for storing meta data that go in the document body.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>If it is meta data for the whole document that might be useful for visitors or bots, you should use the <a href=\"http://www.w3.org/TR/html5/document-metadata.html#the-meta-element\" rel=\"nofollow\"><code>meta</code> element</a>. You may only use <a href=\"http://www.w3.org/TR/html5/document-metadata.html#standard-metadata-names\" rel=\"nofollow\">defined</a> or <a href=\"http://wiki.whatwg.org/wiki/MetaExtensions\" rel=\"nofollow\">registered <code>name</code> values</a> (but you could <a href=\"http://www.w3.org/TR/html5/document-metadata.html#other-metadata-names\" rel=\"nofollow\">register</a> new ones in the wiki).</p>\n\n<p>For meta data that is only needed for your scripts etc., you may use <a href=\"http://www.w3.org/TR/html5/dom.html#embedding-custom-non-visible-data-with-the-data-%2a-attributes\" rel=\"nofollow\"><code>data-*</code> attributes</a> on existing elements (e.g. <code>body</code>) or you may use the <a href=\"http://www.w3.org/TR/html5/scripting-1.html#the-script-element\" rel=\"nofollow\"><code>script</code> element</a>:</p>\n\n<blockquote>\n  <p>The <code>script</code> element allows authors to include dynamic script and <strong>data blocks</strong> in their documents. The element <strong>does not represent content for the user</strong>.</p>\n  \n  <p>[\u2026]</p>\n  \n  <p>When used to include data blocks (as opposed to scripts), the data must be embedded inline, the format of the data must be given using the <code>type</code> attribute, the <code>src</code> attribute must not be specified, and the contents of the <code>script</code> element must conform to the requirements defined for the format used.</p>\n</blockquote>\n\n<p>You can place this element in the <code>head</code> or in the document body where <a href=\"http://www.w3.org/TR/html5/dom.html#phrasing-content-1\" rel=\"nofollow\">phrasing content</a> (like <code>span</code>) can be used, too.</p>\n\n<p>There is an informative example for the use as data block (instead of script):</p>\n\n<blockquote>\n<pre><code> &lt;script type=\"text/x-game-map\"&gt;\n ........U.........e\n o............A....e\n .....A.....AAA....e\n .A..AAA...AAAAA...e\n &lt;/script&gt;\n</code></pre>\n</blockquote>\n\n<p>So you could use HTML or JSON or whatever format you need.</p>\n\n<p>If you'd want to use HTML, it may (<em>*</em>) look like:</p>\n\n<pre><code>&lt;div class=\"item\"&gt;\n  &lt;script type=\"text/html\"&gt;\n    &lt;div data-id=\"123\"&gt;&lt;/div&gt;\n    &lt;div data-foo=\"bar\"&gt;&lt;/div&gt;\n    &lt;div&gt;foobar&lt;/div&gt;\n  &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><em>*</em> (<a href=\"http://stackoverflow.com/q/19135200/1591669\">I'm not sure</a> if it has to be a \"full\" conforming HTML document or if \"snippets\", like in my example, are allowed, too)</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there any meainingless HTML tag should I use to carry additional meta data, for example attributes for JavaScript for specified block/area ? like:</p>\n\n<pre><code>&lt;div class=\"item\"&gt;\n   &lt;meaninglesselement data-id=\"123\"&gt;\n   &lt;meaninglesselement data-type=\"sometype\"&gt;\n   &lt;meaninglesselement data-validate=\"true\"&gt;\n\n   ...\n&lt;/div&gt;\n</code></pre>\n\n<p>I know that I can move <code>data-*</code> attributes to <code>div class=\"item\"</code> but I want a solution for clean code, even if there will be a lot of parameters.</p>\n",
            "last_activity_date": 1380710950,
            "question_id": 14428215,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "html5",
                "metadata"
            ],
            "title": "What tag in HTML should I use without special meaning, only to carry meta data?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can try this instead:</p>\n\n<pre><code>var wrap = document.createElement('div');\nvar scr = document.createElement('script');\nscr.src = scriptUrl;\nscr.type = 'text/javascript';\nwrap.appendChild(scr);\ndocument.body.appendChild(wrap);\n</code></pre>\n\n<p>By creating the script tag explicitly you're telling JS that the innerHTML is not a text but instead it's an executable script.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This one was trivial.</p>\n\n<p>As stated in spec (<a href=\"http://dev.w3.org/html5/spec/the-end.html#parsing-html-fragments\">8.4 Parsing HTML fragments</a> and <a href=\"http://dev.w3.org/html5/spec/parsing.html#scripting-flag\">8.2.3.5 Other parsing state flags</a>,) quote:</p>\n\n<p><em>when using <code>innerHTML</code> the browser will</em></p>\n\n<blockquote>\n  <ol>\n  <li><p>Create a new Document node, and mark it as being an HTML document.</p></li>\n  <li><p>If there is a context element, and the Document of the context element is in quirks mode, then let the Document be in quirks mode.\n  Otherwise, if there is a context element, and the Document of the\n  context element is in limited-quirks mode, then let the Document be in\n  limited-quirks mode. Otherwise, leave the Document in no-quirks mode.</p></li>\n  <li><p>Create a new HTML parser, and associate it with the just created Document node.\n  ...</p></li>\n  </ol>\n</blockquote>\n\n<p><em>and when parsing a <code>&lt;script&gt;</code> inside</em></p>\n\n<blockquote>\n  <p>The scripting flag is set to \"enabled\" if scripting was enabled for\n  the Document with which the parser is associated when the parser was\n  created, and \"disabled\" otherwise.</p>\n  \n  <p>The scripting flag can be enabled even when the parser was originally\n  created for the HTML fragment parsing algorithm, even though script\n  elements don't execute in that case.</p>\n</blockquote>\n\n<p>So it won't be executed, as long as you inject it with <code>innerHTML</code>. </p>\n\n<p>And using <code>innerHTML</code> will prevent <em>the</em> <code>&lt;script&gt;</code> element created from being executed permanently.</p>\n\n<p>As stated in spec (<a href=\"http://dev.w3.org/html5/spec/the-script-element.html#attr-script-src\">4.3.1 The script element</a>,) quote:</p>\n\n<blockquote>\n  <p>Changing the src, type, charset, async, and defer attributes dynamically has no direct effect; these attribute are only used at specific times described below.</p>\n</blockquote>\n\n<p>Concluding the <em>described below</em> is that, it only parse the <code>src</code> attribute when injecting the <code>&lt;script&gt;</code> to the <code>document</code> (no matter which, including the <a href=\"http://dev.w3.org/html5/spec/the-end.html#parsing-html-fragments\">temporary one</a> created when using <code>innerHTML</code>.)</p>\n\n<p>So, as long as you want to inject a script to the document and make it executed, you have to use <code>script = document.createElement('script')</code>.</p>\n\n<p>Set its attributes like <code>src</code> and <code>type</code>, possibly the contents inside (by using <code>script.appendChild(document.createTextNode(content))</code>), then append it to the <code>document.body</code>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>A possible solution, when you don't have control over the insertion mechanism and you are forced to use innerHTML with <code>script</code> beacons, is to rebuild DOM Nodes from the \"ghost\" ones.</p>\n\n<p>This is a recurring problem in the ad-tech industry, in a which many automated systems duplicate arbitrary HTML code (aka. adservers ^^).</p>\n\n<p>works fine in Chrome:</p>\n\n<pre><code>var s = wrap.getElementsByTagName('script');\nfor (var i = 0; i &lt; s.length ; i++) {\n  var node=s[i], parent=node.parentElement, d = document.createElement('script');\n  d.async=node.async;\n  d.src=node.src;\n  parent.insertBefore(d,node);\n  parent.removeChild(node);\n}\n</code></pre>\n\n<p>(you can <a href=\"http://jsfiddle.net/samuel_29/qe3htbbr/\" rel=\"nofollow\">test it in JSFiddle</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>here goes the js code </p>\n\n<pre><code>var wrap = document.createElement(\"div\");\nwrap.innerHTML = '&lt;script type=\"text/javascript\" src=\"'+scriptUrl+'\"&gt;&lt;/script&gt;';\nvar wrapscript = wrap.childNodes[0];\ndocument.body.appendChild(wrapscript)\n</code></pre>\n\n<p>the body did insert the script element,but the js resource was't load,even no http request...</p>\n\n<p>who can tell me why~~  </p>\n\n<p>the problem goes with Zeptojs's $ method</p>\n\n<pre><code>$('&lt;script type=\"text/javascript\" src=\"'+scriptUrl+'\"&gt;&lt;/script&gt;').appendTo($(\"bdoy\"))\n</code></pre>\n\n<p>it works like the code above,and cause the bug</p>\n",
            "last_activity_date": 1411740016,
            "question_id": 13390588,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "script tag create with innerHTML of a div doesn&#39;t work"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>According to <a href=\"http://en.wikipedia.org/wiki/Julian_day#Converting_Gregorian_calendar_date_to_Julian_Day_Number\" rel=\"nofollow\">wikipedia</a>:</p>\n\n<pre><code>a = (14 - month) / 12\ny = year + 4800 - a\nm = month + 12a - 3\nJDN = day + (153m + 2) / 5 + 365y + y/4 - y/100 + y/400 - 32045\n</code></pre>\n\n<p>If you're having a more specific problem with the implementation, provide those details in the question so we can help further.</p>\n\n<p>NOTE : This is not correct because the \"floor brackets\" on Wiki were forgotten here.</p>\n\n<p>The correct formulas are:</p>\n\n<pre><code>a = Int((14 - Month) / 12)\ny = Year + 4800 - a\nm = Month + 12 * a - 3\nJDN = Day + Int((153 * m + 2) / 5) + 365 * y + Int(y / 4) - Int(y / 100) + Int(y / 400) - 32045\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>new Date().getTime()/86400000 + 2440587.5</code>\nwill get the unix time stamp, convert it to days and add the JD of 1970-01-01, which is the epoch of the unix time stamp.</p>\n\n<p>This is what astronomers call julian date. It is well defined. Since neither Unix time stamp nor JD take leap seconds into account that does not reduce the accuracy. Note that JD need not be in timezone UTC (but usually is). This answer gives you the JD in timezone UTC.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If what you're looking for is the julian day that would equal 2456141 today, or in other words the number of days since the beginning of the Julian period :</p>\n\n<pre><code>Date.prototype.getJulian = function() {\n    return Math.floor((this / 86400000) - (this.getTimezoneOffset()/1440) + 2440587.5);\n}\n\nvar today = new Date(); //set any date\nvar julian = today.getJulian(); //get Julian counterpart \n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/gkyYJ/\" rel=\"nofollow\">FIDDLE</a></p>\n\n<p>The day of the year is normally reffered to as a Julian Date, not Day.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have requirement to calculate <code>jday</code> in javascript , for doing client side validation , Can any one help me how to calculate <code>JDAY</code> in javascript or script to change given JDAY to actual date or vice versa . </p>\n\n<p>To know what is JDay ,I found the following site , </p>\n\n<p><a href=\"http://www.pauahtun.org/Software/jday.1.html\" rel=\"nofollow\">http://www.pauahtun.org/Software/jday.1.html</a></p>\n\n<p>Am also refering the below site for calculation which is mentioned in JAVA </p>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0506.html\" rel=\"nofollow\">http://www.rgagnon.com/javadetails/java-0506.html</a></p>\n\n<p>Thank you in advance</p>\n",
            "last_activity_date": 1417970928,
            "question_id": 11759992,
            "score": 2,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Calculating Jday(Julian Day) in javascript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I would guess this isn't part of the spec of Phonegap itself rather then a native code solution that you might have to make a phonegap plugin for.</p>\n\n<p>I can't answer for Android but on IOS as the app is sandboxed I'm not sure you would be able to access the amount of free space. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In phone gap you may not be able to get it done, but instead you can create and use a plugin. Click <a href=\"http://docs.phonegap.com/en/2.0.0/guide_plugin-development_index.md.html#Plugin%20Development%20Guide\" rel=\"nofollow\" title=\"Plugin Development Guide\">here</a> for more information that may lead you to a solution for your problem.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Phonegap doesn't provide this function, I think.<br />\nSo you need to to get the available space from SD card by Java, native Android SDK.</p>\n\n<p>Something like this:</p>\n\n<pre><code>File sdcard = Environment.getExternalStorageDirectory();\nStatFs stat = new StatFs(sdcard.getAbsolutePath());\nlong available = stat.getAvailableBlocks() * (long) stat.getBlockSize();\n</code></pre>\n\n<p>Then pass the value via intent into PhoneGap using <a href=\"http://smus.com/android-phonegap-plugins/\" rel=\"nofollow\">WebIntent</a> plugin. Now you get the available free space in PhoneGap .</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>mostly for self-reference, there is now an api for this : </p>\n\n<pre><code>cordova.exec(win, fail, \"File\", \"getFreeDiskSpace\", []);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>As mentioned by @RomainMF, the following works in Cordova 3.4.1-0.1.0:</p>\n\n<pre><code>cordova.exec(\n    function(freeSpace) {\n      alert('reported free space is ' + freeSpace);\n    },\n    function() {\n      alert('failed');\n    }, \n    \"File\", \"getFreeDiskSpace\", []\n  );\n</code></pre>\n\n<p>The freeSpace argument is the available storage in KB or -1 if not available.</p>\n\n<p>It works on a 4.0 AVD and my Galaxy S4, and reports external storage correctly (see below).</p>\n\n<p>Don't forget to run your code after <code>deviceready</code> and <code>cordova plugin add org.apache.cordova.file</code></p>\n\n<p>Plugin docs: <a href=\"https://github.com/apache/cordova-plugin-file/blob/master/doc/index.md\" rel=\"nofollow\">https://github.com/apache/cordova-plugin-file/blob/master/doc/index.md</a></p>\n\n<p>This call is not mentioned in the documentation, but the <a href=\"https://github.com/apache/cordova-plugin-file/blob/4435819f6356e14602a4173d32e08576be473eca/src/android/FileUtils.java#L252\" rel=\"nofollow\">Java/Android source code</a> is available to read. AFAIK you can only get the free space of the <em>external storage</em> this way, as the checkInternal parameter is set to false (see <a href=\"https://github.com/apache/cordova-plugin-file/blob/0e2ce7be57607b87d852ae55d6508d2651b5c8ed/src/android/DirectoryManager.java#L63\" rel=\"nofollow\">getFreeDiskSpace</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Before founding this post I create my own function that do this, trying to get a filesystem with a determined bytes until reach the limit and assume the free space, recursively. Due the callbacks, maybe it's necessary set a timeout bigger than 0. In my tests, the diference between the cordova.exec way and my way was very small, and is possible better the accuracy lowering the value of the limit.</p>\n\n<pre><code>function availableBytes(callback, start, end){\n    callback = callback == null ? function(){} : callback\n    start = start == null ? 0 : start\n    end = end == null ? 1 * 1024 * 1024 * 1024 * 1024 : end //starting with 1 TB\n    limit = 1024 // precision of 1kb\n\n    start_temp = start\n    end_temp = end\n    callback_temp = callback\n    if (end - start &lt; limit)\n        callback(start)\n    else{\n        window.requestFileSystem(LocalFileSystem.PERSISTENT, parseInt(end_temp - ((end_temp - start_temp) / 2)), function(fileSystem){\n            setTimeout(function(){\n                availableBytes(callback_temp, parseInt(parseInt(end_temp - ((end_temp - start_temp) / 2))), end_temp)\n            }, 0)\n        }, function(){\n            setTimeout(function(){\n                availableBytes(callback_temp, start_temp, parseInt(end_temp - ((end_temp - start_temp) / 2)))\n            }, 0)\n        })\n    }\n}\n</code></pre>\n\n<p>Can be used like:</p>\n\n<pre><code>availableBytes(function(free_bytes){\n    alert(free_bytes)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using PhoneGap and am trying to display to the user the amount of free space available for storage. </p>\n\n<p>I have tried various different types of code to get this to work but without luck.</p>\n\n<p>Does anyone have a working example of how to display free storage space in PhoneGap? I am currently working in android but I'm looking for a phonegap cross platform solution. </p>\n\n<p>Thank you. </p>\n",
            "last_activity_date": 1404929033,
            "question_id": 11604929,
            "score": 2,
            "tags": [
                "javascript",
                "android",
                "cordova"
            ],
            "title": "PhoneGap - Display available free space?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>As far as I know, you can't modify the buttons in a browser with scripts.</p>\n\n<p>Since you're working with IE, you <strong>may</strong> be able to use either VBScript or JScript, but I doubt you'll be able to disable the reload button. </p>\n\n<p>More reading:</p>\n\n<p><a href=\"http://www.webdeveloper.com/forum/showthread.php?t=62177\" rel=\"nofollow\">http://www.webdeveloper.com/forum/showthread.php?t=62177</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>No, you cannot reliably, reasonably do that. Even IE's \"kiosk mode\" allows back, forward, and refresh (via keyboard shortcuts).</p>\n\n<p>On an actual web page (a real page out on the web), disabling back/forward/refresh would of course be <em>extremely</em> inappropriate behavior and I assume that's not what you're trying to do. (Instead, use history libraries and such to ensure your page/web app actually works <em>with</em> the back and forward buttons to do what the user expects.)</p>\n\n<p>Mind you, if you provide a link that opens a new window (which will probably actually end up being a new tab in most modern browsers), your page will be the first page in that window's history and so the Back button will automatically be disabled. And if your page doesn't offer any links anywhere else, it'll stay that way. And if the user hasn't gone Back, by definition they can't go Forward. Nothing you can do about Refresh, though.</p>\n\n<p>If you have a genuine reason for actually disabling those actions (some kind of intranet application, that sort of thing), you'll probably have to distribute an actual application (for instance, .Net app via No Touch Deployment or similar) that incorporates a web browser control, which gives you the HTML/CSS/JavaScript environment but with dramatically higher control over that environment.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/961188/disable-browsers-back-button\">Disable browser&#39;s back button</a>  </p>\n</blockquote>\n\n\n\n<p>Is there any way to disable browser(specifically IE) BACK button, FORWARD button, REFRESH button by javascript. So that, when ever any user will click on any button nothing will happen. </p>\n",
            "last_activity_date": 1320924769,
            "question_id": 8078650,
            "score": 2,
            "tags": [
                "javascript",
                "internet-explorer",
                "browser",
                "button"
            ],
            "title": "Can we disable browser&#39;s buttons(back/forward/refresh) by javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The global context (<code>window</code> in a browser) is the value <code>this</code> gets when there's no other value to use.</p>\n\n<p>Your local variables are local (that is, not properties of <code>window</code>). They're declared inside the function with <code>var</code>.</p>\n\n<p>The reason why adding <code>var h = (function(){...</code> makes no difference is because of the way you call the function. The function reference is not a property value of an object (like <code>something.func()</code>), and you don't invoke it with <code>.call()</code> or <code>.apply()</code>, so therefore this refers to the global (<code>window</code>) object. That's just the way the language is defined to act. </p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>@Pointy is correct, but he doesn't present the whole issue - you might be interested in <a href=\"http://stackoverflow.com/questions/6467282/javascript-with-new-or-not/6473416#6473416\">this related answer</a>. The issue here is that if you aren't using the <code>new</code> keyword, you aren't instantiating an object, so there's no instance for <code>this</code> to refer to. In the absence of an instance, <code>this</code> refers to the <code>window</code> object.</p>\n\n<p>In general, you don't need <code>this</code> within an IIFE, because you have direct access to any function or variable defined in the anonymous function's scope - <code>show()</code> can call <code>x()</code> and <code>y()</code> directly, so there's no need for a <code>this</code> reference. There may be a valid use case for instantiating an IIFE with <code>new</code>, but I've never come across it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>In the following construct:</p>\n\n<pre><code>(function(){\n\n    var x = function(){\n        alert('hi!');\n    }\n\n    var y = function(){\n        alert(\"hi again!\");\n    }\n\n    this.show = function(){\n        alert(\"This is show function!\");\n    }\n\n})();\n</code></pre>\n\n<p>Why does <code>this</code> refer to <code>window</code> object? Should everything inside IIFE be isolated from global scope? Are <code>x</code> and <code>y</code> functions also properties of <code>window</code> global object?</p>\n\n<p>Also, even if I use put <code>var h = ...</code> at the beginning:</p>\n\n<pre><code>var h = (function(){\n\n    var x = function(){\n        alert('hi!');\n    }\n\n    var y = function(){\n        alert(\"hi again!\");\n    }\n\n    this.show = function(){\n        alert(\"This is show function!\");\n    }\n\n})();\n</code></pre>\n\n<p><code>this</code> still refers to window object -- I can just call <code>show()</code> from the global scope! How come?</p>\n",
            "last_activity_date": 1410197845,
            "question_id": 7653757,
            "score": 2,
            "tags": [
                "javascript",
                "this",
                "iife"
            ],
            "title": "IIFE context issues"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><a href=\"http://msdn.microsoft.com/en-us/library/t5az126b%28v=vs.85%29.aspx\">split Method</a></p>\n\n<p>It's fully supported by IE8</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/t5az126b%28v=vs.80%29.aspx\">split method for JScript 5.6</a></p>\n\n<p>It's also fully supported by IE6</p>\n\n<p><a href=\"http://jsfiddle.net/UqAET/3/\">Live example</a> using <code>.split(/\\s+/)</code> </p>\n\n<p>Tested in IE9 standards, IE9 IE8 mode, IE9 IE7 mode and IE9 quirks mode. All work.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Turns out your actual problem is using <code>.textContent</code>. This does not work in IE. There are two alternatives.</p>\n\n<p><strong>Feature detection:</strong></p>\n\n<pre><code>var str;\nif (el.textContent) {\n  str = el.textContent;\n} else {\n  str = el.innerText;\n}\n</code></pre>\n\n<p><strong>.nodeValue:</strong></p>\n\n\n\n<p><code>var str = el.nodeValue;</code></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>There is at least one difference between IE below #9 and most other browsers when dealing with string splitting-</p>\n\n<p>var s='In some browsers, you can \"split\" a  string on a parenthized delimeter and return the \"split-off\" bits in the array.';</p>\n\n<pre><code>s.split(/( ?['\"] ?)/).join('\\n')\n\n/***************************************************/\nFirefox 4.0.1&gt;&gt;\n In some browsers, you can\n \"\nsplit\n\" \na  string on a parenthized delimeter and return the\n \"\nsplit-off\n\" \nbits in the array.\n/***************************************************/    \nMSIE 8.0&gt;&gt;\n In some browsers, you can\nsplit\na  string on a parenthized delimeter and return the\nsplit-off\nbits in the array.\n/***************************************************/    \nMSIE 9.0&gt;&gt;\n In some browsers, you can\n \"\nsplit\n\" \na  string on a parenthized delimeter and return the\n \"\nsplit-off\n\" \nbits in the array.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>When you split a number instead of String, Javascript throws - Object doesn't support this property.</p>\n\n<p>Make sure you have a string value in var.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using the split function in JavaScript.  It  works fine in Firefox and Chrome, but IE displays an error when I call the split function.  Is there a way to use other function like split?</p>\n",
            "last_activity_date": 1373478938,
            "question_id": 6422355,
            "score": 2,
            "tags": [
                "javascript",
                "internet-explorer"
            ],
            "title": "JavaScript split function not working in IE"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can parse the date using the <code>Date</code> constructor, then spit out the individual time components:</p>\n\n<pre><code>function convert(str) {\n    var date = new Date(str),\n        mnth = (\"0\" + (date.getMonth()+1)).slice(-2),\n        day  = (\"0\" + date.getDate()).slice(-2);\n    return [ date.getFullYear(), mnth, day ].join(\"-\");\n}\n\nconvert(\"Thu Jun 09 2011 00:00:00 GMT+0530 (India Standard Time)\");\n//-&gt; \"2011-06-08\"\n</code></pre>\n\n<p>As you can see from the result though, this will parse the date into the local time zone.  If you want to keep the date based on the original time zone, the easiest approach is to split the string and extract the parts you need:</p>\n\n<pre><code>function convert(str) {\n    var mnths = { \n        Jan:\"01\", Feb:\"02\", Mar:\"03\", Apr:\"04\", May:\"05\", Jun:\"06\",\n        Jul:\"07\", Aug:\"08\", Sep:\"09\", Oct:\"10\", Nov:\"11\", Dec:\"12\"\n    },\n    date = str.split(\" \");\n\n    return [ date[3], mnths[date[1]], date[2] ].join(\"-\");\n}\n\nconvert(\"Thu Jun 09 2011 00:00:00 GMT+0530 (India Standard Time)\");\n//-&gt; \"2011-06-09\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>How can I convert the time from the format \"Thu Jun 09 2011 00:00:00 GMT+0530 (India Standard Time)\" to YYYY-MM-DD.</p>\n\n<p>When I try to alert() the date then this will show the date like the following\n- Thu Jun 09 2011 00:00:00 GMT+0530 (India Standard Time)</p>\n\n<p>But I need the time in YYYY-MM-DD format.</p>\n\n<p>are there any built function to convert.</p>\n",
            "last_activity_date": 1307620381,
            "question_id": 6291225,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "COnvert date from Thu Jun 09 2011 00:00:00 GMT+0530 (India Standard Time) to YYYY-MM-DD in javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This issue might cause because of using position property in CSS. \nposition absolute is not necessary for '.image_reel' class, try with float:left.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The slider should function nice and smooth. Instead the animation isn't working smoothly. Here are the HTML, CSS and Javascript.  I looked and looked and looked and can't find the clue. Rotating is not smooth, caption does not match the image, the last image doesn't even appear.   (Here is the <a href=\"http://www.sohtanaka.com/web-design/examples/image-slider\" rel=\"nofollow\">actual demo</a>).<br>\n  Here are some sample images showing a bit of the problem:  </p>\n\n<p><img src=\"http://i.stack.imgur.com/3mO6o.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/rdxeT.png\" alt=\"enter image description here\"></p>\n\n<pre><code>&lt;IMG ID=\"slideshowPicturePlaceholder\" src=\"/_layouts/images/GEARS_AN.GIF\" style=\"display:none\"/&gt;\n\n&lt;div id=\"slideshowContentArea\" style=\"display:none; width:255px;\"&gt; \n    &lt;div class=\"main_view\"&gt;\n        &lt;div class=\"window\"&gt;\n            &lt;div class=\"image_reel\"&gt; &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"paging\"&gt;\n            &lt;a href=\"#\" rel=\"1\"&gt;1&lt;/a&gt;\n            &lt;a href=\"#\" rel=\"2\"&gt;2&lt;/a&gt;\n            &lt;a href=\"#\" rel=\"3\"&gt;3&lt;/a&gt;\n            &lt;a href=\"#\" rel=\"4\"&gt;4&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;     \n&lt;/div&gt;\n\n&lt;style type=\"text/css\"&gt;\n/*--Main Container--*/\n.main_view {\n    float: left;\n    position: relative;\n}\n/*--Window/Masking Styles--*/\n.window {\n    height: 286px;  width: 790px;\n    overflow: hidden; /*--Hides anything outside of the set width/height--*/\n    position: relative;\n}\n.image_reel {\n    position: absolute;\n    top: 0; left: 0;\n}\n.image_reel img {float: left;}\n\n/*--Paging Styles--*/\n.paging {\n    position: absolute;\n    bottom: 40px; right: -7px;\n    width: 178px; height:47px;\n    z-index: 100; /*--Assures the paging stays on the top layer--*/\n    text-align: center;\n    line-height: 40px;\n    background: url(paging_bg2.png) no-repeat;\n    display: none; /*--Hidden by default, will be later shown with jQuery--*/\n}\n.paging a {\n    padding: 5px;\n    text-decoration: none;\n    color: #fff;\n}\n.paging a.active {\n    font-weight: bold;\n    background: #920000;\n    border: 1px solid #610000;\n    -moz-border-radius: 3px;\n    -khtml-border-radius: 3px;\n    -webkit-border-radius: 3px;\n}\n.paging a:hover {font-weight: bold;}\n&lt;/style&gt;\n\n&lt;script type=\"text/javascript\" src=\"_layouts/jquery/jquery-1.6.1.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"_layouts/jquery/jquery.cycle.all.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n$(document).ready(function() {\n\n    function GetAllImages()\n    {\n       $(\"#slideshowPicturePlaceholder\").css(\"display\", \"block\");\n       var soapEnv = \"&lt;soapenv:Envelope xmlns:soapenv='http://schemas.xmlsoap.org/soap/envelope/'&gt;&lt;soapenv:Body&gt;&lt;GetListItems xmlns='http://schemas.microsoft.com/sharepoint/soap/'&gt;\";\n       soapEnv += \"&lt;listName&gt;NewsRotator&lt;/listName&gt;\";\n       soapEnv += \"&lt;query&gt;&lt;Query&gt;&lt;OrderBy Override='TRUE'&gt;&lt;FieldRef Name='Created' Ascending='FALSE' /&gt;&lt;/OrderBy&gt;&lt;/Query&gt;&lt;/query&gt;\";\n       soapEnv += \"&lt;viewFields&gt;&lt;ViewFields&gt;&lt;FieldRef Name='Title'/&gt;&lt;FieldRef Name='ows_FileLeafRef'/&gt;&lt;FieldRef Name='NewsLink'/&gt;&lt;FieldRef Name='Description'/&gt;&lt;/ViewFields&gt;&lt;/viewFields&gt;&lt;rowLimit&gt;&lt;/rowLimit&gt;\";\n       soapEnv += \"&lt;/GetListItems&gt;&lt;/soapenv:Body&gt;&lt;/soapenv:Envelope&gt;\";\n\n       var port = window.location.port;\n       if (port.length &lt;= 0)\n       port = \"\";\n       else\n       port = \":\" + port;\n       var webservice = window.location.protocol + \"//\" + window.location.hostname + port + L_Menu_BaseUrl + \"/_vti_bin/lists.asmx\";\n\n       $.ajax(\n       {\n          url : webservice,\n          type : \"POST\",\n          dataType : \"xml\",\n          data : soapEnv,\n          complete : processQueryResults,\n          contentType : \"text/xml; charset=utf-8\",\n          error : function (xhr)\n          {\n             alert('Error!  Status = ' + xhr.status);\n          }\n       });   \n    }\n\n\n    function processQueryResults(xData, status)\n    {\n       var port = window.location.port;\n       if (port.length &lt;= 0)\n       port = \"\";\n       else\n       port = \":\" + port;\n       // Change the below to point to your image library\n       var imageURL = window.location.protocol + \"//\" + window.location.hostname + port + L_Menu_BaseUrl + \"/Splash Image Rotator/\";\n       var itemURL = window.location.protocol + \"//\" + window.location.hostname + port + L_Menu_BaseUrl + \"/Splash Image Rotator/Forms/DispForm.aspx?ID=\";\n\n       // $(\"#slideshowContentArea\").html(\"\")\n       $(xData.responseXML).find(\"z\\\\:row\").each(function ()\n       {\n          var title = $(this).attr(\"ows_Title\");\n          var headlines = $(this).attr(\"ows_Description\");\n          var imageLink = imageURL + $(this).attr(\"ows_FileLeafRef\").substring($(this).attr(\"ows_FileLeafRef\").indexOf('#') + 1);\n          // // var itemLink = itemURL + $(this).attr(\"ows_ID\");\n          var itemLink = $(this).attr(\"ows_NewsLink\");\n          //var liHtml = \"&lt;div&gt;&lt;a href='\" + itemLink + \"' target='_blank'&gt;&lt;img src='\" + imageLink + \"'/&gt;&lt;/a&gt;&lt;/div&gt;\";\n          //var liHtml =\"&lt;a target='_blank' border='0' href='\"+itemLink+\"'&gt;&lt;img src='\"+ imageLink +\"'/&gt;&lt;/a&gt;\";\n          var liHtml = \"&lt;a href='\"+itemLink+\"' target='_blank' border='0'&gt;&lt;img src='\" + imageLink +\"'/&gt;&lt;/a&gt;&lt;p&gt;\"+ title + \" - \" + headlines + \"&lt;/p&gt;\";\n          $(\".image_reel\").append(liHtml);\n\n\n\n        });\n\n        $(\"#slideshowPicturePlaceholder\").css(\"display\", \"none\"); \n\n        $(\"#slideshowContentArea\").css(\"display\", \"block\");\n\n\n\n         // Show the paging and activate its first link\n          $(\".paging\").show();\n          $(\".paging a:first\").addClass(\"active\");\n\n          // Get size of the image, how many images there are, then determin the size of the image reel.\n          var imageWidth = $(\".window\").width();\n          var imageSum = $(\".image_reel img\").size();\n          var imageReelWidth = imageWidth * imageSum;\n\n          // Adjust the image reel to its new size\n          $(\".image_reel\").css(\n          {\n             'width' : imageReelWidth\n          }\n          );\n\n\n\n        // Paging  and Slider Function\n        rotate = function ()\n        {\n           var triggerID = $active.attr(\"rel\") - 1;\n           // Get number of times to slide\n           var image_reelPosition = triggerID * imageWidth;\n           // Determines the distance the image reel needs to slide\n\n           $(\".paging a\").removeClass('active');\n           // Remove all active class\n           $active.addClass('active');\n           // Add active class (the $active is declared in the rotateSwitch function)\n\n           // Slider Animation\n           $(\".image_reel\").animate(\n           {\n              left : - image_reelPosition\n           }\n           , 500);\n\n        }\n        ;\n\n        // Rotation  and Timing Event\n        rotateSwitch = function ()\n        {\n           play = setInterval(function ()\n           {\n              // Set timer - this will repeat itself every 7 seconds\n              $active = $('.paging a.active').next();\n              // Move to the next paging\n              if ($active.length === 0)\n              {\n                 // If paging reaches the end...\n                 $active = $('.paging a:first');\n                 // go back to first\n              }\n              rotate();\n              // Trigger the paging and slider function\n           }\n           , 3000);\n           // Timer speed in milliseconds (7 seconds)\n        }\n        ;\n\n        rotateSwitch();\n        // Run function on launch\n\n        // On Hover\n        $(\".image_reel a\").hover(function ()\n        {\n           clearInterval(play);\n           // Stop the rotation\n        }\n        , function ()\n        {\n           rotateSwitch();\n           // Resume rotation timer\n        }        );\n\n        // On Click\n        $(\".paging a\").click(function ()\n        {\n           $active = $(this);\n           // Activate the clicked paging\n           // Reset Timer\n           clearInterval(play);\n           // Stop the rotation\n           rotate();\n           // Trigger rotation immediately\n           rotateSwitch();\n           // Resume rotation timer\n           return false;\n           // Prevent browser jump to link anchor\n        }\n        );\n\n\n          }\n\n\nGetAllImages();\n\n});\n\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1327452134,
            "question_id": 6179174,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "sharepoint-2010"
            ],
            "title": "Whose fault is it? CSS or JavaScript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Perhaps with this url, you need to precise the GET parameter \"test\" in the URL</p>\n\n<p><a href=\"http://localhost/learn/a.php?test=hello\" rel=\"nofollow\">http://localhost/learn/a.php?test=hello</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>OK, looking at this code:</p>\n\n<pre><code>&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n var ms = 3000;\n $.get(\"http://localhost/learn/b.php\", { \"test\": ms } );\n&lt;/script&gt;\n&lt;?php\n$ms = $_GET[\"test\"];\necho $ms;\n?&gt;\n</code></pre>\n\n<p>I'm presuming that this is all in one file.  You have two bits of code in two different languages that are interpreted in different places.  First, you have the Javascript at the top.  This is not interpreted by your server.  It is returned to the browser just as HTML is.</p>\n\n<p>Later, you have a piece of PHP.  We're still on the server, and haven't sent anything to the browser yet.  You look for a <code>$_GET['test']</code> value.  Your URL was <code>http://localhost/learn/b.php</code>: plainly there are no GET values in that URL, hence the error.</p>\n\n<p>When your code is sent to the browser, the browser sees the line <code>$.get</code> and does an AJAX request.  This is <em>another</em> HTTP request. It does not modify the original request, so it doesn't mitigate the error you received above. With this request, your browser will send <code>http://localhost/learn/b.php?test=3000</code> to the server, and there won't be an error. However, because you're not doing anything with the response, you aren't seeing the effects of this second request.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>When you make the request with XHR, you don't simply access the page with a new request and the value is still there (HTTP is <em>stateless</em>).</p>\n\n<p>You need to do something in the callback with jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It looks like you're confusing where you should place your Javascript and PHP. Your PHP file should simply have the logic of receiving and using the Javascript variable, not any Javascript itself. So essentially you need to split this logic.</p>\n\n<p>In your HTML file:</p>\n\n<pre>\n&lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n$(function() {\n    var ms = 3000;\n\n    $.ajax({\n        url: 'a.php',\n        data: { test: ms },\n        success: function(response) {\n            $('#testing').html(response);\n        }\n    });\n});\n&lt;/script&gt;\n</pre>\n\n<p>In your PHP file (a.php);</p>\n\n<pre>\n&lt;?php\n$ms = $_GET['ms'];\necho 'I am getting the value: ' . $ms;\n?&gt;\n</pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I refer to this question:\n<a href=\"http://stackoverflow.com/questions/5882442/javascript-value-to-php-with-jquery\">Javascript value to PHP with Jquery</a></p>\n\n<p>I tried with below code in file named a.php:</p>\n\n<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n var ms = 9000;\nfunction test()\n{\n    $.ajax({ url: \"a.php\",\n         data: {\"test\":ms},\n         type: 'get',\n         success: function(output) {\n                      $('#testing').html(output);\n                  }\n    });\n}\ntest();\n&lt;/script&gt;\n&lt;?php\n$ms = $_GET[\"test\"];\necho \"I am getting below value:\";\necho $ms;\n?&gt;\n</code></pre>\n\n<p>Then I point browser to <a href=\"http://localhost/learn/a.php\" rel=\"nofollow\">http://localhost/learn/a.php</a> but got error message &amp; value of $ms is not shown as expected:</p>\n\n<blockquote>\n  <p>( ! ) Notice: Undefined index: test in\n  C:\\wamp\\www\\learn\\a.php on line 17</p>\n  \n  <p>$ms = $_GET[\"test\"]; &lt;-- The line 17\n  in a.php</p>\n</blockquote>\n\n<p>I tried another simpler code (b.php) below:</p>\n\n<pre><code>&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n var ms = 3000;\n $.get(\"http://localhost/learn/b.php\", { \"test\": ms } );\n&lt;/script&gt;\n&lt;?php\n$ms = $_GET[\"test\"];\necho $ms;\n?&gt;\n</code></pre>\n\n<p>Then I point browser to <a href=\"http://localhost/learn/b.php\" rel=\"nofollow\">http://localhost/learn/b.php</a> but got similar error message &amp; no value of $ms displayed:</p>\n\n<blockquote>\n  <p>( ! ) Notice: Undefined index: test in\n  C:\\wamp\\www\\learn\\b.php on line 7\n  Below is code of line 7\n      $ms = $_GET[\"test\"];</p>\n</blockquote>\n\n<p>Please advice. Thanks.</p>\n",
            "last_activity_date": 1306145006,
            "question_id": 6095531,
            "score": 2,
            "tags": [
                "php",
                "javascript",
                "jquery"
            ],
            "title": "Passing javascript variable to PHP"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Non-html content apart from images needs to be retrieved using an object, embed or iframe tag</p>\n\n<ol>\n<li><b>iframe</b>: <code>&lt;iframe src=\"somepage.pdf\"&gt;&lt;/iframe&gt;</code></li>\n<li><b>object/embed</b>: <code>&lt;object src=\"somepage.pdf\"&gt;&lt;embed src=\"somepage.pdf\"&gt;&lt;/embed&gt;&lt;/object&gt;</code></li>\n</ol>\n\n<p>somepage.pdf could be somepage.jsp?filename=somepage&amp;mimetype=application/pdf</p>\n\n<p>Here is an interesting link <a href=\"http://labnol.blogspot.com/2007/03/how-to-embed-microsoft-office-or-pdf.html\">How to Embed Microsoft Office or PDF Documents in Web Pages</a></p>\n\n<p>and here is a <a href=\"http://stackoverflow.com/search?q=embed%20pdf%20html\">stackoverflow search</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>If you are looking for a pure HTML version of the document (for fast rendering and cross browser support), you can go through Docspad. Docspad helps embedding all the different popular document formats into your web application. <a href=\"http://docspad.com\" rel=\"nofollow\">http://docspad.com</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>We would like to show the document (e.g. <code>pptx</code>, <code>xlsx</code>, <code>docx</code>, <code>pdf</code>, <code>html</code>) in a html page after retrieving it from the database via a servlet's doGet method.<br>\nCan anyone share some snippets on how to achieve this?</p>\n",
            "last_activity_date": 1399585311,
            "question_id": 5565759,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "servlets",
                "browser-plugin"
            ],
            "title": "How to embed a document in HTML page?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>It sets the variable <code>len</code> to the length of string <code>s</code>, or the length of string <code>t</code>, depending on which is longer.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If <code>s.length</code> is greater than <code>t.length</code> set <code>len = s.length</code> else <code>set len = t.length</code></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>That is using the conditional operator, which is also known as a ternary because it takes three operands. </p>\n\n<p>See <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special_Operators/Conditional_Operator\" rel=\"nofollow\">https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special_Operators/Conditional_Operator</a> for more info.</p>\n\n<p>You can find this construct with the same syntax in PHP, C, C++ and other languages, too.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>it is the equivalent of:</p>\n\n<pre><code>var len=0;\nif(s.length&gt;t.length)\n  len= s.length;\nelse\n  len=t.length;\n</code></pre>\n\n<p>So it's just a short way do doing if else.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is doing this: </p>\n\n<pre><code>if (s.length &gt; t.length) {\n    len = s.length;\n} else {\n    len = t.length;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's the equivalent of <code>len = Math.max( s.length, t.length );</code> using the <a href=\"http://en.wikipedia.org/wiki/%3F:\" rel=\"nofollow\">ternary conditional operator</a>. </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>?: is the ternary operator. It returns a value based on a condition.</p>\n\n<pre><code>x = (condition)?(if-true):(if-false)\n</code></pre>\n\n<p>So if condition is true, x is the value in the if-true section, and if it's false, then x is the value in if-false.</p>\n\n<p>If is equivalent to what Corv1nus said earlier.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>len will be assigned the length of either s or t depending on which one has a greater length</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If the length of s is greather than the length of t, make \"len\" the length of s.\nIf the length of s is less than or equal to the length of t, make \"len\" the length of t.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What does this line of code do?</p>\n\n<pre><code>len = ( s.length&gt;t.length ) ? s.length : t.length\n</code></pre>\n",
            "last_activity_date": 1353452683,
            "question_id": 4168981,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "What does ? : mean in Javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You cannot use <code>document.write</code> after the page has finished loading.  Instead, simply insert the contents that you want to be written in.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n     $(function() { // This is equivalent to document.ready\n         var str=\"hello world\";\n         $('#insert_here').append(str);\n     });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>See <a href=\"http://stackoverflow.com/questions/1891947/are-dynamically-inserted-script-tags-meant-to-work/1891999#1891999\">my answer to <em>Are dynamically inserted &lt;script&gt; tags meant to work?</em></a> for why you can't use <em>innerHTML</em>, which jQuery's functions map to when passed a HTML string, to insert a script element.  <em>document.write</em> will also fail <a href=\"http://stackoverflow.com/questions/2559189/what-damage-is-done-by-document-write/2559286#2559286\">when used after the document has been fully parsed</a>.</p>\n\n<p>To work around this, you will have to use DOM functions to insert an element into the div.  Google ads are iframes, so it's usually a case of finding the iframe code and appending that instead.</p>\n\n<p><hr/>\nTo correctly insert a script element, you need to use DOM functions, for instance:</p>\n\n<pre><code>var txt = 'alert(\"Hello\");';\nvar scr = document.createElement(\"script\");\nscr.type= \"text/javascript\";\n\n// We have to use .text for IE, .textContent for standards compliance.\nif (\"textContent\" in scr)\n    scr.textContent = txt;\nelse\n    scr.text = txt;\n\n// Finally, insert the script element into the div\ndocument.getElementById(\"insert_here\").appendChild(scr);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I figured out a great solution:</p>\n\n<ol>\n<li>Insert your Google Adsense code anywhere on your page - e.g. if your CMS only allows you to put this on the right hand side then stick it there. </li>\n<li>Wrap a div around it with <code>display:none</code> style</li>\n<li>Add some jquery code to move the div to the location you desire.</li>\n</ol>\n\n<p>Since the javascript has already run there is no problem then with moving the block of script to wherever you'd like it to be.</p>\n\n<p>e.g. if you wish to put 2 blocks of google adverts interspersed throughout your blog (say after paragraph 1 and after paragraph 4) then this is perfect.</p>\n\n<p>Here's some example code:</p>\n\n<pre><code>&lt;div id=\"advert1\" style=\"display:none\"&gt;\n&lt;div class=\"advertbox advertfont\"&gt;\n    &lt;div style=\"float:right;\"&gt;\n        &lt;script type=\"text/javascript\"&gt;&lt;!--\n        google_ad_client = \"pub-xxxxxxxxxxxxxxxxx\";\n        /* Video box */\n        google_ad_slot = \"xxxxxxxxxxxxxxxxx\"\n        google_ad_width = 300;\n        google_ad_height = 250;\n        //--&gt;\n        &lt;/script&gt;\n        &lt;script type=\"text/javascript\"\n        src=\"http://pagead2.googlesyndication.com/pagead/show_ads.js\"&gt;\n        &lt;/script&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n$(document).ready(function() {\n\n$('#advert1').appendTo(\"#content p:eq(1)\");\n$('#advert1').css(\"display\", \"block\");\n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>p.s. #content happens to be where the content starts on my CMS (Squarespace) so you can replace that with whatever you have in your CMS. This works a treat and doesn't break Google ToS.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I want to add a javascript google ad but I can't insert the javascript into the div using jquery. I try to simulate my problem with this test, which is using some advice I found on stackoverflow , but it does not work.</p>\n\n<p>I want <code>&lt;script type='text/javascript'&gt;document.write('hello world');&lt;/script&gt;</code> to be inserted in the div, and \"hello world\" be displayed between the tag_1 and tag_2.</p>\n\n<p>Here is the code :</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n      &lt;script type=\"text/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n      &lt;script type=\"text/javascript\"&gt;\n         $(document).ready(function() {\n         var str=\"&lt;script type='text/javascript'&gt;document.write('hello world');\";\n         str+=\"&lt;\";\n         str+=\"/script&gt;\";\n\n         $('#insert_here').append(str);\n         });\n      &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n      tag_1&lt;br/&gt;\n      &lt;div id=\"insert_here\"&gt;\n      &lt;/div&gt;\n      tag_2&lt;br/&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Tanks for your answers,</p>\n\n<p>Lucas</p>\n",
            "last_activity_date": 1330465578,
            "question_id": 3418041,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "add javascript into a html page with jquery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here's a modified snippet of my answer linked in a comment. Function returns the <code>window</code> object of an (i)frame with <code>id</code> passed (<code>id</code>), or <code>null</code>, if the <code>(i)frame</code> is not found. This method works only, if all the <code>(i)frame</code>s are in the same domain. Also <code>id</code>s given to <code>(i)frame</code> elements must be unique throughout <em>all</em> documents involved in the window structure.</p>\n\n<pre><code>function searchFrame(id) {                                     // id = the id of the wanted (i)frame\n    var result = null,                                         // Stores the result\n        search = function (iframes) {                          // Recursively called function\n            var n;                                             // General loop counter\n            for (n = 0; n &lt; iframes.length; n++) {             // Iterate through all passed windows in (i)frames\n                if (iframes[n].frameElement.id = id) {         // Check the id of the (i)frame\n                    result = iframes[n];                       // If found the wanted id, store the window to result\n                }\n                if (!result &amp;&amp; iframes[n].frames.length &gt; 0) { // Check if result not found and current window has (i)frames\n                    search(iframes[n].frames);                 // Call search again, pass the windows in current window\n                }\n            }\n        };\n    search(window.top.frames);                                  // Start searching from the topmost window\n    return result;                                              // Returns the wanted window if found, null otherwise\n}\n</code></pre>\n\n<p>This function can find a <code>frame</code> or <code>iframe</code> with the passed <code>id</code> regardless where it is placed in the window structure. Also the function can be placed and called in any window. I'd put this to the main page (as global). If the method is needed in subwindows, just call with <code>top.searchFrame(...)</code>.</p>\n\n<p>Instead of <code>id</code>s, also <code>name</code>s can be used, as long as they are also unique. In that case the <code>id</code> check in <code>searchFrame()</code> needs to be edited to <code>name</code> check.</p>\n\n<p>In your case, first you need to give an <code>id</code> to the target <code>iframe</code>, then you can use the code for example like this:</p>\n\n<pre><code>var txtClinic = searchFrame('IFRAME_ID').document.getElementById('clinicFlag');\n</code></pre>\n\n<hr>\n\n<p>The method above might be a bit overkilling to get a single reference, but it's very helpful, if you have to get these cross-window references multiple times within different windows.</p>\n\n<p>The specific task of yours could be done like this:</p>\n\n<pre><code>var txtClinic = parent.frames[1].frames[0].document.getElementById('clinicFlag');\n</code></pre>\n\n<hr>\n\n<p><code>name</code>s of the <code>(i)frame</code> are also handy to use with <code>frames</code> collection. Instead indices you can use names. Just always chain the reference starting from the main page, i.e. from <code>top</code>. For example:</p>\n\n<pre><code>var iframeWin = top.frames['frame2'].frames['iframe1'];\n</code></pre>\n\n<hr>\n\n<p>Useful reading:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window.top\" rel=\"nofollow\">window.top</a><br>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window.frameElement\" rel=\"nofollow\">window.frameElement</a><br>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window.frames\" rel=\"nofollow\">window.frames</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I main php page in which there are 2 frames. Inside the second frame there is iframe.\nI want to access value of element on iframe document from the 1st frame.</p>\n\n<p>I tried like this:</p>\n\n<pre><code>var frame1 = parent.frames[1];\nvar frame2 = frame1.document.getElementsByTagName('iframe')[0];\nvar eleValue =frame2.contentWindow.document.getElementById(\"MyElement\").value;\n</code></pre>\n\n<p>but I am not receiving any value though it is there.</p>\n\n<pre><code>var frame1 = parent.frames[1];\nalert(frame1.name);\nvar frame2 = frame1.document.getElementsByTagName('iframe')[0];\nalert(frame2.name);\nvar txtClinic = frame1.document.getElementsByTagName('iframe')[0].contentDocument.getElementById(\"clinicFlag\");\n</code></pre>\n\n<p>last line of code doesnot return any control object.</p>\n",
            "last_activity_date": 1402145375,
            "question_id": 24074694,
            "score": 1,
            "tags": [
                "javascript",
                "iframe",
                "frame",
                "getelementbyid"
            ],
            "title": "Get element value inside iframe which is nested inside Frame in javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The correct way to bind events to dynamically added items is as follows.</p>\n\n<pre><code>$(document).on(\"event\", \".selector\", function () {\n  $(this).remove();\n  $('ul_selector').listview('refresh');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to delete some list elements after dynamically adding them.</p>\n\n<p>The idea is that you can update the list, and then after updating it you can click on a list item to delete it.</p>\n\n<p><strong>Html:</strong></p>\n\n<pre><code>&lt;p&gt;Test&lt;/p&gt;\n&lt;ul data-role=\"listview\"&gt;\n    &lt;li&gt;Acura&lt;/li&gt;\n    &lt;li&gt;Audi&lt;/li&gt;\n    &lt;li&gt;BMW&lt;/li&gt;\n    &lt;li&gt;Cadillac&lt;/li&gt;\n    &lt;li&gt;Ferrari&lt;/li&gt;\n&lt;/ul&gt;\n&lt;br&gt;\n&lt;input type=\"button\" value=\"Update\" id=\"button\"&gt;\n</code></pre>\n\n<p><strong>Javascript:</strong></p>\n\n<pre><code>var new_list =\n    '&lt;ul data-role=\"listview\"&gt;' +\n    '&lt;li class=\"delete\"&gt;Dog&lt;/li&gt;' +\n    '&lt;li class=\"delete\"&gt;Cat&lt;/li&gt;' +\n    '&lt;/ul&gt;';\n\n$('#button').off('click').on('click', function () {\n    $('ul').remove();\n    $('p').after(new_list);\n    $('ul').listview();\n});\n\n$('.delete').off('click').on('click', function () {\n    $( this ).remove();\n});\n</code></pre>\n\n<h1><a href=\"http://jsfiddle.net/Palestinian/WuvsB/1/\" rel=\"nofollow\"><strong>Jsfiddle Link</strong></a></h1>\n",
            "last_activity_date": 1386362929,
            "question_id": 20431392,
            "score": 1,
            "tags": [
                "javascript",
                "html",
                "jquery-mobile"
            ],
            "title": "Binding dynamically added elements in jQuery mobile"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>same origin policy. the browser does not allow when you're on</p>\n\n<pre><code>http://site1.com\n</code></pre>\n\n<p>to connect to:</p>\n\n<pre><code>site2.com\nsub.site1.com\nsite1:99.com\nhttps://site1.com (not sure about this one)\n</code></pre>\n\n<p>This is so site1 cannot steal content from site2 and pretend it's the content of site1. Ways around this is JSONP (google maps use that I think) and having <code>site2</code> provide cors headers but cors are not supported in jQuery 1.* (maybe not in 2.* either) because IE has some problems implementing it. In both situations you need site2 to cooperate with your site so your site can display it's content.</p>\n\n<p>If you only use this yourself then you can use Firefox and install the forcecors plugin. To activate you can choose view => toolbars => add on bar and click on the text \"cors\" in the right bottom of the screen.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was getting this error and in my case it was not due to same origin policy. I got some help from <a href=\"http://www.justinball.com/2013/02/25/jqxhr-returning-readystate-0-and-status-0/\" rel=\"nofollow\">this link</a></p>\n\n<p>My case was, I had a link button and I was not using e.PreventDefault()</p>\n\n<p><strong>ASPX</strong></p>\n\n<pre><code>&lt;asp:LinkButton ID=\"lnkSearch\" runat=\"server\" CssClass=\"DockCmdSearch\" CommandName=\"Search\" OnClientClick=\"return VerifySearch(this, event);\" /&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>function VerifySearch(sender, e) {        \n    e.preventDefault();\n    $.ajax({\n                type: 'POST',\n    .............\n    }\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I am gettin (jquery ajax readystate 0 responsetext status 0 statustext error) problem while i am giving it url(<a href=\"http://www.tutorialspoint.com/prototype/prototype_ajax_response.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/prototype/prototype_ajax_response.htm</a>). but it work fine when i give it \"url(localhost:\"\"/embparse_page)\" of localhost. as i have use the headers which i found on google search still it is not working f9 i have used beforeSend:\"\" too still not working.\ncan anyone suggest me what is going wrong here?\n(XMLHttpRequest cannot load <a href=\"http://www.tutorialspoint.com/prototype/prototype_ajax_response.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/prototype/prototype_ajax_response.htm</a>. Origin \"local server\" is not allowed by Access-Control-Allow-Origin.) is i think main problem but i don't understand it...so plz expain the prob too bcoz i am new in this world...</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns:ng=\"http://angularjs.org\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n    &lt;meta Access-Control-Allow-Origin=\"*\" /&gt;\n    &lt;title&gt;Page Parsing&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"/js/jquery-1.9.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    getit=function(){\n        jQuery.support.cors = true;\n        $.ajax({\n            type:\"GET\",\n            url:\"http://www.tutorialspoint.com/prototype/prototype_ajax_response.htm\",\n            dataType:\"html\",\n            crossDomain:true,\n            beforeSend: function(xhr) {\n                xhr.overrideMimeType('text/plain;charset=UTF-8');\n            },\n            success:function(XMLHttpRequest,jqXHR ,data) {\n                //alert(data.title);\n                var starttitl=data.lastIndexOf('&lt;title&gt;');\n                var endtitl=data.lastIndexOf('&lt;/title&gt;');\n                var title1=data.substring(starttitl+7,endtitl);\n                alert(title1);\n            },\n            error:function(errorStatus,xhr) {\n                alert(\"Error\"+JSON.stringify(errorStatus));\n            }\n        });\n    }   \n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"siteloader\"&gt;\n        &lt;input type=\"button\" onclick=\"getit()\" /&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1399154921,
            "question_id": 19395354,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "jquery ajax readystate 0 responsetext status 0 statustext error"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>What about <code>link: 'tree.options[0].options[0]'</code> then <code>eval(path.to.link)</code>?</p>\n\n<p>Following samples were tested with Chrome only. Same tree for all : </p>\n\n<pre><code>var tree = { level1: [{ key: 'value' }] };\n</code></pre>\n\n<hr>\n\n<h2>No <code>eval</code></h2>\n\n<pre><code>function resolve(root, link) {\n    return (new Function('root', 'return root.' + link + ';'))(root);\n}\n\nvar value = resolve(tree, path.to.link);\n</code></pre>\n\n<hr>\n\n<h2>Fallback to <code>window</code></h2>\n\n<pre><code>function resolve(root, link) {\n    return (new Function(\n        'root', 'return root.' + (link || root) + ';'\n    ))(link ? root : window);\n}\n\nresolve(tree, 'level1[0].key'); // \"value\"\nresolve('tree.level1[0].key'); // \"value\"\n</code></pre>\n\n<hr>\n\n<h2>Catching errors</h2>\n\n<p>The try/catch block prevents broken links from throwing errors.</p>\n\n<pre><code>function resolve(root, path) {\n    try {\n        return (new Function('root', 'return root.' + path + ';'))(root);\n    } catch (e) {}\n}\n\nresolve(tree, 'level1[0].key'); // \"value\"\nresolve(tree, 'level1[1].key'); // undefined\n</code></pre>\n\n<hr>\n\n<h2>Using custom path format</h2>\n\n<p>The good part here is that we can pass either an object or an array as <code>root</code>. Also note that we can replace the slash in <code>path.split('/')</code> with any char of our choice.</p>\n\n<pre><code>function resolve(root, path) {\n    path = '[\"' + path.split('/').join('\"][\"') + '\"]';\n    return (new Function('root', 'return root' + path + ';'))(root);\n}\n\nresolve(tree.level1, '0/key'); // \"value\"\nresolve(tree, 'level1/0/key'); // \"value\"\nresolve(tree, 'level1/0'); // Object {key: \"value\"}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>So I've got a JSON file that gets parsed into an object in Javascript. I know what you're thinking: lucky guy. The JSON is essentially a flow diagram in a big tree form. Here's tiny a sample of what I'm trying to achieve:</p>\n\n<pre><code>tree = {\n    \"options\": [\n        {\n            \"options\": [\n                {\n                    \"name\": \"target\",\n                },\n            ],\n        },\n        {\n            \"options\": [\n                {\n                    \"link\": \"...?\",\n                },\n            ],\n        },\n    ]\n}\n</code></pre>\n\n<p>So in this example, I'll be deep in the second branch (where it says <code>\"link\"</code>) and I'll want to be able to jump to the branch that contains <code>\"name\": \"target\"</code>. This is JSON remember so it'll need to be a string (unless there's a native for linking?! is there?) but I don't know how best to format that.</p>\n\n<p>As I see it, I've got at least a couple of options.</p>\n\n<ol>\n<li><p>I could search. If <code>name</code> was unique, I could scale the tree looking for elements until I found it. I've never done with with Javascript before but I expect it to be slow.</p></li>\n<li><p>I could use a navigation path like <code>options:1:options:1</code> that describes each key for the path. Again, I've never done this but, assuming there are no errors, it would be a lot faster. How would you implement it?</p></li>\n</ol>\n\n<p>Are there any other options available to me? What seems best? Is there a way to unpack this when JSON decoding, or is that a recipe for an infinite loop?</p>\n",
            "last_activity_date": 1379147735,
            "question_id": 18381259,
            "score": 1,
            "tags": [
                "javascript",
                "json",
                "tree"
            ],
            "title": "What are the best ways to reference branches of a JSON tree structure?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This will replace the body of the html page with the contents of the url called.</p>\n\n<pre><code>$('body').load( url,[data],[callback] );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If they can add javascript, an ajax request should do the work...</p>\n\n<pre><code>&lt;script&gt;\nvar req = new Request({\n    method: 'get',  \n    url: 'file.php',\n    onRequest: function() { // loading image    \n    },\n    onSuccess: function(response) {\n        document.getElementById(\"destination\").innerHTML = response;\n    }\n}).send();\n&lt;/script&gt;\n</code></pre>\n\n<p>They will also need a div for the code to get in:</p>\n\n<pre><code>&lt;div id=\"destination\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can do this with AJAX. It might look a bit challenging, but it is frankly much simpler than many think. In fact, it's pretty easy.</p>\n\n<p>Ajax goes in your javascript code, and looks like this:</p>\n\n<pre><code>$('#stSelect').change(function() {\n    var sel_stud = $(this).val();\n    //alert('You picked: ' + sel_stud);\n\n    $.ajax({\n        type: \"POST\",\n        url: \"your_php_file.php\",\n        data: 'theOption=' + sel_stud,\n        success: function(whatigot) {\n            alert('Server-side response: ' + whatigot);\n        } //END success fn\n    }); //END $.ajax\n}); //END dropdown change event\n</code></pre>\n\n<hr>\n\n<p>Note that the data from the PHP file comes into your HTML document <strong>in the success function</strong> of the AJAX call, and must be dealt with <strong>there</strong>. So that's where you insert the received data into the DOM. </p>\n\n<p>For example, suppose your HTML document has a DIV with the <code>id=\"myDiv\"</code>. To insert the data from PHP into the HTML document, replace the line: <code>alert('Server-side response: ' + whatigot);</code> with this:</p>\n\n<pre><code>$('#myDiv').html(whatIgot);\n</code></pre>\n\n<p>Presto! Your DIV now contains the data echoed from the PHP file.</p>\n\n<hr>\n\n<p>The ajax can be triggered by a change to an control's value (as in the above example), or just at document load:</p>\n\n<pre><code>$(function() {\n//alert('Document is ready');\n\n    $.ajax({\n        type: \"POST\",\n        url: \"your_php_file.php\",\n        data: 'Iamsending=' + this_var_val,\n        success: function(whatigot) {\n            //alert('Server-side response: ' + whatigot);\n        } //END success fn\n    }); //END $.ajax\n}); //END document.ready\n</code></pre>\n\n<p>Look at <a href=\"http://stackoverflow.com/questions/13734395/form-inside-of-load-not-posting-correctly/13734466#13734466\">this example</a> for ideas on how it works.</p>\n\n<p>Note that the above examples use jQuery, and therefore require this reference in the  tags of your page:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have a PHP file which has code to echo some HTML. I would like to provide the PHP file to some end users which can be done like this:</p>\n\n<pre><code>&lt;?php include 'file.php'; ?&gt;\n</code></pre>\n\n<p>Unfortunately my users will for instance have index.html and this will not work. I don't want to ask my users to change there HTML file in to PHP. Another approach is to modify the .htaccess file:</p>\n\n<pre><code>&lt;Files index.html&gt;\nAddType application/x-httpd-php .html\n&lt;/Files&gt;\n</code></pre>\n\n<p>I don't want to ask this of them as well. So what are my other options? Is it possible to show the echoed results in HTML file? Maybe with the help of some Javascript?</p>\n",
            "last_activity_date": 1371756359,
            "question_id": 17221813,
            "score": 1,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "include"
            ],
            "title": "Place PHP results inside HTML page"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If you are using CORS then you should implement it as a filter rather than attempt to embed it in every method of every resource.  Here's a simple example (you might want to tweak the settings to restrict it if that's of concern to you):</p>\n\n<pre><code>import com.sun.jersey.spi.container.ContainerRequest;\nimport com.sun.jersey.spi.container.ContainerResponse;\nimport com.sun.jersey.spi.container.ContainerResponseFilter;\n\n/**\n * Filter to handle cross-origin resource sharing.\n */\npublic class CORSFilter implements ContainerResponseFilter\n{\n  private static final String ORIGINHEADER = \"Origin\";\n  private static final String ACAOHEADER = \"Access-Control-Allow-Origin\";\n  private static final String ACRHHEADER = \"Access-Control-Request-Headers\";\n  private static final String ACAHHEADER = \"Access-Control-Allow-Headers\";\n\n  public CORSFilter()\n  {\n  }\n\n  @Override\n  public ContainerResponse filter(final ContainerRequest request, final ContainerResponse response)\n  {\n    final String requestOrigin = request.getHeaderValue(ORIGINHEADER);\n    response.getHttpHeaders().add(ACAOHEADER, requestOrigin);\n\n    final String requestHeaders = request.getHeaderValue(ACRHHEADER);\n    response.getHttpHeaders().add(ACAHHEADER, requestHeaders);\n    return response;\n  }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am implementing Cross Resource Origin Sharing in Java Web services using Jersey.I created resource as followes:</p>\n\n<pre><code>@POST\n    @Path(\"/getSubjects\")\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getSubjects(TokenCheck tc) throws IOException, ServletException{ \n        String token = tc.getToken();\n        String result = \"\";\n        if(!token.equals(\"\") &amp;&amp; !token.equals(null)){\n            context.getRequestDispatcher(\"/GetSubjectsWs?token=\"+token).include(request, response);\n            String subs = request.getAttribute(\"subjects\").toString();\n            result = \"{\\\"subjects\\\":\\\"\"+subs+\"\\\"}\";\n        }else {\n            result = \"{\\\"subjects\\\":\\\"['Invalid Token login again']\\\"}\";\n        }\n        JSONObject j = null;\n        try {\n            j = new JSONObject(result);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        return Response.status(200).entity(j).header(\"Access-Control-Allow-Origin\", \"*\").header(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS\").header(\"Access-Control-Allow-Headers\", \"Content-Type:application/json\").build(); \n    }\n</code></pre>\n\n<p>and making post request using javascript as :</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;JavaScript Client&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction restReq() {\n    var url = \"http://localhost:8888/WebservicesServer/restful/getserver/getSubjects\";\n    var json = {\n            \"token\":\"8495C211F11C9B18E6651E03EB2995BC\"\n    };\n    var client = new XMLHttpRequest();\n    client.open(\"POST\", url, true);\n    client.setRequestHeader(\"Access-Control-Request-Methods\", \"POST\");\n    client.setRequestHeader(\"Content-Type\", \"application/json\");\n    client.send(json);\n    client.onreadystatechange = function() {\n        if (client.readyState == 4) {\n           if ( client.status == 200) \n               console.log(\"success: \" + client.responseText);\n          else\n              console.log(\"error: \" +client.status+\" \"+ client.responseText);\n       }\n };\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=\"button\" value=\"getSubjects\" onclick=\"restReq();\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When i clicked getSubjects Button in chrome I am getting <strong>error as : XMLHttpRequest cannot load ..localhost:8888/WebservicesServer/restful/getserver/getSubjects. Origin null is not allowed by Access-Control-Allow-Origin</strong>. <strong>But i am able to get response with GET request</strong>,problem is with POST request\nmy browser url file:///E:/Documents%20and%20Settings/Srinivas/Desktop/wars/JSClient2.html\n(File system)  I tried in many ways like by setting origin etc, still unable to get json response (Server is Tomcat 7) please help to overcome this problem.</p>\n",
            "last_activity_date": 1361942286,
            "question_id": 15094620,
            "score": 1,
            "tags": [
                "java",
                "javascript",
                "web-services",
                "jersey",
                "cors"
            ],
            "title": "Unable to make CORS POST request in javascript to java web service(jersey)?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can do that with ScriptEngineManager (<code>javax.script</code> package). Read this article: <a href=\"http://metoojava.wordpress.com/2010/06/20/execute-javascript-from-java/\" rel=\"nofollow\">http://metoojava.wordpress.com/2010/06/20/execute-javascript-from-java/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Have a look at the <a href=\"http://wicket.apache.org/\" rel=\"nofollow\">Wicket framework</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>See <code>javax.script</code>. This is part of Java SE. Usage example</p>\n\n<pre><code>    ScriptEngineManager factory = new ScriptEngineManager();\n    ScriptEngine engine = factory.getEngineByName(\"JavaScript\");\n    engine.eval(\"print('Hello, World')\");\n</code></pre>\n\n<p>see more here <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/scripting/programmer_guide/index.html\">http://docs.oracle.com/javase/6/docs/technotes/guides/scripting/programmer_guide/index.html</a></p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1999503/how-can-i-run-javascript-code-at-server-side-java-code\">How can I run JavaScript code at server side Java code?</a>  </p>\n</blockquote>\n\n\n\n<p>Is it possible to run <strong>JavaScript</strong> inside a <strong>Java platform</strong>  </p>\n",
            "last_activity_date": 1424796001,
            "question_id": 14320308,
            "score": 1,
            "tags": [
                "java",
                "javascript"
            ],
            "title": "How to run javascript in java programming"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>Do I need to use parseInt or something?</p>\n</blockquote>\n\n<p>Yes. The <code>.val()</code> method returns a string, so you need to make sure you're operating on numbers instead (since the <code>+</code> operator is overloaded to perform both addition and concatenation depending on context):</p>\n\n<pre><code>one = parseInt($('#nspcc').val(), 10);\n//etc...\n</code></pre>\n\n<p>Don't forget the second argument (the radix) to <code>parseInt</code>!</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<blockquote>\n  <p>Do I need to use parseInt or something?</p>\n</blockquote>\n\n<p>Exactly. <code>val()</code> will return <em>strings</em>, which will get concatenated and not added up.</p>\n\n<p>Do note that when using <code>parseInt</code> you should supply the radix parameter (second one) for the correct base - 10 for decimal, otherwise it will <em>assume</em> octal.</p>\n\n<pre><code>one = parseInt( $('#nspcc').val() , 10);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Short answer, yes. You'll need to parseInt() your .val() values as they're string interpretations of the values, so they'll simply concatenate.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Very very basic question but I've got the following HTML:</p>\n\n<pre><code>&lt;input type=\"text\" id=\"nspcc\" value=\"0\" onkeyup=\"doTotal();\" /&gt;\n&lt;input type=\"text\" id=\"barnados\" value=\"0\" onkeyup=\"doTotal();\" /&gt;\n&lt;input type=\"text\" id=\"savethechildren\" value=\"0\" onkeyup=\"doTotal();\" /&gt;\n&lt;input type=\"text\" id=\"childresnsociety\" value=\"0\" onkeyup=\"doTotal();\" /&gt;\n&lt;input type=\"text\" id=\"childreninneed\" value=\"0\" onkeyup=\"doTotal();\" /&gt;\n&lt;input type=\"text\" id=\"total\" disabled=\"disabled\"  /&gt;\n</code></pre>\n\n<p>And the following jQuery:</p>\n\n<pre><code>function doTotal() {\n  var one,two,three,four,five,total;\n  one = $('#nspcc').val();\n  two = $('#barnados').val();\n  three = $('#savethechildren').val();\n  four = $('#childresnsociety').val();\n  five = $('#childreninneed').val();\n  total = one+two+three+four+five;\n  $('#total').val(total);\n}\n\ndoTotal();\n</code></pre>\n\n<p>I'm probably doing something daft but why does <code>total</code> concatenate instead of adding the values? Do I need to use <code>parseInt</code> or something?</p>\n",
            "last_activity_date": 1349362894,
            "question_id": 12730147,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Why does this concatenate instead of adding up"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Are you trying to do something like this:</p>\n\n<p><a href=\"http://www.geocodezip.com/geoxml3_test/v3_FusionTables_zipcode_map.html\" rel=\"nofollow\">http://www.geocodezip.com/geoxml3_test/v3_FusionTables_zipcode_map.html</a></p>\n\n<p>Uses infoBox for map labels which appear on top of the FusionTablesLayer Polygon.</p>\n\n<p>With a white background on the label:</p>\n\n<p><a href=\"http://www.geocodezip.com/geoxml3_test/v3_FusionTables_zipcode_map_whiteBg.html\" rel=\"nofollow\">http://www.geocodezip.com/geoxml3_test/v3_FusionTables_zipcode_map_whiteBg.html</a></p>\n\n<p>code snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.load('visualization', '1', {\r\n  'packages': ['corechart', 'table', 'geomap']\r\n});\r\nvar map;\r\nvar labels = [];\r\nvar layer;\r\nvar tableid = 1499916;\r\n\r\nfunction initialize() {\r\n  geocoder = new google.maps.Geocoder();\r\n  map = new google.maps.Map(document.getElementById('map_canvas'), {\r\n    center: new google.maps.LatLng(37.23032838760389, -118.65234375),\r\n    zoom: 6,\r\n    mapTypeId: google.maps.MapTypeId.ROADMAP\r\n  });\r\n\r\n  layer = new google.maps.FusionTablesLayer(tableid);\r\n  layer.setQuery(\"SELECT 'geometry' FROM \" + tableid);\r\n  layer.setMap(map);\r\n\r\n  codeAddress();\r\n\r\n  google.maps.event.addListener(map, \"bounds_changed\", function() {\r\n    displayZips();\r\n  });\r\n  google.maps.event.addListener(map, \"zoom_changed\", function() {\r\n    if (map.getZoom() &lt; 11) {\r\n      for (var i = 0; i &lt; labels.length; i++) {\r\n        labels[i].setMap(null);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction codeAddress() {\r\n  var address = document.getElementById(\"address\").value;\r\n  geocoder.geocode({\r\n    'address': address\r\n  }, function(results, status) {\r\n    if (status == google.maps.GeocoderStatus.OK) {\r\n      map.setCenter(results[0].geometry.location);\r\n      var marker = new google.maps.Marker({\r\n        map: map,\r\n        position: results[0].geometry.location\r\n      });\r\n      if (results[0].geometry.viewport)\r\n        map.fitBounds(results[0].geometry.viewport);\r\n    } else {\r\n      alert(\"Geocode was not successful for the following reason: \" + status);\r\n    }\r\n  });\r\n}\r\n\r\nfunction displayZips() {\r\n  //set the query using the current bounds\r\n  var queryStr = \"SELECT geometry, ZIP, latitude, longitude FROM \" + tableid + \" WHERE ST_INTERSECTS(geometry, RECTANGLE(LATLNG\" + map.getBounds().getSouthWest() + \",LATLNG\" + map.getBounds().getNorthEast() + \"))\";\r\n  var queryText = encodeURIComponent(queryStr);\r\n  var query = new google.visualization.Query('http://www.google.com/fusiontables/gvizdata?tq=' + queryText);\r\n\r\n  //set the callback function\r\n  query.send(displayZipText);\r\n\r\n}\r\n\r\n\r\nvar infowindow = new google.maps.InfoWindow();\r\n\r\nfunction displayZipText(response) {\r\n  if (!response) {\r\n    alert('no response');\r\n    return;\r\n  }\r\n  if (response.isError()) {\r\n    alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());\r\n    return;\r\n  }\r\n  if (map.getZoom() &lt; 11) return;\r\n  FTresponse = response;\r\n  //for more information on the response object, see the documentation\r\n  //http://code.google.com/apis/visualization/documentation/reference.html#QueryResponse\r\n  numRows = response.getDataTable().getNumberOfRows();\r\n  numCols = response.getDataTable().getNumberOfColumns();\r\n  for (i = 0; i &lt; numRows; i++) {\r\n    var zip = response.getDataTable().getValue(i, 1);\r\n    var zipStr = zip.toString()\r\n    while (zipStr.length &lt; 5) {\r\n      zipStr = '0' + zipStr;\r\n    }\r\n    var point = new google.maps.LatLng(\r\n      parseFloat(response.getDataTable().getValue(i, 2)),\r\n      parseFloat(response.getDataTable().getValue(i, 3)));\r\n    // bounds.extend(point);\r\n    labels.push(new InfoBox({\r\n      content: zipStr,\r\n      boxStyle: {\r\n        border: \"1px solid black\",\r\n        textAlign: \"center\",\r\n        backgroundColor: \"white\",\r\n        fontSize: \"8pt\",\r\n        width: \"50px\"\r\n      },\r\n      disableAutoPan: true,\r\n      pixelOffset: new google.maps.Size(-25, 0),\r\n      position: point,\r\n      closeBoxURL: \"\",\r\n      isHidden: false,\r\n      enableEventPropagation: true\r\n    }));\r\n    labels[labels.length - 1].open(map);\r\n  }\r\n}\r\n\r\ngoogle.maps.event.addDomListener(window, 'load', initialize);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#map_canvas {\r\n  width: 610px;\r\n  height: 400px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script type=\"text/javascript\" src=\"http://www.google.com/jsapi\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=false\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/src/infobox.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"http://geoxml3.googlecode.com/svn/branches/polys/geoxml3.js\"&gt;&lt;/script&gt;\r\n&lt;span class=\"style51\"&gt;&lt;span class=\"style49\"&gt;Show&lt;/span&gt;:&lt;/span&gt;\r\n&lt;input id=\"address\" type=\"text\" value=\"07646\"&gt;&lt;/input&gt;\r\n&lt;input id=\"geocode\" type=\"button\" onclick=\"codeAddress();\" value=\"Geocode\" /&gt;\r\n&lt;div id=\"map_canvas\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>In <code>maplabel.js</code> change:</p>\n\n<pre><code>mapPane.appendChild(canvas);\n</code></pre>\n\n<p>to </p>\n\n<pre><code>overlayLayer.appendChild(canvas);\n</code></pre>\n\n<p>The mapPanes are described <a href=\"https://developers.google.com/maps/documentation/javascript/reference#MapPanes\" rel=\"nofollow\">here</a>.</p>\n\n<p>Then set xIndex in the mapLabelOptions to bring the label in front of polygons.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is probably a late find.. but hope someone would find this useful.</p>\n\n<p>If you don't want to use <code>infoBox</code> (geocodezip's Solution) instead of a label, and want to give a custom zIndex.. Edit the <strong>maplabel.js</strong>. </p>\n\n<p>Add the following line just before the end of <strong>MapLabel.prototype.onAdd = function() {</strong></p>\n\n<pre><code>if (canvas.parentNode != null) {\n    canvas.parentNode.style.zIndex = style.zIndex;\n}\n</code></pre>\n\n<p>Now you can pass <strong>zIndex</strong> while creating a maplabel:</p>\n\n<pre><code>var mapLabel = new MapLabel({\n    text: \"abc\",\n    position: center,\n    map: map,\n    fontSize: 8,\n    align: 'left',\n    zIndex: 15\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am using the Google Maps javascript API v3 with a project, and I am currently having troubles getting the maplabels to appear above the polygons.   I know that the polygons are z-indexed with respect to only themselves (Not able to use the z-index of a maplabel to place the maplabel above it).  I was wondering if there was some hack to get around this issue.  I am also using the info Window library for the api, and I need the labels to appear above the polygons, but below the info window.</p>\n",
            "last_activity_date": 1425333517,
            "question_id": 12714031,
            "score": 1,
            "tags": [
                "javascript",
                "google-maps-api-3"
            ],
            "title": "Google Maps Javascript API v3 Map Label and Polygons"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You need to declare the parameters to the comparator function.</p>\n\n<pre><code>c.sort(function(){\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>c.sort(function(a, b){\n</code></pre>\n\n<p>and you need to call <code>sort</code> on an array as \"am not i am\" points out so</p>\n\n<pre><code>var c={'0':[[100,11],[150,12]]};\nc[0].sort(function(a, b){\n    var x=a[0];\n    var y=b[0];\n    return y-x;\n});\n</code></pre>\n\n<p>leaves <code>c</code> in the following state:</p>\n\n<pre><code>{\n  \"0\": [\n    [150, 12],\n    [100, 11]\n  ]\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have an array of arrays in javascript set up within an object that I'm storing with local storage. It's high scores for a Phonegap game in the format <code>{'0':[[score,time],[score,time]}</code> where 0 is the category.  I'm able to see the scores using <code>a[1][0]</code>. I want to sort with the high scores first.</p>\n\n<pre><code>var c={'0':[[100,11],[150,12]};\nc.sort(function(){\n    x=a[0];\n    y=b[0];\n    return y-x;\n}\n</code></pre>\n\n<p>However, b[0] always gives an undefined error.</p>\n\n<p>I'm new to Javascript and making this is my first major test as a learning experience. Though I've looked at a number of examples on stackoverflow still can't figured this one out.</p>\n",
            "last_activity_date": 1329414096,
            "question_id": 9316119,
            "score": 1,
            "tags": [
                "javascript",
                "arrays",
                "object",
                "undefined",
                "sorting"
            ],
            "title": "Sort Complex Array of Arrays by value within"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It's possibly the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">same origin policy</a> kicking in. Is everything served from the same host/port?</p>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I have a link in my jsp page .</p>\n\n<p>the link looks like this</p>\n\n<pre><code>&lt;a href=\"javascript:doSomething('abc.ff' , 'abc.ff?m=1')\"&gt;\n</code></pre>\n\n<p>the javascript code</p>\n\n<pre><code>    function doSomething(url, url_progress){\n    parent.win1.location.href = url;    \n    /* Wait until something surely has started! */\n    window.setTimeout(\"this.startFinally()\", 1000); \n    this.startFinally = function (){\n    location.href = url_progress;\n      }\n    }\n</code></pre>\n\n<p>When the user clinks on this clinks everything works fine. Now recently I put this code inside a Iframe and then nothing happens. I checked with firebug and got this error : </p>\n\n<pre><code>   Permission denied to access property 'win1'\n   [Break On This Error] parent.win1.location.href = url; \n</code></pre>\n\n<p>What can be the problem?</p>\n",
            "last_activity_date": 1310635792,
            "question_id": 6690598,
            "score": 1,
            "tags": [
                "javascript",
                "ajax",
                "jsp"
            ],
            "title": "Permission denied to access property in IFRAME"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If you have this in a single string then do.</p>\n\n<pre><code>// first create an array by splitting the string at the newlines\nvar list = dateString.split('\\n'); \nlist = list\n    .map( // for each element in the list (each date)\n        function(val,idx){\n            // use the first part(before the dot(.)), replace the - with spaces and convert to date\n            return new Date(val.split('.')[0].replace(/-/g,' '));\n    })\n    .sort(); // at the end sort the results.\n</code></pre>\n\n<p>example at <a href=\"http://www.jsfiddle.net/gaby/rfGv8/\" rel=\"nofollow\">http://www.jsfiddle.net/gaby/rfGv8/</a></p>\n\n<hr>\n\n<p>What we need to do for each date (<em>line</em>) is</p>\n\n<p>2010-11-08 18:58:50<strike>.0_getCreated_10180</strike> (<em>remove the part after the .</em>)<br>\naccomplished with <code>val.split('.')[0]</code></p>\n\n<p>then replace the - with a space to make it look like <code>2010 11 08 18:58:50</code> which is an acceptable date format for the <code>Date</code> constructor.<br>\naccomplished with <code>val.split('.')[0].replace(/-/g,' ')</code></p>\n\n<p>Then pass it as a parameter to the constructor of Date to create a Date object<br>\naccomplished with <code>new Date(val.split('.')[0].replace(/-/g,' '))</code></p>\n\n<p>after applying the above to all elements and getting a new array use the <code>.sort()</code> method to sort the array in Ascending order.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Please the following code. getDateSort function return the sorted date   </p>\n\n<pre><code> &lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n\n            function getDateSort() {\n\n\n                dateArray = new Array('2010-11-08 18:58:50', '2010-11-09 17:49:42',\n    '2010-11-09 17:49:42', '2010-11-15 17:51:37', '2010-11-23 20:06:04', '2010-11-09 13:54:46', '2010-11-23 20:06:29', '2010-11-24 19:44:51');\n                dateArray.sort(dmyOrdA);\n                alert('Ascending : ' + dateArray + '');\n                return false;\n            }\n\n\n            var dateRE = /^(\\d{2})[\\/\\- ](\\d{2})[\\/\\- ](\\d{4})/;\n            function dmyOrdA(a, b) {\n                a = a.replace(dateRE, \"$3$2$1\");\n                b = b.replace(dateRE, \"$3$2$1\");\n                if (a &gt; b) return 1;\n                if (a &lt; b) return -1;\n                return 0;\n            }\n            function dmyOrdD(a, b) {\n                a = a.replace(dateRE, \"$3$2$1\");\n                b = b.replace(dateRE, \"$3$2$1\");\n                if (a &gt; b) return -1;\n                if (a &lt; b) return 1;\n                return 0;\n            }\n            function mdyOrdA(a, b) {\n                a = a.replace(dateRE, \"$3$1$2\");\n                b = b.replace(dateRE, \"$3$1$2\");\n                if (a &gt; b) return 1;\n                if (a &lt; b) return -1;\n                return 0;\n            }\n            function mdyOrdD(a, b) {\n                a = a.replace(dateRE, \"$3$1$2\");\n                b = b.replace(dateRE, \"$3$1$2\");\n                if (a &gt; b) return -1;\n                if (a &lt; b) return 1;\n                return 0;\n            }\n\n        &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can i convert  these strings in to date format and sort accordingly....please</p>\n\n<pre><code>2010-11-08 18:58:50.0_getCreated_10180  \n2010-11-09 17:49:42.0_getCreated_10180  \n2010-11-09 17:49:42.0_getCreated_10180  \n2010-11-24 19:44:51.0_getCreated_10180  \n2010-11-09 13:54:46.0_getCreated_10180  \n2010-11-23 20:06:29.0_getCreated_10180  \n2010-11-23 20:06:04.0_getCreated_10180  \n2010-11-15 17:51:37.0_getCreated_10180 \n</code></pre>\n\n<p>Thanks in advance,\nJoseph </p>\n",
            "last_activity_date": 1305802751,
            "question_id": 4365116,
            "score": 1,
            "tags": [
                "javascript",
                "arrays",
                "string",
                "datetime",
                "sorting"
            ],
            "title": "Javascript date sorting by convert the string in to date format"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It would be easier not to create a new event, which as you observed is not universally supported, and instead cancel the event and insert the mapped character corresponding to the character typed.</p>\n\n<p>Assuming the user is typing into a textarea with id \"ta\", the following will handle keyboard input for that textarea in all the major browsers, mapping <code>q</code> to <code>\u025b</code> and all other characters to \"X\" for illustrative purposes.</p>\n\n<p>Be aware that there are issues in IE &lt;= 8 with the code for finding the selection to do with line breaks that the following code doesn't handle for the sake of brevity. You can get my cross browser function for handling this correctly here: <a href=\"http://stackoverflow.com/questions/235411/is-there-an-internet-explorer-approved-substitute-for-selectionstart-and-selectio/4207763#4207763\">Is there an Internet Explorer approved substitute for selectionStart and selectionEnd?</a></p>\n\n<pre><code>var charMap = {\n    \"q\": \"\u025b\"\n};\n\ndocument.getElementById(\"ta\").onkeypress = function(evt) {\n    var val = this.value;\n    evt = evt || window.event;\n\n    // Ensure we only handle printable keys, excluding enter and space\n    var charCode = typeof evt.which == \"number\" ? evt.which : evt.keyCode;\n    if (charCode &amp;&amp; charCode != 13 &amp;&amp; charCode != 32) {\n        var keyChar = String.fromCharCode(charCode);\n\n        // Get the mapped character (default to \"X\" for illustration purposes)\n        var mappedChar = charMap[keyChar] || \"X\";\n\n        var start, end;\n        if (typeof this.selectionStart == \"number\" &amp;&amp; typeof this.selectionEnd == \"number\") {\n            // Non-IE browsers and IE 9\n            start = this.selectionStart;\n            end = this.selectionEnd;\n            this.value = val.slice(0, start) + mappedChar + val.slice(end);\n\n            // Move the caret\n            this.selectionStart = this.selectionEnd = start + 1;\n        } else if (document.selection &amp;&amp; document.selection.createRange) {\n            // For IE up to version 8\n            var selectionRange = document.selection.createRange();\n            var textInputRange = this.createTextRange();\n            var precedingRange = this.createTextRange();\n            var bookmark = selectionRange.getBookmark();\n            textInputRange.moveToBookmark(bookmark);\n            precedingRange.setEndPoint(\"EndToStart\", textInputRange);\n            start = precedingRange.text.length;\n            end = start + selectionRange.text.length;\n\n            this.value = val.slice(0, start) + mappedChar + val.slice(end);\n            start++;\n\n            // Move the caret\n            textInputRange = this.createTextRange();\n            textInputRange.collapse(true);\n            textInputRange.move(\"character\", start - (this.value.slice(0, start).split(\"\\r\\n\").length - 1));\n            textInputRange.select();\n        }\n\n        return false;\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I'm working on a javascript keyboard that seeks to enable users to type in various African languages.Currently, this works fine in IE8 and firefox but not google chrome, and I'm actually stuck on this one.What I want to accomplish is for example, to type(on my physical keyboard) '<strong>q</strong>'(keyCode=113) and get '<strong>\u025b</strong>'(keyCode=603) as the output but currently, my code does nothing in google chrome. The relevant portion of my code is as follows:</p>\n\n<pre><code>var k_layouts = {};  \nk_layouts.Akan = {88:390,113:603};//keyCode mappings for Akan language    \nk_layouts.Ga = {120:596,81:400};//keyCode mappings for Ga language  \nvar current_layout = \"\";  \n\n//function that maps the keyCode of a **typed** key to that of the **expected** key    \nfunction map_key_code(keycode){  \n    if(k_layouts[current_layout] &amp;&amp; k_layouts[current_layout][keycode])  \n        return k_layouts[current_layout][keycode];  \n    return keycode;  \n}  \n\n//function that actually changes the keyCode of a **typed** key to the **expected** value\nfunction handle_keypress(ev){  \n    var ev = ev || window.event;  \n    if(ev.bubbles != null ||!ev.bubbles)  \n     return true;  \n    var target = ev.target || ev.srcElement;  \n    var keyCode = window.event? ev.keyCode: ev.which;  \n    if(keyCode == 0)  \n    return true;  \n    var newKeyCode = map_key_code(keyCode);  \n    if(newKeyCode == keyCode)  \n    return true;  \n    if(target.addEventListener){ //for chrome and firefox  \n    //cancel event  \n    ev.preventDefault();  \n    ev.stopPropagation();  \n    //create new event with the keycode changed  \n    var evt = document.createEvent(\"KeyboardEvent\");  \n    try{//for firefox(works fine)  \n        evt.initKeyEvent(\"keypress\",false,true,document.defaultView,ev.ctrlKey,ev.altKey,ev.shiftKey,ev.metaKey,newKeyCode,newKeyCode);  \n}  \n    catch(e){// for google chrome(does not work as expected)  \n        evt.initKeyboardEvent(\"keydown\",false,true,document.defaultView,ev.ctrlKey,ev.altKey,ev.shiftKey,ev.metaKey,newKeyCode,newKeyCode);  \n    }  \n    //dispatch new event  \n    target.dispatchEvent(evt);  \n    }  \n    else if(target.attachEvent){// works for IE  \n        ev.keyCode = newKeyCode;  \n    }  \n} \n</code></pre>\n\n<p>Is there a way of achieving what I seek to do in chrome?Or, is there something I'm missing in my approach?I'd be glad for any help, and any thoughts.</p>\n",
            "last_activity_date": 1294239868,
            "question_id": 3579219,
            "score": 1,
            "tags": [
                "javascript",
                "google-chrome"
            ],
            "title": "show different keyboard character from the typed one in google chrome"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try saying:</p>\n\n<pre><code>document.getElementsByClassName(\"tab_panel\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Missing <strong><em>quotes</em></strong>:</p>\n\n<pre><code>document.getElementsByClassName('tab_panel').....\n</code></pre>\n\n<p>You should iterate over all elements like this:</p>\n\n<pre><code>var elms = document.getElementsByClassName('tab_panel');\n\nfor(var i = 0 ; i &lt; elms.length; i++)\n{\n   alert(elms[i].style.width);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's a string:</p>\n\n<pre><code>document.getElementsByClassName(\"tab_panel\")[0].style.width\n</code></pre>\n\n<p>Bye</p>\n\n<p>P.S. It's an array</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><code>document.getElementsByClassName(\"tab_panel\")</code> returns a collection of nodes, the first of which is referred to by <code>document.getElementsByClassName(\"tab_panel\")[0]</code>.</p>\n\n<p>If the node you are searching does not have an inline style=\"width:' assignment, an empty string is returned from <code>document.getElementsByClassName(\"tab_panel\")[0].style.width</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to access the width of a div to put in a cookie. This is the div:</p>\n\n<pre><code> &lt;div class=\"tab_panel\" style=\"width:600px\"&gt;\n</code></pre>\n\n<p>It is the only div with this class name. It is not an option to specify a unique id for the div. This is the code I have been using in an event to call it but it gives an error:</p>\n\n<pre><code> document.getElementsByClassName(tab_panel).style.width\n</code></pre>\n\n<p>I know Firefox supports <code>getElementsByClassName</code>, so what am I doing wrong?</p>\n",
            "last_activity_date": 1345535914,
            "question_id": 3391791,
            "score": 1,
            "tags": [
                "javascript"
            ],
            "title": "What is wrong with this getElementsByClassName call in Javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h2>Problem</h2>\n\n<p>You want to reliably handle type cast conversion between float, integer, and string types reliably in cases where the variables may not all be declared or may otherwise potentially cause a Javascript exception.</p>\n\n<h2>Solution</h2>\n\n<p>If at all possible, make sure all variables are at least declared before attempting a type cast conversion.</p>\n\n<p>Also, understand how to handle nulls and understand equality testing in Javascript.</p>\n\n<h2>Details</h2>\n\n<p>One easy way to do robust type-checking in this Javascript scenario is to avoid:</p>\n\n<ul>\n<li>undeclared variables</li>\n<li>undeclared properties on Javascript objects (aka dictionary)</li>\n<li>null values</li>\n<li>NaN values</li>\n</ul>\n\n<p>Here is a simple and quick overview:</p>\n\n<pre><code>//\nvar vfftest       = 0.05;                       // float\nvar viitest       = 3000;                       // integer\nvar vssblank      = '';                         // empty string\nvar vssnonblank   = 'hello';                    // non-empty string\nvar vddempty      = {};                         // dictionary with no name-value pairs\nvar vddnonempty   = {'alpha':1,'bravo':'two'};  // dictionary with name-value pairs\nvar vnull         = null;                       // null\n\n// check boolean\nconsole.log( (vssnonblank) ? 'true' : 'false' ); // true\nconsole.log( (vssblank)    ? 'true' : 'false' ); // false\nconsole.log( (vfftest)     ? 'true' : 'false' ); // true\nconsole.log( (viitest)     ? 'true' : 'false' ); // true\nconsole.log( (vnull)       ? 'true' : 'false' ); // false\nconsole.log( (vddempty)    ? 'true' : 'false' ); // true\nconsole.log( (vddnonempty) ? 'true' : 'false' ); // true\nconsole.log( (vnoExisto)   ? 'true' : 'false' ); // EXCEPTION\n\n// check toString\nconsole.log( (vssnonblank).toString()  );  // hello\nconsole.log( (vssblank).toString()     );  //\nconsole.log( (vfftest).toString()      );  // '0.05'\nconsole.log( (viitest).toString()      );  // '3000'\nconsole.log( (vnull).toString()        );  // EXCEPTION\nconsole.log( (vddempty).toString()     );  // [object Object]\nconsole.log( (vddnonempty).toString()  );  // [object Object]\nconsole.log( (vnoExisto).toString()    );  // EXCEPTION\n\n// check parseFloat\nconsole.log( parseFloat(vssnonblank) ); // NaN\nconsole.log( parseFloat(vssblank) );    // NaN\nconsole.log( parseFloat(vfftest) );     // 0.05\nconsole.log( parseFloat(viitest) );     // 3000\nconsole.log( parseFloat(vnull) );       // NaN\nconsole.log( parseFloat(vddempty) );    // NaN\nconsole.log( parseFloat(vddnonempty) ); // NaN\nconsole.log( parseFloat(vnoExisto) );   // EXCEPTION\n\n// check parseInt\nconsole.log( parseInt(vssnonblank) );  // NaN\nconsole.log( parseInt(vssblank) );     // NaN\nconsole.log( parseInt(vfftest) );      // 0\nconsole.log( parseInt(viitest) );      // 3000\nconsole.log( parseInt(vnull) );        // NaN\nconsole.log( parseInt(vddempty) );     // NaN\nconsole.log( parseInt(vddnonempty) );  // NaN\nconsole.log( parseInt(vnoExisto) );    // EXCEPTION\n\n// check typeof\nconsole.log(typeof vssnonblank);       // string\nconsole.log(typeof vssblank);          // string\nconsole.log(typeof vfftest);           // number\nconsole.log(typeof viitest);           // number\nconsole.log(typeof vddempty );         // object\nconsole.log(typeof vddnonempty );      // object\nconsole.log(typeof vnull);             // object\nconsole.log(typeof vnoExisto);         // 'undefined'\n</code></pre>\n\n<h2>Pitfalls</h2>\n\n<ul>\n<li><code>&lt;undeclared&gt; throws an exception for parseInt parseFloat and .toString()</code></li>\n<li><code>null.toString()</code> throws an exception</li>\n<li><code>parseInt(null) and parseFloat(null) returns NaN</code></li>\n<li>If you can, at least make sure all variables are declared. This will prevent exceptions for undeclared values, but not for nulls.</li>\n<li>Even if you use a try-catch block, and make sure all variables are declared, you still will have to handle exceptions for nulls, and these will potentially halt your code.</li>\n</ul>\n\n<h2>See also</h2>\n\n<p>The following links provide additional details relevant to type-cast and comparison in Javascript:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/550374/checking-for-null-before-tostring\">Checking for null before ToString()</a></li>\n<li><a href=\"http://stackoverflow.com/questions/1728383/whats-the-most-reliable-way-to-check-if-a-javascript-variable-is-null\">What&#39;s the most reliable way to check if a JavaScript variable is null?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/359494/does-it-matter-which-equals-operator-vs-i-use-in-javascript-comparisons\">Does it matter which equals operator (== vs ===) I use in JavaScript comparisons?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/642650/how-to-convert-string-into-float-in-javascript\">How to convert string into float in javascript?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/4626361/javascript-type-casting\">JavaScript type casting</a></li>\n<li><a href=\"http://stackoverflow.com/questions/6878051/do-not-stop-javascript-when-it-throws-an-exception\">Do not stop JavaScript when it throws an exception</a></li>\n<li><a href=\"http://stackoverflow.com/questions/4456336/finding-variable-type-in-javascript\">Finding Variable Type in JavaScript</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<h2>Background</h2>\n\n<ul>\n<li>javascript (V8 engine)</li>\n<li>google chrome browser </li>\n<li>inherited javascript code with lots of type casting of numeric variables.</li>\n</ul>\n\n<h2>Question</h2>\n\n<ul>\n<li>How to reliably type-cast javascript string to numeric variables (float and integer) and still avoid script halting exceptions due to undeclared or null values?</li>\n</ul>\n\n<h2>Details</h2>\n\n<p>Tymac has inherited some javascript code that requires a lot of type casting of variables to float to integer to string and numerous permutations between these three types.</p>\n\n<p>The problem is, the variables are declared or defined irregularly, which introduces potential unpredictably. Also, the code is arranged in such a way to make it difficult to sort it all out.</p>\n\n<p>The goal is to come up with a 'risk proof' way to type-cast variables between float-integer-string when the variable declarations are not known in advance because of the way the code is set up.</p>\n",
            "last_activity_date": 1403237518,
            "question_id": 24318654,
            "score": 0,
            "tags": [
                "javascript",
                "type-conversion"
            ],
            "title": "Javascript: avoid exceptions for string to integer or float typecast conversion with null or undefined variables?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It is a cross-origin issue which is a security mechanism in browsers.</p>\n\n<p>You will either need to:</p>\n\n<ul>\n<li>Move image to same origin as the page (origin = domain, port and protocol)</li>\n<li>Request CORS usage from the other origin if you can't move the image</li>\n<li>Use a proxy page to load the image (see <strong><a href=\"http://www.corsproxy.com/\" rel=\"nofollow\">one in action here</a></strong> - note: I do not know this site so use only for testing with non-critical data).</li>\n</ul>\n\n<p>A request can be made like this (assuming <code>im</code> contains the image you want to OCR treat):</p>\n\n<pre><code>function imageLoaded(ev) {\n    element = document.getElementById(\"cancan\");\n    c = element.getContext(\"2d\");\n    width = element.width;\n    height = element.height;\n    c.drawImage(this, 0, 0);  // 'this' = current image loaded\n    var data1 = OCRAD(c);\n    console.log(data1);\n}\n\nvar im = new Image();\nim.onload = imageLoaded;      // set onload before src\nim.crossOrigin = 'anonymous'; // request CORS usage before setting src\nim.src = \"message.png\";\n</code></pre>\n\n<p>If a request will work is entirely up to the server which may deny the request (which is default behavior in most cases).</p>\n\n<p>In that case only moving the image or setting up a proxy page to load the external image will allow usage of it. Note that file:// or local files are considered different origins.</p>\n\n<p>A proxy page is in essence a page you pass the image url to as an argument. The page will then, on server side, load the image and pass the data back to your first (requesting) page. This way you can \"stream\" the image through your own server removing CORS restrictions but at the expense of increased traffic on your own server. Some server may also block this approach by denying external access (ie. by referrer or IP etc.)</p>\n\n<p>See <strong><a href=\"https://en.wikipedia.org/wiki/Cross-Origin_Resource_Sharing\" rel=\"nofollow\">Cross-Origin Resource Sharing</a></strong> for more details.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm a newbie in HTML5+JS, I want to develop an hybrid app using <strong><a href=\"https://github.com/antimatter15/ocrad.js\" rel=\"nofollow\"><code>ocrad.js</code></a></strong>.</p>\n\n<p>The <strong><a href=\"https://github.com/antimatter15/ocrad.js/blob/master/examples/file.html\" rel=\"nofollow\">code given below</a></strong>,  downloaded from github page is perfectly working for me(Chrome 32.0.1).</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script src=\"../ocrad.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n            function OCRImage(image){\n                var canvas = document.createElement('canvas')\n                canvas.width  = image.naturalWidth;\n                canvas.height = image.naturalHeight;\n                canvas.getContext('2d').drawImage(image, 0, 0)\n                return OCRAD(canvas)\n            }\n\n            function OCRPath(url, callback){\n                var image = new Image()\n                image.src = url;\n                image.onload = function(){ callback(OCRImage(image)) }\n            }\n\n            function OCRFile(file, callback){\n                var reader = new FileReader();\n                reader.onload = function(){ OCRPath(reader.result, callback); }\n                reader.readAsDataURL(file)\n            }\n        &lt;/script&gt;\n        &lt;input type=\"file\" onchange=\"OCRFile(this.files[0], function(text){alert(text)})\"&gt;\n    &lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p>When I called <code>OCRAD() API</code> in my code its giving <strong>Uncaught SecurityError: Failed to execute 'getImageData' on 'CanvasRenderingContext2D': the canvas has been tainted by cross-origin data.</strong></p>\n\n<p><strong>My CODE</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=\"../ocrad.js\"&gt;&lt;/script&gt;\n&lt;body&gt;\n&lt;canvas id=\"cancan\" width=\"800\", height=\"500\"&gt;Test image&lt;/canvas&gt;\n&lt;script type=\"text/javascript\"&gt;\n\nfunction imageLoaded(ev) {\n    element = document.getElementById(\"cancan\");\n    c = element.getContext(\"2d\");\n    im = ev.target;\n    width = element.width;\n    height = element.height;\n    c.drawImage(im, 0, 0);\n    var data1=OCRAD(c);\n    console.log(data1);\n}\n\nim = new Image();\nim.src = \"message.png\";\nim.onload = imageLoaded;\n&lt;/script&gt;\n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p>I have seen similar <strong><a href=\"http://stackoverflow.com/questions/20963172/how-to-get-ocrad-js-example-to-work/20964363#20964363\">Stackoverflow Q&amp;A here</a></strong> but it didn't help me to solve the issue. Please answer if any one had any comment on this issue who have worked with Ocrad.js. </p>\n\n<p><strong>OR</strong></p>\n\n<p>Is there anyother way to pass my image file (here <strong>message.png</strong> in second code example) as an argument to <code>OCRFile()</code> function in first code example ?  (Simply I want to pass an image stored in an local file URL to <code>OCRAD()</code> Call to return text. )</p>\n\n<p>Thanks in advance.... :)</p>\n",
            "last_activity_date": 1399938043,
            "question_id": 23489873,
            "score": 0,
            "tags": [
                "javascript",
                "html5-canvas",
                "ocr",
                "filereader"
            ],
            "title": "ocrad.js- OCR Javascript Library throwing Uncaught SecurityError on passing HTML5 canvas to OCRAD() API"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Are you trying to change the User-Agent header that gets sent in requests? You'll have to use the declarativeWebRequest or webRequest APIs.</p>\n\n<p>Running content scripts in the page only occurs after the requests have been sent.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "\n\n<p><code>navigator.userAgent</code> is a read-only property. If you want to change <code>navigator.userAgent</code>, then you need to either create a new object and copy the properties, or create a new object and inherit from <code>navigator</code> and assign a new getter/setter.</p>\n\n<p>I've recently created such an extension. I'm on Linux, though I occasionally download the Chrome for Windows. The following extension changes the user agent to Windows XP on Chrome's download page:</p>\n\n<h3>contentscript.js</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>/* jshint browser:true */\nvar actualCode =  '(' + function() {\n    'use strict';\n    var navigator = Object.create(window.navigator);\n    // Pretend to be Windows XP\n    Object.defineProperties(navigator, {\n        userAgent: {\n            value: navigator.userAgent.replace(/\\([^)]+\\)/, 'Windows NT 5.1'),\n            configurable: false,\n            enumerable: true,\n            writable: false\n        },\n        appVersion: {\n            value: navigator.appVersion.replace(/\\([^)]+\\)/, 'Windows NT 5.1'),\n            configurable: false,\n            enumerable: true,\n            writable: false\n        },\n        platform: {\n            value: 'Win32',\n            configurable: false,\n            enumerable: true,\n            writable: false\n        },\n    });\n    Object.defineProperty(window, 'navigator', {\n        value: navigator,\n        configurable: false,\n        enumerable: false,\n        writable: false\n    });\n} + ')();';\n\ndocument.documentElement.setAttribute('onreset', actualCode);\ndocument.documentElement.dispatchEvent(new CustomEvent('reset'));\ndocument.documentElement.removeAttribute('onreset');\n</code></pre>\n\n<h3>manifest.json</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"name\": \"navigator.userAgent\",\n    \"description\": \"Change navigator.userAgent to Windows on Chrome's download page.\",\n    \"version\": \"1\",\n    \"manifest_version\": 2,\n    \"content_scripts\": [{\n        \"run_at\": \"document_start\",\n        \"js\": [\"contentscript.js\"],\n        \"matches\": [\n            \"*://www.google.com/intl/*/chrome/browser/*\"\n        ]\n    }]\n}\n</code></pre>\n\n<p>As you can see, I'm <a href=\"https://developer.chrome.com/extensions/content_scripts#registration\" rel=\"nofollow\">declaring the content script</a> instead of dynamically inserting it, to make sure that my code runs before the page is loaded. Further, I'm using one of the tricks <a href=\"http://stackoverflow.com/questions/9515704/building-a-chrome-extension-inject-code-in-a-page-using-a-content-script/9517879#9517879\">described in this answer</a> to change the page's <code>navigator</code> instead of some other <code>navigator</code> in the isolated content script world.</p>\n\n<p>Note that this only modifies the userAgent as seen from JavaScript. If you want to modify the user agent that's sent to the server, take a look at <a href=\"http://stackoverflow.com/questions/10334909/associate-a-custom-user-agent-to-a-specific-google-chrome-page-tab\">Associate a custom user agent to a specific Google Chrome page/tab</a>.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to overload the navigator.userAgent using a simple chrome extension. As the content scripts operate in isolated env, I tried to create a script element and write the logic into this one. This happens from background page of the extension</p>\n\n<pre><code>chrome.tabs.query({\n  active:!0\n}, function(tabs) {\n    var x = \"window.navigator.__defineGetter__('userAgent', function() {\" +\n            \"return 'Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D)\" +\n            \" AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile \" + \n            \"Safari/535.19'; });console.log(navigator.userAgent);\";\n\n    for (var i = 0;i &lt; tabs.length;i++) {\n      var code = 'var s = document.createElement(\"script\"); s.text = \"' + x +\n                 '\"; document.head.insertBefore(s, document.head.firstChild);' + \n                 'navigator.userAgent =\"s\"; console.log(navigator.userAgent);';\n\n      // Inject into the tabs of choice - currently everything.\n      chrome.tabs.executeScript(tabs[i].id, {\n        code: code\n      });\n    }\n  });\n</code></pre>\n\n<p>The script gets appended for the head element and I can see that the UA string as the one that is spoofed by trying navigator.userAgent in the console of the chrome and so I believe that the navigator object was overloaded.</p>\n\n<p>But this seems to be not the effective way or not happening at all as the navigator object was not updated which I found out via - <a href=\"http://www.quirksmode.org/js/detect.html\" rel=\"nofollow\">http://www.quirksmode.org/js/detect.html</a> which still shows the UA for Mac.</p>\n\n<p>So, what exactly am I missing here? </p>\n",
            "last_activity_date": 1407167586,
            "question_id": 23202136,
            "score": 0,
            "tags": [
                "javascript",
                "html",
                "google-chrome",
                "google-chrome-extension"
            ],
            "title": "Changing navigator.userAgent using Chrome Extension"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>How to execute doSomething synchronous function in parallel with async.js?</p>\n</blockquote>\n\n<p>You cannot. <code>async.js</code> is made for asynchronous tasks only, hence the name (see also <a href=\"http://stackoverflow.com/a/21631463/1048572\">this answer</a> on synchronous behaviour). Also, JavaScript cannot execute code in parallel because of its evented, single-threaded paradigm; it can only \"wait\" in parallel for the next event.</p>\n\n<p>If you really have problems with your synchronous execution, try splitting up the array in smaller chunks and defer them with timeouts for non-blocking behaviour (see <a href=\"http://stackoverflow.com/q/6864397/1048572\">JavaScript Performance Long Running Tasks</a>, <a href=\"http://stackoverflow.com/q/714942/1048572\">How to stop intense Javascript loop from freezing the browser</a>), or consider WebWorkers for really heavy computations. You can use async.js to manage those, then.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>If you can refactor doSomething insto an async function you can use the <a href=\"https://github.com/caolan/async#parallel\" rel=\"nofollow\"><code>async.parallel</code></a> function to start running both functions and wait untill both of them call their callbacks.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can only run those funcs in order (maybe this is what you need), for this use <a href=\"https://github.com/caolan/async#eachSeries\" rel=\"nofollow\">eachSeries</a> function instead of <code>each</code>. Here is a short documentation for <code>eachSeries</code>:</p>\n\n<blockquote>\n  <p>The same as each only the iterator is applied to each item in the\n  array in series. The next iterator is only called once the current one\n  has completed processing. This means the iterator functions will\n  complete in order.</p>\n</blockquote>\n\n<p>Expression <code>synchronous function in parallel</code> - has no sence actually. Parallel means async execution.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Unfortunately Javascript is a single threaded language. However, HTML5 aims to improve this by adding <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Performance/Using_web_workers\" rel=\"nofollow\">Web Workers</a>, which allows real OS-level threads to be spawned. If you are able to leverage HTML5 then this may work for you. You would be able to spawn a Web Worker for each item then wait until all threads are complete (joined).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>In the following code, I have <code>Array.forEach</code>, It executes the <code>doSomething</code> synchronous function in sequence:</p>\n\n<pre><code>items.forEach(function(item) {\ndoSomething(item);\n});\n</code></pre>\n\n<p>I need to execute functions (<code>doSomething</code>) in parallel, use <code>async.js</code> and try the following:</p>\n\n<pre><code>async.each(items, function (item, doneCallback) {\n                        var startDate = new Date();\n                        console.log(item.name().toString() + ' startDate: ' + startDate.toString() + ' - ' + startDate.getMilliseconds().toString());\n                        doSomething(item); //Lazy function for many operations.\n                        var endDate = new Date();\n                        console.log(item.name().toString() + ' endDate' + endDate.toString() + ' - ' + endDate.getMilliseconds().toString());\n\n                        return doneCallback(null);\n\n                    }, function (err) {\n                        otherFunction();\n                        console.log('Finished');\n                    });\n</code></pre>\n\n<p>But function <code>doSomething</code> was executed in sequence.</p>\n\n<p>I had tried with <code>async.parallel</code>, but function <code>doSomething</code> was executed in sequence again:</p>\n\n<pre><code>items.forEach(function (item) {\n                        var func = function (doneCallback) {\n                            var startDate = new Date();\n                            console.log(item.name().toString() + ' startDate: ' + startDate.toString() + ' - ' + startDate.getMilliseconds().toString());\n\n                            doSomething(item); //Lazy function for many operations.\n\n                            var endDate = new Date();\n                            console.log(item.name().toString() + ' endDate' + endDate.toString() + ' - ' + endDate.getMilliseconds().toString());\n\n                            return doneCallback(null);\n                        };\n                        functions.push(func);\n                    });\n\n                    async.parallel(functions, function (err, results) {\n                        otherFunction();\n                        console.log('Finished');\n                    });\n</code></pre>\n\n<p>How to execute <code>doSomething</code> synchronous function in parallel with <code>async.js</code>?</p>\n\n<p>Please help me.</p>\n",
            "last_activity_date": 1392299711,
            "question_id": 21744724,
            "score": 0,
            "tags": [
                "javascript",
                "async.js"
            ],
            "title": "How to execute functions in parallel with async.js?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>but when i refresh the ajax.php page. it shows an error</p>\n</blockquote>\n\n<p>It sounds like you want to <strong>set</strong> the session variable when a value is <strong>posted</strong>, and <strong>get</strong> the session variable otherwise:</p>\n\n<pre><code>&lt;?php\nsession_start();\nif (isset($_POST['ans'])) {\n    $te = $_POST['ans'];\n    $_SESSION['demo'] = $te;\n}\necho \"&lt;pre&gt;\".print_r($_SESSION,'/n').\"&lt;/pre&gt;\";\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>$.post</code> and <code>$.get</code> are just shorthand versions of the more structured <code>$.ajax()</code>, so I prefer using the latter. The additional structure keeps me straight.</p>\n\n<p>Since you are using jQuery anyway, I would re-structure your code like this:</p>\n\n<pre><code>$('#q1').click(function() {\n    var test = \"Hello there\";\n    $.ajax(function() {\n        type: \"POST\",\n        url: 'ajax.php',\n        data: 'ans=' +test+ '&amp;anothervarname=' + anothervarvalue,\n        success: function(recd_data) {\n            alert('Rec'd from PHP: ' + recd_data );\n        }\n    });\n});\n</code></pre>\n\n<p>Note that the <code>data:</code> line is for example purposes and does not match with your code -- just showing you how to pass variables over to the PHP side.</p>\n\n<p>Of course, the above includes removing the inline javascript -- never a good idea -- from your anchor tag HTML, thus:</p>\n\n<pre><code> &lt;a href=\"#\" id=\"q1\" &gt;click&lt;/a&gt;\n</code></pre>\n\n<hr>\n\n<p>Also, on the PHP side, you can verify that things are working by adding a test at the top.  Matching with the <code>data:</code> line in the example AJAX code, it would look like this:</p>\n\n<p><strong>ajax.php</strong></p>\n\n<pre><code>&lt;?php\n$a = $_POST['ans'];\n$b = $_POST['anothervarname'];\n\n$response = '&lt;h1&gt;Received at PHP side:&lt;/h1&gt;';\n$response .= 'Variable [ans] has value: ' . $a . '&lt;br&gt;';\n$response .= 'Variable [anothervarname] has value: ' . $b . '&lt;br&gt;';\n\necho $response;\n</code></pre>\n\n<p>Important: Note the use of <code>echo</code>, not <code>return</code>, to send values back to the AJAX script.</p>\n\n<p>Also note that you <strong>must</strong> deal with the stuff returned from PHP <strong>in the AJAX <code>success:</code> function ONLY</strong>.  If you need access to that data outside of the <code>success:</code> function, then you can stick the data into a hidden <code>&lt;input type=\"hidden\" id=\"myHiddenInput\"&gt;</code> element, like this:</p>\n\n<pre><code>success: function(recd_data) {\n    $('#myHiddenInput').html(recd_data);\n}\n</code></pre>\n\n<hr>\n\n<p>Here are some additional examples of simple AJAX constructions:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13734395/form-inside-of-load-not-posting-correctly/13734466#13734466\">A simple example</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/17887098/two-post-requests-one-after-the-other-second-post-request-doesnt-get-execut/17887642#17887642\">More complicated example</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/16924082/dynamic-drop-down-box/16924652#16924652\">Populate dropdown 2 based on selection in dropdown 1</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>hi this is my code for page.php</p>\n\n<pre><code>&lt;?php session_start(); ?&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/jquery.colorbox.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/new-landing.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar ans1 = \"home\";\nfunction aa(){\n        $.post(\"ajax.php\", { \"ans\": \"test\" },\nfunction(data){\n    alert(\"Posted\");\n}, \"html\");\n    };\n&lt;/script&gt;\n&lt;a href=\"#\" id=\"q1\" onClick=\"javascript:aa();\" &gt;click&lt;/a&gt;\n</code></pre>\n\n<p>and this is where i want to see if my data is posted.</p>\n\n<pre><code>&lt;?php\nsession_start();\n$te = $_POST['ans'];\n$_SESSION['demo'] = $te;\necho \"&lt;pre&gt;\".print_r($_SESSION,'/n').\"&lt;/pre&gt;\";\n?&gt;\n</code></pre>\n\n<p>when i click the anchor tag. the alert box is shown. but when i refresh the ajax.php page. it shows an error..Notice: Undefined index: ans in </p>\n\n<pre><code>C:\\xampp\\htdocs\\healthqueens\\hello\\ajax.php on line 3\n</code></pre>\n\n<p>and the print of session is also empty.\n<code>Array\n(\n    [demo] =&gt; \n)</code> \nPlease if anyone can show me the mistake.</p>\n",
            "last_activity_date": 1378833197,
            "question_id": 18724011,
            "score": 0,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "$.post not posting data"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could try something like this, dynamically modifying your functions:</p>\n\n<pre><code>var obj = MyClass.prototype;\nfor (var prop in obj)\n    if (typeof obj[prop] == \"function\") // maybe also prop != \"on\" and similar\n        (function(name, old) {\n            obj[prop] = function() {\n                var res = old.apply(this, arguments);\n                Event.fire(name);\n                return res;\n            };\n        })(prop, obj[prop]);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You could create a function that builds functions which always have that functionality:</p>\n\n<pre><code>var eventFunctionFactory = function(fn, e) {\n  if (typeof fn != 'function' || typeof e != 'function') {\n    throw new TypeError('Invalid function!');\n  }\n\n  return function(/* arguments */) {\n    // Convert arguments to array\n    var args = Array.prototype.slice.call(arguments);\n\n    // Fire event\n    Event.fire(e);\n\n    // Call the function with the applied arguments\n    // Return its result\n    return fn.apply(fn, args);\n  };\n};\n\nvar myClass = function() {\n  this.someFunction = eventFunctionFactory(\n                        // Function\n                        function(a, b) {\n                          return a + b;\n                        },\n\n                        // Event\n                        function() {\n                          console.log('someFunction fired!');\n                        }\n                      );\n};\n\nvar myObj = new myClass();\n\n// Outputs:\n// someFunction fired!\n// 3\nconsole.log(myObj.someFunction(1, 2));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>the easiest way is to have a proxy class. assuming your regular class is class A and the proxy class is class B. Class B has an instance of class A internally. class B also has a stub for each Class A function that calls its internal class a instance. Then, you can add any code you want to the original class by simply adding code to the associated stub - before or after the function call to class A. </p>\n\n<p>To be able to use the enhanced class, all you need to do is modify the rest of your app to instantiate class B instead of class A. The advantage with this method is your original class remains intact.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So I am working in JS a lot, and I am working a lot with events (try to stay as modular as possible). Current I am calling <code>Event.fire('eventName')</code> at the end of every function. I am looking for a way to have ANY function in my object/class automatically call an <code>Event.fire([function name])</code> at the end of all functions</p>\n\n<p>Example:</p>\n\n<pre><code>function MyClass(){\n   this.on('someFunc', this.funcTwo);\n   this.someFunc();\n}\nMyClass.prototype.on = function( event ){\n   // the event stuff //\n}\nMyClass.prototype.someFunc = function(){\n   console.log('someFunc');\n}\nMyClass.prototype.funcTwo = function(){\n   console.log('funcTwo');\n}\n</code></pre>\n",
            "last_activity_date": 1364226036,
            "question_id": 15618309,
            "score": 0,
            "tags": [
                "javascript",
                "class",
                "coffeescript"
            ],
            "title": "Add a line of code to ALL functions"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try following (Not tested)</p>\n\n<p>Keep the sound file all ready embedded in the code and use javascript function to play it...</p>\n\n<pre><code>&lt;script&gt;\n    function PlaySound(soundObj) {\n        var sound = document.getElementById(soundObj);\n        sound.Play();\n    }\n&lt;/script&gt;\n\n&lt;embed src=\"success.wav\" autostart=\"false\" width=\"0\" height=\"0\" id=\"sound1\" enablejavascript=\"true\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Open this link <a href=\"http://www.misfitgeek.com/2011/08/play-sound-in-html5-and-cross-browser-support-with-backward-compatability/\" rel=\"nofollow\">Play Sound without browser plugin</a></p>\n\n<p>in this link u can get code to solve your problem.\nand 2nd problem may b solve by removing $('body')</p>\n\n<pre><code>       $('body').append('&lt;embed src=\"beep.mp3\" autostart=\"true\" hidden=\"true\"&gt;');\n</code></pre>\n\n<p>and set any <strong>div</strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you don't want to create multiple audio elements, you can try setting the <code>currentTime</code> property to 0, so the audio file starts over.</p>\n\n<pre><code>&lt;script&gt;\n    function play() {\n        var sound = document.getElementById(\"audio\");\n        sound.currentTime = 0;\n        sound.play();\n    }\n&lt;/script&gt;\n\n&lt;audio src=\"success.wav\" autostart=\"false\" width=\"0\" height=\"0\" id=\"audio\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this one, i think it is the simplest solution that anyone ever seen...:)\nyou just do one thing that you should convert your <strong><code>beep.mp3</code></strong> to <strong><code>beep.wav</code></strong> \nbecause some browsers dont understand mp3 so you should just convert it to wav and then use this only <strong>3 lines of code</strong></p>\n\n<pre><code> &lt;script&gt;  \n     var aSound = document.createElement('audio');\n     aSound.setAttribute('src', 'beep.wav');\n     aSound.play();\n &lt;/script&gt;  \n</code></pre>\n\n<p>this will play sound on when page is <strong>open/reload</strong> you can set it as you want, and one more thing js 1.6 or greater is required.\nhope this will solve your both problem.  </p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I want to play sound when receiving message, so i searched it and found many solution but the simplest solution that i found is</p>\n\n<pre><code>  &lt;script&gt;  \n       $('body').append('&lt;embed src=\"beep.mp3\" autostart=\"true\" hidden=\"true\"&gt;');\n  &lt;/script&gt;\n</code></pre>\n\n<p>but the problem is that it does not play sound in Godzilla/IE and play in Chrome.\nIs there any way to solve this without adding any additional plugin (Mozilla/JQuery).\nAnd there is also one problem in chrome that when sound play it's scroll bar of main window moves from it's position.\nMy main problem is playing sound so it's priority is first.\nanyone knows it solution then plz share with us\nthanks.  </p>\n",
            "last_activity_date": 1363693774,
            "question_id": 15483455,
            "score": 0,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Play Sound When message received"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Till date\n<code>\"all\", \"page\", \"frame\", \"selection\", \"link\", \"editable\", \"image\", \"video\", \"audio\", \"launcher\"</code> are the contexts only supported. It is not possible to customize per class of an Object.</p>\n\n<h1>Work Around</h1>\n\n<p>If you are looking to show context menu actions, only when the user right-clicks on certain div.class on the page use mouse over menu as shown here</p>\n\n<p><img src=\"http://i.stack.imgur.com/TlBKD.jpg\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In <a href=\"http://stackoverflow.com/a/13673942/938089?creating-dynamic-context-menu-in-chrome-extension-is-failing\">this related answer</a>, I explained that context menu items cannot be created on the fly, because the time between a <code>contextmenu</code> event and the appearance of the context menu item is not sufficient to get a <a href=\"https://developer.chrome.com/extensions/contextMenus.html#method-create\" rel=\"nofollow\"><code>chrome.contextMenus.create</code></a> call in between.</p>\n\n<p>The other answer explains how to make sure that the context menu entry shows the selected text. This was done by listening to the <code>selectionchange</code> event. For your purpose, we want to use an event which has the desired timing.</p>\n\n<p>I'm going to use the <code>mouseover</code> and <code>mouseout</code> events. By depending on mouse events, the context menu will not work when you use the keyboard, e.g. by focusing an element using JavaScript or the Tab key, followed by pressing the context menu key. I did not implement it in the solution below.</p>\n\n<p>The demo consists of three files (plus an HTML page to test it). I put all files in a zip file, available at <a href=\"https://rob.lekensteyn.nl/contextmenu-dom.zip\" rel=\"nofollow\">https://rob.lekensteyn.nl/contextmenu-dom.zip</a>.</p>\n\n<h2><code>manifest.json</code></h2>\n\n<p>Every Chrome extension requires this file in order to work. For this application, a background page and content script is used. In addition, the <code>contextMenus</code> permission is required.</p>\n\n<pre><code>{\n    \"name\": \"Contextmenu based on activated element\",\n    \"description\": \"Demo for http://stackoverflow.com/q/14829677\",\n    \"version\": \"1\",\n    \"manifest_version\": 2,\n    \"background\": {\n        \"scripts\": [\"background.js\"]\n    },\n    \"content_scripts\": [{\n        \"run_at\": \"document_idle\",\n        \"js\": [\"contentscript.js\"],\n        \"matches\": [\"&lt;all_urls&gt;\"]\n    }],\n    \"permissions\": [\n        \"contextMenus\"\n    ]\n}\n</code></pre>\n\n<h2><code>background.js</code></h2>\n\n<p>The background page will create the context menus on behalf of the content script. This is achieved by binding an event listener to <a href=\"https://developer.chrome.com/extensions/extension.html#event-onConnect\" rel=\"nofollow\"><code>chrome.extension.onConnect</code></a>, which offers a simple interface to replace context menu entries.</p>\n\n<p><a href=\"https://developer.chrome.com/extensions/contextMenus.html#method-create\" rel=\"nofollow\"><code>chrome.contextMenus.create</code></a> is called whenever a message is received over this port (from the content script). All properties, except for <code>onclick</code> are JSON-serializable, so only the \"onclick\" handler needs a special treatment. I've used a string to identify a pre-defined function in a dictionary (<code>var clickHandlers</code>).</p>\n\n<pre><code>var lastTabId;\n// Remove context menus for a given tab, if needed\nfunction removeContextMenus(tabId) {\n    if (lastTabId === tabId) chrome.contextMenus.removeAll();\n}\n// chrome.contextMenus onclick handlers:\nvar clickHandlers = {\n    'example': function(info, tab) {\n        // This event handler receives two arguments, whose type is defined at\n        // https://developer.chrome.com/extensions/contextMenus.html#type-OnClickData\n        // https://developer.chrome.com/extensions/tabs.html#type-Tab\n\n        // Example: Notify the tab's content script of something\n        // chrome.tabs.sendMessage(tab.id, ...some JSON-serializable data... );\n\n        // Example: Remove contextmenus for context\n        removeContextMenus(tab.id);\n    }\n};\n\nchrome.extension.onConnect.addListener(function(port) {\n    if (!port.sender.tab || port.name != 'contextMenus') {\n        // Unexpected / unknown port, do not interfere with it\n        return;\n    }\n    var tabId = port.sender.tab.id;\n    port.onDisconnect.addListener(function() {\n        removeContextMenus(tabId);\n    });\n    // Whenever a message is posted, expect that it's identical to type\n    // createProperties of chrome.contextMenus.create, except for onclick.\n    // \"onclick\" should be a string which maps to a predefined function\n    port.onMessage.addListener(function(newEntries) {\n        chrome.contextMenus.removeAll(function() {\n            for (var i=0; i&lt;newEntries.length; i++) {\n                var createProperties = newEntries[i];\n                createProperties.onclick = clickHandlers[createProperties.onclick];\n                chrome.contextMenus.create(createProperties);\n            }\n        });\n    });\n});\n\n// When a tab is removed, check if it added any context menu entries. If so, remove it\nchrome.tabs.onRemoved.addListener(removeContextMenus);\n</code></pre>\n\n<h2><code>contentscript.js</code></h2>\n\n<p>The first part of this script creates simple methods for creating context menus.<br>\nIn the last 5 lines, the context menu entries are defined and bound to all current and future elements which match the given selector. Like I said in the previous section, the argument type is identical to the <a href=\"https://developer.chrome.com/extensions/contextMenus.html#property-create-createProperties\" rel=\"nofollow\"><code>createProperties</code> argument of <code>chrome.contextMenus.create</code></a> except for \"onclick\", which is a string which maps to a function in the background page.</p>\n\n<pre><code>// Port management\nvar _port;\nvar getPort = function() {\n    if (_port) return _port;\n    _port = chrome.extension.connect({name: 'contextMenus'});\n    _port.onDisconnect.addListener(function() {\n        _port = null;\n    });\n    return _port;   \n}\n\n// listOfCreateProperties is an array of createProperties, which is defined at\n// https://developer.chrome.com/extensions/contextMenus.html#method-create\n// with a single exception: \"onclick\" is a string which corresponds to a function\n// at the background page. (Functions are not JSON-serializable, hence this approach)\nfunction addContextMenuTo(selector, listOfCreateProperties) {\n    // Selector used to match an element. Match if an element, or its child is hovered\n    selector = selector + ', ' + selector + ' *';\n    var matches;\n    ['matches', 'webkitMatchesSelector', 'webkitMatches', 'matchesSelector'].some(function(m) {\n        if (m in document.documentElement) {\n            matches = m;\n            return true;\n        }\n    });\n    // Bind a single mouseover+mouseout event to catch hovers over all current and future elements.\n    var isHovering = false;\n    document.addEventListener('mouseover', function(event) {\n        if (event.target &amp;&amp; event.target[matches](selector)) {\n            getPort().postMessage(listOfCreateProperties);\n            isHovering = true;\n        } else if(isHovering) {\n            getPort().postMessage([]);\n            isHovering = false;\n        }\n    });\n    document.addEventListener('mouseout', function(event) {\n        if (isHovering &amp;&amp; (!event.target || !event.target[matches](selector))) {\n            getPort().postMessage([]);\n            isHovering = false;\n        }\n    });\n}\n\n// Example: Bind the context menus to the elements which contain a class attribute starts with \"story\"\naddContextMenuTo('[class^=story]', [\n    {\"id\": \"butto1\", \"title\": \"1\", \"contexts\":[\"all\"], \"onclick\": 'example'},\n    {\"id\": \"button2\", \"title\": \"2\", \"contexts\":[\"all\"], \"onclick\": 'example'},\n    {\"id\": \"button3\", \"title\": \"3\", \"contexts\":[\"all\"], \"onclick\": 'example'}\n]);\n</code></pre>\n\n<p>The previous code assumes that all context menu clicks are handled by the background page. If you want to handle the logic in the content script instead, you need to bind message events in the content script. I've shown an (commented) instance of <a href=\"https://developer.chrome.com/extensions/tabs.html#method-sendMessage\" rel=\"nofollow\"><code>chrome.tabs.sendMessage</code></a> in the <code>background.js</code> example, to show where this event should be triggered.</p>\n\n<p>If you need to identify which element triggered the event, don't use a predefined function (in a dictionary) as shown in my example, but an inline function or a factory function. To identify the element, a message needs to be paired with an unique identifier. I'll leave the task of creating this implementation to the reader (it's not difficult).</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Is there a way to show context menu actions, only when the user right-clicks on classes that start with \"story\".</p>\n\n<p>For example: if the user right-clicks on an object in the page of class \"story ....\", the context menu buttons should appear, otherwise nothing should happen.</p>\n\n<p>Here is my code (though it does not work):</p>\n\n<pre><code>var divs = document.querySelectorAll(\"[class^=story]\"); //get all classes that start with \"Story\"\n\n    window.oncontextmenu = function() {\n\n        for(var i=0; i &lt; divs.length; i++)\n        {\n            divs[i].onclick = function() { \n            chrome.contextMenus.create\n            (\n                {\"id\": \"butto1\", \"title\": \"1\", \"contexts\":[\"all\"], \"onclick\": genericOnClick}\n            );\n            chrome.contextMenus.create\n            (\n                {\"id\": \"button2\", \"title\": \"2\", \"contexts\":[\"all\"], \"onclick\": genericOnClick}\n            );\n            chrome.contextMenus.create\n            (\n                {\"id\": \"button3\", \"title\": \"3\", \"contexts\":[\"all\"], \"onclick\": genericOnClick}\n            );\n\n            };\n        }\n\n        return true; \n    };\n\n\nfunction genericOnClick(info, tab) {\n  //do some crap here\n  chrome.contextMenus.removeAll();\n}\n</code></pre>\n",
            "last_activity_date": 1362926819,
            "question_id": 14829677,
            "score": 0,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension",
                "contextmenu"
            ],
            "title": "Showing context menu buttons only when right-clicked on classes that start with &quot;Story&quot;"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The most likely problem is your WebM file has Clusters that don't start with a keyframe. </p>\n\n<p>In Chrome dev-channel builds (ie Chrome 25 or later), you can verify this with the following steps.</p>\n\n<ol>\n<li>Open chrome:media-internals in another tab.</li>\n<li>Return to the tab with your test page and reload it. </li>\n<li>When the error occurs again, switch back to chrome:media-internals tab and look for the bottom entry under the \"Active media players:\" header. It should have the same blob: URL that you passed to the video element src attribute.</li>\n<li>Click on the blob: URL to expand the player data.</li>\n<li>Click on the \"Log:\" entry to expose the player logging data.</li>\n<li>Search for entries that have \"MEDIA_SOURCE_ERROR\" in the \"Event:\" column. These entries should provide information about what is wrong with the content passed to the browser.</li>\n</ol>\n\n<p>If you see a message that says something like \"Media segment did not begin with keyframe.\" then it means your file has Clusters that don't start with a keyframe. This is common with content that is generated by FFmpeg. You can fix your file in one of the following ways:</p>\n\n<ol>\n<li>Run the sample_muxer program mentioned in section 2.2.5 of the <a href=\"https://sites.google.com/a/webmproject.org/wiki/adaptive-streaming/instructions-to-playback-a-webm-dash-presentation\">WebM adaptive streaming guide</a></li>\n<li>Run the mse_webm_remuxer program I wrote as part of my <a href=\"http://github.com/acolwell/mse-tools\">mse-tools</a> project.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am referring a media source api demo given on this <a href=\"http://html5-demos.appspot.com/static/media-source.html\" rel=\"nofollow\">link</a></p>\n\n<p>It is working fine for the given test webm file but when i tried to change the name of the file to a custom webm file the code stopped working.</p>\n\n<p>It is generating following error : <code>Uncaught Error: INVALID_STATE_ERR: DOM Exception 11</code> at following code :  <code>sourceBuffer.append(new Uint8Array(e.target.result));</code></p>\n\n<p>To check whether the custom webm file is working i have created a test page in which i have defined a video tag having source of that custom webm file.\nWhen i ran the code it is working fine.</p>\n\n<p>I am unable to understand the reason for this strange behavior.</p>\n",
            "last_activity_date": 1390954516,
            "question_id": 14037112,
            "score": 0,
            "tags": [
                "javascript",
                "html5",
                "video",
                "streaming",
                "media-source"
            ],
            "title": "Media Source Api not working for a custom webm file (Chrome Version 23.0.1271.97 m)"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try this one:</p>\n\n<pre><code>/'(?:[^'\\\\]|\\\\'|\\\\(?!'))*'/\n</code></pre>\n\n<p>Test it in your console:</p>\n\n<pre><code>/'(?:[^'\\\\]|\\\\'|\\\\(?!'))*'/.exec(\"'abc\\\\\\'de\\\\\\'fg'\")\n</code></pre>\n\n<p>It'll match</p>\n\n<ul>\n<li>Any number of characters that are:\n<ul>\n<li><code>NOT ' or \\</code> (except)</li>\n<li><code>\\'</code> (or)</li>\n<li><code>\\</code> (not followed by <code>'</code>)</li>\n</ul></li>\n</ul>\n\n<p>If you want it to match the entire string, use the <code>^</code> start-of-string and <code>$</code> end-of-string markers:</p>\n\n<pre><code>/^'(?:[^'\\\\]|\\\\'|\\\\(?!'))*'$/\n</code></pre>\n\n<p>... which will match <code>'string'</code>, <code>'string\\'s are awesome'</code> but not <code>'string's are awesome'</code> or <code>'string's</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this</p>\n\n<p><strike>    /^'([a-z]*(?:\\')?[a-z])+'$/</p>\n\n<p>See example <a href=\"http://regexr.com?333av\" rel=\"nofollow\">here</a></strike></p>\n\n<pre><code>str = 'abc\\'de\\'fg';\n\nmatch = str.match(/^([a-z\\\\']+)$/g);\n</code></pre>\n\n<p>Tested in Firebug console. Works with or without the escape chars.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>This is the regex that matches all valid JavaScript literal string (that is surrounded by single quote <code>'</code>) and reject all invalid ones. Note that <strong>strict</strong> mode is assumed.</p>\n\n<pre><code>/'(?:[^'\\\\\\n\\r\\u2028\\u2029]|\\\\(?:['\"\\\\bfnrtv]|[^\\n\\r\\u2028\\u2029'\"\\\\bfnrtvxu0-9]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})|\\\\(?:\\n|\\r\\n|\\r(?!\\n)|[\\u2028\\u2029]))*'/\n</code></pre>\n\n<p>Or a shorter version:</p>\n\n<pre><code>/'(?:[^'\\\\\\n\\r\\u2028\\u2029]|\\\\(?:[^\\n\\rxu0-9]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|\\n|\\r\\n?))*'/\n</code></pre>\n\n<p>The regex above is based on the definition of <code>StringLiteral</code> (ignoring the double quoted version) specified in ECMAScript Language Specification, 5.1 Edition published in June 2011.</p>\n\n<p>The regex for the JavaScript literal string surrounded with double quote <code>\"</code> is almost the same:</p>\n\n<pre><code>/\"(?:[^\"\\\\\\n\\r\\u2028\\u2029]|\\\\(?:[^\\n\\rxu0-9]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|\\n|\\r\\n?))*\"/\n</code></pre>\n\n<hr>\n\n<p>Let's dissect the monster (the longer version, since it is direct translation from the grammar):</p>\n\n<ul>\n<li><p>A <code>StringLiteral</code> (ignoring the double quote version) starts and ends with <code>'</code>, as it can be seen in the regex. In between the quotes is an optional sequence of <code>SingleStringCharacter</code>. This explains the <code>*</code> - 0 or more characters.</p></li>\n<li><p><code>SingleStringCharacter</code> is defined as:</p>\n\n<pre>\nSingleStringCharacter ::\n       SourceCharacter but not one of ' or \\ or LineTerminator\n       \\ EscapeSequence\n       LineContinuation\n</pre>\n\n<p><code>[^'\\\\\\n\\r\\u2028\\u2029]</code> corresponds to the first rule</p>\n\n<p><code>\\\\(?:['\"\\\\bfnrtv]|[^\\n\\r\\u2028\\u2029'\"\\\\bfnrtvxu0-9]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})</code> corresponds to the second rule</p>\n\n<p><code>\\\\(?:\\n|\\r\\n|\\r(?!\\n)|[\\u2028\\u2029])</code> corresponds to the third rule</p></li>\n<li><p>Let's look at the first rule: <code>SourceCharacter but not one of ' or \\ or LineTerminator</code>. This first rule deals with \"normal\" characters.</p>\n\n<p><code>SourceCharacter</code> is any Unicode unit.</p>\n\n<p><code>LineTerminator</code> is Line Feed <code>&lt;LF&gt;</code> (<code>\\u000A</code> or <code>\\n</code>), Carriage Return <code>&lt;CR&gt;</code> (<code>\\u000D</code> or <code>\\r</code>), Line Separator <code>&lt;LS&gt;</code> (<code>\\u2028</code>) or Paragraph Separator <code>&lt;PS&gt;</code> (<code>\\u2029</code>).</p>\n\n<p>So we will just use a negative character class to represent this rule: <code>[^'\\\\\\n\\r\\u2028\\u2029]</code>.</p></li>\n<li><p>For the second rule, which deals with escape sequences, you can see <code>\\</code> before <code>EscapeSequence</code>, as it appears in the regex. As for <code>EscapeSequence</code>, this is its grammar (strict mode):</p>\n\n<pre>\nEscapeSequence ::\n        CharacterEscapeSequence\n        0 [lookahead \u2209 DecimalDigit]\n        HexEscapeSequence\n        UnicodeEscapeSequence\n</pre>\n\n<p><code>['\"\\\\bfnrtv]|[^\\n\\r\\u2028\\u2029'\"\\\\bfnrtvxu0-9]</code> is the regex for <code>CharacterEscapeSequence</code>. It can actually be simplified to <code>[^\\n\\r\\u2028\\u2029xu0-9]</code></p>\n\n<p>The first part is <code>SingleEscapeCharacter</code>, which includes <code>'</code>, <code>\"</code>, <code>\\</code>, and for control characters <code>b</code>, <code>f</code>, <code>n</code>, <code>r</code>, <code>t</code>, <code>v</code>.</p>\n\n<p>The second part is <code>NonEscapeCharacter</code>, which is <code>SourceCharacter but not one of EscapeCharacter or LineTerminator</code>. <code>EscapeCharacter</code> is defined as <code>SingleEscapeCharacter</code>, <code>DecimalDigit</code> or  <code>x</code> (for hex escape sequence) or <code>u</code> (for unicode escape sequence).</p>\n\n<p><code>0(?![0-9])</code> is the regex for the second rule of <code>EscapeSequence</code>. This is for specifying null character <code>\\0</code>.</p>\n\n<p><code>x[0-9a-fA-F]{2}</code> is the regex for <code>HexEscapeSequence</code></p>\n\n<p><code>u[0-9a-fA-F]{4}</code> is the regex for <code>UnicodeEscapeSequence</code></p></li>\n<li><p>The third rule deals with string that spans multiple lines. Let's look at the grammar of <code>LineContinuation</code> and other related:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>LineContinuation ::\n        \\ LineTerminatorSequence\n\nLineTerminatorSequence :: \n        &lt;LF&gt; \n        &lt;CR&gt; [lookahead \u2209 &lt;LF&gt; ]\n        &lt;LS&gt;\n        &lt;PS&gt;\n        &lt;CR&gt; &lt;LF&gt;\n</code></pre>\n\n<p><code>\\\\(?:\\n|\\r\\n|\\r(?!\\n)|[\\u2028\\u2029])</code> corresponds to the above grammar.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>it's not that hard...</p>\n\n<p>Also, you need to detect some other possible chars sequences like <code>\\n</code>, <code>\\r</code> or <code>\\\\</code>, breaking a line without escaping is not valid in javascript, you must use the <code>\\n</code> sequence.</p>\n\n<pre><code>/^'([^\\\\'\\n\\r]|\\\\'|\\\\n|\\\\r|\\\\\\\\)*'$/\n</code></pre>\n\n<p>In execution:</p>\n\n<pre><code>var sample = [\"'abcdefg'\", // Valid\n              \"'abc\\\\'defg'\", // Valid\n              \"'abc\\\\'de\\\\'fg'\", // Valid\n              \"'abc\\\\'\\\\r\\\\nde\\\\'fg'\", // Valid\n              \"'abc\\\\'\\r\\nde\\\\'fg'\", // Invalid\n              \"'abc'def'\" // Invalid\n             ];\nfor(var i = 0; i &lt; sample.length; i++)\n    console.log(sample[i].match( /^'([^\\\\'\\n\\r]|\\\\'|\\\\n|\\\\r|\\\\\\\\)*'$/ ));\n</code></pre>\n\n<ol>\n<li><code>^</code> tell to the matcher that the next condition must match the begining of the string</li>\n<li><code>'</code> will match the <code>'</code> delimiter</li>\n<li><code>(</code> opens a group</li>\n<li><code>[^\\\\'\\n\\r]</code> matches anything different from <code>\\</code> and <code>'</code>, and will not match the special <code>\\n</code> and <code>\\r</code> characters</li>\n<li><code>|</code> if the condition above didn't match anything, the right side of <code>|</code> will be tested</li>\n<li><code>\\\\'</code> will match <code>\\'</code></li>\n<li><code>\\\\n</code> will match a <code>\\n</code> literal string</li>\n<li><code>|\\\\r</code> or will match a <code>\\r</code> literal string</li>\n<li><code>|\\\\\\\\</code> or will match a <code>\\\\</code> literal string</li>\n<li><code>)*</code> close the group and allow it to repeat multiple times and allow it to do not exist (empty string for example)</li>\n<li><code>'</code> will match the final <code>'</code> delimiter</li>\n<li><code>$</code> tell to the matcher that this must be the and of the string</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to match a javascript string, with a regular expression, that is a string enclosed by single quote and can only contain a backslashed single quote.</p>\n\n<p>The examples string that i would match are like the following:</p>\n\n<pre><code>'abcdefg'\n'abc\\'defg'\n'abc\\'de\\'fg'\n</code></pre>\n",
            "last_activity_date": 1355163886,
            "question_id": 13799773,
            "score": 0,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "javascript regex of a javascript string"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You don't need ajax, but you could use it. If you use AJAX, then you'll need a second php file that simply echoes back the Hello or Bye.</p>\n\n<p>This first example gives the result you want without ajax. Just save this into a PHP file and browse to that page:</p>\n\n<pre><code>&lt;?php\n    $x = 2;\n?&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(function(){\n        $('#myImg').click(function() {\n            if (&lt;?php echo $x;?&gt; == 1) {\n                alert ('Hello, its a one');\n            }else{\n                alert('Goodbye TWO');\n            }\n        });\n    });\n&lt;/script&gt;\n\n&lt;div id=\"myDiv\"&gt;\n    Click on the image below:&lt;br /&gt;\n    &lt;img id=\"myImg\" src=\"http://www.gravatar.com/avatar/783e6dfea0dcf458037183bdb333918d?s=32&amp;d=identicon&amp;r=PG\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>To do the same thing using AJAX, change it to be like this:</p>\n\n<p>First file: FILE1.php</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(function(){\n        $('#myImg').click(function() {\n            var theNumber = $('#myInput').val();\n            $.ajax({\n                type: \"POST\",\n                url: \"FILE2.php\",\n                data: 'myNumber=' + theNumber,\n                success:function(data){\n                    alert(data);\n                }\n            });\n        });\n    });\n&lt;/script&gt;\n\n&lt;div id=\"myDiv\"&gt;\n    Enter number to send to FILE2:\n    &lt;input type=\"text\" id=\"myInput\"&gt;&lt;br /&gt;\n    &lt;br /&gt;\n    Click picture below to GO:&lt;br /&gt;\n    &lt;img id=\"myImg\" src=\"http://www.gravatar.com/avatar/783e6dfea0dcf458037183bdb333918d?s=32&amp;d=identicon&amp;r=PG\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>and FILE2.php</p>\n\n<pre><code>$x = $_POST['myNumber'];\n\nif ($x == 1) {\n    echo 'Hello its a one';\n}else{\n    echo 'Goodbye TWO';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'll add the revised solution in a new answer so you can still see the earlier examples as the code may provide useful examples.</p>\n\n<p>In this example, we use a session variable to store the value between ajax calls.</p>\n\n<p>FILE1.php</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(function(){\n        $('#myImg').click(function() {\n            $.ajax({\n                type: \"POST\",\n                url: \"FILE2.php\",\n                data: '',\n                success:function(data){\n                    alert(data);\n                }\n            });\n        });\n    });\n&lt;/script&gt;\n\n&lt;div id=\"myDiv\"&gt;\n    Click picture below to GO:&lt;br /&gt;\n    &lt;img id=\"myImg\" src=\"http://www.gravatar.com/avatar/783e6dfea0dcf458037183bdb333918d?s=32&amp;d=identicon&amp;r=PG\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>FILE2.php</p>\n\n<pre><code>&lt;?php\nsession_start();\n\nif (isset($_SESSION['myNum'])) {\n    $x = $_SESSION['myNum'];\n}else{\n    //No session set yet, so initialize with x = 1\n    $x = 1;\n}\n\nif ($x == 1) {\n    $_SESSION['myNum'] = 2;\n    echo 'Hello its a one';\n}else{\n    $_SESSION['myNum'] = 1;\n    echo 'Goodbye TWO';\n}\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Let's say I have in a PHP file a div called <code>myDiv</code>, an image called <code>myImg</code>, and a PHP variable called <code>$x</code>. \nWhen someone clicks on <code>myImg</code>, I need <code>myDiv's</code> text to change based on the value of <code>$x</code>. </p>\n\n<p>For example, let's say I want <code>myDiv's</code> text to change to <code>\"Hello\"</code> if <code>$x==1</code>, and to <code>\"Bye\"</code> if <code>$x==2</code>. </p>\n\n<p>Everytime the text changes, the value of <code>$x</code> will change too, in this case, let's say if <code>$x==1</code> when <code>myImg</code> is clicked, then <code>$x's</code> value will become <code>2</code>($x=2), and viceversa. </p>\n\n<p>I'm using <code>jQuery</code>, but I read that I need to use <code>Ajax</code> too for this (To check on the server the value of <code>$x</code>), but I can't figure out how to do it. I read about <code>Ajax</code>, but none of the examples explains something like this.</p>\n",
            "last_activity_date": 1353528518,
            "question_id": 13499559,
            "score": 0,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "html",
                "ajax"
            ],
            "title": "Make div text change on click based on PHP data using Ajax"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There is no way to use a variable to define a property name inside object literal notation. It accepts identifiers or strings, but both identify property names, not variables.</p>\n\n<p>You have to create the object then add the property:</p>\n\n<pre><code>if(!cart[user]) { \n   cart[user] = {};\n}\ncart[user][category] = rating;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You will need to replace </p>\n\n<pre><code>{category:rating}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>var obj = {};\nobj[category] = rating;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>When creating an object literal the key must be a string, so in your code it will be \"category\".  If instead you do:</p>\n\n<pre><code>  var rating=\"1\"\n  var category=\"somecat\";\n  var user=\"user1\";\n\n   if( !cart[user] ) {     \n        cart[user]={};  \n   }\n\n   cart[user][category]=rating;\n</code></pre>\n\n<p>That will initialise a non existing user to an empty object and then add the category.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a problem while adding values to a JavaScript object: the value to add is a <code>key,value</code> pair. Here is sample:</p>\n\n<pre><code>//JavaScript object\n\nvar cart=new Object();\n\nfunction add()\n{\n  var rating=\"1\"\n  var category=\"somecat\";\n  var user=\"user1\";\n\n   if(cart[user]==null)\n\n        cart[user]={category:rating};\n\n   else\n\n         cart[user][category]=rating;\n }\n</code></pre>\n\n<p>What I was expecting is that if <code>user</code> exists in cart object then value for his particular should get replaced, and if <code>user</code> doesn't exist then new user and category should be added.</p>\n\n<p>The code is working fine when <code>user</code> already exists. Problem is, when I am adding a new element with <code>cart[user]={category:rating}</code> then its adding the variable name as key i.e. category , not the value inside it (\"somecat\").</p>\n\n<p>Is there any way to do this using json, jquery or javascript itself?</p>\n\n<p>Is there any way to assign value inside the variable?</p>\n",
            "last_activity_date": 1347447250,
            "question_id": 12386390,
            "score": 0,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "Variable name getting added instead of its value, javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This isn't really a problem of scope but of synchronicity.</p>\n\n<p>When your <code>getPreviewImage</code> function returns, the ajax call hasn't yet be made (it's asynchronous and the execution flow doesn't wait for the request and response to be complete), so <code>output</code> is still null.</p>\n\n<p>You can solve this by making a synchronous ajax call or by providing a callback to <code>getPreviewImage</code> instead of using its return value.</p>\n\n<p>To make a synchronous ajax call, pass <code>false</code> as the <code>async</code> parameter. See <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">the doc</a>.</p>\n\n<p>To use a callback, you can do this :</p>\n\n<pre><code>$('img#test').live('click', function(e) {\n    e.preventDefault();\n    getPreviewImage(function(test){\n        // use test\n    });\n});\n\n\nfunction getPreviewImage(callback) {\n\n  $.ajax({\n    url: \"/blah.php?v=12345\",...\n\n  }).done(function (data) {\n    callback(data);\n  });\n}\n</code></pre>\n\n<p>Using a synchronous call is easier (you just have to set a parameter to false) but the callback logic is generally preferable as it doesn't block your script and allows parallel requests.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>You can call another function using the <code>$.ajax</code> jQuery function.  Try doing the following.</p>\n\n<pre><code>function getPreviewImage()\n{\n  var output;\n\n  var img_bg = $('div#preview-1 img:nth-child(1)').prop('src');\n  var img_fg = $('div#preview-1 img:nth-child(2)').prop('src');\n\n\n  $.ajax({\n    url: \"/blah.php?v=12345,\n\n  }).done(someotherFunction)\n\n  });\n\n}\n\nfunction someotherFunction(data) {\n     return data;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Rather odd problem in that I cannot use the data variable (the information returned by the ajax call) anywhere but in the .ajax function itself.</p>\n\n<p>I am sure this is an issue of scope, however it is one that is beyond me and would be grateful of any pointers.</p>\n\n<pre><code>$('img#test').live('click', function(e) {\n    e.preventDefault();\n    var test = getPreviewImage();\n    alert(test); // This just gives undefined\n});\n\n\nfunction getPreviewImage()\n{\n  var output;\n\n  var img_bg = $('div#preview-1 img:nth-child(1)').prop('src');\n  var img_fg = $('div#preview-1 img:nth-child(2)').prop('src');\n\n\n  $.ajax({\n    url: \"/blah.php?v=12345,\n\n  }).done(function (data) {\n\n    alert(data); // This gives the correct response\n    output = data; // This should take the data value but still be in scope for the return statement below\n\n  });\n\nreturn output;\n}\n</code></pre>\n",
            "last_activity_date": 1340894808,
            "question_id": 11247066,
            "score": 0,
            "tags": [
                "javascript",
                "jquery",
                "scope"
            ],
            "title": "Can&#39;t use returned data in .ajax method of jQuery anywhere but the function itself"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>object[propertiesArray[0]]\n</code></pre>\n\n<p>This will do the trick. Object attributes can be accessed like array indexes using <code>[]</code></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>You can just use <code>object[propertiesArray[0]]</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try</p>\n\n<pre><code>object[propertiesArray[0]];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I have an object, with properties like name, phone_number, etc...how can I access those in Javascript with a variable?</p>\n\n<p>I want to access the property name in javascript by doing something like this:</p>\n\n<pre><code>object {name : \"bob\", phone_number : \"911\" }\npropertiesArray = [\"name\",\"phone_number\"];\n\n object.propertiesArray[0]; // instead of  object.name;\n</code></pre>\n",
            "last_activity_date": 1340811765,
            "question_id": 11230063,
            "score": 0,
            "tags": [
                "javascript"
            ],
            "title": "Accessing property of object with variable"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Javascript is work on client side but have limited access so it not able to access local files form the client machine.</p>\n\n<p>So you require to palce you content on server than you can use ajax and get the data in you div to display the client.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>File Access is prohibited from the start, in any browser javascript implementation. Someone can disable that \"security feature\" in his browser manually. For instance, for Google Chrome you have to startup the executable with <code>--disabled-web-security</code> as commandline argument. Firefox can disabled that within it's <code>about:config</code>.</p>\n\n<p>Anyway, you totally cannot rely on that of course if you're writting code for the public. But there is light at the end of the tunnel. The \"new\" Javascript <a href=\"http://www.html5rocks.com/en/tutorials/file/dndfiles/\" rel=\"nofollow\"><code>File API</code></a> is already available in Chrome, other vendors will follow soon I guess/hope. That API \"officially\" allows your script to read files on the local machine.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For security reasons JavaScript's access to the file system on the client is restricted - consider whether you would want (somebody else's) JavaScript to read your sensitive documents.</p>\n\n<p>Even when experimenting it's best to work with a realistic topology, serve things from the server that would be served from there in the real system.</p>\n\n<p>It's really easy to set up a web server such as Apache to point to your development directory, so the \"server\" is just your desktop in disguise. Hence the edit/test cycle is really quick. </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I hope its possible to access a file locally using Ajax, i tried it with mozilla firefox and worked well. I'd created 2 text files and paced in the same folder. Here is the code. Sorry if there is any mistake.</p>\n\n<pre><code>function getXmlHttpRequestObject() {\n    if (window.XMLHttpRequest) {\n        return new XMLHttpRequest(); //Not IE\n    } \n    else if(window.ActiveXObject) {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\"); //IE\n    } \n    else {\n        alert(\"Your browser doesn't support the XmlHttpRequest object.  Better upgrade to Firefox.\");\n    }\n}           \nvar receiveReq = getXmlHttpRequestObject();     \nfunction sayHello(fname) {\n    if (receiveReq.readyState == 4 || receiveReq.readyState == 0) {\n        receiveReq.open(\"GET\", fname, true);\n        receiveReq.onreadystatechange = handleSayHello; \n        receiveReq.send(null);\n    }           \n}\nfunction handleSayHello() {\n    if (receiveReq.readyState == 4) {\n        document.getElementById('span_result').innerHTML = receiveReq.responseText;\n    }\n}\n\nHere is the html code\n&lt;select name=\"files\" onchange=\"sayHello(this.value)\"&gt;\n&lt;option value=\"\"&gt;Select a file&lt;/option&gt;\n&lt;option value=\"file.txt\"&gt;file.txt&lt;/option&gt;\n&lt;option value=\"file2.txt\"&gt;file2.txt&lt;/option&gt;\n&lt;option value=\"ajax.html\"&gt;Ajax.html&lt;/option&gt;\n&lt;/select&gt;&lt;br&gt;\n&lt;p&gt;Contents of the file will be displayed below&lt;/p&gt;\n&lt;div id=\"span_result\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>If you just want it for testing you can try disabling web security on chrome and then it should work.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I'm a novice to AJAX and just want to confirm: if I have all my code in a folder on my desktop and I am using AJAX to output file content in a div in HTML, is it possible to access local files through AJAX or file should have to be on server?</p>\n\n<p>I am just testing AJAX functionality for the first time and i am facing problem as its showing error \"Access denied \" in .js file</p>\n",
            "last_activity_date": 1405517475,
            "question_id": 6923707,
            "score": 0,
            "tags": [
                "javascript",
                "ajax"
            ],
            "title": "Using AJAX to read local files"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Sorry, Abi, you're out of luck--you can't use JavaScript in a browser to open a file on the local file system. This is a security issue and makes perfect sense if you think about it; you wouldn't want people writing scripts on their web sites that can access files on your local file system and possibly read data from them!</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>HTML5 permits opening of local files as long as the computer user is selecting the files. You should be able to find more information on the JavaScript API along with sample code on how to use that API here: <a href=\"http://www.html5rocks.com/en/tutorials/file/dndfiles/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/file/dndfiles/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am looking out for a way to open a .xls file which is in temp directory using javascript in IE and Firefox browser. I tried using the javascript as follows,</p>\n\n<pre><code>function openMe(){\n    var newwindow=window.open(\"file:///{path to temp dir}/names.xls\",\"window2\",\"\");\n}\n</code></pre>\n\n<p>The names.xls file exists there, I have verified it. As IE 7.0 does not let a user open a blank window due to security issues I am unable to make this work. I have not checked it with firefox yet. Is there any way to get this working?</p>\n\n<p>I also tried having an empty.html which has this javascript and calling this openMe() body onLoad. And opening the empty.html from the parent HTML file. All I see is a new blank window without nothing but the file does not open.</p>\n\n<p>Any pointers would be greatly helpful.Thanks</p>\n\n<p>Cheers,\nAbi</p>\n",
            "last_activity_date": 1357009295,
            "question_id": 5534297,
            "score": 0,
            "tags": [
                "javascript",
                "internet-explorer",
                "file",
                "firefox",
                "local"
            ],
            "title": "Opening a file in local file system in javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's possible to attach event handlers completely within JavaScript. Example:</p>\n\n<pre><code>document.getElementById('showDiv').onclick = function() {\n    // Do whatever now that the user has clicked the link.\n};\n</code></pre>\n\n<p>To reverse the effect of the first line of code you posted, you could use:</p>\n\n<pre><code>document.getElementById('element').style.display = 'block'; // or\ndocument.getElementById('element').style.display = '';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>document.getElementById('showDiv').onclick=function(){\n  // Remove any element-specific value, falling back to stylesheets\n  document.getElementById('element').style.display='';\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to do this without Jquery. I want to show a div when clicking a trigger. So far I have this to hide the element. </p>\n\n<pre><code> document.getElementById('element').style.display = 'none';\n</code></pre>\n\n<p>HTML..</p>\n\n<pre><code>&lt;div class=\"element\"&gt;Ahem, boo!!&lt;/div&gt;\n&lt;a href=\"#\" id=\"showDiv\"&gt;Show&lt;/a&gt;\n</code></pre>\n\n<p>How do I create a function to show the div when clicking the link? I would like to avoid using functions like <code>onclick=\"showDiv()</code> in the link itself.</p>\n",
            "last_activity_date": 1291522500,
            "question_id": 4357291,
            "score": 0,
            "tags": [
                "javascript",
                "html",
                "json"
            ],
            "title": "Javascript show element on click"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try out the solution as follows:</p>\n\n<pre><code>$('input').on(\"click\",function(){\n    setTimeout(function(){\n        $('input').click();\n    },1000)\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>I tried following solution and it worked .</p>\n\n<pre><code>        &lt;textarea name=\"txtDesc&lt;?php echo $i;?&gt;\" id=\"txtDesc&lt;?php echo $i;?&gt;\" class=\"ckeditor\" rows=\"5\" cols=\"17\" &gt;&lt;?php echo $txtDesc?&gt;&lt;/textarea&gt;\n        &lt;script&gt;\n         CKEDITOR.replace(\"txtDesc&lt;?php echo $i;?&gt;\");\n         CKEDITOR.add       \n            //CKEDITOR.replace('txtDesc0'); \n        &lt;/script&gt;   \n</code></pre>\n\n<p>If there is only 1 ckEditor</p>\n\n<pre><code>for (instance in CKEDITOR.instances) {\n\n    CKEDITOR.instances[instance].on(\"instanceReady\", function () {\n\n        //set keyup event\n        this.document.on(\"keyup\", function () { CKEDITOR.instances[instance].updateElement(); });\n        //and paste event\n        this.document.on(\"paste\", function () { CKEDITOR.instances[instance].updateElement(); });\n\n    });\n}                                   \n</code></pre>\n\n<p>If there are more than 1 ckEditor(in my case 2)</p>\n\n<pre><code>CKEDITOR.instances[\"txtDesc0\"].on(\"instanceReady\", function () {\nthis.document.on(\"keyup\", function () { CKEDITOR.instances[\"txtDesc0\"].updateElement(); });\nthis.document.on(\"paste\", function () { CKEDITOR.instances[\"txtDesc0\"].updateElement(); });\nthis.document.on(\"cut\", function () { CKEDITOR.instances[\"txtDesc0\"].updateElement(); });\n});\n\nCKEDITOR.instances[\"txtDesc1\"].on(\"instanceReady\", function () {\nthis.document.on(\"keyup\", function () { CKEDITOR.instances[\"txtDesc1\"].updateElement(); });\nthis.document.on(\"paste\", function () { CKEDITOR.instances[\"txtDesc1\"].updateElement(); });\nthis.document.on(\"cut\", function () { CKEDITOR.instances[\"txtDesc1\"].updateElement(); });\n});             \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I have 2 CKEditors in my HTML (i mean , say multiple ckeditors).</p>\n\n<p>Also I am using Validate plugin for checking if CKEditor is empty,if empty show error.</p>\n\n<p>Validation works perfectly , but it validates 2nd time ,where as it should validate 1st time itself.</p>\n\n<p>I have Checked all the Questions,answers here ,But None helped .</p>\n\n<p>I created jsfiddle : <a href=\"http://jsfiddle.net/7mKcY/\" rel=\"nofollow\">Fiddle</a></p>\n\n<p>Code for validate : </p>\n\n<p>HTML</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\" id=\"frmEditor\"&gt;\n\n    &lt;p&gt;\n        &lt;label for=\"editor1\"&gt;\n            Editor 1:\n        &lt;/label&gt;\n        &lt;textarea class=\"ckeditor\" cols=\"80\" id=\"editor1\" name=\"editor1\" rows=\"10\"&gt;&lt;/textarea&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n\n    &lt;/p&gt;\n\n    &lt;p&gt;\n        &lt;label for=\"editor1\"&gt;\n            Editor 2:\n        &lt;/label&gt;\n        &lt;textarea class=\"ckeditor\" cols=\"80\" id=\"editor2\" name=\"editor2\" rows=\"10\"&gt;&lt;/textarea&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;input type=\"submit\" value=\"Submit\"&gt;\n    &lt;/p&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>$(document).ready(function(){   \n// validate signup form on keyup and submit\n    $(\"#frmEditor\").validate({\n        ignore: [],\n        debug: false,\n        rules: {\n            editor1:{\n                required: true\n            },\n            editor2:{\n                required: true\n            }           \n        },\n        messages: {         \n            editor1: {\n                required: \"Please enter\"\n            },\n            editor2: {\n                required: \"Please enter\"\n            }           \n        },\n        submitHandler: function(form) {\n            form.submit();\n        }       \n    });\n});\n</code></pre>\n\n<p>I would be thankful if you can help me.</p>\n",
            "last_activity_date": 1414996089,
            "question_id": 23323929,
            "score": -3,
            "tags": [
                "javascript",
                "jquery",
                "jquery-validate",
                "ckeditor"
            ],
            "title": "CK Editor validates 2nd time"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'm not entirely sure, but I do know that when programming, it is good practice to make the code as small as possible without sacrificing functionality. I like to call it <code>minimalist code</code>.</p>\n\n<p>This can be a good reason to obfuscate code. Obfuscation shrinks the size of the file by using smaller method and variable names, making it harder to reverse-engineer, shrinking the file size, making it faster to download, as well as a potential performance boost. Google's javascript code is intensely obfuscated, and that contributes to their speed.</p>\n\n<p>So in JavaScript, bigger isn't always better. When I find a way I can shrink my code, I implement it immediately, because I know it will benefit performance, even if by the smallest amount.</p>\n\n<p>For example, using the <code>var</code> keyword in a function where the variable isn't needed outside the function helps garbage collection, which provides a very small speed boost versus keeping the variable in memory.</p>\n\n<p>With a library like this this that produces \"millions of operations per second\" (Blaise's words), small performance boosts can add up to a noticeable/measurable difference.</p>\n\n<p>So it is possible that <code>my.class.js</code> is \"minimalist coded\" or optimized in some manner. It could even be the <code>var</code> keywords.</p>\n\n<p>I hope this helped somewhat. If it didn't help, then I wish you luck in getting a good answer.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't mean to offend anyone, but this sort of thing <em>really</em> isn't worth the attention, IMHO. Almost any speed-difference between browsers is down to the JS engine. The V8 engine is very good at memory management, for example; especially when you compare it to IE's JScript engines of old.</p>\n\n<p>Consider the following:</p>\n\n<pre><code>var closure = (function()\n{\n    var closureVar = 'foo',\n    someVar = 'bar',\n    returnObject = {publicProp: 'foobar'};\n    returnObject.getClosureVar = function()\n    {\n        return closureVar;\n    };\n    return returnObject;\n}());\n</code></pre>\n\n<p>Last time I checked, chrome actually GC'ed <code>someVar</code>, because it wasn't being referenced by the return value of the IIFE (referenced by <code>closure</code>), whereas both FF and Opera kept the entire function scope in memory. <br/>\nIn this snippet, it doesn't really matter, but for libs that are written using the module-pattern (AFAIK, that's pretty much all of them) that consist of thousands of lines of code, it <em>can</em> make a difference. </p>\n\n<p>Anyway, modern JS-engines are more than just <em>\"dumb\"</em> parse-and-execute things. As you said: there's JIT compilation going on, but there's also a lot of trickery involved to optimize your code as much as possible. It could very well be that the snippet you posted is written in a way that FF's engine just <em>loves</em>. <Br/>\nIt's also quite important to remember that there is some sort of speed-battle going on between Chrome and FF about who has the fastest engine. Last time I checked Mozilla's Rhino engine was said to outperform Google's V8, if that still holds true today, I can't say... Since then, both Google and Mozilla have been working on their engines...</p>\n\n<p>Bottom line: speed differences between various browsers exist - nobody can deny that, but a single point of difference is insignificant: you'll never write a script that does just one thing over and over again. It's the overall performance that matters.<br/>\nYou have to keep in mind that JS is a tricky bugger to benchmark, too: just open your console, write some recursive function, and rung it 100 times, in FF and Chrome. compare the time it takes for each recursion, and the overall run. Then wait a couple of hours and try again... sometimes FF might come out on top, whereas other times Chrome might be faster, still. I've tried it with this function:</p>\n\n<pre><code>var bench = (function()\n{\n    var mark = {start: [new Date()],\n                end: [undefined]},\n    i = 0,\n    rec = function(n)\n    {\n        return +(n === 1) || rec(n%2 ? n*3+1 : n/2);\n        //^^ Unmaintainable, but fun code ^^\\\\\n    };\n    while(i++ &lt; 100)\n    {//new date at start, call recursive function, new date at end of recursion\n        mark.start[i] = new Date();\n        rec(1000);\n        mark.end[i] = new Date();\n    }\n    mark.end[0] = new Date();//after 100 rec calls, first element of start array vs first of end array\n    return mark;\n}());\n</code></pre>\n\n<p>But now, to get back to your initial question(s): </p>\n\n<p>First off: the snippet you provided doesn't quite compare to, say, jQuery's <code>$.extend</code> method: there's no <em>real</em> cloning going on, let alone deep-cloning. It doesn't check for circular references at all, which most other libs I've looked into do. checking for circular references does slow the entire process down, but it can come in handy from time to time (example 1 below). Part of the performance difference could be explained by the fact that this code <em>simply does less</em>, so it needs less time.</p>\n\n<p>Secondly: Declaring a constructor (classes don't exist in JS) and creating an instance are, indeed, two different things (though declaring a constructor is in itself creating an instance of an object (a <code>Function</code> instance to be exact). The way you write your constructor can make a <em>huge</em> difference, as shown in example 2 below. Again, this is a generalization, and might not apply to certain use-cases on certain engines: V8, for example, tends to create a single function object for all instances, even if that function is part of the constructor - or so I'm told.</p>\n\n<p>Thirdly: Traversing a long prototype-chain, as you mention is not as unusual as you might think, far from it, actually. You're constantly traversing chains of 2 or three prototypes, as shown in example 3. This shouldn't slow you down, as it's just inherent to the way JS resolves function calls or resolves expressions.</p>\n\n<p>Lastly: It's probably being JIT-compiled, but saying that other libs aren't JIT-compiled just doesn't stack up. They might, then again, they might not. As I said before: different engines perform better at some tasks then other... it <em>might</em> be the case that FF JIT-compiles this code, and other engines don't. <Br/>\nThe main reason I can see why other libs wouldn't be JIT-compiled are: checking for circular references, deep cloning capabilities, dependencies (ie <code>extend</code> method is used all over the place, for various reasons).</p>\n\n<p>example 1:</p>\n\n<pre><code>var shallowCloneCircular = function(obj)\n{//clone object, check for circular references\n    function F(){};\n    var clone, prop;\n    F.prototype = obj;\n    clone = new F();\n    for (prop in obj)\n    {//only copy properties, inherent to instance, rely on prototype-chain for all others\n        if (obj.hasOwnProperty(prop))\n        {//the ternary deals with circular references\n            clone[prop] = obj[prop] === obj ? clone : obj[prop];//if property is reference to self, make clone reference clone, not the original object!\n        }\n    }\n    return clone;\n};\n</code></pre>\n\n<p>This function clones an object's first level, all objects that are being referenced by a property of the original object, will still be shared. A simple fix would be to simply call the function above recursively, but then you'll have to deal with the nasty business of circular references at all levels:</p>\n\n<pre><code>var circulars = {foo: bar};\ncirculars.circ1 = circulars;//simple circular reference, we can deal with this\ncirculars.mess = {gotcha: circulars};//circulars.mess.gotcha ==&gt; circular reference, too\ncirculars.messier = {messiest: circulars.mess};//oh dear, this is hell\n</code></pre>\n\n<p>Of course, this isn't the most common of situations, but if you want to write your code defensively, you have to acknowledge the fact that many people write mad code all the time...</p>\n\n<p>Example 2:</p>\n\n<pre><code>function CleanConstructor()\n{};\nCleanConstructor.prototype.method1 = function()\n{\n     //do stuff...\n};\nvar foo = new CleanConstructor(), \nbar = new CleanConstructor);\nconsole.log(foo === bar);//false, we have two separate instances\nconsole.log(foo.method1 === bar.method1);//true: the function-object, referenced by method1 has only been created once.\n//as opposed to:\nfunction MessyConstructor()\n{\n    this.method1 = function()\n    {//do stuff\n    };\n}\nvar foo = new MessyConstructor(),\nbar = new MessyConstructor();\nconsole.log(foo === bar);//false, as before\nconsole.log(foo.method1 === bar.method1);//false! for each instance, a new function object is constructed, too: bad performance!\n</code></pre>\n\n<p>In theory, declaring the first constructor is <em>slower</em> than the messy way: the function object, referenced by <code>method1</code> is created before a single instance has been created. The second example doesn't create a <code>method1</code>, except for when the constructor is called. But the downsides are <em>huge</em>: forget the <code>new</code> keyword in the first example, and all you get is a return value of <code>undefined</code>. The second constructor creates a global function object when you omit the <code>new</code> keyword, and of course creates new function objects for each call. You have a constructor (and a prototype) that is, in fact, idling... Which brings us to <em>example 3</em></p>\n\n<p>example 3:</p>\n\n<pre><code>var foo = [];//create an array - empty\nconsole.log(foo[123]);//logs undefined.\n</code></pre>\n\n<p>Ok, so what happens behind the scenes: <code>foo</code> references an <em>object</em>, instance of <code>Array</code>, which in turn inherits form the Object prototype (just try <code>Object.getPrototypeOf(Array.prototype)</code>). It stands to reason, therefore that an Array instance works in pretty much the same way as any object, so:</p>\n\n<pre><code>foo[123] ===&gt; JS checks instance for property 123 (which is coerced to string BTW)\n    || --&gt; property not found @instance, check prototype (Array.prototype)\n    ===========&gt; Array.prototype.123 could not be found, check prototype\n         ||\n         ==========&gt; Object.prototype.123: not found check prototype?\n             ||\n             =======&gt;prototype is null, return undefined\n</code></pre>\n\n<p>In other words, a chain like you describe isn't too far-fetched or uncommon. It's how JS works, so expecting that to slow things down is like expecting your brain to fry because your thinking: yes, you can get worn out by thinking too much, but just know when to take a break. Just like in the case of prototype-chains: their great, just know that they are a tad slower, yes...</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I've been looking at the source code of <a href=\"https://github.com/jiem/my-class/blob/master/my.class.js\" rel=\"nofollow\">my.class.js</a> to find out what makes it so <a href=\"http://jsperf.com/oop-benchmark/107\" rel=\"nofollow\" title=\"JavaScript Object Oriented Libraries Benchmark \u00b7 jsPerf\">fast</a> on Firefox. Here's the snippet of code used to create a class:</p>\n\n<pre><code>my.Class = function () {\n    var len = arguments.length;\n    var body = arguments[len - 1];\n    var SuperClass = len &gt; 1 ? arguments[0] : null;\n    var hasImplementClasses = len &gt; 2;\n    var Class, SuperClassEmpty;\n\n    if (body.constructor === Object) {\n        Class = function () {};\n    } else {\n        Class = body.constructor;\n        delete body.constructor;\n    }\n\n    if (SuperClass) {\n        SuperClassEmpty = function() {};\n        SuperClassEmpty.prototype = SuperClass.prototype;\n        Class.prototype = new SuperClassEmpty();\n        Class.prototype.constructor = Class;\n        Class.Super = SuperClass;\n        extend(Class, SuperClass, false);\n    }\n\n    if (hasImplementClasses)\n        for (var i = 1; i &lt; len - 1; i++)\n            extend(Class.prototype, arguments[i].prototype, false);    \n\n    extendClass(Class, body);\n\n    return Class;\n};\n</code></pre>\n\n<p>The <code>extend</code> function is simply used to copy the properties of the second object onto the first (optionally overriding existing properties):</p>\n\n<pre><code>var extend = function (obj, extension, override) {\n    var prop;\n    if (override === false) {\n        for (prop in extension)\n            if (!(prop in obj))\n                obj[prop] = extension[prop];\n    } else {\n        for (prop in extension)\n            obj[prop] = extension[prop];\n        if (extension.toString !== Object.prototype.toString)\n            obj.toString = extension.toString;\n    }\n};\n</code></pre>\n\n<p>The <code>extendClass</code> function copies all the static properties onto the class, as well as all the public properties onto the prototype of the class:</p>\n\n<pre><code>var extendClass = my.extendClass = function (Class, extension, override) {\n    if (extension.STATIC) {\n        extend(Class, extension.STATIC, override);\n        delete extension.STATIC;\n    }\n    extend(Class.prototype, extension, override);\n};\n</code></pre>\n\n<p>This is all pretty straightforward. When you create a class, it simply returns the constructor function you provide it.</p>\n\n<p>What beats my understanding however is how does creating an instance of this constructor <a href=\"http://jsperf.com/oop-benchmark/107\" rel=\"nofollow\" title=\"JavaScript Object Oriented Libraries Benchmark \u00b7 jsPerf\">execute faster</a> than creating an instance of the same constructor written in <a href=\"http://vaporjs.com/\" rel=\"nofollow\" title=\"Vapor.js | The World's Smallest &amp; Fastest JavaScript Library\">Vapor.js</a>.</p>\n\n<p>This is what I'm trying to understand:</p>\n\n<ol>\n<li>How do constructors of libraries like my.class.js create so many instances so quickly on Firefox? The constructors of the libraries are all very similar. Shouldn't the execution time also be similar?</li>\n<li>Why does the way the class is created affect the execution speed of instantiation? Aren't definition and instantiation separate processes?</li>\n<li>Where is my.class.js gaining this speed boost from? I don't see any part of the constructor code which should make it execute any faster. In fact traversing a long prototype chain like <code>MyFrenchGuy.Super.prototype.setAddress.call</code> should slow it down significantly.</li>\n<li>Is the constructor function being JIT compiled? If so then why aren't the constructor functions of other libraries also being JIT compiled?</li>\n</ol>\n",
            "last_activity_date": 1374823537,
            "question_id": 14213074,
            "score": -3,
            "tags": [
                "javascript",
                "oop",
                "instantiation",
                "jsperf"
            ],
            "title": "What makes my.class.js so fast?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>DCI is a paradigm and as such there's no angularJS way of doing it, either the language support DCI or it doesn't. JS support DCI rather well if you are willing to use source transformation and with some drawbacks if you are not. Again DCI has no more to do with dependency injection than say a C# class has and is definitely not a service either. So the best way to do DCI with angulusJS is to do DCI the JS way, which is pretty close to how DCI is formulated in the first place. Unless you do source transformation, you will not be able to do it fully since the role methods will be part of the object even outside the context but that's generally the problem with method injection based DCI. If you look at <a href=\"http://FullOO.info\" rel=\"nofollow\">fullOO.info</a> the authoritative site for DCI you could have a look at the ruby implementations they also use method injection or you could have a look at <a href=\"http://runefs.com/category/dci/\" rel=\"nofollow\">here</a> for more information on DCI. It's mostly with RUby examples but the DCI stuff is agnostic to that.\nOne of the keys to DCI is that what the system does is separated from what the system is. So the data object are pretty dumb but once bound to a role in a context role methods make certain behaviour available. A role is simply an identifier, nothing more, an when accessing an object through that identifier then role methods are available. There's no role object/class. With method injection the scoping of role methods is not exactly as described but close. An example of a context in JS could be</p>\n\n<pre><code>function transfer(source,destination){\n   source.transfer = function(amount){\n        source.withdraw(amount);\n        source.log(\"withdrew \" + amount);\n        destination.receive(amount);\n   };\n   destination.receive = function(amount){\n      destination.deposit(amount);\n      destination.log(\"deposited \" + amount);\n   };\n   this.transfer = function(amount){\n    source.transfer(amount);\n   };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You should use services if you want something usable by multiple controllers. Here's a simple contrived example:</p>\n\n<pre><code>myApp.factory('ListService', function() {\n  var ListService = {};\n  var list = [];\n  ListService.getItem = function(index) { return list[index]; }\n  ListService.addItem = function(item) { list.push(item); }\n  ListService.removeItem = function(item) { list.splice(list.indexOf(item), 1) }\n  ListService.size = function() { return list.length; }\n\n  return ListService;\n});\n\nfunction Ctrl1($scope, ListService) {\n  //Can add/remove/get items from shared list\n}\n\nfunction Ctrl2($scope, ListService) {\n  //Can add/remove/get items from shared list\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 114
                },
                {
                    "body": "<p>I'm currently trying this pattern, which, although not DCI, provides a classical service / model decoupling (with services for talking to web services (aka model CRUD), and model defining the object properties and methods). </p>\n\n<p>Note that i only use this pattern whenever the model object needs methods working <strong>on its own</strong> properties, that i'll probably use everywhere (such as improved getter/setters). I'm <strong>not</strong> advocating doing this for every service systematically. </p>\n\n<p><strong>EDIT:\nI used to think this pattern would go against the \"Angular model is plain old javascript object\" mantra, but it seems to me now that this pattern is perfectly fine.</strong></p>\n\n<p><strong>EDIT (2): \nTo be even clearer, I use a Model class only to factor simple getters / setters (e.g. : to be used in view templates). For big business logic, i recommend using separate service(s) that \"know\" about the model, but are kept separated from them, and only include business logic. Call it a \"business expert\" service layer if you want</strong></p>\n\n<p><strong>service/ElementServices.js</strong> (notice how Element is injected in the declaration)</p>\n\n<pre><code>MyApp.service('ElementServices', function($http, $q, Element)\n{\n    this.getById = function(id)\n    {\n        return $http.get('/element/' + id).then(\n            function(response)\n            {\n                //this is where the Element model is used\n                return new Element(response.data);\n            },\n            function(response)\n            {\n                return $q.reject(response.data.error);\n            }\n        );\n    };\n    ... other CRUD methods\n}\n</code></pre>\n\n<p><strong>model/Element.js</strong> (using angularjs Factory, made for object creation)</p>\n\n<pre><code>MyApp.factory('Element', function()\n{\n    var Element = function(data) {\n        //set defaults properties and functions\n        angular.extend(this, {\n            id:null,\n            collection1:[],\n            collection2:[],\n            status:'NEW',\n            //... other properties\n\n            //dummy isNew function that would work on two properties to harden code\n            isNew:function(){\n                return (this.status=='NEW' || this.id == null);\n            }\n        });\n        angular.extend(this, data);\n    };\n    return Element;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 67
                },
                {
                    "body": "<p>The Angularjs documentation clearly states:</p>\n\n<blockquote>\n  <p>Unlike many other frameworks Angular makes no restrictions or\n  requirements on the model. There are no classes to inherit from or\n  special accessor methods for accessing or changing the model. The\n  model can be primitive, object hash, or a full object Type. In short\n  the model is a plain JavaScript object.</p>\n</blockquote>\n\n<p>So it means that's up to you how to declare a model.\nIt's a simple Javascript object.</p>\n\n<p>I personally won't use Angular Services as they were meant to behave like singleton objects you can use, for example, to keep global states across your application.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>This article about models in AngularJS might help:</p>\n\n<p><a href=\"http://joelhooks.com/blog/2013/04/24/modeling-data-and-state-in-your-angularjs-application/\">http://joelhooks.com/blog/2013/04/24/modeling-data-and-state-in-your-angularjs-application/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>As stated by other posters, Angular provides no out-of-the-box base class for modeling, but one can usefully provide several functions:</p>\n\n<ol>\n<li>Methods for interacting with a RESTful API and creating new objects</li>\n<li>Establishing relationships between models</li>\n<li>Validating data before persisting to the backend; also useful for displaying real-time errors</li>\n<li>Caching and lazy-loading to keep from making wasteful HTTP requests</li>\n<li>State machine hooks (before/after save, update, create, new, etc)</li>\n</ol>\n\n<p>One library that does all of these things well is ngActiveResource (<a href=\"https://github.com/FacultyCreative/ngActiveResource\">https://github.com/FacultyCreative/ngActiveResource</a>). Full disclosure--I wrote this library--and I have used it successfully in building several enterprise-scale applications. It's well tested, and provides an API that should be familiar to Rails developers.</p>\n\n<p>My team and I continue to actively develop this library, and I'd love to see more Angular developers contribute to it and battle test it. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I've tried to tackle that exact issue in <a href=\"http://sauceio.com/index.php/2014/07/angularjs-data-models-http-vs-resource-vs-restangular/\" rel=\"nofollow\">this blog post</a>.</p>\n\n<p>Basically, the best home for data modeling is in services and factories. However, depending on how you retrieve your data and the complexity of the behaviors you need, there are lots of different ways to go about the implementation. Angular currently has no <em>standard</em> way or best practice.</p>\n\n<p>The post covers three approaches, using <strong>$http</strong>, <strong>$resource</strong>, and <strong><a href=\"https://github.com/mgonto/restangular\" rel=\"nofollow\">Restangular</a></strong>.</p>\n\n<p>Here's some example code for each, with a custom <code>getResult()</code> method on the Job model:</p>\n\n<p><strong>Restangular (easy peasy):</strong></p>\n\n<pre><code>angular.module('job.models', [])\n  .service('Job', ['Restangular', function(Restangular) {\n    var Job = Restangular.service('jobs');\n\n    Restangular.extendModel('jobs', function(model) {\n      model.getResult = function() {\n        if (this.status == 'complete') {\n          if (this.passed === null) return \"Finished\";\n          else if (this.passed === true) return \"Pass\";\n          else if (this.passed === false) return \"Fail\";\n        }\n        else return \"Running\";\n      };\n\n      return model;\n    });\n\n    return Job;\n  }]);\n</code></pre>\n\n<p><strong>$resource (slightly more convoluted):</strong></p>\n\n<pre><code>angular.module('job.models', [])\n    .factory('Job', ['$resource', function($resource) {\n        var Job = $resource('/api/jobs/:jobId', { full: 'true', jobId: '@id' }, {\n            query: {\n                method: 'GET',\n                isArray: false,\n                transformResponse: function(data, header) {\n                    var wrapped = angular.fromJson(data);\n                    angular.forEach(wrapped.items, function(item, idx) {\n                        wrapped.items[idx] = new Job(item);\n                    });\n                    return wrapped;\n                }\n            }\n        });\n\n        Job.prototype.getResult = function() {\n            if (this.status == 'complete') {\n                if (this.passed === null) return \"Finished\";\n                else if (this.passed === true) return \"Pass\";\n                else if (this.passed === false) return \"Fail\";\n            }\n            else return \"Running\";\n        };\n\n        return Job;\n    }]);\n</code></pre>\n\n<p><strong>$http (hardcore):</strong></p>\n\n<pre><code>angular.module('job.models', [])\n    .service('JobManager', ['$q', '$http', 'Job', function($q, $http, Job) {\n        return {\n            getAll: function(limit) {\n                var deferred = $q.defer();\n\n                $http.get('/api/jobs?limit=' + limit + '&amp;full=true').success(function(data) {\n                    var jobs = [];\n                    for (var i = 0; i &lt; data.objects.length; i ++) {\n                        jobs.push(new Job(data.objects[i]));\n                    }\n                    deferred.resolve(jobs);\n                });\n\n                return deferred.promise;\n            }\n        };\n    }])\n    .factory('Job', function() {\n        function Job(data) {\n            for (attr in data) {\n                if (data.hasOwnProperty(attr))\n                    this[attr] = data[attr];\n            }\n        }\n\n        Job.prototype.getResult = function() {\n            if (this.status == 'complete') {\n                if (this.passed === null) return \"Finished\";\n                else if (this.passed === true) return \"Pass\";\n                else if (this.passed === false) return \"Fail\";\n            }\n            else return \"Running\";\n        };\n\n        return Job;\n    });\n</code></pre>\n\n<p>The blog post itself goes into more detail on the reasoning behind why you might use each approach, as well as code examples of how to use the models in your controllers:</p>\n\n<p><a href=\"http://sauceio.com/index.php/2014/07/angularjs-data-models-http-vs-resource-vs-restangular/\" rel=\"nofollow\">AngularJS Data Models: $http VS $resource VS Restangular</a></p>\n\n<p>There's a possibility Angular 2.0 will offer a more robust solution to data modeling that gets everyone on the same page.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>An older question, but I think the topic is more relevant than ever given the new direction of Angular 2.0. I would say a best practice is to write code with as few dependencies on a particular framework as possible. Only use the framework specific parts where it adds direct value. </p>\n\n<p>Currently it seems like the Angular service is one of the few concepts that will make it to the next generation of Angular, so it's probably smart to follow the general guideline of moving all logic to services. However, I would argue that you can make decoupled models even without a direct dependency on Angular services. Creating self contained objects with only necessary dependencies and responsibilities is probably the way to go. It also makes life a lot easier when doing automated testing. Single responsibility is a buzz work these days, but it does make a lot of sense!</p>\n\n<p>Here is an example of a patter I consider good for decoupling the object model from the dom.</p>\n\n<p><a href=\"http://www.syntaxsuccess.com/viewarticle/548ebac8ecdac75c8a09d58e\" rel=\"nofollow\">http://www.syntaxsuccess.com/viewarticle/548ebac8ecdac75c8a09d58e</a></p>\n\n<p>A key goal is to structure your code in a way that makes it just as easy to use from a unit tests as from a view. If you achieve that you are well positioned to write realistic and useful tests.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am working with AngularJS for my latest project. In the documentation and tutorials all model data is put into the controller scope. I understand that is has to be there to be available for the controller and thus within the corresponding views.</p>\n\n<p>However I dont think the model should actually be implemented there. It might be complex and have private attributes for example. Furthermore one might want to reuse it in another context/app. Putting everything into the controller totally breaks MVC pattern.</p>\n\n<p>The same holds true for the behaviour of any model. If I would use <a href=\"http://www.artima.com/articles/dci_vision.html\">DCI architecture</a> and separate behaviour from the data model, I would have to introduce additional objects to hold the behaviour. This would be done by introducing roles and contexts.</p>\n\n<p>Of course model data and behaviour could be implemented with plain javascript objects or any \"class\" pattern. But what would be the AngularJS way to do it? Using services?</p>\n\n<p><strong>So it comes down to this question:</strong></p>\n\n<p>How do you implement models decoupled from the controller, following AngularJS best practices?</p>\n",
            "last_activity_date": 1419820400,
            "question_id": 11112608,
            "score": 234,
            "tags": [
                "javascript",
                "model-view-controller",
                "angularjs",
                "dci"
            ],
            "title": "Where to put model data and behaviour?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>have a look at knockoutjs too. Look at the video to get an understanding of how MVVM works in javascript world.</p>\n\n<p><a href=\"http://knockoutjs.com/\" rel=\"nofollow\">http://knockoutjs.com/</a></p>\n\n<p>I have used it for few projects and so far very happy about it. I see it being a part of new ASP.NET MVC 4 (SPA), and backed by Microsoft. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Anybody here claiming that one solution is faster or slower than other either doesn't know much about any of these libraries or frameworks (or perf testing in general) or is a liar.</p>\n\n<p>Performance is a very tricky characteristic to measure because of so many variables that affect it. Just to name few:</p>\n\n<ul>\n<li>quality of the test/benchmark code</li>\n<li>quality of the library/framework code</li>\n<li>type of application</li>\n<li>quality of the application code</li>\n<li>browser used</li>\n<li>client hw</li>\n<li>other processes running at the same time on the client hw</li>\n<li>quality and speed of the internet connection</li>\n<li>server load and server performance</li>\n<li>and the list goes on and on...</li>\n</ul>\n\n<p>but more importantly, what exactly do you mean by performance? performance is a very broad term that covers too many things, including:</p>\n\n<ul>\n<li>time it takes to bootstrap the app</li>\n<li>time it takes to respond to a user action</li>\n<li>resource utilization (cpu/memory/network)</li>\n<li>performance of dom manipulation done by the library/framework/app code</li>\n<li>garbage collector friendliness</li>\n<li>and again the list goes on and on...</li>\n</ul>\n\n<p>The best way to answer your question is to create an application that is well representative of the application <em>you are intending to build</em> and implement it with the competing libraries/frameworks. Then write a quality benchark that will compare them head to head in a stable environment.</p>\n\n<p>This is obviously a very laborious task and only someone with a lot at stake would undertake it.</p>\n\n<p>There is however a different solution to this problem: understand the framework/library you are using and specifically:</p>\n\n<ul>\n<li>learn the core flows and algorithms that the framework/library internally uses. while you typically shouldn't care, when you get into a perf problems, understanding how your application executes, will enable you to identify and fix perf problems</li>\n<li>check if performance is something that the library/framework writers have expertise in</li>\n<li>check if the framework/library helps you to identify performance problems and fix them</li>\n</ul>\n\n<p>As for the actual comparison between Backbone and AngularJS, you are comparing two very different solutions.</p>\n\n<p>Backbone doesn't do any dom manipulation for you, so the speed of your app will mostly depend on how well can you do dom manipulation (is this your expertise?).</p>\n\n<p>AngularJS does most of the dom manipulation for you and we have a ton of expertise in this area, so unless you are really good, you'll have a hard time matching us.</p>\n\n<p>Secondly, backbone's model mutation observation is based on events, model wrappers and use of artificial getters and setters. Not only that this can be very inefficient due to lack of event coalescence (there might be a workaround for this in latest backbone versions), but the use of artificial getters and setters also interferes with the JIT compiler in your browser.</p>\n\n<p>Misko wrote up a <a href=\"http://stackoverflow.com/questions/9682092/databinding-in-angularjs/9693933#9693933\">long post</a> on how Angular does its magical model mutation observation. So I'm not going to repeat it here. But basically the performance of an AngularJS app is directly related to the number and complexity of bindings used in the current view of the application. With this in mind, you can easily predict Angular's performance. Even better is that with tools like AngularJS Batarang extension for Chrome, we allow you to easily instrument your application and understand which bindings on the page are slow and this allows you to focus on fixing the parts of your code that really matter.</p>\n\n<p>I'm going to conclude by saying that no library or framework will be the best solution for all of your use cases, so you should learn more about the tools you build your apps with and when it really matters, decide which one is the best for a given use case. My bet is that for most of the apps you are going to write, performance is not going to noticeably change if you switch framework or library. So I would put more weight on other factors like productivity, easy of use, testability, community and documentation before I would worry about performance.</p>\n\n<p>And the very last thing: benchmarks are often misleading, but check out these ones and take them with a grain of salt.</p>\n\n<ul>\n<li><code>Backbone + Ember</code>: <a href=\"http://jsfiddle.net/jashkenas/CGSd5/\">http://jsfiddle.net/jashkenas/CGSd5/</a></li>\n<li><code>AngularJS</code>: <a href=\"http://jsfiddle.net/mhevery/vYknU/23/\">http://jsfiddle.net/mhevery/vYknU/23/</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 235
                },
                {
                    "body": "<p>not necessarily an answer but another resource link w/ a generic pros/cons for each framework.  I think what Igor Minar said is really important, focus on what is easy to learn, easy to implement &amp; doesn't get in the way of your productivity over obsessing about performance.</p>\n\n<p><a href=\"http://codebrief.com/2012/01/the-top-10-javascript-mvc-frameworks-reviewed/\" rel=\"nofollow\">http://codebrief.com/2012/01/the-top-10-javascript-mvc-frameworks-reviewed/</a></p>\n\n<p>For what it's worth, Angular JS and Ember JS appeal to me primarily because of their use of binding is very much like Flex's binding mechanism (at a high level) AND it leaves the HTML mostly decoupled from the controller/model logic.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is another performance comparison between Angular, Ember, and KO here:</p>\n\n<p><a href=\"http://jsperf.com/angular-vs-knockout-vs-ember/2\">http://jsperf.com/angular-vs-knockout-vs-ember/2</a></p>\n\n<p>Clear winner in this case is Angular, but as said earlier, performance tests are rarely straightforward or fair.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Tangential, but relevant information on top of what @igor-minar already said in <a href=\"http://stackoverflow.com/a/11498872/850996\">http://stackoverflow.com/a/11498872/850996</a></p>\n\n<p>There have been several examples where I ran into performance issues that are related to what is discussed here. And these examples did not involve any frameworks (beyond jQuery core to access the DOM).</p>\n\n<p>We had several UI components that we were building, styling and rendering to a DOM tree that consisted of a large number of elements. Javascript and the DOM has the inherent performance characteristic that reading DOM attributes blocks on any pending updates to the DOM [1]. For example, if you change 5 CSS attributes of one element, which the browser may queue up and execute later, and then try to read one CSS attribute, it needs to complete the pending DOM writes before it can give you back the one attribute you just read. For instance, simple scenarios like reading an element.offsetHeight can be expensive because it requires the DOM to complete pending updates and then measure and layout the elements before it can determine the height of the particular element.</p>\n\n<p>We had a lot of code that was written without consideration for this basic characteristic. Fixing it required optimizing it in such a way to minimize the blocking DOM reads. Also, building DOM subtrees offline before attaching them to the document helped in some cases.</p>\n\n<p>With all of these tweaks, we still couldn't get the kind of performance we needed for scenarios like large lists (e.g. a scrolling list view that could have several thousand list items, each made of multiple DOM elements to get the desired visual style). Here, we had to change the code to <em>virtualize</em> the list and only render the sub-set of DOM elements that were actually visible in the list [2].</p>\n\n<p>The main comment I wanted to add to this topic is to say that the framework you choose won't solve all the performance issues you are likely to come across in your application. So, as pointed out by other responses, knowing your how your chosen framework implements it's magic and choosing a framework that allows you to see into what it's doing (via performance instrumentation) will pay off in the end. And the framework is not a substitute for understanding core characteristics of modern browser implementations. The high performance javascript book that was written many years ago is still a great resource. And learn to use the many profiling tools available so you quickly narrow in on where the bottlenecks are in your application.</p>\n\n<p>best,</p>\n\n<p>--</p>\n\n<p>References:</p>\n\n<p>[1]. <a href=\"http://shop.oreilly.com/product/9780596802806.do\" rel=\"nofollow\">http://shop.oreilly.com/product/9780596802806.do</a> Read chapter 3 on DOM scripting</p>\n\n<p>[2]. <a href=\"https://github.com/shyam-habarakada/js-virtual-list-view\" rel=\"nofollow\">https://github.com/shyam-habarakada/js-virtual-list-view</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can make backbone faster easier if you strip it down to the minimum. I removed the dependency underscore or lodash from backbone making it way lighter and modified there events to use bean and pretty much enderjs libs minus morpheus I swapped it out for tween light.I will tell you this its wayyyyy faster than angular. Pages load in milliseconds vs seconds. The thing with angular is MVVM design pattern is slow because you have a ton of direct DOM interaction. Javascript is fast with out the dom. So use the DOM as little as possible and thats impossible with MVVM. Its best to have your logic separated out with very small fast and light weight DOM references, the use of pointers when you can is always a better option. I have used and reviewed each framework line bye line. Stock you will get about the same performance modified is a different story. Backbone stock is bloated and most of the template engines are slow. So use dotjs for templates, use ender and not jquery, use bean for custom events. Angular has a extremely slow template engine thats baked in and it heavy DOM usage makes it even slower... Not to mention all the declarative bindings mixed into the markup is hard to maintain and read. I have done jsperfs on just about every framework and library known to JS I build frameworks for a living. Yes there are allot of variables involved but if done right I would choose backbone any day of the week. MVVM will die out... MVP is where its at when it comes to front end frameworks.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Backbone wins\n<a href=\"http://jsperf.com/angular-vs-ember-vs-backbone-vs-canjs-vs-knockout/24\" rel=\"nofollow\">http://jsperf.com/angular-vs-ember-vs-backbone-vs-canjs-vs-knockout/24</a></p>\n\n<p>Angular wins\n<a href=\"http://jsperf.com/angular-vs-ember-vs-backbone-vs-canjs-vs-knockout/23\" rel=\"nofollow\">http://jsperf.com/angular-vs-ember-vs-backbone-vs-canjs-vs-knockout/23</a></p>\n\n<p>As you can see those code the performance is very tricky thing and totally depends of a developer. But BB has a good potential for performance improvement </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Not benchmarked Backbone and Angular. Still sharing my real experience I had with both on same app - a medium sized application, with SPA. First we used <strong>Backbone</strong>, and completed whole lot of features. More productive and clear code than direct writing in <strong>JS/jQuery</strong>. \nAfter an year, we <strong>moved to angularjs</strong>. Rewrote everything in angular, now we have around 140 directives, controllers and services mixed. Code quality and productivity much better. But its not as fast as same app in backbone. Now just watching for object.Observe to be released in chrome for perf boost. Angularjs team must be watching performance corner.</p>\n\n<p>Before you choose a framework, you should really read well about where it fits. If your json response is  heavy with too many attrs, and too many such objects will be alive at any time, angular will be slow. There Backbone wins, but again, you need to manage a lot of things, code-quality and patterns yourself with Backbone.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am a web developer and I'm starting to develop a web application on a large scale, but I'm not sure what framework to use. I was thinking of Angular.js, but I also considered Backbone.js. For you, what would be the best framework? or at least have a comparison between the two\nto see the performance.</p>\n",
            "last_activity_date": 1418844667,
            "question_id": 11458436,
            "score": 98,
            "tags": [
                "javascript",
                "frameworks",
                "backbone.js",
                "ember.js",
                "angularjs"
            ],
            "title": "Angular.js Backbone.js or which has better performance"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>Try something like the following (see live jsfiddle example here: <a href=\"http://jsfiddle.net/periklis/hEThw/1/\" rel=\"nofollow\">http://jsfiddle.net/periklis/hEThw/1/</a>)</p>\n\n<pre><code>&lt;a class=\"btn\" onclick = \"$('#myModal').modal('show');$('#myModal').css('width', '100px').css('margin-left','auto').css('margin-right','auto');\" ref=\"#myModal\" &gt;Launch Modal&lt;/a&gt;\n&lt;div class=\"modal\" id=\"myModal\" style = \"display:none\"&gt;\n  &lt;div class=\"modal-header\"&gt;\n    &lt;a class=\"close\" data-dismiss=\"modal\"&gt;\u00d7&lt;/a&gt;\n    &lt;h3&gt;Modal header&lt;/h3&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-body\"&gt;\n    &lt;p&gt;One fine body\u2026&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n    &lt;a href=\"#\" class=\"btn\"&gt;Close&lt;/a&gt;\n    &lt;a href=\"#\" class=\"btn btn-primary\"&gt;Save changes&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Is there a certain reason your trying to change it with JS/jQuery? </p>\n\n<p>You can easily do it with just CSS, which means you don't have to do your styling in the document.\nIn your own custom CSS file you add:</p>\n\n<pre><code>body .modal {\n    /* new custom width */\n    width: 560px;\n    /* must be half of the width, minus scrollbar on the left (30px) */\n    margin-left: -280px;\n}\n</code></pre>\n\n<p>So in your case:</p>\n\n<pre><code>body .modal-admin {\n    /* new custom width */\n    width: 750px;\n    /* must be half of the width, minus scrollbar on the left (30px) */\n    margin-left: -375px;\n}\n</code></pre>\n\n<p>The reason i put body before the selector is so that it takes a higher priority than the default. This way you can add it to an custom CSS file, and without worries update Bootstrap. </p>\n",
                    "is_accepted": true,
                    "score": 243
                },
                {
                    "body": "<p>If you want something that does not break the relative design try this:</p>\n\n<pre><code>body .modal {\n  width: 90%; /* desired relative width */\n  left: 5%; /* (100%-width)/2 */\n  /* place center */\n  margin-left:auto;\n  margin-right:auto; \n}\n</code></pre>\n\n<p>As, @Marco Johannesen says, the \"body\" before the selector is so that it takes a higher priority than the default.</p>\n",
                    "is_accepted": false,
                    "score": 66
                },
                {
                    "body": "<p>Solution was taken from <a href=\"https://github.com/twitter/bootstrap/issues/675#issuecomment-3664958\">this</a> page</p>\n\n<pre><code>$('#feedback-modal').modal({\n    backdrop: true,\n    keyboard: true\n}).css({\n    width: 'auto',\n    'margin-left': function () {\n        return -($(this).width() / 2);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>I've found this solution that works better for me. You can use this:</p>\n\n<pre><code>$('.modal').css({\n  'width': function () { \n    return ($(document).width() * .9) + 'px';  \n  },\n  'margin-left': function () { \n    return -($(this).width() / 2); \n  }\n});\n</code></pre>\n\n<p>or this depending your requirements:</p>\n\n<pre><code>$('.modal').css({\n  width: 'auto',\n  'margin-left': function () {\n     return -($(this).width() / 2);\n  }\n});\n</code></pre>\n\n<p>See the post where I found that:\n<a href=\"https://github.com/twitter/bootstrap/issues/675\" rel=\"nofollow\">https://github.com/twitter/bootstrap/issues/675</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you want to make it responsive with just CSS, use this:</p>\n\n<pre><code>.modal.large {\n    width: 80%; /* respsonsive width */\n    margin-left:-40%; /* width/2) */ \n}\n</code></pre>\n\n<p><em>Note 1: I used a <code>.large</code> class, you could also do this on the normal <code>.modal</code></em></p>\n\n<p><em>Note 2: In Bootstrap 3 the negative margin-left may not be needed anymore</em> <strong>(not confirmed personally)</strong></p>\n\n<pre><code>/*Bootstrap 3*/\n.modal.large {\n     width: 80%;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 170
                },
                {
                    "body": "<p>If you're using Bootstrap 3, you need to change the modal-dialog div and not the modal div like it is shown in the accepted answer. Also, to keep the responsive nature of Bootstrap 3, it's important to write the override CSS using a media query so the modal will be full width on smaller devices.</p>\n\n<p>See <a href=\"http://jsfiddle.net/devincollier/tgkzK/2/\">this JSFiddle</a> to experiment with different widths.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"modal fade\"&gt;\n    &lt;div class=\"modal-dialog custom-class\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;&amp;times;&lt;/button&gt;\n                &lt;h3 class=\"modal-header-text\"&gt;Text&lt;/h3&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n                This is some text.\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                This is some text.\n            &lt;/div&gt;\n        &lt;/div&gt;&lt;!-- /.modal-content --&gt;\n    &lt;/div&gt;&lt;!-- /.modal-dialog --&gt;\n&lt;/div&gt;&lt;!-- /.modal --&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>@media screen and (min-width: 768px) {\n    .custom-class {\n        width: 70%; /* either % (e.g. 60%) or px (400px) */\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>I used this way, and it's work perfect for me</p>\n\n<pre><code>$(\"#my-modal\")\n.modal(\"toggle\")\n.css({'width': '80%', 'margin-left':'auto', 'margin-right':'auto', 'left':'10%'});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For <code>Bootstrap 3</code> here's how to do it.</p>\n\n<p>Add a <code>modal-wide</code> style to your HTML markup (as adapted from <a href=\"http://getbootstrap.com/javascript/#modals\">the example in the Bootstrap 3 docs</a>)</p>\n\n<pre><code>&lt;div class=\"modal fade modal-wide\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;&amp;times;&lt;/button&gt;\n        &lt;h4 id=\"myModalLabel\" class=\"modal-title\"&gt;Modal title&lt;/h4&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;p&gt;One fine body&amp;hellip;&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary\"&gt;Save changes&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;&lt;!-- /.modal-content --&gt;\n  &lt;/div&gt;&lt;!-- /.modal-dialog --&gt;\n&lt;/div&gt;&lt;!-- /.modal --&gt;\n</code></pre>\n\n<p>and add the following CSS</p>\n\n<pre><code>.modal-wide .modal-dialog {\n  width: 80%; /* or whatever you wish */\n}\n</code></pre>\n\n<p>There is no need to override <code>margin-left</code> in <code>Bootstrap 3</code> to get this to be centered now.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>FYI Bootstrap 3 handles the left property automatically. So simply adding this CSS will change the width and keep it centered:</p>\n\n<pre><code>.modal .modal-dialog { width: 800px; }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Bootstrap 3: In order to maintain responsive features for small and extra small devices I did the following: </p>\n\n<pre><code>@media (min-width: 768px) {\n.modal-dialog-wide\n{ width: 750px;/* your width */ }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I used a combination of CSS and jQuery, along with hints on this page, to create a fluid width and height using Bootstrap 3. </p>\n\n<p>First, some CSS to handle the width and optional scrollbar for the content area</p>\n\n<pre><code>.modal.modal-wide .modal-dialog {\n  width: 90%;\n}\n.modal-wide .modal-body {\n  overflow-y: auto;\n}\n</code></pre>\n\n<p>And then some jQuery to adjust the height of the content area if needed</p>\n\n<pre><code>$(\".modal-wide\").on(\"show.bs.modal\", function() {\n  var height = $(window).height() - 200;\n  $(this).find(\".modal-body\").css(\"max-height\", height);\n});\n</code></pre>\n\n<p>Full write-up and code at\n<a href=\"http://scottpdawson.com/development/creating-a-variable-width-modal-dialog-using-bootstrap-3/\" rel=\"nofollow\">http://scottpdawson.com/development/creating-a-variable-width-modal-dialog-using-bootstrap-3/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>With Bootstrap 3, all that is required is a percentage value given to the modal-dialog via CSS </p>\n\n<h1>CSS</h1>\n\n<pre><code>#alertModal .modal-dialog{\n     width: 20%;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Less-based solution (no js) for Bootstrap 2:</p>\n\n<pre><code>.modal-width(@modalWidth) {\n    width: @modalWidth;\n    margin-left: -@modalWidth/2;\n\n    @media (max-width: @modalWidth) {\n        position: fixed;\n        top:   20px;\n        left:  20px;\n        right: 20px;\n        width: auto;\n        margin: 0;\n        &amp;.fade  { top: -100px; }\n        &amp;.fade.in { top: 20px; }\n    }\n}\n</code></pre>\n\n<p>Then wherever you want to specify a modal width:</p>\n\n<pre><code>#myModal {\n    .modal-width(700px);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Rather than using percentages to make the modal responsive, I find there can be more control taken from using the columns and other responsive elements already built into bootstrap.</p>\n\n<hr>\n\n<p><strong>To make the modal responsive/the size of any amount of columns:</strong> \n<br><br>\n1) Add an extra div around the modal-dialog div with a class of .container -</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"modal-dialog\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><br>\n2) Add a little CSS to make the modal full width -</p>\n\n<pre><code>.modal-dialog {\n    width: 100% }\n</code></pre>\n\n<p><br>\n3) Alternatively add in an extra class if you have other modals -</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"modal-dialog modal-responsive\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n.modal-responsive.modal-dialog {\n    width: 100% }\n</code></pre>\n\n<p><br>\n4) Add in a row/columns if you want various sized modals -</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4\"&gt;\n      &lt;div class=\"modal-dialog modal-responsive\"&gt;\n       ...\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Preserve the responsive design, set the width to what you desire.</p>\n\n<pre><code>.modal-content {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 360px;\n}\n</code></pre>\n\n<p>Keep it simple.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In Bootstrap 3+ the most appropriate way to change the size of a modal dialog is to use the size property. Below is an example, notice the <code>modal-sm</code> along the <code>modal-dialog</code> class, indicating a small modal. It can contain the values <code>sm</code> for small and <code>lg</code> for large.</p>\n\n<pre><code>&lt;div class=\"modal fade\" id=\"ww_vergeten\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal_title\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog modal-sm\"&gt; &lt;!-- property to determine size --&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;&amp;times;&lt;/button&gt;\n        &lt;h4 class=\"modal-title\" id=\"modal_title\"&gt;Some modal&lt;/h4&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n\n        &lt;!-- modal content --&gt;\n\n      &lt;/div&gt;\n      &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary\" id=\"some_button\" data-loading-text=\"Loading...\"&gt;Send&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This is what I did, in my custom.css I added these lines and that was all. </p>\n\n<pre><code>.modal-lg {\n    width: 600px!important;\n    margin: 0 auto;\n}\n</code></pre>\n\n<p>Obviously, you can change the size of the width. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I used SCSS, and the fully responsive modal:</p>\n\n<pre><code>.modal-dialog.large {\n    @media (min-width: $screen-sm-min) { width:500px; }\n    @media (min-width: $screen-md-min) { width:700px; }\n    @media (min-width: $screen-lg-min) { width:850px; }\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Add the following on your css file</p>\n\n<p>.popover{width:auto !important; max-width:445px !important; min-width:200px !important;}</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I tried the following:</p>\n\n<pre><code>   &lt;div class=\"modal hide fade modal-admin\" id=\"testModal\" style=\"display: none;\"&gt;\n        &lt;div class=\"modal-header\"&gt;\n          &lt;a data-dismiss=\"modal\" class=\"close\"&gt;\u00d7&lt;/a&gt;\n          &lt;h3 id='dialog-heading'&gt;&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-body\"&gt;\n            &lt;div id=\"dialog-data\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal-footer\"&gt;\n          &lt;a data-dismiss=\"modal\" class=\"btn\" &gt;Close&lt;/a&gt;\n          &lt;a class=\"btn btn-primary\" id=\"btnSaveChanges\"&gt;Save changes&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>And this Javascript:</p>\n\n<pre><code>    $('.modal-admin').css('width', '750px');\n    $('.modal-admin').css('margin', '100px auto 100px auto');\n    $('.modal-admin').modal('show')\n</code></pre>\n\n<p>The result is not what I expected. The modal top left is positioned in the center of the screen. </p>\n\n<p>Can anyone help me. Has anyone else tried this. I assume it's not an unusual thing to want to do.</p>\n",
            "last_activity_date": 1420334721,
            "question_id": 10169432,
            "score": 195,
            "tags": [
                "javascript",
                "jquery",
                "twitter-bootstrap"
            ],
            "title": "How can I change the default width of a Twitter Bootstrap modal box?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>To answer your first question, the not operator (<code>!</code>) will coerce whatever it is given into a boolean value. So <code>null</code>, <code>0</code>, <code>false</code>, <code>NaN</code> and <code>\"\"</code> (empty string) will all appear false.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The best way to check for a null values is </p>\n\n<pre><code>if ( testVar !== null )\n{\n    // do action here\n}\n</code></pre>\n\n<p>and for undefined</p>\n\n<pre><code>if ( testVar !== undefined )\n{\n    // do action here\n}\n</code></pre>\n\n<p>You can assign a avariable with undefined.</p>\n\n<pre><code>testVar = undefined;\n//typeof(testVar) will be equal to undefined.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You cannot (should not?) define anything as undefined, as the variable would no longer be undefined &ndash; you just <em>defined</em> it to something.</p>\n\n<p>You cannot (should not?) pass <code>undefined</code> to a function. If you want to pass an empty value, use <code>null</code> instead.</p>\n\n<p>The statement <code>if(!testvar)</code> checks for boolean true/false values, this particular one tests whether <code>testvar</code> evaluates to <code>false</code>. By definition, <code>null</code> and <code>undefined</code> shouldn't be evaluated neither as <code>true</code> or <code>false</code>, but JavaScript evaluates <code>null</code> as <code>false</code>, and gives an error if you try to evaluate an undefined variable.</p>\n\n<p>To properly test for <code>undefined</code> or <code>null</code>, use these:</p>\n\n<pre><code>if(typeof(testvar) === \"undefined\") { ... }\n\nif(testvar === null) { ... }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The for <code>if (something)</code> and <code>if (!something)</code> is commonly used to check if something is defined or not defined. For example:</p>\n\n<pre><code>if (document.getElementById)\n</code></pre>\n\n<p>The identifier is converted to a boolean value, so <code>undefined</code> is interpreted as <code>false</code>. There are of course other values (like 0 and '') that also are interpreted as <code>false</code>, but either the identifier should not reasonably have such a value or you are happy with treating such a value the same as undefined.</p>\n\n<p>Javascript has a <code>delete</code> operator that can be used to delete a member of an object. Depending on the scope of a variable (i.e. if it's global or not) you can delete it to make it undefined.</p>\n\n<p>There is no <code>undefined</code> keyword that you can use as an undefined literal. You can omit parameters in a function call to make them undefined, but that can only be used by sending less paramters to the function, you can't omit a parameter in the middle.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>I'm a bit confused about Javascript undefined &amp; null.</p>\n</blockquote>\n\n<p>Don't be confused about <code>null</code>. It generally makes sense and behaves similarly to other scripting languages' concepts of the out-of-band \u2018null\u2019, \u2018nil\u2019 or \u2018None\u2019 objects.</p>\n\n<p><code>undefined</code>, on the other hand, is a weird JavaScript quirk. It's a singleton object that represents out-of-band values, essentially a second similar-but-different <code>null</code>. It comes up:</p>\n\n<ol>\n<li><p>When you call a function with fewer arguments than the arguments list in the <code>function</code> statement lists, the unpassed arguments are set to <code>undefined</code>. You can test for that with eg.:</p>\n\n<pre><code>function dosomething(arg1, arg2) {\n    if (arg2===undefined)\n    arg2= DEFAULT_VALUE_FOR_ARG2;\n    ...\n}\n</code></pre>\n\n<p>With this method you can't tell the difference between <code>dosomething(1)</code> and <code>dosomething(1, undefined)</code>; <code>arg2</code> will be the same value in both. If you need to tell the difference you can look at <code>arguments.length</code>, but doing optional arguments like that isn't generally very readable.</p></li>\n<li><p>When a function has no <code>return value;</code>, it returns <code>undefined</code>. There's generally no need to use such a return result. </p></li>\n<li><p>When you declare a variable by having a <code>var a</code> statement in a block, but haven't yet assigned a value to it, it is <code>undefined</code>. Again, you shouldn't really ever need to rely on that.</p></li>\n<li><p>The spooky <code>typeof</code> operator returns <code>'undefined'</code> when its operand is a simple variable that does not exist, instead of throwing an error as would normally happen if you tried to refer to it. (You can also give it a simple variable wrapped in parentheses, but <em>not</em> a full expression involving a non-existant variable.) Not much use for that, either.</p></li>\n<li><p>This is the controversial one. When you access a property of an object which doesn't exist, you don't immediately get an error like in every other language. Instead you get an <code>undefined</code> object. (And then when you try to use that <code>undefined</code> object later on in the script it'll go wrong in a weird way that's much more difficult to track down than if JavaScript had just thrown an error straight away.)</p>\n\n<p>This is often used to check for the existance of properties:</p>\n\n<pre><code>if (o.prop!==undefined) // or often as truthiness test, if (o.prop)\n   ...do something...\n</code></pre>\n\n<p>However, because you can assign <code>undefined</code> like any other value:</p>\n\n<pre><code>o.prop= undefined;\n</code></pre>\n\n<p>that doesn't actually detect whether the property is there reliably. Better to use the <code>in</code> operator, which wasn't in the original Netscape version of JavaScript, but is available everywhere now:</p>\n\n<pre><code>if ('prop' in o)\n    ...\n</code></pre></li>\n</ol>\n\n<p>In summary, <code>undefined</code> is a JavaScript-specific mess, which confuses everyone. Apart from optional function arguments, where JS has no other more elegant mechanism, <code>undefined</code> should be avoided. It should never have been part of the language; <code>null</code> would have worked just fine for (2) and (3), and (4) is a misfeature that only exists because in the beginning JavaScript had no exceptions.</p>\n\n<blockquote>\n  <p>what does <code>if (!testvar)</code> actually do? Does it test for undefined and null or just undefined?</p>\n</blockquote>\n\n<p>Such a \u2018truthiness\u2019 test checks against <code>undefined</code>, <code>null</code>, <code>0</code>, <code>NaN</code> and empty strings. But in this case, yes, it is really <code>undefined</code> it is concerned with. IMO, it should be more explicit about that and say <code>if (testvar!==undefined)</code>.</p>\n\n<blockquote>\n  <p>once a variable is defined can I clear it back to undefined (therefore deleting the variable).</p>\n</blockquote>\n\n<p>You can certainly assign <code>undefined</code> to it, but that won't delete the variable. Only the <code>delete object.property</code> operator really removes things.</p>\n\n<p><code>delete</code> is really meant for properties rather than variables as such. Browsers will let you get away with straight <code>delete variable</code>, but it's not a good idea and won't work in ECMAScript Fifth Edition's strict mode. If you want to free up a reference to something so it can be garbage-collected, it would be more usual to say <code>variable= null</code>.</p>\n\n<blockquote>\n  <p>can I pass undefined as a parameter?</p>\n</blockquote>\n\n<p>Yes.</p>\n",
                    "is_accepted": true,
                    "score": 242
                },
                {
                    "body": "<h2>JavaScript, how to set a variable to undefined on commandline:</h2>\n\n<p>Set a variable to undefined in the <code>js</code> javascript command line terminal that comes with Java on Ubuntu 12.10.</p>\n\n<pre><code>el@defiant ~ $ js\n\njs&gt; typeof boo\n\"undefined\"\n\njs&gt; boo\ntypein:2: ReferenceError: boo is not defined\n\njs&gt; boo=5\n5\n\njs&gt; typeof boo\n\"number\"\n\njs&gt; delete(boo)\ntrue\n\njs&gt; typeof boo\n\"undefined\"\n\njs&gt; boo\ntypein:7: ReferenceError: boo is not defined\n</code></pre>\n\n<h2>If you set a variable to undefined in a javascript:</h2>\n\n<p>Put this in myjs.html:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n    &lt;script type=\"text/JavaScript\"&gt;\n        document.write(\"aliens: \" + aliens);\n        document.write(\"typeof aliens: \" + (typeof aliens));\n        var aliens = \"scramble the nimitz\";\n        document.write(\"found some aliens: \" + (typeof aliens));\n        document.write(\"not sayings its aliens but... \" + aliens);\n        aliens = undefined;\n        document.write(\"aliens deleted\");\n        document.write(\"typeof aliens: \" + (typeof aliens));\n        document.write(\"you sure they are gone? \" + aliens);\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It prints this:</p>\n\n<pre><code>aliens: undefined\ntypeof aliens: undefined\nfound some aliens: string\nnot sayings its aliens but... scramble the nimitz\naliens deleted\ntypeof aliens: undefined\nyou sure they are gone? undefined\n</code></pre>\n\n<p>WARNING!  When setting your variable to undefined you are setting your variable to another variable.  If some sneaky person runs <code>undefined = 'rm -rf /';</code> then whenever you set your variable to undefined, you will receive that value.</p>\n\n<p>You may be wondering how I can output the undefined value aliens at the start and have it still run.  It's because of javascript hoisting: <a href=\"http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html\" rel=\"nofollow\">http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>YES, you can,</strong> because undefined is <a href=\"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-undefined\" rel=\"nofollow\">defined</a> as undefined.</p>\n\n<pre><code>console.log(\n   /*global.*/undefined === window['undefined'] &amp;&amp;\n   /*global.*/undefined === (function(){})() &amp;&amp;\n   window['undefined']  === (function(){})()\n) //true\n</code></pre>\n\n<p>your case:</p>\n\n<pre><code>test(\"value1\", undefined, \"value2\")\n</code></pre>\n\n<p>you can also <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\">create</a> your own undefined variable:</p>\n\n<pre><code>Object.defineProperty(this, 'u', {value : undefined});\nconsole.log(u); //undefined\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just for fun, here's a fairly safe way to assign \"unassigned\" to a variable. For this to have a collision would require someone to have added to the prototype for Object with exactly the same name as the randomly generated string. I'm sure the random string generator could be improved, but I just took one from this question: <a href=\"http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\">Generate a string of 5 random characters in Javascript</a></p>\n\n<p>This works by creating a new object and trying to access a property on it with a randomly generated name, which we are assuming wont exist and will hence have the value of undefined.</p>\n\n<pre><code>function GenerateRandomString() {\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (var i = 0; i &lt; 50; i++)\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n}\n\nvar myVar = {}[GenerateRandomString()];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The basic difference is that <code>undefined</code> and <code>null</code> represent different concepts.</p>\n\n<p>If only <code>null</code> was available, you would not be able to determine whether <code>null</code> was set intentionally as the value or whether the value has not been set yet unless you used cumbersome error catching: eg</p>\n\n<pre><code>var a;\n\na == null; // This is true\na == undefined; // This is true;\na === undefined; // This is true;\n</code></pre>\n\n<p>However, if you intentionally set the value to <code>null</code>, strict equality with <code>undefined</code> fails, thereby allowing you to differentiate between <code>null</code> and <code>undefined</code> values:</p>\n\n<pre><code>var b = null;\nb == null; // This is true\nb == undefined; // This is true;\nb === undefined; // This is false;\n</code></pre>\n\n<p>Check out the reference here instead of relying on people dismissively saying junk like \"In summary, undefined is a JavaScript-specific mess, which confuses everyone\". Just because you are confused, it does not mean that it is a mess.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined</a></p>\n\n<p>This behaviour is also not specific to JavaScript and it completes the generalised concept that a boolean result can be <code>true</code>, <code>false</code>, unknown (<code>null</code>), no value (<code>undefined</code>), or something went wrong (<code>error</code>).</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Undefined_value\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Undefined_value</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm a bit confused about JavaScript's: <code>undefined</code> and <code>null</code> values.</p>\n\n<p>What does <code>if (!testvar)</code> actually do? Does it test for undefined and null or just undefined?</p>\n\n<p>Once a variable is defined can I clear it back to undefined (therefore deleting the variable)?</p>\n\n<p>Can I pass undefined as a parameter? e.g:</p>\n\n<pre><code>function test(var1, var2, var3) {\n}\n\ntest(\"value1\", undefined, \"value2\")\n</code></pre>\n",
            "last_activity_date": 1412480223,
            "question_id": 2235622,
            "score": 124,
            "tags": [
                "javascript",
                "undefined"
            ],
            "title": "Setting a variable to undefined"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>I would go with <a href=\"http://welcome.totheinter.net/tutorials/model-view-controller-in-jquery/\" rel=\"nofollow\">jQuery MVC</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Check out <a href=\"http://bennadel.com/projects/cormvc-jquery-framework.htm\" rel=\"nofollow\">http://bennadel.com/projects/cormvc-jquery-framework.htm</a> Ben is pretty sharp and if you dig around on his blog he has some nice posts about how CorMVC is put together and why.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use javascript MVC framework <a href=\"http://javascriptmvc.com/\" rel=\"nofollow\">http://javascriptmvc.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The way I build apps:</p>\n\n<ul>\n<li>ExtJS framework, single page app, every component defined in a separate JS file, loaded on-demand</li>\n<li>Every component contacts its own dedicated web service (sometimes more than one), fetching data into ExtJS stores or special-purpose data structures</li>\n<li>The rendering uses standard ExtJS components, so I can bind stores to grids, load forms from records, ...</li>\n</ul>\n\n<p>Just choose a javascript framework, and follow its best practices. My favorites are ExtJS and GWT, but YMMV.</p>\n\n<p>Do NOT roll your own solution for this. The effort required to duplicate what modern javascript frameworks do is too big. It is always faster to adapt something existing than to build it all from scratch.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>MVC architecture of <a href=\"https://github.com/PureMVC/puremvc-js-multicore-framework/wiki\" rel=\"nofollow\">PureMVC/JS</a> is the most elegant IMO. I learned a lot from it. I also found <a href=\"http://www.youtube.com/watch?v=vXjVFPosQHw\" rel=\"nofollow\">Scalable JavaScript Application Architecture</a> by Nicholas Zakas helpful in researching client side architecture options.</p>\n\n<p>Two other tips </p>\n\n<ol>\n<li>I've found view, focus, and input management are areas that need special attention in single page web apps </li>\n<li>I also found it helpful to abstract away the JS library, leaving door open to change mind on what you use, or mix &amp; match should the need arise.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>The web application that I am currently working on uses JQuery and I would not recommend it for any large single page web application.  Most frameworks i.e. Dojo, yahoo, google and others use namespaces in their libraries but JQuery does not and this is a significant drawback.</p>\n\n<p>If your web site is intended to be small then JQuery would be ok but if you intended to build a large site then I would recommend looking at all the Javascript frameworks available and deciding which one most meets your needs.</p>\n\n<p>And I would recommend applying the MVC pattern to your javascript/html and probably most of your object model for the javascript could be done as the json that you actually return from the server through ajax and the javascirpt uses the json to render html.</p>\n\n<p>I would recommend reading the book Ajax in action as it covers most of the stuff you will need to know.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Alternative: take a look to <a href=\"http://www.itsnat.org\" rel=\"nofollow\">ItsNat</a></p>\n\n<p>Think in JavaScript but code the same in Java in server with the same DOM APIs, in server is way easier to manage your application without custom client/bridges because UI and data are together.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can try <a href=\"http://www.angularjs.org/\">angularJS</a> or <a href=\"https://github.com/ibjhb/spwa-backbone\">backboneJS</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Or have a look at <a href=\"https://github.com/flosse/scaleApp\" rel=\"nofollow\">https://github.com/flosse/scaleApp</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm using <a href=\"http://sammyjs.org/\" rel=\"nofollow\">Samm.js</a> in several one page applications with great success</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Nicholas Zakas's presentation as shared by Dean is a very good place to start with. I was also struggling to answer the same question for a while. After doing couple of large scale Javascript products, thought of sharing the learnings as a reference architecture incase someone needs it. Have a look at:</p>\n\n<p><a href=\"http://boilerplatejs.org/\">http://boilerplatejs.org/</a></p>\n\n<p>If addresses common Javascript development concerns such as:</p>\n\n<ul>\n<li>Solution structuring</li>\n<li>Creating complex module hierarchy </li>\n<li>Self contained UI components </li>\n<li>Event based inter module communication </li>\n<li>Routing, History, Bookmarking </li>\n<li>Unit Testing </li>\n<li>Localization </li>\n<li>Document Generation</li>\n</ul>\n\n<p>etc.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>The best thing to do is to look at example uses of other frameworks:</p>\n\n<p><a href=\"http://addyosmani.github.com/todomvc/\" rel=\"nofollow\"><strong>TodoMVC</strong></a> showcases many many SPA frameworks.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><a href=\"http://nikaframework.com\" rel=\"nofollow\" title=\"NikaFramework\"><strong>NikaFramework</strong></a> allows you to create single-page application. Also allows you to write <em>HTML</em>, <em>CSS</em> (<em>SASS</em>), <em>JavaScript</em> into separate files and bundle them into only one output file in the end.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>Question - What makes an application complex ? \n</code></pre>\n\n<p>Answer - The use of word 'complex' in the question itself. Hence, a common tendency will be to  look out for a complex solution right from the beginning.  </p>\n\n<pre><code>Question - What does the word complex means ?\n</code></pre>\n\n<p>Answer - Anything that is unknown or partially understood. Example : The theory of Gravity even today is COMPLEX to me but not to Sir Isaac Newton who discovered it in 1655.</p>\n\n<pre><code>Question - What tools can I use to deal with complexity ?\n</code></pre>\n\n<p>Answer - Understanding and simplicity.</p>\n\n<pre><code>Question - But I understand my application . Its still complex ?\n</code></pre>\n\n<p>Answer - Think twice, because understanding and complexity does not co-exist. If you understand a huge huge application, I am sure you will agree that it is nothing but an integration of small and simple units.</p>\n\n<pre><code>Question - Why all of the above philosophical discussion for a question on \n           Single Page Application (SAP)?\n</code></pre>\n\n<p>Answer - Because, </p>\n\n<p>-> SPA is not some kind of core technology that is newly invented for which we need to reinvent the wheel for a lot of things that we are doing in application development. </p>\n\n<p>-> Its a concept driven by the need for better performance, availability, scalability and maintainability  of web applications. </p>\n\n<p>-> Its a fairly newly identified design pattern, so an understanding of SPA as a design pattern goes long way in making informed decisions about the architecture of a SPA. </p>\n\n<p>-> At the root level no SPA is complex, because after understanding the needs of an application and the SPA pattern, you will realize that you are still creating an application, pretty much the same way you did before with some modifications and re-arrangements in the development approach.</p>\n\n<pre><code>Question - What about the use of Frameworks ?\n</code></pre>\n\n<p>Answer - Frameworks are boiler plate code / solution for some commonly identified and generic patterns, hence they can take off x% (variable, based on the application)  load from application development but then not a lot should be expected out of them specially for heavy and growing applications. Its always a good case to be in complete control of your application structure and flow but most importantly the code for it. There should be no grey or black areas in the application code.</p>\n\n<pre><code>Question - Can you suggest one of the many approaches to SPA architecture ?\n</code></pre>\n\n<p>Answer - Think of your own framework based on the nature of your application. Categorize application components. Look for an existing framework that is close to your derived framework, if you find it then use it, if you do not find it then I suggest going ahead with your own. Creating framework is quite an effort upfront but produces better results in long run. Some basic components in my SPA framework will be:</p>\n\n<ul>\n<li><p>Data Source : Models / Collections of Models</p></li>\n<li><p>Mark Up for presenting data : Templates</p></li>\n<li><p>Interaction with the application : Events</p></li>\n<li><p>State capturing and navigation : Routing</p></li>\n<li><p>Utilities , widgets and plug-ins : libraries</p></li>\n</ul>\n\n<p><strong>Let me know if this helped in any way and good luck with your SPA architecture !!</strong></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>How should a complex single-page JS web application be structured on the client-side? Specifically I'm curious about how to cleanly structure the application in terms of its model objects, UI components, any controllers, and objects handling server persistence.</p>\n\n<p>MVC seemed like a fit at first. But with UI components nested at various depths (each with their own way of acting on/reacting to model data, and each generating events which they themselves may or may not handle directly), it doesn't seem like MVC can be cleanly applied. (But please correct me if that's not the case.)</p>\n\n<p>--</p>\n\n<p>(<a href=\"http://stackoverflow.com/questions/2529722/suggestions-for-single-page-web-application-design\">This question</a> resulted in two suggestions of using ajax, which is obviously needed for anything other than the most trivial one-page app.)</p>\n",
            "last_activity_date": 1411804859,
            "question_id": 3050869,
            "score": 79,
            "tags": [
                "javascript",
                "design-patterns",
                "web-applications",
                "architecture",
                "singlepage"
            ],
            "title": "Architecture of a single-page JavaScript web application?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Simply change every dependency's version to <code>*</code>, then run <code>npm update --save</code>.</p>\n\n<pre><code>  \"dependencies\": {\n    \"express\": \"*\",\n    \"mongodb\": \"*\",\n    \"underscore\": \"*\",\n    \"rjs\": \"*\",\n    \"jade\": \"*\",\n    \"async\": \"*\"\n  }\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>  \"dependencies\": {\n    \"express\": \"~3.2.0\",\n    \"mongodb\": \"~1.2.14\",\n    \"underscore\": \"~1.4.4\",\n    \"rjs\": \"~2.10.0\",\n    \"jade\": \"~0.29.0\",\n    \"async\": \"~0.2.7\"\n  }\n</code></pre>\n\n<hr>\n\n<p>Of course, this is the blunt hammer of updating dependencies.  It's fine if&mdash;as you said&mdash;the project is empty and nothing can break.</p>\n\n<p>On the other hand, if you're working in a more mature project, you probably want to verify that there are no breaking changes in your dependencies before upgrading.</p>\n\n<p>To see which modules are outdated, just run <a href=\"https://docs.npmjs.com/cli/outdated\" rel=\"nofollow\"><code>npm outdated</code></a>.  It will list any installed dependencies that have newer versions available.</p>\n",
                    "is_accepted": true,
                    "score": 186
                },
                {
                    "body": "<p>This works as of npm 1.3.15.</p>\n\n<pre><code>\"dependencies\": {\n  \"foo\": \"latest\"\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>If you're working in Visual Studio -</p>\n\n<p>If you created the package.json file through Visual Studio, npm will not update your dependencies because of the file format.  </p>\n\n<p>problem:\nCreating a file in Visual Studio will use \"Encode in UTF-8\".  </p>\n\n<p>solution:\nCreate the file in Notepad++, or some other editing app, and choose \"Encode in ANSI\" for the Encoding.  In Notepad++ --> Select 'Encoding' from the menu --> Select 'Encode in ANSI'.  Once the file is created, go into VS and 'Add Existing File' to your project.  It should now work as desired.</p>\n\n<p>Here's where I found the info:<br>\n<a href=\"http://racingcow.wordpress.com/2012/10/\" rel=\"nofollow\">http://racingcow.wordpress.com/2012/10/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>npm-check-updates</code> is a utility that automatically adjusts a package.json with the \nlatest version of all dependencies</p>\n\n<p>see <a href=\"https://www.npmjs.org/package/npm-check-updates\">https://www.npmjs.org/package/npm-check-updates</a></p>\n\n<pre><code>$ npm install -g npm-check-updates\n$ npm-check-updates -u\n$ npm install \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 119
                },
                {
                    "body": "<p>Alternative is</p>\n\n<pre><code>\"dependencies\":{\n    \"foo\" : \"&gt;=1.4.5\"\n}\n</code></pre>\n\n<p>everytime you use npm update , it automatically update to the latest version.\nFor more version syntax, you may check here: <a href=\"https://www.npmjs.org/doc/misc/semver.html\" rel=\"nofollow\">https://www.npmjs.org/doc/misc/semver.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I recently had to update several projects that were using npm and package.json for their gruntfile.js magic. The following bash command (multiline command) worked well for me:</p>\n\n<pre><code>npm outdated --json --depth=0 | \\\njq --ascii-output --monochrome-output '. | keys | .[]' | \\\nxargs npm install $1 --save-dev\n</code></pre>\n\n<p>The idea here:\nTo pipe the <code>npm outdated</code> output as json, to <code>jq</code><br>\n(jq is a json command line parser/query tool)<br>\n(notice the use of <code>--depth</code> argument for <code>npm outdated</code>)<br>\njq will strip the output down to just the top level package name only.<br>\nfinally xargs puts each LIBRARYNAME one at a time into a <code>npm install LIBRARYNAME --save-dev</code> command</p>\n\n<p>The above is what worked for me on a machine runnning:\nnode=v0.11.10 osx=10.9.2 npm=1.3.24</p>\n\n<p>this required:<br>\nxargs <a href=\"http://en.wikipedia.org/wiki/Xargs\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Xargs</a> (native to my machine I believe)<br>\nand<br>\njq <a href=\"http://stedolan.github.io/jq/\" rel=\"nofollow\">http://stedolan.github.io/jq/</a> (I installed it with <code>brew install jq</code>)</p>\n\n<p>Note: I only save the updated libraries to package.json inside of the json key <code>devDependancies</code> by using <code>--save-dev</code>, that was a requirement of my projects, quite possible not yours.</p>\n\n<p>Afterward I check that everything is gravy with a simple</p>\n\n<pre><code>npm outdated --depth=0\n</code></pre>\n\n<p>Also, you can check the current toplevel installed library versions with</p>\n\n<pre><code>npm list --depth=0\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>To update <strong>one</strong> dependency to its lastest version without having to manually open the <code>package.json</code> and change it, you can run</p>\n\n<pre><code>npm install {package-name}@* {save flags?}\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>npm install express@* --save\n</code></pre>\n\n<p>For reference, <a href=\"https://www.npmjs.org/doc/cli/npm-install.html\">npm-install</a></p>\n\n<hr>\n\n<p>PS: I also hate having to manually edit <code>package.json</code> for things like that ;)</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The above commands are unsafe because you might break your module when switching versions.\nInstead I recommend the following</p>\n\n<ul>\n<li>Set actual current node modules version into package.json using <code>npm shrinkwrap</code> command.</li>\n<li>Update each dependency to the latest version IF IT DOES NOT BREAK YOUR TESTS using <a href=\"https://github.com/bahmutov/next-update\" rel=\"nofollow\">https://github.com/bahmutov/next-update</a> command line tool</li>\n</ul>\n\n<pre>\nnpm install -g next-update\n// from your package\nnext-update\n</pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<ol>\n<li>Use <code>*</code> as version definition for the latest version including unstable ones</li>\n<li>Use <code>latest</code> as version definition for the latest stable version</li>\n<li>Modify the package.json with exactly the latest stable version number using <a href=\"https://github.com/mrsunlin/LatestStablePackages\" rel=\"nofollow\"><code>LatestStablePackages</code></a></li>\n</ol>\n\n<p>Here is an example:</p>\n\n<pre><code>\"dependencies\": {\n        \"express\": \"latest\"  // using the latest STABLE version\n    ,   \"node-gyp\": \"latest\"    \n    ,   \"jade\": \"latest\"\n    ,   \"mongoose\": \"*\" // using the newest version, may involve the unstable one\n    ,   \"cookie-parser\": \"latest\"\n    ,   \"express-session\": \"latest\"\n    ,   \"body-parser\": \"latest\"\n    ,   \"nodemailer\":\"latest\"\n    ,   \"validator\": \"latest\"\n    ,   \"bcrypt\": \"latest\"\n    ,   \"formidable\": \"latest\"\n    ,   \"path\": \"latest\"\n    ,   \"fs-extra\": \"latest\"\n    ,   \"moment\": \"latest\"\n    ,   \"express-device\": \"latest\"\n},\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The only caveat I have found with the best answer above is that it updates the modules to the latest version. This means it could update to an unstable alpha build.</p>\n\n<p>I would use that npm-check-updates utility.\nMy group used this tool and it worked effectively by installing the stable updates.</p>\n\n<p>As Etienne stated above: install and run with this:</p>\n\n<pre><code>$ npm install -g npm-check-updates\n$ npm-check-updates -u\n$ npm install \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I copied package.json from another project and now want to bump all of the dependencies to their latest versions since this is a fresh project and I don't mind fixing something if it breaks.</p>\n\n<p>What's the easiest way to do this?</p>\n\n<p>The best way I know of now is to run <code>npm info express version</code> then update package.json manually for each one. There must be a better way.</p>\n\n<pre><code>{\n  \"name\": \"myproject\",\n  \"description\": \"my node project\",\n  \"version\": \"1.0.0\",\n  \"engines\": {\n    \"node\": \"0.8.4\",\n    \"npm\": \"1.1.65\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"express\": \"~3.0.3\", // how do I get these bumped to latest?\n    \"mongodb\": \"~1.2.5\",\n    \"underscore\": \"~1.4.2\",\n    \"rjs\": \"~2.9.0\",\n    \"jade\": \"~0.27.2\",\n    \"async\": \"~0.1.22\"\n  }\n}\n</code></pre>\n\n<p><del><strong>Edit #1</strong>: I've created an npm module <strong><a href=\"https://github.com/metaraine/updatehammer\">updatehammer</a></strong> that updates all dependencies to their latest versions and saves them to your package.json. Just <code>npm install -g updatehammer</code> and run <code>updatehammer</code> in your project folder. Enjoy!</del></p>\n\n<p><strong>Edit #2</strong>: I am now a collaborator on <a href=\"https://github.com/tjunnone/npm-check-updates\">npm-check-updates</a>, which has subsumed all of updatehammer's functionality. <a href=\"https://github.com/tjunnone/npm-check-updates\">npm-check-updates</a> is now the best way to update your packages to the latest versions!</p>\n",
            "last_activity_date": 1425585487,
            "question_id": 16073603,
            "score": 130,
            "tags": [
                "javascript",
                "node.js",
                "npm"
            ],
            "title": "How do I update each dependency in package.json to the latest version?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<blockquote>\n  <ul>\n  <li>How would binding work for objects?</li>\n  <li>How listening to change in the form might work?</li>\n  </ul>\n</blockquote>\n\n<h2>An abstraction that updates both objects</h2>\n\n<p>I suppose there are other techniques, but ultimately I'd have an object that holds reference to a related DOM element, and provides an interface that coordinates updates to its own data and its related element.</p>\n\n<p>The <code>.addEventListener()</code> provides a very nice interface for this. You can give it an object that implements the <code>eventListener</code> interface, and it'll invoke its handlers with that object as the <code>this</code> value.</p>\n\n<p>This gives you automatic access to both the element and its related data.</p>\n\n<h2>Defining your object</h2>\n\n<p>Prototypal inheritance is a nice way to implement this, though not required of course. First you'd create a constructor that receives your element and some initial data.</p>\n\n<pre><code>function MyCtor(element, data) {\n    this.data = data;\n    this.element = element;\n    element.value = data;\n    element.addEventListener(\"change\", this, false);\n}\n</code></pre>\n\n<p>So here the constructor stores the element and data on properties of the new object. It also binds a <code>change</code> event to the given <code>element</code>. The interesting thing is that it passes the new object instead of a function as the second argument. <em>But this alone won't work.</em> </p>\n\n<h2>Implementing the <code>eventListener</code> interface</h2>\n\n<p>To make this work, your object needs to implement the <code>eventListener</code> interface. All that's needed to accomplish this is to give the object a <code>handleEvent()</code> method. </p>\n\n<p>That's where the inheritance comes in.</p>\n\n<pre><code>MyCtor.prototype.handleEvent = function(event) {\n    switch (event.type) {\n        case \"change\": this.change(this.element.value);\n    }\n};\n\nMyCtor.prototype.change = function(value) {\n    this.data = value;\n    this.element.value = value;\n};\n</code></pre>\n\n<p>There are many different ways in which this could be structured, but for your example of coordinating updates, I decided to make the <code>change()</code> method only accept a value, and have the <code>handleEvent</code> pass that value instead of the event object. This way the <code>change()</code> can be invoked without an event as well.</p>\n\n<p>So now, when the <code>change</code> event happens, it'll update both the element and the <code>.data</code> property. And the same will happen when you call <code>.change()</code> in your JavaScript program.</p>\n\n<h2>Using the code</h2>\n\n<p>Now you'd just create the new object, and let it perform updates. Updates in JS code will appear on the input, and change events on the input will be visible to the JS code.</p>\n\n<pre><code>var obj = new MyCtor(document.getElementById(\"foo\"), \"initial\");\n\n// simulate some JS based changes.\nvar i = 0;\nsetInterval(function() {\n    obj.change(obj.element.value + ++i);\n}, 3000);\n</code></pre>\n\n<p><em><strong>DEMO:</em></strong> <a href=\"http://jsfiddle.net/RkTMD/\">http://jsfiddle.net/RkTMD/</a></p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>I'd like to add to my preposter. I suggest a slightly different approach that will allow you to simply assign a new value to your object without using a method. It must be noted though that this is not supported by especially older browsers and IE9 still requires use of a different interface.</p>\n\n<p>Most notably is that my approach does not make use of events.</p>\n\n<h2>Getters and Setters</h2>\n\n<p>My proposal makes use of the relatively young feature of <a href=\"http://en.wikipedia.org/wiki/Mutator_method\">getters and setters</a>, particularly setters only. Generally speaking, mutators allow us to \"customize\" the behavior of how certain properties are assigned a value and retrieved.</p>\n\n<p>One implementation I'll be using here is the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty</a> method. It works in FireFox, GoogleChrome and - I think - IE9. Haven't tested other browsers, but since this is theory only...</p>\n\n<p>Anyways, it accepts three parameters. The first parameter being the object that you wish to define a new property for, the second a string resembling the the name of the new property and the last a \"descriptor object\" providing information on the behavior of the new property.</p>\n\n<p>Two particularly interesting descriptors are <code>get</code> and <code>set</code>. An example would look something like the following. Note that using these two prohibits the use of the other 4 descriptors.</p>\n\n<pre><code>function MyCtor( bindTo ) {\n    // I'll omit parameter validation here.\n\n    Object.defineProperty(this, 'value', {\n        get : function ( ) {\n            return bindTo.value;\n        },\n        set : function ( val ) {\n            bindTo.value = val;\n        }\n    });\n}\n</code></pre>\n\n<p>Now making use of this becomes slightly different:</p>\n\n<pre><code>var obj = new MyCtor(document.getElementById('foo')),\n    i = 0;\nsetInterval(function() {\n    obj.value += ++i;\n}, 3000);\n</code></pre>\n\n<p><strong>I want to emphasize that this only works for modern browsers.</strong></p>\n\n<p>Working fiddle: <a href=\"http://jsfiddle.net/Derija93/RkTMD/1/\">http://jsfiddle.net/Derija93/RkTMD/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>So, I decided to throw my own solution in the pot. Here is a <a href=\"http://jsfiddle.net/w4CHQ/\"><strong>working fiddle</strong></a>. Note this only runs on very modern browsers.</p>\n\n<h3>What it uses</h3>\n\n<p>This implementation is very modern - it requires a (very) modern browser and users two new technologies:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/docs/Web/API/MutationObserver\"><code>MutationObserver</code>s</a> to detect changes in the dom (event listeners are used as well)</li>\n<li><a href=\"http://addyosmani.com/blog/the-future-of-data-binding-is-object-observe/\"><code>Object.observe</code></a> to detect changes in the object and notifying the dom. </li>\n</ul>\n\n<h3>How it works</h3>\n\n<ul>\n<li>On the element, put a <code>domAttribute:objAttribute</code> mapping - for example <code>bind='textContent:name'</code></li>\n<li>Read that in the dataBind function. Observe changes to both the element and the object. </li>\n<li>When a change occurs - update the relevant element.</li>\n</ul>\n\n<h3>The solution</h3>\n\n<p>Here is the <code>dataBind</code> function, note it's just 20 lines of code and could be shorter:</p>\n\n<pre><code>function dataBind(domElement, obj) {    \n    var bind = domElement.getAttribute(\"bind\").split(\":\");\n    var domAttr = bind[0].trim(); // the attribute on the DOM element\n    var itemAttr = bind[1].trim(); // the attribute the object\n\n    // when the object changes - update the DOM\n    Object.observe(obj, function (change) {\n        domElement[domAttr] = obj[itemAttr]; \n    });\n    // when the dom changes - update the object\n    new MutationObserver(updateObj).observe(domElement, { \n        attributes: true,\n        childList: true,\n        characterData: true\n    });\n    domElement.addEventListener(\"keyup\", updateObj);\n    domElement.addEventListener(\"click\",updateObj);\n    function updateObj(){\n        obj[itemAttr] = domElement[domAttr];   \n    }\n    // start the cycle by taking the attribute from the object and updating it.\n    domElement[domAttr] = obj[itemAttr]; \n}\n</code></pre>\n\n<p>Here is some usage:</p>\n\n<p>HTML: </p>\n\n<pre><code>&lt;div id='projection' bind='textContent:name'&gt;&lt;/div&gt;\n&lt;input type='text' id='textView' bind='value:name' /&gt;\n</code></pre>\n\n<p>JavaScript: </p>\n\n<pre><code>var obj = {\n    name: \"Benjamin\"\n};\nvar el = document.getElementById(\"textView\");\ndataBind(el, obj);\nvar field = document.getElementById(\"projection\");\ndataBind(field,obj);\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/w4CHQ/\"><strong>working fiddle</strong></a>. Note that this solution is pretty generic. Object.observe and mutation observer shimming is available.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I think my answer will be more technical, but not different as the others present the same thing using different techniques.<br>\nSo, first things first, the solution to this problem is the use of a design pattern known as \"observer\", it let's you decouple your data from your presentation, making the change in one thing be broadcasted to their listeners, but in this case it's made two-way.</p>\n\n<h1>For the DOM to JS way</h1>\n\n<p>To bind the data from the DOM to the js object you may add markup in the form of <code>data</code> attributes (or classes if you need compatibility), like this:\n</p>\n\n<pre><code>&lt;input type=\"text\" data-object=\"a\" data-property=\"b\" id=\"b\" class=\"bind\" value=\"\"/&gt;\n&lt;input type=\"text\" data-object=\"a\" data-property=\"c\" id=\"c\" class=\"bind\" value=\"\"/&gt;\n&lt;input type=\"text\" data-object=\"d\" data-property=\"e\" id=\"e\" class=\"bind\" value=\"\"/&gt;\n</code></pre>\n\n<p>This way it can be accessed via js using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment.querySelectorAll\" rel=\"nofollow\"><code>querySelectorAll</code></a> (or the old friend <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.getElementsByClassName\" rel=\"nofollow\"><code>getElementsByClassName</code></a> for compatibility).</p>\n\n<p>Now you can bind the event listening to the changes in to ways: one listener per object or one big listener to the container/document. Binding to the document/container will trigger the event for every change made in it or it's child, it willhave a smaller memory footprint but will spawn event calls.<br>\nThe code will look something like this:\n</p>\n\n<pre><code>//Bind to each element\nvar elements = document.querySelectorAll('input[data-property]');\n\nfunction toJS(){\n    //Assuming `a` is in scope of the document\n    var obj = document[this.data.object];\n    obj[this.data.property] = this.value;\n}\n\nelements.forEach(function(el){\n    el.addEventListener('change', toJS, false);\n}\n\n//Bind to document\nfunction toJS2(){\n    if (this.data &amp;&amp; this.data.object) {\n        //Again, assuming `a` is in document's scope\n        var obj = document[this.data.object];\n        obj[this.data.property] = this.value;\n    }\n}\n\ndocument.addEventListener('change', toJS2, false);\n</code></pre>\n\n<h1>For the JS do DOM way</h1>\n\n<p>You will need two things: one meta-object that will hold the references of witch DOM element is binded to each js object/attribute and a way to listen to changes in objects. It is basically the same way: you have to have a way to listen to changes in the object and then bind it to the DOM node, as your object \"can't have\" metadata you will need another object that holds metadata in a way that the property name maps to the metadata object's properties.\nThe code will be something like this:\n</p>\n\n<pre><code>var a = {\n        b: 'foo',\n        c: 'bar'\n    },\n    d = {\n        e: 'baz'\n    },\n    metadata = {\n        b: 'b',\n        c: 'c',\n        e: 'e'\n    };\nfunction toDOM(changes){\n    //changes is an array of objects changed and what happened\n    //for now i'd recommend a polyfill as this syntax is still a proposal\n    changes.forEach(function(change){\n        var element = document.getElementById(metadata[change.name]);\n        element.value = change.object[change.name];\n    });\n}\n//Side note: you can also use currying to fix the second argument of the function (the toDOM method)\nObject.observe(a, toDOM);\nObject.observe(d, toDOM);\n</code></pre>\n\n<p>I hope that i was of help.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There is a very simple barebones implementation of 2-way data-binding <a href=\"http://www.lucaongaro.eu/blog/2012/12/02/easy-two-way-data-binding-in-javascript/\" rel=\"nofollow\">in this link</a></p>\n\n<p>The previous link along with ideas from knockoutjs, backbone.js and agility.js, led to <a href=\"https://github.com/foo123/modelview.js\" rel=\"nofollow\">this light-weight MVVM framework</a> based on jQuery and  of which i am the humble (or maybe not so humble) author</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I wrote a blog some time ago to try to replicate the same <a href=\"http://pranay-dubey.blogspot.in/2014/07/we-have-multiple-javascript-frameworks.html\" rel=\"nofollow\">http://pranay-dubey.blogspot.in/2014/07/we-have-multiple-javascript-frameworks.html</a></p>\n\n<p>I relied completely on <code>Object.defineProperty()</code> for that but there are also functions like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\" rel=\"nofollow\">Object.Observe()</a> which can help you achieve the same.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Please treat this question as strictly educational. <strong>I'm still interested in hearing new answers and ideas to implement this</strong></p>\n\n<h3>tl;dr</h3>\n\n<p>How would I implement bi-directional data-binding with JavaScript?</p>\n\n<h3>Data Binding to the DOM</h3>\n\n<p>By data binding to the DOM I mean  for example, having a JavaScript object <code>a</code> with a property <code>b</code>. Then having an <code>&lt;input&gt;</code> DOM element (for example), when the DOM element changes, <code>a</code> changes and vice versa (that is, I mean bidirectional data binding). </p>\n\n<p>Here is a diagram from AngularJS on what this looks like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/hu1ps.png\" alt=\"two way data binding\"></p>\n\n<p>So basically I have JavaScript similar to:</p>\n\n<pre><code>var a = {b:3};\n</code></pre>\n\n<p>Then an input (or other form) element like:</p>\n\n<pre><code>&lt;input type='text' value=''&gt;\n</code></pre>\n\n<p>I'd like the input's value to be <code>a.b</code>'s value (for example), and when the input text changes, I'd like <code>a.b</code> to change too. When <code>a.b</code> changes in JavaScript, the input changes.</p>\n\n<h3>The Question</h3>\n\n<p>What are some basic techniques to accomplish this in plain JavaScript?</p>\n\n<p>In specific, I'd like a good answer to refer to:</p>\n\n<ul>\n<li>How would binding work for objects?</li>\n<li>How listening to change in the form might work?</li>\n<li>Is it possible in a simple way to only have the HTML modified on the template level? I'd like to not keep track of the binding in the HTML document itself but only in JavaScript (with DOM events, and JavaScript keeping reference to the DOM elements used).</li>\n</ul>\n\n<h3>What have I tried?</h3>\n\n<p>I'm a big fan of Mustache so I tried using it for templating. However, I ran into issues when trying to perform the data binding itself since Mustache processes HTML as a string so after I get its result I have no reference to where the objects in my viewmodel are. The only workaround I could think for this was modifying the HTML string (or created DOM tree) itself with attributes. I don't mind using a different templating engine.</p>\n\n<p>Basically, I got a strong feeling that I was complicating the issue at hand and there is a simple solution.</p>\n\n<p><strong>Note:</strong> Please do not provide answers that use external libraries, especially ones that are thousands of lines of code. I've used (and like!) AngularJS and KnockoutJS. I really don't want answers in the form 'use framework x'. Optimally, I'd like a future reader who doesn't know how to use many frameworks to grasp how to implement bi-directional data-binding herself. I do not expect a <em>complete</em> answer, but one that gets the idea across.</p>\n",
            "last_activity_date": 1425798890,
            "question_id": 16483560,
            "score": 76,
            "tags": [
                "javascript",
                "html",
                "dom",
                "data-binding"
            ],
            "title": "How to Implement DOM Data Binding in JavaScript"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>While you can't do it directly in the repo, check out <a href=\"http://pages.github.com/\">http://pages.github.com/</a>.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>I had the same problem for my project <a href=\"https://github.com/LarryBattle/Ratio.js\">Ratio.js</a> and here's what I did.</p>\n\n<p><strong>Problem:</strong>\nGithub.com prevents files from rendering/executing when the source is viewed by setting the content type/MIME to plain text.</p>\n\n<p><strong>Solution:</strong>\nHave a web page import the files. </p>\n\n<p><strong>Example:</strong></p>\n\n<p>Use <a href=\"http://jsfiddle.net\">jsfiddle.net</a> or <a href=\"http://jsbin.com\">jsbin.com</a> to create a webpage online then save it. \nNavigate to your file in Github.com and click the 'raw' button to get the direct link to the file.\nFrom there, import the file using the appropriate tag and attribute.</p>\n\n<pre><code>&lt;!DOCTYPE&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/qunit/git/qunit.css\" type=\"text/css\" media=\"screen\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1 id=\"qunit-header\"&gt;QUnit example&lt;/h1&gt;\n        &lt;h2 id=\"qunit-banner\"&gt;&lt;/h2&gt;\n        &lt;div id=\"qunit-testrunner-toolbar\"&gt;&lt;/div&gt;\n        &lt;h2 id=\"qunit-userAgent\"&gt;&lt;/h2&gt;\n        &lt;ol id=\"qunit-tests\"&gt;&lt;/ol&gt;\n        &lt;div id=\"qunit-fixture\"&gt;test markup, will be hidden&lt;/div&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/qunit/git/qunit.js\"&gt;&lt;/script&gt;  \n        &lt;script type=\"text/javascript\" src=\"https://raw.github.com/LarryBattle/Ratio.js/master/src/Ratio.js\"&gt;&lt;/script&gt;  \n        &lt;script type=\"text/javascript\" src=\"https://raw.github.com/LarryBattle/Ratio.js/master/tests/js/Ratio-testcases.js\"&gt;&lt;/script&gt;  \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Live Demo: \n<a href=\"http://jsfiddle.net/jKu4q/2/\">http://jsfiddle.net/jKu4q/2/</a></p>\n\n<p><em>Note:</em> Note for jsfiddle.net you can get direct access to the result page by adding <code>show</code> to the end of the url.\nLike so: <a href=\"http://jsfiddle.net/jKu4q/2/show\">http://jsfiddle.net/jKu4q/2/show</a></p>\n\n<p>Or....you could create a project page and render your HTML files from there.\nYou can create a project page at <a href=\"http://pages.github.com/\">http://pages.github.com/</a>.</p>\n\n<p>Once created you can then access the link through <code>http://*accountName*.github.com/*projectName*/</code>\nExample: <a href=\"http://larrybattle.github.com/Ratio.js/\">http://larrybattle.github.com/Ratio.js/</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can either branch gh-pages to run your code or try this extension (Chrome, Firefox):\n<a href=\"https://github.com/ryt/githtml\">https://github.com/ryt/githtml</a></p>\n\n<p>If what you need are tests, you could embed your JS files into:\n<a href=\"http://jsperf.com/\">http://jsperf.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>There is a new tool called <a href=\"http://htmlpreview.github.com/\" rel=\"nofollow\">GitHub HTML Preview</a>, which does exactly what you want. Just prepend <code>http://htmlpreview.github.com/?</code> to the URL of any HTML file, e.g. <a href=\"http://htmlpreview.github.com/?https://github.com/twbs/bootstrap/blob/gh-pages/2.3.2/index.html\" rel=\"nofollow\">http://htmlpreview.github.com/?https://github.com/twbs/bootstrap/blob/gh-pages/2.3.2/index.html</a></p>\n\n<p>Note: This tool is actually a github.io page and is not affiliated with github as a company.</p>\n",
                    "is_accepted": false,
                    "score": 130
                },
                {
                    "body": "<p>To piggyback on @niutech's answer, you can make a very simple bookmark snippet.<br>\n<em>Using Chrome, though it works similarly with other browsers</em>  </p>\n\n<ol>\n<li>Right click your bookmark bar</li>\n<li>Click <strong>Add File</strong></li>\n<li>Name it something like <strong>Github HTML</strong></li>\n<li>For the <strong>URL</strong> type <code>javascript:top.location=\"http://htmlpreview.github.com/?\"+document.URL</code></li>\n<li>When you're on a github file view page (<em>not raw.github.com</em>) click the bookmark link and you're golden.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>An alternative to <code>http://htmlpreview.github.com</code> would be <code>http://rawgithub.com</code>. It provides a more convenient way to preview your files.</p>\n\n<h2>Update</h2>\n\n<p>The site has been renamed to <a href=\"http://rawgit.com\">http://rawgit.com</a>:</p>\n\n<h3>Before</h3>\n\n<pre><code>http://raw.githubusercontent.com/[user]/[repository]/[branch]/[filename.ext]\n</code></pre>\n\n<p>In your case <code>.html</code> extension</p>\n\n<h3>After</h3>\n\n<pre><code>http://rawgit.com/[user]/[repository]/[branch]/[filename.ext]\n</code></pre>\n\n<p>In your case <code>.html</code> extension</p>\n\n<p>Now it seems to be able to use <strong>CDN</strong> in production as well, which is pretty cool:</p>\n\n<pre><code>http://cdn.rawgit.com/[user]/[repository]/[branch]/[filename.ext]\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 140
                },
                {
                    "body": "<p>i wanted to edit html and js in github and have a preview. \ni wanted to do it in github to have instant commits and saves.</p>\n\n<p>tried rawgithub.com but rawgithub.com was not realtime (it's cache refreshes once a minute).</p>\n\n<p>so i quickly developed my own solution:</p>\n\n<p>node.js solution for this: <a href=\"https://github.com/shimondoodkin/rawgithub\" rel=\"nofollow\">https://github.com/shimondoodkin/rawgithub</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>raw.github.com/user/repository <strong>is no longer there</strong></p>\n\n<p>To link, href to source code in github, you have to use github link to raw source this way:</p>\n\n<p>raw.githubusercontent.com/user/repository/master/file.extension</p>\n\n<p><strong>EXAMPLE</strong></p>\n\n<pre><code>&lt;html&gt;\n...\n...\n&lt;head&gt;    \n&lt;script src=\"https://raw.githubusercontent.com/amiahmadtouseef/tutorialhtmlfive/master/petdecider/script.js\"&gt;&lt;/script&gt;\n...\n&lt;/head&gt;\n&lt;body&gt;\n...\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a little Greasemonkey script that will add a CDN button to html pages on github</p>\n\n<p>Target page will be of the form: <a href=\"https://cdn.rawgit.com/user/repo/master/filename.js\" rel=\"nofollow\">https://cdn.rawgit.com/user/repo/master/filename.js</a></p>\n\n<pre><code>\n// ==UserScript==\n// @name        cdn.rawgit.com\n// @namespace   github.com\n// @include     https://github.com/*/blob/*.html\n// @version     1\n// @grant       none\n// ==/UserScript==\n\nvar buttonGroup = $(\".meta .actions .button-group\");\nvar raw = buttonGroup.find(\"#raw-url\");\nvar cdn = raw.clone();\ncdn.attr(\"id\", \"cdn-url\");\ncdn.attr(\"href\", \"https://cdn.rawgit.com\" + cdn.attr(\"href\").replace(\"/raw/\",\"/\") );\ncdn.text(\"CDN\");\ncdn.insertBefore(raw);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>If I have a <code>.html</code> file in a GitHub repository, e.g. for running a a set of JavaScript tests, is there any way I can view that page directly\u2014thus running the tests?</p>\n\n<p>For example, could I somehow actually see the test results that would be produced by <a href=\"https://github.com/jquery/jquery/blob/master/test/index.html\">the jQuery test suite</a>, without downloading or cloning the repo to my local drive and running them there?</p>\n\n<p>I know this would basically put GitHub in the static content hosting business, but then again, they just have to change their mime-type from <a href=\"https://raw.github.com/jquery/jquery/master/test/index.html\"><code>text/plain</code></a> to <code>text/html</code>.</p>\n",
            "last_activity_date": 1420712223,
            "question_id": 6551446,
            "score": 142,
            "tags": [
                "javascript",
                "html",
                "github"
            ],
            "title": "Can I run HTML files directly from GitHub, instead of just viewing their source?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Because <code>(1,2) == 2</code>.  You've stumbled across the <a href=\"http://es5.github.com/#x11.14\">comma operator</a> (or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comma_Operator\">simpler explanation here</a>).</p>\n\n<p>Unless commas appear in a declaration list, parameter list, object or array literal, they act like any other binary operator.  <code>x, y</code> evaluates <code>x</code>, then evaluates <code>y</code> and yields that as the result.</p>\n",
                    "is_accepted": false,
                    "score": 75
                },
                {
                    "body": "<pre class=\"lang-js prettyprint-override\"><code>[1,2,3,4,5,6][1,2,3];\n      ^         ^\n      |         |\n    array       + \u2014 array subscript access operation,\n                    where index is `1,2,3`,\n                    which is an expression that evaluates to `3`.\n</code></pre>\n\n<p>The second <code>[...]</code> cannot be an array, so it\u2019s an array subscript operation. And the contents of a subscript operation are not a delimited list of operands, but a single expression.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Comma_operator\">Read more about the comma operator here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 269
                },
                {
                    "body": "<p>It's taking the last item of the second array as an index. Then:</p>\n\n<pre><code>[1,2,3,4,5,6][3] = 4\n[1,2,3,4,5,6][2] = 3\n</CODE></pre>\n",
                    "is_accepted": false,
                    "score": 47
                },
                {
                    "body": "<pre><code>[1,2,3,4,5,6][1,2,3];\n</code></pre>\n\n<p>Here the second box i.e. <code>[1,2,3]</code> becomes <code>[3]</code> i.e. the last item so the result will be 4\nfor example if you keep <code>[1,2,3,4,5,6]</code> in an array </p>\n\n<pre><code>var arr=[1,2,3,4,5,6];\n\narr[3]; // as [1,2,3] in the place of index is equal to [3]\n</code></pre>\n\n<p>similarly </p>\n\n<pre><code>*var arr2=[1,2,3,4,5,6];\n\n // arr[1,2] or arr[2] will give 3*\n</code></pre>\n\n<p>But when you place a + operator in between then the second square bracket is not for mentioning index. It is rather another array\nThat's why you get</p>\n\n<pre><code>[1,2,3] + [1,2] = 1,2,31,2\n</code></pre>\n\n<p>i.e. </p>\n\n<pre><code>var arr_1=[1,2,3];\n\nvar arr_2=[1,2];\n\narr_1 + arr_2; // i.e.  1,2,31,2\n</code></pre>\n\n<p>Basically in the first case it is used as index of array and in the second case it is itself an array.</p>\n",
                    "is_accepted": false,
                    "score": 19
                }
            ],
            "body": "<p>I can't wrap my mind around this quirk.</p>\n\n<pre><code>[1,2,3,4,5,6][1,2,3]; // 4\n[1,2,3,4,5,6][1,2]; // 3\n</code></pre>\n\n<p>I know <code>[1,2,3] + [1,2] = 1,2,31,2</code>, but I can't find what type or operation is being performed.</p>\n",
            "last_activity_date": 1422910194,
            "question_id": 7421013,
            "score": 189,
            "tags": [
                "javascript"
            ],
            "title": "Why does [5,6,8,7][1,2] = 8 in Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I have a backend call that my client-side code that my static page (index.php) makes to check whether the current user is logged in.  Let's say you have a backend call at <code>api/auth/logged_in</code> which returns HTTP status code <code>200</code> if the user is logged in or <code>400</code> otherwise (using cookie-based sessions):</p>\n\n<pre><code>appController.checkUser(function(isLoggedIn){\n    if(!isLoggedIn) {\n        window.location.hash = \"login\";    \n    }\n\n    Backbone.history.start();\n});\n\n...\n\nwindow.AppController = Backbone.Controller.extend({\n\n  checkUser: function(callback) {\n     var that = this;\n\n     $.ajax(\"api/auth/logged_in\", {\n       type: \"GET\",\n       dataType: \"json\",\n       success: function() {\n         return callback(true);\n       },\n       error: function() {\n         return callback(false);\n       }\n     });\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I use the session concept to control user login state.</p>\n\n<p>I have a SessionModel and SessionCollection like this:</p>\n\n<pre><code>SessionModel = Backbone.Model.extend({\n    defaults: {\n        sessionId: \"\",\n        userName: \"\",\n        password: \"\",\n        userId: \"\"\n    },\n\n    isAuthorized: function(){\n       return Boolean(this.get(\"sessionId\"));\n    }\n\n});\n</code></pre>\n\n<p>On app start, I initialize a globally available variable, activeSession. At start this session is unauthorized and any views binding to this model instance can render accordingly. On login attempt, I first logout by invalidating the session.</p>\n\n<pre><code>logout = function(){\n    window.activeSession.id = \"\";\n    window.activeSession.clear();\n}\n</code></pre>\n\n<p>This will trigger any views that listen to the activeSession and will put my mainView into login mode where it will put up a login prompt. I then get the userName and password from the user and set them on the activeSession like this:</p>\n\n<pre><code>login = function(userName, password){\n    window.activeSession.set(\n        {\n            userName: userName,\n            password: password\n        },{\n            silent:true\n        }\n    );\n    window.activeSession.save();\n}\n</code></pre>\n\n<p>This will trigger an update to the server through backbone.sync. On the server, I have the session resource POST action setup so that it checks the userName and password. If valid, it fills out the user details on the session, sets a unique session id and removes the password and then sends back the result.</p>\n\n<p>My backbone.sync is then setup to add the sessionId of window.activeSession to any outgoing request to the server. If the session Id is invalid on the server, it sends back an HTTP 401, which triggers a logout(), leading to the showing of the login prompt.</p>\n\n<p>We're not quite done implementing this yet, so there may be errors in the logic, but basically, this is how we approach it. Also, the above code is not our actual code, as it contains a little more handling logic, but it's the gist of it.</p>\n",
                    "is_accepted": false,
                    "score": 66
                },
                {
                    "body": "<p>I think you should do this server sided only... There are many chances of getting it hacked unit and unless you have some sort of amazing api responding to it</p>\n",
                    "is_accepted": false,
                    "score": -14
                },
                {
                    "body": "<p>I think you should not only control the html display but also control the display data. Because user can use firefox to change your javascript code.</p>\n\n<p>For detail, you should give user a token after he log in and every time he or she visit your component in page such as data grid or tree or something like that, the page must fetch these data (maybe in json) from your webservice, and the webservice will check this token, if the token is incorrect or past due you shouldn't give user data instead you should give a error message. So that user can't crack your security even if he or she use firebug to change js code.</p>\n\n<p>That might be help to you.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is a very good tutorial for it <a href=\"http://clintberry.com/2012/backbone-js-apps-authentication-tutorial/\" rel=\"nofollow\">http://clintberry.com/2012/backbone-js-apps-authentication-tutorial/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Firstly, should the static page that is served for the app be the login page?</p>\n\n<p>Secondly, my server side code is fine (it won't give any data that the user shouldn't be able to see). But how do I make my app know that if the user is not logged in, to go back to a login form?</p>\n",
            "last_activity_date": 1378668008,
            "question_id": 5808655,
            "score": 35,
            "tags": [
                "javascript",
                "jquery",
                "backbone.js",
                "underscore.js"
            ],
            "title": "backbone.js - handling if a user is logged in or not"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>I'm not sure Backbone itself has a recommended way to do this.  Does the Layout object have its own ID and record in the back end database?  If so you can make it its own Model as you have.  If not, you can just leave it as a nested document, just make sure you convert it to and from JSON properly in the <code>save</code> and <code>parse</code> methods.  If you do end up taking an approach like this, I think your <strong>A</strong> example is more consistent with backbone since <code>set</code> will properly update <code>attributes</code>, but again I'm not sure what Backbone does with nested models by default.  It's likely you'll need some custom code to handle this.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I'm posting this code as an example of Peter Lyon's suggestion to redefine parse.  I had the same question and this worked for me (with a Rails backend).  This code is written in Coffeescript.  I made a few things explicit for people unfamiliar with it.</p>\n\n<pre><code>class AppName.Collections.PostsCollection extends Backbone.Collection\n  model: AppName.Models.Post\n\n  url: '/posts'\n\n  ...\n\n  # parse: redefined to allow for nested models\n  parse: (response) -&gt;  # function definition\n     # convert each comment attribute into a CommentsCollection\n    if _.isArray response\n      _.each response, (obj) -&gt;\n        obj.comments = new AppName.Collections.CommentsCollection obj.comments\n    else\n      response.comments = new AppName.Collections.CommentsCollection response.comments\n\n    return response\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I have the very same issue while I'm writing my Backbone application. Having to deal with embedded/nested models. I did some tweaks that I thought was a quite elegant solution.</p>\n\n<p>Yes, you can modify the parse method to change a attributes around in the object, but all of that is actually pretty unmaintainable code IMO, and feels more of a hack than a solution.</p>\n\n<p>Here's what I suggest for your example:</p>\n\n<p>First define your Layout Model like so.</p>\n\n<p><code>var layoutModel = Backbone.Model.extend({});</code></p>\n\n<p>Then here's your image Model:</p>\n\n<pre><code>var imageModel = Backbone.Model.extend({\n\n    model: {\n        layout: layoutModel,\n    },\n\n    parse: function(response){\n        for(var key in this.model)\n        {\n            var embeddedClass = this.model[key];\n            var embeddedData = response[key];\n            response[key] = new embeddedClass(embeddedData, {parse:true});\n        }\n        return response;\n    }\n});\n</code></pre>\n\n<p>Notice that I have not tampered with the model itself, but merely pass back the desired object from the parse method.</p>\n\n<p>This should ensure the structure of the nested model when you're reading from the server. Now, you would notice that saving or setting is actually not handled here because I feel that it makes sense for you to set the nested model explicitly using the proper model.</p>\n\n<p>Like so:\n<code>image.set({layout : new Layout({x: 100, y: 100})})</code></p>\n\n<p>Also take note that you are actually invoking the parse method in your nested model by calling:</p>\n\n<p><code>new embeddedClass(embeddedData, {parse:true});</code></p>\n\n<p>You can define as many nested models in the <code>model</code> field as you need.</p>\n\n<p>Of course, if you want to go as far as saving the nested model in its own table. This wouldn't be sufficient. But in the case of reading and saving the object as a whole, this solution should suffice.</p>\n",
                    "is_accepted": true,
                    "score": 75
                },
                {
                    "body": "<p>Use <code>Backbone.AssociatedModel</code> from <a href=\"https://github.com/dhruvaray/backbone-associations\">Backbone-associations</a> :</p>\n\n<pre><code>    var Layout = Backbone.AssociatedModel.extend({\n        defaults : {\n            x : 0,\n            y : 0\n        }\n    });\n    var Image = Backbone.AssociatedModel.extend({\n        relations : [\n            type: Backbone.One,\n            key : 'layout',\n            relatedModel : Layout          \n        ],\n        defaults : {\n            name : '',\n            layout : null\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I use Backbone DeepModel plugin for nested models and attributes.</p>\n\n<p><a href=\"https://github.com/powmedia/backbone-deep-model\">https://github.com/powmedia/backbone-deep-model</a></p>\n\n<p>You can bind to change events 'n levels deep. for example:\n<code>model.on('change:example.nestedmodel.attribute', this.myFunction);</code></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I'd go with Option B if you want to keep things simple.</p>\n\n<p>Another good option would be to use <a href=\"https://github.com/PaulUithol/Backbone-relational\">Backbone-Relational</a>. You'd just define something like:</p>\n\n<pre><code>var Image = Backbone.Model.extend({\n    relations: [\n        {\n            type: Backbone.HasOne,\n            key: 'layout',\n            relatedModel: 'Layout'\n        }\n    ]\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I had the same issue and I've been experimenting with the code in <a href=\"http://stackoverflow.com/a/9904874/2088822\">rycfung's answer</a>, which is a great suggestion.<br>\nIf, however, you do not want to <code>set</code> the nested models directly, or do not want to constantly\npass <code>{parse: true}</code> in the <code>options</code>, another approach would be to redefine <code>set</code> itself.</p>\n\n<p>In <strong>Backbone 1.0.0</strong>, <code>set</code> is called in <code>constructor</code>, <code>unset</code>, <code>clear</code>, <code>fetch</code> and <code>save</code>.</p>\n\n<p>Consider the following <em>super model</em>, for all models that need to nest models and/or collections.</p>\n\n<pre><code>/** Compound supermodel */\nvar CompoundModel = Backbone.Model.extend({\n    /** Override with: key = attribute, value = Model / Collection */\n    model: {},\n\n    /** Override default setter, to create nested models. */\n    set: function(key, val, options) {\n        var attrs, prev;\n        if (key == null) { return this; }\n\n        // Handle both `\"key\", value` and `{key: value}` -style arguments.\n        if (typeof key === 'object') {\n            attrs = key;\n            options = val;\n        } else {\n            (attrs = {})[key] = val;\n        }\n\n        // Run validation.\n        if (options) { options.validate = true; }\n        else { options = { validate: true }; }\n\n        // For each `set` attribute, apply the respective nested model.\n        if (!options.unset) {\n            for (key in attrs) {\n                if (key in this.model) {\n                    if (!(attrs[key] instanceof this.model[key])) {\n                        attrs[key] = new this.model[key](attrs[key]);\n                    }\n                }\n            }\n        }\n\n        Backbone.Model.prototype.set.call(this, attrs, options);\n\n        if (!(attrs = this.changedAttributes())) { return this; }\n\n        // Bind new nested models and unbind previous nested models.\n        for (key in attrs) {\n            if (key in this.model) {\n                if (prev = this.previous(key)) {\n                    this._unsetModel(key, prev);\n                }\n                if (!options.unset) {\n                    this._setModel(key, attrs[key]);\n                }\n            }\n        }\n        return this;\n    },\n\n    /** Callback for `set` nested models.\n     *  Receives:\n     *      (String) key: the key on which the model is `set`.\n     *      (Object) model: the `set` nested model.\n     */\n    _setModel: function (key, model) {},\n\n    /** Callback for `unset` nested models.\n     *  Receives:\n     *      (String) key: the key on which the model is `unset`.\n     *      (Object) model: the `unset` nested model.\n     */\n    _unsetModel: function (key, model) {}\n});\n</code></pre>\n\n<p>Notice that <code>model</code>, <code>_setModel</code> and <code>_unsetModel</code> are left blank on purpose. At this level of abstraction you probably can't define any reasonable actions for the callbacks. However, you may want to override them in the submodels that extend <code>CompoundModel</code>.<br>\nThose callbacks are useful, for instance, to bind listeners and propagate <code>change</code> events.</p>\n\n<hr>\n\n<h2>Example:</h2>\n\n<pre><code>var Layout = Backbone.Model.extend({});\n\nvar Image = CompoundModel.extend({\n    defaults: function () {\n        return {\n            name: \"example\",\n            layout: { x: 0, y: 0 }\n        };\n    },\n\n    /** We need to override this, to define the nested model. */\n    model: { layout: Layout },\n\n    initialize: function () {\n        _.bindAll(this, \"_propagateChange\");\n    },\n\n    /** Callback to propagate \"change\" events. */\n    _propagateChange: function () {\n        this.trigger(\"change:layout\", this, this.get(\"layout\"), null);\n        this.trigger(\"change\", this, null);\n    },\n\n    /** We override this callback to bind the listener.\n     *  This is called when a Layout is set.\n     */\n    _setModel: function (key, model) {\n        if (key !== \"layout\") { return false; }\n        this.listenTo(model, \"change\", this._propagateChange);\n    },\n\n    /** We override this callback to unbind the listener.\n     *  This is called when a Layout is unset, or overwritten.\n     */\n    _unsetModel: function (key, model) {\n        if (key !== \"layout\") { return false; }\n        this.stopListening();\n    }\n});\n</code></pre>\n\n<p>With this, you have automatic nested model creation and event propagation. Sample usage is also provided and tested:</p>\n\n<pre><code>function logStringified (obj) {\n    console.log(JSON.stringify(obj));\n}\n\n// Create an image with the default attributes.\n// Note that a Layout model is created too,\n// since we have a default value for \"layout\".\nvar img = new Image();\nlogStringified(img);\n\n// Log the image everytime a \"change\" is fired.\nimg.on(\"change\", logStringified);\n\n// Creates the nested model with the given attributes.\nimg.set(\"layout\", { x: 100, y: 100 });\n\n// Writing on the layout propagates \"change\" to the image.\n// This makes the image also fire a \"change\", because of `_propagateChange`.\nimg.get(\"layout\").set(\"x\", 50);\n\n// You may also set model instances yourself.\nimg.set(\"layout\", new Layout({ x: 100, y: 100 }));\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>{\"name\":\"example\",\"layout\":{\"x\":0,\"y\":0}}\n{\"name\":\"example\",\"layout\":{\"x\":100,\"y\":100}}\n{\"name\":\"example\",\"layout\":{\"x\":50,\"y\":100}}\n{\"name\":\"example\",\"layout\":{\"x\":100,\"y\":100}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>CoffeeScript version of <strong>rycfung's</strong> beautiful answer: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class ImageModel extends Backbone.Model\n  model: {\n      layout: LayoutModel\n  }\n\n  parse: (response) =&gt;\n    for propName,propModel of @model\n      response[propName] = new propModel( response[propName], {parse:true, parentModel:this} )\n\n    return response\n</code></pre>\n\n<p>Ain't that sweet? ;)</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If you don't want to add yet another framework, you might consider creating a base class with overridden <code>set</code> and <code>toJSON</code> and use it like this:</p>\n\n<pre><code>// Declaration\n\nwindow.app.viewer.Model.GallerySection = window.app.Model.BaseModel.extend({\n  nestedTypes: {\n    background: window.app.viewer.Model.Image,\n    images: window.app.viewer.Collection.MediaCollection\n  }\n});\n\n// Usage\n\nvar gallery = new window.app.viewer.Model.GallerySection({\n    background: { url: 'http://example.com/example.jpg' },\n    images: [\n        { url: 'http://example.com/1.jpg' },\n        { url: 'http://example.com/2.jpg' },\n        { url: 'http://example.com/3.jpg' }\n    ],\n    title: 'Wow'\n}); // (fetch will work equally well)\n\nconsole.log(gallery.get('background')); // window.app.viewer.Model.Image\nconsole.log(gallery.get('images')); // window.app.viewer.Collection.MediaCollection\nconsole.log(gallery.get('title')); // plain string\n</code></pre>\n\n<p>You'll need <a href=\"http://stackoverflow.com/a/18989596/458193\"><code>BaseModel</code> from this answer</a> (available, if you fancy, <a href=\"https://gist.github.com/gaearon/6689379#file-basemodel-js\" rel=\"nofollow\">as a gist</a>).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I realize I'm late to this party, but we recently released a plugin to deal with exactly this scenario. It's called <a href=\"http://revelytix.github.io/backbone-nestify/\" rel=\"nofollow\">backbone-nestify</a>.</p>\n\n<p>So your nested model remains unchanged:</p>\n\n<p><code>var Layout = Backbone.Model.extend({...});</code></p>\n\n<p>Then use the plugin when defining the containing model (using <a href=\"http://underscorejs.org/#extend\" rel=\"nofollow\">Underscore.extend</a>):</p>\n\n<pre><code>var spec = {\n    layout: Layout\n};\nvar Image = Backbone.Model.extend(_.extend({\n    // ...\n}, nestify(spec));\n</code></pre>\n\n<p>After that, assuming you have a model <code>m</code> which is an instance of <code>Image</code>, and you've set the JSON from the question on <code>m</code>, you can do:</p>\n\n<pre><code>m.get(\"layout\");    //returns the nested instance of Layout\nm.get(\"layout|x\");  //returns 100\nm.set(\"layout|x\", 50);\nm.get(\"layout|x\");  //returns 50\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use backbone-forms</p>\n\n<p>It supports nested forms, models and toJSON. ALL NESTED</p>\n\n<pre><code>var Address = Backbone.Model.extend({\n    schema: {\n    street:  'Text'\n    },\n\n    defaults: {\n    street: \"Arteaga\"\n    }\n\n});\n\n\nvar User = Backbone.Model.extend({\n    schema: {\n    title:      { type: 'Select', options: ['Mr', 'Mrs', 'Ms'] },\n    name:       'Text',\n    email:      { validators: ['required', 'email'] },\n    birthday:   'Date',\n    password:   'Password',\n    address:    { type: 'NestedModel', model: Address },\n    notes:      { type: 'List', itemType: 'Text' }\n    },\n\n    constructor: function(){\n    Backbone.Model.apply(this, arguments);\n    },\n\n    defaults: {\n    email: \"x@x.com\"\n    }\n});\n\nvar user = new User();\n\nuser.set({address: {street: \"my other street\"}});\n\nconsole.log(user.toJSON()[\"address\"][\"street\"])\n//=&gt; my other street\n\nvar form = new Backbone.Form({\n    model: user\n}).render();\n\n$('body').append(form.el);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>We have this problem too and a team worker has implemented a plugin named backbone-nested-attributes.</p>\n\n<p>The usage is very simple. Example:</p>\n\n<pre><code>var Tree = Backbone.Model.extend({\n  relations: [\n    {\n      key: 'fruits',\n      relatedModel: function () { return Fruit }\n    }\n  ]\n})\n\nvar Fruit = Backbone.Model.extend({\n})\n</code></pre>\n\n<p>With this, the Tree model can access then fruits:</p>\n\n<pre><code>tree.get('fruits')\n</code></pre>\n\n<p>You can see more informations here:</p>\n\n<p><a href=\"https://github.com/dtmtec/backbone-nested-attributes\" rel=\"nofollow\">https://github.com/dtmtec/backbone-nested-attributes</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Hello I have the following JSON provided from a server. With this I want to create a model with a nested model. I am unsure of which is way to achieve this. </p>\n\n<pre><code>//json\n[{\n    name : \"example\",\n    layout : {\n        x : 100,\n        y : 100,\n    }\n}]\n</code></pre>\n\n<p>I want these to be converted to two nested backbone models with the following structure:</p>\n\n<pre><code>// structure\nImage\n    Layout\n...\n</code></pre>\n\n<p>So I define the Layout model like so:</p>\n\n<pre><code>var Layout = Backbone.Model.extend({});\n</code></pre>\n\n<p>But which of the two (if any) techniques below should I use to define the Image model? A or B below...</p>\n\n<p><strong>A</strong></p>\n\n<pre><code>var Image = Backbone.Model.extend({\n    initialize: function() {\n        this.set({ 'layout' : new Layout(this.get('layout')) })\n    }\n});\n</code></pre>\n\n<p><em>or,</em> <strong>B</strong></p>\n\n<pre><code>var Image = Backbone.Model.extend({\n    initialize: function() {\n        this.layout = new Layout( this.get('layout') );\n    }\n});\n</code></pre>\n",
            "last_activity_date": 1395337932,
            "question_id": 6535948,
            "score": 91,
            "tags": [
                "javascript",
                "backbone.js",
                "backbone-model"
            ],
            "title": "Nested Models in Backbone.js, how to approach"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>How about the Singleton/Module pattern, as discussed in this article about YUI: <a href=\"http://yuiblog.com/blog/2007/06/12/module-pattern/\">http://yuiblog.com/blog/2007/06/12/module-pattern/</a></p>\n\n<p>I believe jQuery uses this pattern in its core, as well as encouraging plug-in developers to use the pattern.  Using this pattern is a handy and efficient way of keeping the global namespace clear of clutter, which is further useful by assisting developers in writing clean, encapsulated code.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The <a href=\"http://en.wikipedia.org/wiki/Composite_pattern\">Composite</a> pattern is also very commonly used in jQuery. Having worked with other libraries, I can see how this pattern is not so obvious as it looks at first sight. The pattern basically says that,</p>\n\n<blockquote>\n  <p>a group of objects are to be treated in the same way as a single instance of an object.</p>\n</blockquote>\n\n<p>For example, when dealing with a single DOM element or a group of DOM elements, both can be treated in a uniform manner.</p>\n\n<pre><code>$('#someDiv').addClass('green'); // a single DOM element\n\n$('div').addClass('green');      // a collection of DOM elements\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><a href=\"http://en.wikipedia.org/wiki/Lazy_initialization\">Lazy Initialization:</a></p>\n\n<pre><code>$(document).ready(function(){\n    $('div.app').myPlugin();\n});\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Adapter_pattern\">Adapter or wrapper</a></p>\n\n<pre><code>$('div').css({\n    opacity: .1 // opacity in modern browsers, filter in IE.\n});\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Facade_pattern\">Facade</a></p>\n\n<pre><code>// higher level interfaces (facades) for $.ajax();\n$.getJSON();\n$.get();\n$.getScript();\n$.post();\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Observer_pattern\">Observer</a></p>\n\n<pre><code>// jQuery utilizes it's own event system implementation on top of DOM events.\n$('div').click(function(){})\n$('div').trigger('click', function(){})\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Iterator_pattern\">Iterator</a></p>\n\n<pre><code>$.each(function(){});\n$('div').each(function(){});\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\">Strategy</a></p>\n\n<pre><code>$('div').toggle(function(){}, function(){});\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Proxy_pattern\">Proxy</a></p>\n\n<pre><code>$.proxy(function(){}, obj); // =oP\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Builder_pattern\">Builder</a></p>\n\n<pre><code>$('&lt;div class=\"hello\"&gt;world&lt;/div&gt;');\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Prototype_pattern\">Prototype</a></p>\n\n<pre><code>// this feels like cheating...\n$.fn.plugin = function(){}\n$('div').plugin();\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Flyweight_pattern\">Flyweight</a></p>\n\n<pre><code>// CONFIG is shared\n$.fn.plugin = function(CONFIG){\n     CONFIG = $.extend({\n         content: 'Hello world!'\n     }, CONFIG);\n     this.html(CONFIG.content);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 72
                },
                {
                    "body": "<p>In the eyes of functional programming, jQuery is a Monad. A Monad is a structure that passes an object to an action, returns the modified object and passes it on to the next action. Like an assembly line. </p>\n\n<p>The <a href=\"http://en.wikipedia.org/wiki/Monad_%28functional_programming%29\" rel=\"nofollow\">Wikipedia article</a> covers the definition very well.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>jQuery is highly focused on the DOM and provides a nice abstraction around it. In doing so, it makes use of various well known <a href=\"http://en.wikipedia.org/wiki/Design_pattern_%28computer_science%29\">design patterns</a> which just hit me yesterday. One obvious example would be the <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\">Decorator</a> pattern. The jQuery object provides new and additional functionality around a regular DOM object. </p>\n\n<p>For example, the DOM has a native <a href=\"https://developer.mozilla.org/en/insertbefore\">insertBefore</a> method but there is no corresponding insertAfter method. There are various implementations <a href=\"http://www.google.com/search?sourceid=chrome&amp;ie=UTF-8&amp;q=dom+insertafter\">available</a> to fill this gap, and jQuery is one such library that provides this functionality:</p>\n\n<pre><code>$(selector).after(..)\n$(selector).insertAfter(..)\n</code></pre>\n\n<p>There are many other examples of the Decorator pattern being heavily used in jQuery.</p>\n\n<p>What other examples, big or small, of design patterns have you noticed that are part of the library itself? Also, please provide an example of the usage of the pattern.</p>\n\n<p>Making this a community wiki as I believe that various things people love about jQuery can be traced back to well known design patterns, just that they are not commonly referred to by the pattern's name. There is no one answer to this question, but cataloging these patterns will provide a useful insight into the library itself.</p>\n",
            "last_activity_date": 1381556559,
            "question_id": 3631039,
            "score": 54,
            "tags": [
                "javascript",
                "jquery",
                "design-patterns"
            ],
            "title": "Design Patterns used in the jQuery library"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>That's not a good idea. The standard isn't even finalized yet, support varies across browsers, etc. If you want to do this now you'll end up needing to fallback to flash or long polling, etc. In the future it probably still won't make a lot of sense, since the server has to support leaving connections open to every single user. Most web servers are designed instead to excel at quickly responding to requests and closing them as quickly as possibly. Heck even your operating system would have to be tuned to deal with a high number of simultaneous connections (each connection using up more ephemeral ports and memory). Stick to using REST for as much of the site as you can.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The only problem I can using TCP (WebSockets) as your main web content delivery strategy is that there is very little reading material out there about how to design your website architecture and infrastructure using TCP.</p>\n\n<p>So you can't learn from other people's mistakes and development is going to be slower. It's also not a \"tried and tested\" strategy.</p>\n\n<p>Of course your also going to lose all the advantages of HTTP (Being stateless, and caching are the bigger advantages).</p>\n\n<p>Remember that HTTP is an abstraction for TCP designed for serving web content. </p>\n\n<p>And let's not forget that SEO and search engines don't do websockets. So you can forget about SEO.</p>\n\n<p>Personally I would recommend against this as there's too much risk.</p>\n\n<p><strong>Don't use WS for serving websites, use it for serving web applications</strong></p>\n\n<p>However if you have a toy or a personal websites by all means <strong>go for it. Try it, be cutting-edge.</strong> For a business or company you cannot justify the risk of doing this.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>HTTP REST and WebSockets are very different. HTTP is <strong>stateless</strong>, so the web server doesn't need to know anything, and you get caching in the web browser and in proxies. If you use WebSockets, your server is becoming <strong>stateful</strong> and you need to have a connection to the client on the server.</p>\n\n<h3>Request-Reply communication vs Push</h3>\n\n<p>Use WebSockets only if you need to <a href=\"http://en.wikipedia.org/wiki/Push_technology\"><strong>PUSH</strong></a> data from the server to the client, that communication pattern is not included in HTTP (only by workarounds). PUSH is helpful if events created by other clients needs to be available to other connected clients e.g. in games where users should act on other clients behaviour. Or if your website is monitoring something, where the server pushes data to the client all the time e.g. stock markets (live).</p>\n\n<p>If you don't need to PUSH data from the server, it's usually esier to use a stateless HTTP REST server. HTTP uses a simple <a href=\"http://en.wikipedia.org/wiki/Request-response\">Request-Reply</a> communictaion pattern.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>WebSockets (or long polling) based transports mostly serve for (near) real-time communication between the server and client. Although there are numerous scenarios where these kinds of transports are required, such as chat or some kind of real-time feeds or other stuff, not all parts of some web application need to be necessarily connected bidirectionally with the server.</p>\n\n<p>REST is resource based architecture which is well understood and offers it's own benefits over other architectures. WebSockets incline more to streams/feeds of data in real-time which would require you to create some kind of server based logic in order to prioritize or differentiate between resources and feeds (in case you don't want to use REST).</p>\n\n<p>I assume that eventually there would be more WebSockets centric frameworks like <a href=\"https://github.com/socketstream/socketstream\" rel=\"nofollow\">socketstream</a> in the future when this transport would be more widespread and better understood/documented in the form of data type/form agnostic delivery. However, I think, this doesn't mean that it would/should replace the REST just because it offers functionality which isn't necessarily required in numerous use cases and scenarios.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Not to say that the other answers here don't have merit, they make some good points. But I'm going to go against the general consensus and agree with you that moving to websockets for more than just realtime features is very appealing. </p>\n\n<p>I am seriously considering moving my app from a RESTful architecture to more of an RPC style via websockets. This is not a \"toy app\", and I'm not talking about only realtime features, so I do have reservations. But I see many benefits in going this route and feel it could turn out to be an exceptional solution. </p>\n\n<p>My plan is to use <a href=\"http://substack.net/posts/85e1bd/DNode-Asynchronous-Remote-Method-Invocation-for-Node-js-and-the-Browser\">DNode</a>, <a href=\"http://socket.io/\">SocketIO</a>, and <a href=\"http://documentcloud.github.com/backbone/\">Backbone</a>. With these tools, my Backbone models and collections can be passed around from/to client and server by simply calling a functions RPC-style. No more managing REST endpoints, serializing/deserializing objects, and so forth. I haven't worked with socketstream yet, but it looks worth checking out.</p>\n\n<p>I still have a long way to go before I can definitively say this is a good solution, and I'm sure it isn't the best solution for every application, but I'm convinced that this combination would be exceptionally powerful. I admit that there are some drawbacks, such as losing the ability to cache resources. But I have a feeling the advantages will outweigh them. </p>\n\n<p>I'd be interested in following your progress exploring this type of solution. If you have any github experiments, please point me at them. I don't have any yet, but hope to soon.</p>\n\n<p>Below is a list of to-read-later links that I've been collecting. I can't vouch that they are all worthwhile, as I've only skimmed many of them. But hopefully some will help.</p>\n\n<hr>\n\n<p>Great tutorial on using Socket.IO with Express. It exposes express sessions to socket.io and discusses how to have different rooms for each authenticated user.</p>\n\n<ul>\n<li><a href=\"http://www.danielbaulig.de/socket-ioexpress/\">http://www.danielbaulig.de/socket-ioexpress/</a></li>\n</ul>\n\n<p>Tutorial on node.js/socket.io/backbone.js/express/connect/jade/redis with authentication, Joyent hosting, etc:</p>\n\n<ul>\n<li><a href=\"http://fzysqr.com/2011/02/28/nodechat-js-using-node-js-backbone-js-socket-io-and-redis-to-make-a-real-time-chat-app/\">http://fzysqr.com/2011/02/28/nodechat-js-using-node-js-backbone-js-socket-io-and-redis-to-make-a-real-time-chat-app/</a></li>\n<li><a href=\"http://fzysqr.com/2011/03/27/nodechat-js-continued-authentication-profiles-ponies-and-a-meaner-socket-io/\">http://fzysqr.com/2011/03/27/nodechat-js-continued-authentication-profiles-ponies-and-a-meaner-socket-io/</a></li>\n</ul>\n\n<p>Tutorial on using Pusher with Backbone.js (using Rails):</p>\n\n<ul>\n<li><a href=\"http://blog.pusher.com/2011/6/21/backbone-js-now-realtime-with-pusher\">http://blog.pusher.com/2011/6/21/backbone-js-now-realtime-with-pusher</a></li>\n</ul>\n\n<p>Build application with backbone.js on the client and node.js with express, socket.io, dnode on the server.</p>\n\n<ul>\n<li><a href=\"http://andyet.net/blog/2011/feb/15/re-using-backbonejs-models-on-the-server-with-node/\">http://andyet.net/blog/2011/feb/15/re-using-backbonejs-models-on-the-server-with-node/</a></li>\n<li><a href=\"http://addyosmani.com/blog/building-spas-jquerys-best-friends/\">http://addyosmani.com/blog/building-spas-jquerys-best-friends/</a></li>\n<li><a href=\"http://fzysqr.com/2011/02/28/nodechat-js-using-node-js-backbone-js-socket-io-and-redis-to-make-a-real-time-chat-app/\">http://fzysqr.com/2011/02/28/nodechat-js-using-node-js-backbone-js-socket-io-and-redis-to-make-a-real-time-chat-app/</a></li>\n<li><a href=\"http://fzysqr.com/2011/03/27/nodechat-js-continued-authentication-profiles-ponies-and-a-meaner-socket-io/\">http://fzysqr.com/2011/03/27/nodechat-js-continued-authentication-profiles-ponies-and-a-meaner-socket-io/</a></li>\n</ul>\n\n<p>Using Backbone with DNode:</p>\n\n<ul>\n<li><a href=\"http://quickleft.com/blog/backbone-without-ajax-part-ii\">http://quickleft.com/blog/backbone-without-ajax-part-ii</a></li>\n<li><a href=\"http://quickleft.com/blog/backbone-without-ajax-part-1\">http://quickleft.com/blog/backbone-without-ajax-part-1</a></li>\n<li><a href=\"http://sorensen.posterous.com/introducing-backbone-redis\">http://sorensen.posterous.com/introducing-backbone-redis</a></li>\n<li><a href=\"https://github.com/cowboyrushforth/minespotter\">https://github.com/cowboyrushforth/minespotter</a></li>\n<li><a href=\"http://amir.unoc.net/how-to-share-backbonejs-models-with-nodejs\">http://amir.unoc.net/how-to-share-backbonejs-models-with-nodejs</a></li>\n<li><a href=\"http://hackerne.ws/item?id=2222935\">http://hackerne.ws/item?id=2222935</a></li>\n<li><a href=\"http://substack.net/posts/24ab8c\">http://substack.net/posts/24ab8c</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 46
                },
                {
                    "body": "<p>I would consider using both.  Each technology has their merit and there is no one-size fits all solution.</p>\n\n<p>The separation of work goes this way:</p>\n\n<p>1) WebSockets would be the primary method of an application to communicate with the server where a session is required.  This eliminates many hacks that are needed for the older browsers (the problem is support for the older browsers which will eliminate this)</p>\n\n<p>2) RESTful API is used for GET calls that are not session oriented (i.e. not authentication needed) that benefit from browser caching.  A good example of this would be reference data for drop downs used by a web application.  However. can change a bit more often than...</p>\n\n<p>3) HTML and Javascript.  These comprise the UI of the webapp.  These would generally benefit being placed on a CDN.</p>\n\n<p>4) Web Services using WSDL are still the best way of enterprise level and cross-enterprise communication as it provides a well defined standard for message and data passing.  Primarily you'd offload this to a Datapower device to proxy to your web service handler.</p>\n\n<p>All of this happen on the HTTP protocol which gives use secure sockets via SSL already.</p>\n\n<p>For the mobile application though, websockets cannot reconnect back to a disconnected session (<a href=\"http://stackoverflow.com/questions/13797262/how-to-reconnect-to-websocket-after-close-connection\">How to reconnect to websocket after close connection</a>) and managing that isn't trivial.  So for mobile apps, I would still recommend REST API and polling.</p>\n\n<p>Another thing to watch out for when using WebSockets vs REST is scalability.  WebSocket sessions are still managed by the server.  RESTful API when done properly are stateless (which mean there is no server state that needs to be managed), thus scalability can grow horizontally (which is cheaper) than vertically.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an app whose primary function works in real time, through websockets or long polling. However most of the site is written in a RESTful fashion, which is nice for apps and other clients in the future. However I'm thinking about transitioning to a websocket api for all site functions, away from rest. That would make it easier for me to integrate real time features into all parts of the site. Would this make it more difficult to build apps or mobile clients?</p>\n\n<p>Thanks.</p>\n\n<p>Edit: found that some people are already doing stuff like this: <a href=\"https://github.com/socketstream/socketstream\">https://github.com/socketstream/socketstream</a></p>\n",
            "last_activity_date": 1386127578,
            "question_id": 6806263,
            "score": 40,
            "tags": [
                "javascript",
                "rest",
                "node.js",
                "websocket"
            ],
            "title": "websocket api to replace rest api?"
        }
    ]
}
