{
    "items": [
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use an incognito instance of chrome (ctrl+shift+n) to check the source, this mode won't use any cached files. With this you can check if your file is being cached on the client side.</p>\n\n<p>If it's on the client side make sure your server is not sending cache-control headers along with the JS file.</p>\n\n<p>If it's on the server then there's a ton of possibilities, maybe you have a reverse proxy, a physical load-balancer or some other type of caching mechanism.</p>\n\n<p><strong>Edit</strong> (question changed):</p>\n\n<p>Use <a href=\"https://chrome.google.com/webstore/detail/hplfkkmefamockhligfdcfgfnbcdddbg?hc=search&amp;hcp=main\" rel=\"nofollow\">this chrome extension</a> to check the headers being sent along with your .js files. There's probably a cache-control header set that instructs chrome to cache the resource.</p>\n\n<p>If you're on apache you can override this behaviour using an .htaccess file.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes. The resources are still cached. In my opinion a good practice to avoid this is to version your resources files in a url?parameter=value way.</p>\n\n<p>For example you should set the ulr to your js or css file like this: \n&lt; ... src=\"script.js?v=1\" .../> &lt; ... href=\"style.css?v=1 .. />\nand when any changes occured just change v=1 to v=2 ... </p>\n\n<p>that will not affect your code but will make your browser/proxy etc to redownload the resource</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I am not positive that no-cache <code>meta</code> tag is the way to go. It negates <strong>all</strong> caching and kind defeats the purpose of quickly accessible pages.</p>\n\n<p>Also, AFAIK, <code>meta</code> tag works per page, so if you have a page without it that references your JS - it will be cached.</p>\n\n<p>The widely acceptable way of preventing JS files (and, again, CSS) from being cached is to differentiate the requests for them:</p>\n\n<p>Say, you have:</p>\n\n<pre><code>&lt;script type=\u201dtext/JavaScript\u201d src=\u201dsomescript.js\u2033&gt;&lt;/script&gt;\n</code></pre>\n\n<p>this one will cache it (unless the above meta-tag is present.</p>\n\n<p>What you want to have is that on each page load the above line looks different (URL-wise) like so:</p>\n\n<pre><code>&lt;script type=\u201dtext/JavaScript\u201d src=\u201dsomescript.js?some-randomly-generated-string\u2033&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Same goes for CSS.</p>\n\n<p>If you were using some sort of JS network - it would take care of that for you had you given it some sort of \"no-cache\" configuration option.</p>\n\n<p>You, of course, can do it in pure JS too. Some sort of <code>Date</code> related string is an option.</p>\n\n<hr>\n\n<p>Now, normally, you would not want to negate all the caching, so the way to do so is to add a version parameter to your URL:</p>\n\n<pre><code>&lt;script type=\u201dtext/JavaScript\u201d src=\u201dsomescript.js?version=1.0.0\u2033&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and manage your scripts from there.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>There is no need for any additional extension. Unless I am sorely mistaken, \"Chrome Developer Tools\" is built in in all Chrome versions (in beta and dev, for sure) and is accessible by pressing <strong>Ctrl-Shift-I</strong>. There, in \"Network\" tab, you can see all your requests, there content and headers.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I recently made a website and I made a change to a .js file, but when I delete the .js file from the FTP server and upload the new one, the new file doesn't show up on the website. I checked the source code behind the .js file on the website and it's not right, it's showing the source for the old file, not the new one even though the old one is gone. Is that because my browser cached the .js file?</p>\n\n<p>Note: I have this source</p>\n\n<pre><code>&lt;meta http-equiv=\"cache-control\" content=\"no-cache\" /&gt;\n</code></pre>\n\n<p>on my page to stop the browser from caching my page, and I know that works on the HTML, but with that source there, do the resource files still get cached?</p>\n\n<p>I don't have that line of code on my other pages, just my home page, but the .js file is still referenced on the other pages so perhaps that is how it is getting cached?</p>\n\n<p>Furthermore, is there a way to check your browsers cache? I use chrome.</p>\n\n<p>Edit: I just cleared my browsers cache and reloaded the website and the file worked as it should now, so that means the file did get cached. So now my question becomes how to I prevent a resource file from being cached?</p>\n",
            "last_activity_date": 1425037723,
            "question_id": 7538104,
            "score": 5,
            "tags": [
                "javascript",
                "caching",
                "google-chrome"
            ],
            "title": "Are the .js files being cached?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Why don't you realize this asynchronously with the callbacks <a href=\"http://api.jquery.com/jQuery.ajax/\">success and error</a>?</p>\n\n<pre><code>$.ajax({\n   type: 'HEAD',\n   url: fileLocation,\n   success: function(msg){\n     alert(msg);\n   },\n   error: function(jqXHR, textStatus, errorThrown){\n     log(jqXHR);\n     log(errorThrown);\n\n   }\n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>It appeared my issued existed with my custom 404 page, which was returning a 200 status code.  I had to hard code the 404 response code using the php header() function, which resolved the issue I was having.  Now if the page does not exists it follows correctly:</p>\n\n<p>Using a simple method to test if page/file exists for the moment:</p>\n\n<pre><code>$.ajax({\n    type: 'HEAD',\n    url: 'http://www.example.com/index.php',\n    success: function() {\n        alert('Page found.');\n    },  \n    error: function() {\n        alert('Page not found.');\n    }\n});\n</code></pre>\n\n<p>Thanks to @kalyfe for the suggestion to switch to async method.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>So I'm need to check whether a file exists before showing specific data to clients...using jQuery I have this:</p>\n\n<pre><code>&lt;script&gt;\nfunction fileExists(fileLocation) {\n    var response = $.ajax({\n        url: fileLocation,\n        type: 'HEAD',\n        async: false\n    }).status;\n    alert(response);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>When I attempt to run the function:</p>\n\n<pre><code>&lt;script&gt; fileExists('http://www.example.com/123.jpg'); &lt;/script&gt;\n</code></pre>\n\n<p>(where example.com is my domain), I ALWAYS receive a 200 response code.  I was wondering why this might be happening - could it be that I have a custom error page set through .htaccess?  Or, is there a better method to do this?</p>\n\n<p><strong>Note</strong>: jQuery 1.5.1 is being used.</p>\n\n<p><strong>Update</strong>: It seems it is being directed to our custom error page set through .htaccess:</p>\n\n<pre><code>ErrorDocument 404 http://www.example.com/errors/notfound.php\n</code></pre>\n\n<p>Not sure if this causes the conflict, or how to get around it.</p>\n\n<p><strong>SOLVED</strong></p>\n\n<p>I checked the headers for my custom 404 page, it was returning a 200 response code.  Had to hard code the header:</p>\n\n<pre><code>&lt;?php header('HTTP/1.1 404 Not Found'); ?&gt;\n</code></pre>\n\n<p>which would then return the 404 response code - fixing my issue.</p>\n",
            "last_activity_date": 1316525549,
            "question_id": 7473387,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Using Ajax and jQuery to check if file exists - always returns 200 response"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Right using the following:</p>\n\n<pre><code>$('body').scroll(function(){\n    $('#menu').fadeOut();\n\n    var scrollA = $('body').scrollTop();\n\n    setTimeout(function(){\n        if(scrollA == $('body').scrollTop()){\n            $('#menu').fadeIn();\n        }\n    }, 200);\n})\n</code></pre>\n\n<p>So we record the scroll amount, wait 200 milliseconds and then see if the scroll has changed, if not we fade the menu back in.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I think this is what you are looking for <a href=\"http://jsfiddle.net/wfPB6/\" rel=\"nofollow\">http://jsfiddle.net/wfPB6/</a> </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var $menu = $(\"#menu\");\nvar opacity = $menu.css(\"opacity\");\nvar scrollStopped;\n\nvar fadeInCallback = function () {\n    if (typeof scrollStopped != 'undefined') {\n        clearInterval(scrollStopped);\n    }\n\n    scrollStopped = setTimeout(function () {\n        $menu.animate({ opacity: 1 }, \"slow\");\n    }, 2000);\n};\n\n$(window).scroll(function () {\n    if (!$menu.is(\":animated\") &amp;&amp; opacity == 1) {\n        $menu.animate({ opacity: 0 }, \"slow\", fadeInCallback);\n    } else {\n        fadeInCallback.call(this);\n    }\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/zsnfb/9/\" rel=\"nofollow\">http://jsfiddle.net/zsnfb/9/</a></p>\n\n<p>This sets the scroll event to do a few things. First it clears a timeout to fade the menu div back in. After that, if the menu isn't already faded out, it fades the menu out and sets the timeout in the callback. If the menu is already faded out, it just sets the timeout. If the user stops scrolling, the menu will fade back in after 2 seconds.</p>\n\n<p>There are other solutions that use fadeOut() and fadeIn(). My only issue with those functions in this case is that setting <code>display: none;</code> to the menu div will affect the layout of the page, where setting <code>visibility: hidden;</code> or <code>opacity: 0;</code> shouldn't affect the layout.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I just want the <code>#menu</code> to fade when the scroll bar is moving to provide a less cluttered interface. Is there code that would allow this?</p>\n\n<p>I guess basically what I'm looking for is how to grab the scroll bar movement event. To slowly fade out the <code>#menu</code> after 1 seconds of scrolling and bring back the <code>#menu</code> after 2 second of scroll-bar inactivity.</p>\n\n<p>Thank you so much!</p>\n",
            "last_activity_date": 1359756126,
            "question_id": 7390960,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "scroll",
                "visibility",
                "fade"
            ],
            "title": "How to hide a Div when the scroll bar is moving with jQuery?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>In other words, you'd like to intercept any function call that is done your application? There's no way to do that, at least not on some generic level.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sounds like you want to do some kind of aspect oriented programming here....</p>\n\n<p>JavaScript, as an ECMAScript dialect, does have the notion of a <em>callable object</em>.  Every callable object has an <strong>internal property</strong> called <code>[[Call]]</code>.  This property is described in Section 8.6.2, Table 9, of the ECMA-262 Specification, 5th edition.  It says:</p>\n\n<blockquote>\n  <p>Executes code associated with the object. Invoked via a function call expression. The arguments to the SpecOp are a this object and a list containing the arguments passed to the function call expression. Objects that implement this internal method are callable. Only callable objects that are host objects may return Reference values.</p>\n</blockquote>\n\n<p>But the thing to be aware of is that <code>[[Call]]</code> is an internal property, for which the spec says:</p>\n\n<blockquote>\n  <p>An internal property has no name and is not directly accessible via ECMAScript language operators. Internal properties exist purely for specification purposes.</p>\n</blockquote>\n\n<p>So you can not hook into this mechanism in your own JavaScript code.</p>\n\n<p>Now there <em>are</em> two methods defined in <code>Function.prototype</code>, <code>apply</code> and <code>call</code>.  It is true that if you change the definition of <code>Function.prototype.call</code> then if you create your own function <code>f</code>, then <code>f.call</code> will indeed (unless overridden in f's prototype or in f itself) execute that code.  This will, as you presumed, NOT automatically happen by calling <code>f</code> directly.  You have to explicitly call the <code>call</code> method.</p>\n\n<p>All that said, it is best not to muck with predefined, standard methods in the prototypes of built-in objects.  A lot of existing code in libraries and applications depend on <code>Function.prototype.call</code>.  Don't mess with it.  You can, of course, implement a kind of AOP behavior in many ways.  One is to add to <code>Function.prototype</code> some other method, <strong>but don't do this either</strong>.  Another is to write your own call method with before and after hooks:</p>\n\n<pre><code>function call(theThis, before, main, after, beforeArgs, mainArgs, afterArgs) {\n    before.apply(theThis, beforeArgs);\n    main.apply(theThis, mainArgs);\n    after.apply(theThis. afterArgs);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>Is it possible to override the \"call\" function on a generic level, so that every time when a method gets called anywhere in the app, something happens.</p>\n\n<p>I tried overriding Object.call, but although I managed to do it, it didn't change anything in the way my app works.</p>\n\n<p>BTW, even if it works, should I explicitly call \"foo.call(this,args)\" every time, or normal function calls will also work \"foo(args)\" ?</p>\n",
            "last_activity_date": 1315379999,
            "question_id": 7329923,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Is it possible to override the &quot;call&quot; function?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The example in the <a href=\"http://msdn.microsoft.com/en-us/library/be9zzz62.aspx#Y800\">documentation</a> does NOT include the parenthesis.</p>\n\n<pre><code>private void InvokeScript()\n{\n    if (webBrowser1.Document != null)\n    {\n        HtmlDocument doc = webBrowser1.Document;\n        String str = doc.InvokeScript(\"test\").ToString() ;\n        Object jscriptObj = doc.InvokeScript(\"testJScriptObject\");\n        Object domOb = doc.InvokeScript(\"testElement\");\n    }\n}\n</code></pre>\n\n<p>Try</p>\n\n<pre><code>Document.InvokeMethod(\"obj.method\");\n</code></pre>\n\n<p>Note that you can pass arguments if you use <a href=\"http://msdn.microsoft.com/en-us/library/4b1a88bz.aspx\">HtmlDocument.InvokeScript Method (String, Object[])</a>.</p>\n\n<h2>Edit</h2>\n\n<p>Looks like you aren't the only one with this issue: <a href=\"http://www.webmasterworld.com/microsoft_asp_net/3784365.htm\">HtmlDocument.InvokeScript - Calling a method of an object</a> .  You can make a \"Proxy function\" like the poster of that link suggests.  Basically you have a function that invokes your object's function.  It's not an ideal solution, but it'll definitely work.  I'll continue looking to see if this is possible.</p>\n\n<p>Another post on same issue:  <a href=\"http://www.codeproject.com/tips/60924/Using-WebBrowser-Document-InvokeScript-to-mess-aro.aspx\">Using WebBrowser.Document.InvokeScript() to mess around with foreign JavaScript</a> .  Interesting solution proposed by C. Gro\u00df on CodeProject:</p>\n\n<pre><code>private string sendJS(string JScript) {\n    object[] args = {JScript};\n    return webBrowser1.Document.InvokeScript(\"eval\",args).ToString();\n}\n</code></pre>\n\n<p>You could make that an extension method on HtmlDocument and call that to run your function, only using this new function you WOULD include parenthesis, arguments, the whole nine yards in the string you pass in (since it is just passed along to an eval).</p>\n\n<p>Looks like HtmlDocument does not have support for calling methods on existing objects.  Only global functions.  :(</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>In my WinForms application I need to call javascript function from my WebBrowser control. I used Document.InvokeScript and it works perfect with functions alone e.g </p>\n\n<pre><code>Document.InvokeScript(\"function\").\n</code></pre>\n\n<p>But when i want to call javascript object method e.g.</p>\n\n<pre><code>Document.InvokeScript(\"obj.method\")\n</code></pre>\n\n<p>it doesn't work. Is there a way to make it work? Or different solution to this problem? <strong>Without</strong> changing anything in the javascript code!</p>\n\n<p>Thanks in advance :)</p>\n",
            "last_activity_date": 1315326494,
            "question_id": 7322420,
            "score": 5,
            "tags": [
                "c#",
                "javascript",
                ".net",
                "winforms",
                "browser"
            ],
            "title": "Calling javascript object method using WebBrowser.Document.InvokeScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You MUST only use json_encode($data) once in a response, if you want to output more stuff, you need to merge your data into one array and send that.</p>\n\n<p>EDIT: To be clear, one way you could do it is like this:</p>\n\n<pre><code>echo json_encode(array('pheeds' =&gt; $pheeds, 'res' =&gt; $res));\n</code></pre>\n\n<p>Then in JS you will get an array with the keys \"pheeds\" and \"res\".</p>\n\n<p>Although it may be of little practical significance, I would also recommend doing this before you echo the json encoded string:</p>\n\n<pre><code>header('Content-Type: application/json');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>Am using alot of jQuery in a project am working on.\nI have a javascript function that makes an ajax request to a controller which returns data in JSON.\nI would like to display a user friendly message informing the user that he/she has no information stored yet. But i confused as to how to send a response in JSON so my javascript function can determine whether not the user has information to be display\nHere is my javascript function</p>\n\n<pre><code>function latest_pheeds() {\n    var action = url+\"pheeds/latest_pheeds\";\n    $('#pheed-stream').html('&lt;div class=\"loading\"&gt;&lt;/div&gt;');\n    $('.loading').append('&lt;img src=\"'+pheed_loader_src+'\" /&gt;');\n    $.ajax({\n        url:action,\n        type:'GET',\n        dataType:'json',\n        error: function () {\n        },\n        success:function(data) {\n            $('.loading').fadeOut('slow');\n        $.each(data,function(index,item) {\n            $('#pheed-stream').append\n            (\n            '&lt;div class=\"pheed\" id=\"'+item.pheed_id+'\"&gt;'+\n            '&lt;p&gt;&lt;a class=\"user_trigger\" href=\"users/info/'+item.user_id+'\"&gt;'\n            +item.user_id+'&lt;/a&gt;&lt;/p&gt;'+\n            '&lt;p&gt;'+item.pheed+'&lt;/p&gt;'+\n            '&lt;div class=\"pheed_meta\"&gt;'+\n            '&lt;span&gt;'+item.datetime+' Ago&lt;/span&gt;'+\n            '&lt;span class=\"cm\"&gt;'+item.comments+\n            '&lt;img class=\"comment_trigger\" src=\"/pheedbak/assets/img/comment.png\" title=\"Click to comment on pheed\" onclick=\"retrieve_comments('+item.pheed_id+')\"&gt;'+\n            '&lt;/span&gt;'+\n            '&lt;span&gt;'+item.repheeds+\n            ' Repheeds'+\n            '&lt;img class=\"repheed_trigger\" src=\"/pheedbak/assets/img/communication.png\" title=\"Click to repheed\" onclick=\"repheed('+item.pheed_id+')\"&gt;'+\n            '&lt;/span&gt;'+\n            '&lt;span&gt;'+\n            'Favourite'+\n            '&lt;img class=\"favourite_trigger\" src=\"/pheedbak/assets/img/star.png\" title=\"Click to make this a favourite\" onclick=\"favourite_pheed('+item.pheed_id+')\" /&gt;'+\n            '&lt;/span&gt;'+\n            '&lt;/div&gt;'+\n            '&lt;/div&gt;'\n            );\n        });\n        }\n    });\n}\n</code></pre>\n\n<p>And heres the controller function the ajax request is made to</p>\n\n<pre><code>function latest_pheeds() {\n            //Confirm if a user is logged before allowing access\n            if($this-&gt;isLogged() == true) {\n            //load the pheed model for database interaction\n            $this-&gt;load-&gt;model('pheed_model');\n            //load user model\n            $this-&gt;load-&gt;model('user_model');\n            //load comment model\n            $this-&gt;load-&gt;model('comment_model');\n            //store the pheeds to a the $data variable\n            $data = $this-&gt;pheed_model-&gt;get_latest_pheeds();\n            //Load the date helper to calculate time difference between post time and current time\n            $this-&gt;load-&gt;helper('date');\n            //Current time(unix timetamp)\n            $time = time();\n            //pheeds\n            $pheeds = array();\n            if(count($data) &gt; 0 ) {\n                foreach($data as $pheed) {\n                    $row['pheed_id'] = $pheed-&gt;pheed_id;\n                    $row['user_id'] = $this-&gt;user_model-&gt;return_username($pheed-&gt;user_id);\n                    $row['pheed'] = $pheed-&gt;pheed;\n                    $row['datetime'] = timespan($pheed-&gt;datetime,$time);\n                    $row['comments'] = $this-&gt;comment_model-&gt;count_comments($pheed-&gt;pheed_id);\n                    $row['repheeds'] = $pheed-&gt;repheeds;\n                    $pheeds[] = $row;\n                }\n\n              echo json_encode($pheeds);\n              $response['response'] = \"Ok\";\n                $res[] = $response;\n                echo json_encode($res).\"\\n\";\n            }\n            } else {\n\n            }\n</code></pre>\n\n<p>It generates the JSON output,but the syntax is broken so i cant read it with javascript,\nbut once i get rid of the following code from the above method it works normally</p>\n\n<pre><code>  $response['response'] = \"Ok\";\n                    $res[] = $response;\n                    echo json_encode($res).\"\\n\";\n</code></pre>\n",
            "last_activity_date": 1315072549,
            "question_id": 7294830,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "json"
            ],
            "title": "Sending encoding response in json"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><code>1/+0</code> is Infinity and <code>1/-0</code> -Infinity, while +0 === -0.</p>\n\n<p>This can be explained by the fact that ECMA defines -0 to equal +0 as a special case, while in other operations these two values retain their different properties, which result in some inconsistencies.</p>\n\n<p>This is only possible because the language <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_11.9.6\" rel=\"nofollow\">explicitly defines two non-equal values to be equal</a>, that in fact are not.</p>\n\n<p>Other examples, if any, should be based on the same sort of artificial equality, and given <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_11.9.6\" rel=\"nofollow\">http://ecma262-5.com/ELS5_HTML.htm#Section_11.9.6</a> there is no other such excention, so probably no other example of this.</p>\n\n<p>If it's of any use, we can ensure that <code>0</code> is not <code>-0</code> by adding <code>0</code> to it:</p>\n\n<pre><code>var f = function(x) {\n   return 1 / (x + 0);\n}\nf(+0) === f(-0)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>this behaviour is perfectly ok, because, in mathematical theory, <code>-0 === +0</code> is true, and <code>1/(-0) === 1/(+0)</code> is not, because <code>-inf != +inf</code></p>\n\n<p>EDIT: although I am really surprised that javascript can in fact handle these kinds of mathematical concepts.</p>\n\n<p>EDIT2: additionally, the phenomenon you described is completely based on the fact, that you <strong>divide by zero</strong> from which you should expect at least some strange behaviour.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There are many such functions, here is another example</p>\n\n<pre><code>function f (a) {\n  return a + 1;\n}\n</code></pre>\n\n<p>1 == \"1\"\nbut f(1) != f(\"1\")</p>\n\n<p>This is because equality is a nuanced concept. </p>\n\n<p>Perhaps more scary is that in your example -0 === +0. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm not so sure this is <em>so</em> scary ;-) Javascript is not a pure language and the presence of +/-0 and the equality of -0 and +0 are specific to <a href=\"http://en.wikipedia.org/wiki/IEEE_754-2008\" rel=\"nofollow\">IEEE-754</a> and are \"well defined\", even if perhaps sometimes surprising. (Even NaN != NaN always being true is well defined, for instance.)</p>\n\n<p>From <a href=\"http://en.wikipedia.org/wiki/Signed_zero\" rel=\"nofollow\">signed zero</a>:</p>\n\n<blockquote>\n  <blockquote>\n    <p>According to the IEEE 754 standard, negative zero and positive zero should compare as equal with the usual (numerical) comparison operators...</p>\n  </blockquote>\n</blockquote>\n\n<p>Technically, because the two inputs to <code>f</code> <em>are different</em>, then the result can also be different. For what it's worth, Haskell will treat <code>0 == -0</code> as true but will treat <code>(1 / 0) == (1 / (-0))</code> as false.</p>\n\n<p>However, I do find this an interesting question.</p>\n\n<p>Happy coding.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes, because <code>NaN !== NaN</code>.</p>\n\n<pre><code>var f = function (x) { return Infinity - x; }\n\nInfinity === Infinity // true\nf(Infinity) === f(Infinity) // false\n\nf(Infinity) // NaN\n</code></pre>\n\n<p>Some other examples that yield <code>NaN</code> whose arguments can be strictly equal:</p>\n\n<pre><code>0/0\nInfinity/Infinity\nInfinity*0\nMath.sqrt(-1)\nMath.log(-1)\nMath.asin(-2)\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>In ECMAScript 3, another example where <code>===</code> behaves surprisingly is with <em>joined functions</em>. Consider a case like this:</p>\n\n<pre><code>function createConstantFunction(result) {\n    return function () {\n        return result;\n    };\n}\n\nvar oneReturner = createConstantFunction(1);  // a function that always returns 1\nvar twoReturner = createConstantFunction(2);  // a function that always returns 2\n</code></pre>\n\n<p>An implementation is allowed to \"join\" the two functions (see &sect;13.2 of the spec), and if it does so, then <code>oneReturner === twoReturner</code> will be <code>true</code> (see &sect;13.1.2), even though the two functions do different things. Similarly with these:</p>\n\n<pre><code>// a perfect forwarder: returns a sort of \"duplicate\" of its argument\nfunction duplicateFunction(f) {\n    return function (f) {\n        return f.apply(this, arguments);\n    };\n}\n\nvar myAlert = duplicateFunction(alert);\nconsole.myLog = duplicateFunction(console.log);\n</code></pre>\n\n<p>Here an implementation can say that <code>myAlert === console.myLog</code>, even though <code>myAlert</code> is actually equivalent to <code>alert</code> and <code>console.myLog</code> is actually equivalent to <code>console.log</code>.</p>\n\n<p>(However, this aspect of ECMAScript 3 was not preserved in ECMAScript 5: functions are no longer allowed to be joined.)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Below is a <a href=\"http://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow\">pure function</a> <code>f</code> for which <code>f(a) !== f(b)</code> despite <code>a === b</code> (notice the <em>strict</em> equalities) for some values of <code>a</code> and <code>b</code>:</p>\n\n<pre><code>var f = function (x) {\n   return 1 / x;\n}\n\n+0 === -0 // true\nf(+0) === f(-0) // false\n</code></pre>\n\n<p>The existence of such functions can lead to difficult-to-find bugs. Are there other examples I should be weary of?</p>\n",
            "last_activity_date": 1370036984,
            "question_id": 7223517,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Pure function given strictly equal arguments yielding non-strictly equal results"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>No web server can track hash tags. They aren't sent to the server; they're only used by the client.</p>\n\n<p>You could always just encode <a href=\"http://.../qr\" rel=\"nofollow\">http://.../qr</a> and have your server redirect to your home page. Or just have it serve up the same content as the home page in response. Or go through a shortener.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Google Analytics's default implementation ignores the anchor, ie, everything after #, so you need to pass through the value manually. <code>_trackPageview</code> can accept a 2nd parameter that allows you to pass pageview values manually.</p>\n\n<p>By default, GA's pageview is just <code>location.pathname+location.search</code>. So, all you need to do is pass through that with <code>location.hash</code>.</p>\n\n<pre><code>   _gaq.push([\"_trackPageview\",location.pathname + location.search + location.hash]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You can use a combination of _setAllowAnchor and _setCampMediumKey to force Google Analytics to (a) use your hash tag as a query string and (b) use your 'qr' in place of the normal utm _medium (or any other of the campaign variables).</p>\n\n<p>More here : <a href=\"http://code.google.com/apis/analytics/docs/gaJS/gaJSApiCampaignTracking.html\">http://code.google.com/apis/analytics/docs/gaJS/gaJSApiCampaignTracking.html</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p><strong>Update</strong></p>\n\n<p>In the new analytics.js it should be</p>\n\n<p><code>ga('create', 'UA-XXXX-Y', {'allowAnchor': true});</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a few stickers which contain my website's URL QR Code (like this : <a href=\"http://qrcode.kaywa.com/img.php?s=5&amp;d=http%3A%2F%2Fissocial.net%23qr\" rel=\"nofollow\">http://qrcode.kaywa.com/img.php?s=5&amp;d=http%3A%2F%2Fissocial.net%23qr</a>) . I will stick it to streets. As you can see if someone read this QR code, he will forward to <a href=\"http://issocial.net/#qr\" rel=\"nofollow\">http://issocial.net/#qr</a> page. </p>\n\n<p>Now i want to track people who reach my site via this QR Code Stickers. Sadly, Google Analytics isn't tracking hashtags. </p>\n\n<p>Maybe i can do it with querystring (like : <a href=\"http://issocial.net/?qr=true\" rel=\"nofollow\">http://issocial.net/?qr=true</a>) . But GA isn't tracking just one querystring.</p>\n\n<p>So, have you any idea about this?</p>\n",
            "last_activity_date": 1395478305,
            "question_id": 6754982,
            "score": 5,
            "tags": [
                "javascript",
                "google-analytics",
                "query-string",
                "tracking",
                "qr-code"
            ],
            "title": "Tracking Hashtags &amp; Querystrings in GA"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, Greasemonkey scripts are <a href=\"https://github.com/greasemonkey/greasemonkey/blob/0ca46387f89955f083d4bc65bd70622568f79bbb/components/greasemonkey.js#L508\" rel=\"nofollow\">normally wrapped in an anonymous function</a>.  And, <a href=\"http://code.google.com/codesearch#OAMlx_jo-ck/src/chrome/renderer/extensions/user_script_slave.cc&amp;q=src/chrome/renderer/extensions/user_script_slave.cc&amp;type=cs&amp;l=46\" rel=\"nofollow\">Chrome userscripts apparently are too</a>.</p>\n\n<p>But, more importantly, Greasemonkey scripts are <em>usually</em><sup>1</sup> wrapped in an <a href=\"https://developer.mozilla.org/en/XPCNativeWrapper\" rel=\"nofollow\">XPCNativeWrapper</a> sandbox, while Google Chrome converts userscripts into extensions, and <a href=\"http://code.google.com/chrome/extensions/content_scripts.html#execution-environment\" rel=\"nofollow\">they operate in an arena that Google calls an \"isolated world\"</a><sup>2</sup>.</p>\n\n<p>So, you don't need to wrap your script code in anonymous functions for security purposes, they're already protected.</p>\n\n<p>Just beware that:</p>\n\n<ol>\n<li>If you inject code directly into the page (create a <code>&lt;script&gt;</code> tag), then that code can be seen by the page's JS.</li>\n<li>If you use <code>unsafeWindow</code>, then the page could theoretically follow it back and gain slightly elevated privileges.</li>\n</ol>\n\n<p>The risk is very low, and I haven't been able to find any documented exploits in the wild.  </p>\n\n<p>~~~<br>\nBottom line, scripts are isolated to different degrees in both browsers. (And not merely by being wrapped in anonymous functions.)  </p>\n\n<p>Greasemonkey has <a href=\"http://wiki.greasespot.net/Category%3aAPI_Reference\" rel=\"nofollow\">a nice set of privileged features</a> available, in Firefox.  While userscripts in Chrome are much more restricted.</p>\n\n<p>However, much of GM's functionality is restored to Chrome via use of the <a href=\"https://chrome.google.com/webstore/detail/dhdgffkkebhmkfjojejmpbldmpobfkfo\" rel=\"nofollow\">Tampermonkey extension</a>.</p>\n\n<p><br><br>  </p>\n\n<hr>\n\n<p><sup>1</sup> As of <a href=\"http://www.greasespot.net/2012/08/greasemonkey-10-release.html\" rel=\"nofollow\">Greasemonkey version 1.0</a> (August 24, 2012), the sandbox is controlled by <a href=\"http://wiki.greasespot.net/@grant\" rel=\"nofollow\">the <code>@grant</code> directive</a>.  If the script runs with (or defaults to) <code>@grant none</code>, then the sandbox isn't used.  The script merely runs in a private scope and the normal <code>GM_</code>, API functions will not work.</p>\n\n<p><sup>2</sup> Doesn't that sound so much bigger/nicer than some nasty sandbox?  (^_^)</p>\n\n<p>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I know Greasemonkey scripts are <strike>automatically wrapped in anonymous functions</strike> isolated in some way in order to prevent them conflicting with scripts in the page.</p>\n\n<p>Does the same happen with Chrome user-scripts?</p>\n",
            "last_activity_date": 1359795188,
            "question_id": 6617361,
            "score": 5,
            "tags": [
                "javascript",
                "google-chrome",
                "greasemonkey",
                "anonymous-function",
                "userscripts"
            ],
            "title": "Are Chrome user-scripts separated from the global namespace like Greasemonkey scripts?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I would say that this is almost certain to be the browser running in compatibility mode when browsing local URLs.</p>\n\n<p>You can check this by opening the dev tools (press F12) and looking in the top right corner; if it says it's in IE7 mode, then you've found the problem. Switch it back to normal IE9 mode and it should come right.</p>\n\n<p>IE7 didn't support the DomParser object, so if IE9 is in IE7 compatibility mode, it's natural that it will stop supporting it too.</p>\n\n<p>Ok, so that's what it's doing. But why is it doing this? There is a config setting in IE (both IE8 and IE9) which specifies that the browser should fall into compatibility mode when browsing sites on the local intranet. The reason for this setting existing is to allow companies who have internal sites designed for older versions of IE to upgrade to a new version without breaking those sites. It's intended to make like easier for corporate types who would rather not spend money fixing something when the broken version is good enough.</p>\n\n<p>But it's a pain in the rear for the rest of us.</p>\n\n<p>Obviously, if your site is on the public internet, it won't be affected by this flag, except when you're trying to work on it from localhost on your own PC. Therefore, the solution for you is to simply turn off this config setting in the browser and forget about it.</p>\n\n<p>Of course, the fact remains that users of IE7 will still have this problem with your site, as their browser doesn't support the feature you're using. You could just drop support for IE7, and tell those users to upgrade. But if you want to support IE7 users, I believe that Dean Edwards' <a href=\"http://code.google.com/p/ie7-js/\">IE7.js</a> script allows the browser to emulate this feature (along with a bunch of other stuff that Microsoft forgot).</p>\n\n<p>Hope that helps.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I received this error, \"DOMParser is undefined\", on IE9 and it turned out to be an add-on that was disabled.</p>\n\n<p>Name                XML DOM Document\nPublisher           Microsoft Corporation\nStatus              Enabled</p>\n\n<p>Tools \u2013 Manage Add-ons \u2013 Microsoft Corporation</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am getting a very weird kind of error with IE9. When I use a DOMParser from within a jsp page on localhost, it runs perfectly fine and gives the proper result.</p>\n\n<p>But Shockingly, when I use DOMParser inside a normal HTML file (Not on the server. From the file system), I get this annoying message of \"DOMParser is undefined\" .. What is this and how can I make it work? Thank You.</p>\n\n<p>P.S. It works fine on FF and Chrome</p>\n",
            "last_activity_date": 1366912268,
            "question_id": 6476733,
            "score": 5,
            "tags": [
                "javascript",
                "internet-explorer",
                "internet-explorer-9"
            ],
            "title": "DOMParser is undefined in IE9"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can do first the POST request to the page, and then redirect:</p>\n\n<pre><code>var urlToPost='http://www.example.com/';\n$.post(urlToPost, {'PARAMETER':'VALUE', 'PARAMETER2': 'VALUE2' /*Etc.*/}, function(response){\n/*Callback*/\nalert(response);\ndocument.location=urlToPost;\n})\n</code></pre>\n\n<p>More info for this: <a href=\"http://api.jquery.com/jQuery.post/\" rel=\"nofollow\">jQuery Documentation</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can't redirect with postdata using JavaScript, and I'm sure it's the same for jQuery as well. However, what you can do is...have a hidden form with post data, manipulate it as you need in javascript and submit that form.</p>\n\n<pre><code>&lt;form id=\"myform\" method=\"post\" action=\"mypage.php\"&gt;\n    &lt;input id=\"myinput\" type=\"hidden\" value=\"mydata\" /&gt; \n&lt;/form&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    // in some function...\n    document.getElementById(\"myform\").submit();\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This should work, but i haven't tested it:</p>\n\n<pre><code>function postData(url, data)\n{\n  var form = $('&lt;form&gt;&lt;/form&gt;');\n  $(form).hide().attr('method','post').attr('action',url);\n  for (i in data)\n  {\n    var input = $('&lt;input type=\"hidden\" /&gt;').attr('name',i).val(data[i]);\n    $(form).append(input);\n  }\n  $(form).appendTo('body').submit();\n}\n</code></pre>\n\n<p>Basically you can create a form on the fly and submit it. Unfortunately you can not POST stuff directly from script.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Voici ma proposition :</p>\n\n<pre><code>String.prototype.poster=function() \n{\n    var requeteur=new XMLHttpRequest;\n    requeteur.open('post',this,true); \n    requeteur.setRequestHeader('Content-type','application/x-www-form-urlencoded');\n\n    var equations=[]; \n    for(i in arguments) equations.push(arguments[i]);\n    requeteur.send(equations.join(esper));\n}\n</code></pre>\n\n<p>Au chargement, on r\u00e9cup\u00e8re requeteur.responseText.</p>\n\n<p>A vos commentaires !</p>\n\n<p>Sacapuss</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How do I redirect using either JQuery, DOJO or plain JavaScript, load another page but sent some POST parameters in request?</p>\n",
            "last_activity_date": 1408704305,
            "question_id": 6439868,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "dojo"
            ],
            "title": "How to redirect with JQuery, load another page but sent some POST parameters in request?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You need to cancel the first <code>mouseout()</code> so you'll need adjust the second part to</p>\n\n<pre><code>jQuery(\".block-cart\").mouseover(function(){\n jQuery(this).stop(true).show();\n}).mouseout(function(){\n jQuery(this).fadeOut(\"slow\");\n});\n</code></pre>\n\n<p>note that the <code>stop</code>, I am passing in true so its clearing the current animation queue. jQuery doc for stop is @ <a href=\"http://api.jquery.com/stop/\" rel=\"nofollow\">http://api.jquery.com/stop/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It looks like the <code>.block-cart</code> is not a child of the element that triggers the hover, so in order to keep the hover state active you'd have to structure your HTML in a way that the <code>.block-cart</code> is a child element of the element that triggers the hover.</p>\n\n<p>Btw: why don't you use <code>$(this).hover()</code> instead of <code>$(this).mouseover().mouseout()</code>, it's a little easier</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>hovered = false;\n\njQuery('#cart-links .links .first a').mouseover(function(){\n    jQuery('.block-cart').slideDown(400);\n}).mouseout(function(){\n      setTimeout(function(){\n      if(!hovered) {\n        jQuery('.block-cart').slideUp(400);\n      }}, 250);\n   });\n\njQuery(\".block-cart\").mouseover(function(){\n hovered = true;\n}).mouseout(function(){\n hovered = false;\n jQuery('#cart-links .links .first a').trigger(\"mouseout\");\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to create a 'cart' link where the shopping cart opens out on hover. I am able to get the cart to open out on hover and close when moving away. However I cannot get the cart block to stay open once hovered over. I would like the car block to open out on hover and stay open if you hover over it. You will see what I mean if you hover over the 'cart' link in the top right corner of this page.</p>\n\n<p><a href=\"http://dl.dropbox.com/u/4380589/Rococlothing/index.html\" rel=\"nofollow\">http://dl.dropbox.com/u/4380589/Rococlothing/index.html</a></p>\n\n<p>The jQuery I am using is:</p>\n\n<pre><code>jQuery('#cart-links .links .first a').mouseover(function(){\n  jQuery('.block-cart').slideDown(400);\n}).mouseout(function(){\n  jQuery('.block-cart').slideUp(400);\n});\n\njQuery(\".block-cart\").mouseover(function(){\n jQuery(this).show();\n}).mouseout(function(){\n jQuery(this).fadeOut(\"slow\");\n});\n</code></pre>\n",
            "last_activity_date": 1407110347,
            "question_id": 6344838,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "hover"
            ],
            "title": "jquery hover and stay until mouse out"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>There can not be a regex for this, since the selectors are extensible and anyone could add any number of <em>personal</em> selectors (<em>with custom defined symbols etc</em>) ...</p>\n\n<p>Perhaps you should try passing your arguments as a single object with named parameters.</p>\n\n<pre><code>{ selector:'...', \n  otherargument:'somevalue', \n  afunction: function(){...}\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The jQuery code for determining the selector is valid is about 108 lines long, so don't expect to determine if it's a valid selector or not in one RegEx statement. </p>\n\n<p>Your best bet is probably to look at what jQuery determines to be a valid selector, and make a function that essentially checks the same way, but returns whether it's valid or not.</p>\n\n<p><a href=\"https://github.com/jquery/jquery/blob/master/src/core.js#L80-188\" rel=\"nofollow\">https://github.com/jquery/jquery/blob/master/src/core.js#L80-188</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Lots of strings can <em>technically</em> be a selector like <code>$('blah')</code> could select custom elements! There isn't any good way of knowing the <em>intent</em> of what to do with the argument passed to your function, so it's best to have a well defined structure like Gaby has commented.</p>\n\n<p>Selector:</p>\n\n<pre><code>yourFunction({ selector: 'div' });\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>yourFunction({ value: 'testing' });\n</code></pre>\n\n<p>Will take a different route in your code.</p>\n\n<p>Without this technique the best you can do is just attempt for jQuery to find elements based on the selector, check with <code>.length</code>, if elements are found then assume the caller intended a  jQuery selector. Another option could be just to document that a jQuery object must be passed i.e.:</p>\n\n<pre><code>yourFunction({ value: jQuery('div') });\n</code></pre>\n\n<p>Then for a different route you can do</p>\n\n<pre><code>if (value instanceof of jQuery) { .... }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>This does not answer your question, but i think it can be helpful. It checks not if an argument is a jQuery selector, however it tests whether the selector exists in the document.</p>\n\n<pre><code>$.fn.inDom = function() { return $(document).find(this).length; };\n</code></pre>\n\n<p>BTW: I dont use <code>$(selector).length</code> directly, since it will return <code>1</code> if the passed argument is an <code>HTMLNode</code>.</p>\n\n<p>For better interpretation purposes:</p>\n\n<pre><code>$('foo').length // 0\n$('.foo').length // 0\n$('#foo').length // 0\n$('&lt;foo&gt;').length // 1\n$(document).find('foo').length // 0\n$(document).find('.foo').length // 0\n$(document).find('#foo').length // 0\n$(document).find('&lt;foo&gt;').length // 0\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To going straight to the point:</p>\n\n<ol>\n<li>No, jQuery has no method to check if a selector is valid.</li>\n<li>jQuery has lots of Regex' for this, that's why you cannot find <em>one</em> in the code.</li>\n<li>You do not have to write a huge Regex for this, the answer is more simple as shown below.</li>\n</ol>\n\n<p>I understand your problem because I experienced it, there are cases in which you're not in control of the selector to give to the jQuery function.</p>\n\n<p>The problem not outlined enough is that if a selector is not valid <strong>jQuery throws an error</strong> (it is important because here is the answer).</p>\n\n<p>Example using jQuery v1.9.1:</p>\n\n<pre><code>$('##somewhere');\n</code></pre>\n\n<p>It logs into the console the following line:</p>\n\n<pre><code>throw new Error( \"Syntax error, unrecognized expression: \" + msg );\n</code></pre>\n\n<p>which source is at row 4421 of the jQuery.js file (non-minified and uncompressed version).</p>\n\n<p>So, instead of looking for an inner method of jQuery (which could surely simplify things but is not available), you can just listen the error thrown to establish if the selector is valid:</p>\n\n<pre><code>function isValidSelector(selector) {\n    try {\n        var $element = $(selector);\n    } catch(error) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>You can also make it a jQuery plugin:</p>\n\n<pre><code>jQuery.extend({\n    isValidSelector: function(selector) {\n        try {\n            var $element = $(selector);\n        } catch(error) {\n            return false;\n        }\n        return true;\n    }\n});\n</code></pre>\n\n<p>to be used this way:</p>\n\n<pre><code>alert($.isValidSelector('#what?!?'));\n</code></pre>\n\n<p>Best regards.</p>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>Does jQuery have a method to determine if an argument passed to function is a selector?</p>\n\n<p>I am making a template for some jQuery plugins and I need to be able to check if the argument passed in is a jQuery selector. I want to allow for other data types and perform different methods based on what data type is passed. Detecting data types is easy, but selectors are just a string and can be constructed is many different ways.</p>\n\n<p>My goal is to create plugins that are forgiving with what you pass in for the arguments and makes educated decisions about what to do with it. Take the jQuery UI plugins for example, in some plugins, lets say we pass a callback function in the argument place holder that is for a number for a speed, it still takes the callback and runs it and uses the default for speed. That's the kind of functionality I'm going for and selectors are a pretty unique case.</p>\n\n<p>Has jQuery written a Regex for this? I couldn't find one in the code.</p>\n\n<p>If not, I guess I'll just have to write a huge Regex for this?</p>\n",
            "last_activity_date": 1373348528,
            "question_id": 6283255,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "jquery-selectors"
            ],
            "title": "Determine if a string is a valid jQuery selector?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The main problem with presence, as @davin and @jcolebrand point out in the comments, is that connections alone can't be relied upon. Network devices can hold on to connections after a user has navigated away from a page. So, you need something else in place to confirm a users presence.</p>\n\n<p>This is something we've added support for in <a href=\"http://pusher.com\" rel=\"nofollow\">Pusher</a> and we do this using something called <a href=\"http://pusher.com/docs/presence\" rel=\"nofollow\">Presence Channels</a>.</p>\n\n<p>We manage this using a unique user id, which you (the developer) have to supply when a user connects, in combination with a unique socket id which identifies the connection. Since this unique user id can only occur once within a presence member list it means that that user will only be listed once - even if they have multiple connections open, and thus multiple socket connections.</p>\n\n<p>The same idea can be applied to HTTP connections.</p>\n\n<p>The general approach for this is to use the session to uniquely identify the user. In that way even if they are just a \"Guest\" you can still identify them as long as they are allowing the use of cookies.</p>\n\n<p>So, the number of users on your system should only ever max at the number of active sessions you have running on your server.</p>\n\n<p>Hope this helps. Let me know if you'd like anything clarified.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>I'm developping a chat support solution and the attendent have to know when a client connect. With websocket works fine, but with whr-pooling, sometimes the attendent just disconnect (with 5 seconds in some cases). Sometimes dont heppend. What I do: I just enter the page and wait looking the terminal app.</p>\n\n<p>I'm using nodejs, nowjs</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>What version of socket.io are you using? I encountered this issue and solved it<a href=\"http://stackoverflow.com/questions/12043893/socket-io-force-a-disconnect-over-xhr-polling/12059108#12059108\"> on this post</a>. It turns out there was a bug introduced in socket.io 0.9.5 on the request sent when the <code>beforeunload</code> event was triggered that prevented the proper disconnection.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p><strong>I am working with socket.io and node.js. I'm am having problems tracking which users are online because of the few seconds delay before socket IO recognises an XHR-Polling client has disconnected.</strong></p>\n\n<p>If an XHR-Polling client refreshes the page their new connection message seems to precede their disconnection message. This causes confusion when trying to track which users are online.</p>\n\n<p>One solution could be to detect the transport method on the serverside and delay the connection for XHR-Polling clients to ensure that the disconnection functions have been run first.</p>\n\n<p><strong>Has anyone had any experience of this?</strong></p>\n",
            "last_activity_date": 1345571992,
            "question_id": 6280569,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "socket.io",
                "websocket"
            ],
            "title": "Socket.IO: XHR-Polling delay on disconnection"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Remove the \"VideoJS.setupAllWhenReady();\" and it should work. This is what I have:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n &lt;head&gt;\n  &lt;title&gt;Sample styled page&lt;/title&gt;\n  &lt;script src=\"video-js/video.js\" type=\"text/javascript\" charset=\"utf-8\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"video-js/video-js.css\" type=\"text/css\" media=\"screen\" title=\"Video JS\" charset=\"utf-8\"&gt;\n &lt;/head&gt;\n &lt;body&gt;\n  &lt;h1&gt;Sample styled page&lt;/h1&gt;\n  &lt;p&gt;This page is just a demo.&lt;/p&gt;\n  &lt;video id=\"current_video\" class=\"video-js\" width=\"400\" height=\"300\" controls=\"controls\" preload=\"auto\"&gt;\n    &lt;source src=\"pr6.webm\" type='video/webm; codecs=\"vp8, vorbis\"' /&gt;\n  &lt;/video&gt;\n  &lt;script&gt;\n    //VideoJS.setupAllWhenReady();\n    VideoJS.DOMReady(function() {\n        var myPlayer = VideoJS.setup(\"current_video\");\n        myPlayer.play();\n        myPlayer.currentTime(200);\n    });\n\n  &lt;/script&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code> $(function(){\n var myPlayer = _V_(\"my_video_1\");\n     _V_(\"my_video_1\").ready(function(){ \n\n     myPlayer.src([\n      { type: \"video/mp4\", src: \"http://video-js.zencoder.com/oceans-clip.mp4\" },\n      { type: \"video/webm\", src: \"http://video-js.zencoder.com/oceans-clip.webm\" }\n    ]);  \n\n    });\n  });\n\n  $(window).load(function(){\n  var myPlayer = _V_(\"my_video_1\");\n\n myPlayer.currentTime(30); \n myPlayer.play()\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Greetings overflow,</p>\n\n<p>I'm trying to create buttons on a webpage that jump to tagged timestamps for an embedded video with video-js.  Far as I can gather, I need to change the currentTime value in order to have the video move to the correct timestamp, however I can't get this to work even when setting currentTime in the initial javascript call.</p>\n\n<p>For example, if I wanted to start 200 seconds into the video:</p>\n\n<p>javascript:</p>\n\n<pre><code>    VideoJS.setupAllWhenReady();\n    VideoJS.DOMReady(function(){\n    var myPlayer = VideoJS.setup(\"current_video\");\n    myPlayer.play();\n    myPlayer.currentTime(200);\n    });\n</code></pre>\n\n<p>HTML Snip:</p>\n\n<pre><code>&lt;video id=\"current_video\" class=\"video-js\" width=\"400\" height=\"300\" controls=\"controls\" preload=\"auto\" poster=\"./videoposter.png\"&gt;\n&lt;source src=\"./videosource.mp4\" type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"' /&gt;\n&lt;/video&gt;\n</code></pre>\n\n<p>Again, the video plays properly using the video-js player, just the currentTime offset doesn't seem to be applied and the video starts from the beginning.  I've tested this in chrome, safari, IE and they all seem to do the same thing so I don't think the problem is browser specific.  I must be doing something wrong...</p>\n\n<p>Thanks for your help!</p>\n",
            "last_activity_date": 1403752139,
            "question_id": 6221344,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "html5-video"
            ],
            "title": "Jump to timestamp in HTML5 embedded Video with video-js"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><a href=\"http://jsfiddle.net/nhJDd/\" rel=\"nofollow\">http://jsfiddle.net/nhJDd/</a></p>\n\n<pre><code>$(\".document\").ready(function(){\n    $(\"select option:eq(1)\").val(\"someNewVal\");\n    $(\"select option:eq(1)\").text(\"Another Val\");\n    $(\"select option:eq(1)\").attr('selected', 'selected');\n\n});\n</code></pre>\n\n<p>here is a working example and jquery, I am assuming you want to change the value of a select, change its text face and also have it selected at page load?</p>\n\n#\n\n<p>Attempt 2:</p>\n\n<p>here is another fiddle: <a href=\"http://jsfiddle.net/HafLW/1/\" rel=\"nofollow\">http://jsfiddle.net/HafLW/1/</a> , do you mean that you select an option, then you want to append that value to the autocomplete of a input area?</p>\n\n<pre><code>$(\".document\").ready(function(){\n     someString = \"this,that\";\n        $(\"input\").autocomplete({source: someString.split(\",\")}); \n\n    $(\"select\").change(function(){\n        alert($(this).val()+\" appended\");\nsomeString = someString+\",\"+$(this).val();\n        $(\"input\").autocomplete({source: someString.split(\",\")}); \n\n\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Is <a href=\"http://jsfiddle.net/BbWza/1/\"><strong>this demo</strong></a> what you are looking for?</p>\n\n<p>The link sets the value of the jQuery UI autocomplete to <em>Java</em>. The focus is left on the input so that the normal keyboard events can be used to navigate the options.</p>\n\n<p><strong>Edit:</strong> How about adding another function to the combobox like this:</p>\n\n<pre><code>autocomplete : function(value) {\n    this.element.val(value);\n    this.input.val(value);\n}\n</code></pre>\n\n<p>and calling it with the value you want to set:</p>\n\n<pre><code>$('#combobox').combobox('autocomplete', 'Java'); \n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/BbWza/2/\"><strong>Updated demo</strong></a></p>\n\n<p>I cannot find any available existing function to do what you want, but this seems to work nicely for me. Hope it is closer to the behaviour you require.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>I managed a quick and dirty way of setting the value.  But, you do need to know both the value and the text of the item that you want to display on the dropdown.</p>\n\n<pre><code>var myValue = foo; // value that you want selected\nvar myText = bar; // text that you want to display\n// You first need to set the value of the (hidden) select list\n$('#myCombo').val(myValue);\n// ...then you need to set the display text of the actual autocomplete box.\n$('#myCombo').siblings('.ui-combobox').find('.ui-autocomplete-input').val(myText);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I really like what andyb did, but I needed it to do a little more around event handling to be able to handle triggering the a change event because \"selected\" doesn't handle when hitting enter or losing focus on the input (hitting tab or mouse click).</p>\n\n<p>As such, using what andyb did as a base as well as the latest version of the jQuery Autocomplete script, I created the following solution: <strong><a href=\"http://jsfiddle.net/cKb7U/\" rel=\"nofollow\">DEMO</a></strong></p>\n\n<ul>\n<li><strong>Enter:</strong> Chooses the first item if menu is visible</li>\n<li><strong>Focus Lost:</strong> Partial match triggers not found message and clears entry (jQuery UI), but fully typed answer \"selects\" that value (not case sensative)</li>\n</ul>\n\n<p>How Change method can be utlized:</p>\n\n<pre><code>$(\"#combobox\").combobox({\n    selected: function (event, ui) {\n        $(\"#output\").text(\"Selected Event &gt;&gt;&gt; \" + $(\"#combobox\").val());\n    }\n})\n.change(function (e) {\n    $(\"#output\").text(\"Change Event &gt;&gt;&gt; \" + $(\"#combobox\").val());\n});\n</code></pre>\n\n<p>Hopefully this helps others who need additional change event functionality to compensate for gaps that \"selected\" leaves open.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>@andyb,\ni think rewrite:</p>\n\n<pre><code>    autocomplete: function (value) {\n        this.element.val(value);\n\n        var selected = this.element.children(\":selected\"),\n                value = selected.val() ? selected.text() : \"\";\n        this.input.val(value);\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using <a href=\"http://jqueryui.com/demos/autocomplete/#combobox\" rel=\"nofollow\">jquery autocomplete combobox</a>\nand everything is ok. But I also want to set specific value through JavaScript like <code>$(\"#value\").val(\"somevalue\")</code> and it set to select element, but no changes in input element with autocomplete.</p>\n\n<p>Of course, I can select this input and set value directly, but is it some other ways to do that? I try set bind to <code>this.element</code> like <code>this.element.bind(\"change\", function(){alert(1)})</code> but it was no effects. And I don't know why. </p>\n\n<p><strong>Edit</strong></p>\n\n<p>I found a workaround for this case. But I don't like it. I have added the following code to _create function for ui.combobox</p>\n\n<pre><code>this.element.bind(\"change\", function() {  \n    input.val( $(select).find(\"option:selected\").text());  \n});\n</code></pre>\n\n<p>And when I need to change the value I can use <code>$(\"#selector\").val(\"specificvalue\").trigger(\"change\");</code></p>\n",
            "last_activity_date": 1381184676,
            "question_id": 6197664,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-ui-autocomplete"
            ],
            "title": "set value to jquery autocomplete combobox"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Right here: <a href=\"http://m14i.wordpress.com/2009/10/25/javascript-touch-and-gesture-events-iphone-and-android/\" rel=\"nofollow\">http://m14i.wordpress.com/2009/10/25/javascript-touch-and-gesture-events-iphone-and-android/</a></p>\n\n<p>Use <code>touchstart</code> and <code>touchend</code> to detect long touch given a time </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've tried, it's hard to do. I've not yet been willing to adopt a big mobile framework for my apps but if you're OK with it, <a href=\"http://www.sencha.com/products/touch/\" rel=\"nofollow\">Sencha Touch</a> is supposed to support this and other touch events on webkit devices.</p>\n\n<p>In my testing using touchstart I can't prevent the mobile browser from popping up a dialog instead of triggering my event.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The problem with using Touch End to detect the long touch is it won't work if you want the event to fire after a certain period of time. It is better to use a timer on touch start and clear the event timer on touch end. The following pattern can be used:</p>\n\n<pre><code>var onlongtouch; \nvar timer;\nvar touchduration = 500; //length of time we want the user to touch before we do something\n\ntouchstart() {\n    timer = setTimeout(onlongtouch, touchduration); \n}\n\ntouchend() {\n\n    //stops short touches from firing the event\n    if (timer)\n        clearTimeout(timer); // clearTimeout, not cleartimeout..\n}\n\nonlongtouch = function() { //do something };\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>We can calculate the time difference when the touch started and when the touch end. If the calculated time difference exceed the touch duration then we use a function name taphold.</p>\n\n<pre><code>var touchduration = 300; \nvar timerInterval;\n\nfunction timer(interval)\n{\n       interval--;\n                    if (interval &gt;= 0) {\n                        timerInterval = setTimeout(function() {\n\n                            timer(interval);\n                        });\n        }\n        else\n        {\n        taphold();\n        }\n}\n\nfunction touchstart() {\n\n      timer(touchduration);\n}\n\nfunction touchend() {\n\n    clearTimeout(timerInterval);\n\n}\n\nfunction taphold(){\nalert(\"taphold\");\n}\n\n\ndocument.getElementById(\"xyz\").addEventListener('touchstart',touchstart);\ndocument.getElementById(\"xyz\").addEventListener('touchend',touchend);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How to detect a long touch pressure with javascript for android and iphone?\nnative javascript or jquery...</p>\n\n<p>I want something that sound like : </p>\n\n<pre><code>&lt;input type='button' onLongTouch='myFunc();' /&gt;\n</code></pre>\n",
            "last_activity_date": 1409842019,
            "question_id": 6139225,
            "score": 5,
            "tags": [
                "javascript",
                "iphone",
                "android",
                "html5",
                "mobile-website"
            ],
            "title": "How to detect a long touch pressure with javascript for android and iphone?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I've done this in the past using jQuery. You can measure the size of a piece of text like this:</p>\n\n<pre><code>// txt is the text to measure, font is the full CSS font declaration,\n// e.g. \"bold 12px Verdana\"\nfunction measureText(txt, font) {\n    var id = 'text-width-tester',\n        $tag = $('#' + id);\n    if (!$tag.length) {\n        $tag = $('&lt;span id=\"' + id + '\" style=\"display:none;font:' + font + ';\"&gt;' + txt + '&lt;/span&gt;');\n        $('body').append($tag);\n    } else {\n        $tag.css({font:font}).html(txt);\n    }\n    return {\n        width: $tag.width(),\n        height: $tag.height()\n    }\n}\n\nvar size = measureText(\"spam\", \"bold 12px Verdana\");\nconsole.log(size.width + ' x ' + size.height); // 35 x 12.6\n</code></pre>\n\n<p>In order to fit this to a given space, it's a little trickier - you need to separate out the <code>font-size</code> declaration and scale it appropriately. Depending on how you're doing things, this might be easiest if you break out the different parts of the <code>font</code> declaration. A resize function might look like this (again, obviously, this is jQuery-dependent):</p>\n\n<pre><code>function shrinkToFill(input, fontSize, fontWeight, fontFamily) {\n    var $input = $(input),\n        txt = $input.val(),\n        maxWidth = $input.width() + 5, // add some padding\n        font = fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n    // see how big the text is at the default size\n    var textWidth = measureText(txt, font).width;\n    if (textWidth &gt; maxWidth) {\n        // if it's too big, calculate a new font size\n        // the extra .9 here makes up for some over-measures\n        fontSize = fontSize * maxWidth / textWidth * .9;\n        font = fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n        // and set the style on the input\n        $input.css({font:font});\n    } else {\n        // in case the font size has been set small and \n        // the text was then deleted\n        $input.css({font:font});\n}\n</code></pre>\n\n<p>You can see this in action here: <a href=\"http://jsfiddle.net/nrabinowitz/9BFQ8/5/\">http://jsfiddle.net/nrabinowitz/9BFQ8/5/</a></p>\n\n<p>Testing seems to show that this is a little jumpy, at least in Google Chrome, because only full-integer font sizes are used. You might be able to do better with a <code>em</code>-based font declaration, though this might be a little tricky - you'd need to ensure that the <code>1em</code> size for the text width tester is the same as that for the input.</p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>Apple's MobileMe uses javascript to change the font size in the email login on its homepage as the user types so that the text always fits in the available space without overflow scrolling.</p>\n\n<p>While I can see how how to execute a function on each keypress, I'm curious how one would go about caluclating the font-size each time so that it always fits into the input field. Is there a way to measure the length of a piece of text with a variable width font? How do they accomplish this effect?</p>\n\n<p>Try it out to see what I mean:\n<a href=\"http://www.me.com/\">http://www.me.com/</a></p>\n",
            "last_activity_date": 1318810435,
            "question_id": 6114300,
            "score": 5,
            "tags": [
                "javascript",
                "javascript-events",
                "input",
                "user-input",
                "font-size"
            ],
            "title": "Shrinking font-size at a user types to fit in an input using Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can get Yahoo Finance using <a href=\"http://en.wikipedia.org/wiki/JSONP\">JSONP</a>, so that is most definitely what you are using.</p>\n\n<p>An example URL is...</p>\n\n<pre><code>http://d.yimg.com/autoc.finance.yahoo.com/autoc?query=Apple&amp;callback=YAHOO.Finance.SymbolSuggest.ssCallback\n</code></pre>\n\n<p>When the request has loaded, it will call the callback you define in the GET param. This allows you to work around <em>same origin policy</em>, provided the service has support for JSONP.</p>\n\n<p>Alternatively, some people use their server as a proxy.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>CORS (Cross-Origin Resource Sharing) is a standard way to allow cross-domain AJAX calls.</p>\n\n<p>It's quite simple. For example, if the HTTP header <code>Access-Control-Allow-Origin: *</code> is added to a page (using PHP for example) then JavaScript from any domain will be able to read the page using AJAX. If such a header is not present then the same-origin policy will prevent the page from being read by AJAX calls from a different domain.</p>\n\n<p>Using CORS, the owner of a page (for example a page that exposes specific data or an API) can expose that page (and that page only) for others to call from their own domains. The principle is that if the owner of a page explicitly says \"it's OK for other to access my stuff\" then CORS will allow it. Otherwise, the same-site policy is assumed.</p>\n\n<p>See: <a href=\"http://www.w3.org/TR/cors/\" rel=\"nofollow\">http://www.w3.org/TR/cors/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Accessing data between services, is not the same as calling a JavaScript function defined on one domain, from another domain.\n<img src=\"http://i.stack.imgur.com/s6mrw.jpg\" alt=\"enter image description here\"></p>\n\n<p>In other words, I think you're confusing \"same origin policy\" (which prevents, for example, one tab in my browser from calling a JS function defined on a site in another tab of my browser) with JS getting data from a URL (e.g. stock prices from yahoo).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here's what you need to do: JSONP.</p>\n\n<p>Because of said policy you can't make an AJAX request to yahoo, but there are workarounds. Namely, the script tag, which can make a request to anywhere.</p>\n\n<p>For example, say you want to do the request to yahoo when a user clicks the \"GO\" button. You need to add an event handler to catch the user's click event then add a new script tag to the head section of the DOM. The URL of the script tag is important, it must have a callback param in it, e.g.:</p>\n\n<p><a href=\"http://helloasdf.cloudfoundry.com/get.tokens?callback=xss\" rel=\"nofollow\">http://helloasdf.cloudfoundry.com/get.tokens?callback=xss</a></p>\n\n<p>Note callback can be any arbitrary function name. The response will be:</p>\n\n<pre><code>xss([\"asdf\"])\n</code></pre>\n\n<p>meaning that the xss function in your code will be passed [\"asdf\"].</p>\n\n<p>Or w/ yahoo's API;</p>\n\n<p><a href=\"http://d.yimg.com/autoc.finance.yahoo.com/autoc?query=GS&amp;callback=YAHOO.Finance.SymbolSuggest.ssCallback\" rel=\"nofollow\">http://d.yimg.com/autoc.finance.yahoo.com/autoc?query=GS&amp;callback=YAHOO.Finance.SymbolSuggest.ssCallback</a></p>\n\n<p>notice the callback=YAHOO.Finance.SymbolSuggest.ssCallback it will call that function when the request returns:</p>\n\n<pre><code>YAHOO.Finance.SymbolSuggest.ssCallback({\"ResultSet\":{\"Query\":\"gs\",\"Result\":[{\"symbol\":\"GS\",\"name\": \"The Goldman Sachs Group, Inc.\",\"exch\": \"NYQ\",\"type\": \"S\",\"exchDisp\":\"NYSE\",\"typeDisp\":\"Equity\"},{\"symbol\":\"^GSPC\",\"name\": \"S&amp;P 500 INDEX,RTH\",\"exch\": \"SNP\",\"type\": \"I\",\"typeDisp\":\"Index\"},{\"symbol\":\"GSS\",\"name\": \"Golden Star Resources, Ltd.\",\"exch\": \"ASE\",\"type\": \"S\",\"exchDisp\":\"AMEX\",\"typeDisp\":\"Equity\"},{\"symbol\":\"^GSPTSE\",\"name\": \"S&amp;P/TSX Composite index (Interi\",\"exch\": \"TOR\",\"type\": \"I\",\"exchDisp\":\"Toronto\",\"typeDisp\":\"Index\"},{\"symbol\":\"GSK\",\"name\": \"GlaxoSmithKline plc\",\"exch\": \"NYQ\",\"type\": \"S\",\"exchDisp\":\"NYSE\",\"typeDisp\":\"Equity\"},{\"symbol\":\"GSX\",\"name\": \"Gasco Energy Inc.\",\"exch\": \"ASE\",\"type\": \"S\",\"exchDisp\":\"AMEX\",\"typeDisp\":\"Equity\"},{\"symbol\":\"OIL\",\"name\": \"iPath S&amp;amp;P GSCI Crude Oil TR Index ETN\",\"exch\": \"PCX\",\"type\": \"E\",\"typeDisp\":\"ETF\"},{\"symbol\":\"GSIC\",\"name\": \"GSI Commerce Inc.\",\"exch\": \"NMS\",\"type\": \"S\",\"exchDisp\":\"NASDAQ\",\"typeDisp\":\"Equity\"},{\"symbol\":\"GST\",\"name\": \"Gastar Exploration, Ltd.\",\"exch\": \"ASE\",\"type\": \"S\",\"exchDisp\":\"AMEX\",\"typeDisp\":\"Equity\"},{\"symbol\":\"GSI\",\"name\": \"General Steel Holdings, Inc.\",\"exch\": \"NYQ\",\"type\": \"S\",\"exchDisp\":\"NYSE\",\"typeDisp\":\"Equity\"}]}})\n</code></pre>\n\n<p>Here is an example of the js you need to dynamically add the script tag:</p>\n\n<pre><code> var headLoc = document.getElementsByTagName(\"head\").item(0);\n var scriptObj = document.createElement(\"script\");\n var token=\"localstring\"\n var url=\"http://helloasdf.cloudfoundry.com/get.tokens?callback=xssCallback\";\n  // Add script object attributes\n  scriptObj.setAttribute(\"type\", \"text/javascript\");\n  scriptObj.setAttribute(\"charset\", \"utf-8\");\n  scriptObj.setAttribute(\"src\", url);\n  scriptObj.setAttribute(\"id\", 'asf12');\n\n  headLoc.appendChild(scriptObj);\n</code></pre>\n\n<p>I've documented the process more here: <a href=\"http://eggie5.com/22-circumvent-same-origin-policy\" rel=\"nofollow\">http://eggie5.com/22-circumvent-same-origin-policy</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Maybe some of you can help me get a better understanding of the javascript same origin policy.</p>\n\n<p>The same origin policy is defined as following (<a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Same_origin_policy</a>):</p>\n\n<blockquote>\n  <p>In computing, the same origin policy is an important security concept for a number of browser-side programming languages, such as JavaScript. The policy permits scripts running on pages originating from the same site to access each other's methods and properties with no specific restrictions, but prevents access to most methods and properties across pages on different sites.</p>\n</blockquote>\n\n<p>I have deployed a GWT application to the Google App Engine with url </p>\n\n<p><a href=\"http://metalsandstocks.appspot.com\" rel=\"nofollow\">http://metalsandstocks.appspot.com</a></p>\n\n<p>Since GWT compiles all java into javascript this means my app is deployed as javascript. Since this is an ajax application I assumed that it would be required to abide by the same origin policy. The app uses ajax to make calls to a different domain(http://finance.yahoo.com)in order to get real-time stock quotes for dispaly to the user. The app works as described yet it has a different domain than the one it calls for it's updates. Does this app violate the same origin policy? Why or why not?</p>\n",
            "last_activity_date": 1304435538,
            "question_id": 5863744,
            "score": 5,
            "tags": [
                "javascript",
                "same-origin-policy"
            ],
            "title": "Same origin policy"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>jQuery recommends to use <a href=\"http://api.jquery.com/jQuery.support/\" rel=\"nofollow\">jQuery.support</a> to make sure that some functionality in maintained by browser. Like:</p>\n\n<pre><code>jQuery.support.opacity //returns true/false\n</code></pre>\n\n<p>Core jQuery doesn't give way to test CSS3 properties, but plugins do. You can find some of such plugins in the comments after function description (like <a href=\"https://gist.github.com/556448\" rel=\"nofollow\">this one</a> )</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The jQuery <a href=\"http://playground.benbarnett.net/jquery-animate-enhanced/\" rel=\"nofollow\">animate enhanced plugin</a> uses CSS transitions without having to write specific code for transition capable browsers</p>\n\n<p>The alternative is not very encouraging: you could add a feature detection library such as Modernizr and then write specific code for every case, such as...</p>\n\n<pre><code>if (Modernizr.csstransitions) {\n  $(\"#yourdiv\").css({\n    \"-webkit-transform\" : \"translate(0, 10)\",\n    \"-o-transform\" : \"translate(0, 10)\",\n    \"-moz-transform\" : \"translate(0, 10)\",\n    \"-ms-transform\" : \"translate(0, 10)\",\n    \"transform\" : \"translate(0, 10)\"\n});\n}\nelse {\n  //do jquery animate stuff\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You should not care about it. Animations are not vital. If you do progressive enhancement, every user will get the best experience their browser lets them to have :).</p>\n\n<p>If you care about that \"processor power\" so much, you do not want to have animations on IE at all. Otherwise, use just jQuery, that seems to be best for your particular needs.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm looking for a way to use css animations, but if the users browser doesn't do css animations - to then fall back to use Jquery for the animation. Is there an easy way to do this in Jquery? a plugin would be OKAY, if it were a small plugin, but i'm really looking for some way of doing this in jquery if possible. The only reason I want to use css animations is because of the much lower Processor power used when using css animations.</p>\n",
            "last_activity_date": 1343501484,
            "question_id": 5612352,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "css-transitions"
            ],
            "title": "When using CSS transitions/animations/etc., what&#39;s the best way to fall back to jquery if the users browser doesn&#39;t do css animations?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You say \"<code>preventDefault()</code> helps\" but you say it doesn't work? I'm not sure I understand. Have you tried this:</p>\n\n<pre><code>addEventListener(\"DOMContentLoaded\", function() {\n    document.getElementById(\"link\").addEventListener(\"click\", function(e) {\n        alert(\"Clicked!\");\n        e.preventDefault();\n        return false;\n    }, false);\n    alert(\"Click handler bound!\");\n}, false);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>return false</code> works cross browser, but <strong>only</strong> for event handlers assigned the \"DOM0\" way, such as</p>\n\n<pre><code>document.getElementById(\"link\").onclick = function() {\n    alert(\"Clicked!\");\n    return false;\n};\n</code></pre>\n\n<p>For event handlers assigned the DOM Level 2 way via <code>addEventListener()</code>, you have to use <code>preventDefault()</code>:</p>\n\n<pre><code>document.getElementById(\"link\").addEventListener(\"click\", function(evt) {\n    alert(\"Clicked!\");\n    evt.preventDefault();\n}, false);\n</code></pre>\n\n<p>For event listeners attached via <code>attachEvent()</code> in IE, either <code>return false</code> or <code>window.event.returnValue = false</code> will do:</p>\n\n<pre><code>document.getElementById(\"link\").attachEvent(\"onclick\", function() {\n    alert(\"Clicked!\");\n    return false;\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>I have had some cross-browser issues with the return false method.</p>\n\n<p>I have had good luck just replacing the href of the like with the following:</p>\n\n<pre><code>function removeLink(elementName) {\n   var o = document.getElementById(elementName);\n   o.href = 'javascript: (function(){})();';\n   o.target = \"_self\";\n}\n</code></pre>\n\n<p>I have found that this empty function in the href property has been the easiest.</p>\n\n<p>I have added the target _self part because when I develop I occasionally have these links (that I want to be hover boxes) open in a new window/tab. They need to be pointed at the current window to truly do nothing ... lol.</p>\n\n<p>Hope this helps whomever.</p>\n\n<p>Brynn</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In the example below, <code>return false</code> does not seem to prevent the default action after the link is clicked (because the page scrolls to the top) in Firefox 3.6 or Chrome 10 but works in Internet Explorer. </p>\n\n<p>Using <code>event.preventDefault()</code> does what I need, but I'm wondering why <code>return false</code> does not work with the others.</p>\n\n<p><strong>Side note:</strong> I do not need to support Internet Explorer.</p>\n\n<pre><code>&lt;script&gt;\n  addEventListener(\"DOMContentLoaded\", function(){\n    document.getElementById(\"link\").addEventListener(\"click\", function(){\n      alert(\"Clicked!\");\n      return false;\n    }, false);\n    alert(\"Click handler bound!\");\n  }, false);\n&lt;/script&gt;\n\n&lt;div style=\"margin-top: 1200px;\"&gt;\n  &lt;a id=\"link\" href=\"#\"&gt;Click me!&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1386195311,
            "question_id": 5422770,
            "score": 5,
            "tags": [
                "javascript",
                "events",
                "firefox",
                "cross-browser"
            ],
            "title": "Returning false from click handler doesn&#39;t work in Firefox"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Try calling <code>setTimeout</code> to perform the navigation a tiny bit later.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should add a full URL (including <code>http://</code>) for your window.location :-)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've had the same exact issue a while ago, that was related to the fact that my FQDN had an underscore in it. It is illegal to have an underscore in a FQDN, but only Internet Explorer actually blocks it, while other browsers make it work normally. If you have an underscore, Internet Explorer won't register cookies either...</p>\n\n<p>If that's not your problem, I would suggest to try an e.preventDefault() before the window.location to see what happens.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try to remove the first slash:</p>\n\n<pre><code>window.location = \"deploy/Company.Domain.Product.application?\" + tranId;\n</code></pre>\n\n<p>Maybe IE thinks You are trying to get \"deploy\" from the root. Anyway I think it's a good practice to use a full url's = No misunderstanding</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Answer!</p>\n\n<blockquote>\n  <p>If you have developed a custom Web page that launches a ClickOnce application using Active Scripting, you may find that the application will not launch on some machines. Internet Explorer contains a setting called Automatic prompting for file downloads, which affects this behavior. This setting is available on the Security Tab in its Options menu that affects this behavior. It is called Automatic prompting for file downloads, and it is listed underneath the Downloads category. The property is set to Enable by default for intranet Web pages, and to Disable by default for Internet Web pages. When this setting is set to Disable, any attempt to activate a ClickOnce application programmatically (for example, by assigning its URL to the document.location property) will be blocked. Under this circumstance, users can launch applications only through a user-initiated download, for example, by clicking a hyperlink set to the application's URL.</p>\n</blockquote>\n\n<p>So change the IE security settings to turn automatic prompting for file downloads on.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I have the same problem. One possible solution is changing ajax request from asynchronous to synchronous. If you do that then 'Automatic prompting isn't needed at all.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I agree with Mih, because you can't say to your users to change their browser options.\nIf you use asynchronous request, it might be ok in internet explorer.</p>\n\n<p>You can change your $.post to $.ajax like this:</p>\n\n<pre><code>$.ajax({\n  type: 'POST',\n  url: url,\n  ...\n  async:false\n});\n</code></pre>\n\n<p>More info about ajax here: <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">http://api.jquery.com/jQuery.ajax/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to launch a ClickOnce application via a link on a web page.  The link has to go to the server to request a transaction GUID before it can launch the application.  The code works like this:</p>\n\n<pre><code>function clickHandler() {\n    $.post('/gettransactionid.aspx', function(tranId) {\n        console.log(\"BEFORE\");\n        window.location = \"/deploy/Company.Domain.Product.application?\" + tranId;\n        console.log(\"AFTER\");\n    });\n    return false;\n}\n</code></pre>\n\n<p>This works perfectly fine in Firefox but in IE it peforms a navigation and doesn't open the clickonce application.  The console.log BEFORE and AFTER are shown in the console window in IE8 dev tools.  Any help would be appreciated as I've spent 4 hours on this trying to solve it with various hacks!</p>\n\n<p>I have tried:</p>\n\n<ul>\n<li>changing the window.location to a window.open.  This just fires up a window for a second and fails to launch the application.</li>\n<li>an alert instead of window.location.  This does nothing.</li>\n<li>Against IE7, IE8 and IE9.</li>\n<li>Circumventing browser security by adding it to a queue and processing the window.location in the root window context.</li>\n<li>I have checked gettransactionid.aspx returns the transaction id.</li>\n<li>Doing it in Firefox - it works fine.</li>\n</ul>\n\n<hr>\n\n<p>Found the Answer in Microsoft's documentation:</p>\n\n<blockquote>\n  <p>If you have developed a custom Web page that launches a ClickOnce application using Active Scripting, you may find that the application will not launch on some machines. Internet Explorer contains a setting called Automatic prompting for file downloads, which affects this behavior. This setting is available on the Security Tab in its Options menu that affects this behavior. It is called Automatic prompting for file downloads, and it is listed underneath the Downloads category. The property is set to Enable by default for intranet Web pages, and to Disable by default for Internet Web pages. When this setting is set to Disable, any attempt to activate a ClickOnce application programmatically (for example, by assigning its URL to the document.location property) will be blocked. Under this circumstance, users can launch applications only through a user-initiated download, for example, by clicking a hyperlink set to the application's URL.</p>\n</blockquote>\n\n<p>Update 1st September 2011: Ironically this has now broken entirely in IE9 thanks to \"Automatic prompting for downloads\" being removed.</p>\n",
            "last_activity_date": 1359535564,
            "question_id": 5299076,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer",
                "clickonce",
                "window"
            ],
            "title": "window.location doesn&#39;t work after an AJAX request in Internet Explorer"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>you have no way to touch the local disk with Javascript by design.</p>\n\n<p>I think you could pass the whole bunch of data from javascript to the server side code ( php, asp.net, java... ) then you could stream it down to the browser somehow.</p>\n",
                    "is_accepted": true,
                    "score": -1
                },
                {
                    "body": "<p>Try below code allow you to access client side file system but this works only in IE browser</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n    &lt;script language=\"JScript\"&gt;\n    &lt;!--\n    function getsize()\n    {\n        var myObject, afile, size;\n        myObject = new ActiveXObject(\"Scripting.FileSystemObject\");\n        afile = myObject.GetFile(\"c:\\\\test.txt\")\n        size = afile.Size;\n        alert(\"The size of the test.txt file is:\" + size);\n    }\n    --&gt;\n    &lt;/script&gt;\n    Get the size for the file \"test.txt\"\n    &lt;form name=\"myForm\"&gt;\n    &lt;input type=\"Button\" value=\"Get Size\" onClick='getsize()'&gt;\n    &lt;/form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I would suggest you not to create a file locally on client side, instead prompt user (Save As dialog box) to download data generated client side on the location he desires.</p>\n\n<p>The solution to download local/client-side contents via javascript is not straight forward.  I have implemented one solution using smartclient-html-jsp.</p>\n\n<p>Here is the solution:</p>\n\n<ol>\n<li>I am in the project build on SmartClient. We need to download/export data of a grid\n(table like structure).</li>\n<li>We were using RESTish web services to serve the data from Server side.  So I could not hit the url two times; one for grid and second time for export/transform the data to download.</li>\n<li>What I did is made two JSPs namely: blank.jsp and export.jsp.</li>\n<li>blank.jsp is literally blank, now I need to export the grid data\nthat I already have on client side. </li>\n<li>Now when ever user asks to export the grid data, I do below:\n<ol>\n<li>Open a new window with url blank.jsp</li>\n<li>using document.write I create a form in it with one field name text in it and set data to export inside it.</li>\n<li>Now POST that form to export.jsp of same heirarchy.</li>\n<li>Contents of export.jsp I am pasting below are self explanatory.</li>\n</ol></li>\n</ol>\n\n\n\n<pre><code>&lt;%@ page import=\"java.util.*,java.io.*,java.util.Enumeration\"%&gt;\n&lt;%\n    response.setContentType (\"text/csv\");\n    //set the header and also the Name by which user will be prompted to save\n    response.setHeader (\"Content-Disposition\", \"attachment;filename=\\\"data.csv\\\"\");\n    String contents = request.getParameter (\"text\");\n    if (!(contents!= null &amp;&amp; contents!=\"\"))\n        contents = \"No data\";\n    else\n        contents = contents.replaceAll (\"NEW_LINE\", \"\\n\");\n\n    //Open an input stream to the file and post the file contents thru the\n    //servlet output stream to the client m/c\n\n    InputStream in = new ByteArrayInputStream(contents.getBytes ());\n    ServletOutputStream outs = response.getOutputStream();\n\n    int bit = 256;\n    int i = 0;\n    try {\n        while ((bit) &gt;= 0) {\n            bit = in.read();\n            outs.write(bit);\n        }\n        //System.out.println(\"\" +bit);\n    } catch (IOException ioe) {\n        ioe.printStackTrace(System.out);\n    }\n    outs.flush();\n    outs.close();\n    in.close();\n%&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;\n\n&lt;/HEAD&gt;\n\n&lt;BODY&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    try {window.close ();} catch (e) {alert (e);}\n&lt;/script&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p>This code is tested and deployed/working in production environment, also this is cross-browser functionality.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Take a look at <a href=\"https://github.com/eligrey/FileSaver.js\" rel=\"nofollow\">filesaver.js</a>. As long as you are okay with IE10+ this is a pretty solid solution that elegantly handles using the best method depending on the browser.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>We are using fusioncharts and it has the ability using javascript on the client side to export csv data, we want to be able to take that data and create a file on the fly in the browser.  is that possible?  How?</p>\n",
            "last_activity_date": 1406322042,
            "question_id": 5107956,
            "score": 5,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "Client side file creation and download"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>One simple way is to make your extension react to a user-defined event. Your web page dispatches the event on an appropriate event target (you can use the document if you have nothing better) and then your extension's event listener can verify the web page address and perform an action. At the very minimum your event listener could call preventDefault() on the event; the web page could then call getPreventDefault() to see whether your extension is present.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>See here: <a href=\"http://stackoverflow.com/questions/5089941/allow-content-documents-to-detect-my-firefox-addon\">Allow content documents to detect my Firefox addon</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to find an easy way to detect if my extension is installed in Firefox 3.6. This should be done from a webpage, probably using javascript.</p>\n\n<p>I've read a lot of blogs that says that I should try loading an image from my extension. Since I own the extension, and I can write the code, that seems like an unnecessary hack.</p>\n\n<p>I've also thought about setting a global variable to the web document, but I havn't been able to achieve this. I thought I would be able to write:</p>\n\n<p><code>top.window.content.document.hasMyPlugin = true</code></p>\n\n<p>but this is doesn't seem to work (hasMyPlugin is not defined). I only add this variable when visiting my domain (I have added a WebProgressListener and check the host property), so global namespace pollution shouldn't be a problem.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The way I try to access the variable is simply <code>if(hasMyPlugin)</code> or <code>if(document.hasMyPlugin)</code>... Perhaps I'm accessing it the wrong way?</p>\n",
            "last_activity_date": 1298535086,
            "question_id": 5067375,
            "score": 5,
            "tags": [
                "javascript",
                "firefox-addon",
                "detection"
            ],
            "title": "Detecting my own Firefox extension from a webpage"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Checkout <a href=\"http://code.google.com/apis/charttools/index.html\" rel=\"nofollow\">Google Chart Tools</a> and <a href=\"http://code.google.com/apis/visualization/documentation/gallery.html\" rel=\"nofollow\">Google Visualization</a></p>\n\n<p>for instance you can specify the following:</p>\n\n<p><img src=\"http://i.stack.imgur.com/AgKxk.png\" alt=\"enter image description here\"></p>\n\n<pre><code>cht=bvs\nchco=4D89F9,C6D9FD\nchd=t:10,50,60,80,40|\n  50,60,100,40,20\nchds=0,160\n</code></pre>\n\n<p>let's say if you change the chd to</p>\n\n<p><img src=\"http://i.stack.imgur.com/iIYCS.png\" alt=\"enter image description here\"></p>\n\n<pre><code>cht=bvs\nchs=250x150\nchco=4D89F9,C6D9FD\nchd=t:0,50,0,80,0, 10, 50, 40\n      60,0,100,0,20, 50, 100, 60\nchds=0,160\n</code></pre>\n\n<p>Take a look at the chart above (as if its a group chart, but actually its stacked).  Then you can append data after to create stacked 'looking' group as the graph is intended.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>See also the Dojo toolkit's Dojox Charting API: <a href=\"http://docs.dojocampus.org/dojox/charting/\" rel=\"nofollow\">Dojox charting</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hey I just developed grouped+stacked bar chart on d3.js.</p>\n\n<ul>\n<li><p><a href=\"https://github.com/gencay/stackedGroupedChart\" rel=\"nofollow\">Source</a></p></li>\n<li><p><a href=\"http://bl.ocks.org/4629518\" rel=\"nofollow\">Demo</a></p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm looking for a Javascript solution to mix Grouped and Stacked Bars with a beautiful graph, such as those provided by <a href=\"http://vis.stanford.edu/protovis/\">Protovis</a>.</p>\n\n<p>For example if I want to compare downloads on Apple (iPads+iPhones) devices to Android devices, I might have (excuse my terrible ascii art)</p>\n\n<pre>\n\n60k |             ^\n50k |    #    ^   ^\n40k |#   #    ^  #^\n30k |@   #^   ^  #^\n20k |@^  #^  #^  @^\n10k |@^  @^  @^  @^\n   =================\n    Jan Feb Mar Apr\n\nLegend\n#: iPad Downloads\n@: iPhone Downloads\n^: Android Downloads\n</pre>\n",
            "last_activity_date": 1359074002,
            "question_id": 5043236,
            "score": 5,
            "tags": [
                "javascript",
                "charts",
                "javascript-library"
            ],
            "title": "Bar chart in Javascript: stacked bars + grouped bars"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can also use the left mouse button and drag it down to select multiple items. But only adjacent items can be selected by this. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can add the class \"selected\" when the user clicks the elements, and simply remove the class when clicked again.</p>\n\n<pre><code>$(\".selectable\").click(function(e) {\n    $(this).toggleClass(\"selected\");\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>The easiest thing is to implement a jQuery click handler which toggles a <code>selected</code> class on your selectable elements. Then just style <code>selected</code> appropriately. jQuery Selectable is more hindrance than help in your case.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use a set of custom event handlers to control how selection and deselection behave.  With this set of handlers nothing is ever deselected unless it is selected and you click on it again without then doing a range select.  If you remove the <code>if (event.detail == 0) {</code> and its related statements then range select will act like range invert -- anything in the range that is selected will be unselected, and vice-versa.</p>\n\n<pre><code>var _selectRange = false, _deselectQueue = [];\n$(function() {\n    $( \"#selectable\" ).selectable({\n        selecting: function (event, ui) {\n            if (event.detail == 0) {\n                _selectRange = true;\n                return true;\n            }\n            if ($(ui.selecting).hasClass('ui-selected')) {\n                _deselectQueue.push(ui.selecting);\n            }\n        },\n        unselecting: function (event, ui) {\n            $(ui.unselecting).addClass('ui-selected');\n        },\n        stop: function () {\n            if (!_selectRange) {\n                $.each(_deselectQueue, function (ix, de) {\n                    $(de)\n                        .removeClass('ui-selecting')\n                        .removeClass('ui-selected');\n                });\n            }\n            _selectRange = false;\n            _deselectQueue = [];\n        }\n    });\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/QGzj9/33/\" rel=\"nofollow\">While it lasts, here's a jsfiddle example</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I use the <a href=\"http://jqueryui.com/demos/selectable/\">Jquery Selectable </a> But the user have to hold the control button down to select items is there anyway that user can select multiple items without holding control button down ?</p>\n\n<p>in other words: I want the user to be able to Select any item by clicking on it and Unselect it by Clicking again.</p>\n",
            "last_activity_date": 1378829094,
            "question_id": 4999789,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-plugins"
            ],
            "title": "Jquery Selectable without holding control"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>try this....it will remove # globally in your url   </p>\n\n<pre><code>window.location.href.replace(/\\#*/g, \"\")\n</code></pre>\n\n<p>here is  <a href=\"http://jsfiddle.net/Gyqxu/\" rel=\"nofollow\"><strong>DEMO</strong></a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Add</p>\n\n<p>return false;</p>\n\n<p>at the end of your click function, it will stop this event propagation</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>the <code>replace</code> function returns a new string, it doesn't operate on the old one. You need to use: <code>window.location.href = window.location.href.replace(/#.*/,'')</code>.</p>\n\n<p>However, this will not have the expected effect, as changing window.location.href in any way that's not just adding or changing a hash tag causes a page reload. </p>\n\n<p>The localScroll plugin works by searching for the hashtag and using the jQuery scrollTo plugin to scroll to the location, and preventing the default behavior of the browser when you click on a link with a hash tag. They haven't actually changed the URL to remove the hash, they've prevented it from ever appearing.</p>\n\n<p>The best you can do if you want to remove the hash from the URI is to keep just the # at the end:</p>\n\n<pre><code>window.location.href = window.location.href.replace(/#.*/,'#');\n</code></pre>\n\n<p>Although in some older browsers, even this will trigger a page reload (only very old browsers, though).</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Hi i hope someone can help. i want to hide the hash tag from the address bar so instead of:</p>\n\n<p><em>www.mydomain.com/example.html#something</em> </p>\n\n<p>i just get:</p>\n\n<p><em>www.mydomain.com/example.html</em></p>\n\n<p>when i click on an anchor tag. </p>\n\n<p>I have looked at lots of related questions and forums but still can't quite figure it out. I'm pretty sure i should be using something along the lines of:</p>\n\n<pre><code>window.location.href.replace(/#.*/,''); //and or .hash\n</code></pre>\n\n<p>put just cannot figure it out.</p>\n\n<p><a href=\"http://flesler.blogspot.com/2007/10/jquerylocalscroll-10.html\">localScroll</a> plugin allows you to hide or keep the hashtags and by default they are hidden. i think many gallery plugins have a similar option to.</p>\n\n<p>but when i try and do it myself (bit of a novice) i get crazy to no results. </p>\n\n<p>below is some basic example script i would like it to work with:</p>\n\n<pre><code>&lt;style&gt;\n.wrap{\nwidth:300px;\nheight:200px;\nmargin:auto;\n}\n\n.box{\nwidth:300px;\nheight:200px;\nposition:absolute;\ndisplay:none;\n}\n\n#one{background:red;}\n#two{background:blue;}\n#three{background:green;}\n\n.load{display:block;}\n&lt;/style&gt;\n\n\n&lt;body&gt;\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"#one\"&gt;One&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#two\"&gt;Two&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#three\"&gt;Three&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;div class=\"wrap\"&gt;\n    &lt;div id=\"one\" class=\"box load\"&gt;This is Box 1&lt;/div&gt;\n    &lt;div id=\"two\" class=\"box\"&gt;This is Box 2&lt;/div&gt;\n    &lt;div id=\"three\" class=\"box\"&gt;This is Box 3&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function() {\n\n$(\"ul li a\").click(function(){\n\n       $(\"div.box\").fadeOut(1000);\n\n       $($(this).attr('href')).fadeIn(1000);\n\n    });\n});\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>i would really appreciate the help,</p>\n\n<p>thank you</p>\n",
            "last_activity_date": 1355801622,
            "question_id": 4872267,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "removing # hash tags from address bar"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You could do it using the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/lastIndexOf\" rel=\"nofollow\">lastIndexOf()</a> function to find the last occurrence of the <code>,</code> and replace it.</p>\n\n<p>The alternative is to use a regular expression with the end of line marker:</p>\n\n<pre><code>myOldString.replace(/,([^,]*)$/, \".$1\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can do it with a regular expression:</p>\n\n<pre><code>x = x.replace(/,([^,]*)$/, \".$1\");\n</code></pre>\n\n<p>That regular expression matches a comma followed by any amount of text not including a comma. The replacement string is just a period followed by whatever it was that came after the original last comma. Other commas preceding it in the string won't be affected.</p>\n\n<p>Now, if you're really converting numbers formatted in \"European style\" (for lack of a better term), you're also going to need to worry about the \".\" characters in places where a \"U.S. style\" number would have commas.  I think you would probably just want to get rid of them:</p>\n\n<pre><code>x = x.replace(/\\./g, '');\n</code></pre>\n\n<p>When you use the \".replace()\" function on a string, you should understand that it <em>returns</em> the modified string. It does not modify the <em>original</em> string, however, so a statement like:</p>\n\n<pre><code>x.replace(/something/, \"something else\");\n</code></pre>\n\n<p>has no effect on the value of \"x\".</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>You don't need to worry about whether or not it's the last \".\", because there is only one. JavaScript doesn't store numbers internally with comma or dot-delimited sets.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <code>lastIndexOf</code> to find the last occurence of <code>,</code>. Then you can use <code>slice</code> to put the part before and after the <code>,</code> together with a <code>.</code> inbetween.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use a regexp. You want to replace the last ',', so the basic idea is to replace the ',' for which there's no ',' after.</p>\n\n<pre><code>x.replace(/,([^,]*)$/, \".$1\");\n</code></pre>\n\n<p>Will return what you want :-).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have the following code:</p>\n\n<pre><code>var x = \"100.007\"\nx = String(parseFloat(x).toFixed(2));\nreturn x\n=&gt; 100.01\n</code></pre>\n\n<p>This works awesomely just how I want it to work. I just want a tiny addition, which is something like:</p>\n\n<pre><code>var x = \"100,007\"\nx.replace(\",\", \".\")\nx.replace\nx = String(parseFloat(x).toFixed(2));\nx.replace(\".\", \",\")\nreturn x\n=&gt; 100,01\n</code></pre>\n\n<p>However, this code will replace the first occurrence of the \",\", where I want to catch the last one. Any help would be appreciated.</p>\n",
            "last_activity_date": 1347021223,
            "question_id": 4843691,
            "score": 5,
            "tags": [
                "javascript",
                "regex",
                "pattern-matching",
                "currency"
            ],
            "title": "Javascript Regex: replacing the last dot for a comma"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I guess I just found a solution ... <code>$.ui.dialog.prototype._create.call(this);</code></p>\n\n<p>The full code:</p>\n\n<pre><code>$.widget(\"ui.ajaxdialog\", $.ui.dialog, {\n  _create: function() {\n    // Your code before calling the overridden method.\n    $.ui.dialog.prototype._create.call(this);\n    // Your code after calling the overridden method.\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>The simple code below describes my question (at least I hopse so):</p>\n\n<pre><code>$.widget(\"ui.mydialog\", $.ui.dialog, {\n  _create: function() {\n    // How to call _create method of dialog?\n  }\n});\n</code></pre>\n\n<p>I tried to call <code>$.ui.dialog.prototype._create()</code> from within the above create method, but get the below error in Firebug:</p>\n\n<pre><code>this.element is undefined\nthis.originalTitle = this.element.attr('title');\njquery...5667348 (line 5864)\n</code></pre>\n\n<p>How else can I call that \"super\" method?</p>\n\n<p>jQuery UI version 1.8.8</p>\n",
            "last_activity_date": 1295924056,
            "question_id": 4789493,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "inheritance",
                "override"
            ],
            "title": "Inherit from jQuery UI dialog and call overridden method"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>jQuery provides all of those and many more, you would be better off just using it.</p>\n\n<p>jQuery can sit side-by-side with other frameworks, so can be independent if another framework is present.</p>\n\n<p>See: <a href=\"http://api.jquery.com/category/utilities/\" rel=\"nofollow\">jQuery Utilities Documentation</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Javascript itself has many of these functions built into the basic types.  Before building your own, perhaps a copy of <a href=\"http://rads.stackoverflow.com/amzn/click/0596000480\" rel=\"nofollow\">JavaScript: The Definitive Guide</a>, focusing on the API reference in the back, would do you some solid good.</p>\n\n<p>After that investigate frameworks, or at least being looking into how you can create your own framework for your functions (as opposed to copying and pasting).  Here the <a href=\"http://www.wait-till-i.com/2007/08/22/again-with-the-module-pattern-reveal-something-to-the-world/\" rel=\"nofollow\">module pattern</a> would be helpful to you.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm fond of <a href=\"http://documentcloud.github.com/underscore/\">underscore.js</a>; it doesn't provide string utilities such as <code>trim</code>; it's focused on object-oriented and functional utilities, including all of the other things you mention.  Another nice thing about it is that it doesn't reference the DOM at all, so it's useful for javascript programming that isn't web-based or DOM related.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The functions you mention are all standard in ECMAScript 5. And this library implements them in such a way that you can use them in older browsers/JavaScript versions as well, in a way that will be compatible when your environment catches up with the standard:</p>\n\n<p><a href=\"https://github.com/kriskowal/es5-shim/blob/master/es5-shim.js\">https://github.com/kriskowal/es5-shim/blob/master/es5-shim.js</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p><a href=\"http://www.boilerjs.com\" rel=\"nofollow\">Boiler.js</a> is an up and coming utility library that offers many useful JavaScript utilities and is a direct competitor with Underscore.js. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm wondering if such a library exists, where the library contains only a collection of common utility functions such as <code>trim</code>, <code>indexOf</code> (for arrays), <code>map</code>, <code>each</code>, <code>typeOf</code> and so on...</p>\n\n<p>I'm aware that jQuery provides some of the functions I listed above, but I'm looking for something that is designed purely for this (I really don't need jQuery on the server-side running node.js for instance, nor do I want to depend on it if I'm writing a non-jQuery-related JavaScript library). I've recently begun collecting an assortment of these functions for future copy/pasting, but my guess is that there are many others that I won't even know to look for, or think of using, unless someone presents them to me.</p>\n",
            "last_activity_date": 1386660832,
            "question_id": 4681173,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript: Is there a utils library?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If it is on the same domain, you can just use</p>\n\n<pre><code>iframe.contentWindow.document.documentElement.innerHTML\n</code></pre>\n\n<p>to get the content of the iframe, except for the <code>&lt;html&gt;</code> and <code>&lt;/html&gt;</code> tag, where</p>\n\n<pre><code>iframe = document.getElementById('iframeid');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>$('input.test').click(function(){\n    $('textarea.test').text($('iframe.test').contents());\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can get the literal source of any file on the same domain with Ajax, which does not render the html first-</p>\n\n<p>//</p>\n\n<pre><code>function fetchSource(url, callback){\n\n    try{\n        var O= new XMLHttpRequest;\n        O.open(\"GET\", url, true);\n        O.onreadystatechange= function(){\n            if(O.readyState== 4 &amp;&amp; O.status== 200){\n                callback(O.responseText);\n            }\n        };\n        O.send(null);\n    }\n    catch(er){}\n    return url;\n}\nfunction printSourceCode(text){\n    var el= document.createElement('textarea');\n    el.cols= '80';\n    el.rows= '20';\n    el.value= text;\n    document.body.appendChild(el);\n    el.focus();\n}\n</code></pre>\n\n<p><strong>fetchSource(location.href, printSourceCode);</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I belive I've found the best solution:</p>\n\n<pre><code>var document = iframeObject.contentDocument\nvar serializer = new XMLSerializer();\nvar content = serializer.serializeToString(document);\n</code></pre>\n\n<p>In <code>content</code> we have full iframe content, including <code>DOCTYPE</code> element, which was missing in previous solutions. And in addition this code is very short and clean.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I need to get whole content of iframe from the same domain. Whole content means that I want everything starting from <code>&lt;html&gt;</code> (including), not only <code>&lt;body&gt;</code> content.\nContent is modified after load, so I can't get it once again from server.</p>\n",
            "last_activity_date": 1293969447,
            "question_id": 4575219,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "iframe"
            ],
            "title": "How to get WHOLE content of iframe?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>test is just an html string, so you could simply do this to show the contents</p>\n\n<pre><code>alert(result);\n</code></pre>\n\n<p>and if you want to bind that to an element</p>\n\n<pre><code>$(\"#myDiv\").html(result);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try the <code>load</code> method of jQuery object: <a href=\"http://api.jquery.com/load/\" rel=\"nofollow\">http://api.jquery.com/load/</a>  </p>\n\n<blockquote>\n  <p>Load data from the server and place\n  the returned HTML into the matched\n  element.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code>function ajaxLoadContent(element) {\n$.ajax({\n    url: \"url to the page\",\n    type: \"GET\",\n    timeout: 5000,\n    datattype: \"html\",\n    success: function(data) {\n     var result = $(data);\n    },\n});\nreturn false;\n</code></pre>\n\n<p>You should now be able to call the result like this (remember it's not added to the DOM yet):</p>\n\n<pre><code>alert(result.html());\n</code></pre>\n\n<p>Add to the DOM</p>\n\n<pre><code>result.appendTo(\"body\");\n</code></pre>\n\n<p>Let me know if this works for you.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's a while ago, but maybe you're still interested in it..</p>\n\n<p>The intern implementation of <code>$(String)</code> is not able to build an jQuery object that contains <code>head</code> or <code>body</code> tags. It will simply ignore them and move all elements inside on level up.</p>\n\n<p>So if your string is for example</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta ...&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"a\"/&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>the resulting jQuery object will be an array of two elements</p>\n\n<pre><code>[&lt;meta ...&gt;, &lt;div id=\"a\" /&gt;]\n</code></pre>\n\n<p>to get a <code>body</code>-like jQuery object cut everything but the body content before passing it to jQuery:</p>\n\n<pre><code>body = '&lt;div id=\"body-mock\"&gt;' + html.replace(/^[\\s\\S]*&lt;body.*?&gt;|&lt;\\/body&gt;[\\s\\S]*$/g, '') + '&lt;/div&gt;';\nvar $body = $(body);\n</code></pre>\n\n<p>now things work as expected.. for example</p>\n\n<pre><code>$body.find('#a')\n</code></pre>\n\n<p>Hope that helps..</p>\n",
                    "is_accepted": false,
                    "score": 26
                }
            ],
            "body": "<p>I load a html with ajax. I want to load the result in a jquery object. I tried that but it returns null. How can I do this? I got a complete page including doctype, head elements and body elements.</p>\n\n<pre><code>var test = $(result); //result contains html code\nalert(test.html()); //returns null\n</code></pre>\n\n<p>I load the data with this function.</p>\n\n<pre><code>function ajaxLoadContent(element) {\n    $.ajax({\n        url: \"url to the page\",\n        type: \"GET\",\n        timeout: 5000,\n        datattype: \"html\",\n        success: function(result) {\n        //handler\n        },\n    });\n    return false;\n</code></pre>\n",
            "last_activity_date": 1349995171,
            "question_id": 4429851,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Parse complete html page with jquery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There is no standards compliant way to change the prototype of an object after its creation.\nThere is a standards compliant way to create objects with whatever prototype you desire while parsing from JSON.</p>\n\n<p>From <a href=\"http://www.json.org/js.html\" rel=\"nofollow\">http://www.json.org/js.html</a>: </p>\n\n<blockquote>\n  <p>The optional reviver parameter is a\n  function that will be called for every\n  key and value at every level of the\n  final result. Each value will be\n  replaced by the result of the reviver\n  function. This can be used to reform\n  generic objects into instances of\n  pseudoclasses, or to transform date\n  strings into Date objects.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have some objects deserialized from JSON to which I'd like to assign a new prototype in order to provide various getter and setter functions. The obvious way to do this (as mentioned in <a href=\"http://stackoverflow.com/questions/4097007/how-to-set-a-prototype-for-a-json-object\">this question</a>) is to set</p>\n\n<pre><code>myJsonObj.__proto__ = { function1: /* ... */, function2: /* ... */ };\n</code></pre>\n\n<p>However, as MDC <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/proto\">helpfully points out</a>, the <code>__proto__</code> property is non-standard and deprecated. Is there any standards-compliant way (for some definition of \"standards\") to achieve the same effect, without having to create lots of new wrapper objects?</p>\n",
            "last_activity_date": 1292007273,
            "question_id": 4410176,
            "score": 5,
            "tags": [
                "javascript",
                "json",
                "prototype"
            ],
            "title": "Proper way of assigning to __proto__ property"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Try putting <code>VideoJS.setupAllWhenReady();</code> in <code>$.fancybox.onComplete</code>.</p>\n\n<p>The content of your fancybox is probably not in the DOM when jsVideo tries to apply the video controls.</p>\n\n<p><strong>Like this:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function () {    \n        $(\"a.fancyvideo5\").click(function () {\n            var url = $(this).attr('name');\n\n            $.fancybox({\n                'padding': 7,\n                'overlayOpacity': 0.7,\n                'autoDimensions': false,\n                'width': 640,\n                'height': 480,\n                'content': '&lt;div&gt;&lt;div class=\"video-js-box vim-css\"&gt;' +\n                            '&lt;video id=\"example_video_1\" class=\"video-js\" width=\"635\" height=\"475\" controls=\"controls\" preload=\"auto\" poster=\"' + url + '.png\"&gt;' +\n                            '&lt;source src=\"' + url + '.mp4\" /&gt;' +\n                            '&lt;source src=\"' + url + '.webm\" /&gt;' +\n                            '&lt;source src=\"' + url + '.ogv\"  /&gt;' +\n                              '&lt;!-- Flash Fallback. Use any flash video player here. Make sure to keep the vjs-flash-fallback class. --&gt;' +\n                              '&lt;object id=\"flash_fallback_1\" class=\"vjs-flash-fallback\" width=\"640\" height=\"480\" type=\"application/x-shockwave-flash\"' +\n                                'data=\"http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf\"&gt;' +\n                                '&lt;param name=\"movie\" value=\"http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf\" /&gt;' +\n                                '&lt;param name=\"allowfullscreen\" value=\"true\" /&gt;' +\n                                '&lt;param name=\"flashvars\" value=\\'config={\"playlist\":[\"' + url + '.png\", {\"url\": \"http://video-js.zencoder.com/oceans-clip.mp4\",\"autoPlay\":false,\"autoBuffering\":true}]}\\' /&gt;' +\n                                '&lt;!-- Image Fallback. Typically the same as the poster image. --&gt;' +\n                                '&lt;img src=\"' + url + '.png\" width=\"632\" height=\"15\" alt=\"Poster Image\"' +\n                                 ' title=\"No video playback capabilities.\" /&gt;' +\n                              '&lt;/object&gt;' +\n                            '&lt;/video&gt;' +\n                            '&lt;/div&gt;&lt;/div&gt;',\n                'onComplete': function () {\n                   $(\"#fancybox-inner\").css({ 'overflow': 'hidden' });\n                   VideoJS.setupAllWhenReady();\n                },\n                'onClosed': function () { $(\"#fancybox-inner\").empty(); }\n            });\n            return false;\n        }); // fancyvideo\n    });\n&lt;/script&gt; \n</code></pre>\n\n<p><strong>Edit:</strong> This plugin might be relevant to use: <a href=\"http://videojs.com/jquery/\" rel=\"nofollow\">http://videojs.com/jquery/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Peter was right about the onComplete. If it's forcing the Flash player, then VideoJS is at least running, whereas it wasn't before if you were seeing the browser's default controls. It only forces the Flash fallback if it doesn't think it can play the file.</p>\n\n<p>VideoJS uses the the \"type\" attribute to check, which it looks like you've removed. Add back in:</p>\n\n<pre><code>type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'\n</code></pre>\n\n<p>to the MP4, and you might see it work. You'll want to add the type back to the other sources as well. Hope that helps.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>I hope you already got the fix. You were missing other formats and <code>type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'</code> tag. It worked for me. :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is what worked for me. You'll have to customize to fit your needs, of course.</p>\n\n<p><strong>Code in head:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n    $(\"a.fancyvideo5\").click(function () {\n        var url = $(this).attr('name');\n        $.fancybox({\n            'padding': 7,\n            'overlayOpacity': 0.7,\n            'autoDimensions': false,\n\n            'content': '&lt;div class=\"video-js-box\"&gt;' +\n                        '&lt;video class=\"video-js\" width=\"635\" height=\"475\" controls preload&gt;' +\n                       '&lt;source src=\"' + url + '\"' + 'type=video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"' + '/&gt; ' +\n                        '&lt;/video&gt;' +\n                        '&lt;/div&gt;',\n            'beforeShow': function () {\n             VideoJS.setupAllWhenReady();\n             },\n\n\n        });\n    }); \n\n\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Image Link:</strong></p>\n\n<pre><code>&lt;a class=\"fancyvideo5\" name=\"video/animation/animation_zemibank.mp4\"&gt;&lt;img src=\"images/misc/spotlight_images/spotlight_animation.png\" width=\"248\" height=\"145\" alt=\"Film\" /&gt;&lt;/a&gt;   \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>&lt;div class=\"video-js-box\"&gt; \n     &lt;!-- Using the Video for Everybody Embed Code http://camendesign.com/code/video_for_everybody --&gt; \n     &lt;!-- Download links provided for devices that can't play video in the browser. --&gt; \n     &lt;p class=\"vjs-no-video\"&gt;\n       &lt;a href=\"video/video-2011-11-27-20-26-40.mp4\"&gt;video&lt;/a&gt;\n     &lt;/p&gt; \n&lt;/div&gt; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was trying for this too and finally had this work for me by using the below approach.</p>\n\n<pre><code>jQuery(document).ready(function(){\n   jQuery(\"a#videolink\").fancybox({\n      frameWidth: 800, \n      frameHeight: 450,\n      overlayShow: true,\n      overlayOpacity: 0.7\n   });\n});\n\n\n&lt;a id=\"videolink\" href=\"#MYID\" title=\"Test Video\"&gt;\n  &lt;img src=\"mp4test.jpg\" width=\"248\" height=\"145\" /&gt;\n&lt;/a&gt;\n\n&lt;div style=\"display:none\"&gt;\n      &lt;video id=\"MYID\" poster=\"mp4test.jpg\" class=\"video-js vjs-default-skin\" \n             controls preload=\"auto\" width=\"300\" height=\"300\" data-setup=\"{}\" &gt;\n        &lt;source src=\"mp4test.mp4\" type='video/mp4'&gt;\n    &lt;/video&gt;\n&lt;/div&gt;  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To write this script in a more simple style, you have to use the beforeLoad property of fancybox. \nIt is in that redefination that you define your content.\nIn my case, the attr element contains the name of the file, thus I can set multiple video format source.</p>\n\n<pre><code>$(\"a.fancybox_video\").fancybox({\n        'padding': 7,\n        'overlayOpacity': 0.7,\n        'autoDimensions': false,\n        'width': 640,\n        'height': 480,\n        'beforeLoad': function() {\n                        this.content = '&lt;video  width=\"640\" height=\"480\" controls=\"controls\"&gt;'+\n                        '&lt;source src=\"' + $(this.element).attr('name') + '.mp4\"  type=\"video/mp4\"&gt;&lt;/source&gt; ' +\n                        '&lt;source src=\"' + $(this.element).attr('name') + '.webm\" type=\"video/webm\"&gt;&lt;/source&gt;' +\n                        'Your browser does not support the HTML 5 video tag'+\n                        '&lt;/video&gt;';\n        },\n        'onComplete': function () { $(\"#fancybox-inner\").css({ 'overflow': 'hidden' }); },\n        'onClosed': function () { $(\"#fancybox-inner\").empty(); }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using JQuery plugins Fancybox and JSVideo, ultimately i want a video to popup via fancybox and have the HTML5 video play in that popup</p>\n\n<p>I have this working - the only problem is that the video controls are not what i expect...it does not have the jsvideo controls..i dont know if its a fancybox or a css thing, or both</p>\n\n<p>The html is simple - its a thumbnail that points to javascript</p>\n\n<pre><code> &lt;a title=\"test\" name=\"test\" href=\"\"javascript:;\" class=\"fancyvideo5\"&gt;&lt;img alt=\"kirk monteux micro-agentur.de grafik design\" src=\"http://www.micro-agentur.com/media/bilder/grafik220.jpg\" /&gt;&lt;/a&gt;     \n</code></pre>\n\n<p>and the javascript looks like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    $(document).ready(function () {\n\n\n        $(\"a.fancyvideo5\").click(function () {\n            var url = $(this).attr('name');\n\n            $.fancybox({\n                'padding': 7,\n                'overlayOpacity': 0.7,\n                'autoDimensions': false,\n                'width': 640,\n                'height': 480,\n                'content': '&lt;div&gt;&lt;div class=\"video-js-box vim-css\"&gt;' +\n                            '&lt;video id=\"example_video_1\" class=\"video-js\" width=\"635\" height=\"475\" controls=\"controls\" preload=\"auto\" poster=\"' + url + '.png\"&gt;' +\n                            '&lt;source src=\"' + url + '.mp4\" /&gt;' +\n                            '&lt;source src=\"' + url + '.webm\" /&gt;' +\n                            '&lt;source src=\"' + url + '.ogv\"  /&gt;' +\n                              '&lt;!-- Flash Fallback. Use any flash video player here. Make sure to keep the vjs-flash-fallback class. --&gt;' +\n                              '&lt;object id=\"flash_fallback_1\" class=\"vjs-flash-fallback\" width=\"640\" height=\"480\" type=\"application/x-shockwave-flash\"' +\n                                'data=\"http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf\"&gt;' +\n                                '&lt;param name=\"movie\" value=\"http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf\" /&gt;' +\n                                '&lt;param name=\"allowfullscreen\" value=\"true\" /&gt;' +\n                                '&lt;param name=\"flashvars\" value=\\'config={\"playlist\":[\"' + url + '.png\", {\"url\": \"http://video-js.zencoder.com/oceans-clip.mp4\",\"autoPlay\":false,\"autoBuffering\":true}]}\\' /&gt;' +\n                                '&lt;!-- Image Fallback. Typically the same as the poster image. --&gt;' +\n                                '&lt;img src=\"' + url + '.png\" width=\"632\" height=\"15\" alt=\"Poster Image\"' +\n                                 ' title=\"No video playback capabilities.\" /&gt;' +\n                              '&lt;/object&gt;' +\n                            '&lt;/video&gt;' +\n                            '&lt;/div&gt;&lt;/div&gt;',\n                'onComplete': function () { $(\"#fancybox-inner\").css({ 'overflow': 'hidden' }); },\n                'onClosed': function () { $(\"#fancybox-inner\").empty(); }\n            });\n            return false;\n        }); // fancyvideo\n\n        VideoJS.setupAllWhenReady();\n    });\n\n&lt;/script&gt;   \n</code></pre>\n\n<p>the name in the html link is just the full path of the file, so i have an mp4 somewhere on the server. </p>\n\n<p>There are controls..but i think its the default HTML5 video controls, and not the jsvideo controls...</p>\n\n<p>If i take fancybox out of it - and just put the jsvideo inline like this</p>\n\n<pre><code>&lt;!-- Begin VideoJS --&gt; \n              &lt;div class=\"video-js-box\"&gt; \n                &lt;!-- Using the Video for Everybody Embed Code http://camendesign.com/code/video_for_everybody --&gt; \n                &lt;video id=\"example_video_1\" class=\"video-js\" width=\"320\" height=\"240\" controls=\"controls\" preload=\"auto\" poster=\"http://video-js.zencoder.com/oceans-clip.png\"&gt; \n                  &lt;source src=\"http://video-js.zencoder.com/oceans-clip.mp4\" type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"' /&gt; \n                  &lt;!-- Flash Fallback. Use any flash video player here. Make sure to keep the vjs-flash-fallback class. --&gt; \n                  &lt;object id=\"flash_fallback_1\" class=\"vjs-flash-fallback\" width=\"640\" height=\"264\" type=\"application/x-shockwave-flash\"\n                    data=\"http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf\"&gt; \n                    &lt;param name=\"movie\" value=\"http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf\" /&gt; \n                    &lt;param name=\"allowfullscreen\" value=\"true\" /&gt; \n                    &lt;param name=\"flashvars\" value='config={\"playlist\":[\"http://video-js.zencoder.com/oceans-clip.png\", {\"url\": \"http://video-js.zencoder.com/oceans-clip.mp4\",\"autoPlay\":false,\"autoBuffering\":true}]}' /&gt; \n                    &lt;!-- Image Fallback. Typically the same as the poster image. --&gt; \n                    &lt;img src=\"http://video-js.zencoder.com/oceans-clip.png\" width=\"640\" height=\"264\" alt=\"Poster Image\"\n                      title=\"No video playback capabilities.\" /&gt; \n                  &lt;/object&gt; \n                &lt;/video&gt; \n                &lt;!-- Download links provided for devices that can't play video in the browser. --&gt; \n                &lt;p class=\"vjs-no-video\"&gt;&lt;strong&gt;Download Video:&lt;/strong&gt; \n                  &lt;a href=\"http://video-js.zencoder.com/oceans-clip.mp4\"&gt;MP4&lt;/a&gt;,\n                  &lt;a href=\"http://video-js.zencoder.com/oceans-clip.webm\"&gt;WebM&lt;/a&gt;,\n                  &lt;a href=\"http://video-js.zencoder.com/oceans-clip.ogv\"&gt;Ogg&lt;/a&gt;&lt;br&gt; \n                  &lt;!-- Support VideoJS by keeping this link. --&gt; \n                  &lt;a href=\"http://videojs.com\"&gt;HTML5 Video Player&lt;/a&gt; by VideoJS\n                &lt;/p&gt; \n              &lt;/div&gt; \n              &lt;!-- End VideoJS --&gt;\n</code></pre>\n\n<p>Video with proper controls come in - is it because im trying to stuff a  into the fancybox content?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1366194892,
            "question_id": 4271765,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "fancybox",
                "html5-video"
            ],
            "title": "Fancybox popup + JSVideo HTML5 Video - Why do i lose my controls?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>When the user arrives, determine their browser type - mobile or full - and set a cookie with this value.  Use this cookie value to decide what version of the site to display.  AS you mention, offer a link to the \"full\" site to the mobile users, but if they click it, run a quick script to update the cookie to the \"full\" value and then redirect them to the full site.  Their cookie is now set for the full site, so they won't get bounced back to the mobile site.</p>\n\n<p>Now, if cookie are a problem, you could use something like PHP to set a session values to maintain the full/mobile status of the session, but that's probably getting beyond the scope of the original question.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The Query String is the way to go ( as the others have said above). Looking at Facebook, if you click on the 'full site' link on the mobile site, it redirects to www.facebook.com/login.php?m2w  - the m2w is probably MobileToWeb and this will prevent the site redirecting the user to the mobile site.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I have a script that detects whether you're an iPhone user or not and redirects to a more iPhone friendly page. </p>\n\n<pre><code>&lt;script  type=\"text/javascript\"&gt;\n    if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i))) \n    {\n        location.replace(\"http://domain.com/iphone/\");\n    }\n&lt;/script&gt; \n</code></pre>\n\n<p>This works great but has one problem. It is convention to offer the user the ability to view the <em>full</em> web page.  However, if I link to the root, obviously the redirect is going to send them to the mobile version!</p>\n\n<p>Any ideas on how to include if click on the link from <code>/iphone/</code>, they can go to <code>/</code> and stay there.</p>\n",
            "last_activity_date": 1326677904,
            "question_id": 4181466,
            "score": 5,
            "tags": [
                "javascript",
                "iphone",
                "redirect",
                "mobile-website"
            ],
            "title": "View full website, not mobile version on iPhone"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This might answer your question:\n<a href=\"http://stackoverflow.com/questions/822452/strip-html-from-text-javascript\">http://stackoverflow.com/questions/822452/strip-html-from-text-javascript</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Three steps. </p>\n\n<pre><code>First get the html as a string.\nSecond, replace all &lt;BR /&gt; and &lt;BR&gt; with \\r\\n.\nThird, use the regular expression \"&lt;(.|\\n)*?&gt;\" to replace all markup with \"\".\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I tried to find some code I wrote for this a while back that I used. It worked nicely. Let me outline what it did, and hopefully you could duplicate its behavior.</p>\n\n<ul>\n<li>Replace images with alt or title text.</li>\n<li>Replace links with \"text[link]\"</li>\n<li>Replace things that generally produce vertical white space. h1-h6, div, p, br, hr, etc. (I know, I know. These could actually be inline elements, but it works out well.)</li>\n<li>Strip out the rest of the tags and replace with an empty string.</li>\n</ul>\n\n<p>You could even expand this more to format things like ordered and unordered lists. It really just depends on how far you'll want to go.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Found the code!</p>\n\n<pre><code>public static string Convert(string template)\n{\n    template = Regex.Replace(template, \"&lt;img .*?alt=[\\\"']?([^\\\"']*)[\\\"']?.*?/?&gt;\", \"$1\"); /* Use image alt text. */\n    template = Regex.Replace(template, \"&lt;a .*?href=[\\\"']?([^\\\"']*)[\\\"']?.*?&gt;(.*)&lt;/a&gt;\", \"$2 [$1]\"); /* Convert links to something useful */\n    template = Regex.Replace(template, \"&lt;(/p|/div|/h\\\\d|br)\\\\w?/?&gt;\", \"\\n\"); /* Let's try to keep vertical whitespace intact. */\n    template = Regex.Replace(template, \"&lt;[A-Za-z/][^&lt;&gt;]*&gt;\", \"\"); /* Remove the rest of the tags. */\n\n    return template;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If that HTML is visible within your web page, you could do it with the user selection (or just a <code>TextRange</code> in IE). This does preserve line breaks, if not necessarily leading and trailing white space.</p>\n\n<p><strong>UPDATE 10 December 2012</strong></p>\n\n<p>However, the <code>toString()</code> method of <code>Selection</code> objects is <a href=\"http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#dom-selection-stringifier\" rel=\"nofollow\">not yet standardized</a> and works inconsistently between browsers, so this approach is based on shaky ground and I probably wouldn't recommend it now.</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/wv49v/\" rel=\"nofollow\">http://jsfiddle.net/wv49v/</a></p>\n\n<p>Code:</p>\n\n<pre><code>function getInnerText(el) {\n    var sel, range, innerText = \"\";\n    if (typeof document.selection != \"undefined\" &amp;&amp; typeof document.body.createTextRange != \"undefined\") {\n        range = document.body.createTextRange();\n        range.moveToElementText(el);\n        innerText = range.text;\n    } else if (typeof window.getSelection != \"undefined\" &amp;&amp; typeof document.createRange != \"undefined\") {\n        sel = window.getSelection();\n        sel.selectAllChildren(el);\n        innerText = \"\" + sel;\n        sel.removeAllRanges();\n    }\n    return innerText;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>Basically I just need the effect of copying that HTML from browser window and pasting it in a textarea element.</p>\n\n<p>For example I want this:</p>\n\n<pre><code>&lt;p&gt;Some&lt;/p&gt;\n&lt;div&gt;text&lt;br /&gt;Some&lt;/div&gt;\n&lt;div&gt;text&lt;/div&gt;\n</code></pre>\n\n<p>to become this:</p>\n\n<pre><code>Some\ntext\nSome\ntext\n</code></pre>\n",
            "last_activity_date": 1355131960,
            "question_id": 3813167,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "plaintext"
            ],
            "title": "What is the most convenient way to convert HTML to plain text while preserving line breaks (with JavaScript)?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Your best best bet is to invoke the iframe ASlONG as its part of your domain.</p>\n\n<p>iframe.html</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script&gt;\n            window.MyMethod = function()\n            {\n                $('p').click();\n            }\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And then use</p>\n\n<pre><code>document.getElementById('targetFrame').contentWindow.MyMethod();\n</code></pre>\n\n<p>To invoke that function.</p>\n\n<p>another way is to access the iframe via <code>wnidow.frames</code>.</p>\n\n<pre><code>&lt;iframe name=\"myIframe\" src=\"iframe.html\"/&gt;\n</code></pre>\n\n<p>and the javascript</p>\n\n<pre><code>child_frame = window.frames['myIframe'].document;\n$('p',child_frame).click(function(){\n    alert('This click as bound via the parent frame')\n});\n</code></pre>\n\n<p>That should work fine.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>By giving a reference to the IFrame document as the second parameter to jQuery, which is the context:</p>\n\n<pre><code>jQuery(\"p\", document.frames[\"oframe\"].document).click(...);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There's a special jQuery function that does that: <a href=\"http://api.jquery.com/contents/\"><code>.contents()</code></a>. See the example for how it's works.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>How to add a click event to <code>&lt;p&gt;</code> elements in iframe (using jQuery)</p>\n\n<pre><code>&lt;iframe frameborder=\"0\" id=\"oframe\" src=\"iframe.html\" width=\"100%\" name=\"oframe\"&gt;\n</code></pre>\n",
            "last_activity_date": 1284469657,
            "question_id": 3708969,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "iframe"
            ],
            "title": "How to add a click event to p elements in iframe (using jQuery)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Not possible, but if you set the contents of a separate var to the time you set it, you can easily figure it out manually.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can't get directly the timer remaining seconds. \nYou can save in a variable the timestamp when the timer is created and use it to calculate the time to the next execution.</p>\n\n<p><strong>Sample:</strong></p>\n\n<pre><code>var startTimeMS = 0;  // EPOCH Time of event count started\nvar timerId;          // Current timer handler\nvar timerStep=5000;   // Time beetwen calls\n\n// This function starts the timer\nfunction startTimer(){\n   startTimeMS = (new Date()).getTime();\n   timerId = setTimeout(\"eventRaised\",timerStep);\n}\n\n\n// This function raises the event when the time has reached and\n// Starts a new timer to execute the opeartio again in the defined time\nfunction eventRaised(){\n\n  alert('WOP EVENT RAISED!');\n\n  clearTimer(timerId); // clear timer\n  startTimer(); // do again\n}\n\n// Gets the number of ms remaining to execute the eventRaised Function\nfunction getRemainingTime(){\n    return  timerStep - ( (new Date()).getTime() - startTimeMS );\n}\n</code></pre>\n\n<ul>\n<li>This is custom sample code created \"on the fly\".</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3144711/javascript-find-the-time-left-in-a-settimeout\">Javascript: find the time left in a setTimeout()?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm trying to use <code>setTimeout()</code> as a way of pausing a series of events in JS.<br>\nHere's an example of what I'm doing and what I'd like to do in comments - <a href=\"http://jsfiddle.net/8m5Ww/2/\" rel=\"nofollow\">http://jsfiddle.net/8m5Ww/2/</a></p>\n\n<p>Any suggestions how I can populate <code>var timeRemaining</code> with the total milliseconds remaining in <code>var a</code>?</p>\n",
            "last_activity_date": 1303219329,
            "question_id": 3700200,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "How to find the remaining time of a setTimeout()"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>From the new text of of the application developer agreement, regarding downloading executable code:</p>\n\n<blockquote>\n  <p>The only exception to the foregoing is scripts and code downloaded and run by Apple's built-in WebKit framework.</p>\n</blockquote>\n\n<p>This includes javascript and hybrid applications, so you should be fine.</p>\n\n<p>Although, taking all of this into account, why didn't you just allow your app to take advantage of the iPhone webapp stuff? You still get an icon on the home screen, and get rid of the browser chrome without having to get Apple to approve your app.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have an hybrid application, it's basically a website running from the application folder inside a UIWebview.</p>\n\n<p>The problem is that I was planning to update my website by downloading the whole website from internet and then replacing the old website.</p>\n\n<p>Today I found that Apple now provides the App Store Review Guidelines and among others there are the following rules:</p>\n\n<blockquote>\n  <p>2.7 Apps that download code in any way or form will be rejected</p>\n  \n  <p>2.8 Apps that install or launch other executable code will be rejected</p>\n</blockquote>\n\n<p>Because my site has html, css and javascript, does that mean that my app will be rejected or is there any chance to be accepted?\nWhat are your thoughts on that?</p>\n",
            "last_activity_date": 1284044635,
            "question_id": 3677632,
            "score": 5,
            "tags": [
                "javascript",
                "iphone",
                "itunesconnect",
                "appstore-approval"
            ],
            "title": "Is it permited to download javascript code to iPhone"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>See the following pages, they will answer your quetions:</p>\n\n<p><a href=\"http://help.dottoro.com/ljlkwans.php\" rel=\"nofollow\">onkeydown event</a>,\n<a href=\"http://help.dottoro.com/ljlwfxum.php\" rel=\"nofollow\">onkeypress event</a>,\n<a href=\"http://help.dottoro.com/ljqqripa.php\" rel=\"nofollow\">keyCode property</a>,\n<a href=\"http://help.dottoro.com/ljvpenpg.php\" rel=\"nofollow\">charCode property</a>,\n<a href=\"http://help.dottoro.com/ljkbdgri.php\" rel=\"nofollow\">which property</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>The following article by Jan Wolter has never failed me and is far and away the best resource on browser key events I've seen: <a href=\"http://unixpapa.com/js/key.html\" rel=\"nofollow\">http://unixpapa.com/js/key.html</a>. It answers all the questions you posed.</p>\n\n<p>One thing to emphasize is that with careful use of the key event properties at your disposal you will <strong>almost certainly never</strong> need to sniff for a particular browser in your key handling code.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm working on key handling in java script. I have done some research and I'd like to know whether I have a correct understanding of key handling.</p>\n\n<p><strong>KeyDown/KeyUp Event</strong>\nThe key down and key up events are supported by IE7+ and Firefox 3.5+ I didn't check the earlier versions of the browsers, but I guess that they also support these events.</p>\n\n<p>Is it correct to say that each key on the keyboard will always have a keycode.</p>\n\n<p><strong>CharCode</strong></p>\n\n<p>CharCode value is available on the keypress.Majority of the keys will have the charcodes that represent the actual value. Some keys won't have a charcode associated with them. E.g. backspace, delete, arrow keys. </p>\n\n<p>Am I correct to say that on the keypress the charcode will be the same as the keycode?</p>\n\n<p><strong>Order of the events</strong></p>\n\n<ul>\n<li>KeyDown</li>\n<li>KeyPress</li>\n<li>KeyUp</li>\n</ul>\n\n<p>Does this order differ from browser to browser? For example I have two functions. First is bound to KeyDown event, second is bound to the KeyPress event. Calling a KeyPress event means that the KeyDown event will also be called, when I want only one of these events to work.</p>\n\n<p>Finally I have been considering on using different key handling routines depending on the version browser. For example:</p>\n\n<ul>\n<li>Check browser version</li>\n<li>Get key handling routine depending on the browser version</li>\n</ul>\n\n<p>This will introduce additional code, but should simplify the maintenance. Also, in the future, when I want to provide a support for a different browser, I can simply add another routine and it won't affect existing character handling routine.</p>\n\n<p>So far I have been reading <a href=\"http://www.quirksmode.org\">http://www.quirksmode.org</a> </p>\n",
            "last_activity_date": 1281727953,
            "question_id": 3476000,
            "score": 5,
            "tags": [
                "javascript",
                "javascript-events",
                "cross-browser",
                "onkeypress",
                "onkeydown"
            ],
            "title": "JavaScript key handling and browser compatibility"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Both are poor choices. Presentation shouldn't mix with content. That means no <code>javascript:</code> URIs, and definitely no <code>onclick</code> attributes.</p>\n\n<p>The way to do it:</p>\n\n<pre>&lt;a id=\"myLink\"&gt;Something&lt;/a&gt;\n&lt;script&gt;\n    function myFunction(...) { ... }\n    document.getElementById('myLink').addEventListener('click', myFunction, false);\n&lt;/script&gt;</pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Neither. If your link doesn't go anywhere, don't use an <code>&lt;a&gt;</code> element. Use a <code>&lt;span&gt;</code> or something else appropriate and add CSS to style it as you wish.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>There is a javascript-based interface - so I need not to support work without javascript.</p>\n\n<p>I have an </p>\n\n<pre><code>&lt;a&gt;Something&lt;/a&gt;\n</code></pre>\n\n<p>elements with JS code, which binds on click event - so, I don't want page reload after user's click.</p>\n\n<p>Which way is better?</p>\n\n<pre><code>1. &lt;a href=\"javascript:void(0)\"&gt;Something&lt;/a&gt;\n2. &lt;a href=\"#\" onclick=\"return false;\"&gt;Something&lt;/a&gt;\n</code></pre>\n\n<p>What advantages and disadvantages of each method?</p>\n",
            "last_activity_date": 1281642093,
            "question_id": 3465750,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "javascript:void(0) or onclick=&quot;return false&quot; for &lt;a&gt; - which is better?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>AJAX doesn't support cross domain scripting. all calls need to be to a URL with the same domain as the one of the current document.\na good solution would be to build a proxy service on the server side, that will take the local\nrequest, make an HTTP call to the couchDB server, and return it's response.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The problem here is, that your browser doesn't allow you to make a query on an other web server than the one where you're script originates. (Google for: Same Origin Policy)</p>\n\n<p>But there is a kind of a common technique which is a workaround for this use case. It's called <a href=\"http://en.wikipedia.org/wiki/JSON#JSONP\">JSONP</a>. Since version 1.0 you have to activate this functionality first in CouchDB. In the section [httpd] of your CouchDB configuration file (.ini) you have to add an</p>\n\n<blockquote>\n  <p>allow_jsonp = true</p>\n</blockquote>\n\n<p>After this is done you can produce JSONP queries on your CouchDB. Basically adding dynamically lines like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" \n     src=\"http://server2.example.com/getjson?callback=parseResponse\"&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>But for details refer to the article linked above.</p>\n\n<p>Anyway I propose on the JavaScript side of things to use a Framework as jQuery, DojoToolKit, ect. In jQuery e.g. it is enough to add \"?callback=?\" at the end of the URL.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>i've got a little problem with AJAX, CouchDB and JavaScript.</p>\n\n<p>I can open the following URL from CouchDB in my browser: <a href=\"http://192.168.1.58:5984/mydb/name\" rel=\"nofollow\">http://192.168.1.58:5984/mydb/name</a></p>\n\n<pre><code>new Ajax.Request('http://192.168.1.58:5984/mydb/namee', {\n  method: 'POST',\n  onComplete: function(transport) {\n   alert(transport.responseText);\n  }\n });\n</code></pre>\n\n<p>I always get empty alert.</p>\n\n<p>Can you help me?</p>\n",
            "last_activity_date": 1325105035,
            "question_id": 3386679,
            "score": 5,
            "tags": [
                "javascript",
                "ajax",
                "couchdb",
                "prototypejs"
            ],
            "title": "Connection AJAX, CouchDB and JavaScript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>In javascript, you could use <code>f['type[]']</code> instead of <code>f.type</code>.\nIt's only php that changes [] to array.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>PHP has an unusual system for handling multiple form controls with the same name, it expects the names to include <code>[]</code> but it doesn't use them in the variable name.</p>\n\n<p>JavaScript doesn't have that issue. The property will still have the brackets.</p>\n\n<p>Of course, square brackets have special meaning in JS, so you can't use dot notation to access the property.</p>\n\n<pre><code>f['type[]'][i].checked\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Of course, you can also put a 'key' in between the square brackets, too (ie. give each field an actual unique name). Something like 'type[1]', 'type[2]' and 'type[3]'. PHP still throws it into an array (keyed by those numbers) and JS could access them, too.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can always use <code>document.getElementsByName()</code> because it takes a string as argument.</p>\n\n<p>Like this:</p>\n\n<pre><code>var f = document.getElementsByName(\"type[]\");\nfor (var i=0; i &lt; f.length; i++){\n    if(f[i].checked == true){\n        break;\n    }\n    if(i == (f.length-1)){\n        alert(\"No categories entered!\");\n        valid=false;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>i have a form with checkboxes like this:</p>\n\n<pre><code>    &lt;input type=\"checkbox\" name=\"type[]\" value=\"1\" /&gt;Fast Food&lt;br&gt;\n    &lt;input type=\"checkbox\" name=\"type[]\" value=\"2\" /&gt;Table Service&lt;br&gt;\n    &lt;input type=\"checkbox\" name=\"type[]\" value=\"3\" /&gt;Cafeteria&lt;br&gt;\n</code></pre>\n\n<p>when i use the brackets in the name (type[]), my php works:</p>\n\n<pre><code>    $type=$_POST['type'];\n\n    echo \"types are:\";\nfor ( $counter = 0; $counter &lt; sizeof($type); $counter += 1) {\n    echo \"&lt;br&gt;\".$type[$counter];\n}\n</code></pre>\n\n<p>but my javascript doesn't work:</p>\n\n<pre><code>    var f = document.addform;\n    for (var i=0;i&lt;f.type.length;i++){\n        if(f.type[i].checked==true){\n            break;\n        }\n        if(i==(f.type.length-1)){\n            alert(\"No categories entered!\");\n            valid=false;\n        }\n    }\n</code></pre>\n\n<p>however, if i take away the brackets:</p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"type\" value=\"1\" /&gt;Fast Food&lt;br&gt;\n</code></pre>\n\n<p>then the PHP doesn't work but the javascript does.</p>\n\n<p>what's going on here? what should i use?</p>\n\n<p>thanks.</p>\n",
            "last_activity_date": 1357732945,
            "question_id": 3207469,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "forms",
                "checkbox",
                "brackets"
            ],
            "title": "use brackets in checkbox name when using php and javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>e</code> in that example is the event object (<a href=\"http://api.jquery.com/category/events/event-object/\" rel=\"nofollow\">link to docs</a>) for the click event. As with any function argument, you can use any name you want. If you don't need to do anything with it (for instance, if you don't need to call <code>stopPropagation</code>), you can leave it off entirely.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It is event object.</p>\n\n<p><a href=\"http://api.jquery.com/category/events/event-object/\" rel=\"nofollow\">http://api.jquery.com/category/events/event-object/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>e</code> is the <a href=\"http://api.jquery.com/category/events/event-object/\" rel=\"nofollow\">event object</a> that the handler receives. You need not use \"e\" specifically as the variable name, you can call it anything you want (as long as it's not any number of keywords!), many call it <code>event</code> for example.</p>\n\n<p><strong>Yes</strong>, you <em>can</em> do without it, since it's the first argument, <code>arguments[0]</code> also works, but I wouldn't go that route. <a href=\"http://jsfiddle.net/f8n8y/\" rel=\"nofollow\">You can see this working here</a>, but again I would just use the argument declared like it is currently so it's very explicit.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>e, in this context, is the event object raised by the click event. It will work perfectly well without it (albeit, in your example you will be unable to stopPropagation):</p>\n\n<pre><code>$(\"#new_lang\").click(function() \n{\n  alert(\"something\");\n});\n</code></pre>\n\n<p>You can also substitute any name for e, as you would with any function param</p>\n\n<pre><code>$(\"#new_lang\").click(function(eventObj) \n{\n  alert(\"something\");\n  eventObj.stopPropagation();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Again from <a href=\"http://api.jquery.com/bind/\" rel=\"nofollow\">http://api.jquery.com/bind/</a> as linked on the previous question:</p>\n\n<blockquote>\n  <p>The handler callback function can also\n  take parameters. When the function is\n  called, the JavaScript event object\n  will be passed to the first parameter.</p>\n  \n  <p>The event object is often unnecessary\n  and the parameter omitted, as\n  sufficient context is usually\n  available when the handler is bound to\n  know exactly what needs to be done\n  when the handler is triggered.\n  However, at times it becomes necessary\n  to gather more information about the\n  user's environment at the time the\n  event was initiated.</p>\n</blockquote>\n\n<p>There is a lot of useful info on that page. :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>just now i ask a question, and it creates a new question.</p>\n\n<p>for example, when i wrote</p>\n\n<pre><code>$(\"#new_lang\").click(function(e) \n{\n  alert(\"something\");\n  e.stopPropagation();\n});\n</code></pre>\n\n<p>who is <strong>e</strong> here, and why it doesn't work without it?\nwhy can i write anything instead of e?</p>\n\n<p>Thansk</p>\n",
            "last_activity_date": 1277897880,
            "question_id": 3148728,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "function(e){e.something...} who is e?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can try writing another :hover rule that activates when the parent has a particular class, in effect negating the existing hover rule. The class on the parent would need to be added on touchend and removed on touchstart, so that the default rule could take effect on the next link clicked or touched.</p>\n\n<p>I just solved a similar problem where I want hover styling for list items, but since the parent can scroll with one finger using iscroll, I need to cancel that hover effect as soon as the scroll list moves. It's using jQuery, but you get the idea:</p>\n\n<pre><code>$('ul.scroll').bind('touchmove', function(e) {\n    $(this).addClass('moving');\n});\n$('ul.scroll').bind('touchstart', function(e) {\n    $(this).removeClass('moving');\n});\n</code></pre>\n\n<p>here are my style rules:</p>\n\n<pre><code>ul.scroll li:hover {\n    background-color: #D1E8DA;\n}\nul.scroll.moving li:hover {\n    background-color: #EFEFEF;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The problem is that when you replace the content in place, Mobile Safari treats the new elements as if they were the old ones, because they occupy the same position in the DOM. One workaround is to remove the old elements first, then add the new elements asynchronously. The simplest way to do this is using <code>setTimeout()</code>.</p>\n\n<p><a href=\"http://jsfiddle.net/chad/JNZvu/10/\" rel=\"nofollow\">http://jsfiddle.net/chad/JNZvu/10/</a></p>\n\n<pre><code>// When we click on an answer\n$('body').on('click', '.answer', function(){\n  // don't follow it's link\n  event.preventDefault();\n   // fade out the container\n  $('.container').fadeOut(function(){\n    // remove old elements (happens after fadeOut because we are in the callback)\n    $('.container').html('');\n    // add new elements asynchronously and fade container back in.\n    setTimeout( '$(\\'.container\\').html(\\'&lt;a class=\"answer\" href=\"#c\"&gt;link 3&lt;/a&gt;&lt;a class=\"answer\" href=\"#d\"&gt;link 4&lt;/a&gt;\\');$(\\'.container\\').fadeIn();', 0);\n  });\n});\n</code></pre>\n\n<p>When doing this for real, the fadeOut would be called at the same time as the AJAX function, and then the removal/addition would happen in the AJAX callback.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>After you click a link on the iphone or ipad, it leaves a simulated mouse hover that triggers the <code>a:hover</code> css styling on that link. If the link has a javascript handler that keeps you on same page, the hover state will not change until you click on another link.</p>\n\n<p>This gets weird if you have an ajax widget that asks questions and each answer is link. When you touch one of the answers, it highlights with the hover state, and then when the question and answers are replaced (using javascript) by a new question and answers, the new answer that appears in the same position as the prior answer has its hover state automatically triggered. <em>I want to prevent that from happening to the new answer link</em>.</p>\n\n<p>Is there any way (maybe some something in javascript) that can give me the same result as the \"hover\" no longer being above this element?</p>\n\n<p>Notes:</p>\n\n<ul>\n<li>I know I could just have <code>a:hover</code> use the same css styling as <code>a</code>, but <code>a:active</code> styling is hardly noticeable since the active state of a touch click is so brief, so I'm hoping for something that can show the hover state on a link until I replace it with new html</li>\n<li>I have tried a variety of approaches in javascript, like calling \"blur()\" on the dom element and some other stuff, but no luck\u2014I'm starting to think that the best solution is to apply classes to the links on javascript events to manage the hover state myself (or just leave it as it is)</li>\n</ul>\n",
            "last_activity_date": 1356863417,
            "question_id": 3120497,
            "score": 5,
            "tags": [
                "javascript",
                "iphone",
                "css",
                "ipad",
                "mouseevent"
            ],
            "title": "Safari iphone/ipad &quot;mouse hover&quot; on new link after prior one is replaced with javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This is what AJAX is for.\nIn jQuery (apologies if you're looking for a different library)</p>\n\n<pre><code>$(\"form#search\").bind('submit',function() {\n  $.post(\"search.php\",this.serialize(),function(data) { \n    // Put the code to deal with the response data here\n  });\n  return false;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You'll probably want to start with any of the thousands of \"AJAX for beginners\" tutorials you can find on the net.  A Google search with that term should get you going.</p>\n\n<p>Try this for starters:</p>\n\n<p><a href=\"http://www.destraynor.com/serendipity/index.php?/archives/29-AJAX-for-the-beginner.html\" rel=\"nofollow\">http://www.destraynor.com/serendipity/index.php?/archives/29-AJAX-for-the-beginner.html</a></p>\n\n<p>After you've read through that, keep in mind that you really don't need to be writing any XHR handling code.  As pointed out by Jamie, jQuery or any of the other multitudes of Javascript libraries out there, can greatly simplify your client-side AJAX code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's good if you can get some basics of Ajax before straight away going to the code. \nAjax , is the exact solution for your problem. It asynchronously makes a request to the server, get the result and the data in the page can be modified with the result . It's all done in JavaScript.</p>\n\n<p>Suppose you have an html like this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;div id=\"myDiv\"&gt; your content area&lt;/div&gt;\n&lt;button type=\"button\" onclick=\"loadByAjax()\"&gt;Change Content&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>Now, your javascipr code will be like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction loadByAjax()\n{\n     $.ajax({\n          type: \"POST\",\n          url: \"yourserverpage.php\",\n          data: \"searchkey=data_from_user_input\",\n          success: function(response_data){\n          $('myDiv').html(response_data)\n          }\n          });\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>so, basically upon click of the button, the JavaScript will be executed. It wil call the php serverside script, pass the parameters it got from user input and retrieve the response data and place it inside the div.\nSo your page is updated without full refresh.</p>\n\n<p>Also, please understand that, i used jquery library here for the Ajax function.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In order to submit a form, collect the results from the database and present them to the user without a page refresh, redirect or reloading, you need to:</p>\n\n<ol>\n<li><p>Use Ajax to Post the data from your form to a php file;</p></li>\n<li><p>That file in background will query the database and obtain the results for the data that he as received;</p></li>\n<li><p>With the query result, you will need to inject it inside an html element in your page that is ready to present the results to the user;</p></li>\n<li><p>At last, you need to set some controlling stuff to let styles and document workflow run smoothly.</p></li>\n</ol>\n\n<hr>\n\n<h3>So, having said that, here's an working example:</h3>\n\n<p>We have a table \"persons\" with a field \"age\" and a field \"name\" and we are going to search for persons with an age of 32. Next we will present their names and age inside a <code>div</code> with a <code>table</code> with pink background and a very large text.<br>\nTo properly test this, we will have an header, body and footer with gray colors!</p>\n\n<p><strong>index.php</strong></p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n\n&lt;html lang=\"pt\" dir=\"ltr\"&gt;\n\n  &lt;head&gt;\n\n    &lt;title&gt;Search And Show Without Refresh&lt;/title&gt;\n\n    &lt;meta HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html; charset=ISO-8859-1\"&gt;\n    &lt;meta http-equiv=\"Content-Style-Type\" content=\"text/css\"&gt;\n\n    &lt;!-- JQUERY FROM GOOGLE API --&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n      $(function() {\n        $(\"#lets_search\").bind('submit',function() {\n          var value = $('#str').val();\n           $.post('db_query.php',{value:value}, function(data){\n             $(\"#search_results\").html(data);\n           });\n           return false;\n        });\n      });\n    &lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;body style=\"margin:0;padding:0px;width:100%;height:100%;background-color:#FFFFFF;\"&gt;\n\n    &lt;div style=\"width:1024px;margin:0 auto;height:100px;background-color:#f0f0f0;text-align:center;\"&gt;\n      HEADER\n    &lt;/div&gt;\n    &lt;div style=\"width:1024px;margin:0 auto;height:568px;background-color:#f0f0f0;text-align:center;\"&gt;\n      &lt;form id=\"lets_search\" action=\"\" style=\"width:400px;margin:0 auto;text-align:left;\"&gt;\n        Search:&lt;input type=\"text\" name=\"str\" id=\"str\"&gt;\n        &lt;input type=\"submit\" value=\"send\" name=\"send\" id=\"send\"&gt;\n      &lt;/form&gt;\n      &lt;div id=\"search_results\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div style=\"width:1024px;margin:0 auto;height:100px;background-color:#f0f0f0;text-align:center;\"&gt;\n      FOOTER\n    &lt;/div&gt;\n\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>db_query.php</strong></p>\n\n<pre><code>&lt;?php\n\ndefine(\"HOST\", \"localhost\");\n\n// Database user\ndefine(\"DBUSER\", \"username\");\n\n// Database password\ndefine(\"PASS\", \"password\");\n\n// Database name\ndefine(\"DB\", \"database_name\");\n\n// Database Error - User Message\ndefine(\"DB_MSG_ERROR\", 'Could not connect!&lt;br /&gt;Please contact the site\\'s administrator.');\n\n############## Make the mysql connection ###########\n\n$conn = mysql_connect(HOST, DBUSER, PASS) or die(DB_MSG_ERROR);\n\n$db = mysql_select_db(DB) or die(DB_MSG_ERROR);\n\n\n$query = mysql_query(\"\n  SELECT * \n  FROM persons \n  WHERE age='\".$_POST['value'].\"'\n\");\n\necho '&lt;table&gt;';\n\nwhile ($data = mysql_fetch_array($query)) {\n\n  echo '\n  &lt;tr style=\"background-color:pink;\"&gt;\n    &lt;td style=\"font-size:18px;\"&gt;'.$data[\"name\"].'&lt;/td&gt;\n    &lt;td style=\"font-size:18px;\"&gt;'.$data[\"age\"].'&lt;/td&gt;\n  &lt;/tr&gt;';\n\n}\n\necho '&lt;/table&gt;';\n\n?&gt;\n</code></pre>\n\n<p>The controlling stuff depends from what you want, but use that code, place those two files in the same directory, and you should be fine!</p>\n\n<p>Any problems or a more explicative code, please let us know ;)</p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>I want to <strong>submit search query</strong> form &amp; get <strong>search result</strong> without <strong>redirecting/reloading/refreshing</strong> on the <strong>same page</strong>.</p>\n\n<p>My content is <strong>dynamic</strong> so can not use those \"<strong>submit contact form without refreshing page which replies back on success</strong>\"</p>\n\n<p>I am newbie, help would be appreciated.</p>\n\n<p><strong>Thanks.</strong></p>\n",
            "last_activity_date": 1357912262,
            "question_id": 3074380,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "jquery"
            ],
            "title": "Submit Search query &amp; get Search result without refresh"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Could you provide some more code for how you are storing the keys? It works for me on Safari - <a href=\"http://jsfiddle.net/pvRgH/\" rel=\"nofollow\">http://jsfiddle.net/pvRgH/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Storage event handlers only fire if the storage event is triggered from another window.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3562929/how-can-i-get-an-event-to-fire-every-time-localstorage-is-updated-in-safari-5\">How can I get an event to fire every time localStorage is updated in Safari 5+?</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>the 'storage' event occurred by the other tab in the browser. When you change the storage in one page and addEventLister also in this page , the window can not catch the message.</p>\n\n<p>for example</p>\n\n<p>You have two page,\npageOne change the storage , pageTwo will catch the 'storage' message and handle this, but pageOne couldn't catch the message.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using safari webkit's engine together with HTML5 and JS to create an offline application now I'm using the sessionStorage array to store status of my application(simulation).</p>\n\n<p>the storage data works fine with the inspector the functions work fine it's the event handler that isn't responding</p>\n\n<p>the test preformd by <code>Anurag</code> at <a href=\"http://jsfiddle.net/pvRgH/\">http://jsfiddle.net/pvRgH/</a> also doesn't work here</p>\n\n<pre><code>window.addEventListener('storage', storageEventHandler, false);\nfunction storageEventHandler(evt){\n    alert(\"storage event called key: \" + evt.key );\n    switch(evt.key){\n        case 'bat1':\n        case 'bat2': batteryDCMeter(); break;\n        case 'extPowerOn': rechargeBattery(); break;\n    }   \n}\n\nfunction load()\n{\n    dashcode.setupParts();\n    //set HTML 5 key/value's\n    sessionStorage.setItem('bat1', 'OFF');\n    sessionStorage.setItem('bat2', 'OFF');\n    sessionStorage.setItem('bat1DC', '26.2');\n    sessionStorage.setItem('bat2DC', '26.2');\n}\n\nfunction bat1OnOff(event)\n{\n    if(sessionStorage['bat1'] == 'OFF'){\n        sessionStorage['bat1'] = 'ON';\n    }else{\n        sessionStorage['bat1'] = \"OFF\";\n    }\n}\n\n\nfunction bat2OnOff(event)\n{\n    if(sessionStorage['bat2'] == 'OFF'){\n        sessionStorage['bat2'] = 'ON';\n    }else{\n        sessionStorage['bat2'] = \"OFF\";\n    }\n}\n</code></pre>\n",
            "last_activity_date": 1395973880,
            "question_id": 3055013,
            "score": 5,
            "tags": [
                "javascript",
                "javascript-events",
                "html5",
                "event-handling",
                "addeventlistener"
            ],
            "title": "HTML5 / JS storage event handler"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Glancing at the jQuery documentation I'm not seeing anything that specifically for this. But you can easily do this with just a regular javascript object:</p>\n\n<pre><code>var starSaves = {};\nfunction myHover(id, pos)\n{\n    var starStrip = $('star_strip_' + id);    \n    if (typeof starSaves[id] == 'undefined')\n    {\n        var starSave = new Array();\n        var imgs = starStrip.select(\"img\")\n        alert(imgs);\n        for (var i = 0; i &lt; imgs.length; i++)\n        {\n            starSave[starSave.length] = imgs[i].src;\n            if (i &lt; pos)\n                imgs[i].src = \"/images/star_1.gif\";\n            else\n                imgs[i].src = \"/images/star_0.gif\";\n\n        }\n        starSaves[id] = starSave;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A basic <code>Hash</code> can be achieved with basic JavaScript, not jQuery (I know that Prototype's Hash adds extra functionality, but you don't use it here).</p>\n\n<pre><code>var starSaves = {};\n\nfunction myHover(id, pos)\n{\n    if (!starSaves.hasOwnProperty(id)) {\n        var starSave = starSaves[id] = [];\n\n        $('#star_strip_' + id + ' img').attr('src', function (index, current) {\n           starSave.push(current);\n\n           return (index &lt; pos) ? '/images/star_1.gif' : '/images/star_0.gif';\n        });        \n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is no prototype Hash equivalent in jQuery that I know of.</p>\n\n<p>Could the following be of any use to you? <em>using jQuery</em></p>\n\n<pre><code>var starSaves = {};\n\nfunction myHover(id,pos)\n{\n    var starStrip = $('.star_strip_' + id);\n    if(!starSaves[id])\n    {\n        var starSave = [];\n        starStrip.each(function(index,element){\n            starSave[index] = $(element).attr('src');\n            $(element).attr('src', index &lt; pos ? '/images/star_1.gif' : '/images/star_0.gif');\n        });\n        starSaves[id] = starSave;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There's a standalone hash table implementation called <a href=\"http://code.google.com/p/jshashtable/\" rel=\"nofollow\">jshashtable</a> (full disclosure: I wrote it). Using it, your code would be:</p>\n\n<pre><code>var starSaves = new Hashtable();\n\nfunction myHover(id, pos)\n{\n    var starStrip = $('star_strip_' + id);\n    if (!starSaves.containsKey(id))\n    {\n        var starSave = new Array();\n        var imgs = starStrip.select(\"img\")\n        alert(imgs);\n        for (var i = 0; i &lt; imgs.length; i++)\n        {\n            starSave[starSave.length] = imgs[i].src;\n            if (i &lt; pos)\n                imgs[i].src = \"/images/star_1.gif\";\n            else\n                imgs[i].src = \"/images/star_0.gif\";\n\n        }\n        starSaves.put(id, starSave);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I think you don't need jQuery for this.</p>\n\n<pre><code>var hashtable = {\n    hash: {},\n    exists: function(key){\n       return this.hash.hasOwnProperty(key);\n    },\n    get: function(key){\n        return this.exists(key)?this.hash[key]:null;\n    },\n    put: function(key, value){\n        this.hash[key] = value;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I know there is a Hash() object in the Javascript prototype framework, but is there anything in Jquery like this?</p>\n\n<p>As I would like to stick with one javascript framework, rather than mixing the Prototype Frame work and the JQuery framework and use at the same time, as I worry there will be conflict and create side-effects.</p>\n\n<p>So my question is: how to create Hash object/array using jquery?</p>\n\n<p>Here is my function:</p>\n\n<pre><code>/* prototype framework, I want to change this to jQuery! */\nvar starSaves = new Hash();\n\nfunction myHover(id, pos)\n{\n    var starStrip = $('star_strip_' + id);    \n    if (starSaves.keys().indexOf(id) == -1)\n    {\n        var starSave = new Array();\n        var imgs = starStrip.select(\"img\")\n        alert(imgs);\n        for (var i = 0; i &lt; imgs.length; i++)\n        {\n            starSave[starSave.length] = imgs[i].src;\n            if (i &lt; pos)\n                imgs[i].src = \"/images/star_1.gif\";\n            else\n                imgs[i].src = \"/images/star_0.gif\";\n\n        }\n        starSaves.set(id, starSave);\n    }\n}\n</code></pre>\n",
            "last_activity_date": 1365012612,
            "question_id": 3006984,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "hash",
                "prototypejs"
            ],
            "title": "How to create Hash object/array using jquery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strong>New answer</strong></p>\n\n<p>The YouTube player object implements its own addEventListener method which is more like how AS3's syntax. As per the information listed <a href=\"http://code.google.com/apis/youtube/js_api_reference.html#Adding_event_listener\" rel=\"nofollow\">here</a>: </p>\n\n<blockquote>\n  <p>player.addEventListener(event:String,\n  listener:String):Void</p>\n</blockquote>\n\n<p>YouTube provides an example on the page I linked which I'll provide here:</p>\n\n<pre><code>function onYouTubePlayerReady(playerId) {\n  ytplayer = document.getElementById(\"myytplayer\");\n  ytplayer.addEventListener(\"onStateChange\", \"onytplayerStateChange\");\n}\n\nfunction onytplayerStateChange(newState) {\n   alert(\"Player's new state: \" + newState);\n}\n</code></pre>\n\n<p>YouTube also provides an example page that seems to prove out that their example code works in IE. I'll link that example page <a href=\"http://code.google.com/apis/youtube/youtube_player_demo.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>Now, here's an attempt at re-writing the pertinent parts of your code to work as per the examples provided by Google/YouTube:</p>\n\n<pre><code>function onYouTubePlayerReady(playerId) {\n  if(playerId &amp;&amp; playerId == 'ytvideo1'){\n    var ytplayer = document.getElementById('ytplayer1');\n  } else if(playerId &amp;&amp; playerId == 'ytvideo2'){\n    var ytplayer = document.getElementById(\"ytplayer2\");\n  } else {\n    return;\n  }\n\n  ytplayer.addEventListener('onStateChange', 'onytplayerStateChange');\n}\n</code></pre>\n\n<p>So, it turns out that the mistake being made here arises from the confusion created by the use of the method name 'addEventListener'. In the W3C JavaScript implementation, the second parameter is a function while in the YouTube implementation, the second parameter is a string. Give this a shot =).</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>from testing in IE it looks like the reference you are using</p>\n\n<pre><code>ytswf = document.getElementById('ytplayer1');\n</code></pre>\n\n<p>is assigned before the actual swf object is loaded, so IE thinks you are referring to a simple div element</p>\n\n<p>you need to run this code</p>\n\n<pre><code>function onYouTubePlayerReady(playerId) {\n  ytswf = document.getElementById(\"ytplayer1\");\n  ytplayer.addEventListener(\"onStateChange\", \"onytplayerStateChange\");\n}\n</code></pre>\n\n<p>right after you call</p>\n\n<pre><code>swfobject.embedSWF(\"http://www.youtube.com/v/SPWU-EiulRY?\nhl=en_US&amp;hd=0&amp;rel=0&amp;fs=1&amp;autoplay=1&amp;enablejsapi=1&amp;playerapiid=ytvideo1\",\n\"popupVideoContainer1\", \"853\", \"505\", \"8\", null, null, params, atts);\n</code></pre>\n\n<p>before you close out that <code>$(function()</code></p>\n\n<p>and place <code>var ytswf;</code>\nright after the <code>&lt;script&gt;</code>\ninstead of further down</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>IE doesn't support <code>addEventListener</code> does it?? You need <code>attachEvent</code> right?</p>\n\n<pre><code>if (el.addEventListener){   \n    el.addEventListener('click', modifyText, false);    \nelse if (el.attachEvent){   \n    el.attachEvent('onclick', modifyText);   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have two colorbox popup boxes which show a youtube video in each. When they're finished playing, I'm trying to have them automatically close the colorbox window. This code below works perfect in firefox, but in IE I can't get addEventListener to work. I've tried attachEvent with no success. Can anybody offer any suggestions as to how to solve this? It seems simple but I'm exhausted trying to find a solution. By the way, this is my first time at stackoverflow and it's very impressive.</p>\n\n<p>UPDATE 1:</p>\n\n<p>Well, this is my current code. It works perfect in FF, but IE only outputs good. IE8 debugger doesn't report any errors either...</p>\n\n<pre><code>function onYouTubePlayerReady(playerId) {\n  if (playerId &amp;&amp; playerId != 'undefined') {\n    if(playerId &amp;&amp; playerId == 'ytvideo1'){\n      var ytswf = document.getElementById('ytplayer1');\n      alert('good');\n    } else if(playerId &amp;&amp; playerId == 'ytvideo2'){\n      var ytswf = document.getElementById('ytplayer2');\n    } else {\n    }\n\n    setInterval('', 1000);\n    ytswf.addEventListener('onStateChange', 'onytplayerStateChange');\n    alert('great');\n  }\n}\n\n\nfunction onytplayerStateChange(newState) {\n  alert('amazing');\n  if(newState == 0){\n    $.fn.colorbox.close();\n    alert('perfect');\n  }\n}\n</code></pre>\n\n<p>Update 3: Solution</p>\n\n<p>Simply put onComplete in my colorbox and put the swfobject in that and it worked perfectly in IE.</p>\n",
            "last_activity_date": 1312574384,
            "question_id": 2885500,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "swfobject",
                "youtube-api"
            ],
            "title": "javascript addEventListener onStateChange not working in IE"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Since they're client-side errors, you'll have to send them to the server using XMLHttpRequest.  You could use <code>try...catch</code> statements or <code>window.onerror</code>:</p>\n\n<pre><code>window.onerror = function (msg, url, line)\n{\n    var message = \"Error in \"+url+\" on line \"+line+\": \"+msg;\n    $.post(\"logerror.aspx\", { \"msg\" : message }); \n}\n</code></pre>\n\n<p>Be aware that <code>line</code> and <code>url</code> can be very inaccurate in IE versions prior to 8.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>You could use my <a href=\"http://log4javascript.org/\">log4javascript</a>, which has an appender that uses <code>XMLHttpRequest</code> to log to the server:</p>\n\n<pre><code>var log = log4javascript.getLogger(\"serverLog\");\nvar ajaxAppender = new log4javascript.AjaxAppender(\"clientlogger.jsp\");\nlog.addAppender(ajaxAppender);\n\ntry {\n    nonExistentFunction();\n} catch(ex) {\n    log.error(\"Something's gone wrong!\", ex);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You could also use JSLogger <a href=\"http://jslogger.com\" rel=\"nofollow\">http://jslogger.com</a> :</p>\n\n<pre><code>jslogger.log({exception: {name: \"SignupFail\", message: \"Signup request failed.\"}})\n</code></pre>\n\n<p>It will log your errors and events in the cloud where you can access them afterwards. This way you don't care about overloading your servers.</p>\n\n<p>You can log entire objects at once and it plays nice with jQuery / jQueryUI: </p>\n\n<pre><code>$.ajax({\n  url: \"/signup\",\n  success: function () { \n    jslogger.event({\n      signup: {\n        from: \"Header red button\"\n      }\n    }); \n  }, \n  error: function (jqXHR, textStatus, errorThrown) { \n    jslogger.log({\n      signup_error: {\n        from: \"Header red button\",\n        xhr: jqXHR,\n        status: textStatus,\n        error: errorThrown\n      }\n    }); \n  } \n})\n</code></pre>\n\n<p>The script can be loaded from a secure connection as well:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"//jslogger.com/jslogger.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>There is also a mobile web interface to use so, you can monitor your app anytime.</p>\n\n<p>The code is tested and maintained and you have support for old browsers as well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/119432/logging-clientside-javascript-errors-on-server\">Logging Clientside JavaScript Errors on Server</a>  </p>\n</blockquote>\n\n\n\n<p>How can I log client side javascript errors to the server? I'm using jQuery and MVC.</p>\n",
            "last_activity_date": 1350659299,
            "question_id": 2825640,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "asp.net-mvc",
                "error-handling"
            ],
            "title": "Log client side errors to the server"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As of today, this is known behaviour: </p>\n\n<p><a href=\"http://groups.google.com/group/prototype-scriptaculous/browse_thread/thread/e71c7a6bfb656380/7d1c8a23edc07f03?lnk=gst&amp;q=exception+swallowed#\" rel=\"nofollow\">http://groups.google.com/group/prototype-scriptaculous/browse_thread/thread/e71c7a6bfb656380/7d1c8a23edc07f03?lnk=gst&amp;q=exception+swallowed#</a></p>\n\n<p>There is a ticket in for an enhancement to deal with these swallowed exceptions here: </p>\n\n<p><a href=\"https://prototype.lighthouseapp.com/projects/8886/tickets/634-no-exception-on-error-in-oncreate-method-of-ajaxrequest\" rel=\"nofollow\">https://prototype.lighthouseapp.com/projects/8886/tickets/634-no-exception-on-error-in-oncreate-method-of-ajaxrequest</a></p>\n\n<p>One work-around suggested is to add the following code (thanks Glenn Maynard!):</p>\n\n<pre><code>Ajax.Responders.register({ \n        onException: function(request, exception) { \n                (function() { throw exception; }).defer(); \n        } \n});\n</code></pre>\n\n<p>Hope that helps others with the same issue until a more permanent solution is implemented. </p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Using Prototype version 1.6.0.2.</p>\n\n<p>I have a common problem where exceptions are being swallowed when they are thrown in a callback function, typically when I am trying to handle the response to an <code>Ajax.Request</code> call. Here is a simple example: </p>\n\n<p>HTML markup:</p>\n\n<pre><code>&lt;input type=\"button\" id=\"myButton\" value=\"Press Me\" /&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>MYSITE = {};\n\ndocument.observe(\"dom:loaded\", function () {\n\n    // Set up our helper object\n    MYSITE.pageHelper = new MYSITE.PageHelper();\n\n});\n\n\nMYSITE.PageHelper = function() {\n\n    console.log(\"PageHelper called.\");\n\n    $(\"myButton\").observe(\"click\", this.makeCall.bindAsEventListener(this));\n\n};\n\nMYSITE.PageHelper.prototype.makeCall = function() {\n\n    console.log(\"Make call.\");\n\n    new Ajax.Request(\n            \"remoteCall.cfm\", \n            {\n                method: 'get', \n                parameters: \"\", \n                onComplete: this.handleCallback.bindAsEventListener(this)\n\n            });\n\n\n};\n\nMYSITE.PageHelper.prototype.handleCallback = function(resp) {\n\n    console.log(\"Start callback processing...\");\n\n    var x = missingVar + \"text\"; // This line generates an exception...\n\n    console.log(\"Finished callback processing.\");\n};\n</code></pre>\n\n<p>OK, so the issue is that if you run this code in Firefox with Firebug no exception will be output for the offending line - it's swallowed. Gulp. \nThe only way I know to catch these (say if I'm debugging) is to wrap the contents of the callback function in a try/catch. For example:</p>\n\n<pre><code>MYSITE.PageHelper.prototype.handleCallback = function(resp) {\n\n    try {\n\n        console.log(\"Start callback processing...\");\n\n        var x = missingVar + \"text\"; // This line generates an exception...\n\n        console.log(\"Finished callback processing.\");\n\n    } catch (e) {\n        console.log(e);\n    }\n};\n</code></pre>\n\n<p>Has anyone else ever come across this issue? Any work-arounds out there? </p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1325079204,
            "question_id": 2601411,
            "score": 5,
            "tags": [
                "javascript",
                "ajax",
                "prototypejs",
                "dhtml"
            ],
            "title": "Prototype callback functions swallowing exceptions"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Chances are it's <a href=\"http://developer.apple.com/safari/library/documentation/AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266%23e_ref/doc/uid/TP30001266--webkit-box-shadow\" rel=\"nofollow\"><code>-webkit-box-shadow</code></a> or <a href=\"https://developer.mozilla.org/En/CSS/-moz-box-shadow\" rel=\"nofollow\"><code>-moz-box-shadow</code></a>, depending on your browser.</p>\n\n<p><strong>EDIT</strong> I just checked the page, and it's a series of <code>&lt;div&gt;</code> aligned together. Look for <code>&lt;div id=\"ds-v\"&gt;</code> in the page source (or in some kind of DOM inspector, as that would be easier). It's most likely some kind of hack they've put together to get a cool effect, but I don't know how easily reproducible this is.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's actually a series of five razor-thin DIVs, each with decreasing opacity, stacked next to each other.  You can see this for yourself by using Firebug and clicking on the shadow area.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>IE 8: Use F12, select the arrow control, then click on the element you're interested in.</p>\n\n<p>In this case, it's 5 divs overlapping, widths 1-5px, all with a style of  \"filter: alpha(opacity=x); opacity:0.x;\", x going from 10 to 02</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There are 100% reliable techniques to get PNG transparency in IE, and if used in limited areas which will not bog down the browser. They could easily have used a small PNG that repeats  vertically for this, but my guess is they used the DIVs to skip the use of an extra image. On Google Maps website this is a worthwhile optimisation. On any other website it won't hurt to use 5 divs for this, but a PNG \"sprite\" may be more flexible if you plan to use it also on overlays (for the sides and corners).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p><strong>Question</strong>: How does Google create the dropshadow next to the vertical scrollbar over the Google Map?</p>\n\n<p>This is a screenshot depicting exactly what I'm talking about.</p>\n\n<p><img src=\"http://i.stack.imgur.com/PYycY.jpg\" alt=\"enter image description here\"></p>\n\n<p>This seems to be regardless of browser (IE, Firefox, Chrome) and platform (Windows, Mac, Linux).</p>\n",
            "last_activity_date": 1314543205,
            "question_id": 2497364,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "css",
                "dropshadow"
            ],
            "title": "HTML/CSS: How does Google create this drop shadow over their maps?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>For security reasons, you are <em>not</em> supposed to be able to track activities in an IFRAME that goes to a different website.\nIf you have an IFRAME on your own site that goes to another page on your own site, then you solve this by adding the click tracking directly in the code that the IFRAME runs.</p>\n\n<p>If this is impossible you can consider running your own customized proxy server for the IFRAME:ed webserver, and that way you'll be able again to add your own click tracking. See Mousehole by _why for code examples.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could put a transparent DIV on top of the IFRAME.<br/>You size that DIV to the same size or bigger than the IFRAME.<br/>And with a higher z-index CSS property.</p>\n\n<p>Then when you click on the IFRAME, the DIV receives the event.</p>\n\n<p>But as the world is not perfect, now you lost the ability to click inside the IFRAME.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Only works on iframes on the same domain:</p>\n\n<pre><code>$('body', $('select-your-iframe-here').contents()).click(function(event) {\n  console.log('Clicked! ' + event.pageX + ' - ' + event.pageY);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code>$(window).click( function(e){\n    $('#result').text('Clicked inside document');\n});\n\n$(window).blur( function(e){\n    $('#result').text('Clicked out of the window or on the iframe');\n});\u200b\n</code></pre>\n\n<p>test <a href=\"http://jsfiddle.net/4vBRe/\" rel=\"nofollow\">http://jsfiddle.net/4vBRe/</a></p>\n\n<p>To detect only the click on iframe then use mouseover event then blur</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Web browsers won't let you access an iframe's content for security reasons (except if the iframe is on the same domain as the parent page).</p>\n\n<p>But there is a workaround, using the blur event which is fired when an iframe is clicked (because while the iframe gets the focus, the parent page loses it).</p>\n\n<p>I've wrote a jQuery plugin that uses this tip to detect clicks on iframe, it's available here : <a href=\"https://github.com/finalclap/iframeTracker-jquery\" rel=\"nofollow\">https://github.com/finalclap/iframeTracker-jquery</a>.\nYou can read the tutorial at <a href=\"http://www.finalclap.com/tuto/track-iframe-click-jquery-87/\" rel=\"nofollow\">http://www.finalclap.com/tuto/track-iframe-click-jquery-87/</a> (it's in French).</p>\n\n<p>To use it, you just have to match the iframe element(s) you want to track, supplying a callback function :</p>\n\n<pre><code>jQuery(document).ready(function($){\n    $('.iframe_wrap iframe').iframeTracker({\n        blurCallback: function(){\n            // Do something when iframe is clicked (like firing an XHR request)\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>i wanna detect click INSIDE iframe not onclick on iframe itself i tried onclick event u must click on iframe itself to trigger function i even tried addeventlistener to window or document nothing work as if the iframe isn't there the function never triger when i click inside iframe :( plz help</p>\n",
            "last_activity_date": 1364734385,
            "question_id": 2472550,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "detect click inside iframe"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>No, it is not currently supported in any browser.</p>\n\n<p>See <strong><a href=\"http://www.quirksmode.org/js/events_advanced.html\" rel=\"nofollow\">Advanced event registration models</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Are there any browsers that implement the DOM3 EventListenerList interface?</p>\n\n<p><a href=\"http://www.w3.org/TR/2001/WD-DOM-Level-3-Events-20010823/events.html#Events-EventListenerList\" rel=\"nofollow\">http://www.w3.org/TR/2001/WD-DOM-Level-3-Events-20010823/events.html#Events-EventListenerList</a></p>\n",
            "last_activity_date": 1344295624,
            "question_id": 2424737,
            "score": 5,
            "tags": [
                "javascript",
                "dom",
                "browser",
                "dom-events"
            ],
            "title": "Browser EventListenerList Implementation"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>var message = messages[state];\n</code></pre>\n\n<p>Every object in JavaScript is not only an object in the more usual sense, but it is also a dictionary populated by its members.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I've got a pretty simple question (and tentative answers), I just want to see if maybe there is a better answer out there.</p>\n\n<p>How can you access an object member in javascript when the member identifier is stored in another variable? Example:</p>\n\n<pre><code>state = 'sync';\n\nmessages = {\n  'sync': 'asdf',\n  'ready': 'asdf',\n  'complete': 'asdf'\n};\n</code></pre>\n\n<p>Possibilities:\n  1. message = <code>eval('messages.' + state);</code></p>\n\n<ol>\n<li>turn message into a hash (in prototype or jquery--not sure about jquery) and access through the framework's method</li>\n</ol>\n\n<p>What other ways are there? Anything cleaner? In php it would be simple <code>$message = $messages-&gt;$sync</code>.</p>\n\n<p>I'm sure this question has been answered many times but it is tough to search for... all I get are eval responses when I search for 'variable variables'</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1342409404,
            "question_id": 2349411,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Javascript - access object member when identifier string is stored in a var"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>In answer to your question:</p>\n\n<p>1.) This depends on your environment and coding preference. PHP, Python, ASP.NET are a few that come to mind. Sense you already know Python (from your profile) you can use a Python CGI script to do this or use one of the many frameworks for Python (Zope, Django, Pylons,...).</p>\n\n<p>see: <a href=\"http://www.python.org/doc/essays/ppt/sd99east/index.htm\" rel=\"nofollow\">http://www.python.org/doc/essays/ppt/sd99east/index.htm</a>\nfor info on Python CGI.</p>\n\n<p>2.) A few tricks for security: (none or full-proof)</p>\n\n<ul>\n<li>Hidden Text Box in HTML with encoded value that server checks to match a cookie to ensure high score comes from your page.</li>\n<li>Server Script only accepts values from a specific domain</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's going to be pretty hard to secure the high scores. I mean, it's not enough to ensure that it comes from your page, because if, say, the JavaScript function is <code>submitHighScore(n)</code> then they can always type javascript:submitHighScore(10000000) in the address bar on that page and have it work.</p>\n\n<p>What comes to mind is perhaps some sort of hash function that generates specific codes that match certain levels in the game. When submitting the score it would also submit this hash, so users would have had to get to this level in order to get that equivalent score.</p>\n\n<p>Another option would be for the game to pull in some kind of key that only works temporarily, so as you went along the key would change and then the score would be submitted to a central server intermittently.</p>\n\n<p>Keep in mind that really determined individuals can always just track the data being sent to your data and decompile it.</p>\n\n<p>You could go the Broderbund route and ask the player trivia questions which are validated server-side to ensure they really did pass the level they said they did...something like \"What color was the monster in the previous level?\"</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>1.) Any CGI script that can talk to a database and understand JSON, or other format of your choice, will do the work.</p>\n\n<p>However, if you're familiar with Django, building your server on top of Django would be the most simple, in the sense of what you have to learn and how much application code you have to write. Seemingly simple CGI script can turn out rather complex if you write it from scratch.</p>\n\n<p>I found <a href=\"http://bitbucket.org/jespern/django-piston/wiki/Home\" rel=\"nofollow\">django-piston</a> to be a handy Django app to quickly write a REST-style API server. It supports JSON so it should be easy to interface with your JavaScript game.</p>\n\n<p>2.) The most casual cracker will go for a <a href=\"http://en.wikipedia.org/wiki/Replay_attack\" rel=\"nofollow\">replay attack</a> and its variants: peek at the page source and execute a JavaScript function, intercept HTTP requests and resend it (should be easy with a Firefox add-on like Tamper Data).</p>\n\n<p>To counteract the former, you can obfuscate the source code and HTTP body;</p>\n\n<ul>\n<li>Minify the JavaScript code</li>\n<li>Encode the message you send to the server with Base64 or other encoding algorithm</li>\n</ul>\n\n<p>The latter can be prevented by requiring all update requests to include an one-time password (\"session token\" in the <a href=\"http://en.wikipedia.org/wiki/Replay_attack\" rel=\"nofollow\">Wikipedia article</a>) that was recently acquired from the server.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>To submit score securely, sign it.</p>\n\n<p>Hide secret in JS code, and send <code>highscore</code> + <code>hash(highscore + secret)</code> to the server. Hash could be MD5/SHA1 \u2014 there are easy to find JS implementations.</p>\n\n<p>Of course it won't stand anyone analysing JS code, but at least someone won't be able to submit fake highscore just by tampering with HTTP traffic.</p>\n\n<hr>\n\n<p>If the game is deterministic (like a puzzle game), then users could submit highscore in form of a log of steps taken to win (user's input) that you'd replay on the server to calculate the score.</p>\n\n<p>This would change attack from finding/emulating score-submitting function to witing AI or hacking the game itself to make it easier to play (but still within basic rules).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could use a combination of one of the methods above, as well as simply requiring the user to be registered to be able to post high scores. Non registered users could view their current score compared to existing high scores, but in order to post your high score online, you must have already logged in with your registered account, or provide it when the app goes to update the score online.</p>\n\n<p>A simple message along the lines of \"Your high score is X, and ranks ### in the high score table. To post this score online, please register with us first\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The better I think, is to make the calculation of the score directly into the python files of your django app. \nInstead of calculate it in the javascript file. You send the datas to compare with your data basis with a POST request, then you calculate the score and you store it in your data basis. Like this, you don't make circulate the score across the web to your servers. Which is completely safe because you are only doing local stuffs.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I am thinking about this myself. What seems to be the most reasonable solution to me is this:</p>\n\n<p>1) Sessions, to disallow tampering with the scoretable outside the game.</p>\n\n<p>2) Log every action in the game and send it to the score server. The server will then calculate if those actions actually give such score. If you also log the time spent playing the game, you can further minimize the chance of an attacker to bother himself enough to break your game. This will also enable you to make a replay script like Arcade servers with hi-score tables have and in case of a suspicious score, you can watch the replay and decide for yourself if the score is real. The cheater would have to use a clever bot to play your game - and unless you have a game for real prizes, noone will try that hard.</p>\n\n<p>If the cheater won't even analyze your code, sessions will stop him. If he reads your code, he would quickly break anything similar to hashed scores, secrets, tokens and whatsoever. But if you make the game-logging script thorough enough, he will give up.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm implementing a simple game in Javascript, and am interested in having an online highscores table for it, so that players can compete against one another. I've two concerns about this:</p>\n\n<ol>\n<li>What is the simplest server-side program I need for this purpose? I don't need a full-fledged \"web application\", just something simple that gets POST requests with highscores, updates a database and sends back lists of scores. I'm familiar with Django. What are your suggestions?</li>\n<li>How can I make the highscores table reasonably secure? I'm aware that making it bulletproof against competent and dedicated hackers is difficult, but I wouldn't want anyone with access to the Javascript sourcecode to be able to submit fictitious scores too simply. Any tools for this purpose?</li>\n</ol>\n",
            "last_activity_date": 1384631422,
            "question_id": 2297535,
            "score": 5,
            "tags": [
                "javascript",
                "django"
            ],
            "title": "Server-side highscores for a Javascript-written game"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The FlowPlayer Tooltip has an API that is returned on EVERY call to <code>tooltip</code>.</p>\n\n<p>You can then call <code>hide</code> on the API object.</p>\n\n<p>Here's what your code should look like:</p>\n\n<pre><code>    var old_id, API;\n\n//first time - create tooltip\n    function my_create(id){\n        API = $(\"#\"+id).tooltip({ \n            effect: \"slide\", \n            tip: '.tooltip', \n            position: 'bottom center'\n        });     \n    }\n\n //next times - move tooltip to other element\n    function my_unlink(id){\n        API.unbind(\"mouseover\"); \n        //todo\n    }\n\n    function my_link(id){\n        my_create( id );\n    }\n\n\n    //THE MAIN FUNCTION\n\n    function do_tip(new_id){\n        if(old_id){\n            my_unlink(old_id);\n            my_link(new_id);\n            alert(new_id);\n        }\n        else\n            my_create(new_id);\n\n        old_id=new_id;\n     //new_id.focus();\n } \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>How about this alternative solution?</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html&gt;&lt;head&gt;\n    &lt;title&gt;jQuery tooltip&lt;/title&gt;\n    &lt;!--&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt; --&gt;\n    &lt;script src=\"http://cdn.jquerytools.org/1.1.2/full/jquery.tools.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n   $(document).ready(function() {\n        $(\"h1\").tooltip({ \n            effect: \"slide\", \n            tip: '.tooltip' ,\n            position: 'bottom center',\n            onBeforeShow: function(event){\n                //don't show tooltip if trigger (h1 object) does not have specified class\n                if(!this.getTrigger().hasClass(\"hasToolTip\")) \n                    return false;                       \n            }\n        }); \n\n        $(\"h1\").click(function() {\n            $(\"h1\").removeClass(\"hasToolTip\");\n            $(this).addClass(\"hasToolTip\");\n        }); \n    });\n\n    &lt;/script&gt; \n\n  &lt;style&gt;\n    .tooltip {\n      display: none;\n      background:transparent url(http://flowplayer.org/tools/img/tooltip/black_arrow_bottom.png);\n      font-size:14px;\n      height:70px;\n      width:160px;\n      padding:25px;\n      color:#fff;   \n    }\n    h1 {\n      width: 400px;\n      text-align: center;\n      background-color: yellow;\n    }\n\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h1 id=\"_1\"&gt;John&lt;/h1&gt;\n    &lt;h1 id=\"_2\"&gt;Mary&lt;/h1&gt;\n    &lt;h1 id=\"_3\"&gt;Dan&lt;/h1&gt;\n    &lt;h1 id=\"_4\"&gt;Paul&lt;/h1&gt;\n    &lt;h1 id=\"_5\"&gt;Kim&lt;/h1&gt;\n\n    &lt;div class=\"tooltip\"&gt;There should be only one tooltip on a page!&lt;/div&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>jQuery tools tooltip supports defining which events trigger the tooltip.</p>\n\n<p>You do not need to handle the click event by yourself.</p>\n\n<p>Edit: Updated the script. Click on the link to move the tooltip to the second element always.</p>\n\n<p>Here is the <a href=\"http://jsbin.com/ubuqa/9/\" rel=\"nofollow\">script</a></p>\n\n<pre><code>var tt = $(\"h1\").tooltip({\n  events:{def:'click, click'},\n  effect: \"slide\",\n  tip: '.tooltip' ,\n  position: \"bottom center\",\n  api: true,\n  delay: 30000\n});\n\n$(\"#ht\").click(function() {\n  tt.hide();\n  $(\"#_2\").tooltip().show();\n});\n</code></pre>\n\n<p>The whole script </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script class=\"jsbin\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.0/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://cdn.jquerytools.org/1.1.2/full/jquery.tools.min.js\"&gt;&lt;/script&gt;\n\n&lt;meta charset=utf-8 /&gt;\n&lt;title&gt;JS Bin&lt;/title&gt;\n&lt;!--[if IE]&gt;\n  &lt;script src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n&lt;style&gt;\n  article, aside, figure, footer, header, hgroup,\n  menu, nav, section { display: block; }\n&lt;/style&gt;\n&lt;style&gt;\n    .tooltip {\n      display: none;\n      background:transparent url(http://flowplayer.org/tools/img/tooltip/black_arrow_bottom.png);\n      font-size:14px;\n      height:70px;\n      width:160px;\n      padding:25px;\n      color:#fff;   \n    }\n    h1 {\n      width: 400px;\n      text-align: center;\n      background-color: yellow;\n      cursor:pointer;\n    }\n\n &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h1 id=\"_1\"&gt;John&lt;/h1&gt;\n    &lt;h1 id=\"_2\"&gt;Mary&lt;/h1&gt;\n    &lt;h1 id=\"_3\"&gt;Dan&lt;/h1&gt;\n    &lt;h1 id=\"_4\"&gt;Paul&lt;/h1&gt;\n    &lt;h1 id=\"_5\"&gt;Kim&lt;/h1&gt;\n\n    &lt;a id=\"ht\" href=\"javascript:void()\"&gt;Click here&lt;/a&gt;\n    &lt;div class=\"tooltip\"&gt;There should be only one tooltip on a page!&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;script&gt;\n\nvar tt = $(\"h1\").tooltip({\n  events:{def:'click, click'},\n  effect: \"toggle\",\n  tip: '.tooltip' ,\n  position: \"bottom center\",\n  api: true,\n  delay: 30000\n});\n\n$(\"#ht\").click(function() {\n  tt.hide();\n  setTimeout(function(){$(\"#_2\").tooltip().show();}, 500);\n});\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I'm using a jquery flowplayer tools plugin <a href=\"http://flowplayer.org/tools/tooltip.html\">http://flowplayer.org/tools/tooltip.html</a></p>\n\n<p>1)I want a tooltip to be created when user clicks on an element.</p>\n\n<p>2)When the user clicks on another element, the old tooltip must be unlinked(deleted)</p>\n\n<p>3)A new tooltip should be created(or old moved to) for the clicked element</p>\n\n<p>4)So, there should &lt;=1 tooltip on the page</p>\n\n<p>Can you please help me?</p>\n\n<p>Here's the code, it runs standalone</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html&gt;&lt;head&gt;\n    &lt;title&gt;jQuery tooltip&lt;/title&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt; \n    &lt;script src=\"http://cdn.jquerytools.org/1.1.2/full/jquery.tools.min.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n\n\n/******* THIS FUNCTION IS JUST FOR TEST, REMOVE IT LATER *********/\n    $(document).ready(function() {\n        $(\"#_2\").tooltip({ \n            effect: \"slide\", \n            tip: '.tooltip' ,\n            position: 'bottom center'\n        }); \n\n    });\n/******* THIS FUNCTION IS JUST FOR TEST, REMOVE IT LATER *********/\n\n\n\n\n/** The code below is not working as I expect, it doesn't MOVE tooltip **/\n\n           var old_id;\n\n    //first time - create tooltip\n        function my_create(id){\n            $(\"#\"+id).tooltip({ \n                effect: \"slide\", \n                tip: '.tooltip', \n                position: 'bottom center'\n            });     \n        }\n\n     //next times - move tooltip to other element\n        function my_unlink(id){\n            $(\"#\"+id).unbind(\"mouseover\"); \n            //todo\n        }\n\n        function my_link(id){\n            //todo\n        }\n\n\n        //THE MAIN FUNCTION\n\n        function do_tip(new_id){\n            if(old_id){\n                my_unlink(old_id);\n                my_link(new_id);\n                alert(new_id);\n            }\n            else\n                my_create(new_id);\n\n            old_id=new_id;\n         //new_id.focus();\n     } \n\n    &lt;/script&gt; \n\n  &lt;style&gt;\n    .tooltip {\n      display: none;\n      background:transparent url(http://flowplayer.org/tools/img/tooltip/black_arrow_bottom.png);\n      font-size:14px;\n      height:70px;\n      width:160px;\n      padding:25px;\n      color:#fff;   \n    }\n    h1 {\n      width: 400px;\n      text-align: center;\n      background-color: yellow;\n    }\n\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h1 onclick=\"do_tip(this.id)\" id=\"_1\"&gt;John&lt;/h1&gt;\n    &lt;h1 onclick=\"do_tip(this.id)\" id=\"_2\"&gt;Mary&lt;/h1&gt;\n    &lt;h1 onclick=\"do_tip(this.id)\" id=\"_3\"&gt;Dan&lt;/h1&gt;\n    &lt;h1 onclick=\"do_tip(this.id)\" id=\"_4\"&gt;Paul&lt;/h1&gt;\n    &lt;h1 onclick=\"do_tip(this.id)\" id=\"_5\"&gt;Kim&lt;/h1&gt;\n\n    &lt;div class=\"tooltip\"&gt;There should be only one tooltip on a page!&lt;/div&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1265175837,
            "question_id": 2124327,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Linking/unlinking jquery object to an element"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I would recommend using jQuery if you want to do this yourself. You can grab the click event of the header row (or wherever you want), and then you can use the x/y of the mouse to drag a line. Once the mouse is released, you can troll through the table and reset the width of the 's.</p>\n\n<p>Otherwise, there are several JavaScript table controls on the internet that you could use.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can try open-source project ASP.NET CoolGridView control. It works well with IE 6/7/8, Firefox 3.0 / 3.5, Safari and Chrome. Supports resizable columns and fixed headers.</p>\n\n<p><a href=\"http://johnsobrepena.blogspot.com/2010/02/coolgridview-february-2010-release.html\" rel=\"nofollow\">http://johnsobrepena.blogspot.com/2010/02/coolgridview-february-2010-release.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think this plugin does what you requested <a href=\"http://www.ita.es/jquery/jquery.grid.columnsizing.htm\" rel=\"nofollow\">http://www.ita.es/jquery/jquery.grid.columnsizing.htm</a></p>\n\n<p>Though I would suggest checking out this customizable jQuery based grid aswell <a href=\"http://www.trirand.com/blog/\" rel=\"nofollow\">http://www.trirand.com/blog/</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>The example you are refering to is using ExtJS it looks like.  There's also jqGrid (an extension to jQueryUI), and others.  If you are looking for an ASP.Net Ajax grid control there are several options from many different component vendors (Component One, Infragistics, DevXPress etc).</p>\n\n<p>I'm only presuming here that you want a server-oriented Grid component because of the term \"GridView\" in the question.  I would suggest searching for: \"ASP.Net Ajax\" grid control.  This will give you results that may best suit your needs.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to Resize Gridview columns using javascript. Below is an example.\n<img src=\"http://i48.tinypic.com/28gypus.jpg\" alt=\"alt text\"></p>\n",
            "last_activity_date": 1334346494,
            "question_id": 2115783,
            "score": 5,
            "tags": [
                "asp.net",
                "javascript",
                "gridview"
            ],
            "title": "Resizable Gridview columns using javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>To achieve what you want, you need a cloning method. You don't want an inheritance prototype, you want a cloning prototype. Take a look at one of the Object.clone() functions already implemented, like prototypejs's one: <a href=\"http://api.prototypejs.org/language/object.html#clone-class_method\" rel=\"nofollow\">http://api.prototypejs.org/language/object.html#clone-class_method</a></p>\n\n<p>If you want to stick to some kind of prototyping, you have to implement an initialize() method that will give a <em>stockpile</em> property to your newly created Depots. That is the way prototypejs Classes are defined : a cloned prototype and an initialize() method : <a href=\"http://prototypejs.org/learn/class-inheritance\" rel=\"nofollow\">http://prototypejs.org/learn/class-inheritance</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For the method, all works as expected. It's just the fields that you need to take care of. </p>\n\n<p>What I see a lot in YUI, is that the constructor allocates the instance varialbes. 'Classes' that inherit from a parent call the constructor of their parent. Look here:\n<a href=\"http://developer.yahoo.com/yui/docs/DataSource.js.html\" rel=\"nofollow\">http://developer.yahoo.com/yui/docs/DataSource.js.html</a></p>\n\n<p>Example base class:  </p>\n\n<pre><code>util.DataSourceBase = function(oLiveData, oConfigs) {\n    ...   \n    this.liveData = oLiveData;\n\n    ... more initialization...\n}\n</code></pre>\n\n<p>Example subclass:</p>\n\n<pre><code>util.FunctionDataSource = function(oLiveData, oConfigs) {\n    this.dataType = DS.TYPE_JSFUNCTION;\n    oLiveData = oLiveData || function() {};\n\n    util.FunctionDataSource.superclass.constructor.call(this, oLiveData, oConfigs);   \n};\n\n// FunctionDataSource extends DataSourceBase\nlang.extend(util.FunctionDataSource, util.DataSourceBase, {\n    ...prototype of the subclass...\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Javascript provides a way to do this the way U are used to :)\ntry this:</p>\n\n<pre><code>function Depot() {   \n    this.stockpile = [],\n    this.loadAmmo = function (ammoType) {\n        this.stockpile.push(ammoType);\n    }\n};\n\nvar MissileDepot = new Depot();\nvar GunDepot = new Depot();\n\n\nMissileDepot.loadAmmo(\"ICBM\");\nMissileDepot.loadAmmo(\"Photon Torpedo\");\n\nalert(MissileDepot.stockpile); // outputs \"ICBM,Photon Torpedo\"\nalert(GunDepot.stockpile); // outputs \"\"\n</code></pre>\n\n<p>And U can add the functions on the fly afterwards:</p>\n\n<pre><code>MissileDepot.blow = function(){alert('kaboom');}\n</code></pre>\n\n<p>Extending object with another object is also an option, but what You wanted is the fact, that OO programming in javascript is done by functions not objects with {} ;)</p>\n\n<p>EDIT:</p>\n\n<p>I feel bad for writing that without mentioning: The javascript \"new\" keyword is only for making it easier to OO veterans. Please, dig deeper into the prototypal inheritance and dynamic object creation as therein lies true magic! :)</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>That's because you're trying to make a cat meow! Douglas Crockford is good, but that script you're using essentially works by looping through your parent object and copying all of its attributes into the prototype chain--which is not what you want. When you put things in the prototype chain, they're shared by all instances of that object--ideal for member functions, not ideal for data members, since you want each object instance to have its own collection of data members.</p>\n\n<p>John Resig wrote a <a href=\"http://ejohn.org/blog/simple-javascript-inheritance/\" rel=\"nofollow\">small script</a> for simulating classical inheritance. You might want to check that out.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The secret to instance variables in JavaScript is that they are shared across methods defined in superclasses or from included modules. The language itself doesn't provide such a feature, and it may not be possible to mesh with Prototypal inheritance because each instance will need it's own instance variable capsule, but by using discipline and convention it is fairly straightforward to implement.</p>\n\n<pre><code>// Class Depot\nfunction Depot(I) {\n  // JavaScript instance variables\n  I = I || {};\n\n  // Initialize default values\n  Object.reverseMerge(I, {\n    stockpile: []\n  });\n\n  return {\n    // Public loadAmmo method\n    loadAmmo: function(ammoType) {\n      I.stockpile.push(ammoType);\n    },\n    // Public getter for stockpile\n    stockpile: function() {\n      return I.stockpile;\n    }\n  };\n}\n\n// Create a couple of Depot instances\nvar missileDepot = Depot();\nvar gunDepot = Depot();\n\nmissileDepot.loadAmmo(\"ICBM\");\nmissileDepot.loadAmmo(\"Photon Torpedo\");\n\nalert(missileDepot.stockpile()); // outputs \"ICBM,Photon Torpedo\"\nalert(gunDepot.stockpile()); // outputs \"\"\n\n// Class NonWeaponDepot\nfunction NonWeaponDepot(I) {\n  I = I || {};\n\n  // Private method\n  function nonWeapon(ammoType) {\n    // returns true or false based on ammoType\n  }\n\n  // Make NonWeaponDepot a subclass of Depot and inherit it's methods\n  // Note how we pass in `I` to have shared instance variables\n  return Object.extend(Depot(I), {\n    loadAmmo: function(ammoType) {\n      if(nonWeapon(ammoType)) {\n        // Here I.stockpile is the same reference an in the Depot superclass\n        I.stockpile.push(ammoType);\n      }\n    }\n  });\n}\n\nvar nonWeaponDepot = NonWeaponDepot();\nnonWeaponDepot.loadAmmo(\"Nuclear Bombs\");\n\nalert(nonWeaponDepot.stockpile()); // outputs \"\"\n</code></pre>\n\n<p>And that's how to do instance variables in JavaScript. <a href=\"http://strd6.com/2010/09/javascript-instance-variables-do-exist/\" rel=\"nofollow\">Another instance variable example using the same technique</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been playing around with prototypal inheritance after reading <a href=\"http://javascript.crockford.com/prototypal.html\">http://javascript.crockford.com/prototypal.html</a> and having a bit of a problem with understanding how I could make use of it in the way I would use classical inheritance. Namely, all functions and variables inherited by the prototype essentially become statics unless they are overwritten by the child object. Consider this snippet:</p>\n\n<pre><code>var Depot = {   \n    stockpile : [],\n    loadAmmo : function (ammoType) {\n        this.stockpile.push(ammoType);\n    }\n};\n\nvar MissileDepot = Object.create(Depot);\nvar GunDepot = Object.create(Depot);\n</code></pre>\n\n<p><code>stockpile</code> and <code>loadAmmo</code> definitely should be in the prototype, since both MissileDepot and GunDepot have them. Then we run:</p>\n\n<pre><code>MissileDepot.loadAmmo(\"ICBM\");\nMissileDepot.loadAmmo(\"Photon Torpedo\");\n\nalert(MissileDepot.stockpile); // outputs \"ICBM,Photon Torpedo\"\nalert(GunDepot.stockpile); // outputs \"ICBM,Photon Torpedo\"\n</code></pre>\n\n<p>This is expected because Neither <code>MissileDepot</code> nor <code>GunDepot</code> actually have <code>stockpile</code> or <code>loadAmmo</code> in their objects, so javascript looks up the inheritance chain to their common ancestor.</p>\n\n<p>Of course I could set GunDepot's stockpile manually and as expected, the interpreter no longer needs to look up the chain</p>\n\n<pre><code>GunDepot.stockpile = [\"Super Nailgun\", \"Boomstick\"];\nalert(GunDepot.stockpile); // outputs \"Super Nailgun,Boomstick\"\n</code></pre>\n\n<p>But this is not what I want. If this were classical inheritance (say Java), loadAmmo would operate on MissileDepot and GunDepot's stockpile independently, as an instance method and an instance variable. <strong>I would like my prototype to declare stuff that's common to children, not shared by them.</strong></p>\n\n<p>So perhaps I'm completely misunderstanding the design principles behind prototypal inheritance, but I'm at a loss as how to achieve what I've just described. Any tips? Thanks in advance!</p>\n",
            "last_activity_date": 1284519445,
            "question_id": 2107776,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Implementing instance methods/variables in prototypal inheritance"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>I believe that on certain platforms, you'll receive a performance boost using the DOM functions instead of innerHTML, as no expensive HTML parsing needs to be done.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It depends on what your goal is.</p>\n\n<p>Using DOM methods to insert html into a document will allow you to further manipulate those elements before / after inserting them.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The difference is creating nodes via the DOM is standardized, but innerHTML is merely a de-facto standard. I've read that innerHTML can be faster.</p>\n\n<p>An even better alternative is to use a library like jQuery for your DOM manipulation. It'll take care of most cross-browser incompatibilities and be more readable than using the DOM methods.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If performance matters, it's good to know that the <code>innerHTML</code> is relatively fast, especially in MSIE: <a href=\"http://www.quirksmode.org/dom/innerhtml.html\" rel=\"nofollow\">http://www.quirksmode.org/dom/innerhtml.html</a></p>\n\n<p>It has however the bad image of originally being a \"Microsoft proprietary\" property and/or not really \"OO\".</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>Given that I need to insert several tags, it seems to make sense to use innerHTML.</p>\n</blockquote>\n\n<p>Only \u2018several\u2019? Then speed is not an issue. It's when you're creating a hundred you have to think about what you're doing. It's not really the creating that's the problem, it's the child node list manipulation that gets slower and slower as you add each extra element.</p>\n\n<p>As for appending, you don't really have any choice. You can't set the innerHTML without losing the existing content, so unless you're happy with serialising and re-parsing that (which wipes out any non-serialisable data like form contents, JavaScript properties/references and event handlers) you end up setting the innerHTML of another element and moving each child over one by one. This is what many frameworks do and it typically ends up even slower than manual create-and-appendChild.</p>\n\n<p>Depending on your situation (specifically: how many child nodes are already in the target element, and how many are you going to add?) it can be faster to break down the operation into smaller manipulations on a DocumentFragment, whose children can be appended to an element's children all in one go instead of one-by-one. This is much faster. Unfortunately, it is not possible to set <code>innerHTML</code> on a DocumentFragment.</p>\n\n<p>There may also be faster hacks using Range objects to move a load of HTML at once, but unfortunately Ranges are highly cross-browser variable. It seems to me, though, that someone ought to be able to build a fast append-html out of IE's <a href=\"http://msdn.microsoft.com/en-us/library/ms536656%28VS.85%29.aspx\" rel=\"nofollow\">range.pasteHTML</a> and W3's <a href=\"http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level2-Range-method-extractContents\" rel=\"nofollow\">range.extractContents</a>. Anyone up for it?</p>\n\n<blockquote>\n  <p>As far as I can tell, create/append node simply prevents you from creating invalid code</p>\n</blockquote>\n\n<p>Potentially invalid markup doesn't just mean your application breaks in some browsers. When you're blindly splicing together HTML without escaping like an idiot:</p>\n\n<pre><code>element.innerHTML= '&lt;a href=\"'+url+'\"&gt;'+title+'&lt;/a&gt;';\n</code></pre>\n\n<p>then you have a client-side cross-site-scripting security hole that is just as bad as a server-side one.</p>\n\n<p>You can, of course, compromise, by creating the elements and setting their contents in separate steps. For example:</p>\n\n<pre><code>element.innerHTML= '&lt;table&gt;'+'&lt;tr&gt;&lt;td&gt;X&lt;/td&gt;&lt;td&gt;&lt;a href=\"#\"&gt;go&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;'.repeated(urls.length)+'&lt;/table&gt;';\nfor (var i= 0; i&lt;urls.length; i++) {\n    var row= element.firstChild.rows[i];\n    row.cells[0].firstChild.data= urls[i];\n    row.cells[1].firstChild.href= urls[i];\n}\n</code></pre>\n\n<p>(string.repeated is not standard JavaScript, but its use here is obvious.)</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This is always a contentious argument, partially because the origin of <code>innerHTML</code> being somewhat dubious from a standards perspective. I think the QuirksMode article is still relevant, but I'd love to see it updated. Perhaps <a href=\"http://twitter.com/PPK\">contact</a> <a href=\"http://www.quirksmode.com/\">ppk</a> about updating them, though I'm sure he's busy. We could all benefit from performance testing the assumptions we make in web development. In the end claims require hard data to prove, otherwise it's really just talk.</p>\n\n<p>Anyway, I did some searching and found some interesting articles relevant to this discussion. I don't remember hearing of DocumentFragments before, they're real interesting.</p>\n\n<ul>\n<li><a href=\"http://ejohn.org/blog/dom-documentfragments/\">DOM DocumentFragments</a></li>\n<li><a href=\"http://www.artzstudio.com/2009/04/jquery-performance-rules/\">jQuery Performance Rules</a></li>\n<li><a href=\"http://www.tvidesign.co.uk/blog/improve-your-jquery-25-excellent-tips.aspx\">Improve your jQuery - 25 excellent tips</a></li>\n<li><a href=\"http://andrew.hedges.name/experiments/innerhtml/\">Speed test: innerHTML versus DOM manipulation</a> <em>... a test that actually tests the speed, worth it for anyone who wants to collect some current data on browsers</em></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>DOM MANIPULATION IS WAY FASTER IF YOU USE THIS TRICK!.</p>\n\n<p>This is slow:</p>\n\n<pre><code>var target = document.getElementById('whatever');\nfor (a = 0; a&lt;10000; a++) { \nvar newnode = document.createElement('div'); \nnewnode.textContent = a;\ntarget.appendChild(newnode) }\n</code></pre>\n\n<p>This is fast:</p>\n\n<pre><code>var target = document.createElement('span')\nfor (a = 0; a&lt;10000; a++) { \nvar newnode = document.createElement('div'); \nnewnode.textContent = a;\ntarget.appendChild(newnode) }\ndocument.getElementById('whatever').appendChild(target);\n</code></pre>\n\n<p>The first example appends the newly created node to a node that already is contained inside the body so a refresh is made each time.</p>\n\n<p>The second example appends newly created nodes to a \"buffer\" node that is not inside the scope of the body, so no refresh is made until you place the buffer node inside the scope of the body. Try it yourself!.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Does anyone have a good reason to use one over the other? As far as I can tell, create/append node simply prevents you from creating invalid code, while innerHTML allows you to inject multiple nodes at once.</p>\n\n<p>Given that I need to insert several tags, it seems to make sense to use innerHTML. Does anyone have a different take?</p>\n",
            "last_activity_date": 1353394621,
            "question_id": 1694233,
            "score": 5,
            "tags": [
                "javascript",
                "insert",
                "append",
                "innerhtml"
            ],
            "title": "create/append node vs innerHTML"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could try saving the selection when the iframe loses focus. If you're sure the content of the iframe will not change before the user focuses on it again, you can store the currently selected <code>Range</code> or <code>TextRange</code>. The following script (for the main page) includes your original script, is not extensively tested and would be improved with better feature detection but is something to work with:</p>\n\n<pre><code>h_FF=!document.all\nh_rt_F=0\n\nfunction HLC_DM()\n{\n h_rt_F=document.getElementById(\"moo\").contentWindow\n if(h_FF)\n {\n  if(h_rt_F.document.designMode!=\"on\")\n  {\n   try\n   {\n    h_rt_F.document.designMode=\"on\"\n    h_rt_F.document.execCommand(\"redo\",false,null)\n    createEventHandlers();\n   }\n   catch(e)\n   {\n    setTimeout(\"HLC_DM\",200)\n    return false\n   }\n  }\n }\n else\n  h_rt_F.document.body.contentEditable=true\n  createEventHandlers();\n}\n\n\nfunction getContentWindow() {\n return document.getElementById(\"moo\").contentWindow;\n}\n\nfunction saveSelection() {\n var win = getContentWindow();\n var doc = win.document;\n var sel = win.getSelection ? win.getSelection() : doc.selection;\n var range;\n\n if (sel) {\n  if (sel.createRange) {\n   range = sel.createRange();\n  } else if (sel.getRangeAt) {\n   range = sel.getRangeAt(0);\n  } else if (sel.anchorNode &amp;&amp; sel.focusNode &amp;&amp; doc.createRange) {\n   // Older WebKit browsers\n   range = doc.createRange();\n   range.setStart(sel.anchorNode, sel.anchorOffset);\n   range.setEnd(sel.focusNode, sel.focusOffset);\n\n   // Handle the case when the selection was selected backwards (from the end to the start in the\n   // document)\n   if (range.collapsed !== sel.isCollapsed) {\n    range.setStart(sel.focusNode, sel.focusOffset);\n    range.setEnd(sel.anchorNode, sel.anchorOffset);\n   }\n  }\n }\n return range;\n}\n\nfunction restoreSelection(range) {\n var win = getContentWindow();\n var doc = win.document;\n var sel = win.getSelection ? win.getSelection() : doc.selection;\n\n if (sel &amp;&amp; range) {\n  if (range.select) {\n   range.select();\n  } else if (sel.removeAllRanges &amp;&amp; sel.addRange) {\n   sel.removeAllRanges();\n   sel.addRange(range);\n  }\n }\n}\n\nvar selectedRange;\n\nfunction blurHandler() {\n selectedRange = saveSelection();\n}\n\nfunction focusHandler() {\n if (selectedRange) {\n  restoreSelection(selectedRange);\n }\n}\n\nvar iframeHandlersCreated = false;\nfunction createEventHandlers() {\n // Prevent setting up twice\n if (!iframeHandlersCreated) {\n  var iframe = document.getElementById(\"moo\");\n  var doc;\n  if (iframe.contentDocument &amp;&amp; iframe.contentDocument.addEventListener) {\n   doc = iframe.contentDocument;\n   doc.addEventListener(\"blur\", blurHandler, false);\n   doc.addEventListener(\"focus\", focusHandler, false);\n  } else if (iframe.attachEvent) {\n   iframe.attachEvent(\"onbeforedeactivate\", blurHandler);\n   iframe.attachEvent(\"onfocus\", focusHandler);\n  }\n  iframeHandlersCreated = true;\n }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>On any element in the main document you want not to break the iframe selection, add <code>unselectable=\"on\"</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;div onclick=\"makeBold()\" unselectable=\"on\"&gt;Bold&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>My Editbox can add images, tables etc where you last clicked in the iframe and works for ie6, ie7 and FF but for ie8 it adds then at the start. They can then be cut and pasted to where you want them but that is a nuisance. MORE SERIOUS is that when I want to change the attributes of a table cell, for example, I have to have some text now in the cell which I must highlight or I can't determine what element I'm in!</p>\n\n<p>Have Microsoft any bug fixes for the selection method or is Firefox or old versions of ie the only course?</p>\n\n<p>regards Mike W</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The example below is a simple example of an iframe which uses window.parent.[turn designmode on] (this works). In FF all is well, but in IE8 (surprise surprise) any selection made is lost when you click out of the iframe. This totally negates the use of tools outside the iframe. I cannot find a solution 4 days later...</p>\n\n<p>Open in IE8\n<a href=\"http://www.chromedigital.co.za/hydrapage/test.htm\">http://www.chromedigital.co.za/hydrapage/test.htm</a></p>\n",
            "last_activity_date": 1256345952,
            "question_id": 1470932,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "IE8 iframe DesignMode loses selection"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You can use <a href=\"http://code.google.com/p/birdeye/wiki/RaVis\" rel=\"nofollow\">birdeye RaVis</a> on Flash. It's open source.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I like <a href=\"http://javascript.neyric.com/wireit/\">WireIt</a>. It's written in JavaScript and is quite versatile. And open source (MIT License)</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Try this one:</p>\n\n<p><a href=\"http://flare.prefuse.org/\" rel=\"nofollow\">http://flare.prefuse.org/</a></p>\n\n<p>Flare is an ActionScript library for creating visualizations that run in the Adobe Flash Player. From basic charts and graphs to complex interactive graphics, the toolkit supports data management, visual encoding, animation, and interaction techniques. Even better, flare features a modular design that lets developers create customized visualization techniques without having to reinvent the wheel.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Also give a try Google  Visualisation API and especially <a href=\"http://code.google.com/apis/ajax/playground/?type=visualization#org%5Fchart\" rel=\"nofollow\">Org Chart</a> .</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The <a href=\"http://d3js.org/\" rel=\"nofollow\" title=\"d3 library\">d3 library</a> is much more versatile than the libraries mentioned above (it's also a lower-level library).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Our <a href=\"http://www.jgraph.com\" rel=\"nofollow\">mxGraph</a> library is built for such things. You can see an example application at the <a href=\"http://www.draw.io\" rel=\"nofollow\">draw.io</a> site.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm using <a href=\"http://jsplumbtoolkit.com/jquery/demo.html\" rel=\"nofollow\">jsPlumb</a>. From my initial tests, it looks more than capable of making this kind of graph. It's open source (MIT or GPL2), works with jQuery, MooTools and YUI, and can use SVG, canvas or VML for rendering.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to visualise a directed graph that represents the flow of data in a web application. Can anyone recommend any JavaScript or Flash solutions for this please. It must support hooking a node click event because I need to fire off an AJAX call when this happens. Can be free or commercial. The server-side technology is Java if this makes any difference.</p>\n\n<p>The JProbe Call Graph is the sort of thing I have in mind:</p>\n\n<p><img src=\"http://www.javaworld.com/javaworld/jw-08-2003/images/jw-0822-profiler9.gif\" alt=\"JProbe Call Graph\" /></p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1362695773,
            "question_id": 1448319,
            "score": 5,
            "tags": [
                "javascript",
                "flash",
                "web-applications",
                "user-interface",
                "components"
            ],
            "title": "Recommendations for visualising a directed graph in a Web UI"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Since z index is mentioned in the CSS part you won't be able to get it directly through the code that you have mentioned. You can use the following example.</p>\n\n<pre><code>function getStyle(el,styleProp)\n{\n    var x = document.getElementById(el);\n\n    if (window.getComputedStyle)\n    {\n        var y = document.defaultView.getComputedStyle(x,null).getPropertyValue(styleProp); \n    }  \n    else if (x.currentStyle)\n    {\n        var y = x.currentStyle[styleProp];\n    }                     \n\n    return y;\n}\n</code></pre>\n\n<p>pass your element id and style attribute to get to the function.</p>\n\n<p>Eg: </p>\n\n<pre><code>var zInd = getStyle ( \"normaldiv1\" , \"zIndex\" );\nalert ( zInd );\n</code></pre>\n\n<p><strong>For firefox you have to pass z-index instead of zIndex</strong></p>\n\n<pre><code>var zInd = getStyle ( \"normaldiv1\" , \"z-index\" );\n alert ( zInd );\n</code></pre>\n\n<p><a href=\"http://www.quirksmode.org/dom/getstyles.html\">Reference</a> </p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>try this</p>\n\n<pre><code>window.getZIndex = function (e) {      \n  var z = window.document.defaultView.getComputedStyle(e).getPropertyValue('z-index');\n  if (isNaN(z)) return window.getZIndex(e.parentNode);\n  return z; \n};\n</code></pre>\n\n<p>usage</p>\n\n<pre><code>var myZIndex = window.getZIndex($('#myelementid')[0]);\n</code></pre>\n\n<p>(if parent gets to root it will return 0)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a div <code>normaldiv1</code> with class <code>normaldiv</code>.\nI am trying to access its z-index through the style property but it always returns 0 although it's set to 2 in the stylesheet.</p>\n\n<p>CSS:</p>\n\n<pre><code>.normaldiv\n{\n    width:120px; \n    height:50px; \n    background-color:Green;  \n    position: absolute;\n    left: 25px;\n    top:20px;\n    display:block;\n    z-index:2;\n}\n</code></pre>\n\n<p>`</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"normaldiv1\" \n     class=\"normaldiv\" \n     newtag=\"new\" \n     tagtype=\"normaldiv1\" \n     onmousedown=\"DivMouseDown(this.id);\" \n     ondblclick=\"EditCollabobaTag(this.id,1);\" \n     onclick=\"GetCollabobaTagMenu(this.id);\" \n     onblur=\"RemoveCollabobaTagMenu(this.id);\"&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>alert(document.getElementById('normaldiv1').style.zIndex);\n</code></pre>\n\n<p>How can I find the z-index of an element using JavaScript?</p>\n",
            "last_activity_date": 1402403116,
            "question_id": 1388007,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "z-index"
            ],
            "title": "Getting the z-index of a DIV in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.mind-projects.it/projects/jqzoom/\" rel=\"nofollow\">jqzoom</a> </p>\n\n<p><a href=\"http://www.dfc-e.com/metiers/multimedia/opensource/jquery-fancyzoom/\" rel=\"nofollow\">fancyzoom</a>         </p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>See also:</p>\n\n<p><a href=\"http://css-tricks.com/examples/AnythingZoomer/index.html\" rel=\"nofollow\">Anything Zoomer</a></p>\n\n<p><a href=\"http://www.jnathanson.com/index.cfm?page=jquery/magnify/magnify#examples\" rel=\"nofollow\">Magnify</a></p>\n\n<p><a href=\"http://www.uize.com/examples/mag-view.html\" rel=\"nofollow\">Mag View</a></p>\n\n<p><a href=\"http://www.downloadjavascripts.com/Zoom%20And%20Magnifiers.aspx\" rel=\"nofollow\">Whole bunch of them</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>What about zooma? Check it here:\n<a href=\"http://plugins.jquery.com/project/zooma\" rel=\"nofollow\">http://plugins.jquery.com/project/zooma</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>check CloudZoom: the best, imo <a href=\"http://www.professorcloud.com/mainsite/cloud-zoom.htm\" rel=\"nofollow\">http://www.professorcloud.com/mainsite/cloud-zoom.htm</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>check AJAX-ZOOM: <a href=\"http://www.ajax-zoom.com/index.php?cid=examples\" rel=\"nofollow\">http://www.ajax-zoom.com/index.php?cid=examples</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm not much of a frontend guy, just learning jQuery, so any help is appreciated. What's the easiest, most stable jQuery zoom plugin? </p>\n\n<p>I have a regular size product image and a detailed image. I need to be able to zoom in somehow. Which would you recommend?</p>\n",
            "last_activity_date": 1288314581,
            "question_id": 1276048,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "e-commerce",
                "zoom"
            ],
            "title": "What&#39;s the best jQuery product zoom plugin?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There may be a simpler way to do it, but this worked for me.</p>\n\n<p>Make sure your <code>&lt;link&gt;</code> tag has a <code>title</code> attribute:</p>\n\n<pre><code>&lt;link title=\"myStyles\" rel=\"stylesheet\" href=\"style.css\" /&gt;\n</code></pre>\n\n<p>Then use a function like this to check for the presence of a style within a particular styleseet:</p>\n\n<pre><code>function linkLoaded(linkTitle, checkStyle)\n{\n    for (var ix=0; ix&lt;document.styleSheets.length; ix++) {\n        try {\n            if (document.styleSheets[ix].title == linkTitle) {\n                var mySheet=document.styleSheets[ix];\n                var myRules = mySheet.cssRules? mySheet.cssRules: mySheet.rules\n                for (var jx=0; jx&lt;myRules.length; jx++) {\n                    var thisSelector = myRules[jx].selectorText.toLowerCase();\n                    if (thisSelector.substring(0, checkStyle.length) == checkStyle) {\n                        alert(\"Found style!\");\n                        return;\n                    }\n                }\n            }\n        }\n        catch (err) {}    \n    }\n\n    alert(\"Not loaded!\");\n    return;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>Browsers provide load events for <code>&lt;script&gt;</code> and <code>&lt;img&gt;</code> tags.  Is there a way to detect whether a request to a  element has completed?</p>\n\n<p>Specifically, I'm wishing to detect when a <code>&lt;link&gt;</code>'d stylesheet has been loaded.</p>\n\n<p>Unfortunately, I think using a sentinel style and detecting load from a <code>computedStyle</code> isn't workable in my situation.</p>\n",
            "last_activity_date": 1240884309,
            "question_id": 795830,
            "score": 5,
            "tags": [
                "javascript",
                "css",
                "optimization"
            ],
            "title": "Detecting load of &lt;link&gt; resources?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Every element has only one real parent. To access and save it, write the following:</p>\n\n<pre><code>myParent = $(\"#myElement\").parent();\n</code></pre>\n\n<p>If you need the parents parents too, use .parents()</p>\n\n<p>See documentation for further information:</p>\n\n<p><a href=\"http://docs.jquery.com/Traversing/parent#expr\" rel=\"nofollow\">http://docs.jquery.com/Traversing/parent#expr</a></p>\n\n<p><a href=\"http://docs.jquery.com/Traversing/parents#expr\" rel=\"nofollow\">http://docs.jquery.com/Traversing/parents#expr</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>/// Get an array of all the elements parents:</p>\n\n<pre><code>allParents = $(\"#myElement\").parents(\"*\")\n</code></pre>\n\n<p>/// Get the nested selector through an element's parents:</p>\n\n<pre><code>function GetParents(id) {\n    var parents = $(\"#\" + id).parents(\"*\");\n    var selector = \"\";\n    for (var i = parents.length-1; i &gt;= 0; i--) {\n        selector += parents[i].tagName + \" \";\n    }\n\n    selector += \"#\" + id;\n\n    return selector;\n}\n</code></pre>\n\n<p>GetParents('myImage') will return your nested selector: HTML BODY DIV A #myImage</p>\n\n<h2>Note sure why you'd want this but its reuseable as a selector.</h2>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You can use parents() to get your immediate parent, and their parents on up the tree.  you can also pass a selector as an arg to only get parents that match a certain criteria.  For instance: </p>\n\n<pre>$('#myelement').parents('[id$=container]')</pre>\n\n<p>to get all parents who have an id attribute whose value ends with the text \"container\"</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You don't need to grab their selectors, as you can use them directly with jQuery afterwards.</p>\n\n<p>If you want to use all parents later, you can do something like:</p>\n\n<pre><code>var parents = $(\"#element\").parents();\nfor(var i = 0; i &lt; parents.length; i++){\n  $(parents[i]).dosomething();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can get all the tags of an element's parents like this:</p>\n\n<pre><code>var sParents = $('#myImg').parents('*').map(function() {                \n      return this.tagName;\n    }).get().join(' ');\n</code></pre>\n\n<p>you can also replace <em>this.tagName</em> with <em>this.id</em> for example or other attributes</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How to get all element parents using jquery? i want to save these parents in a variable so i can use later as a selector.<br/>\nsuch as <code>&lt;div&gt;&lt;a&gt;&lt;img id=\"myImg\"/&gt;&lt;/a&gt;&lt;/div&gt;</code> <br/>\nGetParents('myImg'); will return \"div a\" something like that</p>\n",
            "last_activity_date": 1310110884,
            "question_id": 748842,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "dom"
            ],
            "title": "How to get all element parents using jquery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Do it server side and fetch it as a new resource, for example use a transparent spacer image and place the real image URLs as background-image attributes in a set CSS selectors using class names.</p>\n\n<p>Now changing the className of the image should replace the image shown, no nasty clever stuff needed clientside.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>depending on what you have to do, you can use pure CSS to move a background image's viewport. see this site's top nav menu:\n<a href=\"http://grotonhomesforsale.com\" rel=\"nofollow\">http://grotonhomesforsale.com</a></p>\n\n<p>see how when you mouse over it, the image under the text changes? you can do the same thing but with a different image</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If the color transitions are very polarized (ie, not a lot of subtle gradient changes), you can make a transparent \"hole\" for the colored part of you image (use the 8-bit png or gif format to support IE6), and set the background-color to the real color:</p>\n\n<pre><code>&lt;!-- mymap.png contains a transparent \"hole\" for color --&gt;\n&lt;img id=\"colorme\" src=\"mymap.png\" style=\"background-color:red\" /&gt;\n\n&lt;script&gt;\n// change the color to blue:\ndocument.getElementById('colorme').style.backgroundColor = 'blue'\n&lt;/script&gt;\n</code></pre>\n\n<p>This does not address your quest to \"manipulate an image on client side\". Manipulating images in arbitrary ways is only possible with things like canvas, and some parts of IE-only vml. But if it's a simple color change, this trick might suffice.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Currently IE supports canvas starting from IE 9, so it is possible to convert to canvas and manipulate the image in IE.</p>\n\n<p>you can consider this jquery plugin. It is easy to use.</p>\n\n<pre><code>$(\"#myImageID\").tancolor();\n</code></pre>\n\n<p>There's an interactive <a href=\"http://nicolaisi.github.io/tancolor/\" rel=\"nofollow\">demo</a>. You can play around with it.</p>\n\n<p>Check out the documentation on the usage, it is pretty simple. <a href=\"https://github.com/nicolaisi/tancolor\" rel=\"nofollow\">docs</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to change the color of a map image dynamically (say from blue to red).\nAnd I can't use canvas as I have to support IE.Any idea how i can manipulate an image on client side using javascript?</p>\n",
            "last_activity_date": 1384269275,
            "question_id": 725287,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Change color of image in javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Javascript cannot do this.  It would have serious security issues.  Perhaps flash can though.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Short answer: No, you should handle this on the server.</p>\n\n<p>Long answer: Not reliable. With IE you could do something like:</p>\n\n<pre><code>function checkSize(filespec) {\nvar fso, f, s;\nfso = new ActiveXObject(\"Scripting.FileSystemObject\");\nf = fso.GetFile(filespec);\ns = f.size;\n// Do something with var s\n}\n</code></pre>\n\n<p>But this can easily be comprimised by the browser's security settings or the\nusage of another browser or platform.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Cannot be reliably done with Javascript for all browsers, but you can limit the total size of the posted data from the <code>web.config</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's a hard problem.  You have to do it with AJAX, and use the filesize headers sent by the browser to the server on the POST request.</p>\n\n<p>Yahoo's UI Library has a tool to help with this.  <a href=\"http://developer.yahoo.com/yui/uploader/\" rel=\"nofollow\" title=\"YUI Uploader\">YUI Uploader</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>You really don't have a lot of options if you are using the traditional file input control. You cannot check it on the client side and it will hit your configured maxRequestLength before you get the opportunity to check it server side. You can catch the exception that occurs when the maxRequestLength is exceeded though.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have an file input tag in my web app.  I'd like to check that the file isn't too big before sending it to the server.  Of course, I still have validation server side.  Is there any way to do this with JavaScript?  It must work in IE7+ and FF3+.  Thank you.</p>\n\n<p>EDIT: somefileinputobject.files[0].filesize works in FF, but not IE.</p>\n",
            "last_activity_date": 1268970213,
            "question_id": 547292,
            "score": 5,
            "tags": [
                "javascript",
                "file",
                "input",
                "filesize"
            ],
            "title": "How to retrieve the size of a file before uploading it?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You need to use Javascript escapes for the Unicode characters:</p>\n\n<pre><code>node.nodeValue=\"string with \\uxxxx sort of characters\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>The reason this is happening is because the &amp; in your string is being expanded into the ampersand entity by the browser.  To get around this, you'll need to convert the entities yourself.</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n    &lt;div id=\"test\"&gt; &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nonload = function()\n{\n    var node = document.getElementById( 'test' );\n    node.firstChild.nodeValue = convertEntities( 'Some &amp;#187; entities &amp;#171; and some &amp;#187; more entities &amp;#171;' );\n}\n\nfunction convertEntities( text )\n{\n    var matches = text.match( /\\&amp;\\#(\\d+);/g );\n\n    for ( var i = 0; i &lt; matches.length; i++ )\n    {\n    \tconsole.log( \"Replacing: \" + matches[i] );\n    \tconsole.log( \"With: \" + convertEntity( matches[i] ) );\n    \ttext = text.replace( matches[i], convertEntity( matches[i] ) );\n    }\n\n    return text;\n\n    function convertEntity( ent )\n    {\n    \tvar num = parseInt(ent.replace(/\\D/g, ''), 16);\n    \tvar esc = ((num &lt; 16) ? '0' : '') + num.toString(16);\n    \treturn String.fromCharCode( esc );\n    }\n}\n\n&lt;/script&gt;\n\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As noted in other answers, I need to replace html encoded entities with javascript encoded ones. Starting from <a href=\"http://stackoverflow.com/questions/513112/setting-nodevalue-of-text-node-in-javascript-without-escaping/513277#513277\">BaileyP's answer</a>, I've made this:</p>\n\n<pre><code>function convertEntities( text )\n{\n    var ret = text.replace( /\\&amp;\\#(\\d+);/g, function ( ent, captureGroup )\n    {\n        var num = parseInt( captureGroup );\n        return String.fromCharCode( num );\n    });\n    return ret;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>From <a href=\"http://code.google.com/p/jslibs/wiki/JavascriptTips\" rel=\"nofollow\">http://code.google.com/p/jslibs/wiki/JavascriptTips</a>:</p>\n\n<p>(converts both entity references and numeric entities)</p>\n\n<pre>\nconst entityToCode = { __proto__: null,\napos:0x0027,quot:0x0022,amp:0x0026,lt:0x003C,gt:0x003E,nbsp:0x00A0,iexcl:0x00A1,cent:0x00A2,pound:0x00A3,\ncurren:0x00A4,yen:0x00A5,brvbar:0x00A6,sect:0x00A7,uml:0x00A8,copy:0x00A9,ordf:0x00AA,laquo:0x00AB,\nnot:0x00AC,shy:0x00AD,reg:0x00AE,macr:0x00AF,deg:0x00B0,plusmn:0x00B1,sup2:0x00B2,sup3:0x00B3,\nacute:0x00B4,micro:0x00B5,para:0x00B6,middot:0x00B7,cedil:0x00B8,sup1:0x00B9,ordm:0x00BA,raquo:0x00BB,\nfrac14:0x00BC,frac12:0x00BD,frac34:0x00BE,iquest:0x00BF,Agrave:0x00C0,Aacute:0x00C1,Acirc:0x00C2,Atilde:0x00C3,\nAuml:0x00C4,Aring:0x00C5,AElig:0x00C6,Ccedil:0x00C7,Egrave:0x00C8,Eacute:0x00C9,Ecirc:0x00CA,Euml:0x00CB,\nIgrave:0x00CC,Iacute:0x00CD,Icirc:0x00CE,Iuml:0x00CF,ETH:0x00D0,Ntilde:0x00D1,Ograve:0x00D2,Oacute:0x00D3,\nOcirc:0x00D4,Otilde:0x00D5,Ouml:0x00D6,times:0x00D7,Oslash:0x00D8,Ugrave:0x00D9,Uacute:0x00DA,Ucirc:0x00DB,\nUuml:0x00DC,Yacute:0x00DD,THORN:0x00DE,szlig:0x00DF,agrave:0x00E0,aacute:0x00E1,acirc:0x00E2,atilde:0x00E3,\nauml:0x00E4,aring:0x00E5,aelig:0x00E6,ccedil:0x00E7,egrave:0x00E8,eacute:0x00E9,ecirc:0x00EA,euml:0x00EB,\nigrave:0x00EC,iacute:0x00ED,icirc:0x00EE,iuml:0x00EF,eth:0x00F0,ntilde:0x00F1,ograve:0x00F2,oacute:0x00F3,\nocirc:0x00F4,otilde:0x00F5,ouml:0x00F6,divide:0x00F7,oslash:0x00F8,ugrave:0x00F9,uacute:0x00FA,ucirc:0x00FB,\nuuml:0x00FC,yacute:0x00FD,thorn:0x00FE,yuml:0x00FF,OElig:0x0152,oelig:0x0153,Scaron:0x0160,scaron:0x0161,\nYuml:0x0178,fnof:0x0192,circ:0x02C6,tilde:0x02DC,Alpha:0x0391,Beta:0x0392,Gamma:0x0393,Delta:0x0394,\nEpsilon:0x0395,Zeta:0x0396,Eta:0x0397,Theta:0x0398,Iota:0x0399,Kappa:0x039A,Lambda:0x039B,Mu:0x039C,\nNu:0x039D,Xi:0x039E,Omicron:0x039F,Pi:0x03A0,Rho:0x03A1,Sigma:0x03A3,Tau:0x03A4,Upsilon:0x03A5,\nPhi:0x03A6,Chi:0x03A7,Psi:0x03A8,Omega:0x03A9,alpha:0x03B1,beta:0x03B2,gamma:0x03B3,delta:0x03B4,\nepsilon:0x03B5,zeta:0x03B6,eta:0x03B7,theta:0x03B8,iota:0x03B9,kappa:0x03BA,lambda:0x03BB,mu:0x03BC,\nnu:0x03BD,xi:0x03BE,omicron:0x03BF,pi:0x03C0,rho:0x03C1,sigmaf:0x03C2,sigma:0x03C3,tau:0x03C4,\nupsilon:0x03C5,phi:0x03C6,chi:0x03C7,psi:0x03C8,omega:0x03C9,thetasym:0x03D1,upsih:0x03D2,piv:0x03D6,\nensp:0x2002,emsp:0x2003,thinsp:0x2009,zwnj:0x200C,zwj:0x200D,lrm:0x200E,rlm:0x200F,ndash:0x2013,\nmdash:0x2014,lsquo:0x2018,rsquo:0x2019,sbquo:0x201A,ldquo:0x201C,rdquo:0x201D,bdquo:0x201E,dagger:0x2020,\nDagger:0x2021,bull:0x2022,hellip:0x2026,permil:0x2030,prime:0x2032,Prime:0x2033,lsaquo:0x2039,rsaquo:0x203A,\noline:0x203E,frasl:0x2044,euro:0x20AC,image:0x2111,weierp:0x2118,real:0x211C,trade:0x2122,alefsym:0x2135,\nlarr:0x2190,uarr:0x2191,rarr:0x2192,darr:0x2193,harr:0x2194,crarr:0x21B5,lArr:0x21D0,uArr:0x21D1,\nrArr:0x21D2,dArr:0x21D3,hArr:0x21D4,forall:0x2200,part:0x2202,exist:0x2203,empty:0x2205,nabla:0x2207,\nisin:0x2208,notin:0x2209,ni:0x220B,prod:0x220F,sum:0x2211,minus:0x2212,lowast:0x2217,radic:0x221A,\nprop:0x221D,infin:0x221E,ang:0x2220,and:0x2227,or:0x2228,cap:0x2229,cup:0x222A,int:0x222B,\nthere4:0x2234,sim:0x223C,cong:0x2245,asymp:0x2248,ne:0x2260,equiv:0x2261,le:0x2264,ge:0x2265,\nsub:0x2282,sup:0x2283,nsub:0x2284,sube:0x2286,supe:0x2287,oplus:0x2295,otimes:0x2297,perp:0x22A5,\nsdot:0x22C5,lceil:0x2308,rceil:0x2309,lfloor:0x230A,rfloor:0x230B,lang:0x2329,rang:0x232A,loz:0x25CA,\nspades:0x2660,clubs:0x2663,hearts:0x2665,diams:0x2666\n};\n\nvar charToEntity = {};\nfor ( var entityName in entityToCode )\n        charToEntity[String.fromCharCode(entityToCode[entityName])] = entityName;\n\nfunction EscapeEntities(str) str.replace(/[^\\x20-\\x7E]/g, function(str) charToEntity[str] ? '&'+charToEntity[str]+';' : str );</pre>\n\n<pre>\nfunction unescapeEntities(str) {\n    return str.replace(\n     /&(.+?);/g, \n     function(str, ent) {\n     \treturn String.fromCharCode( ent[0]!='#' ? entityToCode[ent] : ent[1]=='x' ? parseInt(ent.substr(2),16): parseInt(ent.substr(1)) );\n     });\n} \n</pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>When I set a value of a text node with </p>\n\n<pre><code>node.nodeValue=\"string with &amp;#xxxx; sort of characters\"\n</code></pre>\n\n<p>ampersand gets escaped. Is there an easy way to do this?</p>\n",
            "last_activity_date": 1396300325,
            "question_id": 513112,
            "score": 5,
            "tags": [
                "javascript",
                "dom",
                "html-entities",
                "nodevalue"
            ],
            "title": "Setting nodeValue of text node in Javascript when string contains html entities"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>It's complaining because the selected item in a list was not present in the list when it was rendered.  Consider using PageMethods via AJAX to get your data back to your form instead of PostBack.  Or use a non-input controls to hold the data -- like unordered lists that you move list elements back and forth between.  You can put the GUIDs in hidden spans inside the list element where you can get at them if need be.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The problem is that the saved view state of the list and the data received on postback do not match. The event validation issue is most likely just one of the possible problems that might appear because of this approach. The architecture of webforms does not allow this kind of uses and, most likely, there will be more problems with this approach, even if you succeed to avoid the event validation issue. You have several alternatives:</p>\n\n<p>1) The simplest is to do the swapping logic on server instead of using javascript. This way the view state will be preserved between postbacks and the added overhead of multiple round trips to the server might not be an issue.</p>\n\n<p>2) If the multiple round trips to server is an issue, write a server control that handles it's own view state. This is of course a much engaging approach.</p>\n\n<p>3) A middle ground approach could be to use two simple html lists (just write the html tags without using the asp.net controls) and maintain on the client side from javascript a list of id's in a hidden field. On post back just parse the hidden field and extract the id's ignoring the html lists.</p>\n\n<p>I would go with 1 if there aren't SERIOUS arguments against it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The first option will bring considerable overhead. I have defined my own custom listbox control derived from the listbox class and performed an override of the loadpostback data:</p>\n\n<pre><code>public class CustomListBox : ListBox\n{\n    protected override bool LoadPostData(string postDataKey, System.Collections.Specialized.NameValueCollection postCollection)\n    {\n        return true;\n    }\n}\n</code></pre>\n\n<p>Using this instead of the regular listbox in my user control solved the problem, however are there any risks associated with my approach?</p>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>A few possible options:</p>\n\n<ul>\n<li><p>If possible, disable ViewState on the two lists. Without ViewState, the server won't know what the original values were and hence will not error. With this approach, you will need to repopulate the lists (due to lack of ViewState) and may need to track the selection manually - or will need to populate the lists during OnInit phase.</p></li>\n<li><p>Turn off event validation (if you can)</p></li>\n<li><p>Populate both lists fully on the server side and use client side script (javascript) to remove entries from the two lists as required.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>By chance, did you try this already? Do this whenever you muck with the list in any way.</p>\n\n<pre><code>document.getElementById(\"listbox\").selectedIndex = -1;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Alternatively, you can use a server-side HtmlSelect in place of a ListBox to work around the event validation issue.  Best of all, you may be able to leave much of your code-behind intact (ie. list population logic is the same as ListBox).</p>\n\n<pre><code>&lt;select runat=\"server\" id=\"myList\" multiple=\"true\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have created an item swapper control consisting in two listboxes and some buttons that allow me to swap items between the two lists. The swapping is done using javascript.  I also move items up and down in the list. Basically when I move the items to the list box on the right I store the datakeys of the elements (GUIDs) in a hiddenfield. On postback I simply read the GUIDs from the field. Everything works great but on postback, I get the following exception:</p>\n\n<blockquote>\n  <p>Invalid postback or callback argument.  Event validation is enabled using  in configuration or &lt;%@ Page EnableEventValidation=\"true\" %> in a page.  For security purposes, this feature verifies that arguments to postback or callback events originate from the server control that originally rendered them.  If the data is valid and expected, use the ClientScriptManager.RegisterForEventValidation method in order to register the postback or callback data for validation. </p>\n</blockquote>\n\n<p>I've prepared a test application. All you have to do is download the archive and run the project. On the web page select the 3 items, press Add all, then move the third element up one level and then hit \"Button\". The error will show up. Turning event validation off is by no means acceptable. Can anyone help me, I've spent two already days without finding a solution.</p>\n\n<p><a href=\"http://cid-c9672af9b84b07ef.skydrive.live.com/self.aspx/TestApp/TestProject.zip\">TEST APPLICATION</a></p>\n",
            "last_activity_date": 1321939567,
            "question_id": 212988,
            "score": 5,
            "tags": [
                "asp.net",
                "javascript",
                "listbox",
                "eventvalidation"
            ],
            "title": "ListBox elements rearranged with JavaScript causing event validation error on postback"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I read your comment/use-case. So I update my answer.</p>\n\n<p>I suggest to change the design as per this article: <a href=\"http://blog.markstarkman.com/blog/2011/09/15/mongodb-many-to-many-relationship-data-modeling/\" rel=\"nofollow\">MongoDB Many-To-Many</a></p>\n\n<p>The design approach is different and you might want to remodel your approach to this. I'll try to give you an idea to start with.\nI make the assumption that a User and a Follower are basically the same entities here.\nI think the point you might find interesting is that in MongoDB you can store <strong>array</strong> fields and this is what I will use to simplify/correct your design for MongoDB.</p>\n\n<p>The two entities I would omit are: Followers and ItemGroups</p>\n\n<ul>\n<li>Followers: It is simply a User who can follow Groups. I would add an\narray of <em>group ids</em> to have a list of Groups that the User follows. So instead of having an entity Follower, I would only have User with an array field that has a list of Group Ids.</li>\n<li>ItemGroups: I would remove this entity too. Instead I would use an array of Item Ids in the Group entity and an array of Group Ids in the Item entity.</li>\n</ul>\n\n<p>This is basically it. You will be able to do what you described in your use case. The design is simpler and more accurate in the sense that it reflects the design decisions of a document based database.</p>\n\n<p><strong>Notes</strong>:</p>\n\n<ul>\n<li>You can define indexes on array fields in MongoDB. See <a href=\"http://docs.mongodb.org/manual/core/index-multikey/\" rel=\"nofollow\">Multikey Indexes</a> for example.</li>\n<li>Be wary about using indexes on array fields though. You need to understand your use case in order to decide whether it is reasonable or not. See this <a href=\"http://blog.mongolab.com/2013/04/thinking-about-arrays-in-mongodb/\" rel=\"nofollow\">article</a>. Since you only reference ObjectIds I thought you could try it, but there might be other cases where it is better to change the design.</li>\n<li>Also note that the ID field <em>_id</em> is a MongoDB\nspecific field type of ObjectID used as primary key. To access the ids you can refer to it e.g. as user.id, group.id, etc. You can use an index to ensure uniqueness as per this <a href=\"http://stackoverflow.com/a/3299005/1566187\">question</a>.</li>\n</ul>\n\n<p>Your schema design could look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/GdiE0.jpg\" alt=\"Schema design for MongDB (document database)\"></p>\n\n<p>As to your other question/concerns</p>\n\n<blockquote>\n  <p><em>Is there a recommended maximum for array lengths before hitting performance issues anyway?</em></p>\n</blockquote>\n\n<p>the answer is in MongoDB the document size is limited to 16 MB and there is now way you can work around that. However 16 MB is considered to be sufficient; if you hit the 16 MB then your design has to be improved. See <a href=\"http://docs.mongodb.org/manual/core/document/\" rel=\"nofollow\">here</a> for info, section Document Size Limit.</p>\n\n<blockquote>\n  <p>I think with the following design a real performance issue could be when I want to get all of the groups that a user is following for a specific item (based off of the user_id and item_id)...</p>\n</blockquote>\n\n<p>I would do this way. Note how \"easier\" it sounds when using MongoDB.</p>\n\n<ol>\n<li>get the item of the user</li>\n<li>get groups that reference that item</li>\n</ol>\n\n<p><em>I would be rather concerned if the arrays get very large and you are using indexes on them. This could overall slow down write operations on the respective document(s). Maybe not so much in your case, but not entirely sure.</em></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Unfortunately NoSQL databases aren't eligible in this case. Your data model seems exact relational. According to MongoDB documentation we can do only <a href=\"http://docs.mongodb.org/manual/applications/data-models-relationships/\" rel=\"nofollow\">these</a> and can perform only <a href=\"http://docs.mongodb.org/manual/applications/data-models-tree-structures/\" rel=\"nofollow\">these</a>.</p>\n\n<p>There are <a href=\"http://www.mongodb.com/presentations/socialite-open-source-status-feed-part-2-managing-social-graph\" rel=\"nofollow\">some practices</a>. MongoDB advises to us using <code>Followers</code> collection to get which user follows which group and vice versa with good performance. You may find the closest case to your situation <a href=\"http://www.slideshare.net/slideshow/embed_code/37325625\" rel=\"nofollow\">on this page</a> on slide 14th. But I think the slides can eligible if you want to get each result on different page. For instance; You are a twitter user and when you click the <code>followers</code> button you'll see the all your followers. And then you click on a follower name you'll see the follower's messages and whatever you can see. As we can see all of those work <strong>step-by-step</strong>. <em>No needed a relational query</em>.</p>\n\n<blockquote>\n  <p>I believe that you should not use unbound arrays (where the limit is unknown) due to performance issues when the document has to be moved because of its expanding size. (Is there a recommended maximum for array lengths before hitting performance issues anyway?)</p>\n</blockquote>\n\n<p>Yes, you're right. <a href=\"http://askasya.com/post/largeembeddedarrays\" rel=\"nofollow\">http://askasya.com/post/largeembeddedarrays</a> .\nBut if you have about a hundred items in your array there is no problem.\nIf you have <strong>fixed size</strong> some data thousands you may embed them into your relational collections as array. And you can query your indexed embedded document fields rapidly. </p>\n\n<p><strong>In my humble opinion</strong>, you should create hundreds of thousands <a href=\"http://docs.mongodb.org/manual/tutorial/generate-test-data/\" rel=\"nofollow\">test data</a> and check performances of using embedded documents and arrays eligible to your case. Don't forget creating indexes appropriate your queries. You may try to using <a href=\"http://docs.mongodb.org/manual/tutorial/model-referenced-one-to-many-relationships-between-documents/\" rel=\"nofollow\">document references</a> on your tests. After tests if you like performance of results go ahead..</p>\n\n<p>You had tried to find <code>group_id</code> records that are followed by a specific user and then you've tried to find a specific item with those <code>group_id</code>. Would it be possible <code>Item_Groups</code> and <code>Followers</code> collections have a <em>many-to-many</em> relation?\nIf so, many-to-many relation isn't supported by NoSQL databases.</p>\n\n<p>Is there any chance you can change your database to MySQL?</p>\n\n<p>If so you should check <a href=\"http://www.moredevs.ro/mysql-vs-mongodb-performance-benchmark/\" rel=\"nofollow\">this</a> out.</p>\n\n<pre><code>briefly MongoDB pros against to MySQL;\n- Better writing performance\n\nbriefly MongoDB cons against to MySQL;\n- Worse reading performance\n</code></pre>\n\n<p>If you work on Node.js you may check <a href=\"https://www.npmjs.com/package/mysql\" rel=\"nofollow\">https://www.npmjs.com/package/mysql</a> and <a href=\"https://github.com/felixge/node-mysql/\" rel=\"nofollow\">https://github.com/felixge/node-mysql/</a></p>\n\n<p>Good luck...</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You're on the right track to creating a performant NoSQL schema design, and I think you're asking the right questions as to how to properly lay things out.</p>\n\n<p>Here's my understanding of your application:</p>\n\n<p>It looks like Groups can both have many Followers (mapping users to groups) and many Items, but Items may not necessarily be in many Groups (although it is possible).  And from your given use-case example, it sounds like retrieving all the Groups an Item is in and all the Items in a Group will be some common read operations.</p>\n\n<p>In your current schema design, you've implemented a model between mapping users to groups as followers and items to groups as item_groups.  This works alright until you mention the problem with more complex queries:</p>\n\n<blockquote>\n  <p>I think with the following design a real performance issue could be when I want to get all of the groups that a user is following for a specific item (based off of the user_id and item_id)</p>\n</blockquote>\n\n<p>I think a few things could help you out in this situation:</p>\n\n<ul>\n<li>Take advantage of MongoDB's powerful <a href=\"http://docs.mongodb.org/manual/core/indexes-introduction/\" rel=\"nofollow\">indexing capabilities</a>. In particular, I think you should consider creating <a href=\"http://docs.mongodb.org/manual/core/index-compound/\" rel=\"nofollow\">compound indexes</a> on your Follower objects covering your Group and User, and your Item_Groups on Item and Group, respectively.  You'll also want to make sure this kind of relationship is unique, in that a user can only follow a group once and an item can only be added to a group once.  This would best be achieved in some pre-save hooks defined in your schema, or using a plugin to check for validity.</li>\n</ul>\n\n<p><code>FollowerSchema.index({ group: 1, user: 1 }, { unique: true });</code>\n<code>Item_GroupsSchema.index({ group: 1, item: 1 }, { unique: true });</code></p>\n\n<p>Using an index on these fields will create some overhead when writing to the collection, but it sounds like reading from the collection will be a more common interaction so it'll be worth it (I'd suggest reading more up on <a href=\"http://docs.mongodb.org/manual/tutorial/ensure-indexes-fit-ram/\" rel=\"nofollow\">index performance</a>).</p>\n\n<ul>\n<li><p>Since a User probably won't be following thousands of groups, I think it'd be worthwhile to include in the user model an array of groups the user is following.  This will help you out with that complex query when you want to find all instances of an item in groups that a user is currently following, since you'll have the list of groups right there.  You'll still have the implementation where your using <code>$in: groups</code>, but it'll be with one less query to the collection.</p></li>\n<li><p>As I mentioned before, it seems like items may not necessarily be in that many groups (just like users won't necessarily be following thousands of groups).  If the case may commonly be that an item is in maybe a couple hundred groups, I'd consider just adding an array to the item model for each group that it gets added to.  This would increase your performance when reading all the groups an item is in, a query you mentioned would be a common one.  Note: You'd still use the Item_Groups model to retrieve all the items in a group by querying on the (now indexed) group_id.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I agree with the general notion of other answers that this is a <em>borderline</em> relational problem. </p>\n\n<p>The key to MongoDB data models is write-heaviness, but that can be tricky for this use case, mostly because of the bookkeeping that would be required if you wanted to link users to items directly (a change to a group that is followed by lots of users would incur a huge number of writes, and you need some worker to do this).</p>\n\n<p>Let's investigate whether the read-heavy model is inapplicable here, or whether we're doing premature optimization.</p>\n\n<h2>The Read Heavy Approach</h2>\n\n<p>Your key concern is the following use case:</p>\n\n<blockquote>\n  <p>a real performance issue could be when I want to get all of the groups that a user is following for a specific item [...] because then I have to find all of the groups the user is following, and from that find all of the item_groups with the group_id <code>$in</code> and the item id.</p>\n</blockquote>\n\n<p>Let's dissect this:</p>\n\n<ul>\n<li><p>Get all groups that the user is following</p>\n\n<p>That's a simple query: <code>db.followers.find({userId : userId})</code>. We're going to need an index on <code>userId</code> which will make the runtime of this operation O(log n), or blazing fast even for large n. </p></li>\n<li><p>from that find all of the item_groups with the group_id <code>$in</code> and the item id</p>\n\n<p>Now this the trickier part. Let's assume for a moment that it's unlikely for items to be part of a large number of groups. Then a compound index <code>{ itemId, groupId }</code> would work best, because we can reduce the candidate set dramatically through the first criterion - if an item is shared in only 800 groups and the user is following 220 groups, mongodb only needs to find the intersection of these, which is comparatively easy because both sets are small.</p></li>\n</ul>\n\n<p>We'll need to go deeper than this, though:</p>\n\n<p>The structure of your data is <em>probably</em> that of a <strong>complex network</strong>. Complex networks come in many flavors, but it makes sense to assume your follower graph is <a href=\"http://en.wikipedia.org/wiki/Scale-free_network\" rel=\"nofollow\">nearly scale-free</a>, which is also pretty much the worst case. In a scale free network, a very small number of nodes (celebrities, super bowl, Wikipedia) attract a whole lot of 'attention' (i.e. have many connections), while a much larger number of nodes have trouble getting the same amount of attention <em>combined</em>.</p>\n\n<p>The <strong>small nodes are no reason for concern</strong>, the queries above, including round-trips to the database are in the <strong>2ms range</strong> on my development machine on a dataset with tens of millions of connections and > 5GB of data. Now that data set isn't huge, but no matter what technology you choose you, will be RAM bound because the indices must be in RAM in any case (data locality and separability in networks is generally poor), and the set intersection size is small by definition. In other words: this regime is dominated by hardware bottlenecks.</p>\n\n<p>What about the <strong>supernodes</strong> though?</p>\n\n<p>Since that would be guesswork and I'm interested in network models a lot, I <a href=\"https://github.com/cmenge/mongo-network\" rel=\"nofollow\">took the liberty of implementing a dramatically simplified network tool</a> based on your data model to make some measurements. (Sorry it's in C#, but generating well-structured networks is hard enough in the language I'm most fluent in...).</p>\n\n<p>When querying the supernodes, I get results in the range of <strong>7ms tops</strong> (that's on 12M entries in a 1.3GB db, with the <strong>largest group having 133,000 items in it</strong> and a user that follows 143 groups.)</p>\n\n<p>The <strong>assumption</strong> in this code is that the number of groups followed by a user isn't huge, but that seems reasonable here. If it's not, I'd go for the write-heavy approach.</p>\n\n<p>Feel free to play with the code. Unfortunately, it will need a bit of optimization if you want to try this with more than a couple of GB of data, because it's simply not optimized and does some very inefficient calculations here and there (especially the beta-weighted random shuffle could be improved).</p>\n\n<p><strong>In other words: I wouldn't worry about the performance of the read-heavy approach <em>yet</em>.</strong> The problem is often not so much that the number of users grows, but that users use the system in unexpected ways.</p>\n\n<h2>The Write Heavy Approach</h2>\n\n<p>The alternative approach is probably to reverse the order of linking:</p>\n\n<pre><code>UserItemLinker\n{\n userId,\n itemId,\n groupIds[]  // for faster retrieval of the linker. It's unlikely that this grows large\n}\n</code></pre>\n\n<p>This is probably the most scalable data model, but I wouldn't go for it unless we're talking about HUGE amounts of data where sharding is a key requirement. The key difference here is that we can now efficiently compartmentalize the data by using the userId as part of the shard key. That helps to parallelize queries, shard efficiently and improve data locality in multi-datacenter-scenarios.</p>\n\n<p>This could be tested with a more elaborate version of the testbed, but I didn't find the time yet, and frankly, I think it's overkill for most applications.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>So I'm using mongodb and I'm unsure if I've got the correct / best database collection design for what I'm trying to do.</p>\n\n<p>There can be many items, and a user can create new groups with these items in. Any user may follow any group!</p>\n\n<p><img src=\"http://i.stack.imgur.com/8lZ2g.jpg\" alt=\"enter image description here\"></p>\n\n<p>I have not just added the followers and items into the group collection because there could be 5 items in the group, or there could be 10000 (and the same for followers) and from research I believe that you should not use unbound arrays (where the limit is unknown) due to performance issues when the document has to be moved because of its expanding size. (Is there a recommended maximum for array lengths before hitting performance issues anyway?)</p>\n\n<p>I think with the following design a real performance issue could be when I want to get all of the groups that a user is following for a specific item (based off of the user_id and item_id), because then I have to find all of the groups the user is following, and from that find all of the item_groups with the group_id $in and the item id. (but I can't actually see any other way of doing this)</p>\n\n<pre><code>Follower\n.find({ user_id: \"54c93d61596b62c316134d2e\" })\n.exec(function (err, following) {\n  if (err) {throw err;};\n\n  var groups = [];\n\n  for(var i = 0; i&lt;following.length; i++) {\n    groups.push(following[i].group_id)\n  }\n\n  item_groups.find({\n  'group_id': { $in: groups },\n  'item_id': '54ca9a2a6508ff7c9ecd7810'\n  })\n  .exec(function (err, groups) {\n    if (err) {throw err;};\n\n    res.json(groups);\n\n  });\n\n})\n</code></pre>\n\n<p><strong>Are there any better DB patterns for dealing with this type of setup?</strong></p>\n\n<p>UPDATE: Example use case added in comment below.</p>\n\n<p>Any help / advice will be really appreciated.</p>\n\n<p>Many Thanks,\nMac</p>\n",
            "last_activity_date": 1424282687,
            "question_id": 28421505,
            "score": 4,
            "tags": [
                "javascript",
                "mongodb",
                "database-design",
                "database-schema",
                "database-performance"
            ],
            "title": "Followers - mongodb database design"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Not sure if this may help you, because I'm also just starting to play around with the new ng-grid.</p>\n\n<p>It seems like a lot of options have changed. From what I learned I can tell you that there is no more need for a cellTemplate if you want to have a dropdown. It's already built in.</p>\n\n<p>Activate it like this:</p>\n\n<pre><code>app.controller('MainCtrl', ['$scope', '$http',\n  function($scope, $http) {\n\n    $scope.genderTypes = [{\n      ID: 1,\n      type: 'female'\n    }, {\n      ID: 2,\n      type: 'female'\n    }, {\n      ID: 3,\n      type: 'both'\n    }, {\n      ID: 4,\n      type: 'none'\n    }, ];\n\n\n    $scope.gridOptions = {\n      enableSorting: true,\n      enableFiltering: true,\n      enableCellEditOnFocus: true,\n      columnDefs: [{\n        field: 'name',\n        sort: {\n          direction: 'desc',\n          priority: 1\n        }\n      }, {\n        field: 'gender',\n        editType: 'dropdown',\n        enableCellEdit: true,\n        editableCellTemplate: 'ui-grid/dropdownEditor',\n        editDropdownOptionsArray: $scope.genderTypes,\n        editDropdownIdLabel: 'type',\n        editDropdownValueLabel: 'type'\n      }, {\n        field: 'company',\n        enableSorting: false\n      }],\n      onRegisterApi: function(gridApi) {\n        grid = gridApi.grid;\n      }\n    };\n\n    $http.get('https://rawgit.com/angular-ui/ui-grid.info/gh-pages/data/100.json')\n      .success(function(data) {\n        $scope.gridOptions.data = data;\n      });\n\n  }\n]);\n</code></pre>\n\n<p>I'm not quiet sure if I like this approach, but time and usage will tell ...</p>\n\n<p>Oh, and I haven't found out how to detect changes. Still searching the (lousy) documentation for an event or if I have to watch grid-data for changes.</p>\n\n<p>Tell me if you have found something about this.</p>\n\n<p>So far have fun with this <a href=\"http://plnkr.co/edit/zm2snCK2A7GkEXXmWvZc?p=preview\" rel=\"nofollow\">Plunker</a></p>\n\n<p><strong>Update:</strong></p>\n\n<p>I found out how to react to a change. Add/Change these lines:</p>\n\n<pre><code>  onRegisterApi: function(gridApi) {\n    grid = gridApi.grid;\n    gridApi.edit.on.afterCellEdit($scope, function(rowEntity, colDef) {\n      alert(rowEntity.name + ' ' + rowEntity.gender);\n    });\n  }\n</code></pre>\n\n<p>Alert pops up when you leave edit mode. e.g Click outside the cell.</p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You would need to use the <strong>external-scopes</strong> feature within 3.x version of ui-grid. The reason why you are not able to get any options in the select dropdown is because ui-grid now uses an isolated scope and this will not allow you to directly access app scope variables when in a cell.</p>\n\n<p>I was able to get your plunkr working with steps below - see <a href=\"http://plnkr.co/edit/25EwviR7ZJMK4e8F7Ljd?p=preview\" rel=\"nofollow\" title=\"updated plunkr\">updated plunkr</a></p>\n\n<p><strong>Steps:</strong></p>\n\n<p><strong>1)</strong>  Within index.html, specify the <strong>external-scopes</strong> attribute in the grid div i.e. modify</p>\n\n<pre><code>&lt;div ui-grid=\"gridOptions\" ui-grid-edit class=\"grid\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>to</strong></p>\n\n<pre><code>&lt;div ui-grid=\"gridOptions\" ui-grid-edit class=\"grid\" external-scopes=\"myExternalScope\"&gt;&lt;/div&gt; \n</code></pre>\n\n<p><strong>2)</strong> Within app.js, assign the scope to our external-scope property i.e add this line:</p>\n\n<pre><code>$scope.myExternalScope = $scope;\n</code></pre>\n\n<p><strong>3)</strong> Within temp.html, access the genderTypes array using <strong>getExternalScopes()</strong> i.e. modify <strong>editableCellTemplate</strong> value from</p>\n\n<pre><code>&lt;select ng-model=\"row.entity.Gender\" data-ng-options=\"d as d.type for d in genderType\"&gt;\n</code></pre>\n\n<p><strong>to</strong></p>\n\n<pre><code>&lt;select ng-model=\"row.entity.Gender\" data-ng-options=\"d as d.type for d in getExternalScopes().genderTypes\"&gt;\n</code></pre>\n\n<p><strong>Extra Thoughts:</strong></p>\n\n<p>1) I did not find the <strong>ui-grid/dropdownEditor</strong> suitable for my needs - hence, did not try this out yet.</p>\n\n<p>2) You can add <strong>cellTemplate</strong> also along with <strong>editableCellTemplate</strong>. You can assign both the same value.</p>\n\n<p><strong>References:</strong></p>\n\n<ol>\n<li><a href=\"http://ui-grid.info/docs/#/tutorial/305_externalScopes\" rel=\"nofollow\">http://ui-grid.info/docs/#/tutorial/305_externalScopes</a></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm using ng-grid's new 3.0 release <strong><a href=\"http://ui-grid.info/\" rel=\"nofollow\">ui-grid</a></strong> to make a grid in my application. What i'm trying to do is make one of the editable cells in my table an <a href=\"https://docs.angularjs.org/api/ng/directive/select\" rel=\"nofollow\">ng-options</a> dropdown that is filled with data retrieved with an angular factory.</p>\n\n<p>I'm trying to do this by using the <a href=\"http://ui-grid.info/docs/#/tutorial/201_editable\" rel=\"nofollow\">editableCellTemplate</a> feature of the ui-grid. </p>\n\n<p>Here is some example code:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div ui-grid=\"gridOptions\" ui-grid-edit class=\"grid\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>$scope.gridOptions = {\n    enableSorting: true,\n    enableFiltering: true,\n    enableCellEditOnFocus: true,\n    columnDefs: [\n      { field: 'name',\n        sort: {\n          direction: 'desc',\n          priority: 1\n        }\n      },\n      { field: 'gender', editType: 'dropdown', enableCellEdit: true,\n          editableCellTemplate: 'temp.html' },\n      { field: 'company', enableSorting: false }\n]};\n</code></pre>\n\n<p>temp.html:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;select ng-model=\"row.entity.gender\" data-ng-options=\"d as d.type for d in genderType\"&gt;\n        &lt;option value=\"\" selected disabled&gt;Choose Gender&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is a <a href=\"http://plnkr.co/edit/7IJ7WedbjEGHkxBOtNJn?p=preview\" rel=\"nofollow\">plunker</a> with the code. [<strong>Note:</strong> this is just example code. Array for ng-options is being pulled in from angular factory in actual code and not declared in scope. editDropdownOptionsArray will probably not work because data is dynamic.]</p>\n\n<p>Is it possible to do this with ui-grid? I thought maybe it was an issue of scope because if  I would put the ng-option code in my HTML page it worked as expected, but what I can gather from ui-grid documentation is that the temp.html file should be in the scope. I know this stuff is still in unstable release, but any help on the matter would be appreciated!</p>\n",
            "last_activity_date": 1413330419,
            "question_id": 26245495,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs",
                "grid",
                "ng-grid",
                "angular-ui-grid"
            ],
            "title": "Using an ng-option dropdown in a ui-grid editableCellTemplate [ng-grid 3.x]"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You have to use the asynchronous version of <code>HTTP.get</code> and collect the results using <code>Future</code>s.</p>\n\n<p>I made up a simple example using <code>setTimeout</code>s to simulate HTTP requests so that you understand the principle, I advise you start from this code and replace the dummy <code>setTimeout</code> with your HTTP get request.</p>\n\n<p>The example is a <code>test</code> server method which takes a number of tasks (n) as a parameter, it then launches n tasks that each compute the square of their index in index seconds.</p>\n\n<pre><code>// we use fibers which is a dependency of Meteor anyway\nvar Future=Npm.require(\"fibers/future\");\n\nMeteor.methods({\n    test:function(n){\n        // build a range of tasks from 0 to n-1\n        var range=_.range(n);\n        // iterate sequentially over the range to launch tasks\n        var futures=_.map(range,function(index){\n            var future=new Future();\n            console.log(\"launching task\",index);\n            // simulate an asynchronous HTTP request using a setTimeout\n            Meteor.setTimeout(function(){\n                // sometime in the future, return the square of the task index\n                future.return(index*index);\n            },index*1000);\n            // accumulate asynchronously parallel tasks\n            return future;\n        });\n        // iterate sequentially over the tasks to resolve them\n        var results=_.map(futures,function(future,index){\n            // waiting until the future has return\n            var result=future.wait();\n            console.log(\"result from task\",index,\"is\",result);\n            // accumulate results\n            return result;\n        });\n        //\n        console.log(results);\n        return results;\n    }\n});\n</code></pre>\n\n<p>Type <code>&gt; Meteor.call(\"test\",3,function(error,result){console.log(result);});</code> in your browser console. This will output <code>[0,1,4]</code> after 3 seconds.</p>\n\n<p>In your server console, this will output :</p>\n\n<pre><code>// immediately :\nlaunching task 0\nlaunching task 1\nlaunching task 2\n// after 1 second :\nresult from task 0 is 0\n// after 2 seconds :\nresult from task 1 is 1\n// after 3 seconds :\nresult from task 2 is 4\n[ 0, 1, 4 ]\n</code></pre>\n\n<p>The <code>HTTP.get</code> asynchronous version is detailed in Meteor docs :</p>\n\n<p><a href=\"http://docs.meteor.com/#http_call\">http://docs.meteor.com/#http_call</a></p>\n\n<p>If you want to understand better the whole <code>Future</code> concept, refer to the fibers docs :</p>\n\n<p><a href=\"https://github.com/laverdet/node-fibers\">https://github.com/laverdet/node-fibers</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>So I have a Meteor method that is supposed to tell the server to send multiple API requests to 3rd party APIs, and then combine the results of these queries into one array, which is returned to the client.</p>\n\n<p>However, I can't seem to find a way for the server to wait until all the API queries have completed before returning the result.</p>\n\n<p>The synchronous version of the code, which just fetches the data API call after another, goes like this:</p>\n\n<pre><code>Meteor.methods({\n    fetchData: function(APILinks) {\n        var data = [];\n        APILinks.forEach(function(APILink) {\n            var items = HTTP.get(APILink).content.items;\n            items.forEach(function (item) {\n                data.push(item);\n            });\n        });\n        return items;\n    }\n});\n</code></pre>\n\n<p>This synchronous code works. However, I haven't been able to find a good way to make the API requests async. The closest I could get to a solution was to redefine the method to return the result of only one API request, and then have the client side loop through each of the API link and calling the method for each one of them. However, is there a way to wrap all these requests into one nice method that returns <strong>only when all the API requests are complete</strong>?</p>\n",
            "last_activity_date": 1411485831,
            "question_id": 25940806,
            "score": 4,
            "tags": [
                "javascript",
                "asynchronous",
                "meteor"
            ],
            "title": "meteor - Synchronizing multiple async queries before returning?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>For this you need to make connection variable as <strong>global</strong> var.</p>\n\n<p>Sample <strong>server.js</strong></p>\n\n<pre><code>var mongoose = require('mongoose');\nglobal.mongoose = mongoose;\nglobal.Schema = mongoose.Schem;\n</code></pre>\n\n<p>I don't remember completely, but you may need to use <strong>require</strong> in other module also.\neg:</p>\n\n<pre><code>require('./server.js');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can create a <code>mongoUtil.js</code> module that has functions to both connect to mongo and return a mongo db instance:</p>\n\n<pre><code>var MongoClient = require( 'mongodb' ).MongoClient;\n\nvar _db;\n\nmodule.exports = {\n\n  connectToServer: function( callback ) {\n    MongoClient.connect( \"mongodb://localhost:27017/marankings\", function( err, db ) {\n      _db = db;\n      return callback( err );\n    } );\n  },\n\n  getDb: function() {\n    return _db;\n  }\n};\n</code></pre>\n\n<p>To use it, you would do this in your <code>app.js</code>:</p>\n\n<pre><code>var mongoUtil = require( 'mongoUtil' );\n\nmongoUtil.connectToServer( function( err ) {\n  // start the rest of your app here\n} );\n</code></pre>\n\n<p>And then, when you need access to mongo somewhere, you can do this:</p>\n\n<pre><code>var mongoUtil = require( 'mongoUtil' );\nvar db = mongoUtil.getDb();\n\ndb.collection( 'users' ).find();\n</code></pre>\n\n<p>The reason this works is that in node, when modules are <code>require</code>'d, they only get loaded/sourced once so you will only ever end up with one instance of <code>_db</code> and <code>mongoUtil.getDb()</code> will always return that same instance.</p>\n\n<p>Note, code not tested.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I've been reading and reading and still am confused on what is the best way to share the same database (MongoDb) connection across whole NodeJs app. As I understand connection should be open when app starts and reused between modules. My current idea of the best way is that <code>server.js</code> (main file where everything starts) connects to database and creates object variable that is passed to modules. Once connected this variable will be used by modules code as necessary and this connection stays open. E.g.:</p>\n\n<pre><code>    var MongoClient = require('mongodb').MongoClient;\n    var mongo = {}; // this is passed to modules and code\n\n    MongoClient.connect(\"mongodb://localhost:27017/marankings\", function(err, db) {\n        if (!err) {\n            console.log(\"We are connected\");\n\n            // these tables will be passed to modules as part of mongo object\n            mongo.dbUsers = db.collection(\"users\");\n            mongo.dbDisciplines = db.collection(\"disciplines\");\n\n            console.log(\"aaa \" + users.getAll()); // displays object and this can be used from inside modules\n\n        } else\n            console.log(err);\n    });\n\n    var users = new(require(\"./models/user\"))(app, mongo);\n    console.log(\"bbb \" + users.getAll()); // not connected at the very first time so displays undefined\n</code></pre>\n\n<p>then another module <code>models/user</code> looks like that:</p>\n\n<pre><code>Users = function(app, mongo) {\n\nUsers.prototype.addUser = function() {\n    console.log(\"add user\");\n}\n\nUsers.prototype.getAll = function() {\n\n    return \"all users \" + mongo.dbUsers;\n\n    }\n}\n\nmodule.exports = Users;\n</code></pre>\n\n<p>Now I have horrible feeling that this is wrong so are there any obvious problems with this approach and if so how to make it better?</p>\n",
            "last_activity_date": 1404829765,
            "question_id": 24621940,
            "score": 4,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "express"
            ],
            "title": "How to properly reuse connection to Mongodb across NodeJs application and modules"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There's a ton of state (attributes, event handlers, the code related to those, internal state, ...) involved in an HTML element. It just doesn't make sense to serialize all of that into JSON.</p>\n\n<p>If you want to get <em>some kind of representation</em> of the element in JSON, you could for instance use <code>.html()</code> to get a HTML string representing the element. Or come up with a format that encodes, for instance, tag names, attributes and text only. You could have to implement that by hand though (or find a library - \"html to json\" could be a good keyword)</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>The line <code>JSON.stringify( $(\"p\") );</code> causes an error:</p>\n\n<pre><code>InvalidStateError: Failed to read the 'selectionDirection' property from 'HTMLInputElement': The input element's type ('button') does not support selection.\n</code></pre>\n\n<p><sup>(I'm using Google Chrome 34)</sup></p>\n\n<p>Why? </p>\n\n<p>How else should I make <code>$(\"p\")</code> more portable so I can store it or pass it in a message?</p>\n",
            "last_activity_date": 1397526607,
            "question_id": 23073216,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "Why can&#39;t you stringify a jQuery object?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There is no good way to see the contents of FormData. A trick would be to send it (POST) and look at the network status.</p>\n\n<p>Example: <a href=\"http://jsfiddle.net/K7aMw/2/\" rel=\"nofollow\">http://jsfiddle.net/K7aMw/2/</a></p>\n\n<pre><code>$(document).on(\"click\", \"button\", function (e) {\n    e.preventDefault();\n    var inputs = $(\"#my_form input\");\n    $.each(inputs, function (obj, v) {\n        var file = v.files[0];\n        var filename = $(v).attr(\"data-filename\");\n        var name = $(v).attr(\"id\");\n        myFormData.append(name, file, filename);\n    });\n    var xhr = new XMLHttpRequest;\n    xhr.open('POST', '/echo/html/', true);\n    xhr.send(myFormData);\n});\n</code></pre>\n\n<p>Then you'll see if the files are added (here Chrome) in the Network Tab.</p>\n\n<blockquote>\n  <p><img src=\"http://imageshack.com/a/img542/8217/5mgh.png\" alt=\"Image\"></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have a multiple (and dynamic) number of inputs of <code>type=file</code>.  </p>\n\n<p>I want to create a FormData object out of them.</p>\n\n<p>I need to manually append them to the object as I need access to their filenames for inserting into a database and therefore need to specify a filename is this format:</p>\n\n<pre><code>myFormData.append(name,file,filename);\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;form id=\"my_form\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" name=\"undefined\" id=\"file_1\" data-filename=\"image.jpg\"&gt;\n    &lt;input type=\"file\" name=\"undefined\" id=\"file_2\" data-filename=\"image2.jpg\"&gt;\n    &lt;button&gt;click&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>var myFormData = new FormData();\n\n$(document).on(\"click\", \"button\", function(e) {\n    e.preventDefault();\n    var inputs = $(\"#my_form input\");\n    $.each(inputs,function(obj,v) {\n        var file = v.files[0];\n        var filename = $(v).attr(\"data-filename\");\n        var name = $(v).attr(\"id\");\n        myFormData.append(name, file, filename);\n    });\n\n    //alert(JSON.stringify(myFormData));\n    console.log(myFormData);\n});  \n</code></pre>\n\n<p>I don't think the object is being constructed properly and I haven't been able to correctly view the contents of the object to confirm this.  </p>\n\n<p>This is what I get in the console:</p>\n\n<p><img src=\"http://i.stack.imgur.com/cxmym.png\" alt=\"enter image description here\"></p>\n\n<p><strong>jsFiddle</strong></p>\n\n<p><a href=\"http://jsfiddle.net/rwone/K7aMw/\" rel=\"nofollow\">http://jsfiddle.net/rwone/K7aMw/</a></p>\n",
            "last_activity_date": 1413538572,
            "question_id": 21901528,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                ".each",
                "form-data"
            ],
            "title": "How to append multiple file inputs to a FormData object using $.each?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You're misunderstanding how promises work. <code>deferred.reject()</code> simply notifies the <code>deferred.promise</code> that it has been rejected.</p>\n\n<pre><code>var promise = deferred.promise;\n\npromise.then(\n  function (result) { \n    // this function runs if the promise was resolved\n  },\n  function (result) {\n    // this function runs if the promise was rejected\n    // this is where you should put $state.go(..)\n  }\n)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>ui-router is supposed to throw a <code>$stateChangeError</code> if a route resolve is rejected. You need to watch for this event, and trigger your state transition there.</p>\n\n<p>As per the wiki:</p>\n\n<p><code>$stateChangeError</code> - fired when an error occurs during transition. It's important to note that if you have any errors in your resolve functions (javascript errors, non-existent services, etc) they will not throw traditionally. You must listen for this $stateChangeError event to catch ALL errors.</p>\n\n<p><a href=\"https://github.com/angular-ui/ui-router/wiki#wiki-state-change-events\">https://github.com/angular-ui/ui-router/wiki#wiki-state-change-events</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm using Angular ui-router and have a resolve function set up for one of my states, before the controller is initialized. I retrieve some data, loop through and  match it up the URL stateParam, and if a match is found, resolve the promise to the controller and return that object in the promise. That's all working well. </p>\n\n<p>However, if a match isn't found I simply want to redirect to a different state by rejecting the promise and running <code>$state.go('state');</code> </p>\n\n<p>Simply this: </p>\n\n<pre><code>deferred.reject();\n$state.go('state',{params: 'param'});\n</code></pre>\n\n<p>But this doesn't seem to do anything. The controller just hangs, and I get no console errors or anything. Any ideas?</p>\n",
            "last_activity_date": 1392773741,
            "question_id": 21868219,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs",
                "routing",
                "promise",
                "angular-ui-router"
            ],
            "title": "$state transition after rejected promise Angular ui-router"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h3>The problem</h3>\n\n<p>As soon as Angular is injected, it parses the DOM looking for an element with the <code>ng-app</code> directive. If one is found Angular will bootstrap automatically. This becomes a problem when a page uses Angular itself, because (although they have separate JS execution contexts) the page and the content script share the same DOM.</p>\n\n<h3>The solution</h3>\n\n<p>You need to prevent <em>your</em> Angular instance (by \"your\" I mean the one injected by your extension as a content script) from automatically bootstrapping. Normally you would just omit the <code>ng-app</code> directive and you would be good to go, but since you do not have control over the original DOM (nor do you want to break the page's functionality) this is not an option.</p>\n\n<p>What you <strong>can</strong> do it use <strong><a href=\"http://docs.angularjs.org/guide/bootstrap#overview_manual-initialization\" rel=\"nofollow\">manual bootstrapping</a></strong> for your Angular app in conjunction with <strong><a href=\"http://docs.angularjs.org/guide/bootstrap#overview_deferred-bootstrap\" rel=\"nofollow\">deferred bootstrapping</a></strong> (to prevent your Angular from trying to automatically bootstrap the page's Angular app).</p>\n\n<p>At the same time, you need to \"protect\" (i.e. hide) your app's root element from the page's Angular instance. To achieve this, you can wrap your root element in a parent element with the <strong><a href=\"http://docs.angularjs.org/api/ng.directive:ngNonBindable\" rel=\"nofollow\">ngNonBindable</a></strong> directive, so the page's Angular instance will leave it alone.</p>\n\n<p>Summarizing the steps from the above docs, you need to do the following:</p>\n\n<ol>\n<li><p>Prepend <code>window.name</code> with <code>NG_DEFER_BOOTSTRAP!</code> prior to injecting your Angular.<br>\nE.g. inject a tiny script (before <code>angluar.js</code>) containing just one line:<br>\n<code>window.name = 'NG_DEFER_BOOTSTRAP!' + window.name;</code></p></li>\n<li><p>Wrap your app's root element in a parent element with the attribute <code>ng-non-bindable</code>:<br>\n<code>var wrapper = ...    // &lt;div ng-non-bindable&gt;&lt;/div&gt;</code><br>\n<code>wrapper.appendChild(lamp);   // or whatever your root element is</code><br>\n<code>$('body').append(wrapper);</code></p></li>\n<li><p>In your app's main script, manually bootstrap your Angular app:<br>\n<code>var appRoot = document.querySelector('#&lt;yourRootElemID');</code><br>\n<code>angular.bootstrap(appRoot, ['genie-extension']);</code></p></li>\n</ol>\n\n<p><strike><sub>\n<strong>Fine print:</strong> I haven't tested it myself, but I promise to do so soon !\n</sub></strike></p>\n\n<hr>\n\n<h3>UPDATE</h3>\n\n<p>The code below is intended as a proof of concept for the approach described above. Basically, it is a demo extension that loads an Angular-powered content-script into any <code>http:</code>/<code>https:</code> page whenever the browser-action button is clicked.</p>\n\n<p>The extension takes all necessary precautions in order not to interfere with (or get broken by) the page's own Angular instance (if any).</p>\n\n<p>Finally, I had to add a third requirement (see the updated solution description above) to protect/hide the content-script's Angular app from the page's Angular instance.<br>\n(I.e. I wrapped the root element in a parent element with the <strong><a href=\"http://docs.angularjs.org/api/ng.directive:ngNonBindable\" rel=\"nofollow\">ngNonBindable</a></strong> directive.)</p>\n\n<p><strong>manifest.json:</strong></p>\n\n<pre><code>{\n    \"manifest_version\": 2,\n    \"name\":    \"Test Extension\",\n    \"version\": \"0.0\",\n\n    \"background\": {\n        \"persistent\": false,\n        \"scripts\": [\"background.js\"]\n    },\n\n    \"browser_action\": {\n        \"default_title\": \"Test Extension\"\n//        \"default_icon\": {\n//            \"19\": \"img/icon19.png\",\n//            \"38\": \"img/icon38.png\"\n//        },\n    },\n\n    \"permissions\": [\"activeTab\"]\n}\n</code></pre>\n\n<p><strong>background.js:</strong></p>\n\n<pre><code>/* Inject our Angular app, taking care\n * not to interfere with page's Angular (if any) */\nfunction injectAngular(tabId) {\n\n    /* Prevent immediate automatic bootstrapping */\n    chrome.tabs.executeScript(tabId, {\n        code: 'window.name = \"NG_DEFER_BOOTSTRAP!\" + window.name;'\n    }, function () {\n\n        /* Inject AngularJS */\n        chrome.tabs.executeScript(tabId, {\n            file: 'angular-1.2.7.min.js'\n        }, function () {\n\n            /* Inject our app's script */\n            chrome.tabs.executeScript(tabId, {\n                file: 'content.js'\n            });\n        });\n    });\n}\n\n/* Call `injectAngular()` when the user clicks the browser-action button */\nchrome.browserAction.onClicked.addListener(function (tab) {\n    injectAngular(tab.id);\n});\n</code></pre>\n\n<p><strong>content.js:</strong></p>\n\n<pre><code>/* Create a non-bindable wrapper for the root element\n * to keep the page's Angular instance away */\nvar div = document.createElement('div');\ndiv.dataset.ngNonBindable = '';\ndiv.style.cssText = [\n    'background:  rgb(250, 150, 50);',\n    'bottom:      0px;',\n    'font-weight: bold;',\n    'position:    fixed;',\n    'text-align:  center;',\n    'width:       100%;',\n    ''].join('\\n');\n\n/* Create the app's root element (everything else should go in here) */\nvar appRoot = document.createElement('div');\nappRoot.dataset.ngController = 'cs_myCtrl';\nappRoot.innerHTML = 'Angular says: {{data.demo}}';\n\n/* Insert elements into the DOM */\ndocument.body.appendChild(div);\ndiv.appendChild(appRoot);\n\n/* Angular-specific code goes here (i.e. defining and configuring\n * modules, directives, services, filters, etc.) */\nvar app = angular.module('cs_myApp', []);\napp.controller('cs_myCtrl', function ($scope) {\n    $scope.data = {\n        demo: 'Hello, isolated world !'\n    };\n});\n\n/* Manually bootstrap the Angular app */\nwindow.name = '';   // To allow `bootstrap()` to continue normally\nangular.bootstrap(appRoot, ['cs_myApp']);\nconsole.log('Boot and loaded !');\n</code></pre>\n\n<p><sub>\n<strong>Fine print:</strong><br>\nI have conducted some preliminary tests (with both Angular and non-Angular webpages) and everything seems to work as expected. Yet, I have by no means tested this approach thoroughly !\n</sub></p>\n\n<hr>\n\n<p>Should anyone be interested, <strong><a href=\"https://db.tt/UjZZ0A7R\" rel=\"nofollow\">this is what it took</a></strong> to \"Angularize\" Genie's lamp.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I'm writing a Chrome Extension (<a href=\"http://www.github.com/kentcdodds/genies-lamp\" rel=\"nofollow\">here</a>) for <a href=\"http://www.github.com/kentcdodds/genie\" rel=\"nofollow\">my library</a> that uses angular for <a href=\"http://www.github.com/kentcdodds/ux-genie\" rel=\"nofollow\">its UI</a>. It works great on pages that don't use angular, but it causes issues with pages that do have angular. For example, on the Angular docs page:</p>\n\n<pre><code>Uncaught Error: [$injector:modulerr] Failed to instantiate module docsApp due to:\n  Error: [$injector:nomod] Module 'docsApp' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.\n  http://errors.angularjs.org/1.2.7/$injector/nomod?p0=docsApp\nat chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:78:14\nat chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:1528:19\nat ensure (chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:1453:40)\nat module (chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:1526:16)\nat chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:3616:24\nat Array.forEach (native)\nat forEach (chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:302:13)\nat loadModules (chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:3610:7)\nat createInjector (chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:3550:13)\nat doBootstrap (chrome-extension://cfgbockhpgdlmcdlcbfmflckllmdiljo/angular.js:1298:22)\nhttp://errors.angularjs.org/1.2.7/$injector/modulerr?p0=docsApp&amp;p1=Error%3A\u2026xtension%3A%2F%2Fcfgbockhpgdlmcdlcbfmflckllmdiljo%2Fangular.js%3A1298%3A22) angular.js:78\n</code></pre>\n\n<p>The weird thing is that it seems to happen whether my extension actually <em>uses</em> angular or not. All I need to reproduce the issue is to include angular in my manifest.json as a <code>content_script</code> and this error is thrown. Any ideas of how I could make this work without messing up an angular site would be greatly appreciated.</p>\n\n<p>Like I said, it doesn't matter whether I actually use angular or not, but this is all I'm doing to use it:</p>\n\n<pre><code>makeWishForAnchors(); // This just loads the global genie object. I don't believe it's related.\n\nvar lamp = '&lt;div class=\"genie-extension\"&gt;&lt;div ux-lamp lamp-visible=\"genieVisible\" rub-class=\"visible\" local-storage=\"true\"&gt;&lt;/div&gt;&lt;/div&gt;';\n$('body').append(lamp);\n\nangular.module('genie-extension', ['uxGenie']);\nangular.bootstrap($('.genie-extension')[0], ['genie-extension']);\n</code></pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1416529628,
            "question_id": 21048891,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs",
                "google-chrome",
                "google-chrome-extension"
            ],
            "title": "Using Angular in extension on a page that already uses angular"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You need to define function in the scope of jade, not in JS you generate:</p>\n\n<pre><code>block content\n   -  function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); };\n  table\n    - var list = ['one', 'two']\n    - var itemName = 'test test'\n    - each item in list\n      tr\n        td\n          a(href=\"/collection\") #{capitalize(itemName)}\n</code></pre>\n\n<p>but it's probably better to have it outside of template and pass reference to helpers object</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am new to nodejs and trying to create a jade file for the html content <code>myfile.jade</code>:\nHere are the contents of the file:</p>\n\n<pre><code>extends layout\nblock content\n   script\n     function capitalize(s) { \n       console.log(\"Testing js exec\");\n       return s.charAt(0).toUpperCase() + s.slice(1); \n     };\n  table\n    - each item in list\n      tr\n        td\n          a(href=\"/collection/#{item.name}\") #{capitalize(itemName)}\n</code></pre>\n\n<p>However, when running it throws the following error:</p>\n\n<pre><code>Error: mweb/views/collections.jade:8\n    6|   script\n    7|     function capitalize(s) { \n  &gt; 8|       console.log(\"Testing js exec\");\n    9|       return s.charAt(0).toUpperCase() + s.slice(1); \n    10|     };\n</code></pre>\n\n<p><code>unexpected text ;</code></p>\n\n<p>If I remove console.log, it throws the error saying:</p>\n\n<pre><code>TypeError: mweb/views/collections.jade:18\n  &gt; 18|             a(href=\"/collection/#{item.name}\") #{capitalize(itemName)}\n</code></pre>\n\n<p>As far as I realized, capitalize is being called during the jade compilation and the function is not available as the script tag is also compiled into the html. What is the best way for me to have this call evaluated on \na) server side or \nb) client side?</p>\n\n<p>Thx</p>\n",
            "last_activity_date": 1388971843,
            "question_id": 20940860,
            "score": 4,
            "tags": [
                "javascript",
                "node.js",
                "express",
                "jade"
            ],
            "title": "javascript function execution inside jade template"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The extension can reload itself, by calling <strong><a href=\"http://developer.chrome.com/extensions/runtime.html#method-reload\" rel=\"nofollow\"><code>chrome.runtime.reload()</code></a></strong>, so it's a matter of triggering the extension to do it. </p>\n\n<p>One method that worked for me, is to watch for tabs' <strong><a href=\"http://developer.chrome.com/extensions/tabs.html#event-onUpdated\" rel=\"nofollow\"><code>onUpdated</code></a></strong> event and look for a specific URL (you have come up with), e.g. <code>http://localhost/reloadX?id=...</code>.</p>\n\n<p>This is the sample code (to be placed in <strong>background.js</strong>):</p>\n\n<pre><code>var myReloadURL = 'http://localhost/reloadX?id='\n                  + chrome.i18n.getMessage('@@extension_id');\n\nchrome.tabs.onUpdated.addListener(function(tabId, info, tab) {\n    if (info.url === myReloadURL) {\n        chrome.tabs.remove(tabId);\n        chrome.runtime.reload();\n    }\n});\n</code></pre>\n\n<p>Additional permissions (to be declared in <strong>manifest.json</strong>):</p>\n\n<pre><code>...\n\"permissions\": [\n    ...\n    \"tabs\",\n    \"http://localhost/reloadX?id=*\"\n</code></pre>\n\n<p><sub><code>myReloadURL</code> is arbitrary and can be any URL, just doesn't have to be a real URL or the resource will be rendered unreachable.</sub></p>\n\n<p>Now, in order to reload your extension, you need to open the following address in Chrome:<br>\n<code>http://localhost/reloadX?id=&lt;your_extension_id&gt;</code></p>\n\n<p>It is up to you to choose how to trigger that on save. It could be an <code>on-save</code> hook in your editor, a custom grunt-watch task (since you  seem to be familiar with grunt) etc .</p>\n\n<hr>\n\n<p>(BTW, you don't need to reload the <code>chrome://extensions</code> page. It suffices to reload the extension.)</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I am developing a chrome extension, and I found that there are repeating useless manual reloading works.</p>\n\n<p>When you save a file, you have to refresh the <code>chrome:\\\\extensions</code> page to let browser to reload the extension. And then you have to reload the test page to see if the changes to files take effect. </p>\n\n<p>I am newbie to Chrome extension development. And are there any ways to reduce the repeating works? I am also curious that what is the best practice of chrome extension development workflow.</p>\n\n<p>Poor English, feel free to correct.</p>\n",
            "last_activity_date": 1387790383,
            "question_id": 20736675,
            "score": 4,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension"
            ],
            "title": "How to reload a chrome extension automatically?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Angular performs a <strong>digest</strong> function to update the DOM when your data changes.</p>\n\n<p>During the digest, it recomputes all the values you have bound in the DOM, in this case <code>{{RandomColorClass()}}</code>.  If any of them change, it again performs a digest cycle (since some variables may depend on the value of of the changed variable, for example). </p>\n\n<p>It does this repeatedly until two digests in a row result in the same values -- i.e, nothing has changed.</p>\n\n<p>What's happening is that when a digest occurs, your <code>RandomColorClass()</code> function is being called and returns a different value.  This triggers an additional digest, where <code>RandomColorClass()</code> again returns a different value, which triggers another digest...</p>\n\n<p>Can you see where this is going?  You shouldn't be generating random values in this manner -- instead, generate them in your scope and persist them.</p>\n\n<p>One approach might be, in your scope:</p>\n\n<pre><code>function randomColourClass() { /* ... */ };\n\n$scope.GridStockRecords.forEach(function(record) {\n  record.colorClass = randomColourClass(); \n});\n</code></pre>\n\n<p>and HTML:</p>\n\n<pre><code>    &lt;div ng-repeat=\"stockRecord in GridStockRecords | filter:searchText\"\n         ng-class=\"stockRecord.colorClass\"&gt;\n      &lt;div&gt;\n        &lt;h6&gt;{{stockRecord.ProductGroupName}}&lt;/h6&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Answer unrelated to this particular question, but I'm adding it here because it's on the Google front page when you search for the error message and it took me a bit until I figured it out:</p>\n\n<p>I had something like this in my view:</p>\n\n<pre><code>&lt;custom-tag data=\"[1,2,3]\"/&gt;\n</code></pre>\n\n<p>And the controller of the custom tag had a watcher set up on <code>$scope.data</code>. This caused AngularJS to barf because every time it re-checked the value of <code>data</code> it got a new object from the view (remember, the array is an object) so it never finished digesting it properly.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had the same problem in IE10 turns ut that the problem was that I was redirecting using window.location.</p>\n\n<pre><code>window.location = \"#route/yada\";\n</code></pre>\n\n<p>Changed the code to</p>\n\n<pre><code>$location.path(\"/route/yada);\n</code></pre>\n\n<p>And that solved my issues. =D</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to create a Metro Tile type grid with Angular, to achieve this i want each of the tiles to be a different colour. So my plan of action was to create a function that would randomly pick a colour inside a loop (using ng-repeat). Here is what i have so far....</p>\n\n<pre><code>        &lt;div class={{RandomColourClass()}} ng-repeat=\"stockRecord in GridStockRecords | filter:searchText\"&gt;\n    &lt;div  &gt;\n        &lt;h6&gt;{{stockRecord.ProductGroupName}}&lt;/h6&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>So as you can see i am setting the class name with a function called RandomColourClass, Here is the JS bits</p>\n\n<pre><code>$scope.TileColours = [{colour:'thumbnail tile tile-blue'},{colour:'thumbnail tile tile-green'},{colour:'thumbnail tile tile-red'}];\n\n$scope.RandomColourClass = function(){\nvar randomColour = $scope.TileColours[Math.floor(Math.random() * $scope.TileColours.length)];\nreturn randomColour.colour.toString();\n};\n</code></pre>\n\n<p>This all works fine and the tiles are of different colours but i keep getting the following error \"Error: 10 $digest() iterations reached. Aborting!\". I've had a look at other posts around the issue but i can't figure out what i need to change to get it working!? Any help or direction would be greatly appreciated :)</p>\n",
            "last_activity_date": 1389558303,
            "question_id": 19693410,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-controller"
            ],
            "title": "AngularJs - Error: 10 $digest() iterations reached. Aborting"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This just a guess but I don't know why you have $scope listed as a dependency of your service. I think something like this</p>\n\n<pre><code> app.service('newActiveOrdersModel', ['$rootScope',\n    function($rootScope){..}]\n</code></pre>\n\n<p>will solve the error. Also I wouldn't include $rootScope unless you absolutely need it. It's generally considered bad practice in Angular to store stuff in the $rootScope.</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I have just started with AngularJS\nThe following code gives an error in the console.</p>\n\n<p>Unknown provider: $scopeProvider &lt;- $scope &lt;- newActiveOrdersModel . I have researched but it looks like Unknown Provider error can happen for a variety of reasons.It would be nice if anyone could point out where I am going wrong ?</p>\n\n<pre><code>var app;\n(function(angular){\n\n    app = angular.module('OrdersDashboard',[]);\n    app.config(['$routeProvider', function($routeProvider) {\n        $routeProvider.\n            when('/current/new', {templateUrl: 'orders/partials/new_current', controller: 'newActiveOrdersCtrl'}).\n            otherwise({redirectTo: '/'});\n    }]);\n    app.service('newActiveOrdersModel', ['$scope', '$rootScope',\n        function($scope, $rootScope){\n\n            this.Orders=[\"This is a test order\"];\n            this.fetchOrders = function(){\n\n                console.log(\"This is a test order\");\n                this.Orders=[\"This is a test order1111\"];\n            };\n        }]);\n    app.controller('newActiveOrdersCtrl', ['$scope', '$rootScope', 'newActiveOrdersModel',\n        function($scope, $rootScope, newActiveOrdersModel){\n\n            $scope.test=\"Hello World\";\n        }]);\n\n})(angular);\n</code></pre>\n\n<p>It seems like Angular Js cannot recognize \"newActiveOrdersModel\".</p>\n",
            "last_activity_date": 1382542783,
            "question_id": 19546032,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "AngularJS throws Unknown provider: $scopeProvider &lt;- $scope error when I try to use modules"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Depending on what exactly you want, you might be able use the <a href=\"http://nodejs.org/api/vm.html\"><code>vm</code></a> module (which is built-in to Node) as a sort of sandbox thing:</p>\n\n<pre><code>var vm = require('vm');\nvar fs = require('fs');\n\nvar safe_require = function(mod) {\n  var code    = fs.readFileSync(require.resolve(mod));\n  var sandbox = {\n    console : console,\n    module  : {},\n    require : function(mod) {\n      // as a simple example, we'll block any requiring of the 'net' module, but\n      // you could implement some sort of whitelisting/blacklisting for modules \n      // that are/aren't allowed to be loaded from your module:\n      if (mod === 'net') {\n        throw Error('not allowed');\n      }\n      // if the module is okay to load, load it:\n      return require.apply(this, arguments);\n    }\n  };\n  vm.runInNewContext(code, sandbox, __filename);\n  return sandbox.module.exports;\n};\n\nvar mod = safe_require('./mod1');\n</code></pre>\n\n<p>(as you can see, any built-in functions of Node, like <code>console</code>, that you want to use in the modules that are <code>safe_require</code>'d need to be passed in the sandbox object)</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I did a little research and couldn't find anything that makes my case success.</p>\n\n<p>So, I'm loading <code>.js</code> from external scripts with <code>require(..)</code>, each script exports a function ..</p>\n\n<p><strong>main.js</strong></p>\n\n<pre><code>var main=10;\nvar mod1 = require(\"./mod1.js\");\n</code></pre>\n\n<p><strong>mod1.js</strong></p>\n\n<pre><code>module.exports=function(){\n console.log('loaded');\n var net=require('net'); // i don't want it to be able to require certain node.js apis\n net.create...; \n}\n</code></pre>\n\n<p>I saw some ways where a <code>.json</code> file declares the <code>permissions</code> and if so it grants access to script. How can something like that be achieved for core node.js apis?</p>\n",
            "last_activity_date": 1382085393,
            "question_id": 19443543,
            "score": 4,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "How restrict access to apis in node.js javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here's what you do:</p>\n\n<ul>\n<li>write a middleware your app can use in place of the default express.session middleware</li>\n<li>in that middleware, based on the <code>host</code> request header instatiate and configure on instance of the express session middleware per domain, and then actually execute the middleware function appropriate for this request</li>\n</ul>\n\n<p>pseudocode</p>\n\n<pre><code>var mwCache = Object.create(null);\nfunction virtualHostSession(req, res, next) {\n  var host = req.get('host'); //maybe normalize with toLowerCase etc\n  var hostSession = mwCache[host];\n  if (!hostSession) {\n    hostSession = mwCache[host] = express.session(..config for this host...);\n  }\n  hostSession(req, res, next);\n  //don't need to call next since hostSession will do it for you\n}\n\napp.use(virtualHostSession);\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>My requests are highly asynchronous and if I just set it for the whole app at every request, I fear it might not work when two calls come in at once.</p>\n</blockquote>\n\n<p>Absolutely you cannot do that. It will be utterly incorrect.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have a situation where an app can be accessed from multiple different domains. For instance, <em>foo.com</em> and <em>bar.com</em> could both in theory point to my app. Additionally, their subdomains can also point to my app, so for instance <em>red.foo.com</em> and <em>blue.foo.com</em>. I'm using Express cookie sessions, and my initialization code for the session looks like that:</p>\n\n<pre><code>app.use(express.session({\n    secret: \"secret\",\n    cookie: {\n        domain: \".foo.com\"\n    },\n    store: new MongoStore({\n        db: db\n    })\n}));\n</code></pre>\n\n<p>That works well for when users go through <em>foo.com</em> or any of it's subdomains, but <em>bar.com</em> won't work. I need to have both at once. Ideally, I would set it to a different domain per request, but I'm not sure how I would do that. My requests are highly asynchronous and if I just set it for the whole app at every request, I fear it might not work when two calls come in at once.</p>\n\n<p>Is this at all possible? Does anyone have any ideas to solve this?</p>\n",
            "last_activity_date": 1380582171,
            "question_id": 19104292,
            "score": 4,
            "tags": [
                "javascript",
                "node.js",
                "session",
                "express",
                "session-cookies"
            ],
            "title": "Express session with different cookie domain per request?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can't because javascript is executed on client (in a browser) and C# on the server.</p>\n\n<p>The only thing you can do is to echo function invocation that will be executed when the page will execute in the browser.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>aspx file in header section</p>\n\n<pre><code>&lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        &lt;%=YourScript %&gt;\n        function functionname1(arg1,arg2){content}\n    &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>cs file </p>\n\n<pre><code>public string YourScript = \"\";\npublic string functionname(arg)\n{\n  if(condition)\n  {\n      YourScript = \"functionname1(arg1,arg2);\";\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>As an alternative you can always use <a href=\"http://signalr.net/\" rel=\"nofollow\">SignalR</a> to communicate back and forth between server side c# code and client side javascript code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>if you want to call JavaScript function in C#, this will help you</p>\n\n<pre><code>public string functionname(arg)\n{\n   if(condition)\n   {\n      Page page = HttpContext.Current.CurrentHandler as Page;\n      page.ClientScript.RegisterStartupScript(typeof(Page), \"Test\", \"&lt;script type='text/javascript'&gt;functionname1(\" + arg1+ \",'\" + arg2+ \"');&lt;/script&gt;\");\n   }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>it may be helpful to you        </p>\n\n<pre><code>      &lt;script type=\"text/javascript\"&gt;\n        function Showalert() {\n            alert('Profile not parsed!!');\n            window.parent.parent.parent.location.reload();\n        }\n        function ImportingDone() {\n            alert('Importing done successfull.!');\n            window.parent.parent.parent.location.reload();\n        }\n    &lt;/script&gt;\n\n        if (SelectedRowCount == 0)\n        {\n            ScriptManager.RegisterStartupScript(this, GetType(), \"displayalertmessage\", \"Showalert();\", true);\n        }\n        else\n        {\n            ScriptManager.RegisterStartupScript(this, GetType(), \"importingdone\", \"ImportingDone();\", true);\n        }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Javascript.js</p>\n\n<pre><code>function functionname1(arg1,arg2){content}\n</code></pre>\n\n<p>C# file</p>\n\n<pre><code>public string functionname(arg)\n{\n  if(condition)\n  {\n      functionname1(arg1,arg2); // how to call Javascript function from C#\n  }\n}\n</code></pre>\n\n<p>Please refer the above code and suggest me the idea to call javascript function from c#</p>\n",
            "last_activity_date": 1406024094,
            "question_id": 18931936,
            "score": 4,
            "tags": [
                "c#",
                "javascript",
                "asp.net",
                "function"
            ],
            "title": "Call Javascript function from C#"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Firstly put shared classes on both the <code>radio</code> buttons and the <code>div</code> elements which show the content. In my example I've used <code>trigger</code> and <code>content</code> respectively. Then add a <code>data</code> attribute to the radio to identify which div should be shown on click. </p>\n\n<p>Shortened example:</p>\n\n<pre><code>&lt;form id='group'&gt;\n    &lt;label&gt;\n        &lt;input type=\"radio\" name=\"group1\" class=\"sim-micro-btn trigger\" data-rel=\"sim-micro-desktop\" /&gt;\n    &lt;/label&gt;\n&lt;/form&gt;\n&lt;div class=\"billpay-internet-add-ons\"&gt;\n    &lt;div class=\"sim-micro-desktop content\"&gt;sim-micro&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then you only need 1 click handler like this:</p>\n\n<pre><code>$(document).ready(function(){\n    $('.trigger').click(function() {\n        $('.content').hide();\n        $('.' + $(this).data('rel')).show();\n    });\n});\n</code></pre>\n\n<p>You can also then use CSS to hide the <code>div</code> elements without jQuery - styling should always be done in CSS anyway as it's a much better separation of concerns.</p>\n\n<pre><code>.content {\n    display: none;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Qac6J/1/\" rel=\"nofollow\"><strong>Example fiddle</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>You could use selectors to reduce the number of lines of code here.</p>\n\n<pre><code>$('.sim-micro-desktop').hide();\n$('.sim-mini-desktop').hide();\n$('.sim-maxi-desktop').hide();\n$('.sim-mega-desktop').hide();\n$('.phone-smart-micro-desktop').hide();\n$('.phone-smart-mini-desktop').hide();\n$('.phone-smart-desktop').hide();\n$('.phone-smart-maxi-desktop').hide();\n</code></pre>\n\n<p>Could be shortened to:</p>\n\n<pre><code>$('.billpay-internet-add-ons div').hide();\n</code></pre>\n\n<p>This uses the parent element to group those elements you want to hide, rather than repeating the request for each one.</p>\n\n<p>Similarly, you can use your naming convention to map the items to the elements to show and hide - here is the full working example:</p>\n\n<pre><code>$(document).ready(function(){\n    $('.billpay-internet-add-ons div').hide();\n\n    $('form#group').click(function(){\n        $('#group input').each(function() {\n            var item = $(this);\n            var isChecked = item.is(':checked');\n            var name = item.attr('class').replace(\"-btn\", \"-desktop\");\n\n            if (isChecked) {\n                $('.' + name).show();\n            } else {\n                $('.' + name).hide();\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>This example is purely based on your HTML without any changes. <a href=\"http://jsfiddle.net/8ZcE9/\" rel=\"nofollow\">See it working here</a>.</p>\n\n<p>You could simplify this further if you didn't need to transform the names. You could use a data-attribute instead of changing the class names to do this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>use html5 data attribute)(i.e data-mappingclass ) pointing to corresponding div you need to show. add same class to all radio button(ie radioClass).</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"radioClass sim-micro-btn\" data-mappingclass=\"sim-micro-desktop\"/&gt;&lt;/label&gt;\n &lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"radioClass sim-mini-btn\" data-mappingclass=\"sim-mini-desktop\"/&gt;&lt;/label&gt;\n ... //same for others\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>$('.radioClass').click(function() {\n  $('.billpay-internet-add-ons div').hide();\n  if(this.checked){\n     $('.' + $(this).data('mappingclass').show();\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can firstly have everything hidden by default (except one form maybe) using CSS, which gets rid of this:</p>\n\n<pre><code>$('.sim-micro-desktop').hide();\n$('.sim-mini-desktop').hide();\n$('.sim-maxi-desktop').hide();\n$('.sim-mega-desktop').hide();\n$('.phone-smart-micro-desktop').hide();\n$('.phone-smart-mini-desktop').hide();\n$('.phone-smart-desktop').hide();\n$('.phone-smart-maxi-desktop').hide();\n</code></pre>\n\n<p>This has a negative implication for users without javascript, if you're worried - they'll never be able to see the other forms.</p>\n\n<p>Next, only one radio can be checked, so just find out which one it is using:</p>\n\n<pre><code>$('input[name=group1]:checked);\n</code></pre>\n\n<p>But why would you do that, so you have the radios have a click handler more like:</p>\n\n<pre><code>$('#group input[type=\"radio\"').click(function(){\n    //code to show/hide form\n});\n</code></pre>\n\n<p>Now you have a choice as to how you link your radio buttons to the different forms one way could be to use the data attribute, so you define your radios like so:</p>\n\n<pre><code>&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"phone-smart-maxi-btn\" data-form=\"phone-smart-maxi-desktop\"/&gt;&lt;/label&gt;\n</code></pre>\n\n<p>Which you can access like so:</p>\n\n<pre><code>$('input[name=group1]:checked).data(\"form\");\n</code></pre>\n\n<p>Now all you need to do is hide the div that was already showing, but that can be achieved with a similar use of the data attribute or by using the <code>:visible</code> selector.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can hide the <code>div</code> elements using CSS:</p>\n\n<pre><code>.billpay-internet-add-ons div {\n  display: none;\n}\n</code></pre>\n\n<p>Then you can use the <code>className</code> of the <code>target</code> to determine which <code>div</code> to show, hiding all <code>sibling</code> elements:</p>\n\n<pre><code>$('form#group').click(function(e) {\n    var className = e.target.className.replace('btn', 'desktop');    \n    $('.' + className).show().siblings().hide();\n});\n</code></pre>\n\n<h3><a href=\"http://jsfiddle.net/R7wgY/14/\" rel=\"nofollow\">Here's a fiddle</a></h3>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>var $billpay= $('.billpay-internet-add-ons');\n$billpay.find(\"div\").hide();\n$(\"#group input:radio\").click(function(){\n  $billpay.find(\"div\").hide();\n  $billpay.find(\"div:eq(\"+$(this).parent().index()+\")\").show();    \n}); \n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/KaF77/2/\" rel=\"nofollow\">http://jsfiddle.net/KaF77/2/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I simplified it some four you. Basically you look which index the radio clicked has and then show a div with the same index. So the position of the divs has to match the radios.</p>\n\n<p>Your HTML is the same as before.</p>\n\n<p>Your CSS:</p>\n\n<pre><code>.billpay-internet-add-ons &gt; div {\n    display:none;\n}\n</code></pre>\n\n<p>All your Javascript:</p>\n\n<pre><code>$(document).ready(function(){\n    $('form#group').click(function(e)\n    {\n        $('.billpay-internet-add-ons &gt; div').hide();\n        $('form#group input[type=\"radio\"]').each(function(index)\n        {\n            if($(this).is(':checked'))\n            {\n                $('.billpay-internet-add-ons &gt; div:eq(' + index + ')').show();\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>jsFiddle Demo: <a href=\"http://jsfiddle.net/cfSXY/\" rel=\"nofollow\">http://jsfiddle.net/cfSXY/</a> </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Basically, I want 8 radio buttons. And if one radio button is selected then a div is shown below. If another button is selected another div is shown. Only one div shown at a time and if no button selected (initially) then no divs shown.</p>\n\n<p>This is my HTML which is fairly standard, I'm not trying to improve this for what I need.</p>\n\n<pre><code>&lt;form id='group'&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"sim-micro-btn\"/&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"sim-mini-btn\"/&gt;&lt;/label&gt; \n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"sim-maxi-btn\"/&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"sim-mega-btn\"/&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"phone-smart-micro-btn\"/&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"phone-smart-mini-btn\"/&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"phone-smart-btn\"/&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"radio\" name=\"group1\" class=\"phone-smart-maxi-btn\"/&gt;&lt;/label&gt;\n&lt;/form&gt;\n\n&lt;div class=\"billpay-internet-add-ons\"&gt;\n  &lt;div class=\"sim-micro-desktop\"&gt;sim-micro&lt;/div&gt;\n  &lt;div class=\"sim-mini-desktop\"&gt;sim-mini&lt;/div&gt;\n  &lt;div class=\"sim-maxi-desktop\"&gt;sim-maxi&lt;/div&gt;\n  &lt;div class=\"sim-mega-desktop\"&gt;sim-mega&lt;/div&gt;\n  &lt;div class=\"phone-smart-micro-desktop\"&gt;phone-smart-micro&lt;/div&gt;\n  &lt;div class=\"phone-smart-mini-desktop\"&gt;phone-smart-mini&lt;/div&gt;\n  &lt;div class=\"phone-smart-desktop\"&gt;phone-smart&lt;/div&gt;\n  &lt;div class=\"phone-smart-maxi-desktop\"&gt;phone-smart-maxi&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>However this is my script and it seems fairly hectic and I'm wondering before I move on is there a way to do this a bit more simple?</p>\n\n<pre><code>$(document).ready(function(){\n    $('.sim-micro-desktop').hide();\n    $('.sim-mini-desktop').hide();\n    $('.sim-maxi-desktop').hide();\n    $('.sim-mega-desktop').hide();\n    $('.phone-smart-micro-desktop').hide();\n    $('.phone-smart-mini-desktop').hide();\n    $('.phone-smart-desktop').hide();\n    $('.phone-smart-maxi-desktop').hide();\n\n\n    $('form#group').click(function(){\n        if($('.sim-micro-btn').is(\":checked\")){\n            $('.sim-micro-desktop').show();\n        } else {\n            $('.sim-micro-desktop').hide();\n        }     \n\n        if($('.sim-mini-btn').is(\":checked\")){\n            $('.sim-mini-desktop').show();\n        } else {\n            $('.sim-mini-desktop').hide();\n        }     \n\n        if($('.sim-maxi-btn').is(\":checked\")){\n            $('.sim-maxi-desktop').show();\n        } else {\n            $('.sim-maxi-desktop').hide();\n        }  \n\n        if($('.sim-mega-btn').is(\":checked\")){\n            $('.sim-mega-desktop').show();\n        } else {\n            $('.sim-mega-desktop').hide();\n        }  \n\n        if($('.phone-smart-micro-btn').is(\":checked\")){\n            $('.phone-smart-micro-desktop').show();\n        } else {\n            $('.phone-smart-micro-desktop').hide();\n        }  \n\n        if($('.phone-smart-mini-btn').is(\":checked\")){\n            $('.phone-smart-mini-desktop').show();\n        } else {\n            $('.phone-smart-mini-desktop').hide();\n        }  \n\n        if($('.phone-smart-btn').is(\":checked\")){\n            $('.phone-smart-desktop').show();\n        } else {\n            $('.phone-smart-desktop').hide();\n        }  \n\n        if($('.phone-smart-maxi-btn').is(\":checked\")){\n            $('.phone-smart-maxi-desktop').show();\n        } else {\n            $('.phone-smart-maxi-desktop').hide();\n        }  \n\n          });\n\n\n});\n</code></pre>\n",
            "last_activity_date": 1400744414,
            "question_id": 18655710,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "button",
                "radio"
            ],
            "title": "(jQuery / HTML) if Radio Button is Selected Show Div - 8 Radio Buttons / 8 Divs - Can this be simplified?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The only thing I've found so far that helps with IE memory usage is to <strong>not</strong> assign IDs to the nodes, or to assign them IDs that repeat across iterations of the animation:</p>\n\n<pre><code>node.id = 'id' + j;\n</code></pre>\n\n<p>See the live version here: <a href=\"http://bl.ocks.org/explunit/6413371\" rel=\"nofollow\">http://bl.ocks.org/explunit/6413371</a></p>\n\n<p>I thought that nulling the ID prior to removing the DOM node would do the same thing, but this had no effect.</p>\n\n<p>I don't really like this answer so I'm hoping that someone else comes along with a better explanation of why the node pool approach didn't work.</p>\n\n<p>But for now, the moral of the story for developers using D3: if you're repeatedly adding and then removing lots of nodes with unique IDs (e.g. from .ajax calls which get records out of db), you might be in danger of a memory leak.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p><em>Background: Inspired by <a href=\"http://stackoverflow.com/questions/18364956/are-event-listeners-for-removed-automatically-when-using-remove-in-d3-js\">this question</a> and <a href=\"http://stackoverflow.com/questions/18382286/d3-js-should-i-detach-event-listener-on-exit-remove\">this question</a> about D3 memory usage I decided to dig into how it really works, and soon came upon <a href=\"http://com.hemiola.com/2009/11/23/memory-leaks-in-ie8/\" rel=\"nofollow\">cautions about repeated add/remove of DOM nodes in IE</a>.</em></p>\n\n<p>To isolate from whatever else D3 was doing, I first tried the basic SVG case of adding/removing 1000 circles every second:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var count = 1000;\nvar svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\nsvg.setAttribute('width', '800');\nsvg.setAttribute('height', '800');\ndocument.body.appendChild(svg);\n\nfunction update() {\n  // remove existing circles\n  var circles = svg.querySelectorAll(\"circle\")\n  for (var i = circles.length - 1; i &gt;= 0; i--) {\n    var parent = circles[i].parentNode;\n    if (parent) parent.removeChild(circles[i]);\n  };\n\n  // add new ones. Yes, would make more sense to update the x,y on the existing\n  // circles but this is to show what happens in IE with lots of nodes being added/removed\n  for (var j = count - 1; j &gt;= 0; j--) {\n    var node = document.createElementNS(\"http://www.w3.org/2000/svg\", 'circle');\n    node.id = 'id' + Math.random();\n    node.setAttributeNS(null, \"cx\", Math.random()*800);\n    node.setAttributeNS(null, \"cy\", Math.random()*800);\n    node.setAttributeNS(null, \"r\",  5);\n    node.setAttributeNS(null, \"fill\", \"blue\");\n    svg.appendChild(node);\n  };\n}\n\nsetInterval(update, 1000);\n</code></pre>\n\n<p>I found that this slowly leaks memory in both IE9 and IE10. See here for live version: <a href=\"http://bl.ocks.org/explunit/6413259\" rel=\"nofollow\">http://bl.ocks.org/explunit/6413259</a></p>\n\n<p><strong>What (if anything) can I do to prevent the leak, and what implications does this have for how D3 code targeting IE should be written that adds/removes a lot of nodes?</strong></p>\n\n<p>Other notes: </p>\n\n<p>Inspired by <a href=\"http://www.html5rocks.com/en/tutorials/speed/static-mem-pools/\" rel=\"nofollow\">this article</a>, I tried a simple node pool approach by pushing the removed nodes on to a stack:</p>\n\n<pre><code>if (parent) circlePool.push( parent.removeChild(circles[i]) );\n</code></pre>\n\n<p>And reusing them later:</p>\n\n<pre><code>var node;\nif (circlePool.length == 0) {\n  node = document.createElementNS(\"http://www.w3.org/2000/svg\", 'circle');\n} else {\n  node = circlePool.pop();\n  //TODO: clear out attributes of the node\n}\n</code></pre>\n\n<p>But this did not make any difference.</p>\n",
            "last_activity_date": 1378131979,
            "question_id": 18575452,
            "score": 4,
            "tags": [
                "javascript",
                "internet-explorer",
                "memory-leaks",
                "svg",
                "d3.js"
            ],
            "title": "Why do my svg nodes leak memory in IE"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You <em>can</em> use globals, or have a proper circular dependency (<code>require</code>ing both files), however - this is usually a bad habit which can lead to maintainability problems in the future.</p>\n\n<p>Instead, you can use dependency injection and inject <code>doSomething</code> into your module. \nThis basically gives you the following for free:</p>\n\n<ul>\n<li>You can test <code>User</code> with a simple mock implementation of <code>doSomething</code> later and verify the correctness of your code</li>\n<li>The dependencies of a user are <em>explicit</em> and not implicit, which makes it obvious what a user needs.</li>\n</ul>\n\n<p>I'll provide two implementations, one using constructor dependency injection and one with a module wide setting.</p>\n\n<pre><code> USER.JS\n\n function User(dependentFunction) {\n   this.property = 'value';\n   this.doSomething = function() {\n     var getStuff = dependentFunction();\n     // do something with getStuff\n   }\n }\n\n module.exports = User;\n\nMAIN.JS\n...\nvar u = new User(mainFileFunction);\nu.doSomething(); // this will now work, using mainFileFunction\n</code></pre>\n\n<p>What happens here is fairly simple, and we know what's going on.</p>\n\n<p>This can also be a module wide setting</p>\n\n<pre><code>USER.JS\n\nfunction User(depFunc) {\n  this.property = 'value';\n  this.doSomething = function() {\n    var getStuff = depFunc();\n    // do something with getStuff\n  }\n}\nfunction UserFactory(depFunc){ \n    return function(){\n        return new User(depFunc);\n    }\n}\nmodule.exports = UserFactory;\n\nMAIN.JS\n\n var getUser = UserFactory(mainFileFunction);\n var u = getUser(); // will return a new user with the right function\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You should pass <code>mainFileFunction</code> as a parameter to the constructor of user.</p>\n\n<pre><code>USER.JS\n\n function User(mainFileFunction) {\n   this.property = 'value';\n   this.doSomething = function() {\n     var getStuff = mainFileFunction();\n     // do something with getStuff\n }\n\n module.exports = User;\n</code></pre>\n\n<p>In your main.js use the following</p>\n\n<p><code>var u = new user(mainFileFunction);</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>How about moving mainFileFunction to user.js, and have the function accept an array as an argument:</p>\n\n<pre><code>mainFileFunction(array) {\n   for(thing in array) {\n     return array[thing];\n   }\n }\n</code></pre>\n\n<p>And then when you call it from main.js, pass the function your array:</p>\n\n<pre><code>u.doSomething(myArray);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>+1 to Benjamin answer for dependency injection.\nI would like to add another way to inject objects in your modules by passing the dependency in the require like require('./module.js')(dependentFunction);</p>\n\n<pre><code>//MAIN.js\nvar db = function() {\n    this.rows = [];\n    this.insert = function(name) {\n        this.rows.push(name);\n        console.log('Db: Inserting user with name ' + name);\n    }\n    this.getAll = function(){\n        return this.rows;\n    }\n}\nvar fakeDb = new db();\nvar user = require('./user.js')(fakeDb);\nuser.add('Jhon');\nuser.add('Rose');\nuser.list();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>//users.js\nmodule.exports = function(db) {\n    return {\n        add: function(name) {\n            db.insert(name);\n        },\n        list: function() {\n           var users =  db.getAll();\n           var i = users.length;\n           console.log('listing users\\n-------');\n           while(i--) {\n               console.log(users[i]);\n           }\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have read a lot of articles about how to create modules in node.js, and you can use module.exports to expose module internals to the file which includes it.. awesome!</p>\n\n<p>How does this work the other way around?   I'll use the following as an example :-)</p>\n\n<pre><code> USER.JS\n\n function User() {\n   this.property = 'value';\n   this.doSomething = function() {\n     var getStuff = mainFileFunction();\n     // do something with getStuff\n }\n\n module.exports = User;\n</code></pre>\n\n<hr>\n\n<pre><code> MAIN.JS\n\n var myArray = [];\n myArray.push('something');\n myArray.push('something else');\n mainFileFunction() {\n   for(thing in myArray) {\n     return myArray[thing];\n   }\n }\n\n var u = new user();\n\n log(u.property);  &lt;---  THIS IS EXPOSED, COOL!\n\n u.doSomething();  &lt;--- This will throw an error because mainFileFunction is not defined in user.js :-(\n</code></pre>\n\n<p>If I were to move mainFileFunction to the user file, then it still wouldn't work because the myArray array wouldn't be defined... and if I were to move that over too, I wouldn't be able to use it in other functions in main (which I want to)  :-)</p>\n\n<p>I'm sorry if I'm missing something really obvious here...  What I want is to expose the parts of my choosing from modules I include (module.export works for that) but I also want to expose everything from the main file to all the includes..</p>\n\n<p>or just expose everything to everything?  is that totally messy and horrible??</p>\n\n<p>Just to explain what I am trying to do here...  I want to have classes defined in separate files, but I want to instantiate a bunch of them as objects in the main file and store them in arrays..  I want the objects to contain methods which can access arrays of the other object types.</p>\n\n<p>Thanks guys! :-)</p>\n",
            "last_activity_date": 1378402436,
            "question_id": 18474550,
            "score": 4,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "node.js expose variable to module?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try adding the action on the node itself, like below, and change the cursor to pointer to give a hint to the user.</p>\n\n<pre><code>  var node = vis.selectAll(\"g.node\")\n      .data(nodes, function(d) { return d.id || (d.id = ++i); })\n      .style(\"cursor\", \"pointer\")\n      .on(\"click\", function() {\n          window.open(\"http://www.stackoverflow.com\", '_blank').focus();\n      });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You should be able to add an HTML link to any of the objects that you want by adding an <code>a</code> tag as follows (this example is for the text that is associated with each node);</p>\n\n<pre><code>  nodeEnter.append(\"a\")\n      .attr(\"xlink:href\", \"http://example.com\")\n      .append(\"svg:text\")\n      .attr(\"x\", function(d) { return d.children || d._children ? -10 : 10; })\n      .attr(\"dy\", \".35em\")\n      .attr(\"text-anchor\", function(d) { return d.children || d._children ? \"end\" : \"start\"; })\n      .text(function(d) { return d.name; })\n      .style(\"fill-opacity\", 1e-6);\n</code></pre>\n\n<p>If you had a seperate URL associated with each the data for node (let's imagine that it's called <code>link</code>) it would just be a matter of retrieving the url with a function call similar to this;</p>\n\n<pre><code>  nodeEnter.append(\"a\")\n      .attr(\"xlink:href\", function(d) { return d.link; })\n      .append(\"svg:text\")\n      .attr(\"x\", function(d) { return d.children || d._children ? -10 : 10; })\n      .attr(\"dy\", \".35em\")\n      .attr(\"text-anchor\", function(d) { return d.children || d._children ? \"end\" : \"start\"; })\n      .text(function(d) { return d.name; })\n      .style(\"fill-opacity\", 1e-6);\n</code></pre>\n\n<p>For a fuller description of adding a link see here: <a href=\"https://leanpub.com/D3-Tips-and-Tricks/read#leanpub-auto-adding-web-links-to-d3js-objects\" rel=\"nofollow\">https://leanpub.com/D3-Tips-and-Tricks/read#leanpub-auto-adding-web-links-to-d3js-objects</a></p>\n\n<p>For information on tree diagrams in general see here:  <a href=\"https://leanpub.com/D3-Tips-and-Tricks/read#leanpub-auto-tree-diagrams\" rel=\"nofollow\">https://leanpub.com/D3-Tips-and-Tricks/read#leanpub-auto-tree-diagrams</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm new to the <strong>d3.js</strong> library.</p>\n\n<p>I'm trying to make a tree like <a href=\"http://mbostock.github.io/d3/talk/20111018/tree.html\" rel=\"nofollow\">this one</a>, but with a link that goes to an external page on each node.</p>\n\n<p>Is it possible? </p>\n\n<p>I tried to add a \"svg:a\" to each node but in makes all the tree to disappear.</p>\n\n<p>Update:</p>\n\n<p>I'm taking this code from the html of the page linked above.</p>\n\n<p>The libraries linked are:</p>\n\n<ul>\n<li>d3.js</li>\n<li>d3.layout.js</li>\n</ul>\n\n<p>This is all the code:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n.node circle {\n  cursor: pointer;\n  fill: #fff;\n  stroke: steelblue;\n  stroke-width: 1.5px;\n}\n\n.node text {\n  font-size: 11px;\n}\n\npath.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 1.5px;\n}\n\n    &lt;/style&gt;\n&lt;script&gt;\nvar m = [20, 120, 20, 120],\n    w = 1280 - m[1] - m[3],\n    h = 800 - m[0] - m[2],\n    i = 0,\n    root;\n\nvar tree = d3.layout.tree()\n    .size([h, w]);\n\nvar diagonal = d3.svg.diagonal()\n    .projection(function(d) { return [d.y, d.x]; });\n\nvar vis = d3.select(\"#body\").append(\"svg:svg\")\n    .attr(\"width\", w + m[1] + m[3])\n    .attr(\"height\", h + m[0] + m[2])\n  .append(\"svg:g\")\n    .attr(\"transform\", \"translate(\" + m[3] + \",\" + m[0] + \")\");\n\nd3.json(\"flare.json\", function(json) {\n  root = json;\n  root.x0 = h / 2;\n  root.y0 = 0;\n\n  function toggleAll(d) {\n    if (d.children) {\n      d.children.forEach(toggleAll);\n      toggle(d);\n    }\n  }\n\n  // Initialize the display to show a few nodes.\n  root.children.forEach(toggleAll);\n  toggle(root.children[1]);\n  toggle(root.children[1].children[2]);\n  toggle(root.children[9]);\n  toggle(root.children[9].children[0]);\n\n  update(root);\n});\n\nfunction update(source) {\n  var duration = d3.event &amp;&amp; d3.event.altKey ? 5000 : 500;\n\n  // Compute the new tree layout.\n  var nodes = tree.nodes(root).reverse();\n\n  // Normalize for fixed-depth.\n  nodes.forEach(function(d) { d.y = d.depth * 180; });\n\n  // Update the nodes\u2026\n  var node = vis.selectAll(\"g.node\")\n      .data(nodes, function(d) { return d.id || (d.id = ++i); });\n\n  // Enter any new nodes at the parent's previous position.\n  var nodeEnter = node.enter().append(\"svg:g\")\n      .attr(\"class\", \"node\")\n      .attr(\"transform\", function(d) { return \"translate(\" + source.y0 + \",\" + source.x0 + \")\"; })\n      .on(\"click\", function(d) { toggle(d); update(d); });\n\n  nodeEnter.append(\"svg:circle\")\n      .attr(\"r\", 1e-6)\n      .style(\"fill\", function(d) { return d._children ? \"lightsteelblue\" : \"#fff\"; });\n\n  nodeEnter.append(\"svg:text\")\n      .attr(\"x\", function(d) { return d.children || d._children ? -10 : 10; })\n      .attr(\"dy\", \".35em\")\n      .attr(\"text-anchor\", function(d) { return d.children || d._children ? \"end\" : \"start\"; })\n      .text(function(d) { return d.name; })\n      .style(\"fill-opacity\", 1e-6);\n\n  // Transition nodes to their new position.\n  var nodeUpdate = node.transition()\n      .duration(duration)\n      .attr(\"transform\", function(d) { return \"translate(\" + d.y + \",\" + d.x + \")\"; });\n\n  nodeUpdate.select(\"circle\")\n      .attr(\"r\", 4.5)\n      .style(\"fill\", function(d) { return d._children ? \"lightsteelblue\" : \"#fff\"; });\n\n  nodeUpdate.select(\"text\")\n      .style(\"fill-opacity\", 1);\n\n  // Transition exiting nodes to the parent's new position.\n  var nodeExit = node.exit().transition()\n      .duration(duration)\n      .attr(\"transform\", function(d) { return \"translate(\" + source.y + \",\" + source.x + \")\"; })\n      .remove();\n\n  nodeExit.select(\"circle\")\n      .attr(\"r\", 1e-6);\n\n  nodeExit.select(\"text\")\n      .style(\"fill-opacity\", 1e-6);\n\n  // Update the links\u2026\n  var link = vis.selectAll(\"path.link\")\n      .data(tree.links(nodes), function(d) { return d.target.id; });\n\n  // Enter any new links at the parent's previous position.\n  link.enter().insert(\"svg:path\", \"g\")\n      .attr(\"class\", \"link\")\n      .attr(\"d\", function(d) {\n        var o = {x: source.x0, y: source.y0};\n        return diagonal({source: o, target: o});\n      })\n    .transition()\n      .duration(duration)\n      .attr(\"d\", diagonal);\n\n  // Transition links to their new position.\n  link.transition()\n      .duration(duration)\n      .attr(\"d\", diagonal);\n\n  // Transition exiting nodes to the parent's new position.\n  link.exit().transition()\n      .duration(duration)\n      .attr(\"d\", function(d) {\n        var o = {x: source.x, y: source.y};\n        return diagonal({source: o, target: o});\n      })\n      .remove();\n\n  // Stash the old positions for transition.\n  nodes.forEach(function(d) {\n    d.x0 = d.x;\n    d.y0 = d.y;\n  });\n}\n\n// Toggle children.\nfunction toggle(d) {\n  if (d.children) {\n    d._children = d.children;\n    d.children = null;\n  } else {\n    d.children = d._children;\n    d._children = null;\n  }\n}\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>Basically what I have tried was to add this piece of code just before the <code>nodeEnter.append(\"svg:text\")</code></p>\n\n<pre><code>  nodeEnter.append(\"svg:a\")\n      .attr(\"x\", function(d) { return d.children || d._children ? -10 : 10; })\n      .attr(\"dy\", \".35em\")\n      .attr(\"text-anchor\", function(d) { return d.children || d._children ? \"end\" : \"start\"; })\n      .text(\"http://example.com\")\n      .style(\"fill-opacity\", 1e-6);\n</code></pre>\n",
            "last_activity_date": 1399786244,
            "question_id": 18230133,
            "score": 4,
            "tags": [
                "javascript",
                "tree",
                "d3.js"
            ],
            "title": "D3 tree graph with links"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The File Dialog page in the Wiki mentions a <a href=\"https://github.com/rogerwang/node-webkit/wiki/File-dialogs#other-types-of-dialogs\" rel=\"nofollow\">save dialog file input</a></p>\n\n<blockquote>\n  <p>nwsaveas will open a save as dialog which let user enter the path of a file, and it's possible to select a non-exist file which is different with the default file input tag:</p>\n</blockquote>\n\n<p>You could use that in an custom dialog like a modal or so to query the user for that input.</p>\n\n<p>Very basic example based on your provided code:</p>\n\n<pre><code>&lt;script&gt;\n    var fs = require('fs');\n\n    var buildFile = function(name, value) {\n        var img = new Buffer(value, 'base64');\n        fs.writeFile(name, img, function(err) {\n            if(err) {\n                console.log(err);\n            } else {\n                console.log(\"The file was saved!\");\n            }\n        });\n    }\n\n    function wait() {\n        $('#close-popup').click();\n        setTimeout(function() {screen_shot()}, 10);\n    }\n\n    function screen_shot() {\n        html2canvas($('body'), {\n          onrendered: function(canvas) {\n              var img = canvas.toDataURL(\"image/png\").split(',')[1];\n              var decodedImg = window.atob(img);\n              query_for_save_path(function (save_path) {\n                buildFile(save_path, img);\n                alert('Screenshot saved to: ' + save_path);\n              });\n          }\n        });\n    }\n\n    function query_for_save_path(cb) {\n      $('#dialog').show();\n      $('#dialog input').one('change', function (event) {\n        cb($(this).val());\n      });\n    }\n&lt;/script&gt;\n\n&lt;a href=\"#\" onclick=\"wait();\" data-role=\"button\" data-theme=\"j\"&gt;Screen shot&lt;/a&gt;\n\n&lt;div id=\"dialog\" style=\"display:none;\"&gt;\n  Choose a path to save your shot:\n  &lt;input type=\"file\" nwsaveas /&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>another example here <a href=\"http://9ijy.net/blog/view/6\" rel=\"nofollow\">http://9ijy.net/blog/view/6</a> , just 3 steps to save the file where ever you like. hope this is the answer you want, and also  The File Dialog page in the Wiki mentions a <a href=\"https://github.com/rogerwang/node-webkit/wiki/File-dialogs#other-types-of-dialogs\" rel=\"nofollow\">save dialog file input</a> is very useful</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm creating an app using node-webkit, so there's a lot of javascript.  I have written a node.js function that will take a screen shot and save it to the disk, however, it saves it to the project root dir and I would like to prompt the user to choose a save location, but I cannot find a way to create a save file dialog.  Current code:</p>\n\n<p>screen_shot.js:</p>\n\n<pre><code>var fs = require('fs');\nexports.buildFile = function(name, value) {\n    var img = new Buffer(value, encoding='base64');\n    fs.writeFile(name, img, function(err) {\n        if(err) {\n            console.log(err);\n        } else {\n            console.log(\"The file was saved!\");\n        }\n    });\n};\n</code></pre>\n\n<p>index.html:</p>\n\n<pre><code>...\n    &lt;script&gt;\n        var sc= require('screen_shot');\n\n        function wait() {\n            $('#close-popup').click();\n            setTimeout(function() {screen_shot()}, 10);\n        }\n\n        function screen_shot() {\n            html2canvas($('body'), {\n              onrendered: function(canvas) {\n                  var img = canvas.toDataURL(\"image/png\").split(',')[1];\n                  var decodedImg = window.atob(img);\n                  sc.buildFile(\"sc.png\", img);\n              }\n            });\n        }\n    &lt;/script&gt;\n...\n\n&lt;a href=\"#\" onclick=\"wait();\" data-role=\"button\" data-theme=\"j\"&gt;Screen shot&lt;/a&gt;\n</code></pre>\n\n<p>The wait function is just to give the popup I'm using time to close before the screenshot is taken.</p>\n\n<p>I have been reading the <a href=\"https://github.com/rogerwang/node-webkit/wiki/File-dialogs\" rel=\"nofollow\">node-webkit file dialog doc</a> but it is either not what I'm looking for or I cannot make it work properly.</p>\n",
            "last_activity_date": 1398916008,
            "question_id": 17558126,
            "score": 4,
            "tags": [
                "javascript",
                "filedialog",
                "node-webkit",
                "save-dialog"
            ],
            "title": "Ask user where to save file with Node.js"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I could have misunderstood something due to lack of javascript knowledge, but if <code>map</code> is a curried function, and <code>compose</code> returns a curried function, then <code>compose(map, pick)</code> <em>is</em> <code>project</code>, since <code>map</code> is partially applied to <code>pick</code> -- and partial application works only on the first argument. Here's the proof of what I mean:</p>\n\n<pre><code>compose map pick =\n(\\f g x. f (g x)) map pick =         -- definition of compose\n(\\g x. map (g x)) pick =             -- apply to map\n\\x. map (pick x) =                   -- apply to pick\n\\x. (\\y. map (pick x) y) =           -- eta-expansion of inner function\n\\key table. map (pick key) table     -- combine and rename\n</code></pre>\n\n<p>(I assumed you know lambda calculus based on the name of your library.)</p>\n\n<p>As you can see, this doesn't depend on the arity of <code>map</code> -- you can eta-expand as often as you like, thus, no extra work is required for generalization. As long as everything is curried.</p>\n\n<p>For having mixed-arity, curried and uncurried functions at the same time, there are combinators like <a href=\"http://conal.net/blog/posts/semantic-editor-combinators\" rel=\"nofollow\">these</a>, but that's probably a bit too extreme.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have a function in search of a name.</p>\n\n<p>I've been building a <strong><a href=\"https://github.com/CrossEye/ramda\" rel=\"nofollow\">new functional programming library</a></strong> in Javascript, and I recently added a new function that looks useful to me.  I named it <code>useWith</code> but I'm wondering if it's a function already known to functional programmers under a different name.</p>\n\n<p>The function is related to <code>compose</code> in that it returns a new function that combines several existing ones, but in a slightly different manner than <code>compose</code>.  The first parameter it receives is singled out; the remainder are treated uniformly.  When the returned function is called, the arguments are passed respectively to each of these remaining functions, and the results, along with any unpaired arguments are sent to that first function, whose result is then returned.  So if this is called with only two functions, and if the resulting function is passed a single argument, this is exactly equivalent to compose.  But it has some additional features for multiple arguments.</p>\n\n<p>The reason I wanted this function was that I was implementing something like the <code>project</code> function\nMichal Fogus presented in <strong><a href=\"http://shop.oreilly.com/product/0636920028857.do\" rel=\"nofollow\">Functional Javascript</a></strong>, an equivalent of Codd's <code>project</code> for an array of similar Javascript objects, and similar to SQL's <code>select</code> verb.  It is quite easy to write like this:</p>\n\n<pre><code>var project = curry(function(keys, table) {\n    return map(pick(keys), table);\n});\n\n\n// Used like this:\nvar kids = [{name: 'Bob', age: 3, eyes: 'blue', hair: 'brown'}, \n            {name: 'Sue', age: 5, eyes: 'hazel', hair: 'blonde'}];\nproject(['name', 'eyes'], kids); \n//=&gt; [{name: 'Bob', eyes: 'blue'}, {name: 'Sue', eyes: 'hazel'}]\n</code></pre>\n\n<p>But I really wanted to implement it in a points-free style.  But of course this wouldn't work:</p>\n\n<pre><code>var project = compose(map, pick); // NO!\n</code></pre>\n\n<p>...because there is no facility to pass through the second parameter, <code>table</code> inside <code>compose</code>.</p>\n\n<p>That's where this new function comes in:</p>\n\n<pre><code>var project = useWith(map, pick);\n</code></pre>\n\n<p>I made it more generic than this case, though.  The original approach was called <code>using</code> with the parameters reversed, so that it read as a command: \"Using pick, map\".  But that made it hard to extend to multiple parameters.  I'd have to make the first one an array, or allow it to be either an array or a single function, and I didn't really want to go there.  This seemed a much better solution.</p>\n\n<p>I feel as though I can't be the first person with the need for a function like this.  Is this a common pattern in FP languages?  Is there a common name for this function?  If not, are there suggestions for a better name than <code>useWith</code>?</p>\n\n<hr>\n\n<p>If you're curious, here's the implementation of <code>useWith</code>, using a pretty obvious <code>slice</code>, and a fairly standard <code>curry</code>:</p>\n\n<pre><code>var useWith  curry(function(fn /*, tranformers */) {\n    var tranformers = slice(arguments, 1);\n    return function() {\n        var args = [], idx = -1;\n        while (++idx &lt; tranformers.length) {\n            args.push(tranformers[idx](arguments[idx]))\n        }\n        return fn.apply(this, args.concat(slice(arguments, tranformers.length)));\n    };\n});\n</code></pre>\n",
            "last_activity_date": 1372691095,
            "question_id": 17386706,
            "score": 4,
            "tags": [
                "javascript",
                "functional-programming"
            ],
            "title": "What&#39;s a Good Name for this extended `compose` function?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Javascript boxes the <code>this</code> argument provided to <code>call</code> and <code>apply</code> in non-strict mode. From <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply#Parameters\" rel=\"nofollow\">MDN</a>:</p>\n\n<blockquote>\n  <p>if the method is a function in non-strict mode code, <code>null</code> and <code>undefined</code> will be replaced with the global object, and primitive values will be boxed.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>First of all I assume you are talking about automatic conversion of primitive values to objects. This happens in two cases in JavaScript:</p>\n\n<ol>\n<li>When you pass a primitive value as the <code>this</code> value to <code>.call</code> or <code>.apply</code> (not in strict mode though).</li>\n<li>When you are trying to access a \"property\" of a primitive value, e.g. <code>\"foo bar\".split()</code>.</li>\n</ol>\n\n<p>In the first case the conversion is permanent, i.e. <code>this</code> will indeed reference an object, in the second the conversion only takes place internally for the duration of the evaluation</p>\n\n<p>If you are not interested in the details of the conversion, you can ignore the rest of the answer.</p>\n\n<hr>\n\n<p><strong>1. Primitve value as <code>this</code></strong></p>\n\n<p>When a function is exectued and its <code>this</code> value is not an object, it is converted to one, at least in non-strict mode. This is described in <a href=\"http://es5.github.io/#x10.4.3\" rel=\"nofollow\">\u00a710.4.3 Entering Function Code <em><sup>[spec]</sup></em></a> in the ECMAScript 5.1 documentation:</p>\n\n<blockquote>\n  <p>The following steps are performed when control enters the execution context for function code contained in function object <code>F</code>, a caller provided <code>thisArg</code>, and a caller provided <code>argumentsList</code>:</p>\n  \n  <ol>\n  <li>If the function code is strict code, set the <code>ThisBinding</code> to <code>thisArg</code>.</li>\n  <li>Else if <code>thisArg</code> is <code>null</code> or <code>undefined</code>, set the <code>ThisBinding</code> to the global object.</li>\n  <li>Else if <code>Type(thisArg)</code> is not <code>Object</code>, set the <code>ThisBinding</code> to <code>ToObject(thisArg</code>).<br>\n  [...]</li>\n  </ol>\n</blockquote>\n\n<p>As you can see in step three the value is converted to an object by calling <a href=\"http://es5.github.io/#x9.9\" rel=\"nofollow\"><code>ToObject</code> <em><sup>[spec]</sup></em></a>.</p>\n\n<p><strong>2. Property access</strong></p>\n\n<p>Something similar happens when you are trying to access properties (<a href=\"http://es5.github.io/#x11.2.1\" rel=\"nofollow\">\u00a711.2.1 Property Accessors <em><sup>[spec]</sup></em></a>). The quoted part here explains how the expression <code>foo[bar]</code> is evaluated, i.e. how property access with the bracket notation is evaluated. The part we are interested in applies to dot notation as well.</p>\n\n<blockquote>\n  <p>The production <code>MemberExpression : MemberExpression [ Expression ]</code> is evaluated as follows:</p>\n  \n  <ol>\n  <li>Let <code>baseReference</code> be the result of evaluating <code>MemberExpression</code>.</li>\n  <li>Let <code>baseValue</code> be <code>GetValue(baseReference)</code>.<br>\n  [...]  </li>\n  </ol>\n  \n  <p>&nbsp;&nbsp; 8. Return a value of type <code>Reference</code> whose <code>base</code> value is <code>baseValue</code> and whose referenced name is <code>propertyNameString</code>, and whose <code>strict</code> mode flag is <code>strict</code>.</p>\n</blockquote>\n\n<p>The important step is the last one: No matter to what <code>MemberExpression</code> evaluates, it is  converted to a value of type <a href=\"http://es5.github.io/#x8.7\" rel=\"nofollow\"><code>Reference</code> <em><sup>[spec]</sup></em></a>. This is a datatype only used in the specification and contains additional information about how the actual value should be retrieved from the reference (not to be confused with object references in actual JavaScript code!).</p>\n\n<p>To get the \"real\" value/result from such a reference, the internal function <a href=\"http://es5.github.io/#x8.7.1\" rel=\"nofollow\"><code>GetValue(V)</code> (\u00a78.7.1) <em><sup>[spec]</sup></em></a> is called (just like in step 2 in the above algorithm), where it says:</p>\n\n<blockquote>\n  <p>The following <code>[[Get]]</code> internal method is used by <code>GetValue</code> when <code>V</code> is a property reference with a primitive base value. It is called using <code>base</code> as its <code>this</code> value and with property <code>P</code> as its argument. The following steps are taken:</p>\n  \n  <ol>\n  <li>Let <code>O</code> be <code>ToObject(base)</code>.<br>\n  [...]</li>\n  </ol>\n</blockquote>\n\n<p><strong>Example:</strong></p>\n\n<p>Assume we have the expression</p>\n\n<pre><code>var foo = \"BAR\".toLowerCase();\n</code></pre>\n\n<p>This is an assignment expression which is evaluated as follows:</p>\n\n<blockquote>\n  <p>The production <code>AssignmentExpression : LeftHandSideExpression = AssignmentExpression</code> is evaluated as follows:</p>\n  \n  <ol>\n  <li>Let <code>lref</code> be the result of evaluating <code>LeftHandSideExpression</code>.</li>\n  <li>Let <code>rref</code> be the result of evaluating <code>AssignmentExpression</code>.</li>\n  <li>Let <code>rval</code> be <code>GetValue(rref)</code>.<br>\n  [...]</li>\n  </ol>\n</blockquote>\n\n<p>Step 1: The left hand side is evaluated, which is the identifier <code>foo</code>. How exactly identifiers are resolved is not important for this.<br>\nStep 2: The right hand side is evaluated, i.e. <code>\"BAR\".toLowerCase()</code>. The <strong>internal</strong> result of that evaluation will be a reference value, similar to:</p>\n\n<pre><code>REFERENCE = {\n    base: \"BAR\",\n    propertyNameString: \"toLowerCase\",\n    strict: false\n}\n</code></pre>\n\n<p>and stored in <code>rref</code>.</p>\n\n<p>Step 3: <code>GetValue(rref)</code> is called. The <code>base</code> of the reference is the value <code>\"BAR\"</code>. Since this is a primitive value, <code>ToObject</code> will be called to convert it to a <em>temporary</em> <code>String</code> object. Furthermore, the reference is actually a <em>property access</em>, so <code>GetValue</code> will eventually call the method <code>toLowerCase</code> on the <code>String</code> object and return the method's result.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>While working on another problem, I created this fiddle:</p>\n\n<p><a href=\"http://jsfiddle.net/tr2by/\" rel=\"nofollow\">http://jsfiddle.net/tr2by/</a></p>\n\n<pre><code>function foo() {\n    // console.log(_.isBoolean(this));\n    console.log(this === true);\n}\n\nfoo.call(true); // object:[object Boolean]\nfoo.apply(true); // object:[object Boolean]\n</code></pre>\n\n<p>Is this an example of auto-boxing?</p>\n\n<p>Going from a value type to a reference type.</p>\n\n<p>Here is a <a href=\"https://en.wikipedia.org/wiki/Object_type_%28object-oriented_programming%29#Autoboxing\" rel=\"nofollow\">wikipedia def.</a></p>\n",
            "last_activity_date": 1371744157,
            "question_id": 17216847,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "Does javascript autobox?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I can rename the local variable under Aptana Studio 3.0 (Eclipse based) with the JSDT \"JavaScript Editor\" and in the screenshot shown JS function: <a href=\"http://imgur.com/246oTY5\" rel=\"nofollow\">http://imgur.com/246oTY5</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I noticed that renaming is not available, when the project is not a JS project or if I open it with the non-default JS editor. (Spket JS Editor in my case.)</p>\n\n<p>So try this:</p>\n\n<ul>\n<li>Make sure in your .project file jsNature is set. </li>\n</ul>\n\n<p>E.g. (In my case I have JS code inside a Java project):</p>\n\n<pre><code>&lt;natures&gt;\n    &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;nature&gt;org.eclipse.wst.jsdt.core.jsNature&lt;/nature&gt;\n&lt;/natures&gt;\n</code></pre>\n\n<ul>\n<li>Right click file -> Open with -> JavaScript Editor</li>\n</ul>\n\n<p>Works for my using Eclipse Kepler.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In <code>Eclipse</code> (I am running 3.8.0 @ Linux (Mint 14 (Ubuntu (Debian))) at the moment), renaming variables using <code>Refactor</code> is an option that seems randomly available. For some code it's there, and for other code it's not.</p>\n\n<p>I tried to see a pattern why some <code>var</code> declarations are up for renaming and others are not, but I haven't found it yet.</p>\n\n<p>Why does refactor->rename not work for some code? How can I make this work?</p>\n\n<p><strong>You can see by the highlighted references that Eclipse is very aware of what should be refactored,</strong> so I don't understand what the problem is.</p>\n\n<p>No problem:\n<img src=\"http://i.stack.imgur.com/EQtY8.png\" alt=\"enter image description here\"></p>\n\n<p>Problem:\n<img src=\"http://i.stack.imgur.com/zVrSj.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1408433304,
            "question_id": 17212639,
            "score": 4,
            "tags": [
                "javascript",
                "eclipse",
                "refactoring",
                "rename",
                "jsdt"
            ],
            "title": "Eclipse&gt;WST&gt;JSDT Javascript Refactoring Renaming variables working half of the time"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The problems you are encountering are the following:</p>\n\n<p>Declarations of variables are not open like interfaces, so you can't add properties to an existing <code>declare var ...</code>.</p>\n\n<p>Because it is <code>declare var</code> and not <code>declare class</code> you can't extend Object using inheritance.</p>\n\n<p>So you can't get the full experience from TypeScript in this scenario. You can only get the compromise of:</p>\n\n<pre><code>Object['FooAgain'] = function () {\n    alert('Again?');\n}\n\nObject['FooAgain']();\n</code></pre>\n\n<p>If you want the full TypeScript experience, I recommend you create a class to house the static methods - they don't operate on an instance anyhow, so there is little harm in doing this:</p>\n\n<pre><code>module Custom {\n    export class Object {\n        static FooAgain() {\n            alert('Again?');\n        }\n    }\n}\n\nCustom.Object.FooAgain();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h2>UPDATE</h2>\n\n<p>It is now possible since TS 1.4. See Stefan's <a href=\"http://stackoverflow.com/a/28020863/390330\">answer below</a></p>\n\n<h2>LEGACY</h2>\n\n<p>I have this bug raised for a while now: <a href=\"https://typescript.codeplex.com/workitem/917\" rel=\"nofollow\">https://typescript.codeplex.com/workitem/917</a></p>\n\n<p>One solution that the typescript team could have (without extending the language spec) is have used interfaces for the static members and constructors : <a href=\"http://basarat.github.io/TypeScriptDeepDive/#/modellingstatics\" rel=\"nofollow\">http://basarat.github.io/TypeScriptDeepDive/#/modellingstatics</a></p>\n\n<p>Basically if lib.d.ts had: </p>\n\n<pre><code>//Pulled from lib.d.ts\n\ninterface Object {\n    toString(): string;\n    toLocaleString(): string;\n    valueOf(): Object;\n    hasOwnProperty(v: string): bool;\n    isPrototypeOf(v: Object): bool;\n    propertyIsEnumerable(v: string): bool;\n    [s: string]: any;\n}\n\ninterface ObjectStatic {\n    new (value?: any): Object;\n    (): any;\n    (value: any): any;\n    prototype: Object;\n    ...\n}\n\ndeclare var Object: ObjectStatic; \n</code></pre>\n\n<p>Then you could have easily added members to Object via: </p>\n\n<pre><code>interface ObjectStatic {\n    FooAgain(): void;\n}\n\nObject.FooAgain = function () {\n    // TS would be fine with this. \n}\n</code></pre>\n\n<p>I just created a feature request for this as well : <a href=\"https://typescript.codeplex.com/workitem/1085\" rel=\"nofollow\">https://typescript.codeplex.com/workitem/1085</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Since TypeScript 1.4 static extensions can be added easily. The TypeScript team changed the <code>lib.d.ts</code> file to use interfaces for all static type definitions.</p>\n\n<p>The static type definitions are all named like <code>[Type]Constructor</code>: So if you want to add a static function to type <code>Object</code>, then add your definition to <code>ObjectConstructor</code>.</p>\n\n<p>Definition:</p>\n\n<pre><code>interface ObjectConstructor\n{\n    FooAgain(): void;\n}\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>Object.FooAgain = function(): void\n{\n    // Oh noes, it's foo again!\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I recently asked a question about TypeScript's ability to extend existing prototypes in the JavaScript API (here: <a href=\"http://stackoverflow.com/questions/16813118/extending-object-prototype-with-typescript\">Extending Object.prototype with TypeScript</a>).</p>\n\n<p>This turned out to be a bug, which has since been resolved as of TypeScript 0.9.0 Alpha (which now includes generics...GREAT :-))</p>\n\n<p>In TypeScript, interfaces are open ended, so if you look in <em>lib.d.ts</em>, you will find an interface which defines the contract for JavaScript's Object API. You should also see a variable declaration for Object, which defines Object's static functions.</p>\n\n<p>For the sake of simplicity, here they are:</p>\n\n<pre><code>//Pulled from lib.d.ts\n\ninterface Object {\n    toString(): string;\n    toLocaleString(): string;\n    valueOf(): Object;\n    hasOwnProperty(v: string): bool;\n    isPrototypeOf(v: Object): bool;\n    propertyIsEnumerable(v: string): bool;\n    [s: string]: any;\n}\n\ndeclare var Object: {\n    new (value?: any): Object;\n    (): any;\n    (value: any): any;\n    prototype: Object;\n    getPrototypeOf(o: any): any;\n    getOwnPropertyDescriptor(o: any, p: string): PropertyDescriptor;\n    getOwnPropertyNames(o: any): string[];\n    create(o: any, properties?: PropertyDescriptorMap): any;\n    defineProperty(o: any, p: string, attributes: PropertyDescriptor): any;\n    defineProperties(o: any, properties: PropertyDescriptorMap): any;\n    seal(o: any): any;\n    freeze(o: any): any;\n    preventExtensions(o: any): any;\n    isSealed(o: any): bool;\n    isFrozen(o: any): bool;\n    isExtensible(o: any): bool;\n    keys(o: any): string[];\n}\n</code></pre>\n\n<p>So, my previous question was about extending the interface for Object, like so:</p>\n\n<pre><code>interface Object {\n    GetFoo(): Foo;\n}\n\nObject.prototype.GetFoo = function() {\n    return new Foo();\n}\n</code></pre>\n\n<p>As stated, this works as of TypeScript 0.9.0.</p>\n\n<p>But now I also want to be able to add static functions to Object, perfectly legal in pure JavaScript.</p>\n\n<p>In JavaScript I would do:</p>\n\n<pre><code>Object.FooAgain = function () {\n    // Yes, it's foo again!\n}\n</code></pre>\n\n<p>But I can't seem to be able to accomplish this in TypeScript.</p>\n\n<p>First I tried to see if Object's declaration was open ended (as with interfaces):</p>\n\n<pre><code>declare var Object: {\n    FooAgain(): void;\n}\n\nObject.FooAgain = function () {\n    // TS doesn't like this, and Object.FooAgain isn't available in intellisense.\n}\n</code></pre>\n\n<p>I also tried (I saw this in another article, and thought it was worth a try).</p>\n\n<pre><code>export declare var Object: {\n}\n</code></pre>\n\n<p>but this seems to break everything even more...</p>\n\n<p>Admittedly this issue may have also been fixed in TS 0.9.0 (I'm at work so I haven't actually tried it fully).</p>\n\n<p>Can anyone shed some light on this?</p>\n",
            "last_activity_date": 1421705982,
            "question_id": 16816414,
            "score": 4,
            "tags": [
                "javascript",
                "prototype",
                "typescript"
            ],
            "title": "Extending instance/static functions on existing prototypes with TypeScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h1>Test case</h1>\n\n<p>I revisited the <a href=\"http://jsbin.com/iyuqap/1/\" rel=\"nofollow\">test case</a> with results to present it as follows:</p>\n\n<pre><code>var results = [\n  'YY'.replace( /Y/g, '$$' ),\n  'YY'.replace( 'Y', '$$', 'g' ),\n  'YY'.replace( 'Y', function( a, b ) { return '$$'; }, 'g' ),\n  'YY'.replace( /Y/g, function( a, b ) { return '$$'; })  \n];\n\nconsole.log( results.join( '\\n' ) );\n</code></pre>\n\n<hr>\n\n<h1>Results</h1>\n\n<h3>Chrome</h3>\n\n<pre><code>$$    // '$$' -&gt; '$', global flag used, every 'Y' -&gt; '$'\n$Y    // '$$' -&gt; '$', global flag ignored, first 'Y' -&gt; '$'\n$$Y   // '$$' -&gt; '$$', global flag ignored, first 'Y' -&gt; '$$'\n$$$$  // '$$' -&gt; '$$', global flag used, every 'Y' -&gt; '$$'\n</code></pre>\n\n<h3>Firefox</h3>\n\n<pre><code>$$    // '$$' -&gt; '$', global flag used, every 'Y' -&gt; '$'\n$$    // '$$' -&gt; '$', global flag used, every 'Y' -&gt; '$'\n$$$$  // '$$' -&gt; '$$', global flag used, every 'Y' -&gt; '$$'\n$$$$  // '$$' -&gt; '$$', global flag used, every 'Y' -&gt; '$$'\n</code></pre>\n\n<h3>IE7 and 8</h3>\n\n<pre><code>$$    // '$$' -&gt; '$', global flag used, every 'Y' -&gt; '$'\n$$Y   // '$$' -&gt; '$$', global flag ignored, first 'Y' -&gt; '$$'\n$$Y   // '$$' -&gt; '$$', global flag ignored, first 'Y' -&gt; '$$'\n$$$$  // '$$' -&gt; '$$', global flag used, every 'Y' -&gt; '$$'\n</code></pre>\n\n<hr>\n\n<h1>Conclusions</h1>\n\n<ol>\n<li><p>Chrome ignores <code>'g'</code> flag as a third parameter of <code>String.replace</code> since <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace?redirectlocale=en-US&amp;redirectslug=JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow\">flags used this way don't belong to any standard</a>.</p></li>\n<li><p>IE assumes <code>$$</code> to be string rather that replacement control and ignores global flag in this case:</p>\n\n<p><code>'YY'.replace( 'Y', '$$', 'g' );</code></p></li>\n<li><p>The simplest solution make sure that results are always the same is to use a <code>RegExp</code> object with flags (<code>/foo/flags</code>) as a first parameter and either string or function as a second parameter. </p>\n\n<p>If string is a second parameter, <code>$$</code> converts to <code>$</code>. If this is a function-driven replacement, there's no such conversion.</p></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I've spotted a very strange issue in IE7|8 when using special replacement patterns:</p>\n\n<pre><code>'moo$$e'.replace( /\\$/g, '$$$$' );\n'moo$$e'.replace( '\\$', '$$$$', 'g' );   \n</code></pre>\n\n<p>Latest Chrome:</p>\n\n<pre><code> moo$$$$e moo$$$e\n</code></pre>\n\n<p>Latest Firefox:</p>\n\n<pre><code> moo$$$$e moo$$$$e\n</code></pre>\n\n<p>IE7|8:</p>\n\n<pre><code> moo$$$$e moo$$$$$e\n</code></pre>\n\n<p>I know that <a href=\"https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow\">flags parameter is nothing like a standard</a>, hence the difference between Firefox and Chrome in the second case. <strong>I'm cool with it</strong>.</p>\n\n<p>However, what I see in IE7|8 is really odd (still second case). I tried playing with <code>'\\x24'</code>, escaping and stuff but I cannot find any way to have this working as expected (<code>$$</code> stands for <code>$</code>). </p>\n\n<p>I know that this could be easily done with <code>split()</code> and <code>join()</code> like:</p>\n\n<pre><code>'moo$$e'.split( '$' ).join( '$$' );\n&gt; \"moo$$$$e\"\n</code></pre>\n\n<p>but I'm really, really curious what's wrong with IE. Is there any explanation?</p>\n\n<p>See the <a href=\"http://jsbin.com/uyuguz/2/\" rel=\"nofollow\">live example</a>.</p>\n",
            "last_activity_date": 1370945593,
            "question_id": 16774395,
            "score": 4,
            "tags": [
                "javascript",
                "regex",
                "internet-explorer-8",
                "internet-explorer-7"
            ],
            "title": "Odd behavior replacing string with special replacement patterns in IE7|8"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Just took this code from one of our projects, should help you understand the necessary markup of converting external JSON arrays and outputting in a custom autocomplete prompt:</p>\n\n<pre><code>$('input').typeahead({\n    header: 'Your Events',\n    template: [\n    '&lt;img class=\"ta-thumb\" src=\"https://graph.facebook.com/{{id}}/picture?type=square\" /&gt;',\n    '&lt;p class=\"ta-h1\"&gt;{{name}}&lt;/p&gt;',\n    '&lt;p class=\"ta-p\"&gt;{{start_time}}&lt;/p&gt;'\n    ].join(''),\n    limit: 3,\n    remote: {\n        url: 'https://graph.facebook.com/me/events?access_token=' + access_token,\n        filter: function(parsedResponse) {\n            var dataset = [];\n            for(i = 0; i &lt; parsedResponse.data.length; i++) {\n                dataset.push({\n                    name: parsedResponse.data[i].name,\n                    start_time: parsedResponse.data[i].start_time,\n                    id: parsedResponse.data[i].id,\n                    value: parsedResponse.data[i].name,\n                    tokens: [parsedResponse.data[i].id, parsedResponse.data[i].name]\n                });\n            }\n            return dataset;\n        },\n    },\n    engine: Hogan\n});\n</code></pre>\n\n<p>You need to download the <a href=\"https://raw.github.com/twitter/hogan.js/master/lib/hogan.js\" rel=\"nofollow\">Hogan.js</a> template compiler and include it in your markup (e.g. using it as an external script or via a module loader like <a href=\"http://requirejs.org/\" rel=\"nofollow\">Require.js</a>). This will then set the <code>Hogan</code> variable.</p>\n\n<p>I'd also recommend looking at that <a href=\"https://developers.facebook.com/tools/explorer/?method=GET&amp;path=search?q=q&amp;type=event\" rel=\"nofollow\">Graph API call</a> to understand the array conversion better. </p>\n\n<p>Hopefully this helps :)</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I'm using the official <a href=\"http://twitter.github.io/typeahead.js/examples/\" rel=\"nofollow\">examples from Twitter</a>.\nThe main problem, I probably don't know how to use the Hogan monster. The JS side:</p>\n\n<pre><code>$(\"#search_name\").typeahead({\n    name: 'name',\n    remote: {\n        url: '/entities/search_autocomplete.json?query=%QUERY',\n        template: '&lt;p&gt;&lt;strong&gt;{{id}}&lt;/strong&gt; \u2013 {{name}}&lt;/p&gt;',\n        engine: Hogan\n      }\n});\n</code></pre>\n\n<p>The server is returning the data in JSON, the structure is:</p>\n\n<pre><code>[{\\\"id\\\":1234,\\\"name\\\":\\\"Blah blah...\\\",\\\"tokens\\\":[\\\"blah...\\\",\\\"blah\\\"]}]\n</code></pre>\n",
            "last_activity_date": 1378820641,
            "question_id": 16321544,
            "score": 4,
            "tags": [
                "javascript",
                "twitter-bootstrap",
                "typeahead"
            ],
            "title": "Twitter&#39;s Bootstrap typeahead setup"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As @Matt said, you need to use <code>$q.all</code>, but the usage isn't quite right.  AngularJS doesn't support <code>.done</code> and <code>.fail</code> and they don't work quite like that anyway in that there's no such thing as a promise for multiple values, instead you just have a promise for an array.</p>\n\n<p>If you were writing this using the full <a href=\"https://github.com/kriskowal/q\">Q</a> we would write:</p>\n\n<pre><code>var get = function (id) {\n    return Q.all([Db.get(id, \"abc\"), Db.get(id, \"def\")])\n        .spread(function (res1, res2) {\n            return {res1: res1, res2: res2};\n        });//the error case is handled automatically\n};\n</code></pre>\n\n<p>In this case, <code>.spread</code> acts like <code>.then</code> except that it spreads the results of an array for a promise out over the arguments of its <code>onFulfilled</code> function.  To change this to use the promise methods from AngularJS we just need to make do without <code>.spread</code>.  This leads to the following solution:</p>\n\n<pre><code>var get = function (id) {\n    return $q.all([Db.get(id, \"abc\"), Db.get(id, \"def\")])\n        .then(function (res) {\n            return {res1: res[0], res2: res[1]};\n        });//the error case is handled automatically\n};\n</code></pre>\n\n<p>The beauty of this is that we are freed from handling all the nitty grity of error propagation and storing the partial results because <code>.then</code> acts as a filter.  If you leave out the error handler, it automatically propagates any errors.  This means that if either of the input promises are rejected, the result will be rejected.  If both promises are fulfilled successfully, res is the array of those resolution values.</p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>With promise API, how to send two asynchronous request in parallel, and resolve the combined result as the response. </p>\n\n<pre><code>var get = function(id){\n            var res1, res2;\n            var deferred = $q.defer();\n            Db.get(id, \"abc\")\n                .then(function (d) {\n                    //deferred.resolve(d));\n                    res1 = d;\n                }, function (e) {\n                    //error\n                });\n\n            Db.get(id, \"def\")\n                .then(function (d) {\n                    //deferred.resolve(d));\n                    res2 = d;\n                }, function (e) {\n                    //error\n                });\n\n            //?????? how to return {res1:res1 , res2: res2}\n\n            return deferred.promise;\n        };\n</code></pre>\n\n<p>now, when I call get() like</p>\n\n<pre><code>get(123).then(function(d)){\n// d= {res1: res1, res2: res2}\n},\n...\n</code></pre>\n\n<p>I need to get the combined result as indicated. How to do this with Angular promise API?</p>\n",
            "last_activity_date": 1367375300,
            "question_id": 16307652,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs",
                "promise"
            ],
            "title": "Promise API - combining results of 2 asynchronous call"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here is one way you can do it...</p>\n\n<pre><code>&lt;body&gt;\n    &lt;textarea rows=\"5\" cols=\"20\" wrap=\"hard\" onblur=\"CopyToClipboard(this)\"&gt;&lt;/textarea&gt;\n&lt;/body&gt;\n\n&lt;script language=\"JavaScript\"&gt;\n function CopyToClipboard(text) {\n   Copied = text.createTextRange();\n   Copied.execCommand(\"Copy\");\n }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For security reasons most browsers do not allow to modify the clipboard (except IE).</p>\n\n<p>The only way to make a copy-to-clipboard function cross-browser compatible is to use Flash.</p>\n\n<p>For now you can select all the data you want to copy, and ask user to click <kbd>CTRL</kbd>+<kbd>C</kbd>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>There is currently no way to do that <strong>cross-browser</strong></p>\n\n<p>It is not possible for security reasons - <strong>BUT</strong> everytime you read this answer - check if it is still true :) </p>\n\n<p><strong>IE ONLY:</strong> here is a partial solution working only in IE while using execCommand() , see ling.s answer ...</p>\n\n<p>Of course you could preselect the text and ask user to click <kbd>CTRL</kbd>+<kbd>C</kbd> but you lose user-experience.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>There is a way how to trick \"copy to clipboard\" functionality on web pages with flash...</p>\n\n<p>But is there a way to make it in a <strong>PURE</strong> javascript way (but still cross-modern-browser)?</p>\n\n<p>Beacause even adobe dropped its attention to flash while focusing more on html5...</p>\n",
            "last_activity_date": 1408356391,
            "question_id": 16294365,
            "score": 4,
            "tags": [
                "javascript",
                "clipboard"
            ],
            "title": "Way to copy to clipboard in the PURE javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is just one of jQuery Mobile bugs. Also there's an error in your code, label must point to the correct slider, and in your example it is not a case.</p>\n\n<p>Dynamic slider can be created in two ways, none of them includes <strong><code>slider()</code></strong> method:</p>\n\n<h2>Example 1</h2>\n\n<p>Do it during the <strong><code>pagebeforecreate</code></strong> or <strong><code>pagecreate</code></strong> event.</p>\n\n<p>Working example: <a href=\"http://jsfiddle.net/Gajotres/caCsf/\" rel=\"nofollow\">http://jsfiddle.net/Gajotres/caCsf/</a></p>\n\n<pre><code>$(document).on('pagebeforeshow', '#index', function(){    \n    // Add a new input element\n    $('[data-role=\"content\"]').append('&lt;input type=\"range\" name=\"slider-2\" id=\"slider-2\" value=\"25\" min=\"0\" max=\"100\"  /&gt;');\n});\n</code></pre>\n\n<h2>Example 2</h2>\n\n<p>Do it during the <strong><code>pagebeforeshow</code></strong> or <strong><code>pageshow</code></strong> event and use <strong><code>trigger('create')</code></strong> to style sliders.</p>\n\n<p>Working example: <a href=\"http://jsfiddle.net/Gajotres/NwMLP/\" rel=\"nofollow\">http://jsfiddle.net/Gajotres/NwMLP/</a></p>\n\n<pre><code>$(document).on('pagebeforeshow', '#index', function(){    \n    // Add a new input element\n    $('[data-role=\"content\"]').append('&lt;div data-role=\"fieldcontain\"&gt;&lt;/div&gt;');\n    $('[data-role=\"fieldcontain\"]').append('&lt;fieldset data-role=\"controlgroup\"&gt;&lt;/fieldset&gt;');\n    $('[data-role=\"controlgroup\"]').append('&lt;label for=\"slider-2\"&gt;Slider 2&lt;/label&gt;');\n    $('[data-role=\"controlgroup\"]').append('&lt;input type=\"range\" name=\"slider-2\" id=\"slider-2\" value=\"25\" min=\"0\" max=\"100\"  /&gt;');\n    // Enhance new input element, unfortunately slider() function is not goinf to work correctly\n    //$('[type=\"range\"]').slider();\n    $('#index').trigger('create');\n});\n</code></pre>\n\n<p>In this example, if we try to use <strong><code>slider()</code></strong> only everything will be style except the input box.</p>\n\n<p>More about this and some other related stuff can be found in my other <strong><a href=\"http://www.gajotres.net/jquery-mobile-and-how-to-enhance-the-markup-of-dynamically-added-content/\" rel=\"nofollow\">ARTICLE</a></strong>, or find it <strong><a href=\"http://stackoverflow.com/a/14550417/1848600\">HERE</a></strong>. </p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm inserting sliders dynamically. The problem it's that when I insert them dynamically they don't have the theme of jquerymobile.\nHere's the code i use:</p>\n\n<pre><code>for (var i = array_colors_available.length - 1; i &gt;= 0; i--) {\n        $('#insert_colors_slider').append('&lt;div data-role=\"fieldcontain\" &gt;&lt;fieldset data-role=\"controlgroup\"&gt; &lt;label for=\"slider-8\"&gt;'+array_colors_available[i]+' : '+'&lt;/label&gt;&lt;input id=slider-'+i+' type=\"range\" name='+array_colors_available[i]+' value=\"0\" min=\"0\" max=\"25\" data-highlight=\"true\" data-theme=c data-track-theme=\"f\"&gt;&lt;/fieldset&gt;&lt;/div&gt;');\n        if(array_slider_info_value != null) $('#slider-'+i).val(array_slider_info_value[i+1].value);\n    };\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/5z6EJ.png\" alt=\"enter image description here\"></p>\n\n<p>And if I use the methods of JQueryMobile then on the screen appear two sliders:</p>\n\n<pre><code>for (var i = array_colors_available.length - 1; i &gt;= 0; i--) {\n        $('#insert_colors_slider').append('&lt;div data-role=\"fieldcontain\" &gt;&lt;fieldset data-role=\"controlgroup\"&gt; &lt;label for=\"slider-8\"&gt;'+array_colors_available[i]+' : '+'&lt;/label&gt;&lt;input id=slider-'+i+' type=\"range\" name='+array_colors_available[i]+' value=\"0\" min=\"0\" max=\"25\" data-highlight=\"true\" data-theme=c data-track-theme=\"f\"&gt;&lt;/fieldset&gt;&lt;/div&gt;');\n        $('#slider-'+i).slider();\n        if(array_slider_info_value != null) $('#slider-'+i).val(array_slider_info_value[i+1].value);\n    };\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/4lAOD.png\" alt=\"enter image description here\"></p>\n\n<p>What am I doing wrong? When I don't use the methods there's no theme and when I use it I have two sliders instead of one...\nThanks!</p>\n",
            "last_activity_date": 1372852920,
            "question_id": 15708297,
            "score": 4,
            "tags": [
                "javascript",
                "jquery-mobile",
                "jquery",
                "jquery-mobile-slider"
            ],
            "title": "JQuery Mobile sliders inserted dynamically"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use <code>dataType:\"json\"</code> for <code>json</code> data</p>\n\n<pre><code>$.ajax({\n     url: 'ajax.php', //This is the current doc\n     type: \"POST\",\n     dataType:'json', // add json datatype to get json\n     data: ({name: 145}),\n     success: function(data){\n         console.log(data);\n     }\n});  \n</code></pre>\n\n<p>Read Docs <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">http://api.jquery.com/jQuery.ajax/</a></p>\n\n<p>Also in <strong>PHP</strong> </p>\n\n<pre><code>&lt;?php\n  $userAnswer = $_POST['name']; \n  $sql=\"SELECT * FROM &lt;tablname&gt; where color='\".$userAnswer.\"'\" ;\n  $result=mysql_query($sql);\n  $row=mysql_fetch_array($result);\n  // for first row only and suppose table having data\n  echo json_encode($row);  // pass array in json_encode  \n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>No need to use second ajax function, you can get it back on success inside a function, another issue here is you don't know when the first ajax call finished, then, even if you use SESSION you may not get it within second AJAX call.</p>\n\n<p>SO, I recommend using one AJAX call and get the value with success.</p>\n\n<p>example: in first ajax call</p>\n\n<pre><code>    $.ajax({\n        url: 'ajax.php', //This is the current doc\n        type: \"POST\",\n        data: ({name: 145}),\n        success: function(data){\n            console.log(data);\n            alert(data);\n            //or if the data is JSON\n            var jdata = jQuery.parseJSON(data);\n        }\n    }); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>$(document).ready(function() {\n    $(\"#raaagh\").click(function() {\n        $.ajax({\n            url: 'ajax.php', //This is the current doc\n            type: \"POST\",\n            data: ({name: 145}),\n            success: function(data) {\n                console.log(data);\n                $.ajax({\n                    url:'ajax.php',\n                    data: data,\n                    dataType:'json',\n                    success:function(data1) {\n                        var y1=data1;\n                        console.log(data1);\n                    }\n                });\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>Use like this, first make a ajax call to get data, then your php function will return u the result which u wil get in data and pass that data to the new ajax call</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to pass values to a PHP script so i am using AJAX to pass those, and in the same function I am using another AJAX to retrieve those values. The problem is that the second AJAX is not retrieving any value from the PHP file. Why is this? How can I store the variable passed on to the PHP script so that the second AJAX can retrieve it? My code is as follows:</p>\n\n<p>AJAX CODE:</p>\n\n<pre><code>$(document).ready(function() {    \n    $(\"#raaagh\").click(function(){    \n        $.ajax({\n            url: 'ajax.php', //This is the current doc\n            type: \"POST\",\n            data: ({name: 145}),\n            success: function(data){\n                console.log(data);\n                           }\n        });  \n        $.ajax({\n    url:'ajax.php',\n    data:\"\",\n    dataType:'json',\n    success:function(data1){\n            var y1=data1;\n            console.log(data1);\n            }\n        });\n\n    });\n});\n</code></pre>\n\n<p>PHP CODE:</p>\n\n<pre><code>&lt;?php\n\n$userAnswer = $_POST['name'];    \n\necho json_encode($userAnswer);    \n?&gt;\n</code></pre>\n",
            "last_activity_date": 1364302821,
            "question_id": 15637101,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Using AJAX to pass variable to PHP and retrieve those using AJAX again"
        }
    ]
}
