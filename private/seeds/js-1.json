{
    "items": [
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<blockquote>\n  <p><em><code>-&gt;</code> For a more general explanation of async behavior with different examples, please see</em> <a href=\"http://stackoverflow.com/q/23667086/218196\">Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference</a>  </p>\n  \n  <p><em><code>-&gt;</code> If you already understand the problem, skip to the possible solutions below.</em></p>\n</blockquote>\n\n<h1>Explanation of the problem</h1>\n\n<p>The <strong>A</strong> in AJAX stands for <strong>asynchronous</strong>. That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example, <code>$.ajax</code> returns immediately and the next statement, <code>return result;</code>, is executed before the function you passed as <code>success</code> callback was even called.</p>\n\n<p>Here is an analogy which hopefully makes the difference between synchronous and asynchronous flow clearer: </p>\n\n<h2>Synchronous</h2>\n\n<p>Imagine you make a phone call to a friend and ask him to look something up for you. Although it might take a while, you wait on the phone and stare into space, until your friend gives you the answer you needed.</p>\n\n<p>The same is happening when you make a function call containing \"normal\" code:</p>\n\n<pre><code>function findItem() {\n    var item;\n    while(item_not_found) {\n        // search\n    }\n    return item;\n}\n\nvar item = findItem();\n// do something with item\ndoSomethingElse();\n</code></pre>\n\n<p>Even though <code>findItem</code> might take a long time to execute, any code coming after <code>var item = findItem();</code> has to <em>wait</em> until the function returns the result.</p>\n\n<h2>Asynchronous</h2>\n\n<p>You call your friend again for the same reason. But this time you tell him that you are in a hurry and he should <em>call you back</em> on your mobile phone. You hang up, leave the house and do whatever you planned to do. Once your friend calls you back, you are dealing with the information he gave to you.</p>\n\n<p>That's exactly what's happening when you do an AJAX request. </p>\n\n<pre><code>findItem(function(item) {\n    // do something with item\n});\ndoSomethingElse();\n</code></pre>\n\n<p>Instead of waiting for the response, the execution continues immediately and the statement after the AJAX call is executed. To get the response eventually, you provide a function to be called once the response was received, a <em>callback</em> (notice something? <em>call back</em> ?). Any statement coming after that call is executed before the callback is called.</p>\n\n<hr>\n\n<h1>Solutions</h1>\n\n<p>There are basically two ways how to solve this:</p>\n\n<ol>\n<li>Make the AJAX call synchronous (lets call it <em>SJAX</em>).</li>\n<li>Restructure your code to work properly with callbacks.</li>\n</ol>\n\n<h2>1. Synchronous AJAX calls -- DON'T DO IT</h2>\n\n<p>It is generally <strong>a bad idea</strong> to make AJAX calls synchronous. <strong>DON'T DO IT.</strong> I'm serious. I only mention it here for the sake of completeness. Why is it bad do you ask?</p>\n\n<p>JavaScript runs in the UI thread of the browser and any long running process will lock the UI, making it unresponsive. Additionally, there is an upper limit on the execution time for JavaScript and the browser will ask the user whether to continue the execution or not. \nAll of this is really bad user experience. The user won't be able to tell whether everything is working fine or not.  Furthermore the effect will be worse for users with a slow connection.</p>\n\n<h3>jQuery</h3>\n\n<p>If you use <a href=\"http://api.jquery.com/jQuery.ajax/\">jQuery</a>, you can set the <code>async</code> option to <code>false</code>. Note that this option is <em>deprecated</em> since jQuery 1.8.\nYou can then either still use a <code>success</code> callback or access the <code>responseText</code> property of the <a href=\"http://api.jquery.com/jQuery.ajax/#jqXHR\">jqXHR object</a>:</p>\n\n<pre><code>function foo() {\n    var jqXHR = $.ajax({\n        //...\n        async: false\n    });\n    return jqXHR.responseText;\n}\n</code></pre>\n\n<p>If you use any other jQuery AJAX method, such as <code>$.get</code>, <code>$.getJSON</code>, etc., you have to change it to <code>$.ajax</code> (since you can only pass configuration parameters to <code>$.ajax</code>).</p>\n\n<p><strong>Heads up!</strong> It is not possible to make a synchronous <a href=\"http://stackoverflow.com/questions/2067472/please-explain-jsonp\">JSONP</a> request. JSONP by its very nature is always asynchronous (one more reason to not even consider this option).</p>\n\n<h3>Without jQuery</h3>\n\n<p>If you directly use a <a href=\"http://www.w3.org/TR/XMLHttpRequest/\"><code>XMLHTTPRequest</code></a> object, pass <code>false</code> as third argument to <a href=\"http://www.w3.org/TR/XMLHttpRequest/#the-open%28%29-method\"><code>.open</code></a>.</p>\n\n<h2>2. Restructure code</h2>\n\n<h3>Let functions accept callbacks</h3>\n\n<p>The better approach is to organize your code properly around callbacks. In the example in the question, you can make <code>foo</code> accept a callback and use it as <code>success</code> callback. So this</p>\n\n<pre><code>var result = foo();\n// code that depends on 'result'\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>foo(function(result) {\n    // code that depends on 'result'\n});\n</code></pre>\n\n<p>Here we pass a function as argument to <code>foo</code>. You can pass any function reference, for example:</p>\n\n<pre><code>function myCallback(result) {\n    // code that depends on 'result'\n}\n\nfoo(myCallback);\n</code></pre>\n\n<p><code>foo</code> itself is defined as follows:</p>\n\n<pre><code>function foo(callback) {\n    $.ajax({\n        // ...\n        success: callback\n    });\n}\n</code></pre>\n\n<p><code>callback</code> will refer to the function we pass to <code>foo</code> when we call it and we simply pass it on to <code>success</code>. I.e. once the AJAX request is successful, <code>$.ajax</code> will call <code>callback</code> and pass the response to the callback (which can be referred to with <code>result</code>, since this is how we defined the callback).</p>\n\n<p>You can also process the response before passing it to the callback:</p>\n\n<pre><code>function foo(callback) {\n    $.ajax({\n        // ...\n        success: function(response) {\n            // e.g. filter the response\n            callback(filtered_response);\n        }\n    });\n}\n</code></pre>\n\n<p>It's easier to write code using callbacks than it seems. After all, JavaScript in the browser is heavily event driven (DOM events). Receiving the AJAX response is nothing else but an event.<br>\nDifficulties could arise when you have to work with third party code, but most problems can be solved by just thinking through the application flow.</p>\n\n<h3>Use deferred objects / promises</h3>\n\n<p>While directly passing callbacks works just fine, it can become inflexible in certain situations.  <em>Deferred objects / promises</em> are a great way to deal with many callbacks and decouple your code.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/4866721/what-are-deferred-objects\">Deferred objects</a> are not <a href=\"http://en.wikipedia.org/wiki/Futures_and_promises\">unique to jQuery</a> (see also the <a href=\"http://wiki.commonjs.org/wiki/Promises/A\">Promise/A proposal</a>) and there many independent implementations but I will only focus on jQuery in this answer.</p>\n\n<p>Luckily for us, every AJAX method of jQuery already returns a promise which you can just return from your function and the calling code decides how to attach the callbacks:</p>\n\n<pre><code>function foo() {\n    return $.ajax(...);\n}\n\nfoo().done(function(result) {\n    // code depending on result\n}).fail(function() {\n    // an error occurred\n});\n</code></pre>\n\n<p>Describing all the advantages that deferred objects offer is beyond the scope of this answer, but if you write new code, you should seriously consider them. They provide a great abstraction and separation of your code.</p>\n\n<h3>Improving Bad Code</h3>\n\n<p>Deferreds can make it easy to transform broken asynchronous code into working code. For example suppose you had the following:</p>\n\n<pre><code>function checkPassword() {\n    return $.ajax({\n        url: '/password',\n        data: {\n            username: $('#username').val()\n            password: $('#password').val()\n        },\n        type: 'POST',\n        dataType: 'json'\n    });\n}\n\nif (checkPassword()) {\n    // Tell the user they're logged in\n}\n</code></pre>\n\n<p>This code misunderstands the above asynchrony issues. Specifically, <code>$.ajax()</code> doesn't freeze the code while it checks the '/password' page on your server - it sends a request to the server and while it waits, immediately returns a jQuery Ajax Deferred object, which means your if statement is going to always get this Deferred object, treat that as <code>true</code>, and proceed as though the user is logged in. Not good.</p>\n\n<p>But the fix is easy:</p>\n\n<pre><code>checkPassword()\n.done(function(r) {\n    if (r) {\n        // Tell the user they're logged in\n    } else {\n        // Tell the user their password was bad\n    }\n})\n.fail(function(x) {\n    // Tell the user something bad happened\n});\n</code></pre>\n\n<p>So now we're still calling the '/password' page on the server, but our code now properly handles the wait time for the server to respond. The <code>$.ajax()</code> call still returns immediately with a jQuery Ajax Deferred object, but we use it to attach event listeners to <code>.done()</code> and <code>.fail()</code>. In the <code>.done()</code> call, where the server responded with a normal response (HTTP 200), we check the object returned by the server. In this example the server is just returning true if the login was successful, false if not, so <code>if (r)</code> is checking for true/false.</p>\n\n<p>In the <code>.fail()</code> handler we're dealing with something going wrong - for example if the user lost their internet connection while they were typing in their username and password, or if your server went down.</p>\n",
                    "is_accepted": true,
                    "score": 1226
                },
                {
                    "body": "<h1>If you're <em>not</em> using jQuery in your code, this answer is for you</h1>\n\n<p>Your code should be something along the lines of this:</p>\n\n<pre><code>function foo() {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.open('GET', \"/echo/json\");\n    httpRequest.send();\n    return httpRequest.responseText;\n}\n\nvar result = foo(); // always ends up being 'undefined'\n</code></pre>\n\n<p>Felix Kling did a fine job writing an answer for people using jQuery for AJAX, I've decided to provide an alternative for people who aren't.</p>\n\n<hr>\n\n<h1>What you're facing</h1>\n\n<p>This is a short summary of \"Explanation of the problem\" from the other answer, if you're not sure after reading this, read that.</p>\n\n<p>The <strong>A</strong> in AJAX stands for <strong>asynchronous</strong>. That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#send%28%29\"><code>.send</code></a> returns immediately and the next statement, <code>return result;</code>, is executed before the function you passed as <code>success</code> callback was even called.</p>\n\n<p>This means when you're returning, the listener you've defined did not execute yet, which means the value you're returning has not been defined. </p>\n\n<p>Here is a simple analogy</p>\n\n<pre><code>function getFive(){ \n    var a;\n    setTimeout(function(){\n         a=5;\n    },10);\n    return a;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/7RK3k/\">(Fiddle)</a></p>\n\n<p>The value of <code>a</code> returned is <code>undefined</code> since the <code>a=5</code> part has not executed yet. AJAX acts like this, you're returning the value before the server got the chance to tell your browser what that value is.</p>\n\n<p>One possible solution to this problem is to code <em>re-actively</em> , telling your program what to do when the calculation completed.</p>\n\n<pre><code>function onComplete(a){ // When the code completes, do this\n    alert(a);\n}\n\nfunction getFive(whenDone){ \n    var a;\n    setTimeout(function(){\n         a=5;\n         whenDone(a);\n    },10);\n}\n</code></pre>\n\n<p>This is called <a href=\"http://en.wikipedia.org/wiki/Continuation-passing_style\">CPS</a>. Basically, we're passing <code>getFive</code> an action to perform when it completes, we're telling our code how to react when an event completes (like our AJAX call, or in this case the timeout).</p>\n\n<p>Usage would be:</p>\n\n<pre><code>getFive(onComplete);\n</code></pre>\n\n<p>Which should alert \"5\" to the screen. <a href=\"http://jsfiddle.net/PAjZR/\">(Fiddle)</a>.</p>\n\n<h1>Possible solutions</h1>\n\n<p>There are basically two ways how to solve this:</p>\n\n<ol>\n<li>Make the AJAX call synchronous (lets call it SJAX).</li>\n<li>Restructure your code to work properly with callbacks.</li>\n</ol>\n\n<h2>1. Synchronous AJAX - Don't do it!!</h2>\n\n<p>As for synchronous AJAX, <strong>don't do it!</strong> Felix's answer raises some compelling arguments about why it's a bad idea. To sum it up, it'll freeze the user's browser until the server returns the response and create a very bad user experience. Here is another short summary taken from MDN on why:</p>\n\n<blockquote>\n  <p>XMLHttpRequest supports both synchronous and asynchronous communications. In general, however, asynchronous requests should be preferred to synchronous requests for performance reasons.</p>\n  \n  <p>In short, synchronous requests block the execution of code... ...this can cause serious issues...</p>\n</blockquote>\n\n<p>If you <em>have</em> to do it, you can pass a flag: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests#Synchronous_request\">Here is how:</a></p>\n\n<pre><code>var request = new XMLHttpRequest();\nrequest.open('GET', 'yourURL', false);  // `false` makes the request synchronous\nrequest.send(null);\n\nif (request.status === 200) {// That's HTTP for 'ok'\n  console.log(request.responseText);\n}\n</code></pre>\n\n<h2>2. Restructure code</h2>\n\n<p>Let your function accept a callback. In the example code <code>foo</code> can be made to accept a callback. We'll be telling our code how to <em>react</em> when <code>foo</code> completes. </p>\n\n<p>So:</p>\n\n<pre><code>var result = foo();\n// code that depends on `result` goes here\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>foo(function(result) {\n    // code that depends on `result`\n});\n</code></pre>\n\n<p>Here we passed an anonymous function, but we could just as easily pass a reference to an existing function, making it look like:</p>\n\n<pre><code>function myHandler(result) {\n    // code that depends on `result`\n}\nfoo(myHandler);\n</code></pre>\n\n<p>For more details on how this sort of callback design is done, check Felix's answer. </p>\n\n<p>Now, let's define foo itself to act accordingly</p>\n\n<pre><code>function foo(callback) {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.onload = function(){ // when the request is loaded\n       callback(httpRequest.responseText);// we're calling our method\n    };\n    httpRequest.open('GET', \"/echo/json\");\n    httpRequest.send();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/DAcWT/\">(fiddle)</a></p>\n\n<p>We have now made our foo function accept an action to run when the AJAX completes successfully, we can extend this further by checking if the response status is not 200 and acting accordingly (create a fail handler and such). Effectively solving our issue.</p>\n\n<p>If you're still having a hard time understanding this <a href=\"https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started\">read the AJAX getting started guide</a> at MDN.</p>\n",
                    "is_accepted": false,
                    "score": 240
                },
                {
                    "body": "<p><strong>XHR2</strong> (first of all read the answers from Benjamin Gruenbaum &amp; Felix Kling)</p>\n\n<p>If you don't use jQuery, and want a nice short XHR2 which works on the modern browsers and also on the mobile browsers I suggest to use it this way.</p>\n\n<pre><code>function ajax(a,b,c){ // Url, Callback, just a placeholder\n c=new XMLHttpRequest;\n c.open('GET',a);\n c.onload=b;\n c.send()\n}\n</code></pre>\n\n<p>As you can see:</p>\n\n<ol>\n<li>It's shorter than all other functions Listed.</li>\n<li>The callback is set directly (so no extra unnecessary closures).</li>\n<li>It uses the new onload (so you don't have to check for readystate &amp;&amp; status)</li>\n<li>there are some other situations which i don't remember that make the xhr1 annoying. </li>\n</ol>\n\n<p>There are 2 ways to get the response of this ajax call(3 using the xhr var name):</p>\n\n<p>The simplest</p>\n\n<pre><code>this.response\n</code></pre>\n\n<p>or if for some reason you <code>bind()</code> the callback to a class</p>\n\n<pre><code>e.target.response\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>function callback(e){\n console.log(this.response);\n}\najax('URL',callback);\n</code></pre>\n\n<p>or (the above one is better anonymous functions are always a problem)</p>\n\n<pre><code>ajax('URL',function(e){console.log(this.response)});\n</code></pre>\n\n<p>Nothing easier.</p>\n\n<p>Now some ppl will probably say that it's better to use onreadystatechange or the even the XMLHttpRequest variable name. That's wrong.</p>\n\n<p>Check this out:\n<a href=\"http://caniuse.com/xhr2\">http://caniuse.com/xhr2</a></p>\n\n<p>support on all *modern browsers. And I can confirm as I'm using this approach since xhr2 exists. I never had any type of problem on all browsers I use.</p>\n\n<p>onreadystatechange is only useful if you want to get the headers on state 2.</p>\n\n<p>Using the <code>XMLHttpRequest</code> variable name is another big error as you need to execute the callback inside the onload/oreadystatechange closures else you lost it.</p>\n\n<hr>\n\n<p>Now if you want something more complex using post and FormData you can easily extend this function:</p>\n\n<pre><code>function x(a,b,e,d,c){ // Url,callback,method,formdata or {key:val},placeholder\n c=new XMLHttpRequest;\n c.open(e||'get',a);\n c.onload=b;\n c.send(d||null)\n}\n</code></pre>\n\n<p>Again ... it's a very short function but it does get &amp; post</p>\n\n<p>examples of usage:</p>\n\n<pre><code>x(url,callback);//by default it's get so no need to set\nx(url,callback,'post',{'key':'val'}); //no need to set post data\n</code></pre>\n\n<p>or pass a full form element (<code>document.getElementsByTagName('form')[0]</code>)</p>\n\n<pre><code>var fd=new FormData(form);\nx(url,callback,'post',fd);\n</code></pre>\n\n<p>or set some custom values</p>\n\n<pre><code>var fd=new FormData();\nfd.append('key','val')\nx(url,callback,'post',fd);\n</code></pre>\n\n<p>As you can see I don't implemented sync... it's a bad thing.</p>\n\n<p>Said that ... why don't do it the easy way?</p>\n\n<hr>\n\n<p>As mentioned in the comment the use of error &amp;&amp; synchronous does completely break the point of the answer.Which is a nice short way to use ajax in the proper way.</p>\n\n<p><em>Errror handler</em></p>\n\n<pre><code>function x(a,b,e,d,c){ // URL,callback,method,formdata or {key:val},placeholder\n c=new XMLHttpRequest;\n c.open(e||'get',a);\n c.onload=b;\n c.onerror=error;\n c.send(d||null)\n}\nfunction error(e){\n console.log('--Error--',this.type);\n console.log('this: ',this);\n console.log('Event: ',e)     \n}\nfunction displayAjax(e){\n console.log(e,this);\n}\nx('WRONGURL',displayAjax);\n</code></pre>\n\n<p>In the above script you have an error handler which is statically defined so it does not compromise the function. The error handler can be used for other functions too.</p>\n\n<p>But to really get out an error the <strong>only</strong> way is to write a wrong URL in which case every browsers throws an error.</p>\n\n<p>error handlers are maybe useful if you set custom headers, set the responseType to blob arraybuffer or whatever.... </p>\n\n<p>Even if you pass 'POSTAPAPAP' as methot it won't throw an error.</p>\n\n<p>Even if you pass 'fdggdgilfdghfldj' as formdata it won't throw an error.</p>\n\n<p>In the first case the error is inside the <code>displayAjax()</code> under <code>this.statusText</code>\nas <code>Method not Allowed</code>.</p>\n\n<p>In the second case it simply works. You have to check at the server side if you passed the right post data.</p>\n\n<p>crossdomain not allowed throws error automatically.</p>\n\n<p>In the error response there are no error codes.</p>\n\n<p>There is only the <code>this.type</code> which is set to error.</p>\n\n<p>Why add errorhandler if you totally have no control over errors?\nMost of the errors are returned inside this in the callback function <code>displayAjax()</code></p>\n\n<p>So: NO need for error checks if your able to copy and paste the url properly. ;)</p>\n\n<p><em>ps.: As the first test i wrote x('x',displayAjax).. and it totally got a response...??? so I checked the folder where the HTML is located .. and there was a file called 'x.xml'..\nso even if you forget the extension of your file xhr2 WILL FIND IT</em> I lol'd</p>\n\n<hr>\n\n<p><em>Read a file syncronous</em></p>\n\n<p><strong>Don't do that.</strong></p>\n\n<p>if you wan't to block the browser for a while load a nice big txt file syncronous</p>\n\n<pre><code>function omg(a,c){ // Url\n c=new XMLHttpRequest;\n c.open('GET',a,true);\n c.send();\n return c; //or c.response \n}\n</code></pre>\n\n<p>now you can do </p>\n\n<pre><code> var res=omg('thisIsGonnaBlockThePage.txt');\n</code></pre>\n\n<p>There is no other way to do this in a non asynchronous way.(yeah with setTimeout loop... but srsly?)</p>\n\n<p>Another point is .. if you work with API's or just you own list's files or whatever you always use different functions for each request.. </p>\n\n<p>Only if you have a page where you load always the same XML/JSON or whatever you need only one function.In that case modify a little the ajax function and replace b with your special function.  </p>\n\n<hr>\n\n<p>the functions above are for basic use.</p>\n\n<p>if you want to EXTEND the function ...</p>\n\n<p>yes you can</p>\n\n<p>I'm using a lot of API's and one of the first functions i integrate in every html page is the first ajax function in this answer ..with GET only...</p>\n\n<p>but you can do a lot of stuff with xhr2:</p>\n\n<p>I made a download manager (using ranges on both sides with resume,filereader,filesystem),various image resizers converters using canvas,populate websql databases with base64images and much more... but in thisc cases you should create a function only for that purpose... sometimes you need blob, arraybuffers, you can set headers , override mimetype and there is a lot more...</p>\n\n<p>but the question here is how to return an Ajax response ... (i added n easy way)</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>Simplest solution is create a Javascript function and call it for ajax success callback.</p>\n\n<pre><code>  function callServerAsync(){\n   $.ajax({\n        url: '...',\n        success: function(response) {\n\n            successCallback(response);\n\n        }\n    });\n  }\n\n  function successCallback(responseObj){\n     //do something like read the response and show data \n     alert(JSON.stringify(responseObj)); // Only applicable to JSON response\n   }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>You are using Ajax incorrectly, the idea is not to have it return anything, but instead hand off the data to something called a callback function, which handles the data.</p>\n\n<p>IE:</p>\n\n<pre><code>function handleData( responseData ) {\n    // do what you want with the data\n    console.log(responseData);\n}\n\n$.ajax({\n    url: \"hi.php\",\n    ...\n    success: function ( data, status, XHR ) {\n        handleData(data);\n    }\n});\n</code></pre>\n\n<p>returning anything in the submit handler will not do anything, you must instead either hand off the data, or do what you want with it directly inside the success function.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>For people who are using angular js, can handle this situation using <code>Promises</code>. </p>\n\n<p><a href=\"http://liamkaufman.com/blog/2013/09/09/using-angularjs-promises/\" rel=\"nofollow\">Here</a> it says,</p>\n\n<blockquote>\n  <p>Promises can be used to unnest asynchronous functions and allows one to chain multiple functions together.</p>\n</blockquote>\n\n<p>You can find a nice explanation <a href=\"http://andyshora.com/promises-angularjs-explained-as-cartoon.html\" rel=\"nofollow\">here</a> also.</p>\n\n<p>Example found in <a href=\"https://docs.angularjs.org/api/ng/service/$q\" rel=\"nofollow\">docs</a> mentioned below.</p>\n\n<pre><code>  promiseB = promiseA.then(\n    function onSuccess(result) {\n      return result + 1;\n    }\n    ,function onError(err) {\n      //handle error\n    }\n  );\n\n // promiseB will be resolved immediately after promiseA\n // is resolved and its value will be the result of promiseA incremented by 1.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a function <code>foo</code> which makes an Ajax request. How can I return the response from <code>foo</code>? </p>\n\n<p>I tried to return the value from the <code>success</code> callback as well as assigning the response to a local variable inside the function and return that one, but none of those ways actually return the response.</p>\n\n<pre><code>function foo() {\n    var result;\n\n    $.ajax({\n        url: '...',\n        success: function(response) {\n            result = response;\n            // return response; // &lt;- tried that one as well\n        }\n    });\n\n    return result;\n}\n\nvar result = foo(); // always ends up being `undefined`.\n</code></pre>\n",
            "last_activity_date": 1424754517,
            "question_id": 14220321,
            "score": 813,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "How to return the response from an asynchronous call?"
        },
        {
            "answer_count": 21,
            "answers": [
                {
                    "body": "<p>Try:</p>\n\n<pre><code>var funcs = [];\n\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = (function(index) {\n        return function() {\n            console.log(\"My value: \" + index);\n        };\n    }(i));\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();\n}\n</code></pre>\n\n<p><strong>Edit</strong> (2014):</p>\n\n<p>Personally I think @Aust's <a href=\"http://stackoverflow.com/a/19323214/918959\">more recent answer about using <code>.bind</code></a> is the best way to do this kind of thing now. There's also lo-dash/underscore's <code>_.partial</code> when you don't need or want to mess with <code>bind</code>'s <code>thisArg</code>.</p>\n",
                    "is_accepted": false,
                    "score": 143
                },
                {
                    "body": "<p>The value <code>i</code> inside the body of the closure is being bound to the same instance for each closure (that is, to the variable <code>i</code> which is the loop control variable for the for loop). This value is changing as you go through the loop. You need to figure out a way to make sure that it is bound to a different variable that is unique for each closure. The method shown by apphacker is one way, although possibly a little arcane.</p>\n\n<pre><code>var funcs = {};\nfor (var i = 0; i &lt; 3; i++) { \n    var index = i;                     // let's create 3 functions\n    funcs[i] = function() {            // and store them in funcs\n        console.log(\"My value: \" + index); // each should log its value.\n    };\n}\n</code></pre>\n\n<p>This method doesn't work - the reason being because <code>var</code> in javascript uses function scope as opposed to other algol derivatives which use block scope. You can use <code>let</code> as a slightly less portable alternative, but it looks like your best bet is to use a factory method to create the closures.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Well, the problem is that the variable i, within each of your anonymous functions, is bound to the same variable outside of the function.</p>\n\n<p>What you want to do is bind the variable within each function to a separate, unchanging value outside of the function:</p>\n\n<pre><code>var funcs = [];\n\nfunction createfunc(i) {\n    return function() { console.log(\"My value: \" + i); };\n}\n\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = createfunc(i);\n}\n\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        // and now let's run each one to see\n}\n</code></pre>\n\n<p>Since there is no block scope in JavaScript - only function scope - by wrapping the function creation in a new function, you ensure that the value of \"i\" remains as you intended.</p>\n",
                    "is_accepted": true,
                    "score": 533
                },
                {
                    "body": "<p>so the reason your original example did not work is that all the closures you created in the loop referenced the same frame. in effect having 3 methods on one object with only a single 'i' variable. they all printed out the same value</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What you need to understand is the scope of the variables in javascript is based on the function. This is an important difference than say c# where you have block scope, and just copying the variable to one inside the for will work.</p>\n\n<p>Wrapping it in a function that evaluates returning the function like apphacker's answer will do the trick, as the variable now has the function scope.</p>\n\n<p>There is also a let keyword instead of var, that would allow using the block scope rule. In that case defining a variable inside the for would do the trick. That said, the let keyword isn't a practical solution because of compatibility.</p>\n\n<pre><code>var funcs = {};\nfor (var i = 0; i &lt; 3; i++) {\n    let index = i;          //add this\n    funcs[i] = function() {            \n        console.log(\"My value: \" + index); //change to the copy\n    };\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Another way of saying it is that the <em>i</em> in your function is bound at the time of executing the function, not the time of creating the function.</p>\n\n<p>When you create the closure, <em>i</em> is a reference to the variable defined in the outside scope, not a copy of it as it was when you created the closure. It will be evaluated at the time of execution.</p>\n\n<p>Most of the other answers provide ways to work around by creating another variable that won't change value on you.</p>\n\n<p>Just thought I'd add an explanation for clarity. For a solution, personally I'd go with Harto's since it is the most self explanatory way of doing it from the answers here. Any of the code posted will work, but I'd opt for a closure factory over having to write a pile of comments to explain why I'm declaring a new variable(Freddy and 1800's) or have weird embedded closure syntax(apphacker).</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Here's another variation on the technique, similar to Bjorn's (apphacker), which lets you assign the variable value inside the function rather than passing it as a parameter, which might be clearer sometimes:</p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n    funcs[i] = (function() {\n        var index = i;\n        return function() {\n            console.log(\"My value: \" + index);\n        }\n    })();\n}\n</code></pre>\n\n<p>Note that whatever technique you use, the <code>index</code> variable becomes a sort of static variable, bound to the returned copy of the inner function. I.e., changes to its value are preserved between calls. It can be very handy.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>You can make it by recursive function, like that</p>\n\n<pre><code>function hellowfunction(i){   \n\n  var j=0;  //make our iterator\n\n  (function onetick(){  \n    if(j&lt;i){           //checking state\n      setTimeout(function(){ \n          console.log(j++);  //increment the value\n          onetick();         //call function again\n      },1000)          //Waiting one second for above function\n    }\n  })(); //Run function first time after creation\n};\n\n\nhellowfunction(4); // Turn it for 0..(sec)..1..2..3\n</code></pre>\n\n<p>improvement of this method is that you do not create a bunch of function with setTimeout at  the beginning</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>This describes the common mistake with using closures in JavaScript.</p>\n\n<h2>A function defines a new environment</h2>\n\n<p>Consider:</p>\n\n<pre><code>function makeCounter()\n{\n  var obj = {counter: 0};\n  return {\n    inc: function(){obj.counter ++;},\n    get: function(){return obj.counter;}\n  };\n}\n\ncounter1 = makeCounter();\ncounter2 = makeCounter();\n\ncounter1.inc();\n\nalert(counter1.get()); // returns 1\nalert(counter2.get()); // returns 0\n</code></pre>\n\n<p>For each time <code>makeCounter</code> is invoked, <code>{counter: 0}</code> results in a new object being created. Also, a new copy of <code>obj</code> \nis created as well to reference the new object. Thus, <code>counter1</code> and <code>counter2</code> are independent of each other.</p>\n\n<h2>Closures in loops</h2>\n\n<p>Using a closure in a loop is tricky.</p>\n\n<p>Consider: </p>\n\n<pre><code>var counters = [];\n\nfunction makeCounters(num)\n{\n  for (var i = 0; i &lt; num; i++)\n  {\n    var obj = {counter: 0};\n    counters[i] = {\n      inc: function(){obj.counter++;},\n      get: function(){return obj.counter;}\n    }; \n  }\n}\n\nmakeCounters(2);\n\ncounters[0].inc();\n\nalert(counters[0].get()); // returns 1\nalert(counters[1].get()); // returns 1\n</code></pre>\n\n<p>Notice that <code>counters[0]</code> and <code>counters[1]</code> are <em>not</em> independent. In fact, they operate on the same <code>obj</code>!</p>\n\n<p>This is because there is only one copy of <code>obj</code> shared across all iterations of the loop, perhaps for performance reasons.\nEven though <code>{counter: 0}</code> creates a new object in each iteration, the same copy of <code>obj</code> will just get updated with a\nreference to the newest object.</p>\n\n<p>Solution is to use another helper function:</p>\n\n<pre><code>function makeHelper(obj)\n{\n  return {\n    inc: function(){obj.counter++;},\n    get: function(){return obj.counter;}\n  }; \n}\n\nfunction makeCounters(num)\n{\n  for (var i = 0; i &lt; num; i++)\n  {\n    var obj = {counter: 0};\n    counters[i] = makeHelper(obj);\n  }\n}\n</code></pre>\n\n<p>This works because local variables in the function scope directly, as well as function argument variables, are allocated \nnew copies upon entry.</p>\n\n<p>For a detailed discussion, please see <a href=\"https://gist.github.com/lucastan/5420969\">JavaScript closure pitfalls and usage</a></p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>With ES6 around the corner, note that the correct answer to this question will be changing.  ES6 provides the <code>let</code> keyword for this exact circumstance.  Instead of messing around with closures, we can just use <code>let</code> to set a loop scope variable like this:</p>\n\n<pre><code>var funcs = {};\nfor (let i = 0; i &lt; 3; i++) {          \n    funcs[i] = function() {            \n      console.log(\"My value: \" + i); \n    };\n}\n</code></pre>\n\n<p><code>val</code> will then point to an object that is specific to that particular turn of the loop, and will return the correct value without the additional closure notation.  This obviously significantly simplifies this problem.</p>\n\n<p>Browser support is currently sketchy, but <code>let</code> is currently supported in the latest version of firefox (21.0) and Dev builds of chrome.  You can see a working example here if you have a compatible browser: <a href=\"http://jsfiddle.net/ben336/rbU4t/2/\" rel=\"nofollow\">http://jsfiddle.net/ben336/rbU4t/2/</a></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>The most simple solution would be</p>\n\n<p>instead of using this</p>\n\n<pre><code>var funcs = [];\nfor(var i =0; i&lt;3; i++){\n    funcs[i] = function(){\n        alert(i);\n    }\n}\n\nfor(var j =0; j&lt;3; j++){\n    funcs[j]();\n}\n</code></pre>\n\n<p>which alerts 2, 3 times. Use this,</p>\n\n<pre><code>var funcs = [];\nfor(var new_i =0; new_i&lt;3; new_i++){\n    (function(i){\n        funcs[i] = function(){\n            alert(i);\n        }\n    })(new_i);\n}\n\nfor(var j =0; j&lt;3; j++){\n    funcs[j]();\n}\n</code></pre>\n\n<p>The idea behind this is, encapsulating the entire body of the for loop with a self calling anonymous function and passing \"new_i\" as a parameter and capturing it as \"i\". Since the anonymous function is executed immediately, the \"i\" value is different for each function defined inside anonymous function. This solution seems to fit any such problem, since it will require minimum changes to original code suffering for this issue. In fact this is by design, it should not be an issue at all!</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>well, here you are only defining the three functions inside the for loop.They will be executed in the next for loop and at that time value of i is same(3) for each loop. Thats why ou are getting 3 as your output.</p>\n\n<p>Your output has nothing to do with closure here you can simply write it as,</p>\n\n<pre><code>var funcs = {};\n\nfuncs = function getValue(x) {        \n    document.write(\"My value: \" + x); \n};\n\n\nfor (var j = 0; j &lt; 3; j++) {\n  funcs(j);                      \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>try this shorter one</h2>\n\n<ul>\n<li><p>no array</p></li>\n<li><p>no extra for loop</p></li>\n</ul>\n\n<p><br/></p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n    createfunc(i)();\n}\n\nfunction createfunc(i) {\n    return function(){console.log(\"My value: \" + i);};\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/7P6EN/\">http://jsfiddle.net/7P6EN/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>var funcs = [];\n\nfor (var i = 0; i &lt; 3; i++) {          \n    funcs[i] = (function(index) {   \n        return function() {          \n            console.log(\"My value: \" + index);\n        } \n    })(i);\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another way that hasn't been mentioned yet is the use of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\"><code>Function.prototype.bind</code></a></p>\n\n<pre><code>var funcs = {};\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = function(x) {\n        console.log('My value: ' + x);\n    }.bind(this, i);\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/PjweJ/2/\"><strong>jsFiddle</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 49
                },
                {
                    "body": "<p>Using an <a href=\"http://en.wikipedia.org/wiki/Immediately-invoked_function_expression\">Immediately-Invoked Function Expression</a>, <a href=\"http://learn.jquery.com/javascript-101/functions/#immediately-invoked-function-expression-iife\">IIFE jQuery Docs</a>, the simplest and most readable way to enclose an index variable:</p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n\n    (function(index) {\n        console.log('iterator: ' + index);\n        //now you can also loop an ajax call here without problems: $.ajax({});\n    })(i);\n\n}\n</code></pre>\n\n<p>This sends the iterator <code>i</code> into the anonymous function of which we define as <code>index</code>.  This creates a closure, where the variable <code>i</code> gets saved for later use in any asynchronous functionality within the IIFE.</p>\n",
                    "is_accepted": false,
                    "score": 66
                },
                {
                    "body": "<p>The main issue with the code shown by the OP is that <code>i</code> is never read until the second loop. To demonstrate, imagine seeing an error inside of the code</p>\n\n<pre><code>funcs[i] = function() {            // and store them in funcs\n    throw new Error(\"test\");\n    console.log(\"My value: \" + i); // each should log its value.\n};\n</code></pre>\n\n<p>The error actually does not occur until <code>funcs[someIndex]</code> is executed <code>()</code>. Using this same logic, it should be apparent that the value of <code>i</code> is also not collected until this point either. Once the original loop finishes, <code>i++</code> brings <code>i</code> to the value of <code>3</code> which results in the condition <code>i &lt; 3</code> failing and the loop ending. At this point, <code>i</code> is <code>3</code> and so when <code>funcs[someIndex]()</code> is used, and <code>i</code> is evaluated, it is 3 - every time.</p>\n\n<p>To get past this, you must evaluate <code>i</code> as it is encountered. Note that this has already happened in the form of <code>funcs[i]</code> (where there are 3 unique indexes). There are several ways to capture this value. One is to pass it in as a parameter to a function which is shown in several ways already here. </p>\n\n<p>Another option is to construct a function object which will be able to close over the variable. That can be accomplished thusly</p>\n\n<p><em><strong><a href=\"http://jsfiddle.net/QcUjH/\"><code>jsFiddle Demo</code></a></em></strong></p>\n\n<pre><code>funcs[i] = new function() {   \n    var closedVariable = i;\n    return function(){\n        console.log(\"My value: \" + closedVariable); \n    };\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here's a simple solution that uses <code>forEach</code> (works back to IE9):</p>\n\n<pre><code>var funcs = {};\n[0,1,2].forEach(function(i) {          // let's create 3 functions\n    funcs[i] = function() {            // and store them in funcs\n        console.log(\"My value: \" + i); // each should log its value.\n    };\n})\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        // and now let's run each one to see\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<blockquote>\n<pre><code>My value: 0\nMy value: 1\nMy value: 2\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>After reading through various solutions provided, I'd like to add that the reason those solutions work is to rely on the concept of <strong>scope chain</strong>. In short, each function definition forms a scope mainly consisting of all the local variables declared by <code>var</code> and its <code>arguments</code>. When a function gets executed, it evaluates variables by searching the <strong>scope chain</strong>. If a variable can be found in a certain point of the chain it will stop searching and use it, otherwise it continues until the global scope which belongs to <code>window</code>.</p>\n\n<p>In your initial code:</p>\n\n<pre><code>funcs = {};\nfor (var i = 0; i &lt; 3; i++) {          // assume 'for' is not contained in any function\n  funcs[i] = function() {              // function inner's scope contains nothing\n    console.log(\"My value: \" + i);    \n  };\n}\nconsole.log(window.i)                  // test value 'i', print 3\n</code></pre>\n\n<p>When <code>funcs</code> gets executed, the scope chain will be <code>function inner -&gt; global</code>. Since the variable <code>i</code> cannot be found in <code>function inner</code> (neither declared using <code>var</code> nor passed as arguments), it continues to search. So the value of <code>i</code> is eventually evaluated as the one that belongs to the global which is <code>window.i</code>.</p>\n\n<p>By wrapping it in an outer function either explicitly define a helper function like <a href=\"http://stackoverflow.com/a/750506\">harto</a> did or use an anonymous function like <a href=\"http://stackoverflow.com/a/750495\">Bjorn</a> did:</p>\n\n<pre><code>funcs = {};\nfunction createfunc(i) {              // function outer's scope contains 'i'\n  return function() {                 // function inner, closure created\n   console.log(\"My value: \" + i);\n  };\n}\nfor (var i = 0; i &lt; 3; i++) {\n  funcs[i] = createfunc(i);\n}\n</code></pre>\n\n<p>when <code>funcs</code> gets executed, now the scope chain will be <code>function inner -&gt; function outer</code>. This time <code>i</code> can be found in the outer function which is the value of argument (this value is correctly bound in the <code>for</code> loop). It won't use the value of <code>window.i</code></p>\n\n<p>You can read this: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures</a>.\nIt includes the common mistake in creating closure in the loop as what we have here, as well as why we need closure and the performance consideration.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm surprised no one yet have suggested using the map function to better avoid (re)using local variables. In fact, I'm not using <code>for(var i ...)</code> at all anymore for this reason.</p>\n\n<pre><code>[0,2,3].map(function(i){ console.log('My value:', i); });\n// My value: 0\n// My value: 2\n// My value: 3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>Try it:</strong></p>\n\n<pre><code>var func=[]; \n\nfor(var i=0; i&lt;3; i++){\n  func[i]=function createfunc(i){\n       return function(){console.log(\"I am : \" +i);\n         };\n  }(i);\n\n}\n\nfor(var j=0; j&lt;3; j++){\n  func[j]();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Closures are one of those things that have been discussed a lot on SO, but this situation pops up a lot for me and I'm always left scratching my head.</p>\n\n<pre><code>var funcs = {};\nfor (var i = 0; i &lt; 3; i++) {          // let's create 3 functions\n    funcs[i] = function() {            // and store them in funcs\n        console.log(\"My value: \" + i); // each should log its value.\n    };\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        // and now let's run each one to see\n}\n</code></pre>\n\n<p>It outputs this:</p>\n\n<blockquote>\n  <p>My value: 3<br>\n  My value: 3<br>\n  My value: 3</p>\n</blockquote>\n\n<p>Whereas I'd like it to output:</p>\n\n<blockquote>\n  <p>My value: 0<br>\n  My value: 1<br>\n  My value: 2</p>\n</blockquote>\n\n<p>What's the solution to this basic problem?</p>\n",
            "last_activity_date": 1425996443,
            "question_id": 750486,
            "score": 615,
            "tags": [
                "javascript",
                "loops",
                "closures"
            ],
            "title": "JavaScript closure inside loops \u2013 simple practical example"
        },
        {
            "answer_count": 74,
            "answers": [
                {
                    "body": "<p>If you're using jQuery, you can use a library, such as <a href=\"http://benalman.com/projects/jquery-bbq-plugin/\">jQuery BBQ: Back Button &amp; Query Library</a>.</p>\n\n<blockquote>\n  <p>...jQuery BBQ provides a full <code>.deparam()</code> method, along with both hash state management, and fragment / query string parse and merge utility methods.</p>\n</blockquote>\n\n<p>Edit: Adding Deparam Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var DeparamExample = function() {\r\n            var params = $.deparam.querystring();\r\n\r\n            //nameofparam is the name of a param from url\r\n            //code below will get param if ajax refresh with hash\r\n            if (typeof params.nameofparam == 'undefined') {\r\n                params = jQuery.deparam.fragment(window.location.href);\r\n            }\r\n            \r\n            if (typeof params.nameofparam != 'undefined') {\r\n                var paramValue = params.nameofparam.toString();\r\n                  \r\n            }\r\n        };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to just use plain JavaScript, you could use...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var getParamValue = (function() {\n    var params;\n    var resetParams = function() {\n            var query = window.location.search;\n            var regex = /[?&amp;;](.+?)=([^&amp;;]+)/g;\n            var match;\n\n            params = {};\n\n            if (query) {\n                while (match = regex.exec(query)) {\n                    params[match[1]] = decodeURIComponent(match[2]);\n                }\n            }    \n        };\n\n    window.addEventListener\n    &amp;&amp; window.addEventListener('popstate', resetParams);\n\n    resetParams();\n\n    return function(param) {\n        return params.hasOwnProperty(param) ? params[param] : null;\n    }\n\n})();\u200b\n</code></pre>\n\n<p>Because of the new HTML History API and specifically <code>history.pushState()</code> and <code>history.replaceState()</code>, the URL can change which will invalidate the cache of parameters and their values.</p>\n\n<p>This version will update its internal cache of parameters each time the history changes.</p>\n",
                    "is_accepted": false,
                    "score": 121
                },
                {
                    "body": "<p>You don't need jQuery for that purpose. You can use just some pure JavaScript:</p>\n\n<pre><code>function getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&amp;]\" + name + \"=([^&amp;#]*)\"),\n        results = regex.exec(location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>var prodId = getParameterByName('prodId');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3533
                },
                {
                    "body": "<p>Roshambo on snipplr.com has a really hot and simple script to achieve this described in <em><a href=\"http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/\">Get URL Parameters with jQuery | Improved</a></em>. With his script you also easily get to pull out just the parameters you want.</p>\n\n<p>Here's the gist:</p>\n\n<pre><code>$.urlParam = function(name, url) {\n    if (!url) {\n     url = window.location.href;\n    }\n    var results = new RegExp('[\\\\?&amp;]' + name + '=([^&amp;#]*)').exec(url);\n    if (!results) { \n        return undefined;\n    }\n    return results[1] || undefined;\n}\n</code></pre>\n\n<p>Then just get your parameters from the query string.</p>\n\n<p>So if the URL/query string was <code>xyz.com/index.html?lang=de</code>.</p>\n\n<p>Just call <code>var langval = $.urlParam('lang');</code>, and you've got it.</p>\n\n<p>UZBEKJON has a great blog post on this as well, <em><a href=\"http://jquery-howto.blogspot.com/2009/09/get-url-parameters-values-with-jquery.html\">Get URL parameters &amp; values with jQuery</a></em>.</p>\n",
                    "is_accepted": false,
                    "score": 145
                },
                {
                    "body": "<p>Some of the solutions posted here are inefficient. Repeating the regular expression search every time the script needs to access a parameter is completely unnecessary, one single function to split up the parameters into an associative-array style object is enough. If you're not working with the HTML 5 History API, this is only necessary once per page load.  The other suggestions here also fail to decode the URL correctly.</p>\n\n<pre><code>var urlParams;\n(window.<a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.onpopstate\">onpopstate</a> = function () {\n    var match,\n        pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n        search = /([^&=]+)=?([^&]*)/g,\n        decode = function (s) { return <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/decodeURIComponent\">decodeURIComponent</a>(s.replace(pl, \" \")); },\n        query  = window.<a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.location\">location</a>.search.<a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/substring\">substring</a>(1);\n\n    urlParams = {};\n    while (match = search.<a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp/exec\">exec</a>(query))\n       urlParams[decode(match[1])] = decode(match[2]);\n})();</code></pre>\n\n<p>Example querystring: </p>\n\n<blockquote>\n  <p><code>?i=main&amp;mode=front&amp;sid=de8d49b78a85a322c4155015fdce22c4&amp;enc=+Hello%20&amp;empty</code></p>\n</blockquote>\n\n<p>Result:</p>\n\n<pre><code>urlParams = {\n    enc: \" Hello \",\n    i: \"main\",\n    mode: \"front\",\n    sid: \"de8d49b78a85a322c4155015fdce22c4\",\n    empty: \"\"\n}\n\nalert(urlParams[\"mode\"]);\n// -&gt; \"front\"\n\nalert(\"empty\" in urlParams);\n// -&gt; true\n</code></pre>\n\n<p>This could easily be improved upon to handle array-style query strings too.  An example of this is <a href=\"http://jsbin.com/adali3/2\">here</a>, but since array-style parameters aren't defined in <a href=\"http://tools.ietf.org/html/rfc3986\">RFC 3986</a> I won't pollute this answer with the source code. <a href=\"http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript/23401756#23401756\">For those interested in a \"polluted\" version, look at campbeln's answer below</a>.</p>\n\n<p>Also, as pointed out in the comments, <code>;</code> is a legal delimiter for <code>key=value</code> pairs.  It would require a more complicated regex to handle <code>;</code> or <code>&amp;</code>, which I think is unnecessary because it's rare that <code>;</code> is used and I would say even more unlikely that both would be used.  If you need to support <code>;</code> instead of <code>&amp;</code>, just swap them in the regex.</p>\n\n<p><hr /> \nIf you're using a server-side preprocessing language, you might want to use its native JSON functions to do the heavy lifting for you.  For example, in PHP you can write:</p>\n\n<pre><code>&lt;script>var urlParams = &lt;?php echo <a href=\"http://php.net/manual/en/function.json-encode.php\">json_encode</a>($_GET, JSON_HEX_TAG);?>;&lt;/script></code></pre>\n\n<p>Much simpler!</p>\n",
                    "is_accepted": false,
                    "score": 1141
                },
                {
                    "body": "<pre><code>function GET() {\n        var data = [];\n        for(x = 0; x &lt; arguments.length; ++x)\n            data.push(location.href.match(new RegExp(\"/\\?\".concat(arguments[x],\"=\",\"([^\\n&amp;]*)\")))[1])\n                return data;\n    }\n\n\nexample:\ndata = GET(\"id\",\"name\",\"foo\");\nquery string : ?id=3&amp;name=jet&amp;foo=b\nreturns:\n    data[0] // 3\n    data[1] // jet\n    data[2] // b\nor\n    alert(GET(\"id\")[0]) // return 3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<h2>Without jQuery</h2>\n\n<pre><code>var qs = (function(a) {\n    if (a == \"\") return {};\n    var b = {};\n    for (var i = 0; i &lt; a.length; ++i)\n    {\n        var p=a[i].split('=', 2);\n        if (p.length == 1)\n            b[p[0]] = \"\";\n        else\n            b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n    }\n    return b;\n})(window.location.search.substr(1).split('&amp;'));\n</code></pre>\n\n<p>With an URL like <code>?topic=123&amp;name=query+string</code>, the following will return:</p>\n\n<pre><code>qs[\"topic\"];    // 123\nqs[\"name\"];     // query string\nqs[\"nothere\"];  // undefined (object)\n</code></pre>\n\n<hr>\n\n<h2>Google method</h2>\n\n<p>Tearing Google's code I found the method they use: <code>getUrlParameters</code></p>\n\n<pre><code>function (b) {\n    var c = typeof b === \"undefined\";\n    if (a !== h &amp;&amp; c) return a;\n    for (var d = {}, b = b || k[B][vb], e = b[p](\"?\"), f = b[p](\"#\"), b = (f === -1 ? b[Ya](e + 1) : [b[Ya](e + 1, f - e - 1), \"&amp;\", b[Ya](f + 1)][K](\"\"))[z](\"&amp;\"), e = i.dd ? ia : unescape, f = 0, g = b[w]; f &lt; g; ++f) {\n        var l = b[f][p](\"=\");\n        if (l !== -1) {\n            var q = b[f][I](0, l),\n                l = b[f][I](l + 1),\n                l = l[Ca](/\\+/g, \" \");\n            try {\n                d[q] = e(l)\n            } catch (A) {}\n        }\n    }\n    c &amp;&amp; (a = d);\n    return d\n}\n</code></pre>\n\n<p>It is obfuscated, but it is understandable.</p>\n\n<p>They start to look for parameters on the url from <code>?</code> and also from the hash <code>#</code>. Then for each parameter they split in the equal sign <code>b[f][p](\"=\")</code> (which looks like <code>indexOf</code>, they use the position of the char to get the key/value). Having it split they check whether the parameter has a value or not, if it has they store the value of <code>d</code>, if not it just continue.</p>\n\n<p>In the end the object <code>d</code> is returned, handling escaping and the <code>+</code> sign. This object is just like mine, it has the same behavior.</p>\n\n<hr>\n\n<p>My method as a <strong>jQuery plugin</strong></p>\n\n<pre><code>(function($) {\n    $.QueryString = (function(a) {\n        if (a == \"\") return {};\n        var b = {};\n        for (var i = 0; i &lt; a.length; ++i)\n        {\n            var p=a[i].split('=');\n            if (p.length != 2) continue;\n            b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n        }\n        return b;\n    })(window.location.search.substr(1).split('&amp;'))\n})(jQuery);\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>$.QueryString[\"param\"]\n</code></pre>\n\n<hr>\n\n<h2><a href=\"http://jsperf.com/querystring-with-javascript\">Performance test (split method against regex method)</a> (<a href=\"http://jsperf.com/\">jsPerf</a>)</h2>\n\n<p>Preparation code: methods declaration</p>\n\n<h3>Split test code</h3>\n\n<pre><code>var qs = window.GetQueryString(query);\n\nvar search = qs[\"q\"];\nvar value = qs[\"value\"];\nvar undef = qs[\"undefinedstring\"];\n</code></pre>\n\n<h3>Regex test code</h3>\n\n<pre><code>var search = window.getParameterByName(\"q\");\nvar value = window.getParameterByName(\"value\");\nvar undef = window.getParameterByName(\"undefinedstring\");\n</code></pre>\n\n<p><strong>Testing in Firefox 4.0 x86 on Windows Server 2008 R2 / 7 x64</strong></p>\n\n<ul>\n<li><strong>Split method</strong>: 144,780 \u00b12.17% fastest</li>\n<li><strong>Regex method</strong>: 13,891 \u00b10.85% | 90% slower</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 753
                },
                {
                    "body": "<p>Here's my stab at making Andy E's excellent solution into a full fledged jQuery plugin:</p>\n\n<pre><code>;(function ($) {\n    $.extend({      \n        getQueryString: function (name) {           \n            function parseParams() {\n                var params = {},\n                    e,\n                    a = /\\+/g,  // Regex for replacing addition symbol with a space\n                    r = /([^&amp;=]+)=?([^&amp;]*)/g,\n                    d = function (s) { return decodeURIComponent(s.replace(a, \" \")); },\n                    q = window.location.search.substring(1);\n\n                while (e = r.exec(q))\n                    params[d(e[1])] = d(e[2]);\n\n                return params;\n            }\n\n            if (!this.queryStringParams)\n                this.queryStringParams = parseParams(); \n\n            return this.queryStringParams[name];\n        }\n    });\n})(jQuery);\n</code></pre>\n\n<p>The syntax is:</p>\n\n<pre><code>var someVar = $.getQueryString('myParam');\n</code></pre>\n\n<p>Best of both worlds!</p>\n",
                    "is_accepted": false,
                    "score": 72
                },
                {
                    "body": "<p>Here is my version of query string parsing code on <a href=\"https://github.com/voituk/Misc/blob/master/js/jquery.hash.js#L10\">github</a></p>\n\n<p>It's \"prefixed\" with jquery.*, but the parsing function itself don't use jQuery. Its pretty fast but still open for few simple performance optimizations.</p>\n\n<p>Also it supports list &amp; hash-tables encoding in URL, like: </p>\n\n<pre><code>arr[]=10&amp;arr[]=20&amp;arr[]=100\n</code></pre>\n\n<p>or</p>\n\n<pre><code>hash[key1]=hello&amp;hash[key2]=moto&amp;a=How%20are%20you\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Code golf:</p>\n\n<pre><code>var a = location.search&amp;&amp;location.search.substr(1).replace(/\\+/gi,\" \").split(\"&amp;\");\nfor (var i in a) {\n    var s = a[i].split(\"=\");\n    a[i]  = a[unescape(s[0])] = unescape(s[1]);\n}\n</code></pre>\n\n<p>Display it!</p>\n\n<pre><code>for (i in a) {\n    document.write(i + \":\" + a[i] + \"&lt;br/&gt;\");   \n};\n</code></pre>\n\n<p>On my Mac: <code>test.htm?i=can&amp;has=cheezburger</code> displays</p>\n\n<pre><code>0:can\n1:cheezburger\ni:can\nhas:cheezburger\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Roshambo jQuery method wasn't taking care of decode URL</p>\n\n<p><a href=\"http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/\" rel=\"nofollow\">http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/</a></p>\n\n<p>Just added that capability also while adding in  the return statement </p>\n\n<pre><code>return decodeURIComponent(results[1].replace(/\\+/g, \" \")) || 0;\n</code></pre>\n\n<p>Now you can find the updated gist:</p>\n\n<pre><code>$.urlParam = function(name){\nvar results = new RegExp('[\\\\?&amp;]' + name + '=([^&amp;#]*)').exec(window.location.href);\nif (!results) { return 0; }\nreturn decodeURIComponent(results[1].replace(/\\+/g, \" \")) || 0;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>This is a function I created a while back and I'm quite happy with. It is not case sensitive - which is handy. Also, if the requested QS doesn't exist, it just returns an empty string.</p>\n\n<p>I use a compressed version of this. I'm posting uncompressed for the novice types to better explain what's going on.</p>\n\n<p>I'm sure this could be optimized or done differently to work faster, but it's always worked great for what I need.</p>\n\n<p>Enjoy.</p>\n\n<pre><code>    function getQSP(sName, sURL) {\n        var theItmToRtn = \"\";\n        var theSrchStrg = location.search;\n        if (sURL) theSrchStrg = sURL;\n\n        var sOrig = theSrchStrg;\n\n        theSrchStrg = theSrchStrg.toUpperCase();\n        sName = sName.toUpperCase();\n        theSrchStrg = theSrchStrg.replace(\"?\", \"&amp;\")\n        theSrchStrg = theSrchStrg + \"&amp;\";\n        var theSrchToken = \"&amp;\" + sName + \"=\";\n        if (theSrchStrg.indexOf(theSrchToken) != -1) {\n            var theSrchTokenLth = theSrchToken.length;\n            var theSrchTokenLocStart = theSrchStrg.indexOf(theSrchToken) + theSrchTokenLth;\n            var theLocOfNextAndSign = theSrchStrg.indexOf(\"&amp;\", theSrchTokenLocStart);\n            theItmToRtn = unescape(sOrig.substring(theSrchTokenLocStart, theLocOfNextAndSign));\n        }\n        return unescape(theItmToRtn);\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Improved version of <a href=\"http://stackoverflow.com/questions/901115/get-querystring-values-with-jquery/901144#901144\">Artem Barger's answer</a>:</p>\n\n<pre><code>function getParameterByName(name) {\n    var match = RegExp('[?&amp;]' + name + '=([^&amp;]*)').exec(window.location.search);\n    return match &amp;&amp; decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n</code></pre>\n\n<p>For more information on improvement see: <a href=\"http://james.padolsey.com/javascript/bujs-1-getparameterbyname/\">http://james.padolsey.com/javascript/bujs-1-getparameterbyname/</a></p>\n",
                    "is_accepted": false,
                    "score": 469
                },
                {
                    "body": "<p>I use regular expressions a lot but not for that.</p>\n\n<p>It seems easier and more efficient to me to read the query string once in my application, and build an object from all the key/value pairs like:</p>\n\n<pre><code>var search = function() {\n  var s = window.location.search.substr(1),\n    p = s.split(/\\&amp;/), l = p.length, kv, r = {};\n  if (l === 0) {return false;}\n  while (l--) {\n    kv = p[l].split(/\\=/);\n    r[kv[0]] = decodeURIComponent(kv[1] || '') || true;\n  }\n  return r;\n}();\n</code></pre>\n\n<p>For an URL like <code>http://domain.com?param1=val1&amp;param2=val2</code> you can get their value later in your code as <code>search.param1</code> and <code>search.param2</code>.</p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Just another recommendation. The plugin <em><a href=\"https://github.com/allmarkedup/jQuery-URL-Parser\">Purl</a></em> allows to retrieve all parts of URL, including anchor, host, etc.</p>\n\n<p>It can be used with or without jQuery.</p>\n\n<p>Usage is very simple and cool:</p>\n\n<pre><code>var url = $.url('http://allmarkedup.com/folder/dir/index.html?item=value'); // jQuery version\nvar url = purl('http://allmarkedup.com/folder/dir/index.html?item=value'); // plain JS version\nurl.attr('protocol'); // returns 'http'\nurl.attr('path'); // returns '/folder/dir/index.html'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 351
                },
                {
                    "body": "<p>I would rather use split() instead of Regex for this operation:</p>\n\n<pre><code>function getUrlParams() {\n    var result = {};\n    var params = (window.location.search.split('?')[1] || '').split('&amp;');\n    for(var param in params) {\n        if (params.hasOwnProperty(param)) {\n            paramParts = params[param].split('=');\n            result[paramParts[0]] = decodeURIComponent(paramParts[1] || \"\");\n        }\n    }\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I took <a href=\"http://stackoverflow.com/questions/901115/get-querystring-values-in-javascript/3855394#3855394\">this answer</a> and added support for optionally passing the URL in as a parameter; falls back to window.location.search. Obviously this is useful for getting the query string parameters from URLs that are not the current page:</p>\n\n<pre><code>(function($, undef) {\n  $.QueryString = function(url) {\n    var pairs, qs = null, index, map = {};\n    if(url == undef){\n      qs = window.location.search.substr(1);\n    }else{\n      index = url.indexOf('?');\n      if(index == -1) return {};\n      qs = url.substring(index+1);\n    }\n    pairs = qs.split('&amp;');\n    if (pairs == \"\") return {};\n    for (var i = 0; i &lt; pairs.length; ++i)\n    {\n      var p = pairs[i].split('=');\n      if(p.length != 2) continue;\n      map[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n    }\n    return map;\n  };\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Doesn't have enough reputation for comment, sigh.</p>\n\n<p>Here's my edit to this <a href=\"http://stackoverflow.com/questions/901115/get-query-string-values-in-javascript/3855394#3855394\">excellent answer</a> - with added ability to parse query strings with keys without values.</p>\n\n<pre><code>var url = 'http://sb.com/reg/step1?param';\nvar qs = (function(a) {\n    if (a == \"\") return {};\n    var b = {};\n    for (var i = 0; i &lt; a.length; ++i) {\n        var p=a[i].split('=', 2);\n        if (p[1]) p[1] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n        b[p[0]] = p[1];\n    }\n    return b;\n})((url.split('?'))[1].split('&amp;'));\n</code></pre>\n\n<p><b>IMPORTANT!</b> Parameter for that func in last line is different, it's just example how one can pass arbitrary url to it. You can use last line from Bruno answer to parse current url.</p>\n\n<p>So what exactly changed? With url <code>http://sb.com/reg/step1?param=</code> results will be same. But with url <code>http://sb.com/reg/step1?param</code> Bruno solution returns object without keys, while mine returns object with key <code>param</code> and <code>undefined</code> value.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>This code will create a object which have two method <br /> \n       1. <strong>isKeyExist</strong>: Check if particular parameter exist; <br /> \n       2. <strong>getValue</strong>: get value of particular parameter.</p>\n\n<pre><code> var QSParam = new function() {\n        var qsParm = {};\n        var query = window.location.search.substring(1);\n        var params = query.split('&amp;');\n        for (var i = 0; i &lt; params.length; i++) {\n            var pos = params[i].indexOf('=');\n            if (pos &gt; 0) {\n                var key = params[i].substring(0, pos);\n                var val = params[i].substring(pos + 1);\n                qsParm[key] = val;\n            }\n        }\n        this.isKeyExist = function(query){\n            if(qsParm[query]){\n                return true;\n            }\n            else{\n               return false;\n            }\n        };     \n        this.getValue = function(query){\n            if(qsParm[query])\n            {\n                return qsParm[query];\n            }\n            throw \"URL does not contain query \"+ query;\n        }\n  };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>String.prototype.getValueByKey = function(k){\n    var p = new RegExp('\\\\b'+k+'\\\\b','gi');\n    return this.search(p) != -1 ? decodeURIComponent(this.substr(this.search(p)+k.length+1).substr(0,this.substr(this.search(p)+k.length+1).search(/(&amp;|;|$)/))) : \"\";\n};\n</code></pre>\n\n<p>Then call it like so:</p>\n\n<pre><code>if(location.search != \"\") location.search.getValueByKey(\"id\");\n</code></pre>\n\n<p>You can use this for <strong>cookies</strong> also:</p>\n\n<pre><code>if(navigator.cookieEnabled) document.cookie.getValueByKey(\"username\");\n</code></pre>\n\n<p>This only works for strings that have \"key=value[&amp;|;|$]\"... will not work on objects/arrays.</p>\n\n<p>If you <strong>don't</strong> want to use <strong>String.prototype</strong>...\nmove it to a function and pass the string as an argument</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I like <a href=\"http://stackoverflow.com/a/3867610/632117\">Ryan Phelan's solution</a>. But I don't see any point of extending jQuery for that? There is no usage of jQuery functionality.</p>\n\n<p>On other hand I like the built-in function in Google Chrome: window.location.getParameter.</p>\n\n<p>So why not to use this? Okay, other browsers don't have. So let's create this function if it does not exist:</p>\n\n<pre><code>if (!window.location.getParameter ) {\n  window.location.getParameter = function(key) {\n    function parseParams() {\n        var params = {},\n            e,\n            a = /\\+/g,  // Regex for replacing addition symbol with a space\n            r = /([^&amp;=]+)=?([^&amp;]*)/g,\n            d = function (s) { return decodeURIComponent(s.replace(a, \" \")); },\n            q = window.location.search.substring(1);\n\n        while (e = r.exec(q))\n            params[d(e[1])] = d(e[2]);\n\n        return params;\n    }\n\n    if (!this.queryStringParams)\n        this.queryStringParams = parseParams(); \n\n    return this.queryStringParams[key];\n  };\n}\n</code></pre>\n\n<p>This function is more or less from Ryan Phelan, but it is wrapped differently: clear name and no dependencies of other javascript libraries. <a href=\"http://sharepointkunskap.wordpress.com/2012/01/11/get-url-parameters-with-javascript/\">More about this function on my blog</a>.</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<pre><code>function getUrlVar(key){\n    var result = new RegExp(key + \"=([^&amp;]*)\", \"i\").exec(window.location.search); \n    return result &amp;&amp; unescape(result[1]) || \"\"; \n}\n</code></pre>\n\n<p><a href=\"https://gist.github.com/1771618\">https://gist.github.com/1771618</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Keep it simple in plain javascript:</p>\n\n<pre><code>function qs(key) {\n    var vars = [], hash;\n    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n    for(var i = 0; i &lt; hashes.length; i++)\n    {\n        hash = hashes[i].split('=');\n        vars.push(hash[0]);\n        vars[hash[0]] = hash[1];\n    }\n    return vars[key];\n}\n</code></pre>\n\n<p>Call it from anywhere in the JavaScript code:</p>\n\n<pre><code>var result = qs('someKey');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>If you're doing more URL manipulation than simply parsing the querystring, you may find <a href=\"http://medialize.github.com/URI.js/\">URI.js</a> helpful. It is a library for manipulating URLs - and comes with all the bells and whistles. (Sorry for self-advertising here)</p>\n\n<p>to convert your querystring into a map:</p>\n\n<pre><code>var data = URI('?foo=bar&amp;bar=baz&amp;foo=world').query(true);\ndata == {\n  \"foo\": [\"bar\", \"world\"],\n  \"bar\": \"baz\"\n}\n</code></pre>\n\n<p>(URI.js also \"fixes\" bad querystrings like <code>?&amp;foo&amp;&amp;bar=baz&amp;</code> to <code>?foo&amp;bar=baz</code>)</p>\n",
                    "is_accepted": false,
                    "score": 46
                },
                {
                    "body": "<p>Here's my own take on this. This first function decodes a URL string into an object of name/value pairs:</p>\n\n<pre><code>url_args_decode = function (url) {\n  var args_enc, el, i, nameval, ret;\n  ret = {};\n  // use the DOM to parse the URL via an 'a' element\n  el = document.createElement(\"a\");\n  el.href = url;\n  // strip off initial ? on search and split\n  args_enc = el.search.substring(1).split('&amp;');\n  for (i = 0; i &lt; args_enc.length; i++) {\n    // convert + into space, split on =, and then decode \n    args_enc[i].replace(/\\+/g, ' ');\n    nameval = args_enc[i].split('=', 2);\n    ret[decodeURIComponent(nameval[0])]=decodeURIComponent(nameval[1]);\n  }\n  return ret;\n};\n</code></pre>\n\n<p>And as an added bonus, if you change some of the args, you can use this second function to put the array of args back into the URL string:</p>\n\n<pre><code>url_args_replace = function (url, args) {\n  var args_enc, el, name;\n  // use the DOM to parse the URL via an 'a' element\n  el = document.createElement(\"a\");\n  el.href = url;\n  args_enc = [];\n  // encode args to go into url\n  for (name in args) {\n    if (args.hasOwnProperty(name)) {\n      name = encodeURIComponent(name);\n      args[name] = encodeURIComponent(args[name]);\n      args_enc.push(name + '=' + args[name]);\n    }\n  }\n  if (args_enc.length &gt; 0) {\n    el.search = '?' + args_enc.join('&amp;');\n  } else {\n    el.search = '';\n  }\n  return el.href;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>http://someurl.com?key=value&amp;keynovalue&amp;keyemptyvalue=&amp;&amp;keynovalue=nowhasvalue#somehash\n</code></pre>\n\n<ul>\n<li>Regular key/value pair (<code>?param=value</code>)</li>\n<li>Keys w/o value (<code>?param</code> : no equal sign or value)</li>\n<li>Keys w/ empty value (<code>?param=</code> : equal sign, but no value to right of equal sign)</li>\n<li>Repeated Keys (<code>?param=1&amp;param=2</code>)</li>\n<li>Removes Empty Keys (<code>?&amp;&amp;</code> : no key or value)</li>\n</ul>\n\n<h3>Code:</h3>\n\n<ul>\n<li><pre><code>var queryString = window.location.search || '';\nvar keyValPairs = [];\nvar params      = {};\nqueryString     = queryString.substr(1);\n\nif (queryString.length)\n{\n   keyValPairs = queryString.split('&amp;');\n   for (pairNum in keyValPairs)\n   {\n      var key = keyValPairs[pairNum].split('=')[0];\n      if (!key.length) continue;\n      if (typeof params[key] === 'undefined')\n         params[key] = [];\n      params[key].push(keyValPairs[pairNum].split('=')[1]);\n   }\n}\n</code></pre></li>\n</ul>\n\n<h3>How to Call:</h3>\n\n<ul>\n<li><pre><code>params['key'];  // returns an array of values (1..n)\n</code></pre></li>\n</ul>\n\n<h3>Output:</h3>\n\n<ul>\n<li><pre><code>key            [\"value\"]\nkeyemptyvalue  [\"\"]\nkeynovalue     [undefined, \"nowhasvalue\"]\n</code></pre></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>This one works fine</p>\n\n<pre><code>function getQuerystring(key) {\n    var query = window.location.search.substring(1);\n    alert(query);\n    var vars = query.split(\"&amp;\");\n    for (var i = 0; i &lt; vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        if (pair[0] == key) {\n            return pair[1];\n        }\n    }\n}\n</code></pre>\n\n<p>taken from <a href=\"http://forums.asp.net/t/1771251.aspx/1\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The following function returns an object version of your queryString. \nYou can simply write <code>obj.key1</code> and  <code>obj.key2</code> to access values of <code>key1</code> and <code>key2</code> in parameter.</p>\n\n<pre><code>function getQueryStringObject()\n{\n    var querystring = document.location.search.replace('?','').split( '&amp;' );\n    var objQueryString={};\n    var key=\"\",val=\"\";\n    if(typeof querystring == 'undefined')\n    {\n        return (typeof querystring);\n    }\n    for(i=0;i&lt;querystring.length;i++)\n    {\n        key=querystring[i].split(\"=\")[0];\n        val=querystring[i].split(\"=\")[1];\n        objQueryString[key] = val;\n    }\n    return objQueryString;\n}\n</code></pre>\n\n<p>And to use this function you can write</p>\n\n<pre><code>var obj= getQueryStringObject();\nalert(obj.key1);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I like this one:</p>\n\n<pre><code>// get an array with all querystring values\n// example: var valor = getUrlVars()[\"valor\"];\nfunction getUrlVars() {\n    var vars = [], hash;\n    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n    for (var i = 0; i &lt; hashes.length; i++) {\n        hash = hashes[i].split('=');\n        vars.push(hash[0]);\n        vars[hash[0]] = hash[1];\n    }\n    return vars;\n}\n</code></pre>\n\n<p>Works great for me.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Use the following to get a query param value given a key name:</p>\n\n<pre><code>function getParam(key) \n  {\n  // Find the key and everything up to the ampersand delimiter\n  var value=RegExp(\"\"+key+\"[^&amp;]+\").exec(window.location.search);\n\n  // Return the unescaped value minus everything starting from the equals sign or an empty string\n  return unescape(!!value ? value.toString().replace(/^[^=]+./,\"\") : \"\");\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>Here is a fast way to get an object similar to the PHP <a href=\"http://php.net/manual/en/reserved.variables.get.php\">$_GET</a> array:</p>\n\n<pre><code>function get_query(){\n    var url = location.href;\n    var qs = url.substring(url.indexOf('?') + 1).split('&amp;');\n    for(var i = 0, result = {}; i &lt; qs.length; i++){\n        qs[i] = qs[i].split('=');\n        result[qs[i][0]] = decodeURIComponent(qs[i][1]);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var $_GET = get_query();\n</code></pre>\n\n<p>For the query string <code>x=5&amp;y&amp;z=hello&amp;x=6</code> this returns the object:</p>\n\n<pre><code>{\n  x: \"6\",\n  y: undefined,\n  z: \"hello\"\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>Why not just use 2 <strong>splits</strong> ?</p>\n\n<pre><code>function get(n) {\n      var half = location.search.split(n + '=')[1];\n      return half !== undefined ? decodeURIComponent(half.split('&amp;')[0]) : null;\n  }\n</code></pre>\n\n<p>I was reading all previous and more complete answer. But I think that is the simplest and faster method. You can check in this jsPerf <a href=\"http://jsperf.com/querystring-with-javascript/9\">benchmark</a> </p>\n\n<p>To solve the problem in Rup's comment, add a conditional split by changing the first line to the two below.  But absolute accuracy means it's now slower than regexp (see <a href=\"http://jsperf.com/querystring-with-javascript/10\">jsPerf</a>).</p>\n\n<pre><code>function get(n) {\n    var half = location.search.split('&amp;' + n + '=')[1];\n    if (!half) half = location.search.split('?' + n + '=')[1];\n    return half !== undefined ? decodeURIComponent(half.split('&amp;')[0]) : null;\n}\n</code></pre>\n\n<p>So if you know you won't run into Rup's counter-case, this wins.  Otherwise, regexp.</p>\n",
                    "is_accepted": false,
                    "score": 59
                },
                {
                    "body": "<p>These are all great answers, but I needed something a bit more robust, and thought you all might like to have what I created. It is a simple library method that does dissection and manipulation of url parameters. The static method has the following sub methods that can be called on the subject url:</p>\n\n<ul>\n<li>getHost</li>\n<li>getPath</li>\n<li>getHash</li>\n<li>setHash</li>\n<li>getParams</li>\n<li>getQuery</li>\n<li>setParam</li>\n<li>getParam</li>\n<li>hasParam</li>\n<li>removeParam</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>URLParser(url).getParam('myparam1')\n</code></pre>\n\n<hr>\n\n<pre><code>var url = \"http://www.test.com/folder/mypage.html?myparam1=1&amp;myparam2=2#something\";\n\nfunction URLParser(u){\n    var path=\"\",query=\"\",hash=\"\",params;\n    if(u.indexOf(\"#\") &gt; 0){\n        hash = u.substr(u.indexOf(\"#\") + 1);\n        u = u.substr(0 , u.indexOf(\"#\"));\n    }\n    if(u.indexOf(\"?\") &gt; 0){\n        path = u.substr(0 , u.indexOf(\"?\"));        \n        query = u.substr(u.indexOf(\"?\") + 1);\n        params= query.split('&amp;');\n    }else\n        path = u;\n    return {\n        getHost: function(){\n            var hostexp = /\\/\\/([\\w.-]*)/;\n            var match = hostexp.exec(path);\n            if (match != null &amp;&amp; match.length &gt; 1)\n                return match[1];\n            return \"\";\n        },\n        getPath: function(){\n            var pathexp = /\\/\\/[\\w.-]*(?:\\/([^?]*))/;\n            var match = pathexp.exec(path);\n            if (match != null &amp;&amp; match.length &gt; 1)\n                return match[1];\n            return \"\";\n        },\n        getHash: function(){\n            return hash;\n        },\n        getParams: function(){\n            return params\n        },\n        getQuery: function(){\n            return query;\n        },\n        setHash: function(value){\n            if(query.length &gt; 0)\n                query = \"?\" + query;\n            if(value.length &gt; 0)\n                query = query + \"#\" + value;\n            return path + query;\n        },\n        setParam: function(name, value){\n            if(!params){\n                params= new Array();\n            }\n            params.push(name + '=' + value);\n            for (var i = 0; i &lt; params.length; i++) {\n                if(query.length &gt; 0)\n                    query += \"&amp;\";\n                query += params[i];\n            }\n            if(query.length &gt; 0)\n                query = \"?\" + query;\n            if(hash.length &gt; 0)\n                query = query + \"#\" + hash;\n            return path + query;\n        },\n        getParam: function(name){\n            if(params){\n                for (var i = 0; i &lt; params.length; i++) {\n                    var pair = params[i].split('=');\n                    if (decodeURIComponent(pair[0]) == name)\n                        return decodeURIComponent(pair[1]);\n                }\n            }\n            console.log('Query variable %s not found', name);\n        },\n        hasParam: function(name){\n            if(params){\n                for (var i = 0; i &lt; params.length; i++) {\n                    var pair = params[i].split('=');\n                    if (decodeURIComponent(pair[0]) == name)\n                        return true;\n                }\n            }\n            console.log('Query variable %s not found', name);\n        },\n        removeParam: function(name){\n            query = \"\";\n            if(params){\n                var newparams = new Array();\n                for (var i = 0;i &lt; params.length;i++) {\n                    var pair = params[i].split('=');\n                    if (decodeURIComponent(pair[0]) != name)\n                          newparams .push(params[i]);\n                }\n                params = newparams ;\n                for (var i = 0; i &lt; params.length; i++) {\n                    if(query.length &gt; 0)\n                        query += \"&amp;\";\n                    query += params[i];\n                }\n            }\n            if(query.length &gt; 0)\n                query = \"?\" + query;\n            if(hash.length &gt; 0)\n                query = query + \"#\" + hash;\n            return path + query;\n        },\n    }\n}\n\n\ndocument.write(\"Host: \" + URLParser(url).getHost() + '&lt;br&gt;');\ndocument.write(\"Path: \" + URLParser(url).getPath() + '&lt;br&gt;');\ndocument.write(\"Query: \" + URLParser(url).getQuery() + '&lt;br&gt;');\ndocument.write(\"Hash: \" + URLParser(url).getHash() + '&lt;br&gt;');\ndocument.write(\"Params Array: \" + URLParser(url).getParams() + '&lt;br&gt;');\ndocument.write(\"Param: \" + URLParser(url).getParam('myparam1') + '&lt;br&gt;');\ndocument.write(\"Has Param: \" + URLParser(url).hasParam('myparam1') + '&lt;br&gt;');\n\ndocument.write(url + '&lt;br&gt;');\n\n// Remove first param\nurl = URLParser(url).removeParam('myparam1');\ndocument.write(url + ' - Remove first param&lt;br&gt;');\n\n// Add third param\nurl = URLParser(url).setParam('myparam3',3);\ndocument.write(url + ' - Add third param&lt;br&gt;');\n\n// Remove second param\nurl = URLParser(url).removeParam('myparam2');\ndocument.write(url + ' - Add third param&lt;br&gt;');\n\n// Add hash \nurl = URLParser(url).setHash('newhash');\ndocument.write(url + ' - Set Hash&lt;br&gt;');\n\n// Remove last param\nurl = URLParser(url).removeParam('myparam3');\ndocument.write(url + ' - Remove last param&lt;br&gt;');\n\n// Remove a param that doesnt exist\nurl = URLParser(url).removeParam('myparam3');\ndocument.write(url + ' - Remove a param that doesnt exist&lt;br&gt;');\n\n\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "\n\n<p>This function converts the querystring to a JSON-like object, it also handles value-less and multi-value parameters:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"use strict\";\nfunction getQuerystringData(name) {\n    var data = { };\n    var parameters = window.location.search.substring(1).split(\"&amp;\");\n    for (var i = 0, j = parameters.length; i &lt; j; i++) {\n        var parameter = parameters[i].split(\"=\");\n        var parameterName = decodeURIComponent(parameter[0]);\n        var parameterValue = typeof parameter[1] === \"undefined\" ? parameter[1] : decodeURIComponent(parameter[1]);\n        var dataType = typeof data[parameterName];\n        if (dataType === \"undefined\") {\n            data[parameterName] = parameterValue;\n        } else if (dataType === \"array\") {\n            data[parameterName].push(parameterValue);\n        } else {\n            data[parameterName] = [data[parameterName]];\n            data[parameterName].push(parameterValue);\n        }\n    }\n    return typeof name === \"string\" ? data[name] : data;\n}\n</code></pre>\n\n<p>We perform a check for <code>undefined</code> on <code>parameter[1]</code> because <code>decodeURIComponent</code> returns the string \"undefined\" if the variable is <code>undefined</code>, and that's wrong.</p>\n\n<p>Usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"use strict\";\nvar data = getQuerystringData();\nvar parameterValue = getQuerystringData(\"parameterName\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is a nice little <code>url</code> utility for this with some cool sugaring:</p>\n\n<pre><code>http://www.example.com/path/index.html?silly=willy#chucky=cheese\n\nurl();            // http://www.example.com/path/index.html?silly=willy#chucky=cheese\nurl('domain');    // example.com\nurl('1');         // path\nurl('-1');        // index.html\nurl('?');         // silly=willy\nurl('?silly');    // willy\nurl('?poo');      // (an empty string)\nurl('#');         // chucky=cheese\nurl('#chucky');   // cheese\nurl('#poo');      // (an empty string)\n</code></pre>\n\n<p>Check out more examples and download here: <a href=\"https://github.com/websanova/js-url#url\">https://github.com/websanova/js-url#url</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>One line code to get Query </p>\n\n<pre><code>var value = location.search.match(new RegExp(key + \"=(.*?)($|\\&amp;)\", \"i\"))[1];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><em><strong>This the most simple and small function JavaScript to get int ans String parameter value from URL</em></strong></p>\n\n<pre><code>/* THIS FUNCTION IS TO FETCH INT PARAMETER VALUES */\n\nfunction getParameterint(param) {\n            var val = document.URL;\n            var url = val.substr(val.indexOf(param))  \n            var n=parseInt(url.replace(param+\"=\",\"\"));\n            alert(n); \n}\ngetParameteraint(\"page\");\ngetParameteraint(\"pagee\");\n\n/*THIS FUNCTION IS TO FETCH STRING PARAMETER*/\nfunction getParameterstr(param) {\n            var val = document.URL;\n            var url = val.substr(val.indexOf(param))  \n            var n=url.replace(param+\"=\",\"\");\n            alert(n); \n}\ngetParameterstr(\"str\");\n</code></pre>\n\n<p><strong>Source And DEMO :</strong> <a href=\"http://bloggerplugnplay.blogspot.in/2012/08/how-to-get-url-parameter-in-javascript.html\" rel=\"nofollow\">http://bloggerplugnplay.blogspot.in/2012/08/how-to-get-url-parameter-in-javascript.html</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I developed a small library using techniques listed here to create an easy to use, drop-in solution to anyones troubles; It can be found here: </p>\n\n<p><a href=\"https://github.com/Nijikokun/query-js\">https://github.com/Nijikokun/query-js</a></p>\n\n<p><strong>Usage</strong></p>\n\n<p>Fetching specific parameter/key:</p>\n\n<pre><code>query.get('param');\n</code></pre>\n\n<p>Using the builder to fetch the entire object:</p>\n\n<pre><code>var storage = query.build();\nconsole.log(storage.param);\n</code></pre>\n\n<p>and tons more... check the github link for more examples.</p>\n\n<p><strong>Features</strong></p>\n\n<ol>\n<li>Caching on both decoding and parameters</li>\n<li>Supports hash query strings <code>#hello?page=3</code></li>\n<li>Supports passing custom queries</li>\n<li>Supports Array / Object Parameters <code>user[]=\"jim\"&amp;user[]=\"bob\"</code></li>\n<li>Supports empty management <code>&amp;&amp;</code></li>\n<li>Supports declaration parameters without values <code>name&amp;hello=\"world\"</code></li>\n<li>Supports repeated parameters <code>param=1&amp;param=2</code></li>\n<li>Clean, compact, and readable source <code>4kb</code></li>\n<li>AMD, Require, Node support</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<pre><code>function GetQueryStringParams(sParam)\n{\n    var sPageURL = window.location.search.substring(1);\n    var sURLVariables = sPageURL.split('&amp;');\n\n    for (var i = 0; i &lt; sURLVariables.length; i++)\n    {\n        var sParameterName = sURLVariables[i].split('=');\n        if (sParameterName[0] == sParam)\n        {\n            return sParameterName[1];\n        }\n    }\n}\u200b\n</code></pre>\n\n<p>And this is how you can use this function assuming the URL is</p>\n\n<blockquote>\n  <p><code>http://dummy.com/?stringtext=jquery&amp;stringword=jquerybyexample</code></p>\n</blockquote>\n\n<pre><code>var tech = GetQueryStringParams('stringtext');\nvar blog = GetQueryStringParams('stringword');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>From <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.location#Get_the_value_of_a_single_window.location.search_key.3A\">the MDN</a>:</p>\n\n<pre><code>function loadPageVar (sVar) {\n\u00a0\u00a0return unescape(window.location.search.replace(new RegExp(\"^(?:.*[&amp;\\\\?]\" + escape(sVar).replace(/[\\.\\+\\*]/g, \"\\\\$&amp;\") + \"(?:\\\\=([^&amp;]*))?)?.*$\", \"i\"), \"$1\"));\n}\n\nalert(loadPageVar(\"name\"));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>I'm gonna throw my hat in the ring - I needed an object from the query string, and I hate lots of code. may not be the most robust in the universe but it's just a few lines of code.</p>\n\n<pre><code>var q = {};\nlocation.href.split('?')[1].split('&amp;').forEach(function(i){\n    q[i.split('=')[0]]=i.split('=')[1];\n});\n</code></pre>\n\n<p>a URL like <code>this.htm?hello=world&amp;foo=bar</code> will create:</p>\n\n<pre><code>{hello:'world', foo:'bar'}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>I believe this to be an accurate and concise way to achieve this (modified from <a href=\"http://css-tricks.com/snippets/javascript/get-url-variables/\" rel=\"nofollow\">http://css-tricks.com/snippets/javascript/get-url-variables/</a>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getQueryVariable(variable) {\n\n    var query = window.location.search.substring(1),            // Remove the ? from the query string.\n        vars = query.split(\"&amp;\");                                // Split all values by ampersand.\n\n    for (var i = 0; i &lt; vars.length; i++) {                     // Loop through them...\n        var pair = vars[i].split(\"=\");                          // Split the name from the value.\n        if (pair[0] == variable) {                              // Once the requested value is found...\n            return ( pair[1] == undefined ) ? null : pair[1];   // Return null if there is no value (no equals sign), otherwise return the value.\n        }\n    }\n\n    return undefined;                                           // Wasn't found.\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>A very lightweight jquery method: </p>\n\n<pre><code>var qs = window.location.search.replace('?','').split('&amp;'),\n    request = {};\n$.each(qs, function(i,v) {\n    var pair = v.split('=');\n    return request[pair[0]] = pair[1];\n});\nconsole.log(request);\n</code></pre>\n\n<p>And to alert ,for example ?q</p>\n\n<pre><code>alert(request.q)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>If you want array-style parameters <a href=\"https://github.com/kevincox/url.js\" rel=\"nofollow\">URL.js</a> supports arbitrarily nested array-style parameters as well as string indexes (maps).  It also handles url-decoding.</p>\n\n<pre><code>url.get(\"val[0]=zero&amp;val[1]=one&amp;val[2]&amp;val[3]=&amp;val[4]=four&amp;val[5][0]=n1&amp;val[5][1]=n2&amp;val[5][2]=n3&amp;key=val\", {array:true});\n// Result\n{\n    val: [\n        'zero',\n        'one',\n        true,\n        '',\n        'four',\n        [ 'n1', 'n2', 'n3' ]\n    ]\n    key: 'val'\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The problem with top answer on that question is that it's not support params placed after #, but sometimes it's needed to get this value also. I modify the unswer to let it parse full query string with hash sign also</p>\n\n<pre><code>var getQueryStringData = function(name){\n        var result = null;\n        var regexS = \"[\\\\?&amp;#]\" + name + \"=([^&amp;#]*)\";\n        var regex = new RegExp(regexS);\n        var results = regex.exec('?'+window.location.href.split('?')[1]);\n        if(results != null){\n            result = decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n        }\n        return result;\n    };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I did small URL library for my needs here: <a href=\"https://github.com/Mikhus/jsurl\" rel=\"nofollow\">https://github.com/Mikhus/jsurl</a></p>\n\n<p>It's more common way of manipulating the URLs in JavaScript, meanwhile it's really lightweight (minified and gzipped &lt; 1KB) and has very simple and clean API. And it does not need any other library to work.</p>\n\n<p>Regarding the initial question, it's very simply to do:</p>\n\n<pre><code>var u = new Url; // current document url\n// or\nvar u = new Url('http://user:pass@example.com:8080/some/path?foo=bar&amp;bar=baz#anchor');\n\n// looking for query string params\nalert( u.query.bar);\nalert( u.query.foo);\n\n// modifying query string params\nu.query.foo = 'bla';\nu.query.woo = ['hi', 'hey']\n\nalert( u.query.foo);\nalert( u.query.woo);\nalert( u);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you are using Browserify you can use the <code>url</code> module from Node.js:</p>\n\n<pre><code>var url = require('url');\n\nurl.parse('http://example.com/?bob=123', true).query;\n// returns { \"bob\": \"123\" }\n</code></pre>\n\n<p>Further reading: <a href=\"http://nodejs.org/api/url.html\" rel=\"nofollow\">http://nodejs.org/api/url.html</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>If you do not wish to use a Javascript library you can use the Javascript string functions to parse window.location. Keep this code in an external .js file and you can use it over and over again in different projects. </p>\n\n<pre><code>// Example - window.location = \"index.htm?name=bob\";\n\nvar value = getParameterValue(\"name\");\n\nalert(\"name = \" + value);\n\nfunction getParameterValue(param)\n{\n     var url = window.location;\n     var parts = url.split('?');\n     var params = parts[1].split('&amp;');\n     var val = \"\";\n\n     for ( var i=0; i&lt;params.length; i++)\n     {\n          var paramNameVal = params[i].split('=');\n\n          if ( paramNameVal[0] == param )\n          {\n              val = paramNameVal[1];\n          }\n     }\n\n     return val;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>see this <a href=\"http://www.darlesson.com/jquery/querystring/\" rel=\"nofollow\">post</a>  or use this</p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n$(document).ready(function()\n{\n    var urlParams = {};\n    (function () \n    {\n        var match,\n        pl= /\\+/g,  // Regex for replacing addition symbol with a space\n        search = /([^&amp;=]+)=?([^&amp;]*)/g,\n        decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n        query  = window.location.search.substring(1);\n\n        while (match = search.exec(query))\n        urlParams[decode(match[1])] = decode(match[2]);\n    })();\n\n    if( urlParams[\"q1\"] === 1 )\n    {\n        return 1;\n    }\n});\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I recommend <a href=\"http://www.darlesson.com/jquery/querystring/\" rel=\"nofollow\">Dar Lessons</a> as a good plugin. I have worked with it fo  a long time. You can also use the following code.\nJus put var queryObj = {}; before document.ready and put the bellow code in the beginning of document.ready. After this code you can use queryObj[\"queryObjectName\"] for any query object you have</p>\n\n<pre><code>var querystring = location.search.replace('?', '').split('&amp;');\nfor (var i = 0; i &lt; querystring.length; i++) {\n    var name = querystring[i].split('=')[0];\n    var value = querystring[i].split('=')[1];\n    queryObj[name] = value;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n    $(document).ready(function()\n    {\n        var urlParams = {};\n        (function () \n        {\n            var match,\n            pl= /\\+/g,  // Regex for replacing addition symbol with a space\n            search = /([^&amp;=]+)=?([^&amp;]*)/g,\n            decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n            query  = window.location.search.substring(1);\n\n            while (match = search.exec(query))\n            urlParams[decode(match[1])] = decode(match[2]);\n        })();\n         if( urlParams[\"q1\"]=== 1 )\n        { return 1; }\n});  \n</code></pre>\n  \n  <p></p>\n  \n  <p>Please check and let me know your comments.</p>\n</blockquote>\n\n<p>Also Refer : <code>http://jquerybyexample.blogspot.com/2012/05/how-to-get-querystring-value-using.html</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There's a robust implementation in Node.js's source<br>\n<a href=\"https://github.com/joyent/node/blob/master/lib/querystring.js\" rel=\"nofollow\">https://github.com/joyent/node/blob/master/lib/querystring.js</a>  </p>\n\n<p>Also TJ's qs does nested params parsing<br>\n<a href=\"https://github.com/visionmedia/node-querystring\" rel=\"nofollow\">https://github.com/visionmedia/node-querystring</a>  </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>var getUrlParameters = function (name, url) {\n    if (!name) {\n        return undefined;\n    }\n\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    url = url || location.search;\n\n    var regex = new RegExp('[\\\\?&amp;#]' + name + '=?([^&amp;#]*)', 'gi'), result, resultList = [];\n\n    while (result = regex.exec(url)) {\n        resultList.push(decodeURIComponent(result[1].replace(/\\+/g, ' ')));\n    }\n\n    return resultList.length ? resultList.length === 1 ? resultList[0] : resultList : undefined;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I used this code (JavaScript) to get the what is passed through the URL:</p>\n\n<pre><code>function getUrlVars() {\n            var vars = {};\n            var parts = window.location.href.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value) {\n                vars[key] = value;\n            });\n            return vars;\n        }\n</code></pre>\n\n<p>Then to assign the value to a variable, you only have to specify which parameter you want to get, ie if the URL is <code>example.com/?I=1&amp;p=2&amp;f=3</code></p>\n\n<p>You can do this to get the values:</p>\n\n<pre><code>var getI = getUrlVars()[\"I\"];\nvar getP = getUrlVars()[\"p\"];\nvar getF = getUrlVars()[\"f\"];\n</code></pre>\n\n<p>then the values would be:</p>\n\n<pre><code>getI = 1, getP = 2 and getF = 3\n</code></pre>\n\n<p>Thanks,\nJosh</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There are many solutions to retrieve URI query values, I prefer this one because it's short and works great:</p>\n\n<pre><code>function get(name){\n   if(name=(new RegExp('[?&amp;]'+encodeURIComponent(name)+'=([^&amp;]*)')).exec(location.search))\n      return decodeURIComponent(name[1]);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is very simple method to get parameter value(query string)</p>\n\n<p>Use gV(para_name) function to retrieve its value</p>\n\n<pre><code>var a=window.location.search;\na=a.replace(a.charAt(0),\"\"); //Removes '?'\na=a.split(\"&amp;\");\n\nfunction gV(x){\n for(i=0;i&lt;a.length;i++){\n  var b=a[i].substr(0,a[i].indexOf(\"=\"));\n  if(x==b){\n   return a[i].substr(a[i].indexOf(\"=\")+1,a[i].length)}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>We've just released <a href=\"https://github.com/stretchr/arg.js\">arg.js</a>, a project aimed at solving this problem once and for all.  It's traditionally been so difficult but now you can do:</p>\n\n<pre><code>var name = Arg.get(\"name\");\n</code></pre>\n\n<p>or getting the whole lot:</p>\n\n<pre><code>var params = Arg.all();\n</code></pre>\n\n<p>and if you care about the difference between <code>?query=true</code> and <code>#hash=true</code> then you can use the <code>Arg.query()</code> and <code>Arg.hash()</code> methods.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Not to beat a dead horse, but if you have <a href=\"http://documentcloud.github.io/underscore/#object\" rel=\"nofollow\">underscore</a> or <a href=\"http://lodash.com/docs#zipObject\" rel=\"nofollow\">lodash</a>, a quick and dirty way to get this done is:</p>\n\n<pre><code>_.object(window.location.search.slice(1).split('&amp;').map(function (val) { return val.split('='); }));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<h1><em>tl;dr</em></h1>\n\n<p>A quick, complete solution, which handles <strong>multivalued keys</strong> and <strong>encoded characters</strong>.</p>\n\n<pre><code>var qd = {};\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {var k = item.split(\"=\")[0], v = decodeURIComponent(item.split(\"=\")[1]); (k in qd) ? qd[k].push(v) : qd[k] = [v,]})\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>\"?a=1&amp;b=2&amp;c=3&amp;d&amp;e&amp;a=5&amp;a=t%20e%20x%20t&amp;e=http%3A%2F%2Fw3schools.com%2Fmy%20test.asp%3Fname%3Dst\u00e5le%26car%3Dsaab\"\n&gt; qd\na: [\"1\", \"5\", \"t e x t\"]\nb: [\"2\"]\nc: [\"3\"]\nd: [undefined]\ne: [undefined, \"http://w3schools.com/my test.asp?name=st\u00e5le&amp;car=saab\"]\n</code></pre>\n\n<p>...\u00a0</p>\n\n<h1>Read more... about the vanilla JavaScript solution</h1>\n\n<p><em>To access different parts of url use <code>location.(search|hash)</code></em></p>\n\n<h2>easiest (dummy) solution</h2>\n\n<pre><code>var queryDict = {}\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]})\n</code></pre>\n\n<ul>\n<li>Handles <b>empty keys</b> correctly.</li>\n<li>Overrides <b>multi-keys</b> with <b>last</b> value found.</li>\n</ul>\n\n<pre><code>\"?a=1&amp;b=2&amp;c=3&amp;d&amp;e&amp;a=5\"\n&gt; queryDict\na: \"5\"\nb: \"2\"\nc: \"3\"\nd: undefined\ne: undefined\n</code></pre>\n\n<h2>multi-valued keys</h2>\n\n<p>Simple key check <code>(item in dict) ? dict.item.push(val) : dict.item = [val,]</code></p>\n\n<pre><code>var qd = {}\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {(item.split(\"=\")[0] in qd) ? qd[item.split(\"=\")[0]].push(item.split(\"=\")[1]) : qd[item.split(\"=\")[0]] = [item.split(\"=\")[1],]})\n</code></pre>\n\n<ul>\n<li>Now returns <b>arrays</b> instead.</li>\n<li>Access values by <code>qd.key[index]</code> or <code>qd[key][index]</code></li>\n</ul>\n\n<pre><code>&gt; qd\na: [\"1\", \"5\"]\nb: [\"2\"]\nc: [\"3\"]\nd: [undefined]\ne: [undefined]\n\n&gt; qd.a[1]    // \"5\"\n&gt; qd[\"a\"][1] // \"5\"\n</code></pre>\n\n<h2>encoded characters?</h2>\n\n<p>Enclose the <code>item.split(\"=\")[1]</code> by <code>decodeURIComponent(item.split(\"=\")[1])</code><br>\n<em>(as shown at the top)</em></p>\n\n<pre><code>\"?a=1&amp;b=2&amp;c=3&amp;d&amp;e&amp;a=5&amp;a=t%20e%20x%20t&amp;e=http%3A%2F%2Fw3schools.com%2Fmy%20test.asp%3Fname%3Dst\u00e5le%26car%3Dsaab\"\n&gt; qd\na: [\"1\", \"5\", \"t e x t\"]\nb: [\"2\"]\nc: [\"3\"]\nd: [undefined]\ne: [undefined, \"http://w3schools.com/my test.asp?name=st\u00e5le&amp;car=saab\"]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>Doing this reliably is more involved than one may think at first.</p>\n\n<ol>\n<li><code>location.search</code>, which is used in other answers, is brittle and\nshould be avoided - for example, it returns empty if someone screws\nup and puts a <code>#fragment</code> identifier before the <code>?query</code> string.</li>\n<li>There are a number of ways URLs get automatically escaped in the\nbrowser, which makes <code>decodeURIComponent</code> pretty much mandatory, in\nmy opinion.</li>\n<li>Many query strings are generated from user input, which means\nassumptions about the URL content are very bad. Including very basic\nthings like that each key is unique or even has a value.</li>\n</ol>\n\n<p>To solve this, here is a configurable API with a healthy dose of <a href=\"http://en.wikipedia.org/wiki/Defensive_programming\" rel=\"nofollow\" title=\"Wiki article on programming with less assumptions.\">defensive programming</a>. Note that it can be made half the size if you are willing to hardcode some of the variables, or if the input can never include <code>hasOwnProperty</code>, etc.</p>\n\n<p><strong>Version 1:</strong> Returns a data object with names and values for each parameter. It effectively de-duplicates them and always respects the first one found from left-to-right.</p>\n\n<pre><code>function getQueryData(url, paramKey, pairKey, missingValue, decode) {\n\n    var query, queryStart, fragStart, pairKeyStart, i, len, name, value, result;\n\n    if (!url || typeof url !== 'string') {\n        url = location.href; // more robust than location.search, which is flaky\n    }\n    if (!paramKey || typeof paramKey !== 'string') {\n        paramKey = '&amp;';\n    }\n    if (!pairKey || typeof pairKey !== 'string') {\n        pairKey = '=';\n    }\n    // when you do not explicitly tell the API...\n    if (arguments.length &lt; 5) {\n        // it will unescape parameter keys and values by default...\n        decode = true;\n    }\n\n    queryStart = url.indexOf('?');\n    if (queryStart &gt;= 0) {\n        // grab everything after the very first ? question mark...\n        query = url.substring(queryStart + 1);\n    }\n    else {\n        // assume the input is already parameter data...\n        query = url;\n    }\n    // remove fragment identifiers...\n    fragStart = query.indexOf('#');\n    if (fragStart &gt;= 0) {\n        // remove everything after the first # hash mark...\n        query = query.substring(0, fragStart);\n    }\n    // make sure at this point we have enough material to do something useful...\n    if (query.indexOf(paramKey) &gt;= 0 || query.indexOf(pairKey) &gt;= 0) {\n        // we no longer need the whole query, so get the parameters...\n        query = query.split(paramKey);\n        result = {};\n        // loop through the parameters...\n        for (i = 0, len = query.length; i &lt; len; i = i + 1) {\n            pairKeyStart = query[i].indexOf(pairKey);\n            if (pairKeyStart &gt;= 0) {\n                name = query[i].substring(0, pairKeyStart);\n            }\n            else {\n                name = query[i];\n            }\n            // only continue for non-empty names that we have not seen before...\n            if (name &amp;&amp; !Object.prototype.hasOwnProperty.call(result, name)) {\n                if (decode) {\n                    // unescape characters with special meaning like ? and #\n                    name = decodeURIComponent(name);\n                }\n                if (pairKeyStart &gt;= 0) {\n                    value = query[i].substring(pairKeyStart + 1);\n                    if (value) {\n                        if (decode) {\n                            value = decodeURIComponent(value);\n                        }\n                    }\n                    else {\n                        value = missingValue;\n                    }\n                }\n                else {\n                    value = missingValue;\n                }\n                result[name] = value;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p><strong>Version 2:</strong> Returns a data map object with two identical length arrays, one for names and one for values, with an index for each parameter. This one supports duplicate names and intentionally does not de-duplicate them, because that is probably why you would want to use this format.</p>\n\n<pre><code>function getQueryData(url, paramKey, pairKey, missingValue, decode) {\n\n    var query, queryStart, fragStart, pairKeyStart, i, len, name, value, result;\n\n    if (!url || typeof url !== 'string') {\n        url = location.href; // more robust than location.search, which is flaky\n    }\n    if (!paramKey || typeof paramKey !== 'string') {\n        paramKey = '&amp;';\n    }\n    if (!pairKey || typeof pairKey !== 'string') {\n        pairKey = '=';\n    }\n    // when you do not explicitly tell the API...\n    if (arguments.length &lt; 5) {\n        // it will unescape parameter keys and values by default...\n        decode = true;\n    }\n\n    queryStart = url.indexOf('?');\n    if (queryStart &gt;= 0) {\n        // grab everything after the very first ? question mark...\n        query = url.substring(queryStart + 1);\n    }\n    else {\n        // assume the input is already parameter data...\n        query = url;\n    }\n    // remove fragment identifiers...\n    fragStart = query.indexOf('#');\n    if (fragStart &gt;= 0) {\n        // remove everything after the first # hash mark...\n        query = query.substring(0, fragStart);\n    }\n    // make sure at this point we have enough material to do something useful...\n    if (query.indexOf(paramKey) &gt;= 0 || query.indexOf(pairKey) &gt;= 0) {\n        // we no longer need the whole query, so get the parameters...\n        query = query.split(paramKey);\n        result = {\n            names  : [],\n            values : []\n        };\n        // loop through the parameters...\n        for (i = 0, len = query.length; i &lt; len; i = i + 1) {\n            pairKeyStart = query[i].indexOf(pairKey);\n            if (pairKeyStart &gt;= 0) {\n                name = query[i].substring(0, pairKeyStart);\n            }\n            else {\n                name = query[i];\n            }\n            // only continue for non-empty names...\n            if (name) {\n                if (decode) {\n                    // unescape characters with special meaning like ? and #\n                    name = decodeURIComponent(name);\n                }\n                if (pairKeyStart &gt;= 0) {\n                    value = query[i].substring(pairKeyStart + 1);\n                    if (value) {\n                        if (decode) {\n                            value = decodeURIComponent(value);\n                        }\n                    }\n                    else {\n                        value = missingValue;\n                    }\n                }\n                else {\n                    value = missingValue;\n                }\n                result.names.push(name);\n                result.values.push(value);\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>This will parse variables <strong>AND</strong> arrays from a URL string. It uses neither <em>regex</em> or any external library.</p>\n\n<pre><code>function url2json(url) {\n   var obj={};\n   function arr_vals(arr){\n      if (arr.indexOf(',') &gt; 1){\n         var vals = arr.slice(1, -1).split(',');\n         var arr = [];\n         for (var i = 0; i &lt; vals.length; i++)\n            arr[i]=vals[i];\n         return arr;\n      }\n      else\n         return arr.slice(1, -1);\n   }\n   function eval_var(avar){\n      if (!avar[1])\n          obj[avar[0]] = '';\n      else\n      if (avar[1].indexOf('[') == 0)\n         obj[avar[0]] = arr_vals(avar[1]);\n      else\n         obj[avar[0]] = avar[1];\n   }\n   if (url.indexOf('?') &gt; -1){\n      var params = url.split('?')[1];\n      if(params.indexOf('&amp;') &gt; 2){\n         var vars = params.split('&amp;');\n         for (var i in vars)\n            eval_var(vars[i].split('='));\n      }\n      else\n         eval_var(params.split('='));\n   }\n   return obj;\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var url = \"http://www.x.com?luckyNums=[31,21,6]&amp;name=John&amp;favFoods=[pizza]&amp;noVal\"\nconsole.log(url2json(url));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[object]\n   noVal: \"\"\n   favFoods: \"pizza\"\n   name:     \"John\"\n   luckyNums:\n      0: \"31\"\n      1: \"21\"\n      2: \"6\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this will work.. You  need call this function where you need get the parameter by passing  its name.. </p>\n\n<pre><code>function getParameterByName(name)\n{\n\n  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n  var regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\n  var regex = new RegExp( regexS );\n  var results = regex.exec( window.location.href );\n  alert(results[1]);\n  if( results == null )\n    return \"\";\n  else\n    return results[1];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Get all querystring parameters including checkbox values (arrays).</strong></p>\n\n<p>Considering the a correct &amp; normal use of GET parameters the things i see it's missing, on most functions, is the support for arrays and removing the hash data</p>\n\n<p>So i wrote this function</p>\n\n<pre><code>function qs(a){\n if(!a)return {};\n a=a.split('#')[0].split('&amp;');\n var b=a.length,c={},d,k,v;\n while(b--){\n  d=a[b].split('=');\n  k=d[0].replace('[]',''),v=decodeURIComponent(d[1]||'');\n  c[k]?typeof c[k]==='string'?(c[k]=[v,c[k]]):(c[k].unshift(v)):c[k]=v;\n }\n return c\n}\n</code></pre>\n\n<p>Using shorthand operators &amp; while-- loop the performance should be very good to.</p>\n\n<p><strong>Support:</strong> </p>\n\n<ol>\n<li>empty values (<em>key= / key</em>)</li>\n<li>key value (<em>key=value</em>)</li>\n<li>arrays (<em>key[]=value</em>)</li>\n<li>hash (<em>the hash tag is split out</em>)</li>\n</ol>\n\n<p><strong>Notes:</strong></p>\n\n<p>It does not support object arrays (key[key]=value)</p>\n\n<p>If the space is + it remains a +.</p>\n\n<p>add <code>.replace(/\\+/g, \" \")</code> if you need.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>qs('array[]=1&amp;array[]=2&amp;key=value&amp;empty=&amp;empty2#hash')\n</code></pre>\n\n<p><strong>Return:</strong></p>\n\n<pre><code>{\n    \"empty\": \"\",\n    \"key\": \"value\",\n    \"array\": [\n        \"1\",\n        \"2\"\n    ]\n}\n</code></pre>\n\n<p><strong>Demo:</strong></p>\n\n<p><a href=\"http://jsfiddle.net/ZQMrt/1/\">http://jsfiddle.net/ZQMrt/1/</a></p>\n\n<p><strong>Info</strong></p>\n\n<p>If you don't understand something or you can't read the function just ask i'm happy to explain what i did here.</p>\n\n<p><em>If you think the function is unreadable and unmanainable i'm happy to rewrite the function for you , but consider that shorthand &amp; bitwise operators are always faster than a standard syntax (mybe read about shorthands and bitwise operators in the ECMA-262 book or us your favorite searchengine).Rewriting the code in a standard readable syntax means performance loss.</em></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Simple Solution with Plain JS and Regex</p>\n\n<pre><code>alert(getQueryString(\"p2\"));\n\nfunction getQueryString (Param) {\n      return decodeURI(\"http://www.example.com/?p1=p11&amp;p2=p2222\".replace(new RegExp(\"^(?:.*[&amp;?]\" + encodeURI(Param).replace(/[.+*]/g, \"$&amp;\") + \"(?:=([^&amp;]*))?)?.*$\", \"i\"), \"$1\"));\n    }\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/QeLF3/\" rel=\"nofollow\">JsFiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This didn't work for me, I want to match `?b' as the 'b' parameter is present, and not match '?return' as the 'r' parameter, here is <a href=\"https://gist.github.com/Dorian/833b37d2c7b168b7e94c\" rel=\"nofollow\">my solution</a>.</p>\n\n<pre><code>window.query_param = function(name) {\n  var param_value, params;\n\n  params = location.search.replace(/^\\?/, '');\n  params = _.map(params.split('&amp;'), function(s) {\n    return s.split('=');\n  });\n\n  param_value = _.select(params, function(s) {\n    return s.first === name;\n  })[0];\n\n  if (param_value) {\n    return decodeURIComponent(param_value[1] || '');\n  } else {\n    return null;\n  }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The shortest possible expression in terms of size to obtain a query object seems to be:</p>\n\n<pre><code>var params = {};\nlocation.search.substr(1).replace(/([^&amp;=]*)=([^&amp;]*)&amp;?/g,\n  function () { params[decodeURIComponent(arguments[1])] = decodeURIComponent(arguments[2]); });\n</code></pre>\n\n<p>You can make use of the <code>A</code> element to parse a URI from a string into its <code>location</code>-like components (to get rid of <code>#...</code>, for example):</p>\n\n<pre><code>var a = document.createElement('a');\na.href = url;\n// Parse a.search.substr(1)... as above\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>quick, easy, and fast:</p>\n\n<p><strong>The Function:</strong></p>\n\n<pre><code>    function getUrlVar() {\n        var result = {};\n        var location = window.location.href.split('#');\n        var parts = location[0].replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value) {\n            result [key] = value;\n        });\n    return result ;\n    }\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>var varRequest = getUrlVar()[\"theUrlVarName\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For those who wants a short method (with limitations):</p>\n\n<pre><code>location.search.split('myParameter=')[1]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here is String prototype implementation:</p>\n\n<pre><code>String.prototype.getParam = function( str ){\n    str = str.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n    var regex = new RegExp( \"[\\\\?&amp;]*\"+str+\"=([^&amp;#]*)\" );    \n    var results = regex.exec( this );\n    if( results == null ){\n        return \"\";\n    } else {\n        return results[1];\n    }\n}\n</code></pre>\n\n<p>Example call:</p>\n\n<pre><code>var status = str.getParam(\"status\")\n</code></pre>\n\n<p><code>str</code> can be a query string or url</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's an extended version of Andy E's linked \"Handle array-style query strings\"-version. Fixed a bug (<code>?key=1&amp;key[]=2&amp;key[]=3</code>; <code>1</code> is lost and replaced with <code>[2,3]</code>), made a few minor performance improvements (re-decoding of values, recalculating \"[\" position, etc.) and added a number of improvements (functionalized, support for <code>?key=1&amp;key=2</code>, support for <code>;</code> delimiters). I left the variables annoyingly short, but added comments galore to make them readable (oh, and I reused <code>v</code> within the local functions, sorry if that is confusing ;).</p>\n\n<p>It will handle the following querystring...</p>\n\n<blockquote>\n  <p>?test=Hello&amp;person=neek&amp;person[]=jeff&amp;person[]=jim&amp;person[extra]=john&amp;test3&amp;nocache=1398914891264</p>\n</blockquote>\n\n<p>...making it into an object that looks like...</p>\n\n<pre><code>{\n    \"test\": \"Hello\",\n    \"person\": {\n        \"0\": \"neek\",\n        \"1\": \"jeff\",\n        \"2\": \"jim\",\n        \"length\": 3,\n        \"extra\": \"john\"\n    },\n    \"test3\": \"\",\n    \"nocache\": \"1398914891264\"\n}\n</code></pre>\n\n<p>As you can see above, this version handles some measure of \"malformed\" arrays, i.e. - <code>person=neek&amp;person[]=jeff&amp;person[]=jim</code> or <code>person=neek&amp;person=jeff&amp;person=jim</code> as the key is identifiable and valid (at least in dotNet's <a href=\"http://msdn.microsoft.com/en-us/library/xsc9a449.aspx\">NameValueCollection.Add</a>):</p>\n\n<blockquote>\n  <p>If the specified key already exists in the target NameValueCollection\n  instance, the specified value is added to the existing comma-separated\n  list of values in the form \"value1,value2,value3\".</p>\n</blockquote>\n\n<p>It seems <a href=\"http://stackoverflow.com/questions/1746507/authoritative-position-of-duplicate-http-get-query-keys\">the jury is somewhat out</a> on repeated keys as there is no spec. In this case, multiple keys are stored as an (fake)array. But do note that I <strong>do not</strong> process values based on commas into arrays.</p>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>getQueryStringKey = function(key) {\n    return getQueryStringAsObject()[key];\n};\n\n\ngetQueryStringAsObject = function() {\n    var b, cv, e, k, ma, sk, v, r = {},\n        d = function (v) { return decodeURIComponent(v).replace(/\\+/g, \" \"); }, //# d(ecode) the v(alue)\n        q = window.location.search.substring(1),\n        s = /([^&amp;;=]+)=?([^&amp;;]*)/g //# original regex that does not allow for ; as a delimiter:   /([^&amp;=]+)=?([^&amp;]*)/g\n    ;\n\n    //# ma(make array) out of the v(alue)\n    ma = function(v) {\n        //# If the passed v(alue) hasn't been setup as an object\n        if (typeof v != \"object\") {\n            //# Grab the cv(current value) then setup the v(alue) as an object\n            cv = v;\n            v = {};\n            v.length = 0;\n\n            //# If there was a cv(current value), .push it into the new v(alue)'s array\n            //#     NOTE: This may or may not be 100% logical to do... but it's better than loosing the original value\n            if (cv) { Array.prototype.push.call(v, cv); }\n        }\n        return v;\n    };\n\n    //# While we still have key-value e(ntries) from the q(uerystring) via the s(earch regex)...\n    while (e = s.exec(q)) { //# while((e = s.exec(q)) !== null) {\n        //# Collect the open b(racket) location (if any) then set the d(ecoded) v(alue) from the above split key-value e(ntry) \n        b = e[1].indexOf(\"[\");\n        v = d(e[2]);\n\n        //# As long as this is NOT a hash[]-style key-value e(ntry)\n        if (b &lt; 0) { //# b == \"-1\"\n            //# d(ecode) the simple k(ey)\n            k = d(e[1]);\n\n            //# If the k(ey) already exists\n            if (r[k]) {\n                //# ma(make array) out of the k(ey) then .push the v(alue) into the k(ey)'s array in the r(eturn value)\n                r[k] = ma(r[k]);\n                Array.prototype.push.call(r[k], v);\n            }\n            //# Else this is a new k(ey), so just add the k(ey)/v(alue) into the r(eturn value)\n            else {\n                r[k] = v;\n            }\n        }\n        //# Else we've got ourselves a hash[]-style key-value e(ntry) \n        else {\n            //# Collect the d(ecoded) k(ey) and the d(ecoded) sk(sub-key) based on the b(racket) locations\n            k = d(e[1].slice(0, b));\n            sk = d(e[1].slice(b + 1, e[1].indexOf(\"]\", b)));\n\n            //# ma(make array) out of the k(ey) \n            r[k] = ma(r[k]);\n\n            //# If we have a sk(sub-key), plug the v(alue) into it\n            if (sk) { r[k][sk] = v; }\n            //# Else .push the v(alue) into the k(ey)'s array\n            else { Array.prototype.push.call(r[k], v); }\n        }\n    }\n\n    //# Return the r(eturn value)\n    return r;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Amazing how many overly complicated and incomplete solutions are posted here. Here's what I'm using:</p>\n\n<pre><code>/**\n * Returns a bare object of the URL's query parameters.\n * You can pass just a query string rather than a complete URL.\n * The default URL is the current page.\n */\nfunction getUrlParams (url) {\n    // http://stackoverflow.com/a/23946023/2407309\n    if (typeof url == 'undefined') {\n        url = window.location.search\n    }\n    var url = url.split('#')[0] // Discard fragment identifier.\n    var urlParams = {}\n    var queryString = url.split('?')[1]\n    if (!queryString) {\n        if (url.search('=') !== false) {\n            queryString = url\n        }\n    }\n    if (queryString) {\n        var keyValuePairs = queryString.split('&amp;')\n        for (var i = 0; i &lt; keyValuePairs.length; i++) {\n            var keyValuePair = keyValuePairs[i].split('=')\n            var paramName = keyValuePair[0]\n            var paramValue = keyValuePair[1] || ''\n            urlParams[paramName] = decodeURIComponent(paramValue.replace(/\\+/g, ' '))\n        }\n    }\n    return urlParams\n} // getUrlParams\n</code></pre>\n\n<p>Works with following URLs (values of <code>getUrlParams()['test']</code> in parens):</p>\n\n<pre><code>example.com                         (undefined)\nexample.com?                        (undefined)\nexample.com?test                    (empty string)\nexample.com?test=                   (empty string)\nexample.com?test=0                  (the string '0')\nexample.com?test=0&amp;test=override    (the string 'override')\n</code></pre>\n\n<p>Returning 'override' rather than '0' in the last case makes it consistent with PHP. Works in IE7.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Most pretty but basic:</p>\n\n<pre><code>data = {};\n$.each(\n    location.search.substr(1).split('&amp;').filter(Boolean).map(function(kvpairs){\n        return kvpairs.split('=')\n    }),\n    function(i,values) {\n        data[values.shift()] = values.join('=')\n    }\n);\n</code></pre>\n\n<p>It doesn't handle values lists such as <code>?a[]=1&amp;a[]2</code></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>var EmployeeID = getQueryVariable(\"EmployeesIDs\");\n\nfunction getQueryVariable(variable) {\n\n        var query = window.location.search.substring(1);\n            var vars = query.split(\"&amp;\");\n            for (var i = 0; i &lt; vars.length; i++) {\n                var pair = vars[i].split(\"=\");\n                if (pair[0] == variable) {\n                    return pair[1];\n                }\n            }\n\n            return (false);\n        }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code>// Parse query string\nvar params = {}, queryString = location.hash.substring(1),\n    regex = /([^&amp;=]+)=([^&amp;]*)/g, m;\nwhile (m = regex.exec(queryString)) {\n    params[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This function will return a parsed JavaScript object with any arbitrarily nested values using recursion as necessary.</p>\n\n<p>Here's a <a href=\"http://jsfiddle.net/WZHm5/\" rel=\"nofollow\">jsfiddle</a> example.</p>\n\n<pre><code>[\n  'a=a',\n  '&amp;b=a',\n  '&amp;b=b',\n  '&amp;c[]=a',\n  '&amp;c[]=b',\n  '&amp;d[a]=a',\n  '&amp;d[a]=x',\n  '&amp;e[a][]=a',\n  '&amp;e[a][]=b',\n  '&amp;f[a][b]=a',\n  '&amp;f[a][b]=x',\n  '&amp;g[a][b][]=a',\n  '&amp;g[a][b][]=b',\n  '&amp;h=%2B+%25'\n].join('');\n</code></pre>\n\n<p>Given any of the above test examples.</p>\n\n<pre><code>ls = function() {\n  var a, b, c, e;\n  a = {};\n  b = window.location.search.substring(1);\n  c = function(d) {\n    return d &amp;&amp; decodeURIComponent(d.replace(/\\+/g, ' '));\n  };\n  e = function(f, g, h) {\n    var i, j, k, l;\n    i = g.indexOf('[');\n    if (i !== -1) {\n      j = g.slice(0, i);\n      k = g.slice(1 + i).slice(0, g.slice(1 + i).indexOf(']'));\n      l = g.slice(1 + i).slice(1 + g.slice(1 + i).indexOf(']'));\n      if (k) {\n        if (typeof f[j] !== 'object') {\n          f[j] = {};\n        }\n        f[j][k] = l ? e(f[j], k + l, h) : h;\n      } else {\n        if (typeof f[j] !== 'object') {\n          f[j] = [];\n        }\n        f[j].push(h);\n      }\n      return f[j];\n    } else {\n      if (f.hasOwnProperty(g)) {\n        if (typeof f[g] === 'object') {\n          f[g].push(h);\n        } else {\n          f[g] = [].concat.apply([f[g]], [h]);\n        }\n      } else {\n        f[g] = h;\n      }\n      return f[g];\n    }\n  };\n  b.split('&amp;').forEach(function(m) {\n    e(a, c(m.split('=')[0]), c(m.split('=')[1]));\n  });\n  return a;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a plugin-less way of retrieving <a href=\"http://en.wikipedia.org/wiki/Query_string\">query string</a> values via jQuery (or without)? </p>\n\n<p>If so, how? If not, is there a plugin which can do so?</p>\n",
            "last_activity_date": 1421751024,
            "question_id": 901115,
            "score": 2708,
            "tags": [
                "javascript",
                "jquery",
                "url",
                "plugins",
                "query-string"
            ],
            "title": "How can I get query string values in JavaScript?"
        },
        {
            "answer_count": 54,
            "answers": [
                {
                    "body": "<p><a href=\"http://blog.morrisjohns.com/javascript_closures_for_dummies.html\">JavaScript Closures For Dummies</a> (<a href=\"http://web.archive.org/web/20080209105120/http://blog.morrisjohns.com/javascript_closures_for_dummies\">mirror</a>) is the article that finally got me to understand closures. The explanation posted there is much better than anything I could write here.</p>\n\n<hr>\n\n<p>For archiving purposes, I (flying sheep) will put the article from the link below. The article was created by Morris and put under the Creative Commons Attribution / Share alike license, so I\u2019ll recreate it as close to the original as possible.</p>\n\n<h1>JavaScript Closures for Dummies</h1>\n\n<blockquote>Submitted by Morris on Tue, 2006-02-21 10:19. Community-edited since.</blockquote>\n\n<h2>Closures Are Not Magic</h2>\n\n<p>This page explains closures so that a programmer can understand them &mdash; using working JavaScript code. It is not for gurus or functional programmers.</p>\n\n<p>Closures are <em>not hard</em> to understand once the core concept is grokked. However, they are impossible to understand by reading any academic papers or academically oriented information about them!</p>\n\n<p>This article is intended for programmers with some programming experience in a mainstream language, and who can read the following JavaScript function:</p>\n\n<pre><code>function sayHello(name) {\n    var text = 'Hello ' + name;\n    var sayAlert = function() { alert(text); }\n    sayAlert();\n}\n</code></pre>\n\n<h2>An Example of a Closure</h2>\n\n<p>Two one sentence summaries:</p>\n\n<ul>\n<li>a closure is the local variables for a function &mdash; kept alive <em>after</em> the function has returned, or</li>\n<li>a closure is a stack-frame which is <em>not deallocated</em> when the function returns (as if a 'stack-frame' were malloc'ed instead of being on the stack!).</li>\n</ul>\n\n<p>The following code returns a reference to a function:</p>\n\n<pre><code>function sayHello2(name) {\n    var text = 'Hello ' + name; // Local variable\n    var sayAlert = function() { alert(text); }\n    return sayAlert;\n}\nsay2 = sayHello2('Bob');\nsay2(); // alerts \"Hello Bob\"\n</code></pre>\n\n<p>Most JavaScript programmers will understand how a reference to a function is returned to a variable in the above code. If you don't, then you need to before you can learn closures. A C programmer would think of the function as returning a pointer to a function, and that the variables <code>sayAlert</code> and <code>say2</code> were each a pointer to a function.</p>\n\n<p>There is a critical difference between a C pointer to a function and a JavaScript reference to a function. In JavaScript, you can think of a function reference variable as having both a pointer to a function <em>as well</em> as a hidden pointer to a closure.</p>\n\n<p>The above code has a closure because the anonymous function <code>function() { alert(text); }</code> is declared <em>inside</em> another function, <code>sayHello2()</code> in this example. In JavaScript, if you use the <code>function</code> keyword inside another function, you are creating a closure.</p>\n\n<p>In C, and most other common languages <em>after</em> a function returns, all the local variables are no longer accessible because the stack-frame is destroyed.</p>\n\n<p>In JavaScript, if you declare a function within another function, then the local variables can remain accessible after returning from the function you called. This is demonstrated above, because we call the function <code>say2()</code> after we have returned from <code>sayHello2()</code>. Notice that the code that we call references the variable <code>text</code>, which was a <em>local variable</em> of the function <code>sayHello2()</code>.</p>\n\n<pre><code>function() { alert(text); } // Output of say2.toString();\n</code></pre>\n\n<p>Click the button above to get JavaScript to print out the code for the anonymous function. You can see that the code refers to the variable text. The anonymous function can reference text which holds the value <code>'Bob'</code> because the local variables of <code>sayHello2()</code> are kept in a closure.</p>\n\n<p>The magic is that in JavaScript a function reference also has a secret reference to the closure it was created in &mdash; similar to how delegates are a method pointer plus a secret reference to an object.</p>\n\n<h2>More examples</h2>\n\n<p>For some reason, closures seem really hard to understand when you read about them, but when you see some examples you can click to how they work (it took me a while).\nI recommend working through the examples carefully until you understand how they work. If you start using closures without fully understanding how they work, you would soon create some very weird bugs!</p>\n\n<h3>Example 3</h3>\n\n<p>This example shows that the local variables are not copied &mdash; they are kept by reference. It is kind of like keeping a stack-frame in memory when the outer function exits!</p>\n\n<pre><code>function say667() {\n    // Local variable that ends up within closure\n    var num = 666;\n    var sayAlert = function() { alert(num); }\n    num++;\n    return sayAlert;\n}\nvar sayNumber = say667();\nsayNumber(); // alerts 667\n</code></pre>\n\n<h3>Example 4</h3>\n\n<p>All three global functions have a common reference to the <em>same</em> closure because they are all declared within a single call to <code>setupSomeGlobals()</code>.</p>\n\n<pre><code>function setupSomeGlobals() {\n    // Local variable that ends up within closure\n    var num = 666;\n    // Store some references to functions as global variables\n    gAlertNumber = function() { alert(num); }\n    gIncreaseNumber = function() { num++; }\n    gSetNumber = function(x) { num = x; }\n}\n\nsetupSomeGlobals();\ngIncreaseNumber();\ngAlertNumber(); // 667\ngSetNumber(5);\ngAlertNumber(); // 5\n\nvar oldAlert = gAlertNumber;\n\nsetupSomeGlobals();\ngAlertNumber(); // 666\n\noldAlert() // 5\n</code></pre>\n\n<p>The three functions have shared access to the same closure &mdash; the local variables of <code>setupSomeGlobals()</code> when the three functions were defined.</p>\n\n<p>Note that in the above example, if you call <code>setupSomeGlobals()</code> again, then a new closure (stack-frame!) is created. The old <code>gAlertNumber</code>, <code>gIncreaseNumber</code>, <code>gSetNumber</code> variables are overwritten with <em>new</em> functions that have the new closure. (In JavaScript, whenever you declare a function inside another function, the inside function(s) is/are recreated again <em>each</em> time the outside function is called.)</p>\n\n<h3>Example 5</h3>\n\n<p>This one is a real gotcha for many people, so you need to understand it. Be very careful if you are defining a function within a loop: the local variables from the closure do not act as you might first think.</p>\n\n<pre><code>function buildList(list) {\n    var result = [];\n    for (var i = 0; i &lt; list.length; i++) {\n        var item = 'item' + list[i];\n        result.push( function() {alert(item + ' ' + list[i])} );\n    }\n    return result;\n}\n\nfunction testList() {\n    var fnlist = buildList([1,2,3]);\n    // Using j only to help prevent confusion -- could use i.\n    for (var j = 0; j &lt; fnlist.length; j++) {\n        fnlist[j]();\n    }\n}\n</code></pre>\n\n<p>The line <code>result.push( function() {alert(item + ' ' + list[i])}</code> adds a reference to an anonymous function three times to the result array. If you are not so familiar with anonymous functions think of it like:</p>\n\n<pre><code>pointer = function() {alert(item + ' ' + list[i])};\nresult.push(pointer);\n</code></pre>\n\n<p>Note that when you run the example, <code>\"item3 undefined\"</code> is alerted three times! This is because just like previous examples, there is only one closure for the local variables for <code>buildList</code>. When the anonymous functions are called on the line <code>fnlist[j]()</code>; they all use the same single closure, and they use the current value for <code>i</code> and <code>item</code> within that one closure (where <code>i</code> has a value of <code>3</code> because the loop had completed, and <code>item</code> has a value of <code>'item3'</code>).</p>\n\n<h3>Example 6</h3>\n\n<p>This example shows that the closure contains any local variables that were declared inside the outer function before it exited. Note that the variable <code>alice</code> is actually declared after the anonymous function. The anonymous function is declared first; and when that function is called it can access the <code>alice</code> variable because <code>alice</code> is in the same scope (JavaScript does <a href=\"http://stackoverflow.com/a/3725763/1269037\">variable hoisting</a>).\nAlso <code>sayAlice()()</code> just directly calls the function reference returned from <code>sayAlice()</code> &mdash; it is exactly the same as what was done previously, but without the temporary variable.</p>\n\n<pre><code>function sayAlice() {\n    var sayAlert = function() { alert(alice); }\n    // Local variable that ends up within closure\n    var alice = 'Hello Alice';\n    return sayAlert;\n}\nsayAlice()();\n</code></pre>\n\n<p>Tricky: note also that the <code>sayAlert</code> variable is also inside the closure, and could be accessed by any other function that might be declared within <code>sayAlice()</code>, or it could be accessed recursively within the inside function.</p>\n\n<h3>Example 7</h3>\n\n<p>This final example shows that each call creates a separate closure for the local variables. There is <em>not</em> a single closure per function declaration. There is a closure for <em>each call</em> to a function.</p>\n\n<pre><code>function newClosure(someNum, someRef) {\n    // Local variables that end up within closure\n    var num = someNum;\n    var anArray = [1,2,3];\n    var ref = someRef;\n    return function(x) {\n        num += x;\n        anArray.push(num);\n        alert('num: ' + num +\n            '\\nanArray ' + anArray.toString() +\n            '\\nref.someVar ' + ref.someVar);\n      }\n}\nobj = {someVar: 4};\nfn1 = newClosure(4, obj);\nfn2 = newClosure(5, obj);\nfn1(1); // num: 5; anArray: 1,2,3,5; ref.someVar: 4;\nfn2(1); // num: 6; anArray: 1,2,3,6; ref.someVar: 4;\nobj.someVar++;\nfn1(2); // num: 7; anArray: 1,2,3,5,7; ref.someVar: 5;\nfn2(2); // num: 8; anArray: 1,2,3,6,8; ref.someVar: 5;\n</code></pre>\n\n<h2>Summary</h2>\n\n<p>If everything seems completely unclear then the best thing to do is to play with the examples. Reading an explanation is much harder than understanding examples.\nMy explanations of closures and stack-frames, etc. are not technically correct &mdash; they are gross simplifications intended to help understanding. Once the basic idea is grokked, you can pick up the details later.</p>\n\n<h2>Final points:</h2>\n\n<ul>\n<li>Whenever you use <code>function</code> inside another function, a closure is used.</li>\n<li>Whenever you use <code>eval()</code> inside a function, a closure is used. The text you <code>eval</code> can reference local variables of the function, and within <code>eval</code> you can even create new local variables by using <code>eval('var foo = \u2026')</code></li>\n<li>When you use <code>new Function(\u2026)</code> (the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function\">Function constructor</a>) inside a function, it does not create a closure. (The new function cannot reference the local variables of the outer function.)</li>\n<li>A closure in JavaScript is like keeping a copy of all the local variables, just as they were when a function exited.</li>\n<li>It is probably best to think that a closure is always created just on entry to a function, and the local variables are added to that closure.</li>\n<li>A new set of local variables is kept every time a function with a closure is called (given that the function contains a function declaration inside it, and a reference to that inside function is either returned or an external reference is kept for it in some way).</li>\n<li>Two functions might look like they have the same source text, but have completely different behaviour because of their 'hidden' closure. I don't think JavaScript code can actually find out if a function reference has a closure or not.</li>\n<li>If you are trying to do any dynamic source code modifications (for example: <code>myFunction = Function(myFunction.toString().replace(/Hello/,'Hola'));</code>), it won't work if <code>myFunction</code> is a closure (of course, you would never even think of doing source code string substitution at runtime, but...).</li>\n<li>It is possible to get function declarations within function declarations within functions &mdash; and you can get closures at more than one level.</li>\n<li>I think normally a closure is the term for both the function along with the variables that are captured. Note that I do not use that definition in this article!</li>\n<li>I suspect that closures in JavaScript differ from those normally found in functional languages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"http://trimpath.com/project/wiki/TrimBreakpoint\">TrimBreakpoint</a> is a tricky use of closures to let you inspect local variables for a function from a popup breakpoint window.</li>\n<li>Douglas Crockford's simulated <a href=\"http://www.crockford.com/javascript/private.html\">private attributes and private methods</a> for an object, using closures.</li>\n<li>A great explanation of how closures can <a href=\"http://www.codeproject.com/jscript/LeakPatterns.asp\">cause memory leaks in IE</a> if you are not careful.</li>\n</ul>\n\n<h2>Thanks</h2>\n\n<p>If you have <em>just</em> learnt closures (here or elsewhere!), then I am interested in any feedback from you about any changes you might suggest that could make this article clearer. Send an email to morrisjohns.com (morris_closure @). Please note that I am not a guru on JavaScript &mdash; nor on closures.</p>\n\n<p>Thanks for reading.</p>\n",
                    "is_accepted": false,
                    "score": 1187
                },
                {
                    "body": "<p>A <em>closure</em> is much like an object. It gets instantiated whenever you call a function. </p>\n\n<p>The scope of a <em>closure</em> in JavaScript is lexical, which means that everything that is contained within the function the <em>closure</em> belongs to, has access to any variable that is in it.</p>\n\n<p>A variable is contained in the <em>closure</em> if you</p>\n\n<ol>\n<li>assign it with <code>var foo=1;</code> or</li>\n<li>just write <code>var foo;</code></li>\n</ol>\n\n<p>If an inner function (a function contained inside another function) accesses such a variable without defining it in its own scope with var, it modifies the content of the variable in the outer <em>closure</em>.</p>\n\n<p>A <em>closure</em> outlives the runtime of the function that spawned it. If other functions make it out of the <em>closure/scope</em> in which they are defined (for instance as return values), those will continue to reference that <em>closure</em>.</p>\n\n<h2>Example</h2>\n\n<pre><code>function example(closure){\n    // define somevariable to live in the closure of example\n    var somevariable='unchanged';\n\n    return {\n        change_to:function(value){\n            somevariable = value;\n        },\n        log:function(value){\n            console.log('somevariable of closure %s is: %s',\n                closure, somevariable);\n        }\n    }\n}\n\nclosure_one = example('one');\nclosure_two = example('two');\n\nclosure_one.log();\nclosure_two.log();\nclosure_one.change_to('some new value');\nclosure_one.log();\nclosure_two.log();\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>somevariable of closure one is: unchanged\nsomevariable of closure two is: unchanged\nsomevariable of closure one is: some new value\nsomevariable of closure two is: unchanged\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 97
                },
                {
                    "body": "<p>Closures are hard to explain because they are used to make some behaviour work that everybody intuitively expects to work anyway. I find the best way to explain them (and the way that <em>I</em> learned what they do) is to imagine the situation without them:</p>\n\n<pre><code>var bind = function(x) {\n    return function(y) { return x + y; };\n}\n\nvar plus5 = bind(5);\nalert(plus5(3));\n</code></pre>\n\n<p>What would happen here if JavaScript <em>didn't</em> know closures? Just replace the call in the last line by its method body (which is basically what function calls do) and you get:</p>\n\n<pre><code>alert(x + 3);\n</code></pre>\n\n<p>Now, where's the definition of <code>x</code>? We didn't define it in the current scope. The only solution is to let <code>plus5</code> <em>carry</em> its scope (or rather, its parent's scope) around. This way, <code>x</code> is well-defined and it is bound to the value 5.</p>\n",
                    "is_accepted": false,
                    "score": 160
                },
                {
                    "body": "<p>Whenever you see the function keyword within another function, the inner function has access to variables in the outer function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo(x) {\r\n  var tmp = 3;\r\n\r\n  function bar(y) {\r\n    alert(x + y + (++tmp)); // will alert 16\r\n  }\r\n\r\n  bar(10);\r\n}\r\n\r\nfoo(2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will always alert 16, because <code>bar</code> can access the <code>x</code> which was defined as an argument to <code>foo</code>, and it can also access <code>tmp</code> from <code>foo</code>.</p>\n\n<p>That <strong><em>is</em></strong> a closure. A function doesn't have to <em>return</em> in order to be called a closure. <strong><em>Simply accessing variables outside of your immediate lexical scope creates a closure</em></strong>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo(x) {\r\n  var tmp = 3;\r\n\r\n  return function (y) {\r\n    alert(x + y + (++tmp)); // will also alert 16\r\n  }\r\n}\r\n\r\nvar bar = foo(2); // bar is now a closure.\r\nbar(10);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The above function will also alert 16, because <code>bar</code> can still refer to <code>x</code> and <code>tmp</code>, even though it is no longer directly inside the scope.</p>\n\n<p>However, since <code>tmp</code> is still hanging around inside <code>bar</code>'s closure, it is also being incremented. It will be incremented each time you call <code>bar</code>.</p>\n\n<p>The simplest example of a closure is this:</p>\n\n<pre><code>var a = 10;\nvar b = 6;\n\nfunction test() {\n  console.log(a); // will output 10\n  console.log(b); // will output 6\n}\n\ntest();\n</code></pre>\n\n<p>When a JavaScript function is invoked, a new execution context is created. Together with the function arguments and the parent object, this execution context also receives all the variables declared outside of it (in the above example, both 'a' and 'b').</p>\n\n<p>It is possible to create more than one closure function, either by returning a list of them or by setting them to global variables. All of these will refer to the <strong>same</strong> <code>x</code> and the same <code>tmp</code>, they don't make their own copies.</p>\n\n<p>Here the number <code>x</code> is a literal number. As with other literals in JavaScript, when <code>foo</code> is called, the number <code>x</code> is <b>copied</b> into <code>foo</code> as its argument <code>x</code>.</p>\n\n<p>On the other hand, JavaScript always uses references when dealing with Objects. If say, you called <code>foo</code> with an Object, the closure it returns will <b>reference</b> that original Object!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo(x) {\r\n  var tmp = 3;\r\n\r\n  return function (y) {\r\n    alert(x + y + tmp);\r\n    x.memb = x.memb ? x.memb + 1 : 1;\r\n    alert(x.memb);\r\n  }\r\n}\r\n\r\nvar age = 2;\r\nvar bar = foo(age); // bar is now a closure referencing age.\r\nbar(10);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As expected, each call to <code>bar(10)</code> will increment <code>x.memb</code>. What might not be expected, is that <code>x</code> is simply referring to the same object as the <code>age</code> variable! After a couple of calls to <code>bar</code>, <code>age.memb</code> will be 2! This referencing is the basis for memory leaks with HTML objects.</p>\n",
                    "is_accepted": true,
                    "score": 2432
                },
                {
                    "body": "<p>A closure is where an inner function has access to variables in its outer function. That's probably the simplest one-line explanation you can get for closures.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>This is an attempt to clear up several (possible) misunderstandings about closures that appear in some of the other answers.</p>\n\n<ul>\n<li><strong>A closure is not only created when you return an inner function.</strong>  In fact, the enclosing function <em>does not need to return at all</em> in order for its closure to be created.  You might instead assign your inner function to a variable in an outer scope, or pass it as an argument to another function where it could be called immediately or any time later.  Therefore, the closure of the enclosing function is probably created <em>as soon as the enclosing function is called</em> since any inner function has access to that closure whenever the inner function is called, before or after the enclosing function returns. </li>\n<li><strong>A closure does not reference a copy of the <em>old values</em> of variables in its scope.</strong>  The variables themselves are part of the closure, and so the value seen when accessing one of those variables is the latest value at the time it is accessed.  This is why inner functions created inside of loops can be tricky, since each one has access to the same outer variables rather than grabbing a copy of the variables at the time the function is created or called.</li>\n<li><strong>The \"variables\" in a closure include any named functions</strong> declared within the function.  They also include arguments of the function.  A closure also has access to its containing closure's variables, all the way up to the global scope.</li>\n<li><strong>Closures use memory, but they don't cause memory leaks</strong> since JavaScript by itself cleans up its own circular structures that are not referenced.  IE memory leaks involving closures are created when it fails to disconnect DOM attribute values that reference closures, thus maintaining references to possibly circular structures.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 146
                },
                {
                    "body": "<p>Example for the first point by <a href=\"http://stackoverflow.com/users/311389/dlaliberte\">dlaliberte</a>:</p>\n\n<blockquote>\n  <p>A closure is not only created when you\n  return an inner function. In fact,\n  the enclosing function does not need\n  to return at all. You might instead\n  assign your inner function to a\n  variable in an outer scope, or pass it\n  as an argument to another function\n  where it could be used immediately.\n  Therefore, the closure of the\n  enclosing function probably already\n  exists at the time that enclosing\n  function was called since any inner\n  function has access to it as soon as\n  it is called.</p>\n</blockquote>\n\n<pre><code>var i;\nfunction foo(x) {\n    var tmp = 3;\n    i = function (y) {\n        alert(x + y + (++tmp));\n    }\n}\nfoo(2);\ni(3);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<h2><a href=\"http://stackoverflow.com/questions/1700514/how-do-you-explain-closure-to-a-5-year-old/1700627#1700627\">Can you explain closures to a 5 year old?*</a></h2>\n\n<p>I still think <a href=\"http://code.google.com/apis/ajax/playground/?exp=maps#closure_simple\">Google's explanation</a> works very well and is concise:</p>\n\n<pre><code>/*\n*    When a function is defined in another function and it\n*    has access to the outer function's context even after\n*    the outer function returns.\n*\n* An important concept to learn in JavaScript.\n*/\n\nfunction outerFunction(someNum) {\n    var someString = 'Hey!';\n    var content = document.getElementById('content');\n    function innerFunction() {\n        content.innerHTML = someNum + ': ' + someString;\n        content = null; // Internet Explorer memory leak for DOM reference\n    }\n    innerFunction();\n}\n\nouterFunction(1);\u200b\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/N0mn0.png\" alt=\"Proof that this example creates a closure even if the inner function doesn&#39;t return\"></p>\n\n<p><sub>*A C# question</sub></p>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>I wrote a blog post a while back explaining closures. Here's what I said about closures in terms of <strong>why</strong> you'd want one.</p>\n\n<blockquote>\n  <p>Closures are a way to let a function\n  have <strong>persistent, private variables</strong> -\n  that is, variables that only one\n  function knows about, where it can\n  keep track of info from previous times\n  that it was run.</p>\n</blockquote>\n\n<p>In that sense, they let a function act a bit like an object with private attributes.</p>\n\n<p>Full post:</p>\n\n<p><a href=\"http://sleeplessgeek.blogspot.com/2009/12/so-what-are-these-closure-thingys.html\">So what are these closure thingys?</a></p>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>JavaScript functions can access their:</p>\n\n<ol>\n<li>Arguments</li>\n<li>Locals (that is, their local variables and local functions)</li>\n<li>Environment, which includes:\n<ul>\n<li>globals, including the DOM</li>\n<li>anything in outer functions</li>\n</ul></li>\n</ol>\n\n<p>If a function accesses its environment, then the function is a closure.</p>\n\n<p>Note that outer functions are not required, though they do offer benefits I don't discuss here. By accessing data in its environment, a closure keeps that data alive. In the subcase of outer/inner functions, an outer function can create local data and eventually exit, and yet, if any inner function(s) survive after the outer function exits, then the inner function(s) keep the outer function's local data alive.</p>\n\n<p>Example of a closure that uses the global environment:</p>\n\n<p>Imagine that the Stack Overflow Vote-Up and Vote-Down button events are implemented as closures, voteUp_click and voteDown_click, that have access to external variables isVotedUp and isVotedDown, which are defined globally. (For simplicity's sake, I am referring to StackOverflow's Question Vote buttons, not the array of Answer Vote buttons.)</p>\n\n<p>When the user clicks the VoteUp button, the voteUp_click function checks whether isVotedDown == true to determine whether to vote up or merely cancel a down vote. Function voteUp_click is a closure because it is accessing its environment.</p>\n\n<pre><code>var isVotedUp = false;\nvar isVotedDown = false;\n\nfunction voteUp_click()\n{\n  if (isVotedUp)\n    return;\n  else if (isVotedDown)\n    SetDownVote(false);\n  else\n    SetUpVote(true);\n}\n\nfunction voteDown_click()\n{\n  if (isVotedDown)\n    return;\n  else if (isVotedUp)\n    SetUpVote(false);\n  else\n    SetDownVote(true);\n}\n\nfunction SetUpVote(status)\n{\n  isVotedUp = status;\n  // Do some CSS stuff to Vote-Up button\n}\n\nfunction SetDownVote(status)\n{\n  isVotedDown = status;\n  // Do some CSS stuff to Vote-Down button\n}\n</code></pre>\n\n<p>All four of these functions are closures as they all access their environment.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I'm a big fan of analogy and metaphor when explaining difficult concepts, so let me try my hand with a story.</p>\n\n<p><strong>Once upon a time:</strong></p>\n\n<p>There was a princess...</p>\n\n<pre><code>function princess() {\n</code></pre>\n\n<p>She lived in a wonderful world full of adventures. She met her Prince Charming, rode around her world on a unicorn, battled dragons, encountered talking animals, and many other fantastical things.</p>\n\n<pre><code>    var adventures = [];\n\n    function princeCharming() { /* ... */ }\n\n    var unicorn = { /* ... */ },\n        dragons = [ /* ... */ ],\n        squirrel = \"Hello!\";\n</code></pre>\n\n<p>But she would always have to return back to her dull world of chores and grown-ups.</p>\n\n<pre><code>    return {\n</code></pre>\n\n<p>And she would often tell them of her latest amazing adventure as a princess.</p>\n\n<pre><code>        story: function() {\n            return adventures[adventures.length - 1];\n        }\n    };\n}\n</code></pre>\n\n<p>But all they would see is a little girl...</p>\n\n<pre><code>var littleGirl = princess();\n</code></pre>\n\n<p>...telling stories about magic and fantasy.</p>\n\n<pre><code>littleGirl.story();\n</code></pre>\n\n<p>And even though the grown-ups knew of real princesses, they would never believe in the unicorns or dragons because they could never see them. The grown-ups said that they only existed inside the little girl's imagination.</p>\n\n<p>But we know the real truth; that the little girl with the princess inside...</p>\n\n<p>...is really a princess with a little girl inside.</p>\n",
                    "is_accepted": false,
                    "score": 1089
                },
                {
                    "body": "<p>You're having a sleep over and you invite Dan.\nYou tell Dan to bring one XBox controller.</p>\n\n<p>Dan invites Paul.\nDan asks Paul to bring one controller. How many controllers were brought to the party?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function sleepOver(howManyControllersToBring) {\n\n    var numberOfDansControllers = howManyControllersToBring;\n\n    return function danInvitedPaul(numberOfPaulsControllers) {\n        var totalControllers = numberOfDansControllers + numberOfPaulsControllers;\n        return totalControllers;\n    }\n}\n\nvar howManyControllersToBring = 1;\n\nvar inviteDan = sleepOver(howManyControllersToBring);\n\n// The only reason Paul was invited is because Dan was invited. \n// So we set Paul's invitation = Dan's invitation.\n\nvar danInvitedPaul = inviteDan(howManyControllersToBring);\n\nalert(\"There were \" + danInvitedPaul + \" controllers brought to the party.\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>I put together an interactive JavaScript tutorial to explain how closures work.\n<a href=\"http://nathansjslessons.appspot.com\" rel=\"nofollow\">What's a Closure?</a></p>\n\n<p>Here's one of the examples:</p>\n\n<pre><code>var create = function (x) {\n    var f = function () {\n        return x; // We can refer to x here!\n    };\n    return f;\n};\n// 'create' takes one argument, creates a function\n\nvar g = create(42);\n// g is a function that takes no arguments now\n\nvar y = g();\n// y is 42 here\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 38
                },
                {
                    "body": "<p><a href=\"http://en.wikipedia.org/wiki/Closure_%28computer_science%29\">Wikipedia on closures</a>:</p>\n\n<blockquote>\n  <p>In computer science, a closure is a function together with a referencing environment for the nonlocal names (free variables) of that function.</p>\n</blockquote>\n\n<p>Technically, in <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a>, <strong>every function is a closure</strong>. It always has an access to variables defined in the surrounding scope.</p>\n\n<p>Since <strong>scope-defining construction in JavaScript is a function</strong>, not a code block like in many other languages, <strong>what we usually mean by <em>closure</em> in JavaScript</strong> is a <strong>function working with nonlocal variables defined in already executed surrounding function</strong>.</p>\n\n<p>Closures are often used for creating functions with some hidden private data (but it's not always the case).</p>\n\n<pre><code>var db = (function() {\n    // Create a hidden object, which will hold the data\n    // it's inaccessible from the outside.\n    var data = {};\n\n    // Make a function, which will provide some access to the data.\n    return function(key, val) {\n        if (val === undefined) { return data[key] } // Get\n        else { return data[key] = val } // Set\n    }\n    // We are calling the anonymous surrounding function,\n    // returning the above inner function, which is a closure.\n})();\n\ndb('x')    // -&gt; undefined\ndb('x', 1) // Set x to 1\ndb('x')    // -&gt; 1\n// It's impossible to access the data object itself.\n// We are able to get or set individual it.\n</code></pre>\n\n<p>ems</p>\n\n<p>The example above is using an anonymous function, which was executed once. But it does not have to be. It can be named (e.g. <code>mkdb</code>) and executed later, generating a database function each time it is invoked. Every generated function will have its own hidden database object. Another usage example of closures is when we don't return a function, but an object containing multiple functions for different purposes, each of those function having access to the same data.</p>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>Taking the question seriously, we should find out what a typical 6-year-old is capable of cognitively, though admittedly, one who is interested in JavaScript is not so typical.  </p>\n\n<p>On  <a href=\"http://www.howkidsdevelop.com/5-7years.html\">Childhood Development: 5 to 7 Years </a> it says:</p>\n\n<blockquote>\n  <p>Your child will be able to follow two-step directions. For example, if you say to your child, \"Go to the kitchen and get me a trash bag\" they will be able to remember that direction.</p>\n</blockquote>\n\n<p>We can use this example to explain closures, as follows:</p>\n\n<blockquote>\n  <p>The kitchen is a closure that has a local variable, called trashBags.  There is a function inside the kitchen called getTrashBag that gets one trash bag and returns it.</p>\n</blockquote>\n\n<p>We can code this in JavaScript like this:</p>\n\n<pre><code>function makeKitchen () {\n  var trashBags = ['A', 'B', 'C']; // only 3 at first\n\n  return {\n    getTrashBag: function() {\n      return trashBags.pop();\n    }\n  };\n}\n\nvar kitchen = makeKitchen();\n\nkitchen.getTrashBag(); // returns trash bag C\nkitchen.getTrashBag(); // returns trash bag B\nkitchen.getTrashBag(); // returns trash bag A\n</code></pre>\n\n<p>Further points that explain why closures are interesting:</p>\n\n<ul>\n<li>Each time makeKitchen() is called, a new closure is created with its own separate trashBags.</li>\n<li>The trashBags variable is local to the inside of each kitchen and is not accessible outside, but the inner function on the getTrashBag property does have access to it.  </li>\n<li>Every function call creates a closure, but there would be no need to keep the closure around unless an inner function, which has access to the inside of the closure, can be called from outside the closure.  Returning the object with the getTrashBag function does that here.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 278
                },
                {
                    "body": "<p>I know there are plenty of solutions already, but I guess that this small and simple script can be useful to demonstrate the concept:</p>\n\n<pre><code>// makeSequencer will return a \"sequencer\" function\nvar makeSequencer = function() {\n    var _count = 0; // Not accessible outside this function\n    var sequencer = function () {\n        return _count++;\n    }\n    return sequencer;\n}\n\nvar fnext = makeSequencer();\nvar v0 = fnext();     // v0 = 0;\nvar v1 = fnext();     // v1 = 1;\nvar vz = fnext._count // vz = undefined\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>After a function is invoked, it goes out of scope. If that function contains something like a callback function, then that callback function is still in scope. If the callback function references some local variable in the immediate environment of the parent function, then naturally you'd expect that variable to be inaccesible to the callback function and return undefined.</p>\n\n<p>Closures ensure that any property that is referenced by the callback function is available for use by that function, even when it's parent function may have gone out of scope</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>From a personal <a href=\"http://tshikatshikaaa.blogspot.nl/2012/08/purpose-of-javascript-closure.html\" rel=\"nofollow\">blog post</a>:</p>\n\n<p>By default, JavaScript knows two types of scopes: global and local.</p>\n\n<pre><code>var a = 1;\n\nfunction b(x) {\n    var c = 2;\n    return x * c;\n}\n</code></pre>\n\n<p>In the above code, variable a and function b are available from anywhere in the code (that is, globally). Variable <code>c</code> is only available within the <code>b</code> function scope (that is, local). Most software developers won't be happy with this lack of scope flexibility, especially in large programs.</p>\n\n<p>JavaScript closures help solving that issue by tying a function with a context:</p>\n\n<pre><code>function a(x) {\n    return function b(y) {\n        return x + y;\n    }\n}\n</code></pre>\n\n<p>Here, function <code>a</code> returns a function called <code>b</code>. Since <code>b</code> is defined within <code>a</code>, it automatically has access to whatever is defined in <code>a</code>, that is, <code>x</code> in this example. This is why <code>b</code> can return <code>x</code> + <code>y</code> without declaring <code>x</code>.</p>\n\n<pre><code>var c = a(3);\n</code></pre>\n\n<p>Variable <code>c</code> is assigned the result of a call to a with parameter 3. That is, an instance of function <code>b</code> where <code>x</code> = 3. In other words, <code>c</code> is now a function equivalent to:</p>\n\n<pre><code>var c = function b(y) {\n    return 3 + y;\n}\n</code></pre>\n\n<p>Function <code>b</code> remembers that <code>x</code> = 3 in its context. Therefore:</p>\n\n<pre><code>var d = c(4);\n</code></pre>\n\n<p>will assign the value 3 + 4 to <code>d</code>, that is 7.</p>\n\n<p><strong>Remark</strong>: If someone modifies the value of <code>x</code> (say <code>x</code> = 22) after the instance of function <code>b</code> has been created, this will be reflected in <code>b</code> too. Hence a later call to <code>c</code>(4) would return 22 + 4, that is 26.</p>\n\n<p>Closures can also be used to limit the scope of variables and methods declared globally:</p>\n\n<pre><code>(function () {\n    var f = \"Some message\";\n    alert(f);\n})();\n</code></pre>\n\n<p>The above is a closure where the function has no name, no argument and is called immediately. The highlighted code, which declares a global variable <code>f</code>, limits the scopes of <code>f</code> to the closure.</p>\n\n<p>Now, there is a common JavaScript caveat where closures can help:</p>\n\n<pre><code>var a = new Array();\n\nfor (var i=0; i&lt;2; i++) {\n    a[i]= function(x) { return x + i ; }\n}\n</code></pre>\n\n<p>From the above, most would assume that array <code>a</code> would be initialized as follows:</p>\n\n<pre><code>a[0] = function (x) { return x + 0 ; }\na[1] = function (x) { return x + 1 ; }\na[2] = function (x) { return x + 2 ; }\n</code></pre>\n\n<p>In reality, this is how a is initialized, since the last value of <code>i</code> in the context is 2:</p>\n\n<pre><code>a[0] = function (x) { return x + 2 ; }\na[1] = function (x) { return x + 2 ; }\na[2] = function (x) { return x + 2 ; }\n</code></pre>\n\n<p>The solution is:</p>\n\n<pre><code>var a = new Array();\n\nfor (var i=0; i&lt;2; i++) {\n    a[i]= function(tmp) {\n        return function (x) { return x + tmp ; }\n    } (i);\n}\n</code></pre>\n\n<p>The argument/variable <code>tmp</code> holds a local copy of the changing value of <code>i</code> when creating function instances.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>A function in JavaScript is not just a reference to a set of instructions (as in C language) but also includes a hidden data structure which is composed of references to all nonlocal variables it uses. Such two-piece functions are called closures. Every function in JavaScript can be considered a closure.</p>\n\n<p>Closures are functions with a state. It is somewhat similar to \"this\" in the sense that \"this\" also provides state for a function but function and \"this\" are separate objects (\"this\" is just a fancy parameter, and the only way to bind it to a function is to create a closure). While \"this\" and function always live separately, a function cannot be separated from its closure.</p>\n\n<p>Because all these external variables referenced by a lexically nested function are actually local variables in the chain of its lexically enclosing functions (global variables can be assumed to be local variables of some root function), and every single execution of a function creates new instances of its local variables, - every execution of a function returning (or otherwise transferring it out, such as registering it as a callback) a nested function creates a new closure (with its own potentially unique set of referenced nonlocal variables which represent its execution context).</p>\n\n<p>Also, it must be understood that local variables in JavaScript are created not on the stack frame but in the heap and destroyed only when no one is referencing them. When a function returns, references to its local variables are decremented but can still be non-null if during the current execution they became part of a closure and are still referenced by its (lexically) nested functions (which can happen only if the references to these nested functions were returned or otherwise transferred to some external code).</p>\n\n<p>An example:</p>\n\n<pre><code>function foo (initValue) {\n   //This variable is not destroyed when the foo function exits.\n   //It is 'captured' by the two nested functions returned below.\n   var value = initValue; \n\n   //Note that the two returned functions are created right now.\n   //If the foo function is called again, it will return \n   //new functions referencing a different 'value' variable.\n   return {\n       getValue: function () { return value; },\n       setValue: function (newValue) { value = newValue; }\n   }\n}\n\nfunction bar () {\n    //foo sets its local variable 'value' to 5 and returns an object with\n    //two functions still referencing that local variable\n    var obj = foo(5);\n\n    //extracting functions just to show that no 'this' is involved here\n    var getValue = obj.getValue;\n    var setValue = obj.setValue;\n\n    alert(getValue()); //displays 5\n    setValue(10);\n    alert(getValue()); //displays 10\n\n    //At this point getValue and setValue functions are destroyed \n    //(in reality they are destroyed at the next iteration of the garbage collector).\n    //The local variable 'value' in the foo is no longer referenced by \n    //anything and is destroyed too.\n}\n\nbar();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Closures are a means through which inner functions can refer to the variables present in their outer enclosing function after their parent functions have already terminated.</p>\n\n<pre><code>// A function that generates a new function for adding numbers.\nfunction addGenerator( num ) {\n    // Return a simple function for adding two numbers\n    // with the first number borrowed from the generator\n    return function( toAdd ) {\n        return num + toAdd\n    };\n}\n\n// addFive now contains a function that takes one argument,\n// adds five to it, and returns the resulting number.\nvar addFive = addGenerator( 5 );\n// We can see here that the result of the addFive function is 9,\n// when passed an argument of 4.\nalert( addFive( 4 ) == 9 );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<h1>The Straw Man</h1>\n\n<p>I need to know how many times a button has been clicked, and do something on every third click...</p>\n\n<h2>Fairly Obvious Solution</h2>\n\n<pre><code>// Declare counter outside event handler's scope\nvar counter = 0;\nvar element = document.getElementById('button');\n\nelement.onclick = function() {\n    // Increment outside counter\n    counter++;\n\n    if (counter === 3) {\n        // Do something every third time\n        alert(\"Third time's the charm!\");\n\n        // Reset counter\n        counter = 0;\n    }\n};\n</code></pre>\n\n<p>Now this will work, but it does encroach into the outer scope by adding a variable, whose sole purpose is to keep track of the count. In some situations this would be preferable as your outer application might need access to this information. But in this case we are only changing every third click's behavior, so it is preferable to <strong>enclose this functionality inside the event handler</strong>.</p>\n\n<h2>Consider this option</h2>\n\n<pre><code>var element = document.getElementById('button');\n\nelement.onclick = (function() {\n    // init the count to 0\n    var count = 0;\n\n    return function(e) {  // &lt;- This function becomes the onclick handler\n        count++;          //    and will retain access to the above `count`\n\n        if (count === 3) {\n            // Do something every third time\n            alert(\"Third time's the charm!\");\n\n            //Reset counter\n            count = 0;\n        }\n    };\n})();\n</code></pre>\n\n<p>Notice a few things here.</p>\n\n<p>In the above example I am using the closure behavior of JavaScript. <strong>This behavior allows any function to have access to the scope in which it was created, indefinitely.</strong> To practically apply this, I immediately invoke a function that returns another function, and because the function I'm returning has access to the internal count variable (because of the closure behavior explained above) this results in a private scope for usage by the resulting function... Not so simple? &nbsp;Lets dilute it down...</p>\n\n<p><strong>A simple one line closure</strong></p>\n\n<pre><code>//         ____________Immediately executed (self invoked)___________________\n//         |                                                                |\n//         |      Scope Retained for use        __Returned as the______     |\n//         |     only by returned function     |  value of func       |     |\n//         |             |            |        |                      |     |\n//         v             v            v        v                      v     v\nvar func = (function() { var a = 'val'; return function() { alert(a); }; })();\n</code></pre>\n\n<p>All variables outside the returned function are available to the returned function, but are not directly available to the returned function object...</p>\n\n<pre><code>func();  // Alerts \"value\"\nfunc.a;  // Undefined\n</code></pre>\n\n<p>Get it? So in our primary example, the count variable is contianed within the closure and always available to the event handler, so it retains its state from click to click.</p>\n\n<p>Also this private variable state is <strong>fully</strong> accessible, for both reading and assigning to its private scoped variables.</p>\n\n<p>There you go, you're now fully encapsulating this behavior.</p>\n\n<p><strong><a href=\"http://jondavidjohn.com/javascript-closure-explained-using-events/\">Full Blog Post</a></strong> (including jQuery considerations)</p>\n",
                    "is_accepted": false,
                    "score": 138
                },
                {
                    "body": "<p>Okay, talking with a 6-year old child, I would possibly use following associations.</p>\n\n<blockquote>\n  <p>Imagine - you are playing with your little brothers and sisters in the entire house, and you are moving around with your toys and brought some of them into your older brother's room. After a while your brother returned from the school and went to his room, and he locked inside it, so now you could not access toys left there anymore in a direct way. But you could knock the door and ask your brother for that toys. This is called toy's <em>closure</em>; your brother made it up for you, and he is now into outer <em>scope</em>.</p>\n</blockquote>\n\n<p>Compare with a situation when a door was locked by draft and nobody inside (general function execution), and then some local fire occur and burn down the room (garbage collector:D), and then a new room was build and now you may leave another toys there (new function instance), but never get the same toys which were left in the first room instance.</p>\n\n<p>For an advanced child I would put something like the following. It is not perfect, but it makes you feel about what it is:</p>\n\n<pre><code>function playingInBrothersRoom (withToys) {\n  // We closure toys which we played in the brother's room. When he come back and lock the door\n  // your brother is supposed to be into the outer [[scope]] object now. Thanks god you could communicate with him.\n  var closureToys = withToys || [],\n      returnToy, countIt, toy; // Just another closure helpers, for brother's inner use.\n\n  var brotherGivesToyBack = function (toy) {\n    // New request. There is not yet closureToys on brother's hand yet. Give him a time.\n    returnToy = null;\n    if (toy &amp;&amp; closureToys.length &gt; 0) { // If we ask for a specific toy, the brother is going to search for it.\n\n      for ( countIt = closureToys.length; countIt; countIt--) {\n        if (closureToys[countIt - 1] == toy) {\n          returnToy = 'Take your ' + closureToys.splice(countIt - 1, 1) + ', little boy!';\n          break;\n        }\n      }\n      returnToy = returnToy || 'Hey, I could not find any ' + toy + ' here. Look for it in another room.';\n    }\n    else if (closureToys.length &gt; 0) { // Otherwise, just give back everything he has in the room.\n      returnToy = 'Behold! ' + closureToys.join(', ') + '.';\n      closureToys = [];\n    }\n    else {\n      returnToy = 'Hey, lil shrimp, I gave you everything!';\n    }\n    console.log(returnToy);\n  }\n  return brotherGivesToyBack;\n}\n// You are playing in the house, including the brother's room.\nvar toys = ['teddybear', 'car', 'jumpingrope'],\n    askBrotherForClosuredToy = playingInBrothersRoom(toys);\n\n// The door is locked, and the brother came from the school. You could not cheat and take it out directly.\nconsole.log(askBrotherForClosuredToy.closureToys); // Undefined\n\n// But you could ask your brother politely, to give it back.\naskBrotherForClosuredToy('teddybear'); // Hooray, here it is, teddybear\naskBrotherForClosuredToy('ball'); // The brother would not be able to find it.\naskBrotherForClosuredToy(); // The brother gives you all the rest\naskBrotherForClosuredToy(); // Nothing left in there\n</code></pre>\n\n<p>As you can see, the toys left in the room are still accessible via the brother and no matter if the room is locked. Here is <a href=\"http://jsbin.com/ubakor/9/edit\" rel=\"nofollow\">a jsbin</a> to play around with it.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I'd simply point them to the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Closures\" rel=\"nofollow\">Mozilla Closures page</a>. It's the best, most <strong>concise and simple explanation</strong> of closure basics and practical usage that I've found. It is highly recommended to anyone learning JavaScript.</p>\n\n<p>And yes, I'd even recommend it to a 6-year old -- if the 6-year old is learning about closures, then it's logical they're ready to comprehend the <em>concise and simple explanation</em> provided in the article.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>If you want to explain it to a six-year old child then you must find something very much simpler and NO code.</p>\n\n<p>Just tell the child that he is \"open\", which says that he is able to have relations with some others, his friends. At some point in time, he has determined friends (we can know the names of his friends), that is a closure. If you take a picture of him and his friends then he is \"closed\" relatively to his friendship ability. But in general, he is \"open\". During his whole life he will have many different sets of friends. One of these sets is a closure.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This is copyrighted material so I can't copy it, but I will supply the reference and say that I found it very clear.  Chapter 8 section 6, \"Closures,\" of <em>Javascript the Definitive Guide</em> by David Flanagan, 6th edition, O'Reilly, 2011.  I'll try to paraphrase.  </p>\n\n<ol>\n<li><p>When a function is invoked, a new object is created to hold the local variables for that invocation.  </p></li>\n<li><p>A function's scope depends on its declaration location, not its execution location.</p></li>\n</ol>\n\n<p>Now, assume an inner function declared within an outer function and referring to variables of that outer function.  Further assume the outer function returns the inner function, as a function.  Now there is an external reference to whatever values were in the inner function's scope (which, by our assumptions, includes values from the outer function).  Javascript will preserve those values, as they have remained in scope of current execution thanks to being passed out of the completed outer function.  All functions are closures, but the closures of interest are the inner functions which, in our assumed scenario, preserve outer function values within their \"enclosure\" (I hope I'm using language correctly here) when they (the inner functions) are returned from outer functions.  I know this doesn't meet the six-year-old requirement, but hopefully is still helpful.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>A function is executed in the scope of the object/function in which it is defined. The said function can access the variables defined in the object/function where it has been defined while it is executing.</p>\n\n<p>And just take it literally.... as the code is written :P</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For a six-year-old?</p>\n\n<p>You and your family live in the mythical town of Ann Ville. You have a friend who lives next door, so you call them and ask them to come out and play. You dial:</p>\n\n<blockquote>\n  <p>000001 (jamiesHouse)</p>\n</blockquote>\n\n<p>After a month, you and your family move out of Ann Ville to the next town, but you and your friend still keep in touch, so now you have to dial the area code for the town that your friend lives in, before dialling their 'proper' number:</p>\n\n<blockquote>\n  <p>001 000001 (annVille.jamiesHouse)</p>\n</blockquote>\n\n<p>A year after that, your parents move to a whole new country, but you and your friend still keep in touch, so after bugging your parents to let you make international rate calls, you now dial:</p>\n\n<blockquote>\n  <p>01 001 000001 (myOldCountry.annVille.jamiesHouse)</p>\n</blockquote>\n\n<p>Strangely though, after moving to your new country, you and your family just so happen to move to a new town called Ann Ville... and you just so happen to make friends with some new person called Jamie... You give them a call...</p>\n\n<blockquote>\n  <p>000001 (jamiesHouse)</p>\n</blockquote>\n\n<p>Spooky...</p>\n\n<p>So spooky in fact, that you tell Jamie from your old country about it... You have a good laugh about it. So one day, you and your family take a holiday back to the old country. You visit your old town (Ann Ville), and go to visit Jamie...</p>\n\n<ul>\n<li>\"Really? Another Jamie? In Ann Ville? In your new country!!?\"</li>\n<li>\"Yeah... Let's call them...\"</li>\n</ul>\n\n<blockquote>\n  <p>02 001 000001 (myNewCountry.annVille.jamiesHouse)</p>\n</blockquote>\n\n<p>Opinions?</p>\n\n<p><em>What's more, I have a load of questions about the patience of a modern six-year-old...</em></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>An answer for a six-year-old (assuming he knows what a function is and what a variable is, and what data is):</p>\n\n<p>Functions can return data. One kind of data you can return from a function is another function. When that new function gets returned, all the variables and arguments used in the function that created it don't go away. Instead, that parent function \"closes.\" In other words, nothing can look inside of it and see the variables it used except for the function it returned. That new function has a special ability to look back inside the function that created it and see the data inside of it.</p>\n\n<pre><code>function the_closure() {\n  var x = 4;\n  return function () {\n    return x; // Here, we look back inside the_closure for the value of x\n  }\n}\n\nvar myFn = the_closure();\nmyFn(); //=&gt; 4\n</code></pre>\n\n<p>Another really simple way to explain it is in terms of scope:</p>\n\n<p>Any time you create a smaller scope inside of a larger scope, the smaller scope will always be able to see what is in the larger scope.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I'm sure, Einstein didn't say it with a direct expectation for us to pick any esoteric brainstormer thing and run over six-year olds with futile attempts to get those 'crazy' (and what is even worse for them-boring) things to their childish minds :) If I were 6 years old I wouldn't like to have such parents or wouldn't make friendship with such boring philanthropists, sorry :)</p>\n\n<p>Anyways, for babies, <strong>closure</strong> is simply a <strong>hug</strong>, I guess, whatever way you try to explain :) And when you hug a friend of yours then you both kinda share anything you guys have at the moment. It's a rite of passage, once you've hugged somebody you're showing her trust and willingness to let her do with you a lot of things you don't allow and would hide from others. It's an act of friendship :).</p>\n\n<p>Really don't know how to explain it to 5-6 years old babies. I neither think they will appreciate any JavaScript code snippets like</p>\n\n<pre><code>function Baby(){\n  this.iTrustYou = true;\n}\n\nBaby.prototype.hug = function (baby) {\n    var smiles = 0;\n\n    if(baby.iTrustYou){\n        return function(){\n            smiles++;\n            alert(smiles);\n        };\n    }\n};\n\nvar \n   arman = new Baby(\"Arman\")\n  ,morgan = new Baby(\"Morgana\");\n\nvar hug = arman.hug(morgan);\nhug();\nhug();\n</code></pre>\n\n<p>For children only:</p>\n\n<p><strong>Closure</strong> is <strong>Hug</strong></p>\n\n<p><strong>Bug</strong> is <strong>fly</strong></p>\n\n<p><strong>KISS</strong> is <strong>smooch!</strong> :)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>OK, 6-year-old closures fan. Do you want to hear the simplest example of closure?</p>\n\n<p>Let's imagine the next situation: a driver is sitting in a car. That car is inside a plane. Plane is in the airport. The ability of driver to access things outside his car, but inside the plane, even if that plane leaves an airport, is a closure. That's it. When you turn 27, look at the <a href=\"http://stackoverflow.com/a/111200/1393791\">more detailed explanation</a> or at the example below.</p>\n\n<p>Here is how I can convert my plane story into the code.</p>\n\n<pre><code>var plane = function (defaultAirport) {\n\n    var lastAirportLeft = defaultAirport;\n\n    var car = {\n        driver: {\n            startAccessPlaneInfo: function () {\n                setInterval(function () {\n                    console.log(\"Last airport was \" + lastAirportLeft);\n                }, 2000);\n            }\n        }\n    };\n    car.driver.startAccessPlaneInfo();\n\n    return {\n        leaveTheAirport: function (airPortName) {\n            lastAirportLeft = airPortName;\n        }\n    }\n}(\"Boryspil International Airport\");\n\nplane.leaveTheAirport(\"John F. Kennedy\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 92
                },
                {
                    "body": "<p>I tend to learn better by GOOD/BAD comparisons. I like to see working code followed by non-working code that someone is likely to encounter. I put together <a href=\"http://jsfiddle.net/KMQZK/\">a jsFiddle</a> that does a comparison and tries to boil down the differences to the simplest explanations I could come up with.</p>\n\n<h2>Closures done right:</h2>\n\n<pre><code>console.log('CLOSURES DONE RIGHT');\nvar arr = [];\nfunction createClosure(n) {\n    return function () {\n        return 'n = ' + n;\n    }\n}\nfor (var index = 0; index &lt; 10; index++) {\n    arr[index] = createClosure(index);\n}\nfor (var index in arr) {\n    console.log(arr[index]());\n}\n</code></pre>\n\n<ul>\n<li><p>In the above code createClosure(n) is invoked in every iteration of the loop.</p></li>\n<li><p>This creates a new scope and n is bound to that scope; this means we have 10 separate scopes, one for each iteration.</p></li>\n<li><p>createClosure(n) returns a function that returns the n within that scope.</p></li>\n<li><p>Within each scope n is bound to whatever value it had when createClosure(n) was invoked so the nested function that gets returned will always return the value of n that it had when createClosure(n) was invoked.</p></li>\n</ul>\n\n<h2>Closures done wrong:</h2>\n\n<pre><code>console.log('CLOSURES DONE WRONG');\nfunction createClosureArray() {\n    var badArr = [];\n    for (var index = 0; index &lt; 10; index++) {\n        badArr[index] = function () {\n            return 'n = ' + index;\n        };\n    }\n    return badArr;\n}\nvar badArr = createClosureArray();\nfor (var index in badArr) {\n    console.log(badArr[index]());\n}\n</code></pre>\n\n<ul>\n<li><p>In the above code the loop was moved within the createClosureArray() function and the function now just returns the completed array, which at first glance seems more intuitive.</p></li>\n<li><p>What might not be obvious is that since createClosureArray() is only invoked once only one scope is created for this function instead of one for every iteration of the loop.</p></li>\n<li><p>Within this function a variable named index is defined. The loop runs and adds functions to the array that return index.</p></li>\n<li><p>Because there was only one scope within the createClosureArray() function, the index variable is only bound to a value within that scope. In other words, each time the loop changes the value of index, it changes it for everything that references it within that scope.</p></li>\n<li><p>All of the functions added to the array return the SAME index variable instead of 10 different ones from 10 different scopes. The end result is that all 10 functions return the same variable from the same scope.</p></li>\n<li><p>After the loop finished and index was done being modified the end value was 10, therefore every function added to the array returns the value of the single index variable which is now set to 10.</p></li>\n</ul>\n\n<h2>Result</h2>\n\n<blockquote>\n  <p>CLOSURES DONE RIGHT<br>\n  n = 0<br>\n  n = 1<br>\n  n = 2<br>\n  n = 3<br>\n  n = 4<br>\n  n = 5<br>\n  n = 6<br>\n  n = 7<br>\n  n = 8<br>\n  n = 9  </p>\n  \n  <p>CLOSURES DONE WRONG<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10<br>\n  n = 10  </p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<h2>Given the following function</h2>\n\n<pre><code>function person(name, age){\n\n    var name = name;\n    var age = age;\n\n    function introduce(){\n        alert(\"My name is \"+name+\", and I'm \"+age);\n    }\n\n    return introduce;\n}\n\nvar a = person(\"Jack\",12);\nvar b = person(\"Matt\",14);\n</code></pre>\n\n<p>Everytime the function <code>person</code> is called a new closure is created. While variables <code>a</code> and <code>b</code> have the same <code>introduce</code> function, it is linked to different closures. And that closure will still exist even after the function <code>person</code> finishes execution.</p>\n\n<p><img src=\"http://i.stack.imgur.com/LDEhE.png\" alt=\"Enter image description here\"></p>\n\n<pre><code>a(); //My name is Jack, and I'm 12\nb(); //My name is Matt, and I'm 14\n</code></pre>\n\n<p>An abstract closures could be represented to something like this:</p>\n\n<pre><code>closure a = {\n    name: \"Jack\",\n    age: 12,\n    call: function introduce(){\n        alert(\"My name is \"+name+\", and I'm \"+age);\n    }\n}\n\nclosure b = {\n    name: \"Matt\",\n    age: 14,\n    call: function introduce(){\n        alert(\"My name is \"+name+\", and I'm \"+age);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Assuming you know how a <code>class</code> in another language work, I will make an analogy.</p>\n\n<p>Think like</p>\n\n<ul>\n<li>JavaScript <code>function</code> as a <code>constructor</code></li>\n<li><code>local variables</code> as <code>instance properties</code></li>\n<li>these <code>properties</code> are private</li>\n<li><code>inner functions</code> as <code>instance methods</code></li>\n</ul>\n\n<p>Everytime a <code>function</code> is called</p>\n\n<ul>\n<li>A new <code>object</code> containing all local variables will be created.</li>\n<li>Methods of this object have access to <code>\"properties\"</code> of that instance object.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Considering the question is about explaining it simply as if to a <strong>6-year old</strong>, my answer would be:</p>\n\n<p><strong>\"When you declare a function in javascript it has forever access to all the variables and functions that were available in the line before that function declaration. The function and all the outer variables and functions that it has access to is what we call a closure\"</strong></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h2><strong>Closures are simple:</strong></h2>\n\n<p>The following simple example covers all the main points of JavaScript closures.<sup>*</sup>\n&nbsp;</p>\n\n<p>Here is a factory that produces calculators that can add and multiply:</p>\n\n<pre><code>function make_calculator() {\n    var n = 0;  // this calculator stores a single number n\n    return {\n                  add : function (a) { n += a; return n; },\n             multiply : function (a) { n *= a; return n; }\n           };\n}\n\nfirst_calculator = make_calculator();\nsecond_calculator = make_calculator();\n\nfirst_calculator.add(3);                   // returns 3\nsecond_calculator.add(400);                // returns 400\n\nfirst_calculator.multiply(11);             // returns 33\nsecond_calculator.multiply(10);            // returns 4000\n</code></pre>\n\n<p><strong>The key point:</strong> Each call to <code>make_calculator</code> creates a new local variable <code>n</code>, which continues to be usable by that calculator's <code>add</code> and <code>multiply</code> functions long after <code>make_calculator</code> returns.</p>\n\n<p><em>If you are familiar with stack frames, these calculators seem strange: How can they keep accessing <code>n</code> after <code>make_calculator</code> returns?  The answer is to imagine that JavaScript doesn't use \"stack frames\", but instead uses \"heap frames\", which can persist after the function call that made them returns.</em></p>\n\n<p>Inner functions like <code>add</code> and <code>multiply</code>, which access variables declared in an outer function<sup>**</sup>, are called <em>closures</em>.</p>\n\n<p><strong>That is pretty much all there is to closures.</strong></p>\n\n<p><br></p>\n\n<hr>\n\n<p><sup><sup>*</sup> For example, it covers all the points in the \"Closures for Dummies\" article given in <a href=\"http://stackoverflow.com/a/111111/706054\">another answer</a>, except example 6, which simply shows that variables can be used before they are declared, a nice fact to know but completely unrelated to closures. It also covers all the points in <a href=\"http://stackoverflow.com/a/111200/706054\">the accepted answer</a>, except for the points (1) that functions copy their arguments into local variables (the named function arguments), and (2) that copying numbers creates a new number, but copying an object reference gives you another reference to the same object. These are also good to know but again completely unrelated to closures. It is also very similar to the example in <a href=\"http://stackoverflow.com/a/111114/706054\">this answer</a> but a bit shorter and less abstract. It does not cover the point of <a href=\"http://stackoverflow.com/a/17200991/706054\">this answer</a> or <a href=\"http://stackoverflow.com/questions/111102/how-do-javascript-closures-work/17308587?noredirect=1#comment26377355_111111\">this comment</a>, which is that JavaScript makes it difficult to plug the <em>current</em> value of a loop variable into your inner function: The \"plugging in\" step can only be done with a helper function that encloses your inner function and is invoked on each loop iteration. (Strictly speaking, the inner function accesses the helper function's copy of the variable, rather than having anything plugged in.) Again, very useful when creating closures, but not part of what a closure is or how it works. There is additional confusion due to closures working differently in functional languages like ML, where variables are bound to values rather than to storage space, providing a constant stream of people who understand closures in a way (namely the \"plugging in\" way) that is simply incorrect for JavaScript, where variables are always bound to storage space, and never to values. </sup></p>\n\n<p><sup><sup>**</sup> Any outer function, if several are nested, or even in the global context, as <a href=\"http://stackoverflow.com/a/5099447/706054\">this answer</a> points out clearly.</sup></p>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>A closure is basically creating two things :\n- a function\n- a private scope that only that function can access</p>\n\n<p>It is like putting some coating around a function.</p>\n\n<p>So to a 6-years-old, it could be explained by giving an analogy. Let's say I build a robot. That robot can do many things. Among those things, I programmed it to count the number of birds he sees in the sky. Each time he has seen 25 birds, he should tell me how many birds he has seen since the beginning.</p>\n\n<p>I don't know how many birds he has seen unless he has told me. Only he knows. That's the private scope. That's basically the robot's memory. Let's say I gave him 4&nbsp;GB.</p>\n\n<p>Telling me how many birds he has seen is the returned function. I also created that.</p>\n\n<p>That analogy is a bit sucky, but someone could improve it I guess.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The word <em>closure</em> simply refers to being able to access <em>objects</em> (six-year-old: things) that are <em>closed</em> (six-year-old: private) within a <em>function</em> (six-year-old: box). Even if the <em>function</em> (six-year-old: box) is out of <em>scope</em> (six-year-old: sent far away).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The more I think about closure the more I see it as a 2-step process: <strong>init - action</strong></p>\n\n<pre><code>init: pass first what's needed...\naction: in order to achieve something for later execution.\n</code></pre>\n\n<p>To a 6-year old, I'd emphasize on the practical aspect of closure:</p>\n\n<pre><code>Daddy: Listen. Could you bring mum some milk (2).\nTom: No problem.\nDaddy: Take a look at the map that Daddy has just made: mum is there and daddy is here. \nDaddy: But get ready first. And bring the map with you (1), it may come in handy\nDaddy: Then off you go (3). Ok?\nTom: A piece of cake!\n</code></pre>\n\n<p><strong>Example</strong>: <em>Bring some milk to mum (=action). First get ready and bring the map (=init).</em></p>\n\n<pre><code>function getReady(map) { \n    var cleverBoy = 'I examine the ' + map;\n    return function(what, who) {\n        return 'I bring ' + what + ' to ' + who + 'because + ' cleverBoy; //I can access the map\n    }\n}\nvar offYouGo = getReady('daddy-map');\noffYouGo('milk', 'mum');\n</code></pre>\n\n<p>Because you bring with you a very important piece of information (the map), you're enough knowledgeable to execute other similar actions:</p>\n\n<pre><code>offYouGo('potatoes', 'great mum');\n</code></pre>\n\n<p>To a developer I'd make a parallelism between closure and OOP. \nThe <strong>init phase</strong> is similar to passing arguments to a constructor in a traditional OO language; the <strong>action phase</strong> is ultimately the method you call to achieve what you want. And the method has access these init arguments using a mechanism called <em>closure</em>.</p>\n\n<p>See my another answer illustrating the parallelism between OO and closure:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1595611/how-to-properly-create-a-custom-object-in-javascript/21352366#21352366\">How to &quot;properly&quot; create a custom object in JavaScript?</a> </p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>How I'd explain it to a six-year-old:</p>\n\n<p>You know how grown-ups can own a house, and they call it home? When a mom has a child, the child doesn't really own anything, right? But its parents own a house, so whenever someone asks the child \"Where's your home?\", he/she can answer \"that house!\", and point to the house of its parents. A \"Closure\" is the ability of the child to always (even if abroad) be able to say it has a home, even though it's really the parent's who own the house. :-)</p>\n",
                    "is_accepted": false,
                    "score": 43
                },
                {
                    "body": "<h1>The simplest, shortest, most easy to understand answer:</h1>\n\n<p>A closure is a block of code where each line can reference the same set of variables with the same variable names. </p>\n\n<p>If \"this\" means something different than it does somewhere else, then you know it is two different closures.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you understand it well you can explain it simple. And the simplest way is abstracting it from the context. Code aside, even programming aside. A metaphor example will do it better.</p>\n\n<p>Let's imagine that a function is a room which wall are glass, but they are special glass, like the ones in an interrogation room. From outside they are opaque, from inside they are transparent. It can be rooms inside other rooms, and the only way of contact is a phone. If you call from outside, you don't know what is in it, but you know that the people inside will do a task if you give them certain information. They can see outside, so they can ask you for stuff that are outside and make changes to that stuff, but you can't change what it is inside from the outside, you don't even see (know) what it is inside. The people inside that room you are calling see what it is outside, but not what it is inside the rooms in that room, so they interact with them the way you are doing from outside. The people inside the most inner rooms can see many things, but the people of the most outer room  don't even know about the most inner rooms existence.</p>\n\n<p>For each call to an inner room, the people in that room keeps a record of the information about that specific call, and they are so good doing that that they never mistake one call stuff with other call stuff.</p>\n\n<p>Rooms are functions, visibility is scope, people doing task is statements, stuff are objects, phone calls are function calls, phone call information is arguments, call records are scope instances, the most outer room is the global object.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Even though many beautiful definitions of JavaScript closures exists on the Internet, I am trying to start explaining my six-year-old friend with my favourite definitions of closure which helped me to understand the closure much better.</p>\n\n<p><strong>What is a Closure?</strong></p>\n\n<p>A closure is an inner function that has access to the outer (enclosing) function\u2019s variables\u2014scope chain. The closure has three scope chains: it has access to its own scope (variables defined between its curly brackets), it has access to the outer function\u2019s variables, and it has access to the global variables.</p>\n\n<p>A closure is the local variables for a function - kept alive after the function has returned.</p>\n\n<p>Closures are functions that refer to independent (free) variables. In other words, the function defined in the closure 'remembers' the environment in which it was created in.</p>\n\n<p>Closures are an extension of the concept of scope. With closures, functions have access to variables that were available in the scope where the function was created.</p>\n\n<p>A closure is a stack-frame which is not deallocated when the function returns. (As if a 'stack-frame' were malloc'ed instead of being on the stack!)</p>\n\n<p>Languages such as Java provide the ability to declare methods private, meaning that they can only be called by other methods in the same class. JavaScript does not provide a native way of doing this, but it is possible to emulate private methods using closures.</p>\n\n<p>A \"closure\" is an expression (typically a function) that can have free variables together with an environment that binds those variables (that \"closes\" the expression).</p>\n\n<p>Closures are an abstraction mechanism that allow you to separate concerns very cleanly.</p>\n\n<p><strong>Uses of Closures:</strong></p>\n\n<p>Closures are useful in hiding the implementation of functionality while still revealing the interface.</p>\n\n<p>You can emulate the encapsulation concept in JavaScript using closures.</p>\n\n<p>Closures are used extensively in <a href=\"http://en.wikipedia.org/wiki/JQuery\" rel=\"nofollow\">jQuery</a> and <a href=\"http://en.wikipedia.org/wiki/Node.js\" rel=\"nofollow\">Node.js</a>.</p>\n\n<p>While object literals are certainly easy to create and convenient for storing data, closures are often a better choice for creating static singleton namespaces in a large web application.</p>\n\n<p><strong>Example of Closures:</strong></p>\n\n<p>Assuming my 6-year-old friend get to know addition very recently in his primary school, I felt this example of adding the two numbers would be the simplest and apt for the six-year-old to learn the closure.</p>\n\n<p><strong>Example 1: Closure is achieved here by returning a function.</strong></p>\n\n<pre><code>function makeAdder(x) {\n    return function(y) {\n        return x + y;\n    };\n}\n\nvar add5 = makeAdder(5);\nvar add10 = makeAdder(10);\n\nconsole.log(add5(2));  // 7\nconsole.log(add10(2)); // 12\n</code></pre>\n\n<p><strong>Example 2: Closure is achieved here by returning an object literal.</strong></p>\n\n<pre><code>function makeAdder(x) {\n    return {\n        add: function(y){\n            return x + y;\n        }\n    }\n}\n\nvar add5 = makeAdder(5);\nconsole.log(add5.add(2));//7\n\nvar add10 = makeAdder(10);\nconsole.log(add10.add(2));//12\n</code></pre>\n\n<p><strong>Example 3: Closures in jQuery</strong></p>\n\n<pre><code>$(function(){\n    var name=\"Closure is easy\";\n    $('div').click(function(){\n        $('p').text(name);\n    });\n});\n</code></pre>\n\n<p><strong>Useful Links:</strong></p>\n\n<ul>\n<li><em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\" rel=\"nofollow\">Closures</a></em> (Mozilla Developer Network)</li>\n<li><em><a href=\"http://javascriptissexy.com/understand-javascript-closures-with-ease/\" rel=\"nofollow\">Understand JavaScript Closures With Ease</a></em></li>\n</ul>\n\n<p>Thanks to the above links which helps me to understand and explain closure better.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I have read all of these before in the past, and they are all very informative. Some come very close to getting the simple explanation and then get complex or remain abstract, defeating the purpose and failing to show a very simple real world use. </p>\n\n<p>Though combing through all the examples and explanations you get a good idea of what closures are and aren't via comments and code, I was still unsatisfied with a very simple illustration that helped me get a closures usefulness without getting so complex. My wife wants to learn coding and I figured I needed to be able to show here not only what, but why, and and how.</p>\n\n<p>I am not sure a six year old will get this, but I think it might be a little closer to demonstrating a simple case in a real world way that might acually be useful and that is easily understandable.</p>\n\n<p>One of the best (or closest to simplest) is the retelling of Morris' Closures for Dummies example.</p>\n\n<p>Taking the \"SayHi2Bob\" concept just one step further demonstrates the two basic things you can glean from reading all the answers:</p>\n\n<ol>\n<li>Closures have access to the containing function's variables.</li>\n<li>Closures persist in their own memory space (and thus are useful for all kinds of oop-y instantiation stuff)</li>\n</ol>\n\n<p>Proving and demonstrating this to myself, I made a little fiddle:</p>\n\n<p><a href=\"http://jsfiddle.net/9ZMyr/2/\" rel=\"nofollow\">http://jsfiddle.net/9ZMyr/2/</a></p>\n\n<pre><code>function sayHello(name) {\n  var text = 'Hello ' + name; // Local variable\n  console.log(text);\n  var sayAlert = function () {\n      alert(text);\n  }\n  return sayAlert;\n}\n\nsayHello(); \n/* This will write 'Hello undefined' to the console (in Chrome anyway), \nbut will not alert though since it returns a function handle to nothing). \nSince no handle or reference is created, I imagine a good js engine would \ndestroy/dispose of the internal sayAlert function once it completes. */\n\n// Create a handle/reference/instance of sayHello() using the name 'Bob'\nsayHelloBob = sayHello('Bob');\nsayHelloBob();\n\n// Create another handle or reference to sayHello with a different name\nsayHelloGerry = sayHello('Gerry');\nsayHelloGerry();\n\n/* Now calling them again demonstrates that each handle or reference contains its own \nunique local variable memory space. They remain in memory 'forever' \n(or until your computer/browser explode) */\nsayHelloBob();\nsayHelloGerry();\n</code></pre>\n\n<p>This demonstrates both of the basic concepts you should get about closures. </p>\n\n<p>In simple terms to explain the why this is useful, I have a base function to which I can make references or handles that contain unique data which persists within that memory reference. I don't have to rewrite the function for each time I want to say someone's name. I have encapsulated that routine and made it reusable.</p>\n\n<p>To me this leads to at least the basic concepts of constructors, oop practices, singletons vs instantiated instances with their own data, etc. etc.</p>\n\n<p>If you start a neophyte with this, then you can move on to more complex object property/member based calls, and hopefully the concepts carry.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A closure is created when the inner function is somehow made available to any scope outside the outer function.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>var outer = function(params){ //Outer function defines a variable called params\n    var inner = function(){ // Inner function has access to the params variable of the outer function\n        return params;\n    }\n    return inner; //Return inner function exposing it to outer scope\n},\nmyFunc = outer(\"myParams\");\nmyFunc(); //Returns \"myParams\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Closure is a reusable function:\nIt seems also that you have learnt some languages where closures are available.</p>\n\n<p>So let's us see the equivalence between closures of <a href=\"http://en.wikipedia.org/wiki/Groovy_%28programming_language%29\" rel=\"nofollow\">Groovy</a> (for example) and closures of JavaScript.</p>\n\n<p><img src=\"http://i.stack.imgur.com/i1i9R.png\" alt=\"Enter image description here\"></p>\n\n<h2>How to use:</h2>\n\n<ol>\n<li><p>Groovy:</p>\n\n<pre><code>[1,2,3].myEach{e-&gt;println e+3;}\n</code></pre></li>\n<li><p>JavaScript:</p>\n\n<pre><code>var list=[1,2,3].myEach(function(e){console.log(e+3);})\n</code></pre></li>\n</ol>\n\n<p><strong>For Fiddling:</strong></p>\n\n<ol>\n<li><p>Groovy:</p>\n\n<p><em><a href=\"http://groovyconsole.appspot.com/script/2965001\" rel=\"nofollow\">Closure such as JS</a></em></p></li>\n<li><p>JavaScript:</p>\n\n<p><a href=\"http://jsfiddle.net/abdennour/kXtf4/1/\" rel=\"nofollow\">http://jsfiddle.net/abdennour/kXtf4/1/</a> (jsFiddle)</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>Closure is when a function is <strong>closed</strong> in a way that it was defined in a namespace which is immutable by the time the function is called.</p>\n\n<p>In JavaScript, it happens when you:</p>\n\n<ul>\n<li>Define one function inside the other function</li>\n<li>The inner function is called after the outer function returned</li>\n</ul>\n\n\n\n<pre><code>// 'name' is resolved in the namespace created for one invocation of bindMessage\n// the processor cannot enter this namespace by the time displayMessage is called\nfunction bindMessage(name, div) {\n\n    function displayMessage() {\n        alert('This is ' + name);\n    }\n\n    $(div).click(displayMessage);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think it is valuable to take a step back, and examine a more general notion of a \"closure\" -- the so-called \"join operator\".</p>\n\n<p>In mathematics, a \"join\" operator is a function on a partially ordered set which returns the smallest object greater than or equal to its arguments.  In symbols, join [a,b] = d such that d >= a and d >= b, but there does not exist an e such that d > e >= a or d > e >= b.</p>\n\n<p>So the join gives you the smallest thing \"bigger\" than the parts.</p>\n\n<p>Now, note that JavaScript scopes are a partially ordered structure.  So that there is a sensible notion of a join.  In particular, a join of scopes is the smallest scope bigger than the original scopes.  That scope is called the <strong>closure</strong>.</p>\n\n<p>So a closure for the variables a, b, c is the smallest scope (in the lattice of scopes for your program!) that brings a, b, and c into scope.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A closure is a block of code which meets three criteria:</p>\n\n<ul>\n<li><p>It can be passed around as a value and</p></li>\n<li><p>executed on demand by anyone who has that value, at which time</p></li>\n<li><p>it can refer to variables from the context in which it was created\n(that is, it is closed with respect to variable access, in the\nmathematical sense of the word \"closed\").</p></li>\n</ul>\n\n<p>(The word \"closure\" actually has an imprecise meaning, and some people don't think that criterion #1 is part of the definition. I think it is.)</p>\n\n<p>Closures are a mainstay of functional languages, but they are present in many other languages as well (for example, Java's anonymous inner classes). You can do cool stuff with them: they allow deferred execution and some elegant tricks of style.</p>\n\n<p>By: Paul Cantrell, @ <a href=\"http://innig.net/software/ruby/closures-in-ruby\" rel=\"nofollow\">http://innig.net/software/ruby/closures-in-ruby</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Imagine there is a very large park in your town where see a magician called Mr. Coder starting baseball games in different corners of the park using his magic wand, called JavaScript.</p>\n\n<p>Naturally each baseball game has the exact same rules and each game has its own score board.</p>\n\n<p>Naturally, the scores of one baseball game are completely separate from the other games.</p>\n\n<p>A closure is the special way Mr.Coder keeps the scoring of all his magical baseball games separate.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a simple real time scenario, Just read it through and you will understand how we have used closure here.</p>\n\n<p>all other examples explained above are also very good to understand the concept.</p>\n\n<pre><code>function movieBooking(movieName) {\n    var bookedSeatCount = 0 ;\n    return function(name) {\n                ++bookedSeatCount ;\n            alert( name + \" - \" + movieName + \", Seat - \" + bookedSeatCount )\n    };\n};\n\nvar MI1 = movieBooking(\"Mission Impossible 1 \") ; \nvar MI2 = movieBooking(\"Mission Impossible 2 \") ; \n\nMI1(\"Mayur\");\n// alert \n// Mayur - Mission Impossible 1, Seat - 1 \n\nMI1(\"Raju\");\n// alert \n// Raju - Mission Impossible 1, Seat - 2 \n\nMI2(\"Priyanka\");\n// alert \n// Raja - Mission Impossible 2, Seat - 1 \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As a father of a 6 year old, currently teaching young children (and a relative novice to coding with no formal education so corrections will be required) I think the lesson would stick best through hands-on play. If the 6 year old is ready to understand what a closure is, then they are old enough to have a go themselves. I'd suggest pasting the code into jsfiddle.net, explaining a bit, and leaving them alone to concoct a unique song. The explanatory text below is probably more appropriate for a 10 year old.</p>\n\n<pre><code>    function sing(person) {\n\n        var firstPart = \"There was \" + person + \" who swallowed \";\n\n        var fly = function() {\n            var creature = \"a fly\";\n            var result = \"Perhaps she'll die\";\n            alert( firstPart + creature + \"\\n\" + result );\n        };\n\n        var spider = function() {\n            var creature = \"a spider\";\n            var result = \"that wiggled and jiggled and tickled inside her\";\n            alert( firstPart + creature + \"\\n\" + result );\n        };\n\n        var bird = function() {\n            var creature = \"a bird\";\n            var result = \"How absurd!\";\n            alert( firstPart + creature + \"\\n\" + result );\n        };    \n\n        var cat = function() {\n            var creature = \"a cat\";\n            var result = \"Imagine That!\";\n            alert( firstPart + creature + \"\\n\" + result );\n        };    \n\n        fly();\n        spider();\n        bird();\n        cat();\n\n    }\n\n    var person=\"an old lady\";\n\n   sing( person );\n</code></pre>\n\n<p><strong>INSTRUCTIONS</strong></p>\n\n<p>DATA: Data is a collection of facts. It can be numbers, words, measurements, observations or even just descriptions of things. You can't touch it, smell it or taste it. You can write it down, speak it and hear it. You could use it to <em>create</em> touch smell and taste using a computer. It can be made useful by a computer using code.</p>\n\n<p>CODE: All the writing above is called <em>code</em>. It is written in JavaScript.</p>\n\n<p>JAVASCRIPT: JavaScript is a language. Like English or French or Chinese are languages. There are lots of languages that are understood by computers and other electronic processors. For Javascript to be understood by a computer it needs an interpreter. Imagine if a teacher who only speaks Russian comes to teach your class at school. When the teacher says \"\u0432\u0441\u0435 \u0441\u0430\u0434\u044f\u0442\u0441\u044f\", the class would not understand. But luckily you have a Russian pupil in your class who tells everyone this means \"everybody sit down\" - so you all do. The class is like a computer and the Russian pupil is the interpreter. For JavaScript the most common interpreter is called a browser.</p>\n\n<p>BROWSER: When you connect to the Internet on a computer, tablet or phone to visit a website, you use a browser. Examples you may know are Internet Explorer, Chrome, Firefox and Safari. The browser can understand JavaScript and tell the computer what it needs to do. The JavaScript instructions are called functions.</p>\n\n<p>FUNCTION: A function in JavaScript is like a factory. It might be a little factory with only one machine inside. Or it might contain many other little factories, each with many machines doing different jobs. In a real life clothes factory you might have reams of cloth and bobbins of thread going in and t-shirts and jeans coming out. Our JavaScript factory only processes data, it can't sew, drill a hole or melt metal. In our JavaScript factory data goes in and data comes out. </p>\n\n<p>All this data stuff sounds a bit boring but is really very cool; we might have a function that tells a robot what to make for dinner. Lets say I invite you and your friend to my house. You like chicken legs best, I like sausages, your friend always wants what you want and my friend does not eat meat. I haven't got time to go shopping, so the function needs to know what we have in the fridge to make decisions. Each ingredient has a different cooking time and we want everything to be served hot by the robot at the same time. We need to provide the function with the data about what we like, the function could 'talk' to the fridge, and the function could control the robot.</p>\n\n<p>A function normally has a name, parentheses and braces. Like this: </p>\n\n<pre><code>function cookMeal(){    /*STUFF INSIDE THE FUNCTION*/    }\n</code></pre>\n\n<p><em>note that <code>/*...*/</code> and <code>//</code> stop code being read by the browser</em></p>\n\n<p>NAME: You can call a function just about whatever word you want. The example \"cookMeal\" is typical in joining two words together and giving the scond one a capital letter at the beginning - but this is not necessary. It can't have a space in it, and it can't be a number on its own.</p>\n\n<p>PARENTHESES: \"Parentheses\" or <code>()</code> are the letter box on the JavaScript function factory's door or a post box in the street for sending packets of information to the factory. Sometimes the postbox might be marked <em>eg</em> <code>cookMeal( you, me, yourFriend, myFriend, fridge, dinnerTime )</code> , in which case you know what data you have to give it.</p>\n\n<p>BRACES: \"Braces\" which look like this <code>{}</code> are the tinted windows of our factory. From inside the factory you can see out, but from the outside you can't see in.</p>\n\n<p><strong>THE LONG CODE EXAMPLE ABOVE</strong> </p>\n\n<p>Our code begins with the word <em>function</em>, so we know that it is one! Then the name of the function <em>sing</em> - that's my own description of what the function is about. Then parentheses <em>()</em>. The parentheses are always there for a function. Sometimes they are empty, and sometimes they have something in. This one has a word in: <code>( person )</code>. After this there is a brace like this <code>{</code> . This marks the start of the function <em>sing()</em>. It has a partner which marks the end of <em>sing()</em> like this <code>}</code> </p>\n\n<pre><code>function sing( person ){    /*STUFF INSIDE THE FUNCTION*/    }\n</code></pre>\n\n<p>So this function might have something to do with singing, and might need some data about a person. It has instructions inside to do something with that data.</p>\n\n<p>Now, after the function <em>sing()</em>, near the end of the code is the line      </p>\n\n<pre><code>var person=\"an old lady\";\n</code></pre>\n\n<p>VARIABLE: The letters <em>var</em> stand for \"variable\". A variable is like an envelope. On the outside this envelope is marked \"person\". On the inside it contains a slip of paper with the information our function needs, some letters and spaces joined together like a piece of string (its called a string) that make a phrase reading \"an old lady\". Our envelope could contain other kinds of things like numbers (called integers), instructions (called functions), lists (called <em>arrays</em>). Because this variable is written outside of all the braces <code>{}</code>, and because you can see out through the tinted windows when you are inside the braces, this variable can be seen from anywhere in the code. We call this a 'global variable'.</p>\n\n<p>GLOBAL VARIABLE: <em>person</em> is a global variable, meaning that if you change its value from \"an old lady\" to \"a young man\", the <em>person</em> will keep being a young man until you decide to change it again and that any other function in the code can see that it's a young man. Press the F12 button or look at the Options settings to open the developer console of a browser and type \"person\" to see what this value is. Type <code>person=\"a young man\"</code> to change it and then type \"person\" again to see that it has changed.</p>\n\n<p>After this we have the line </p>\n\n<pre><code>sing( person );\n</code></pre>\n\n<p>This line is calling the function, as if it were calling a dog </p>\n\n<blockquote>\n  <p>\"Come on <em>sing</em>, Come and get <em>person</em>!\"</p>\n</blockquote>\n\n<p>When the browser has loaded the JavaScript code an reached this line, it will start the function. I put the line at the end to make sure that the browser has all the information it needs to run it.</p>\n\n<p>Functions define actions  - the main function is about singing. It contains a variable called <em>firstPart</em> which applies to the singing about the person that applies to each of the verses of the song: \"There was \" + person + \" who swallowed\". If you type <em>firstPart</em> into the console, you won't get an answer because the variable is locked up in a function - the browser can't see inside the tinted windows of the braces.</p>\n\n<p>CLOSURES: The closures are the smaller functions that are inside the big <em>sing()</em> function. The little factories inside the big factory. They each have their own braces which mean that the variables inside them can't be seen from the outside. Thats why the names of the variables (<em>creature</em> and <em>result</em>) can be repeated in the closures but with different values. If you type these variable names in the console window, you won't get its value because it's hidden by two layers of tinted windows.</p>\n\n<p>The closures all know what the <em>sing()</em> function's variable called <em>firstPart</em> is, because they can see out from their tinted windows.</p>\n\n<p>After the closures come the lines</p>\n\n<pre><code>    fly();\n    spider();\n    bird();\n    cat();\n</code></pre>\n\n<p>The sing() function will call each of these functions in the order they are given. Then the sing() function's work will be done.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><em>In javascript Closures are awesome ,where variables or arguments are available to inner functions and they will be alive even after the outer functions has returned .</em> </p>\n\n<pre><code> function getFullName(a, b) {\n      return a + b;\n  }\n\n  function makeFullName(fn) {\n\n      return function(firstName) {\n\n          return function(secondName) {\n\n              return fn(firstName, secondName);\n\n          }\n\n      }\n  }\n\nmakeFullName(getFullName)(\"stack\")(\"overflow\"); // stackoverflow\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>maybe you should consider about object oriented structure instead of inner functions. eg:</p>\n\n<pre><code>var calculate = {\n    number: 0,\n    init: function (num) {\n        this.number = num;\n    },\n    add: function (val) {\n        this.number += val;\n    },\n    rem: function (val) {\n        this.number -= val;\n    }\n};\n</code></pre>\n\n<p>and read result from calculate.number variable, who needs \"return\" anyway.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>I do not understand why the answers are so complex here.</strong></p>\n\n<p>Here is a closure:</p>\n\n<pre><code>var a = 42;\n\nfunction b() { return a; }\n</code></pre>\n\n<p>Yes. You probably use that many times a day.</p>\n\n<p><br></p>\n\n<blockquote>\n  <p>There is no reason to believe closures are a complex design hack to address specific problems. No, closures are just about using a variable that comes from a higher scope <strong>from the perspective of where the function was declared (not run)</strong>.</p>\n  \n  <p>Now what it <em>allows</em> you to do can be more spectacular, see other answers.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Perhaps a little beyond all but the most precocious of six-year-olds, but a few examples that helped make the concept of closure in JavaScript click for me.</p>\n\n<p>A closure is a function that has access to another function's scope (its variables and functions). The easiest way to create a closure is with a function within a function; the reason being that in JavaScript a function always has access to its containing function\u2019s scope.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function outerFunction() {\r\n    var outerVar = \"monkey\";\r\n    \r\n    function innerFunction() {\r\n        alert(outerVar);\r\n    }\r\n    \r\n    innerFunction();\r\n}\r\n\r\nouterFunction();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>ALERT: monkey</p>\n\n<p>In the above example, outerFunction is called which in turn calls innerFunction. Note how outerVar is available to innerFunction, evidenced by its correctly alerting the value of outerVar.</p>\n\n<p>Now consider the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function outerFunction() {\r\n    var outerVar = \"monkey\";\r\n    \r\n    function innerFunction() {\r\n        return outerVar;\r\n    }\r\n    \r\n    return innerFunction;\r\n}\r\n\r\nvar referenceToInnerFunction = outerFunction();\r\nalert(referenceToInnerFunction());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>ALERT: monkey</p>\n\n<p>referenceToInnerFunction is set to outerFunction(), which simply returns a reference to innerFunction. When referenceToInnerFunction is called, it returns outerVar. Again, as above, this demonstrates that innerFunction has access to outerVar, a variable of outerFunction. Furthermore, it is interesting to note that it retains this access even after outerFunction has finished executing.</p>\n\n<p>And here is where things get really interesting. If we were to get rid of outerFunction, say set it to null, you might think that referenceToInnerFunction would loose its access to the value of outerVar. But this is not the case. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function outerFunction() {\r\n    var outerVar = \"monkey\";\r\n    \r\n    function innerFunction() {\r\n        return outerVar;\r\n    }\r\n    \r\n    return innerFunction;\r\n}\r\n\r\nvar referenceToInnerFunction = outerFunction();\r\nalert(referenceToInnerFunction());\r\n\r\nouterFunction = null;\r\nalert(referenceToInnerFunction());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>ALERT: monkey\nALERT: monkey</p>\n\n<p>But how is this so? How can referenceToInnerFunction still know the value of outerVar now that outerFunction has been set to null?</p>\n\n<p>The reason that referenceToInnerFunction can still access the value of outerVar is because when the closure was first created by placing innerFunction inside of outerFunction, innerFunction added a reference to outerFunction\u2019s scope (its variables and functions) to its scope chain. What this means is that innerFunction has a pointer or reference to all of outerFunction\u2019s variables, including outerVar. So even when outerFunction has finished executing, or even if it is deleted or set to null, the variables in its scope, like outerVar, stick around in memory because of the outstanding reference to them on the part of the innerFunction that has been returned to referenceToInnerFunction. To truly release outerVar and the rest of outerFunction\u2019s variables from memory you would have to get rid of this outstanding reference to them, say by setting referenceToInnerFunction to null as well.</p>\n\n<p>//////////</p>\n\n<p>Two other things about closures to note. First, the closure will always have access to the last values of its containing function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function outerFunction() {\r\n    var outerVar = \"monkey\";\r\n    \r\n    function innerFunction() {\r\n        alert(outerVar);\r\n    }\r\n    \r\n    outerVar = \"gorilla\";\r\n\r\n    innerFunction();\r\n}\r\n\r\nouterFunction();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>ALERT: gorilla</p>\n\n<p>Second, when a closure is created, it retains a reference to all of its enclosing function\u2019s variables and functions; it doesn\u2019t get to pick and choose. And but so, closures should be used sparingly, or at least carefully, as they can be memory intensive; a lot of variables can be kept in memory long after a containing function has finished executing.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Like the old <a href=\"http://en.wikipedia.org/wiki/Albert_Einstein\">Albert Einstein</a> <a href=\"http://www.searchquotes.com/quotation/If_you_can%27t_explain_it_to_a_six_year_old,_you_don%27t_understand_it_yourself./333069/\">said</a>: </p>\n\n<blockquote>\n  <p>If you can't explain it to a six-year-old, you really don't understand it yourself.  </p>\n</blockquote>\n\n<p>Well, I tried to explain JavaScript closures to a 27-year-old friend and completely failed.</p>\n\n<p>How would you explain it to someone with a knowledge of the concepts which make up closures (for example, functions, variables and the like), but does not understand closures themselves?</p>\n\n<p>I have seen <a href=\"http://en.wikipedia.org/wiki/Scheme_%28programming_language%29\">the Scheme example</a> given on Stack Overflow, and it did not help.</p>\n",
            "last_activity_date": 1425319697,
            "question_id": 111102,
            "score": 3500,
            "tags": [
                "javascript",
                "closures"
            ],
            "title": "How do JavaScript closures work?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<h2>Preliminaries</h2>\n\n<p>JavaScript has only one data type which can contain multiple values: <strong>Object</strong>. An <strong>Array</strong> is a special form of object.</p>\n\n<p>Both arrays and objects expose a <code>key -&gt; value</code> structure. Keys in an array must be numeric, whereas any string can be used as key in objects. The key-value pairs are also called the <strong>\"properties\"</strong>.</p>\n\n<p>Properties can be accessed either using <strong>dot notation</strong></p>\n\n<pre><code>var value = obj.someProperty;\n</code></pre>\n\n<p>or <strong>bracket notation</strong>, if the property name would not be a valid JavaScript <a href=\"http://es5.github.com/#x7.6\">identifier name <em><sup>[spec]</sup></em></a>, or the name is the value of a variable:</p>\n\n<pre><code>// the space is not a valid character in identifier names\nvar value = obj[\"some Property\"];\n\n// property name as variable\nvar name = \"some Property\";\nvar value = obj[name];\n</code></pre>\n\n<p>For that reason, array elements can only be accessed using bracket notation:</p>\n\n<pre><code>var value = arr[5]; // arr.5 would be a syntax error\n\n// property name / index as variable\nvar x = 5;\nvar value = arr[x];\n</code></pre>\n\n<h3>Wait... what about JSON?</h3>\n\n<p>JSON is a textual representation of data, just like XML, YAML, CSV, and others. To work with such data, it first has to be converted to JavaScript data types, i.e. arrays and objects (and how to work with those was just explained). How to parse JSON is explained in the question <a href=\"http://stackoverflow.com/questions/4935632/how-to-parse-json-in-javascript\">How to parse JSON in JavaScript</a> .</p>\n\n<hr>\n\n<h2>Accessing nested data structures</h2>\n\n<p>A nested data structure is an array or object which refers to other arrays or objects, i.e. its values are arrays or objects. Such structures can be accessed by consecutively applying dot or bracket notation. </p>\n\n<p>Here is an example:</p>\n\n<pre><code>var data = {\n    code: 42,\n    items: [{\n        id: 1,\n        name: 'foo'\n    }, {\n        id: 2,\n        name: 'bar'\n    }]\n};\n</code></pre>\n\n<p>Let's assume we want to access the <code>name</code> of the second item. </p>\n\n<p>Here is how we can do it step-by-step:</p>\n\n<p>As we can see <code>data</code> is an object, hence we can access its properties using dot notation. The <code>items</code> property is accessed as follows:</p>\n\n<pre><code>data.items\n</code></pre>\n\n<p>The value is an array, to access its second element, we have to use bracket notation:</p>\n\n<pre><code>data.items[1]\n</code></pre>\n\n<p>This value is an object and we use dot notation again to access the <code>name</code> property. So we eventually get:</p>\n\n<pre><code>var item_name = data.items[1].name;\n</code></pre>\n\n<p>Alternatively, we could have used bracket notation for any of the properties, especially if the name contained characters that would have made it invalid for dot notation usage:</p>\n\n<pre><code>var item_name = data['items'][1]['name'];\n</code></pre>\n\n<h3>I'm trying to access a property but I get only <code>undefined</code> back?</h3>\n\n<p>Most of the time when you are getting <code>undefined</code>, the object/array simply doesn't have a property with that name.</p>\n\n<pre><code>var foo = {bar: {baz: 42}};\nconsole.log(foo.baz); // undefined\n</code></pre>\n\n<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/DOM/console.log\"><code>console.log</code></a> or <a href=\"https://developer.mozilla.org/en-US/docs/DOM/console.dir\"><code>console.dir</code></a> and inspect the structure of object / array. The property you are trying to access might be actually defined on a nested object / array.</p>\n\n<pre><code>console.log(foo.bar.baz); // 42\n</code></pre>\n\n<h3>What if the property names are dynamic and I don't know them beforehand?</h3>\n\n<p>If the property names are unknown or we want to access all properties of an object / elements of an array, we can use the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in\"><code>for...in</code> <em><sup>[MDN]</sup></em></a> loop for objects and the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for\"><code>for</code> <em><sup>[MDN]</sup></em></a> loop for arrays to iterate over all properties / elements.</p>\n\n<p>To iterate over all properties of <code>data</code>, we can iterate over the <strong>object</strong> like so:</p>\n\n<pre><code>for(var prop in data) {\n    // `prop` contains the name of each property, i.e. `'code'` or `'items'`\n    // consequently, `data[prop]` refers to the value of each property, i.e.\n    // either `42` or the array\n}\n</code></pre>\n\n<p>Depending on where the object comes from (and what you want to do), you might have to test in each iteration whether the property is really a property of the object, or it is an inherited property. You can do this with <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\"><code>Object#hasOwnProperty</code> <em><sup>[MDN]</sup></em></a>.</p>\n\n<p>To iterate over all elements of the <code>data.items</code> <strong>array</strong>, we use a <code>for</code> loop:</p>\n\n<pre><code>for(var i = 0, l = data.items.length; i &lt; l; i++) {\n    // `i` will take on the values `0`, `1`, `2`,..., i.e. in each iteration\n    // we can access the next element in the array with `data.items[i]`, example:\n    // \n    // var obj = data.items[i];\n    // \n    // Since each element is an object (in our example),\n    // we can now access the objects properties with `obj.id` and `obj.name`. \n    // We could also use `data.items[i].id`.\n}\n</code></pre>\n\n<p>One could also use <code>for...in</code> to iterate over arrays, but there are reasons why this should be avoided: <a href=\"http://stackoverflow.com/questions/2265167/why-is-forvar-item-in-list-with-arrays-considered-bad-practice-in-javascript\">Why is &#39;for(var item in list)&#39; with arrays considered bad practice in JavaScript?</a>.</p>\n\n<p>With the increasing browser support of ECMAScript 5, the array method <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\"><code>forEach</code> <em><sup>[MDN]</sup></em></a> becomes an interesting alternative as well:</p>\n\n<pre><code>data.items.forEach(function(value, index, array) {\n    // The callback is executed for each element in the array.\n    // `value` is the element itself (equivalent to `array[index]`)\n    // `index` will be the index of the element in the array\n    // `array` is a reference to the array itself (i.e. `data.items` in this case)\n}); \n</code></pre>\n\n<h3>What if the \"depth\" of the data structure is unknown to me?</h3>\n\n<p>In addition to unknown keys, the \"depth\" of the data structure (i.e. how many nested objects per array) it has, might be unknown as well. How to access deeply nested properties depends on the exact data structure, then?</p>\n\n<p>If the data structure contains repeating structures, e.g. the representation of a binary tree, the solution typically includes to <a href=\"https://en.wikipedia.org/wiki/Recursion_%28computer_science%29\"><strong>recursively</strong> <em><sup>[Wikipedia]</sup></em></a> access each level of the data structure.</p>\n\n<p>Here is an example to get the first leaf node of a binary tree:</p>\n\n<pre><code>function getLeaf(node) {\n    if (node.leftChild) {\n        return getLeaf(node.leftChild); // &lt;- recursive call\n    }\n    else if (node.rightChild) {\n        return getLeaf(node.rightChild); // &lt;- recursive call\n    }\n    else { // node must be a leaf node\n        return node;\n    }\n}\n\nvar first_leaf = getLeaf(root);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/fkling/CW5KW/\"><strong>DEMO</strong></a></p>\n\n<p>A more generic way to access a nested data structure with unknown keys and depth is to test the type of the value and act accordingly.</p>\n\n<p>Here is an example which adds all primitive values inside a nested data structure into an array (assuming it does not contain any functions). If we encounter an object (or array) we simply call <code>toArray</code> again on that value (recursive call).</p>\n\n<pre><code>function toArray(obj) {\n    var result = [];\n    for (var prop in obj) {\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            result.push(toArray(value)); // &lt;- recursive call\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/fkling/c5K3r/\"><strong>DEMO</strong></a></p>\n\n<hr>\n\n<h2>Helpers</h2>\n\n<p>Since the structure of a complex object or array is not necessarily obvious, we can inspect the value at each step to decide how to move further. <a href=\"https://developer.mozilla.org/en-US/docs/DOM/console.log\"><code>console.log</code> <em><sup>[MDN]</sup></em></a> and <a href=\"https://developer.mozilla.org/en-US/docs/DOM/console.dir\"><code>console.dir</code> <em><sup>[MDN]</sup></em></a> help us doing this. For example (output of the Chrome console):</p>\n\n<pre><code>&gt; console.log(data.items)\n [ Object, Object ]\n</code></pre>\n\n<p>Here we see that that <code>data.items</code> is an array with two elements which are both objects. In Chrome console the objects can even be expanded and inspected immediately.</p>\n\n<pre><code>&gt; console.log(data.items[1])\n  Object\n     id: 2\n     name: \"bar\"\n     __proto__: Object\n</code></pre>\n\n<p>This tells us that <code>data.items[1]</code> is an object, and after expanding it we see that it has three properties, <code>id</code>, <code>name</code> and <code>__proto__</code>. The latter is an internal property used for the prototype chain of the object. The prototype chain and inheritance is out of scope for this answer, though.</p>\n\n<hr>\n\n<h2>Further reading material</h2>\n\n<p>How to access arrays and objects is basic JavaScript knowledge and therefore it is advisable to read the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide\">MDN JavaScript Guide</a>, especially the sections</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Working_with_Objects\">Working with Objects</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Predefined_Core_Objects#Array_Object\">Arrays</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 253
                },
                {
                    "body": "<p>You can access it this way</p>\n\n<pre><code>data.items[1].name\n</code></pre>\n\n<p>or</p>\n\n<pre><code>data[\"items\"][1][\"name\"]\n</code></pre>\n\n<p>Both ways are equal.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>In case you're trying to access an <code>item</code> from the example structure by <code>id</code> or <code>name</code>, without knowing it's position in the array, the easiest way to do it would be to use <a href=\"http://underscorejs.org/\" rel=\"nofollow\">underscore.js</a> library:</p>\n\n<pre><code>var data = {\n    code: 42,\n    items: [{\n        id: 1,\n        name: 'foo'\n    }, {\n        id: 2,\n        name: 'bar'\n    }]\n};\n\n_.find(data.items, function(item) {\n  return item.id === 2;\n});\n// Object {id: 2, name: \"bar\"}\n</code></pre>\n\n<p>From my experience, using higher order functions instead of <code>for</code> or <code>for..in</code> loops results in code that is easier to reason about, and hence more maintainable.</p>\n\n<p>Just my 2 cents.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In my opinion, your true need is looking for the item with id '1' or with name 'foo'. If I guess right, <strong><a href=\"https://github.com/dabeng/JSON-Loop\" rel=\"nofollow\">JSON-Loop</a></strong> will help you a lot.Here's the <strong><a href=\"http://dabeng.github.io/JSON-Loop/\" rel=\"nofollow\">DEMO</a></strong> Page.The following is core code snippets:</p>\n\n<pre><code>var jsonloop = new JSONLoop(data, 'id', 'items');\n// find the item object with name 'foo'\njsonloop.findNodes(data, {'name': 'foo'}, function(err, nodes) {\n  nodes.forEach(function(node) {\n    console.dir(node);\n  });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using <strong>JSONPath</strong> would be one of the most flexible solutions if you are willing to include a library:\n<a href=\"https://github.com/s3u/JSONPath\" rel=\"nofollow\">https://github.com/s3u/JSONPath</a> (node and browser)</p>\n\n<p>For your use case the json path would be:</p>\n\n<pre><code>$..items[1].name\n</code></pre>\n\n<p>so:</p>\n\n<pre><code>var secondName = jsonPath.eval(data, \"$..items[1].name\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>At times, accessing a nested object using a string can be desirable. The simple approach is the first level, for example</p>\n\n<pre><code>var obj = { hello: \"world\" };\nvar key = \"hello\";\nalert(obj[key]);//world\n</code></pre>\n\n<p>But this is often not the case with complex json. As json becomes more complex, the approaches for finding values inside of the json also become complex. A recursive approach for navigating the json is best, and how that recursion is leveraged will depend on the type of data being searched for. If there are conditional statements involved, a <a href=\"http://stackoverflow.com/a/11657379/1026459\">json search</a> can be a good tool to use.</p>\n\n<p>If the property being accessed is already known, but the path is complex, for example in this object</p>\n\n<pre><code>var obj = {\n arr: [\n    { id: 1, name: \"larry\" },    \n    { id: 2, name: \"curly\" },\n    { id: 3, name: \"moe\" }\n ]\n};\n</code></pre>\n\n<p>And you know you want to get the first result of the array in the object, perhaps you would like to use</p>\n\n<pre><code>var moe = obj[\"arr[0].name\"];\n</code></pre>\n\n<p>However, that will cause an exception as there is no property of object with that name. The solution to be able to use this would be to flatten the tree aspect of the object. This can be done recursively.</p>\n\n<pre><code>function flatten(obj){\n var root = {};\n (function tree(obj, index){\n   var suffix = toString.call(obj) == \"[object Array]\" ? \"]\" : \"\";\n   for(var key in obj){\n    if(!obj.hasOwnProperty(key))continue;\n    root[index+key+suffix] = obj[key];\n    if( toString.call(obj[key]) == \"[object Array]\" )tree(obj[key],index+key+suffix+\"[\");\n    if( toString.call(obj[key]) == \"[object Object]\" )tree(obj[key],index+key+suffix+\".\");   \n   }\n })(obj,\"\");\n return root;\n}\n</code></pre>\n\n<p>Now, the complex object can be flattened</p>\n\n<pre><code>var obj = previous definition;\nvar flat = flatten(obj);\nvar moe = flat[\"arr[0].name\"];//moe\n</code></pre>\n\n<p>Here is a <strong><em><a href=\"http://jsfiddle.net/73172hr0/\" rel=\"nofollow\"><code>jsFiddle Demo</code></a></em></strong> of this approach being used.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It sounds like you simply want to extract data from the JSON source via any means.  A solution to your problem which doesn't involve javascript is to use a JSON to CSV converter such as:</p>\n\n<p><a href=\"https://json-csv.com\" rel=\"nofollow\">json-csv.com</a></p>\n\n<p>Then just open the resulting CSV file up in Excel and this should put you in a more intuitive environment for data manipulation and extraction.</p>\n",
                    "is_accepted": false,
                    "score": -3
                }
            ],
            "body": "<p>I have a (nested) data structure containing objects and arrays. How can I extract the information, i.e. access a specific or multiple values (or keys)?</p>\n\n<p>For example:</p>\n\n<pre><code>var data = {\n    code: 42,\n    items: [{\n        id: 1,\n        name: 'foo'\n    }, {\n        id: 2,\n        name: 'bar'\n    }]\n};\n</code></pre>\n\n<p>How could I access the <code>name</code> of the second item in <code>items</code>?</p>\n",
            "last_activity_date": 1414706088,
            "question_id": 11922383,
            "score": 166,
            "tags": [
                "javascript",
                "arrays",
                "object",
                "recursion"
            ],
            "title": "Access / process (nested) objects, arrays or JSON"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Your code is split into two entirely separate parts, the <em>server side</em> and the <em>client side</em>.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>                    |\n               ----------&gt;\n              HTTP request\n                    |\n+--------------+    |    +--------------+\n|              |    |    |              |\n|    browser   |    |    |  web  server |\n| (JavaScript) |    |    |  (PHP etc.)  |\n|              |    |    |              |\n+--------------+    |    +--------------+\n                    |\n  client side       |      server side\n                    |\n               &lt;----------\n          HTML, CSS, JavaScript\n                    |\n</code></pre>\n\n<p>The two sides communicate via HTTP requests and responses. PHP is executed on the server and outputs some HTML and maybe JavaScript code which is sent as response to the client where the HTML is interpreted and the JavaScript is executed. Once PHP has finished outputting the response, the script ends and nothing will happen on the server until a new HTTP request comes in.</p>\n\n<p>The example code executes like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var foo = 'bar';\n    &lt;?php\n        file_put_contents('foo.txt', ' + foo + ');\n    ?&gt;\n\n    var baz = &lt;?php echo 42; ?&gt;;\n    alert(baz);\n&lt;/script&gt;\n</code></pre>\n\n<p>Step 1, PHP executes all code between <code>&lt;?php ?&gt;</code> tags. The result is this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var foo = 'bar';\n\n    var baz = 42;\n    alert(baz);\n&lt;/script&gt;\n</code></pre>\n\n<p>The <code>file_put_contents</code> call did not result in anything, it just wrote \" + foo + \" into a file. The <code>&lt;?php echo 42; ?&gt;</code> call resulted in the output \"42\", which is now in the spot where that code used to be.</p>\n\n<p>This resulting HTML/JavaScript code is now sent to the client, where it gets evaluated. The <code>alert</code> call works, while the <code>foo</code> variable is not used anywhere.</p>\n\n<p><strong>All PHP code is executed on the server before the client even starts executing any of the JavaScript. There's no PHP code left in the response that JavaScript could interact with.</strong></p>\n\n<p>To call some PHP code, the client will have to send a new HTTP request to the server. This can happen using one of three possible methods:</p>\n\n<ol>\n<li>A link, which causes the browser to load a new page.</li>\n<li>A form submission, which submits data to the server and loads a new page.</li>\n<li>An <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">AJAX</a> request, which is a Javascript technique to make a regular HTTP request to the server (like 1. and 2. will), but without leaving the current page.</li>\n</ol>\n\n<p><a href=\"http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/23741119\">Here's a question outlining these method in greater detail</a></p>\n\n<p>You can also use JavaScript to make the browser open a new page using <code>window.location</code> or submit a form, emulating possibilities 1. and 2.</p>\n",
                    "is_accepted": true,
                    "score": 144
                },
                {
                    "body": "<p>Your Javascript will execute on the client, not on the server. This means that <code>foo</code> is not evaluated on the server side and therefore its value can't be written to a file on the server.</p>\n\n<p>The best way to think about this process is as if you're generating a text file dynamically. The text you're generating only becomes executable code once the browser interprets it. Only what you place between <code>&lt;?php</code> tags is evaluated on the server.</p>\n\n<p>By the way, making a habit of embedding random pieces of PHP logic in HTML or Javascript can lead to seriously convoluted code. I speak from painful experience.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>To determine why <em>PHP</em> code doesn't work in <em>JavaScript</em> code we need to understand what is <strong>client side</strong> and <strong>server side</strong> language and how they work </p>\n\n<p><em>Server-side languages (PHP etc.)</em>:  They retrieve records from databases, maintain state over the <a href=\"http://stackoverflow.com/questions/4913763/what-does-it-mean-when-they-say-http-is-stateless\">stateless <em>HTTP</em> connection</a>, and do a lot of things that require  security. hey reside on the server, these programs never have their source code exposed to the user </p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/KoYhX.png\" alt=\"Image from wikipedia_http://en.wikipedia.org/wiki/File:Scheme_dynamic_page_en.svg\">\n  <sub><a href=\"http://en.wikipedia.org/wiki/File:Scheme_dynamic_page_en.svg\">image attr</a></sub></p>\n</blockquote>\n\n<p>so you can easily see that server side language handle HTTP request  and process it and as @deceze said  <em>PHP is executed on the server and outputs some HTML and maybe JavaScript code which is sent as response to the client where the HTML is interpreted and the JavaScript is executed</em></p>\n\n<p>while at the other hand <em>Client Side Language (like JavaScript)</em> Reside on browser and run at the browser , <em>Client-side scripting</em> generally refers to the class of computer programs on the web that are executed client-side, by the user's web browser, instead of <em>server-side</em>.</p>\n\n<p>JavaScript is visible to the user and can be easily modified so for security stuff we must not relay on JavaScript </p>\n\n<p>So when you make a <em>HTTP</em> request on server than  The server first reads the PHP file carefully to see if there are any tasks that need to be executed and send response to client side and again as @deceze said *Once PHP has finished outputting the response, the script ends and nothing will happen on the server until a new <em>HTTP</em> request comes in.*</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/Ax87s.png\" alt=\"Graphical representation\"></p>\n  \n  <p><sub><a href=\"http://www.html.net/tutorials/php/lesson1.php\">Image source </a></sub> </p>\n</blockquote>\n\n<p>So now what can I do if I need to  call PHP? It depends how you need to do it: either by reloading the page or by using an AJAX call.</p>\n\n<ol>\n<li>You can do by reloading page and send <em>HTTP</em> request </li>\n<li>you can make AJAX call with JavaScript and this does not require reloading page </li>\n</ol>\n\n<p><strong>Good Read:</strong></p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Server-side_scripting\">Wikipedia : Server-side scripting</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Client-side_scripting\">Wikipedia : Client-side scripting</a></li>\n<li><a href=\"http://programmers.stackexchange.com/a/171210/51446\">Madara Uchiha : Difference between client side and server side programming</a></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 43
                }
            ],
            "body": "<p>I have this code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var foo = 'bar';\n    &lt;?php\n        file_put_contents('foo.txt', ' + foo + ');\n    ?&gt;\n\n    var baz = &lt;?php echo 42; ?&gt;;\n    alert(baz);\n&lt;/script&gt;\n</code></pre>\n\n<p>Why does this not write \"bar\" into my text file, but alerts \"42\"?</p>\n",
            "last_activity_date": 1408723805,
            "question_id": 13840429,
            "score": 102,
            "tags": [
                "javascript",
                "php",
                "client-side",
                "server-side"
            ],
            "title": "What is the difference between client-side and server-side programming?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Prototypes are <strong>NOT</strong> instantiated for each instance of an object.</p>\n\n<pre><code>Hamster.prototype.food = []\n</code></pre>\n\n<p>Every instance of Hamster will share that array</p>\n\n<p>If you need (and you do in this case) separate instances of food collections for each Hamster, you need to create the property on the instance. For example:</p>\n\n<pre><code>function Hamster() {\n  this.food = [];\n}\n</code></pre>\n\n<p>To answer your question about Example 1, if it doesn't find the property anywhere in the prototype chain, it creates the property on the target object.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>Constructor function introduction</strong></p>\n\n<p>You can use a function as a constructor to create objects, if the constructor function is named Person then the object(s) created with that constructor are instances of Person.</p>\n\n<pre><code>var Person = function(name){\n  this.name = name;\n};\nPerson.prototype.walk=function(){\n  this.step().step().step();\n};\nvar bob = new Person(\"Bob\");\n</code></pre>\n\n<p>Person is the constructor function. When you create an instance using Person you have to use the new keyword:</p>\n\n<pre><code>var bob = new Person(\"Bob\");console.log(bob.name);//=Bob\nvar ben = new Person(\"Ben\");console.log(ben.name);//=Ben\n</code></pre>\n\n<p>The property/member <code>name</code> is instance specific, it's different for bob and ben</p>\n\n<p>The member <code>walk</code> is part of Person.prototype and is shared for all instances bob and ben are instances of Person so they share the walk member (bob.walk===ben.walk).</p>\n\n<pre><code>bob.walk();ben.walk();\n</code></pre>\n\n<p>Because walk() could not be found on bob directly JavaScript will look for it in the Person.prototype as this is the constructor of bob. If it can't be found there it'll look on Object.prototype. This is called the prototype chain. The prototype part of inheritance is done by lengthening this chain; for example bob => Employee.prototype => Person.prototype => Object.prototype (more on inheritance later).</p>\n\n<p>Even though bob, ben and all other created Person instances share walk the function will behave differently per instance because in the walk function it uses <code>this</code>. The value of <code>this</code> will be the invoking object; for now let's say it's the current instance so for <code>bob.walk()</code> \"this\" will be bob. (more on \"this\" and the invoking object later).</p>\n\n<p>If ben was waiting for a red light and and bob was at a green light; then you'll invoke walk() on both ben and bob obviously something different would happen to ben and bob.</p>\n\n<p>Shadowing members happens when we do something like <code>ben.walk=22</code>, even though bob and ben share <code>walk</code> the <em>assignment</em> of 22 to ben.walk will not affect bob.walk. This is because that statement will create a member called <code>walk</code> on ben directly and assign it a value of 22. There will be 2 different walk members: ben.walk and Person.prototype.walk.</p>\n\n<p>When asking for bob.walk you'll get the Person.prototype.walk function because <code>walk</code> could not be found on bob. Asking for ben.walk however will get you the value 22 because the member walk has been created on ben and since JavaScript found walk on ben it will not look in the Person.prototype.</p>\n\n<p>When using Object.create with 2 arguments, Object.defineProperty or Object.defineProperties shadowing works a bit different. More info on that <a href=\"https://github.com/getify/You-Dont-Know-JS/blob/master/this%20%26%20object%20prototypes/ch5.md#setting--shadowing-properties\">here</a>.</p>\n\n<p><strong>More about prototype</strong></p>\n\n<p>An object can inherit from another object through the use if prototype. You can set the prototype of any object with any other object using <code>Object.create</code>. In the constructor function introduction we have seen that if a member can't be found on the object then JavaScript will look in the prototpe chain for it. </p>\n\n<p>In previous part we have seen that re assignment of members that come from an instance's prototype (ben.walk) will shadow that member (create walk on ben rather than changing Person.prototype.walk).</p>\n\n<p>What if we don't re assign but mutate the member? Mutating is (for example) changing sub properties of an Object or invoking functions that will change the object's value. For example:</p>\n\n<pre><code>var o = [];\nvar a = o;\na.push(11);//mutate a, this will change o\na[1]=22;//mutate a, this will change o\n</code></pre>\n\n<p>The following code demonstrates the difference between prototype members and instance members by mutating members.</p>\n\n<pre><code>var person = {\n  name:\"default\",//immutable so can be used as default\n  sayName:function(){\n    console.log(\"Hello, I am \"+this.name);\n  },\n  food:[]//not immutable, should be instance specific\n         //  not suitable as prototype member\n};\nvar ben = Object.create(person);\nben.name = \"Ben\";\nvar bob = Object.create(person);\nconsole.log(bob.name);//=default, setting ben.name shadowed the member\n                      //  so bob.name is actually person.name\nben.food.push(\"Hamburger\");\nconsole.log(bob.food);//=[\"Hamburger\"], mutating a shared member on the\n// prototype affects all instances as it changes person.food\nconsole.log(person.food);//=[\"Hamburger\"]\n</code></pre>\n\n<p>The code above shows that ben and bob share members from person. There is only one person, it is set as bob's and ben's prototype (person is used as the first object in the prototype chain to look up requested members that don't exist on the instance). The problem with the above code is that bob and ben should have their own <code>food</code> member. This is where the constructor function comes in. It is used to create instance specific members. You could also pass arguments to it to set values of these instance specific members.</p>\n\n<p>The next code shows another way to implement the constructor function, syntax is different but the idea is the same:</p>\n\n<ol>\n<li>Define an object that has members that will be same for many instances (person is a blueprint for bob and ben and can be for jilly, marie, clair ...)</li>\n<li>Define instance specific members that should be unique for instances (bob and ben).</li>\n<li>Create an instance running the code in step 2.</li>\n</ol>\n\n<p>With constructor functions you'll set the prototype in step 2 in the following code we set the prototype in step 3.</p>\n\n<p>In this code I have removed name from prototype as well as food because you are most likely going to shadow this almost immediately when creating an instance anyway. Name is now an instance specific member with a default value set in the constructor function. Becaus the food member is also moved from prototype to instance specific member it will not affect bob.food when adding food to ben.</p>\n\n<pre><code>var person = {\n  sayName:function(){\n    console.log(\"Hello, I am \"+this.name);\n  },\n  //need to run the constructor function when creating\n  //  an instance to make sure the instance has\n  //  instance specific members\n  constructor:function(name){\n    this.name = name || \"default\";\n    this.food = [];\n    return this;\n  }\n};\nvar ben = Object.create(person).constructor(\"Ben\");\nvar bob = Object.create(person).constructor(\"Bob\");\nconsole.log(bob.name);//=\"Bob\"\nben.food.push(\"Hamburger\");\nconsole.log(bob.food);//=[]\n</code></pre>\n\n<p>You may come across similar patterns that are more robust to help with object creation and object definition. </p>\n\n<p><strong>Inheritance</strong></p>\n\n<p>The following code shows how to inherit. The tasks are basically the same as in code before with a little extra</p>\n\n<ol>\n<li>Define instance specific members of an object (functions Hamster and RussionMini).</li>\n<li>Set the prototype part of inheritance (RussionMini.prototype = Object.create(Hamster.prototype))</li>\n<li>Define members that can be shared among instances.(Hamster.prototype and RussionMini.prototype)</li>\n<li>Create an instance running the code in step 1 and for objects that inherit have them run the Parent code as well (Hamster.apply(this,arguments);)</li>\n</ol>\n\n<p>Using a pattern some would call \"classical inheritance\". If you are confused by the syntax I'll be happy to explain more or provide different patterns.</p>\n\n<pre><code>function Hamster(){\n this.food=[];\n}\nfunction RussionMini(){\n  //Hamster.apply(this,arguments) executes every line of code\n  //in the Hamster body where the value of \"this\" is\n  //the to be created RussionMini (once for mini and once for betty)\n  Hamster.apply(this,arguments);\n}\n//setting RussionMini's prototype\nRussionMini.prototype=Object.create(Hamster.prototype);\n//setting the built in member called constructor to point\n// to the right function (previous line has it point to Hamster)\nRussionMini.prototype.constructor=RussionMini;\nmini=new RussionMini();\n//this.food (instance specic to mini)\n//  comes from running the Hamster code\n//  with Hamster.apply(this,arguments);\nmini.food.push(\"mini's food\");\n//adding behavior specific to Hamster that will still be\n//  inherited by RussionMini because RussionMini.prototype's prototype\n//  is Hamster.prototype\nHamster.prototype.runWheel=function(){console.log(\"I'm running\")};\nmini.runWheel();//=I'm running\n</code></pre>\n\n<p><strong>Object.create to set prototype part of inheritance</strong></p>\n\n<p>Here is the documentation about <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\">Object.create</a>, it basically returns the second argument (not supported in the polyfil) with the first argument as the returned object's prototype. </p>\n\n<p>If no second argument was given it'll return an empty object with first argument to be used as the returned object's prototype (the first object to be used in the returned object's prototype chain).</p>\n\n<p>Some would set the prototype of RussionMini to an instance of Hamster (RussionMini.prototype = new Hamster()). This is not desirable because even though it accomplishes the same (RussionMini.prototype's prototype is Hamster.prototype) it also sets Hamster instance members as members of RussionMini.prototype. So RussionMini.prototype.food will exist but is a shared member (remember bob and ben in \"More about prototype\"?). The food member will be shadowed when creating a RussionMini because Hamster code is run with <code>Hamster.apply(this,arguments);</code> that in turn runs <code>this.food = []</code> but any Hamster members will still be members of RussionMini.prototype.</p>\n\n<p>Another reason could be that to create a Hamster a lot of complicated calculations need be done on passed arguments that may be not available yet, again you could pass in dummy arguments but it could unnecessarily complicate your code.</p>\n\n<p><strong>Extending and overriding Parent functions</strong></p>\n\n<p>Sometimes <code>children</code> need to extend <code>parent</code> functions.  </p>\n\n<p>You want the 'child' (=RussionMini) to do something extra. When RussionMini can call the Hamster code to do something and then do something extra you don't need to copy and paste Hamster code to RussionMini.</p>\n\n<p>In the following example we assume that a Hamster can run 3km an hour but a Russion mini can only run half as fast. We can hard code 3/2 in RussionMini but if this value were to change we have multiple places in code where it needs changing. Here is how we use Hamster.prototype to get the parent (Hamster) speed.</p>\n\n<pre><code>var Hamster = function(name){\n if(name===undefined){\n   throw new Error(\"Name cannot be undefined\");\n }\n this.name=name;\n}\nHamster.prototype.getSpeed=function(){\n  return 3;\n}\nHamster.prototype.run=function(){\n  //Russionmini does not need to implement this function as\n  //it will do exactly the same as it does for Hamster\n  //But Russionmini does need to implement getSpeed as it\n  //won't return the same as Hamster (see later in the code) \n  return \"I am running at \" + \n    this.getSpeed() + \"km an hour.\";\n}\n\nvar RussionMini=function(name){\n  Hamster.apply(this,arguments);\n}\n//call this before setting RussionMini prototypes\nRussionMini.prototype = Object.create(Hamster.prototype);\nRussionMini.prototype.constructor=RussionMini;\n\nRussionMini.prototype.getSpeed=function(){\n  return Hamster.prototype\n    .getSpeed.call(this)/2;\n}    \n\nvar betty=new RussionMini(\"Betty\");\nconsole.log(betty.run());//=I am running at 1.5km an hour.\n</code></pre>\n\n<p>The disadvantage is that you hard code Hamster.prototype. There may be patterns that will give you the advantage of <code>super</code> as in Java. </p>\n\n<p>Most of the patterns I've seen will either break when inheritance level is more than 2 levels (Child => Parent => GrandParent) or use more resources by implementing super through <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\">closures</a>.</p>\n\n<p>To override a Parent (=Hamster) method you do the same but don't do Hamster.prototype.parentMethod.call(this,....</p>\n\n<p><strong>this.constructor</strong></p>\n\n<p>The constructor property is included in the prototype by JavaScript, you can change it but it should point to the constructor function. So <code>Hamster.prototype.constructor</code> should point to Hamster.</p>\n\n<p>If after setting prototype part of inheritance you should have it point to the right function again.</p>\n\n<pre><code>var Hamster = function(){};\nvar RussionMinni=function(){\n   // re use Parent constructor (I know there is none there)\n   Hamster.apply(this,arguments);\n};\nRussionMinni.prototype=Object.create(Hamster.prototype);\nconsole.log(RussionMinni.prototype.constructor===Hamster);//=true\nRussionMinni.prototype.haveBaby=function(){\n  return new this.constructor();\n};\nvar betty=new RussionMinni();\nvar littleBetty=betty.haveBaby();\nconsole.log(littleBetty instanceof RussionMinni);//false\nconsole.log(littleBetty instanceof Hamster);//true\n//fix the constructor\nRussionMinni.prototype.constructor=RussionMinni;\n//now make a baby again\nvar littleBetty=betty.haveBaby();\nconsole.log(littleBetty instanceof RussionMinni);//true\nconsole.log(littleBetty instanceof Hamster);//true\n</code></pre>\n\n<p><strong>\"Multiple inheritance\" with mix ins</strong></p>\n\n<p>Some things are better not to be inherited, if a Cat can move and then a Cat should not inherit from Movable. A Cat is not a Movable but rather a Cat can move. In a class based language Cat would have to implement Movable. In JavaScript we can define Movable and define implementation here, Cat can either override, extend it or us it's default implementation.</p>\n\n<p>For Movable we have instance specific members (like <code>location</code>). And we have members that are not instance specific (like the function move()). Instance specific members will be set by calling mxIns (added by mixin helper function) when creating an instance. Prototype members will be copied one by one on Cat.prototype from Movable.prototype using the mixin helper function.</p>\n\n<pre><code>var Mixin = function Mixin(args){\n  if(this.mixIns){\n    i=-1;len=this.mixIns.length;\n    while(++i&lt;len){\n        this.mixIns[i].call(this,args);\n      }\n  }  \n};\nMixin.mix = function(constructor, mix){\n  var thing\n  ,cProto=constructor.prototype\n  ,mProto=mix.prototype;\n  //no extending, if multiple prototypes\n  // have members with the same name then use\n  // the last\n  for(thing in mProto){\n    if(Object.hasOwnProperty.call(mProto, thing)){\n      cProto[thing]=mProto[thing];\n    }\n  }\n  //instance intialisers\n  cProto.mixIns = cProto.mixIns || [];\n  cProto.mixIns.push(mix);\n};\nvar Movable = function(args){\n  args=args || {};\n  //demo how to set defaults with truthy\n  // not checking validaty\n  this.location=args.location;\n  this.isStuck = (args.isStuck===true);//defaults to false\n  this.canMove = (args.canMove!==false);//defaults to true\n  //speed defaults to 4\n  this.speed = (args.speed===0)?0:(args.speed || 4);\n};\nMovable.prototype.move=function(){\n  console.log('I am moving, default implementation.');\n};\nvar Animal = function(args){\n  args = args || {};\n  this.name = args.name || \"thing\";\n};\nvar Cat = function(args){\n  var i,len;\n  Animal.call(args);\n  //if an object can have others mixed in\n  //  then this is needed to initialise \n  //  instance members\n  Mixin.call(this,args);\n};\nCat.prototype = Object.create(Animal.prototype);\nCat.prototype.constructor = Cat;\nMixin.mix(Cat,Movable);\nvar poochie = new Cat({\n  name:\"poochie\",\n  location: {x:0,y:22}\n});\npoochie.move();\n</code></pre>\n\n<p>The above is a simple implementation that replaces same named functions with whatever mix in is mixed in last.</p>\n\n<p><strong>The this variable</strong></p>\n\n<p>In all the example code you'll see <code>this</code> referring to the current instance.</p>\n\n<p>The this variable actually refers to the invoking object, it refers to the object that came before the function.</p>\n\n<p>To clarify see the following code:</p>\n\n<pre><code>theInvokingObject.thefunction();\n</code></pre>\n\n<p>The instances where this would refer to the wrong object are usually when attaching event listeners, callbacks or timeouts and intervals. In the next 2 lines of code we <code>pass</code> the function, we don't invoke it. Passing the function is: <code>someObject.aFunction</code> and invoking it is: <code>someObject.aFunction()</code>. The <code>this</code> value does not refer to the object the function was declared on but on the object that <code>invokes</code> it.</p>\n\n<pre><code>setTimeout(someObject.aFuncton,100);//this in aFunction is window\nsomebutton.onclick = someObject.aFunction;//this in aFunction is somebutton\n</code></pre>\n\n<p>To make <code>this</code> in the above cases refer to someObject you can pass a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\">closure</a> instead of the function directly:</p>\n\n<pre><code>setTimeout(function(){someObject.aFuncton();},100);\nsomebutton.onclick = function(){someObject.aFunction();};\n</code></pre>\n\n<p>I like to define functions that return a function for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\">closures</a> on the prototype to have fine control over the variables that are included in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\">closure</a> scope.</p>\n\n<pre><code>var Hamster = function(name){\n  var largeVariable = new Array(100000).join(\"Hello World\");\n  // if I do \n  // setInterval(function(){this.checkSleep();},100);\n  // then largeVariable will be in the closure scope as well\n  this.name=name\n  setInterval(this.closures.checkSleep(this),1000);\n};\nHamster.prototype.closures={\n  checkSleep:function(hamsterInstance){\n    return function(){\n      console.log(typeof largeVariable);//undefined\n      console.log(hamsterInstance);//instance of Hamster named Betty\n      hamsterInstance.checkSleep();\n    };\n  }\n};\nHamster.prototype.checkSleep=function(){\n  //do stuff assuming this is the Hamster instance\n};\n\nvar betty = new Hamster(\"Betty\");\n</code></pre>\n\n<p><strong>Passing (constructor) arguments</strong></p>\n\n<p>When Child calls a Parent (<code>Hamster.apply(this,arguments);</code>) we assume that Hamster uses the same arguments as RussionMini in the same order. For functions that call other functions I usually use another way to pass arguments.</p>\n\n<p>I usually pass one object to a function and have that function mutate whatever it needs (set defaults), then that function will pass it to another function that will do the same and so on and so on. Here is an example:</p>\n\n<pre><code>//helper funciton to throw error\nfunction thowError(message){\n  throw new Error(message)\n};\nvar Hamster = function(args){\n  //make sure args is something so you get the errors\n  //  that make sense to you instead of \"args is undefined\"\n  args = args || {};\n  //default value for type:\n  this.type = args.type || \"default type\";\n  //name is not optional, very simple truthy check f\n  this.name = args.name || thowError(\"args.name is not optional\");\n};\nvar RussionMini = function(args){\n  //make sure args is something so you get the errors\n  //  that make sense to you instead of \"args is undefined\"\n  args = args || {};\n  args.type = \"Russion Mini\";\n  Hamster.call(this,args);\n};\nvar ben = new RussionMini({name:\"Ben\"});\nconsole.log(ben);// Object { type=\"Russion Mini\", name=\"Ben\"}\nvar betty = new RussionMini();//Error: args.name is not optional\n</code></pre>\n\n<p>This way of passing arguments in a function chain is useful in many cases. When you're working on code that would calculate a total of something and later you'd like to re factor the total of that something to be in a certain currency you may have to change a lot of functions to pass the value for currency. You could up scope a currency value (even to global like <code>window.currency='USD'</code>) but that's a bad way to solve it.</p>\n\n<p>With passing an object you could add currency to <code>args</code> whenever it's available in the function chain and mutate/use it whenever you need it without changing the other functions (explicitly have to pass it in the function calls).</p>\n\n<p><strong>Private variables</strong></p>\n\n<p>JavaScript doesn't have a private modifier.</p>\n\n<p>I agree with the following: <a href=\"http://blog.millermedeiros.com/a-case-against-private-variables-and-functions-in-javascript/\">http://blog.millermedeiros.com/a-case-against-private-variables-and-functions-in-javascript/</a> and personally have not used them.</p>\n\n<p>You can indicate to other programmers a member is meant to be private by naming it <code>_aPrivate</code> or putting all the private variables in an object variable called <code>_</code>. </p>\n\n<p>You can implement private members through <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\">closures</a> but instance specific private members can only be accessed by functions that are not on the prototype.</p>\n\n<p>Not implementing privates as closures would leak implementation and enable you or users extending your code to use members that are not part of your public API. This can be both good and bad. </p>\n\n<p>It's good because it enables you and others to mock certain members for testing easily. It gives others a chance to easily improve (patch) your code but this is also bad because there is no guarantee that a next version of your code has the same implementation and or private members.</p>\n\n<p>By using closures you do not give others a choice and by using the naming convention with documentation you do. This is not specific to JavaScript, in other languages you can decide not to use private members as you trust others to know what they are doing and give them the choice to do as they want (with risks involved).</p>\n\n<p>If you still insist on privates then the <a href=\"http://stackoverflow.com/a/21800194/1641941\">following</a> pattern may help. It doesn't implement private though but implements protected.</p>\n",
                    "is_accepted": true,
                    "score": 82
                }
            ],
            "body": "<p>So I have these 2 examples, from javascript.info:</p>\n\n<p>Example 1:</p>\n\n<pre><code>var animal = {\n  eat: function() {\n    alert( \"I'm full\" )\n    this.full = true\n  }\n}\n\nvar rabbit = {\n  jump: function() { /* something */ }\n}\n\nrabbit.__proto__ = animal \n\nrabbit.eat() \n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>function Hamster() {  }\nHamster.prototype = {\n  food: [],\n  found: function(something) {\n    this.food.push(something)\n  }\n}\n\n// Create two speedy and lazy hamsters, then feed the first one\nspeedy = new Hamster()\nlazy = new Hamster()\n\nspeedy.found(\"apple\")\nspeedy.found(\"orange\")\n\nalert(speedy.food.length) // 2\nalert(lazy.food.length) // 2 (!??)\n</code></pre>\n\n<p>Start from Example 2: when the code reaches <code>speedy.found</code>, it finds no <code>found</code> property in <code>speedy</code>, and so it climbs up to the prototype and changes it there. That's why <code>food.length</code> is equal for both hamsters, in other words they have the same stomach.<br><br>\nFrom this I understand, that when writing up and adding a new property which doesn't exist, the interpreter will go up the prototype chain until it finds the property, and THEN change it.</p>\n\n<p>BUT in Example 1 something else happens:<br>\nwe run <code>rabbit.eat</code>, which changes <code>rabbit.full</code>. <code>full</code> property is nowhere to be found, so it should go up the prototype chain to (to object??), and well, I'm not sure what happens here. In this example the property <code>full</code> of <code>rabbit</code> is created and changed, while in the first example it goes up the prototype chain because it cannot find the property.</p>\n\n<p>I'm confused and cannot see why this happens.</p>\n",
            "last_activity_date": 1417104697,
            "question_id": 16063394,
            "score": 29,
            "tags": [
                "javascript",
                "inheritance",
                "prototype"
            ],
            "title": "Prototypical inheritance - writing up"
        },
        {
            "answer_count": 19,
            "answers": [
                {
                    "body": "<p>The difference is that <code>functionOne</code> is defined at run-time, whereas <code>functionTwo</code> is defined at parse-time for a script block.  For example:</p>\n\n<pre><code>&lt;script&gt;\n  // Error\n  functionOne();\n\n  var functionOne = function() {\n  };\n&lt;/script&gt;\n\n&lt;script&gt;\n  // No error\n  functionTwo();\n\n  function functionTwo() {\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>This also means in <code>Strict</code> mode you can't conditionally define functions using the second syntax:</p>\n\n<pre><code>&lt;script&gt;\n  \"use strict\";\n  if (test) {\n     // Error\n     function functionThree() { doSomething(); }\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Without <code>\"use strict\"</code> this would not cause an error and <code>functionThree</code> will be defined irrespective of <code>test</code>'s value.</p>\n",
                    "is_accepted": true,
                    "score": 1983
                },
                {
                    "body": "<p>First I want to correct Greg: <code>function abc(){}</code> is scoped too &mdash; the name <code>abc</code> is defined in the scope where this definition is encountered. Example:</p>\n\n<pre><code>function xyz(){\n  function abc(){};\n  // abc is defined here...\n}\n// ...but not here\n</code></pre>\n\n<p>Secondly, it is possible to combine both styles:</p>\n\n<pre><code>var xyz = function abc(){};\n</code></pre>\n\n<p><code>xyz</code> is going to be defined as usual, <code>abc</code> is undefined in all browsers but IE &mdash; do not rely on it being defined. But it will be defined inside its body:</p>\n\n<pre><code>var xyz = function abc(){\n  // xyz is visible here\n  // abc is visible here\n}\n// xyz is visible here\n// abc is undefined here\n</code></pre>\n\n<p>If you want to alias functions on all browsers use this kind of declaration:</p>\n\n<pre><code>function abc(){};\nvar xyz = abc;\n</code></pre>\n\n<p>In this case both <code>xyz</code> and <code>abc</code> are aliases of the same object:</p>\n\n<pre><code>console.log(xyz === abc); // prints \"true\"\n</code></pre>\n\n<p>One compelling reason to use the combined style is the \"name\" attribute of function objects (<strong>not supported by IE</strong>). Basically when you define a function like this:</p>\n\n<pre><code>function abc(){};\nconsole.log(abc.name); // prints \"abc\"\n</code></pre>\n\n<p>its name is automatically assigned. But when you define it like this:</p>\n\n<pre><code>var abc = function(){};\nconsole.log(abc.name); // prints \"\"\n</code></pre>\n\n<p>its name is empty &mdash; we created an anonymous function and assigned it to some variable.</p>\n\n<p>Another good reason to use the combined style is to use a short internal name to refer to itself, while providing a long non-conflicting name for external users:</p>\n\n<pre><code>// assume really.long.external.scoped is {}\nreally.long.external.scoped.name = function shortcut(n){\n  // let's call itself recursively:\n  shortcut(n - 1);\n  // ...\n  // let's pass itself as a callback:\n  someFunction(shortcut);\n  // ...\n}\n</code></pre>\n\n<p>In the example above we can do the same with an external name, but it'll be too unwieldy (and slower).</p>\n\n<p><em>(Another way to refer to itself is to use <code>arguments.callee</code>, which is still relatively long, and not supported in the strict mode.)</em></p>\n\n<p>Deep down JavaScript treats both statements differently. This is a function declaration:</p>\n\n<pre><code>function abc(){}\n</code></pre>\n\n<p><code>abc</code> here is defined everywhere in the current scope:</p>\n\n<pre><code>// we can call it here\nabc(); // works\n// yet it is defined down there\nfunction abc(){}\n// we can call it again\nabc(); // works\n</code></pre>\n\n<p>This is a function expression:</p>\n\n<pre><code>var xyz = function(){};\n</code></pre>\n\n<p><code>xyz</code> here is defined from the point of assignment:</p>\n\n<pre><code>// we can't call it here\nxyz(); // UNDEFINED!!!\n// now it is defined\nxyz = function(){}\n// we can call it here\nxyz(); // works\n</code></pre>\n\n<p>Function declaration vs. function expression is the real reason why there is a difference demonstrated by Greg.</p>\n\n<p>Fun fact:</p>\n\n<pre><code>var xyz = function abc(){};\nconsole.log(xyz.name); // prints \"abc\"\n</code></pre>\n\n<p>Personally I prefer the \"function expression\" declaration because this way I can control the visibility. When I define the function like that:</p>\n\n<pre><code>var abc = function(){};\n</code></pre>\n\n<p>I know that I defined the function locally. When I define the function like that:</p>\n\n<pre><code>abc = function(){};\n</code></pre>\n\n<p>I know that I defined it globally providing that I didn't define <code>abc</code> anywhere in the chain of scopes. This style of definition is resilient even when used inside eval(). While this definition:</p>\n\n<pre><code>function abc(){};\n</code></pre>\n\n<p>depends on the context and may leave you guessing where it is actually defined, especially in the case of eval() &mdash; the answer is: it depends on browser. </p>\n",
                    "is_accepted": false,
                    "score": 975
                },
                {
                    "body": "<p>In computer science terms, we talk about anonymous functions and named functions. I think the most important difference is that an anonymous function is not bound to an name, hence the name anonymous function. In JavaScript it is a first class object dynamically declared at runtime.</p>\n\n<p>For more information on anonymous functions and lambda calculus, Wikipedia is a good start (<a href=\"http://en.wikipedia.org/wiki/Anonymous_function\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Anonymous_function</a>).</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>In terms of code maintenance cost named functions are more preferable:</p>\n\n<ul>\n<li>independent from place where they are declared( but still limited by scope). </li>\n<li>More resistant to mistakes like conditional initialization.(You are still able to override if wanted to).</li>\n<li>The code becomes more readable by allocating local functions separately of scope functionality. Usually in the scope the functionality goes first, followed by declarations of local functions.</li>\n<li>in debugger you will clearly see on call stack the function name instead of \"anonymous/evaluated\" function.</li>\n</ul>\n\n<p>I suspect more PROS for named functions are follow.\nAnd what is listed as advantage of named functions is disadvantage for anonymous ones.</p>\n\n<p>Historically anonymous functions appeared from inability of JS as language to list members with named functions: </p>\n\n<p>{ member:function(){/* how to make this.member a named function? */}\n}</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The two code snippets you've posted there will, for almost all purposes, behave the same way.</p>\n\n<p>However, the difference in behaviour is that with the first variant, that function can only be called after that point in the code.</p>\n\n<p>With the second variant, the function is available to code that runs above where the function is declared.</p>\n\n<p>This is because with the first variant, the function is assigned to the variable foo at run time.  In the second, the function is assigned to that identifier foo at parse time.</p>\n\n<p><strong>More technical info</strong></p>\n\n<p>Javascript has three ways of defining functions.</p>\n\n<ol>\n<li>Your first snippet shows a <strong>function expression</strong>.  This involves using the <em>\"function\" operator</em> to create a function - the result of that operator can be stored in any variable or object property.  The function expression is powerful that way.  The function expression is often called an \"anonymous function\" because it does not have to have a name,</li>\n<li>Your second example is a <strong>function declaration</strong>.  This uses the <em>\"function\" statement</em> to create a function.  The function is made available at parse time and can be called anywhere in that scope.  You can still store it in a variable or object property later.</li>\n<li>The third way of defining a function is the <strong>\"Function()\" constructor</strong>, which is not shown in your original post.  It's not recommended to use this as it works the same way as eval(), which has its problems.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 52
                },
                {
                    "body": "<p>Speaking about the global context, both, the <code>var</code> statement and a <code>FunctionDeclaration</code> at the end will create a <em>non-deleteable</em> property on the global object, but the value of both <em>can be overwritten</em>.</p>\n\n<p>The subtle difference between the two ways is that when the <a href=\"http://bclary.com/2004/11/07/#a-10.1.3\">Variable Instantiation</a> process runs (before the actual code execution) all identifiers declared with <code>var</code> will be initialized with <code>undefined</code>, and the ones used by the <code>FunctionDeclaration</code>'s will be available since that moment, for example:</p>\n\n<pre><code> alert(typeof foo); // 'function', it's already available\n alert(typeof bar); // 'undefined'\n function foo () {}\n var bar = function () {};\n alert(typeof bar); // 'function'\n</code></pre>\n\n<p>The assignment of the <code>bar</code> <code>FunctionExpression</code> takes place until runtime.</p>\n\n<p>A global property created by a <code>FunctionDeclaration</code> can be overwritten without any problems just like a variable value, e.g.:</p>\n\n<pre><code> function test () {}\n test = null;\n</code></pre>\n\n<p>Another obvious difference between your two examples is that the first function doesn't have a name, but the second has it, which can be really useful when debugging (i.e. inspecting a call stack).</p>\n\n<p>About your edited first example (<code>foo = function() { alert('hello!'); };</code>), it is an undeclared assignment, I would highly encourage you to always use the <code>var</code> keyword.</p>\n\n<p>With an assignment, without the <code>var</code> statement, if the referenced identifier is not found in the scope chain, it will become a <em>deleteable</em> property of the global object.</p>\n\n<p>Also, undeclared assignments throw a <code>ReferenceError</code> on ECMAScript 5 under <a href=\"http://dmitrysoshnikov.com/ecmascript/es5-chapter-2-strict-mode/\">Strict Mode</a>.</p>\n\n<p>A must read:</p>\n\n<ul>\n<li><a href=\"http://kangax.github.com/nfe/\">Named function expressions demystified</a></li>\n</ul>\n\n<p><strong>Note</strong>: This answer has been merged from <a href=\"http://stackoverflow.com/questions/3435709/why-are-functions-in-javascript-set-to-global-variables-instead-of-plain-function\">another question</a>, in which the major doubt and misconception from the OP was that identifiers declared with a <code>FunctionDeclaration</code>, couldn't be overwritten which is not the case.</p>\n",
                    "is_accepted": false,
                    "score": 66
                },
                {
                    "body": "<p>An important reason is to add one and only one variable as the \"Root\" of your namespace...</p>\n\n<pre><code>var MyNamespace = {}\nMyNamespace.foo= function() {\n\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var MyNamespace {\n  foo: function() {\n  },\n  ...\n}\n</code></pre>\n\n<p>There are many techniques for namespacing.  Its become more important with the plethora of JavaScript modules available.</p>\n\n<p>Also see <a href=\"http://stackoverflow.com/questions/881515/javascript-namespace-declaration\">Javascript Namespace Declaration</a></p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Other commenters have already covered the semantic difference of the two variants above. I wanted to note a stylistic difference: Only the \"assignment\" variation can set a property of another object.</p>\n\n<p>I often build JavaScript modules with a pattern like this:</p>\n\n<pre><code>(function(){\n    var exports = {};\n\n    function privateUtil() {\n            ...\n    }\n\n    exports.publicUtil = function() {\n            ...\n    };\n\n    return exports;\n})();\n</code></pre>\n\n<p>With this pattern, your public functions will all use assignment, while your private functions use declaration.</p>\n\n<p>(Note also that assignment should require a semicolon after the statement, while declaration prohibits it.)</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/users/26394/eugene-lazutkin\">@EugeneLazutkin</a> gives an example where he <a href=\"http://stackoverflow.com/a/338053/\">names an assigned function to be able to use <code>shortcut()</code></a> as an internal reference to itself. <a href=\"http://ejohn.org/\">John Resig</a> gives another example - <em>copying a recursive function assigned to another object</em> in his <a href=\"http://ejohn.org/apps/learn/\">Learning Advanced Javascript</a> tutorial. While assigning functions to properties isn't strictly the question here, I recommend actively trying the tutorial out - run the code by clicking the button in the upper right corner, and double click the code to edit to your liking.</p>\n\n<p>Examples from the tutorial: recursive calls in <code>yell()</code>:</p>\n\n<p><a href=\"http://ejohn.org/apps/learn/#13\">Tests fail when the original ninja object is removed.</a> (page 13)</p>\n\n<pre><code>var ninja = { \n  yell: function(n){ \n    return n &gt; 0 ? ninja.yell(n-1) + \"a\" : \"hiy\"; \n  } \n}; \nassert( ninja.yell(4) == \"hiyaaaa\", \"A single object isn't too bad, either.\" ); \n\nvar samurai = { yell: ninja.yell }; \nvar ninja = null; \n\ntry { \n  samurai.yell(4); \n} catch(e){ \n  assert( false, \"Uh, this isn't good! Where'd ninja.yell go?\" ); \n}\n</code></pre>\n\n<p><a href=\"http://ejohn.org/apps/learn/#14\">If you name the function that will be called recursively, the tests will pass.</a> (page 14)</p>\n\n<pre><code>var ninja = { \n  yell: function yell(n){ \n    return n &gt; 0 ? yell(n-1) + \"a\" : \"hiy\"; \n  } \n}; \nassert( ninja.yell(4) == \"hiyaaaa\", \"Works as we would expect it to!\" ); \n\nvar samurai = { yell: ninja.yell }; \nvar ninja = {}; \nassert( samurai.yell(4) == \"hiyaaaa\", \"The method correctly calls itself.\" );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Another difference that is not mentioned in the other answers is that if you use the anonymous function</p>\n\n<pre><code>var functionOne = function() {\n    // Some code\n};\n</code></pre>\n\n<p>and use that as a constructor as in</p>\n\n<pre><code>var one = new functionOne();\n</code></pre>\n\n<p>then <code>one.constructor.name</code> will not be defined. <code>Function.name</code> is non-standard but is supported by Firefox, Chrome, other Webkit-derived browsers and IE 9+.</p>\n\n<p>With </p>\n\n<pre><code>function functionTwo() {\n    // Some code\n}\ntwo = new functionTwo();\n</code></pre>\n\n<p>it is possible to retrieve the name of the constructor as a string with <code>two.constructor.name</code>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I use the variable approach in my code for a very specific reason, the theory of which has been covered in an abstract way above, but an example might help some people like me, with limited javascript expertise.</p>\n\n<p>I have code that I need to run with 160 independently-designed brandings. Most of the code is in shared files, but branding-specific stuff is in a separate file, one for each branding.</p>\n\n<p>Some brandings require specific functions, some do not.  Sometimes I have to add new functions to do new branding-specific things.  I am happy to change the shared coded, but I don't want to have to change all 160 sets of branding files.</p>\n\n<p>By using the variable syntax, I can declare the variable (a function pointer essentially) in the shared code and either assign a trivial stub function, or set to null.  </p>\n\n<p>The one or two brandings that need a specific implementation of the function can then define their version of the function and assign this to the variable if they want, the rest do nothing.  I can test for a null function before I execute it in the shared code.</p>\n\n<p>From people's comments above, I gather it may be possible to redefine a static function too, but I think the variable solution is nice and clear. </p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>First one(function doSomething(x)) should be part of an object notation.</p>\n\n<p>The second one(<code>var doSomething = function(x){ alert(x);}</code>) is simply creating an anonymous function and assigning it to a variable doSomething . So doSomething() will call the function.</p>\n\n<p>you may want to What is a Function Declaration and  Function Expression </p>\n\n<p>A Function Declaration defines a named function variable without requiring variable assignment. Function Declarations occur as standalone constructs and cannot be nested within non-function blocks. </p>\n\n<pre><code>function foo() {\n    return 3;\n}\n</code></pre>\n\n<blockquote>\n  <p>ECMA 5 (13.0) defines the syntax as<br>\n  function Identifier ( FormalParameterList<sub>opt</sub> ) { FunctionBody }</p>\n</blockquote>\n\n<p>in above condition the function name is visible within it\u2019s scope and the scope of it\u2019s parent (otherwise it would be unreachable)</p>\n\n<p>and in function expression </p>\n\n<p>A Function Expression defines a function as a part of a larger expression syntax (typically a variable assignment ). Functions defined via Functions Expressions can be named or anonymous. Function Expressions should not start with \u201cfunction\u201d  </p>\n\n<pre><code>//anonymous function expression\nvar a = function() {\n    return 3;\n}\n\n//named function expression\nvar a = function foo() {\n    return 3;\n}\n\n//self invoking function expression\n(function foo() {\n    alert(\"hello!\");\n})();\n</code></pre>\n\n<blockquote>\n  <p>ECMA 5 (13.0) defines the syntax as<br>\n  function Identifier<sub>opt</sub> ( FormalParameterList<sub>opt</sub> ) { FunctionBody }</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>A function declaration and a function expression assigned to a variable behave the same once the binding is established.</p>\n\n<p>There is a difference however at <em>how</em> and <em>when</em> the function object is actually associated with its variable. This difference is due to the mechanism called <em>variable hoisting</em> in JavaScript.</p>\n\n<p>Basically, all function declarations and variable declarations are hoisted to the top of the <em>function</em> in which the declaration occurs (this is why we say that JavaScript has <em>function scope</em>).</p>\n\n<ul>\n<li><p>When a function declaration is hoisted, the function body \"follows\"\nso when the function body is evaluated, the variable will immediately\nbe bound to a function object.</p></li>\n<li><p>When a variable declaration is hoisted, the initialization does <em>not</em>\nfollow, but is \"left behind\". The variable is initialized to\n<code>undefined</code> at the start of the function body, and will be <em>assigned</em>\na value at its original location in the code. (Actually, it will be assigned a value at <em>every</em> location where a declaration of a variable with the same name occurs.)</p></li>\n</ul>\n\n<p>The order of hoisting is also important: function declarations take precedence over variable declarations with the same name, and the last function declaration takes precedence over previous function declarations with the same name.</p>\n\n<p>Some examples...</p>\n\n<pre><code>var foo = 1;\nfunction bar() {\n  if (!foo) {\n    var foo = 10 }\n  return foo; }\nbar() // 10\n</code></pre>\n\n<p>Variable <code>foo</code> is hoisted to the top of the function, initialized to <code>undefined</code>, so that <code>!foo</code> is <code>true</code>, so <code>foo</code> is assigned <code>10</code>. The <code>foo</code> outside of <code>bar</code>'s scope plays no role and is untouched. </p>\n\n<pre><code>function f() {\n  return a; \n  function a() {return 1}; \n  var a = 4;\n  function a() {return 2}}\nf()() // 2\n\nfunction f() {\n  return a;\n  var a = 4;\n  function a() {return 1};\n  function a() {return 2}}\nf()() // 2\n</code></pre>\n\n<p>Function declarations take precedence over variable declarations, and the last function declaration \"sticks\".</p>\n\n<pre><code>function f() {\n  var a = 4;\n  function a() {return 1}; \n  function a() {return 2}; \n  return a; }\nf() // 4\n</code></pre>\n\n<p>In this example <code>a</code> is initialized with the function object resulting from evaluating the second function declaration, and then is assigned <code>4</code>.</p>\n\n<pre><code>var a = 1;\nfunction b() {\n  a = 10;\n  return;\n  function a() {}}\nb();\na // 1\n</code></pre>\n\n<p>Here the function declaration is hoisted first, declaring and initializing variable <code>a</code>. Next, this variable is assigned <code>10</code>. In other words: the assignment does not assign to outer variable <code>a</code>.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>An illustration of when to prefer the first method on the second one is when you need to avoid overriding a function's previous definition.</p>\n\n<p>With :</p>\n\n<pre><code>if (condition){\n    function myfunction(){\n        // some code \n    }\n}\n</code></pre>\n\n<p>, this definition of <code>myfunction</code> will override any previous definition, since it will be done at parse-time.</p>\n\n<p>While :</p>\n\n<pre><code>if (condition){\n    var myfunction = function (){\n        // some code\n    }\n}\n</code></pre>\n\n<p>does the correct job of defining <code>myfunction</code> only when <code>condition</code> is met.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>If you would use those functions to create objects, you would get:</p>\n\n<pre><code>var objectOne = new functionOne();\nconsole.log(objectOne.__proto__); // prints \"Object {}\" because constructor is an anonymous function\n\nvar objectTwo = new functionTwo();\nconsole.log(objectTwo.__proto__); // prints \"functionTwo {}\" because constructor is a named function\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Here's the rundown on the standard forms that create functions: <em>(Originally written for another question, but adapted after being moved into the canonical question.)</em></p>\n\n<h3>Function Declaration</h3>\n\n<p>The first form is a <em>function declaration</em>, which looks like this:</p>\n\n<pre><code>function x() {\n    console.log('x');\n}\n</code></pre>\n\n<p>A function declaration is a <em>declaration</em>; it's not a statement or expression. As such, you don't follow it with a <code>;</code> (although doing so is harmless).</p>\n\n<p>A function declaration is processed when execution enters the context in which it appears, <strong>before</strong> any step-by-step code is executed. The function it creates is given a proper name (<code>x</code> in the example above), and that name is put in the scope in which the declaration appears.</p>\n\n<p>Because it's processed before any step-by-step code in the same context, you can do things like this:</p>\n\n<pre><code>x(); // Works even though it's above the declaration\nfunction x() {\n    console.log('x');\n}\n</code></pre>\n\n<p>Also because it's not part of the step-by-step execution of the code, you can't put it inside a control structure like <code>try</code>, <code>if</code>, <code>switch</code>, <code>while</code>, etc.</p>\n\n<pre><code>if (someCondition) {\n    function foo() {    // &lt;===== INVALID AND WILL FAIL ON\n    }                   //        MANY ENGINES\n}\n</code></pre>\n\n<p>Some engines will handle the above even though it's invalid, by rewriting it as a function expression on-the-fly. There's talk of adding a <em>function statement</em> to the next spec (ECMAScript6) to codify that. But with current engines, it will not work reliably; don't do it.</p>\n\n<h3>Anonymous Function Expression</h3>\n\n<p>The second common form is called an <em>anonymous function expression</em>:</p>\n\n<pre><code>var y = function () {\n    console.log('y');\n};\n</code></pre>\n\n<p>The function this creates has no name (it's anonymous). Like all expressions, it's evaluated when it's reached in the step-by-step execution of the code.</p>\n\n<p>I should note that the current draft of the <em>next</em> version of the JavaScript standard, ECMAScript6, will actually assign a name to that function by inferring it from the context. The name in this case would be <code>y</code>. Mozilla's (Firefox's) JavaScript engine does that already, and it will be in the next spec. Basically any time the parser can make a reasonable guess, as it can above, it will (once engines are doing this new thing).</p>\n\n<h3>Named Function Expression</h3>\n\n<p>The third form is a <em>named function expression</em> (\"NFE\"):</p>\n\n<pre><code>var z = function w() {\n    console.log('zw')\n};\n</code></pre>\n\n<p>The function this creates has a proper name (<code>w</code> in this case). Like all expressions, this is evaluated when it's reached in the step-by-step execution of the code. The name of the function is <em>not</em> added to the scope in which the expression appears; the name <em>is</em> in scope within the function itself:</p>\n\n<pre><code>var z = function w() {\n    console.log(typeof w); // \"function\"\n};\nconsole.log(typeof w);     // \"undefined\"\n</code></pre>\n\n<p>Note that NFEs have frequently been a source of bugs for JavaScript implementations. IE8 and earlier, for instance, handle NFEs <a href=\"http://blog.niftysnippets.org/2010/09/double-take.html\">completely incorrectly</a>, creating two different functions at two different times. Early versions of Safari had issues as well. The good news is that current versions of browsers (IE9 and up, current Safari) don't have those issues any more. (But as of this writing, sadly, IE8 remains in widespread use, and so using NFEs with code for the web in general is still problematic.)</p>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>The first is function declaration</p>\n\n<pre><code>function abc(){}\n</code></pre>\n\n<p>And the second is function expression</p>\n\n<pre><code>var abc = function() {};\n</code></pre>\n\n<p>The main difference is with hoisting. In the first example, the whole function declaration get hoisted, when in the second only the var abc is hoisted and undefined is assigned to it, while the function itself remains at the position that is declared. In a simple words:</p>\n\n<pre><code>//this will work\nabc(param);\nfunction abc(){}\n\n//this would fail\nabc(param);\nvar abc = function() {}\n</code></pre>\n\n<p>To study more about this topics visit this \n<a href=\"http://javascriptweblog.wordpress.com/2010/07/06/function-declarations-vs-function-expressions/#comment-43792\">link</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>A better explanation to <a href=\"http://stackoverflow.com/a/336868/2351696\">Greg's answer</a></p>\n\n<pre><code>functionTwo();\nfunction functionTwo() {\n}\n</code></pre>\n\n<p><strong>Why No error? We were always taught that expressions are excuted from top to bottom??</strong></p>\n\n<h2>Because:</h2>\n\n<blockquote>\n  <p>Function declarations and variable declarations are always moved (<code>hoisted</code>) invisibly to the top of their containing scope by the JavaScript interpreter. Function parameters and language-defined names are, obviously, already there. <a href=\"http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting\">ben cherry</a></p>\n</blockquote>\n\n<p>This means that code like this:</p>\n\n<pre><code>functionOne();                  ---------------      var functionOne;\n                                | is actually |      functionOne(); \nvar functionOne = function(){   | interpreted |--&gt;       \n};                              |    like     |      functionOne = function(){\n                                ---------------      };\n</code></pre>\n\n<p>Notice that the assignment portion of the declarations were not hoisted. Only the name is hoisted. </p>\n\n<blockquote>\n  <p>But in the case with function declarations, where the entire function body will be hoisted as well.</p>\n</blockquote>\n\n<pre><code>functionTwo();              ---------------      function functionTwo() {\n                            | is actually |      };\nfunction functionTwo() {    | interpreted |--&gt;       \n}                           |    like     |      functionTwo();\n                            ---------------      \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>In light of the \"named functions show up in stack traces\" argument, modern JavaScript engines are actually quite capable of representing anonymous functions.</p>\n\n<p>As of this writing, V8, SpiderMonkey, Chakra and Nitro always refer to named functions by their names. They almost always refer to an anonymous function by its identifier if it has one.</p>\n\n<p>SpiderMonkey can figure out the name of an anonymous function returned from another function. The rest can't.</p>\n\n<p>If you really, really wanted your iterator and success callbacks to show up in the trace, you could name those too...</p>\n\n<pre><code>[].forEach(function iterator() {});\n</code></pre>\n\n<p>But for the most part it's not worth stressing over.</p>\n\n<h2>Harness (<a href=\"http://jsfiddle.net/us9dg6y8/\" rel=\"nofollow\">Fiddle</a>)</h2>\n\n<pre><code>'use strict';\n\nvar a = function () {\n    throw new Error();\n},\n    b = function b() {\n        throw new Error();\n    },\n    c = function d() {\n        throw new Error();\n    },\n    e = {\n        f: a,\n        g: b,\n        h: c,\n        i: function () {\n            throw new Error();\n        },\n        j: function j() {\n            throw new Error();\n        },\n        k: function l() {\n            throw new Error();\n        }\n    },\n    m = (function () {\n        return function () {\n            throw new Error();\n        };\n    }()),\n    n = (function () {\n        return function n() {\n            throw new Error();\n        };\n    }()),\n    o = (function () {\n        return function p() {\n            throw new Error();\n        };\n    }());\n\nconsole.log([a, b, c].concat(Object.keys(e).reduce(function (values, key) {\n    return values.concat(e[key]);\n}, [])).concat([m, n, o]).reduce(function (logs, func) {\n\n    try {\n        func();\n    } catch (error) {\n        return logs.concat('func.name: ' + func.name + '\\n' +\n                           'Trace:\\n' +\n                           error.stack);\n        // Need to manually log the error object in Nitro.\n    }\n\n}, []).join('\\n\\n'));\n</code></pre>\n\n<h2>V8</h2>\n\n<pre><code>func.name: \nTrace:\nError\n    at a (http://localhost:8000/test.js:4:11)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: b\nTrace:\nError\n    at b (http://localhost:8000/test.js:7:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: d\nTrace:\nError\n    at d (http://localhost:8000/test.js:10:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: \nTrace:\nError\n    at a (http://localhost:8000/test.js:4:11)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: b\nTrace:\nError\n    at b (http://localhost:8000/test.js:7:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: d\nTrace:\nError\n    at d (http://localhost:8000/test.js:10:15)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: \nTrace:\nError\n    at e.i (http://localhost:8000/test.js:17:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: j\nTrace:\nError\n    at j (http://localhost:8000/test.js:20:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: l\nTrace:\nError\n    at l (http://localhost:8000/test.js:23:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: \nTrace:\nError\n    at http://localhost:8000/test.js:28:19\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: n\nTrace:\nError\n    at n (http://localhost:8000/test.js:33:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27\n\nfunc.name: p\nTrace:\nError\n    at p (http://localhost:8000/test.js:38:19)\n    at http://localhost:8000/test.js:47:9\n    at Array.reduce (native)\n    at http://localhost:8000/test.js:44:27 test.js:42\n</code></pre>\n\n<h2>SpiderMonkey</h2>\n\n<pre><code>func.name: \nTrace:\na@http://localhost:8000/test.js:4:5\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: \nTrace:\na@http://localhost:8000/test.js:4:5\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:9\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: \nTrace:\ne.i@http://localhost:8000/test.js:17:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: j\nTrace:\nj@http://localhost:8000/test.js:20:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: l\nTrace:\nl@http://localhost:8000/test.js:23:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: \nTrace:\nm&lt;/&lt;@http://localhost:8000/test.js:28:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: n\nTrace:\nn@http://localhost:8000/test.js:33:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n\n\nfunc.name: p\nTrace:\np@http://localhost:8000/test.js:38:13\n@http://localhost:8000/test.js:47:9\n@http://localhost:8000/test.js:54:1\n</code></pre>\n\n<h2>Chakra</h2>\n\n<pre><code>func.name: undefined\nTrace:\nError\n   at a (http://localhost:8000/test.js:4:5)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at b (http://localhost:8000/test.js:7:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at d (http://localhost:8000/test.js:10:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at a (http://localhost:8000/test.js:4:5)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at b (http://localhost:8000/test.js:7:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at d (http://localhost:8000/test.js:10:9)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at e.i (http://localhost:8000/test.js:17:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at j (http://localhost:8000/test.js:20:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at l (http://localhost:8000/test.js:23:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at Anonymous function (http://localhost:8000/test.js:28:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at n (http://localhost:8000/test.js:33:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n\n\nfunc.name: undefined\nTrace:\nError\n   at p (http://localhost:8000/test.js:38:13)\n   at Anonymous function (http://localhost:8000/test.js:47:9)\n   at Global code (http://localhost:8000/test.js:42:1)\n</code></pre>\n\n<h2>Nitro</h2>\n\n<pre><code>func.name: \nTrace:\na@http://localhost:8000/test.js:4:22\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: \nTrace:\na@http://localhost:8000/test.js:4:22\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: b\nTrace:\nb@http://localhost:8000/test.js:7:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: d\nTrace:\nd@http://localhost:8000/test.js:10:26\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: \nTrace:\ni@http://localhost:8000/test.js:17:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: j\nTrace:\nj@http://localhost:8000/test.js:20:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: l\nTrace:\nl@http://localhost:8000/test.js:23:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: \nTrace:\nhttp://localhost:8000/test.js:28:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: n\nTrace:\nn@http://localhost:8000/test.js:33:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n\nfunc.name: p\nTrace:\np@http://localhost:8000/test.js:38:30\nhttp://localhost:8000/test.js:47:13\nreduce@[native code]\nglobal code@http://localhost:8000/test.js:44:33\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've recently started maintaining someone else's JavaScript code. I'm fixing bugs, adding features and also trying to tidy up the code and make it more consistent.</p>\n\n<p>The previous developer uses two ways of declaring functions and I can't work out if there is a reason behind it or not.</p>\n\n<p>The two ways are:</p>\n\n<pre><code>var functionOne = function() {\n    // Some code\n};\n</code></pre>\n\n\n\n<pre><code>function functionTwo() {\n    // Some code\n}\n</code></pre>\n\n<p>What are the reasons for using these two different methods and what are the pros and cons of each? Is there anything that can be done with one method that can't be done with the other?</p>\n",
            "last_activity_date": 1421119498,
            "question_id": 336859,
            "score": 2492,
            "tags": [
                "javascript",
                "function",
                "syntax",
                "idioms"
            ],
            "title": "var functionName = function() {} vs function functionName() {}"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>You cannot upload files using <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\">XMLHttpRequest</a> (Ajax). You can simulate the effect using an iframe or Flash. Try the SWF (Flash) uploader <em><a href=\"http://demo.swfupload.org/Documentation/\">SWFUpload</a></em>.</p>\n\n<p>Or the excellent <a href=\"http://malsup.com/jquery/form/\">jQuery Form Plugin</a> that posts your files through an iframe to get the effect.</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<h3>You cannot <em>practically</em> do <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a> file uploads if you need wide-ranging browser support.</h3>\n\n<p><a href=\"http://caniuse.com/fileapi\">The new file API is not supported in IE before version 10</a> so depending on where you pull your stats from and your natural demographic, you're looking at 5-20% of your users. For most sane developers this is an unaffordable loss.</p>\n\n<p>However if you create an iframe on the page (that you can hide with CSS), you can target your form to post to that iframe. The main page doesn't need to move.</p>\n\n<p>Because it's a real post, it's not wholly interactive so you'd need to look at requesting the progress of the current upload from your server. This varies massively depending on your server. <a href=\"http://en.wikipedia.org/wiki/ASP.NET\">ASP.NET</a> has nicer mechanisms. PHP plain fails, but you can use <a href=\"http://en.wikipedia.org/wiki/Perl\">Perl</a> or Apache modifications to get around it.</p>\n\n<p>If you need multiple file-uploads, it's best to do each file one at a time (to overcome maximum file upload limits). Post the first form to the iframe, monitor its progress using the above and when it has finished, post the second form to the iframe, and so on.</p>\n\n<p>Or use a Java/Flash solution. They're a lot more flexible in what they can do with their posts...</p>\n",
                    "is_accepted": false,
                    "score": 99
                },
                {
                    "body": "<p>There are various ready-made plugins on doing file upload on jQuery.</p>\n\n<p>Doing this kind of uploading hacks is not an enjoyable experience, so people enjoy using ready-made solutions.</p>\n\n<p>Here's few:</p>\n\n<ul>\n<li><a href=\"http://www.phpletter.com/Demo/AjaxFileUpload-Demo/\">Ajax File Upload Plugin</a></li>\n<li><a href=\"http://www.fyneworks.com/jquery/multiple-file-upload/\">Multiple File Upload Plugin</a></li>\n<li><a href=\"http://demo.tutorialzine.com/2013/05/mini-ajax-file-upload-form/\">Mini Multiple File Upload</a></li>\n<li><a href=\"http://blueimp.github.io/jQuery-File-Upload/\">jQuery File Upload</a></li>\n</ul>\n\n<p>You can search more from jQuery's plugin site.</p>\n",
                    "is_accepted": false,
                    "score": 194
                },
                {
                    "body": "<p>A solution I found was to have the <code>&lt;form&gt;</code> target a hidden iFrame. The iFrame can then run JS to display to the user that it's complete (on page load).</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I recommend using the <a href=\"http://fineuploader.com/demos.html\">Fine Uploader</a> plugin for this purpose. Your JavaScript code would be:</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"#uploadbutton\").jsupload({\n        action: \"addFile.do\",\n        onComplete: function(response){\n            alert( \"server response: \" + response);\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 72
                },
                {
                    "body": "<p><a href=\"http://www.williambharding.com/blog/rails/rails-ajax-image-uploading-made-simple-with-jquery/\">I've written this up in a Rails environment</a>.  It's only about five lines of JavaScript, if you use the lightweight jQuery-form plugin.</p>\n\n<p>The challenge is in getting AJAX upload working as the standard <code>remote_form_for</code> doesn't understand multi-part form submission. It's not going to send the file data Rails seeks back with the AJAX request.   </p>\n\n<p>That's where the jQuery-form plugin comes into play.  </p>\n\n<p>Here\u2019s the Rails code for it:</p>\n\n<pre><code>&lt;% remote_form_for(:image_form, \n                   :url =&gt; { :controller =&gt; \"blogs\", :action =&gt; :create_asset }, \n                   :html =&gt; { :method =&gt; :post, \n                              :id =&gt; 'uploadForm', :multipart =&gt; true }) \n                                                                        do |f| %&gt;\n Upload a file: &lt;%= f.file_field :uploaded_data %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Here\u2019s the associated JavaScript:</p>\n\n<pre><code>$('#uploadForm input').change(function(){\n $(this).parent().ajaxSubmit({\n  beforeSubmit: function(a,f,o) {\n   o.dataType = 'json';\n  },\n  complete: function(XMLHttpRequest, textStatus) {\n   // XMLHttpRequest.responseText will contain the URL of the uploaded image.\n   // Put it in an image element you create, or do with it what you will.\n   // For example, if you have an image elemtn with id \"my_image\", then\n   //  $('#my_image').attr('src', XMLHttpRequest.responseText);\n   // Will set that image tag to display the uploaded image.\n  },\n });\n});\n</code></pre>\n\n<p>And here\u2019s the Rails controller action, pretty vanilla:</p>\n\n<pre><code> @image = Image.new(params[:image_form])\n @image.save\n render :text =&gt; @image.public_filename\n</code></pre>\n\n<p>I\u2019ve been using this for the past few weeks with Bloggity, and it\u2019s worked like a champ.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>I've come across a few really powerful jQuery-based file upload libraries. Check these out:</p>\n\n<ol>\n<li><a href=\"http://www.plupload.com/\" rel=\"nofollow\">Plupload</a>\n<ul>\n<li>docs: <a href=\"http://www.plupload.com/docs\" rel=\"nofollow\">http://www.plupload.com/docs</a></li>\n</ul></li>\n<li><a href=\"https://blueimp.github.io/jQuery-File-Upload/\" rel=\"nofollow\">jQuery File Upload</a>\n<ul>\n<li>docs: <a href=\"https://github.com/blueimp/jQuery-File-Upload\" rel=\"nofollow\">https://github.com/blueimp/jQuery-File-Upload</a></li>\n</ul></li>\n<li><a href=\"http://fineuploader.com/\" rel=\"nofollow\">FineUploader</a>\n<ul>\n<li>docs: <a href=\"http://docs.fineuploader.com/\" rel=\"nofollow\">http://docs.fineuploader.com/</a></li>\n</ul></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>This <a href=\"https://github.com/jfeldstein/jQuery.AjaxFileUpload.js\">AJAX file upload jQuery plugin</a> uploads the file somehwere, and passes the\nresponse to a callback, nothing else. </p>\n\n<ul>\n<li>It does not depend on specific HTML, just give it a <code>&lt;input type=\"file\"&gt;</code></li>\n<li>It does not require your server to respond in any particular way</li>\n<li>It does not matter how many files you use, or where they are on the page</li>\n</ul>\n\n<p>-- Use as little as --</p>\n\n<pre><code>$('#one-specific-file').ajaxfileupload({\n  'action': '/upload.php'\n});\n</code></pre>\n\n<p>-- or as much as --</p>\n\n<pre><code>$('input[type=\"file\"]').ajaxfileupload({\n  'action': '/upload.php',\n  'params': {\n    'extra': 'info'\n  },\n  'onComplete': function(response) {\n    console.log('custom handler for file:');\n    alert(JSON.stringify(response));\n  },\n  'onStart': function() {\n    if(weWantedTo) return false; // cancels upload\n  },\n  'onCancel': function() {\n    console.log('no file selected');\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>With <a href=\"http://en.wikipedia.org/wiki/HTML5\">HTML5</a> you CAN make file uploads with Ajax and jQuery. Not only that, you can do file validations (name, size, and MIME-type) or handle the progress event with the HTML5 progress tag (or a div). Recently I had to make a file uploader, but I didn't want to use <a href=\"http://en.wikipedia.org/wiki/Adobe_Flash\">Flash</a> nor Iframes or plugins and after some research I came up with the solution.</p>\n\n<p>The HTML:</p>\n\n<pre><code>&lt;form enctype=\"multipart/form-data\"&gt;\n    &lt;input name=\"file\" type=\"file\" /&gt;\n    &lt;input type=\"button\" value=\"Upload\" /&gt;\n&lt;/form&gt;\n&lt;progress&gt;&lt;/progress&gt;\n</code></pre>\n\n<p>First, you can do some validation if you want. For example, in the onChange event of the file:</p>\n\n<pre><code>$(':file').change(function(){\n    var file = this.files[0];\n    var name = file.name;\n    var size = file.size;\n    var type = file.type;\n    //Your validation\n});\n</code></pre>\n\n<p>Now the Ajax submit with the button's click:</p>\n\n<pre><code>$(':button').click(function(){\n    var formData = new FormData($('form')[0]);\n    $.ajax({\n        url: 'upload.php',  //Server script to process data\n        type: 'POST',\n        xhr: function() {  // Custom XMLHttpRequest\n            var myXhr = $.ajaxSettings.xhr();\n            if(myXhr.upload){ // Check if upload property exists\n                myXhr.upload.addEventListener('progress',progressHandlingFunction, false); // For handling the progress of the upload\n            }\n            return myXhr;\n        },\n        //Ajax events\n        beforeSend: beforeSendHandler,\n        success: completeHandler,\n        error: errorHandler,\n        // Form data\n        data: formData,\n        //Options to tell jQuery not to process data or worry about content-type.\n        cache: false,\n        contentType: false,\n        processData: false\n    });\n});\n</code></pre>\n\n<p>Now if you want to handle the progress.</p>\n\n<pre><code>function progressHandlingFunction(e){\n    if(e.lengthComputable){\n        $('progress').attr({value:e.loaded,max:e.total});\n    }\n}\n</code></pre>\n\n<p>As you can see, with HTML5 (and some research) file uploading not only becomes possible but super easy. Try it with <a href=\"http://en.wikipedia.org/wiki/Google_Chrome\">Google Chrome</a> as some of the HTML5 components of the examples aren't available in every browser.</p>\n",
                    "is_accepted": false,
                    "score": 1316
                },
                {
                    "body": "<p>I have been using the below script to upload images which happens to work fine.</p>\n\n<h1>HTML</h1>\n\n<pre><code>&lt;input id=\"file\" type=\"file\" name=\"file\"/&gt;\n&lt;div id=\"response\"&gt;&lt;/div&gt;\n</code></pre>\n\n<h1>JavaScript</h1>\n\n<pre><code>jQuery('document').ready(function(){\n    var input = document.getElementById(\"file\");\n    var formdata = false;\n    if (window.FormData) {\n        formdata = new FormData();\n    }\n    input.addEventListener(\"change\", function (evt) {\n        var i = 0, len = this.files.length, img, reader, file;\n\n        for ( ; i &lt; len; i++ ) {\n            file = this.files[i];\n\n            if (!!file.type.match(/image.*/)) {\n                if ( window.FileReader ) {\n                    reader = new FileReader();\n                    reader.onloadend = function (e) {\n                        //showUploadedItem(e.target.result, file.fileName);\n                    };\n                    reader.readAsDataURL(file);\n                }\n\n                if (formdata) {\n                    formdata.append(\"image\", file);\n                    formdata.append(\"extra\",'extra-data');\n                }\n\n                if (formdata) {\n                    jQuery('div#response').html('&lt;br /&gt;&lt;img src=\"ajax-loader.gif\"/&gt;');\n\n                    jQuery.ajax({\n                        url: \"upload.php\",\n                        type: \"POST\",\n                        data: formdata,\n                        processData: false,\n                        contentType: false,\n                        success: function (res) {\n                         jQuery('div#response').html(\"Successfully uploaded\");\n                        }\n                    });\n                }\n            }\n            else\n            {\n                alert('Not a vaild image!');\n            }\n        }\n\n    }, false);\n});\n</code></pre>\n\n<h1>Explanation</h1>\n\n<p>I use response <code>div</code> to show the uploading animation and response after upload is done.</p>\n\n<p>Best part is you can send extra data such as ids &amp; etc with the file when you use this script. I have mention it <code>extra-data</code> as in the script.</p>\n\n<p>At the PHP level this will work as normal file upload. extra-data can be retrieved as <code>$_POST</code> data.</p>\n\n<p>Here you are not using a plugin and stuff. You can change the code as you want. You are not blindly coding here. This is the core functionality of any jQuery file upload. Actually Javascript.</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>You can do it in vanilla JavaScript pretty easily. Here's a snippet from my current project:</p>\n\n<pre><code>var xhr = new XMLHttpRequest();\nxhr.upload.onprogress = function(e) {\n    var percent = (e.position/ e.totalSize);\n    // Render a pretty progress bar\n};\nxhr.onreadystatechange = function(e) {\n    if(this.readyState === 4) {\n        // Handle file upload complete\n    }\n};\nxhr.open('POST', '/upload', true);\nxhr.setRequestHeader('X-FileName',file.name); // Pass the filename along\nxhr.send(file);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>jQuery <a href=\"http://www.uploadify.com/download/\" rel=\"nofollow\">Uploadify</a> is another good plugin which I have used before to upload files. The JavaScript code is as simple as the following: code. However, the new version does not work in Internet&nbsp;Explorer.</p>\n\n<pre><code>$('#file_upload').uploadify({\n    'swf': '/public/js/uploadify.swf',\n    'uploader': '/Upload.ashx?formGuid=' + $('#formGuid').val(),\n    'cancelImg': '/public/images/uploadify-cancel.png',\n    'multi': true,\n    'onQueueComplete': function (queueData) {\n        // ...\n    },\n    'onUploadStart': function (file) {\n        // ...\n    }\n});\n</code></pre>\n\n<p>I have done a lot of searching and I have come to another solution for uploading files without any plugin and only with ajax. The solution is as below:</p>\n\n<pre><code>$(document).ready(function () {\n    $('#btn_Upload').live('click', AjaxFileUpload);\n});\n\nfunction AjaxFileUpload() {\n    var fileInput = document.getElementById(\"#Uploader\");\n    var file = fileInput.files[0];\n    var fd = new FormData();\n    fd.append(\"files\", file);\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", 'Uploader.ashx');\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n             alert('success');\n        }\n        else if (uploadResult == 'success')\n            alert('error');\n    };\n    xhr.send(fd);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Simple Ajax Uploader is another option:</p>\n\n<p><a href=\"https://github.com/LPology/Simple-Ajax-Uploader\">https://github.com/LPology/Simple-Ajax-Uploader</a></p>\n\n<ul>\n<li>Cross-browser -- works in IE7+, Firefox, Chrome, Safari, Opera</li>\n<li>Supports multiple, concurrent uploads -- even in non-HTML5 browsers</li>\n<li>No flash or external CSS -- just one 5Kb Javascript file</li>\n<li>Optional, built-in support for fully cross-browser progress bars (using PHP's APC extension)</li>\n<li>Flexible and highly customizable -- use any element as upload button, style your own progress indicators</li>\n<li>No forms required, just provide an element that will serve as upload button</li>\n<li>MIT license -- free to use in commercial project</li>\n</ul>\n\n<p>Example usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var uploader = new ss.SimpleUpload({\n    button: $('#uploadBtn'), // upload button\n    url: '/uploadhandler', // URL of server-side upload handler\n    name: 'userfile', // parameter name of the uploaded file\n    onSubmit: function() {\n        this.setProgressBar( $('#progressBar') ); // designate elem as our progress bar\n    },\n    onComplete: function(file, response) {\n        // do whatever after upload is finished\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You can use</p>\n\n<pre><code>$(function() {\n    $(\"#file_upload_1\").uploadify({\n        height        : 30,\n        swf           : '/uploadify/uploadify.swf',\n        uploader      : '/uploadify/uploadify.php',\n        width         : 120\n    });\n});\n</code></pre>\n\n<p><a href=\"http://www.uploadify.com/demos/\" rel=\"nofollow\">Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>To upload file asynchronously with Jquery use below steps:</p>\n\n<p><strong>step 1</strong> In your project open Nuget manager and add package (jquery fileupload(only you need to write it in search box it will come up and install it.))\nURL: <a href=\"https://github.com/blueimp/jQuery-File-Upload\" rel=\"nofollow\">https://github.com/blueimp/jQuery-File-Upload</a></p>\n\n<p><strong>step 2</strong> Add below scripts in the HTML files, which are already added to the project by running above package:</p>\n\n<blockquote>\n  <p>jquery.ui.widget.js</p>\n  \n  <p>jquery.iframe-transport.js</p>\n  \n  <p>jquery.fileupload.js</p>\n</blockquote>\n\n<p><strong>step 3</strong>  Write file upload control as per below code:</p>\n\n<pre><code>&lt;input id=\"upload\" name=\"upload\" type=\"file\" /&gt;\n</code></pre>\n\n<p><strong>step 4</strong>  write a js method as uploadFile as below: </p>\n\n<pre><code> function uploadFile(element) {\n\n            $(element).fileupload({\n\n                dataType: 'json',\n                url: '../DocumentUpload/upload',\n                autoUpload: true,\n                add: function (e, data) {           \n                  // write code for implementing, while selecting a file. \n                  // data represents the file data. \n                  //below code triggers the action in mvc controller\n                  data.formData =\n                                    {\n                                     files: data.files[0]\n                                    };\n                  data.submit();\n                },\n                done: function (e, data) {          \n                   // after file uploaded\n                },\n                progress: function (e, data) {\n\n                   // progress\n                },\n                fail: function (e, data) {\n\n                   //fail operation\n                },\n                stop: function () {\n\n                  code for cancel operation\n                }\n            });\n\n        };\n</code></pre>\n\n<p><strong>step 5</strong> In ready function call element file upload to initiate the process as per below:</p>\n\n<pre><code>$(document).ready(function()\n{\n    uploadFile($('#upload'));\n\n});\n</code></pre>\n\n<p><strong>step 6</strong> Write MVC controller and Action as per below:</p>\n\n<pre><code>public class DocumentUploadController : Controller\n    {       \n\n        [System.Web.Mvc.HttpPost]\n        public JsonResult upload(ICollection&lt;HttpPostedFileBase&gt; files)\n        {\n            bool result = false;\n\n            if (files != null || files.Count &gt; 0)\n            {\n                try\n                {\n                    foreach (HttpPostedFileBase file in files)\n                    {\n                        if (file.ContentLength == 0)\n                            throw new Exception(\"Zero length file!\");                       \n                        else \n                            //code for saving a file\n\n                    }\n                }\n                catch (Exception)\n                {\n                    result = false;\n                }\n            }\n\n\n            return new JsonResult()\n                {\n                    Data=result\n                };\n\n\n        }\n\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Convert file to base64 using |HTML5's <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader#readAsDataURL%28%29\" rel=\"nofollow\">readAsDataURL()</a> or <a href=\"http://scotch.io/quick-tips/js/how-to-encode-and-decode-strings-with-base64-in-javascript\" rel=\"nofollow\">some base64 encoder</a>. \n<a href=\"http://jsfiddle.net/eliseosoto/JHQnk/\" rel=\"nofollow\">Fiddle here</a></p>\n\n<pre><code>var reader = new FileReader();\n\n        reader.onload = function(readerEvt) {\n            var binaryString = readerEvt.target.result;\n            document.getElementById(\"base64textarea\").value = btoa(binaryString);\n        };\n\n        reader.readAsBinaryString(file);\n</code></pre>\n\n<p>Then to retrieve:</p>\n\n<pre><code>window.open(\"data:application/octet-stream;base64,\" + base64);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The simplest and most robust way I have done this in the past, is to simply target a hidden iFrame tag with you form - then it will submit within the iframe without reloading the page.</p>\n\n<p>That is if you don't want to use a plugin</p>\n\n<pre><code>&lt;form target=\"iframe\" action=\"\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;input name=\"file\" type=\"file\" /&gt;\n    &lt;input type=\"button\" value=\"Upload\" /&gt;\n&lt;/form&gt;\n\n&lt;iframe name=\"iframe\" id=\"iframe\" style=\"display:none\" &gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>You can also read the contents of the iframe ( onLoad() ) for server error or success response and then output that to user.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can upload simply with AJAX.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"targetLayer\"&gt;No Image&lt;/div&gt;\n&lt;form id=\"uploadForm\"&gt;\n    &lt;label&gt;Upload Image File:&lt;/label&gt;&lt;br/&gt;\n    &lt;input name=\"image\" type=\"file\" /&gt;\n    &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>$(document).ready(function (e) {\n    $(\"#uploadForm\").on('submit',(function(e) {\n        e.preventDefault();\n        $.ajax({\n            url: \"upload.php\",\n            type: \"POST\",\n            data:  new FormData(this),\n            contentType: false,\n            cache: false,\n            processData:false,\n            success: function(data){\n                $(\"#targetLayer\").html(data);\n            }           \n       });\n    }));\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Wrapping up for future readers.</p>\n\n<h1>Asynchronous File Upload</h1>\n\n<h2>With HTML5</h2>\n\n<p>You can upload files <strong>with jQuery</strong> using the <code>$.ajax()</code> method if <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects\">FormData</a> and the <a href=\"https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications\">File API</a> are supported (both HTML5 features). </p>\n\n<p>You can also send files <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Submitting_forms_and_uploading_files\">without FormData</a> but either way the File API must be present to process files in such a way that they can be sent with <em>XMLHttpRequest</em> (Ajax).</p>\n\n<pre><code>$.ajax({\n  url: 'file/destination.html', \n  type: 'POST',\n  data: new FormData($('#formWithFiles')[0]), // The form with the file inputs.\n  processData: false                          // Using FormData, no need to process data.\n}).done(function(){\n  console.log(\"Success: Files sent!\");\n}).fail(function(){\n  console.log(\"An error occurred, the files couldn't be sent!\");\n});\n</code></pre>\n\n<p>For a quick, pure JavaScript (<strong>no jQuery</strong>) example see \"<a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects#Sending_files_using_a_FormData_object\">Sending files using a FormData object</a>\".</p>\n\n<h2>Fallback</h2>\n\n<p>When HTML5 isn't supported (no <em>File API</em>) the only other pure JavaScript solution (no <em>Flash</em> or any other browser plugin) is the <strong>hidden iframe</strong> technique, which allows to emulate an asynchronous request without using the <em>XMLHttpRequest</em> object.</p>\n\n<p>It consists of setting an iframe as the target of the form with the file inputs. When the user submits a request is made and the files are uploaded but the response is displayed inside the iframe instead of re-rendering the main page. Hiding the iframe makes the whole process transparent to the user and emulates an asynchronous request.</p>\n\n<p>If done properly it should work virtually on any browser, but it has some caveats as how to obtain the response from the iframe. </p>\n\n<p>In this case you may prefer to use a wrapper plugin like <a href=\"//github.com/matiasgagliano/bifrost\">Bifr\u00f6st</a> which uses the <em>iframe technique</em> but also provides a <a href=\"//api.jquery.com/jQuery.ajaxTransport\">jQuery Ajax transport</a> allowing to <strong>send files</strong> with just the <code>$.ajax()</code> method like this:</p>\n\n<pre><code>$.ajax({\n  url: 'file/destination.html', \n  type: 'POST',\n  // Set the transport to use (iframe means to use Bifr\u00f6st)\n  // and the expected data type (json in this case).\n  dataType: 'iframe json',                                \n  fileInputs: $('input[type=\"file\"]'),  // The file inputs containing the files to send.\n  data: { msg: 'Some extra data you might need.'}\n}).done(function(){\n  console.log(\"Success: Files sent!\");\n}).fail(function(){\n  console.log(\"An error occurred, the files couldn't be sent!\");\n});\n</code></pre>\n\n<h2>Plugins</h2>\n\n<p><a href=\"//github.com/matiasgagliano/bifrost\">Bifr\u00f6st</a> is just a small wrapper that adds fallback support to jQuery's ajax method, but many of the aforementioned plugins like <a href=\"//malsup.com/jquery/form/\">jQuery Form Plugin</a> or <a href=\"//github.com/blueimp/jQuery-File-Upload\">jQuery File Upload</a> include the whole stack from HTML5 to different fallbacks and some useful features to ease out the process. Depending on your needs and requirements you might want to consider a bare implementation or either of this plugins.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;script&gt;\r\n   $(\"form\").submit(function(evt){\t \r\n   evt.preventDefault();\r\n\r\n   var formData = new FormData($(this)[0]); \r\n\r\n   $.ajax({\r\n     url: 'fileUpload',\r\n     type: 'POST',\r\n     data: formData,\r\n     async: false,\r\n     cache: false,\r\n     contentType: false,\r\n     enctype: 'multipart/form-data',\r\n     processData: false,\r\n     success: function (response) {\r\n       alert(response);\r\n     }\r\n   });\r\n\r\n   return false;\r\n });\r\n&lt;/script&gt;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;table&gt;\r\n\r\n    &lt;tr&gt;\r\n      &lt;td colspan=\"2\"&gt;File Upload&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Select File &lt;/th&gt;\r\n      &lt;td&gt;&lt;input id=\"csv\" name=\"csv\" type=\"file\" /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr&gt;\r\n      &lt;td colspan=\"2\"&gt;\r\n        &lt;input type=\"submit\" value=\"submit\"/&gt; \r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n  &lt;/table&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to upload a file asynchronously with jQuery. This is my HTML:</p>\n\n<pre><code>&lt;span&gt;File&lt;/span&gt;\n&lt;input type=\"file\" id=\"file\" name=\"file\" size=\"10\"/&gt;\n&lt;input id=\"uploadbutton\" type=\"button\" value=\"Upload\"/&gt;\n</code></pre>\n\n<p>And here my JavaScript code:</p>\n\n<pre><code>$(document).ready(function () {\n    $(\"#uploadbutton\").click(function () {\n        var filename = $(\"#file\").val();\n\n        $.ajax({\n            type: \"POST\",\n            url: \"addFile.do\",\n            enctype: 'multipart/form-data',\n            data: {\n                file: filename\n            },\n            success: function () {\n                alert(\"Data Uploaded: \");\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>Instead of the file being uploaded, I am only getting the filename. What can I do to fix this problem?</p>\n\n<h3>Current Solution</h3>\n\n<p>I am using the <a href=\"http://malsup.com/jquery/form/#code-samples\">jQuery Form Plugin</a> to upload files.</p>\n",
            "last_activity_date": 1425241508,
            "question_id": 166221,
            "score": 1380,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "asynchronous",
                "upload"
            ],
            "title": "How can I upload files asynchronously?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>One word answer: <strong>asynchronicity</strong>.</p>\n\n<h2>Forewords</h2>\n\n<p>This topic has been iterated at least a couple of thousands times, here, in Stack Overflow. Hence, first off I'd like to point out some extremely useful resources:</p>\n\n<ul>\n<li><p><a href=\"http://stackoverflow.com/a/14220323/1331430\">@Felix Kling's \"How to return the response from an AJAX call\"</a>. See his excellent answer explaining synchronous and asynchronous flows, as well as the \"Restructure code\" section.<br>\n@Benjamin Gruenbaum has also put a lot of effort explaining asynchronicity in the same thread.</p></li>\n<li><p><a href=\"http://stackoverflow.com/a/10058879/1331430\">@Matt Esch's answer to \"Get data from fs.readFile\"</a> also explains asynchronicity extremely well in a simple manner.</p></li>\n</ul>\n\n<hr>\n\n<h2>The answer to the question at hand</h2>\n\n<p>Let's trace the common behavior first. In all examples, the <code>outerScopeVar</code> is modified inside of a <em>function</em>. That function is clearly not executed immediately, it is being assigned or passed as an argument. That is what we call a <strong><em>callback</em></strong>.</p>\n\n<p>Now the question is, when is that callback called?</p>\n\n<p>It depends on the case. Let's try to trace some common behavior again:</p>\n\n<ul>\n<li><code>img.onload</code> may be called <em>sometime in the future</em>, when (and if) the image has successfully loaded.</li>\n<li><code>setTimeout</code> may be called <em>sometime in the future</em>, after the delay has expired and the timeout hasn't been cancelled by <code>clearTimeout</code>. Note: even when using <code>0</code> as delay, all browsers have a minimum timeout delay cap (specified to be 4ms in the HTML5 spec).</li>\n<li>jQuery <code>$.post</code>'s callback may be called <em>sometime in the future</em>, when (and if) the Ajax request has been completed successfully.</li>\n<li>Node.js's <code>fs.readFile</code> may be called <em>sometime in the future</em>, when the file has been read successfully or thrown an error.</li>\n</ul>\n\n<p>In all cases, we have a callback which may run <em>sometime in the future</em>. This \"sometime in the future\" is what we refer to as <strong>asynchronous flow</strong>.</p>\n\n<p>Asynchronous execution is pushed out of the synchronous flow. That is, asynchronous code will <strong>never</strong> execute while the synchronous code stack is executing. This is the meaning of JavaScript being single-threaded.</p>\n\n<p>More specifically, when the JS engine is idle -- not executing a stack of (a)synchronous code -- it will poll for events that may have triggered asynchronous callbacks (e.g. expired timeout, received network response) and execute them one after another. This is regarded as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/EventLoop\">Event Loop</a>.</p>\n\n<p>That is, the asynchronous code highlighted in the hand-drawn red shapes may execute only after all the remaining synchronous code in their respective code blocks have executed:</p>\n\n<p><img src=\"http://i.stack.imgur.com/40IwM.png\" alt=\"async code highlighted\"></p>\n\n<p>In short, the callback functions are created synchronously, but executed asynchronously. You just can't rely on the execution of an asynchronous function until you know it has executed, and how to do that?</p>\n\n<p>It is simple, really. The logic that depends on the asynchronous function execution should be started/called from inside this asynchronous function. For example, moving the <code>alert</code>s and <code>console.log</code>s to inside the callback function would output the expected result, because the result is available at that point.</p>\n\n<h3>Implementing your own callback logic</h3>\n\n<p>Often you need to do more things with the result from an asynchronous function, or do different things with the result depending from where the asynchronous function has been called. Let's tackle a bit more complex example:</p>\n\n<pre><code>var outerScopeVar;\nhelloCatAsync();\nalert(outerScopeVar);\n\nfunction helloCatAsync() {\n    setTimeout(function() {\n        outerScopeVar = 'Nya';\n    }, Math.random() * 2000);\n}\n</code></pre>\n\n<p><strong>Note:</strong> I'm using <code>setTimeout</code> with a random delay as a generic asynchronous function, the same example applies to Ajax, <code>readFile</code>, <code>onload</code> and any other asynchronous flow.</p>\n\n<p>This example clearly suffers from the same issue as the other examples, it is not waiting until the asynchronous function executes.</p>\n\n<p>Let's tackle it implementing a callback system of our own. First off, we get rid of that ugly <code>outerScopeVar</code> which is completely useless in this case. Then we add a parameter which accepts a function argument, our callback. When the asynchronous operation finishes, we call this callback passing the result. The implementation (please read the comments in order):</p>\n\n<pre><code>// 1. Call helloCatAsync passing a callback function,\n//    which will be called receiving the result from the async operation\nhelloCatAsync(function(result) {\n    // 5. Received the result from the async function,\n    //    now do whatever you want with it:\n    alert(result);\n});\n\n// 2. The \"callback\" parameter is a reference to the function which\n//    was passed as argument from the helloCatAsync call\nfunction helloCatAsync(callback) {\n    // 3. Start async operation:\n    setTimeout(function() {\n        // 4. Finished async operation,\n        //    call the callback passing the result as argument\n        callback('Nya');\n    }, Math.random() * 2000);\n}\n</code></pre>\n\n<p>Most often in real use cases, the DOM API and most libraries already provide the callback functionality (the <code>helloCatAsync</code> implementation in this demonstrative example). You only need to pass the callback function and understand that it will execute out of the synchronous flow, and restructure your code to accommodate for that.</p>\n\n<p>You will also notice that due to the asynchronous nature, it is impossible to <code>return</code> a value from an asynchronous flow back to the synchronous flow where the callback was defined, as the asynchronous callbacks are executed long after the synchronous code has already finished executing.</p>\n\n<p>Instead of <code>return</code>ing a value from an asynchronous callback, you will have to make use of the callback pattern, or... Promises.</p>\n\n<h3>Promises</h3>\n\n<p>Although there are ways to keep the <a href=\"http://callbackhell.com/\">callback hell</a> at bay with vanilla JS, promises are growing in popularity and are currently being standardized in ES6 (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise - MDN</a>).</p>\n\n<p>Promises (a.k.a. Futures) provide a more linear, and thus pleasant, reading of asynchronous code, but explaining their entire functionality is out of the scope of this question. Instead, I'll leave these excellent resources for the interested:</p>\n\n<ul>\n<li><a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">JavaScript Promises - HTML5 Rocks</a></li>\n<li><a href=\"http://domenic.me/2012/10/14/youre-missing-the-point-of-promises/\">You're Missing the Point of Promises - domenic.me</a></li>\n</ul>\n\n<hr>\n\n<h3>More reading material about JavaScript asynchronicity</h3>\n\n<ul>\n<li><a href=\"https://github.com/maxogden/art-of-node#callbacks\">The Art of Node - Callbacks</a> explains asynchronous code and callbacks very well with vanilla JS examples and Node.js code as well.</li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note:</strong> I've marked this answer as Community Wiki, hence anyone with at least 100 reputation can edit and improve it! Please feel free to improve this answer, or submit a completely new answer if you'd like as well.</p>\n  \n  <p>I want to turn this question into a canonical topic to answer asynchronicity issues which are unrelated to Ajax (there is <a href=\"http://stackoverflow.com/q/14220321/1331430\">How to return the response from an AJAX call?</a> for that), hence this topic needs your help to be as good and helpful as possible!</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 80
                },
                {
                    "body": "<p><em>Fabr\u00edcio's answer is spot on; but I wanted to complement his answer with something less technical, which focusses on an analogy to help explain the concept of asynchronicity</em>.</p>\n\n<hr>\n\n<h3>An Analogy...</h3>\n\n<p>Yesterday, the work I was doing required some information from a colleague. I rang him up; here's how the conversation went:</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Hi Bob, I need to know how we <em>foo</em>'d the <em>bar</em>'d last week. Jim wants a report on it, and you're the only one who knows the details around it.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Bob</strong>: Sure thing, but it'll take me around 30 minutes?</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Me</strong>: That's great Bob. Give me a ring back when you've got the information!</p>\n</blockquote>\n\n<p>At this point, I hung up the phone. Since I needed information from Bob to complete my report, I left the report and went for a coffee instead, then I caught up on some email. 40 minutes later (Bob is slow), Bob called back and gave me the information I needed. At this point, I resumed my work with my report, as I had all the information I needed.</p>\n\n<hr>\n\n<p>Imagine if the conversation had gone like this instead;</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Hi Bob, I need to know how we <em>foo</em>'d the <em>bar</em>'d last week. Jim want's a report on it, and you're the only one who knows the details around it.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Bob</strong>: Sure thing, but it'll take me around 30 minutes?</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Me</strong>: That's great Bob. I'll wait.</p>\n</blockquote>\n\n<p>And I sat there and waited. And waited. And waited. For 40 minutes. Doing nothing but waiting. Eventually Bob gave me the information, we hung up, and I completed my report. But I'd lost 40 minutes of productivity.</p>\n\n<hr>\n\n<h3>This is asynchronous vs. synchronous behaviour</h3>\n\n<p>This is exactly what is happening in all the examples in our question. Loading an image, loading a file off disk, and requesting a page via AJAX are all slow operations (in the context of modern computing). </p>\n\n<p>Rather than <em>waiting</em> for these slow operations to complete, JavaScript lets you register a callback function which will be executed when the slow operation has completed. In the meantime however, JavaScript will continue to execute other code. The fact that JavaScript executes <em>other code</em> whilst waiting for the slow operation to complete makes the behaviour <strong>asynchronous</strong>. Had JavaScript waited around for the operation to complete before executing any other code, this would have been <strong>synchronous</strong> behaviour.</p>\n\n<pre><code>var outerScopeVar;    \nvar img = document.createElement('img');\n\n// Here we register the callback function.\nimg.onload = function() {\n    // Code within this function will be executed once the image has loaded.\n    outerScopeVar = this.width;\n};\n\n// But, while the image is loading, JavaScript continues executing, and\n// processes the following lines of JavaScript.\nimg.src = 'lolcat.png';\nalert(outerScopeVar);\n</code></pre>\n\n<p>In the code above, we're asking JavaScript to load <code>lolcat.png</code>, which is a <em>sloooow</em> operation. The callback function will be executed once this slow operation has done, but in the meantime, JavaScript will keep processing the next lines of code; i.e. <code>alert(outerScopeVar)</code>. </p>\n\n<p>This is why we see the alert showing <code>undefined</code>; since the <code>alert()</code> is processed immediately, rather than after the image has been loaded. This is analogous to me handing the report back to Jim <em>straight</em> after hanging up the phone to Bob, without giving him chance to figure out how we <em>foo</em>'d the <em>bar</em>. </p>\n\n<p>In order to fix our code, all we have to do is move the <code>alert(outerScopeVar)</code> code <em>into</em> the callback function. As a consequence of this, we no longer need the <code>outerScopeVar</code> variable declared as a global variable.</p>\n\n<pre><code>var img = document.createElement('img');\n\nimg.onload = function() {\n    var localScopeVar = this.width;\n    alert(localScopeVar);\n};\n\nimg.src = 'lolcat.png';\n</code></pre>\n\n<p>You'll <strong><em>always</em></strong> see a callback being specified as a function, because that's the only* way in JavaScript to define some code, but not execute it until later.</p>\n\n<p>Therefore, in all of our examples, the <code>function() { /* Do something */ }</code> is the callback; to fix <strong>all</strong> the examples, all we have to do is move the code which needs the response of the operation into there!</p>\n\n<p><sup>* Technically you can use <code>eval()</code> as well, but <a href=\"http://stackoverflow.com/questions/86513/why-is-using-the-javascript-eval-function-a-bad-idea\"><code>eval()</code> is evil</a> for this purpose</sup></p>\n\n<hr>\n\n<h3>How do I keep my caller waiting?</h3>\n\n<p>You might currently have some code similar to this;</p>\n\n<pre><code>function getWidthOfImage(src) {\n    var outerScopeVar;\n\n    var img = document.createElement('img');\n    img.onload = function() {\n        outerScopeVar = this.width;\n    };\n    img.src = src;\n    return outerScopeVar;\n}\n\nvar width = getWidthOfImage('lolcat.png');\nalert(width);\n</code></pre>\n\n<p>However, we now know that the <code>return outerScopeVar</code> happens immediately; before the callback function has updated the variable. Again, this is analogous to me handing the report back to Jim <em>straight</em> after hanging up the phone to Bob, without giving him chance to figure out how we <em>foo</em>'d the <em>bar</em>. </p>\n\n<p>We therefore need to allow the caller to register a callback, so we can tell them once the <em>slow operation</em> has completed (whether it be an AJAX call, an image load, or a report by Bob...). As before, we've also been able to do away with the variables <code>outerScopeVar</code> and <code>width</code> by fixing the code:</p>\n\n<pre><code>function getWidthOfImage(src, cb) {     \n    var img = document.createElement('img');\n    img.onload = function() {\n        cb(this.width);\n    };\n    img.src = src;\n}\n\ngetWidthOfImage('lolcat.png', function (width) {\n    alert(width);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>The other answers are excellent, but I wanted to provide a more concise answer for people that are looking for a quick reference as well as some examples using promises.</p>\n\n<p>Start with the naive approach (that doesn't work) for a function that calls an asynchronous method (in this case <code>setTimeout</code>) and returns a message:</p>\n\n<pre><code>function getMessage() {\n  var outerScopeVar;\n  setTimeout(function() {\n    outerScopeVar = 'Hello asynchronous world!';\n  }, 0);\n  return outerScopeVar;\n}\nconsole.log(getMessage());\n</code></pre>\n\n<p><code>undefined</code> gets logged in this case because <code>getMessage</code> returns before the <code>setTimeout</code> callback is called and updates <code>outerScopeVar</code>.</p>\n\n<p>The two main ways to solve it are using <strong>callbacks</strong> and <strong>promises</strong>:</p>\n\n<p><strong>Callbacks</strong></p>\n\n<p>The change here is that <code>getMessage</code> accepts a <code>callback</code> parameter that will be called to deliver the results back to the calling code once available.</p>\n\n<pre><code>function getMessage(callback) {\n  setTimeout(function() {\n    callback('Hello asynchronous world!');\n  }, 0);\n}\ngetMessage(function(message) {\n  console.log(message);\n});\n</code></pre>\n\n<p><strong><a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">Promises</a></strong></p>\n\n<p>Promises provide an alternative which is more flexible than callbacks because they can be naturally combined to coordinate multiple async operations. A <a href=\"https://promisesaplus.com/\">Promises/A+</a> standard implementation is natively provided in many current browsers, but is also implemented in libraries like <a href=\"https://github.com/petkaantonov/bluebird\">Bluebird</a> and <a href=\"https://github.com/kriskowal/q\">Q</a>.</p>\n\n<pre><code>function getMessage() {\n  return new Promise(function(resolve, reject) {\n    setTimeout(function() {\n      resolve('Hello asynchronous world!');\n    }, 0);\n  });\n}\n\ngetMessage().then(function(message) {\n  console.log(message);  \n});\n</code></pre>\n\n<p><strong>jQuery <a href=\"http://api.jquery.com/category/deferred-object/\">Deferreds</a></strong></p>\n\n<p>jQuery provides functionality that's similar to promises with its Deferreds.</p>\n\n<pre><code>function getMessage() {\n  var deferred = $.Deferred();\n  setTimeout(function() {\n    deferred.resolve('Hello asynchronous world!');\n  }, 0);\n  return deferred.promise();\n}\n\ngetMessage().done(function(message) {\n  console.log(message);  \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Given the following examples, why is <code>outerScopeVar</code> undefined in all cases?</p>\n\n<pre><code>var outerScopeVar;\n\nvar img = document.createElement('img');\nimg.onload = function() {\n    outerScopeVar = this.width;\n};\nimg.src = 'lolcat.png';\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>var outerScopeVar;\nsetTimeout(function() {\n    outerScopeVar = 'Hello Asynchronous World!';\n}, 0);\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// Example using some jQuery\nvar outerScopeVar;\n$.post('loldog', function(response) {\n    outerScopeVar = response;\n});\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// Node.js example\nvar outerScopeVar;\nfs.readFile('./catdog.html', function(err, data) {\n    outerScopeVar = data;\n});\nconsole.log(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// with promises\nvar outerScopeVar;\nmyPromise.then(function (response) {\n    outerScopeVar = response;\n});\nconsole.log(outerScopeVar);\n</code></pre>\n\n<p>Why does it output \"undefined\" in all of these examples? I don't want workarounds, I want to know <strong>why</strong> this is happening.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note:</strong> This is a canonical question for <em>JavaScript asynchronicity</em>. Feel free to improve this question and add more simplified examples which the community can identify with.</p>\n</blockquote>\n",
            "last_activity_date": 1426103018,
            "question_id": 23667086,
            "score": 75,
            "tags": [
                "javascript",
                "asynchronous"
            ],
            "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference"
        },
        {
            "answer_count": 30,
            "answers": [
                {
                    "body": "<p>The identity (<code>===</code>) operator behaves identically to the equality (<code>==</code>) operator except no type conversion is done, and the types must be the same to be considered equal.</p>\n\n<p>Reference: <a href=\"http://www.c-point.com/javascript_tutorial/jsgrpComparison.htm\">Javascript Tutorial: Comparison Operators</a></p>\n\n<p>The <code>==</code> operator will compare for equality <em>after doing any necessary type conversions</em>.  The <code>===</code> operator will <strong>not</strong> do the conversion, so if two values are not the same type <code>===</code> will simply return <code>false</code>. It's this case where <code>===</code> will be faster, and may return a different result than <code>==</code>. In all other cases performance will be the same.</p>\n\n<p>To quote Douglas Crockford's excellent <a href=\"http://rads.stackoverflow.com/amzn/click/0596517742\">JavaScript: The Good Parts</a>,</p>\n\n<blockquote>\n  <p>JavaScript has two sets of equality operators: <code>===</code> and <code>!==</code>, and their evil twins <code>==</code> and <code>!=</code>.  The good ones work the way you would expect.  If the two operands are of the same type and have the same value, then <code>===</code> produces <code>true</code> and <code>!==</code> produces <code>false</code>.  The evil twins do the right thing when the operands are of the same type, but if they are of different types, they attempt to coerce the values.  the rules by which they do that are complicated and unmemorable.  These are some of the interesting cases:</p>\n\n<pre><code>'' == '0'           // false\n0 == ''             // true\n0 == '0'            // true\n\nfalse == 'false'    // false\nfalse == '0'        // true\n\nfalse == undefined  // false\nfalse == null       // false\nnull == undefined   // true\n\n' \\t\\r\\n ' == 0     // true\n</code></pre>\n  \n  <p>The lack of transitivity is alarming.  My advice is to never use the evil twins.  Instead, always use <code>===</code> and <code>!==</code>.  All of the comparisons just shown produce <code>false</code> with the <code>===</code> operator.</p>\n</blockquote>\n\n<hr>\n\n<h3>Update:</h3>\n\n<p>A good point was brought up by <a href=\"http://stackoverflow.com/users/165495/casebash\">@Casebash</a> in the comments and in <a href=\"http://stackoverflow.com/users/113570/philippe-leybaert\">@Phillipe Laybaert's</a> <a href=\"http://stackoverflow.com/a/957602/1288\">answer</a> concerning reference types.  For reference types <code>==</code> and <code>===</code> act consistently with one another (except in a special case).</p>\n\n<pre><code>var a = [1,2,3];\nvar b = [1,2,3];\n\nvar c = { x: 1, y: 2 };\nvar d = { x: 1, y: 2 };\n\nvar e = \"text\";\nvar f = \"te\" + \"xt\";\n\na == b            // false\na === b           // false\n\nc == d            // false\nc === d           // false\n\ne == f            // true\ne === f           // true\n</code></pre>\n\n<p>The special case is when you compare a literal with an object that evaluates to the same literal, due to its <code>toString</code> or <code>valueOf</code> method. For example, consider the comparison of a string literal with a string object created by the <code>String</code> constructor.</p>\n\n<pre><code>\"abc\" == new String(\"abc\")    // true\n\"abc\" === new String(\"abc\")   // false\n</code></pre>\n\n<p>Here the <code>==</code> operator is checking the values of the two objects and returning <code>true</code>, but the <code>===</code> is seeing that they're not the same type and returning <code>false</code>.  Which one is correct?  That really depends on what you're trying to compare.  My advice is to bypass the question entirely and just don't use the <code>String</code> constructor to create string objects.</p>\n\n<p><strong>Reference</strong><br>\n<a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3\">http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3</a></p>\n",
                    "is_accepted": true,
                    "score": 2539
                },
                {
                    "body": "<p>Using the <code>==</code> operator (<em>Equality</em>)</p>\n\n<pre><code>true == 1; //true, because 'true' is converted to 1 and then compared\n\"2\" == 2;  //true, because \"2\" is converted to 2 and then compared\n</code></pre>\n\n<p>Using the <code>===</code> operator (<em>Identity</em>)</p>\n\n<pre><code>true === 1; //false\n\"2\" === 2;  //false\n</code></pre>\n\n<p>This is because the <strong>equality operator <code>==</code> does type coercion</strong>, meaning that the interpreter implicitly tries to convert the values before comparing.</p>\n\n<p>On the other hand, the <strong>identity operator <code>===</code> does not do type coercion</strong>, and thus does not convert the values when comparing.</p>\n",
                    "is_accepted": false,
                    "score": 427
                },
                {
                    "body": "<p>There is unlikely to be any performance difference between the two operations in your usage. There is no type-conversion to be done because both parameters are already the same type. Both operations will have a type comparison followed by a value comparison.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>The <strong>===</strong> operator is called a strict comparison operator, it <strong>does</strong> differ from the <strong>==</strong> operator.</p>\n\n<p>Lets take 2 vars a and b.</p>\n\n<p>For <strong>\"a == b\"</strong> to evaluate to true a and b need to be the <strong>same value</strong>.</p>\n\n<p>In the case of <strong>\"a === b\"</strong> a and b must be the <strong>same value</strong> and also the <strong>same type</strong> for it to evaluate to true.  </p>\n\n<p>Take the following example</p>\n\n<pre><code>var a = 1;\nvar b = \"1\";\n\nif (a == b) //evaluates to true as a and b are both 1\n{\n    alert(\"a == b\");\n}\n\nif (a === b) //evaluates to false as a is not the same type as b\n{\n    alert(\"a === b\");\n}\n</code></pre>\n\n<p><strong>In summary</strong>; using the <strong>==</strong> operator might evaluate to true in situations where you do not want it to so using the <strong>===</strong> operator would be safer.  </p>\n\n<p>In the 90% usage scenario it won't matter which one you use, but it is handy to know the difference when you get some unexpected behaviour one day.</p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>In a typical script there will be no performance difference. More important may be the fact that thousand \"===\" is 1&nbsp;KB heavier than thousand \"==\" :) <a href=\"http://stackoverflow.com/questions/tagged/javascript+performance\">JavaScript profilers</a> can tell you if there is a performance difference in your case.</p>\n\n<p>But personally I would do what JSLint suggests. This recommendation is there not because of performance issues, but because type coercion means <code>('\\t\\r\\n' == 0)</code> is true.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I tested this in Firefox with <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\" rel=\"nofollow\">Firebug</a> using code like this:</p>\n\n<pre><code>console.time(\"testEquality\");\nvar n = 0;\nwhile(true) {\n    n++;\n    if(n==100000) \n        break;\n}\nconsole.timeEnd(\"testEquality\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>console.time(\"testTypeEquality\");\nvar n = 0;\nwhile(true) {\n    n++;\n    if(n===100000) \n        break;\n}\nconsole.timeEnd(\"testTypeEquality\");\n</code></pre>\n\n<p>My results (tested five times each and averaged):</p>\n\n<pre><code>==: 115.2\n===: 114.4\n</code></pre>\n\n<p>So I'd say that the miniscule difference (this is over 100000 iterations, remember) is negligible. Performance <strong><em>isn't</em></strong> a reason to do <code>===</code>. Type safety (well, as safe as you're going to get in JavaScript), and code quality is.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>The problem is that you might easily get into trouble since JavaScript have a lot of implicit conversions meaning...</p>\n\n<pre><code>var x = 0;\nvar isTrue = x == null;\nvar isFalse = x === null;\n</code></pre>\n\n<p>Which pretty soon becomes a problem. The best sample of why implicit conversion is \"evil\" can be taken from this code in <a href=\"http://en.wikipedia.org/wiki/Microsoft_Foundation_Class_Library\" rel=\"nofollow\">MFC</a> / C++ which actually will compile due to an implicit conversion from CString to HANDLE which is a pointer typedef type...</p>\n\n<pre><code>CString x;\ndelete x;\n</code></pre>\n\n<p>Which obviously during runtime does <em>very</em> undefined things...</p>\n\n<p>Google for implicit conversions in C++ and <a href=\"http://en.wikipedia.org/wiki/Standard_Template_Library\" rel=\"nofollow\">STL</a> to get some of the arguments against it...</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In the answers here, I didn't read anything about what <strong>equal</strong> means. Some will say that <code>===</code> means <strong>equal and of the same type</strong>, but that's not really true. It actually means that <strong>both operands reference the same object</strong>, or in case of <strong>value types, have the same value</strong>.</p>\n\n<p>So, let's take the following code:</p>\n\n<pre><code>var a = [1,2,3];\nvar b = [1,2,3];\nvar c = a;\n\nvar ab_eq = (a === b); // false (even though a and b are the same type)\nvar ac_eq = (a === c); // true\n</code></pre>\n\n<p>The same here:</p>\n\n<pre><code>var a = { x: 1, y: 2 };\nvar b = { x: 1, y: 2 };\nvar c = a;\n\nvar ab_eq = (a === b); // false (even though a and b are the same type)\nvar ac_eq = (a === c); // true\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>var a = { };\nvar b = { };\nvar c = a;\n\nvar ab_eq = (a === b); // false (even though a and b are the same type)\nvar ac_eq = (a === c); // true\n</code></pre>\n\n<p>This behavior is not always obvious. There's more to the story than being equal and being of the same type.</p>\n\n<p>The rule is:</p>\n\n<p><em><strong>For value types (numbers):</em></strong><br>\n   <code>a === b</code> returns true if <code>a</code> and <code>b</code> have the same value and are of the same type</p>\n\n<p><em><strong>For reference types:</em></strong><br>\n   <code>a === b</code> returns true if <code>a</code> and <code>b</code> reference the exact same object</p>\n\n<p><em><strong>For strings:</em></strong><br>\n   <code>a === b</code> returns true if <code>a</code> and <code>b</code> are both strings and contain the exact same characters</p>\n\n<hr>\n\n<h2>Strings: the special case...</h2>\n\n<p>Strings are not value types, but in Javascript they behave like value types, so they will be \"equal\" when the characters in the string are the same and when they are of the same length (as explained in the third rule)</p>\n\n<p>Now it becomes interesting:</p>\n\n<pre><code>var a = \"12\" + \"3\";\nvar b = \"123\";\n\nalert(a === b); // returns true, because strings behave like value types\n</code></pre>\n\n<p>But how about this?:</p>\n\n<pre><code>var a = new String(\"123\");\nvar b = \"123\";\n\nalert(a === b); // returns false !! (but they are equal and of the same type)\n</code></pre>\n\n<p>I thought strings behave like value types? Well, it depends who you ask... In this case a and b are not the same type. <code>a</code> is of type <code>Object</code>, while <code>b</code> is of type <code>string</code>. Just remember that creating a string object using the <code>String</code> constructor creates something of type <code>Object</code> that behaves as a string <em>most of the time</em>.</p>\n",
                    "is_accepted": false,
                    "score": 244
                },
                {
                    "body": "<p>Let me add this counsel:</p>\n\n<p><strong><em>If in doubt, read the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">specification</a>!</em></strong> </p>\n\n<p>ECMA-262 is the specification for a scripting language of which JavaScript is a dialect. Of course in practice it matters more how the most important browsers behave than an esoteric definition how something is supposed to be handled. But it is helpful to understand why <strong>new String(\"a\") !== \"a\"</strong>.</p>\n\n<p>Please let me explain how to read the specification to clarify this question. I see that in this very old topic nobody had an answer for the very strange effect. So, if you can read a specification, this will help you in your profession tremendously. It is an acquired skill. So, let's continue.</p>\n\n<p>Searching the PDF file for === brings me to page 56 of the specification: <strong>11.9.4. The Strict Equals Operator ( === )</strong>, and after wading through the specificationalese I find:</p>\n\n<blockquote>\n  <p><strong>11.9.6 The Strict Equality Comparison Algorithm</strong><br>\n  The comparison x === y, where x and y are values, produces <strong>true</strong> or <strong>false</strong>. Such a comparison is performed as follows:<br>\n  &nbsp;&nbsp;1. If Type(x) is different from Type(y), return <strong>false</strong>.<br>\n  &nbsp;&nbsp;2. If Type(x) is Undefined, return <strong>true</strong>.<br>\n  &nbsp;&nbsp;3. If Type(x) is Null, return <strong>true</strong>.<br>\n  &nbsp;&nbsp;4. If Type(x) is not Number, go to step 11.<br>\n  &nbsp;&nbsp;5. If x is <strong>NaN</strong>, return <strong>false</strong>.<br>\n  &nbsp;&nbsp;6. If y is <strong>NaN</strong>, return <strong>false</strong>.<br>\n  &nbsp;&nbsp;7. If x is the same number value as y, return <strong>true</strong>.<br>\n  &nbsp;&nbsp;8. If x is +0 and y is \u22120, return <strong>true</strong>.<br>\n  &nbsp;&nbsp;9. If x is \u22120 and y is +0, return <strong>true</strong>.<br>\n  &nbsp;&nbsp;10. Return <strong>false</strong>.<br>\n  &nbsp;&nbsp;11. If Type(x) is String, then return <strong>true</strong> if x and y are exactly the same sequence of characters (same length and same characters in corresponding positions); otherwise, return <strong>false</strong>.<br>\n  &nbsp;&nbsp;12. If Type(x) is Boolean, return <strong>true</strong> if x and y are both <strong>true</strong> or both <strong>false</strong>; otherwise, return <strong>false</strong>.\n  &nbsp;&nbsp;13. Return <strong>true</strong> if x and y refer to the same object or if they refer to objects joined to each other (see 13.1.2). Otherwise, return <strong>false</strong>.</p>\n</blockquote>\n\n<p>Interesting ist step 11. Yes, strings are treated as value types. But this does not explain why <strong>new String(\"a\") !== \"a\"</strong>. Do we have a browser not conforming to ECMA-262?</p>\n\n<p>Not so fast!</p>\n\n<p>Let's check the types of the operands. Try it out for yourself by wrapping them in <strong>typeof()</strong>. I find that <strong>new String(\"a\")</strong> is an object, and step 1 is used: return <strong>false</strong> if the types are different.</p>\n\n<p>If you wonder why <strong>new String(\"a\")</strong> does not return a string, how about some exercise reading a specification? Have fun!</p>\n\n<hr>\n\n<p>Aidiakapi wrote this in a comment below:</p>\n\n<blockquote>\n  <p>From the specification </p>\n  \n  <p><strong>11.2.2 The new Operator</strong>:</p>\n  \n  <p>If Type(constructor) is not Object, throw a TypeError exception.</p>\n  \n  <p>With other words, if String wouldn't be of type Object it couldn't be used with the new operator. </p>\n</blockquote>\n\n<p><strong>new</strong> always returns an Object, even for <strong>String</strong> constructors, too. And alas! The value semantics for strings (see step 11) is lost.</p>\n\n<p>And this finally means: <strong>new String(\"a\") !== \"a\"</strong>.</p>\n",
                    "is_accepted": false,
                    "score": 138
                },
                {
                    "body": "<p>It checked if same sides are equal in <strong>type</strong> as well as <strong>value</strong>. Example:</p>\n\n<pre><code>'1' === 1 // will return \"false\" because `string` is not a `number`\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>In JavaScript it means of the same value and type.</p>\n\n<p>For example,</p>\n\n<pre><code>4 == \"4\" // will return true\n</code></pre>\n\n<p>but</p>\n\n<pre><code>4 === \"4\" // will return false \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>In PHP and JavaScript, it is a strict equality operator. Which means, it will compare both type and values.</p>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>It means <strong>equality without type coercion</strong></p>\n\n<pre><code>0==false   // true\n0===false  // false, different types\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>From the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Operators/Comparison_Operators\">core javascript reference</a>\n=== Returns true if the operands are strictly equal (see above) with no type conversion.    </p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>It checks the values as well as the types of the variables for equality.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>It's a strict check test.</p>\n\n<p>It's a good thing especially if you're checking between 0 and false and null. </p>\n\n<p>For example, if you have:</p>\n\n<p>$a = 0;</p>\n\n<p>Then:</p>\n\n<pre><code>$a==0; \n$a==NULL;\n$a==false;\n</code></pre>\n\n<p>All returns true and you may not want this. Let's suppose you have a function that can return the 0th index of an array or false on failure. If you check with \"==\" false, you can get a confusing result.</p>\n\n<p>So with the same thing as above, but a strict test:</p>\n\n<pre><code>$a = 0;\n\n$a===0; // returns true\n$a===NULL; // returns false\n$a===false; // returns false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p><em><strong>The equal comparison operator == is confusing and should be avoided.</em></strong> </p>\n\n<p>If you <strong>HAVE TO</strong> live with it, then remember the following 3 things: </p>\n\n<ol>\n<li><strong>It is not transitive: <em>(a == b)</em> and <em>(b == c)</em> does not lead to <em>(a == c)</em></strong></li>\n<li><strong>It's mutually exclusive to its negation: <em>(a == b)</em> and <em>(a != b)</em> always hold opposite Boolean values, with all a and b.</strong></li>\n<li><strong>In case of doubt, learn by heart the following truth table:</strong></li>\n</ol>\n\n<p>EQUAL OPERATOR TRUTH TABLE IN JAVASCRIPT</p>\n\n<ul>\n<li>Each row in the table is a set of 3 mutually \"equal\" values, meaning that any 2 values among them are equal using the equal == sign*</li>\n</ul>\n\n<p>** STRANGE: note that any two values on the first column are not equal in that sense.**</p>\n\n<pre><code>''       == 0 == false   // Any two values among these 3 ones are equal with the == operator\n'0'      == 0 == false   // Also a set of 3 equal values, note that only 0 and false are repeated\n'\\t'     == 0 == false   // -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n'\\r'     == 0 == false   // -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n'\\n'     == 0 == false   // -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n'\\t\\r\\n' == 0 == false   // -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --\n\nnull == undefined  // These two \"default\" values are not-equal to any of the listed values above\nNaN                // NaN is not equal to any thing, even to itself.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>JSLint sometimes gives you unrealistic reasons to modify stuff. <code>===</code> has the exactly same performance as <code>==</code> if the types are already the same. </p>\n\n<p>It is faster only when the types are not the same, in which case it does not try to convert types but directly returns a false.</p>\n\n<p>So, <em>IMHO,</em> JSLint maybe used to write new code, but useless over-optimizing should be avoided at all costs. </p>\n\n<p>Meaning, there is no reason to change <code>== to ===</code> in a check like <code>if (a == 'test')</code> when you know it for a fact that a can only be a String. </p>\n\n<p>Modifying a lot of code that way wastes developers' and reviewers' time and achieves nothing.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>As a rule of thumb, I would generally use <code>===</code> instead of <code>==</code> (and <code>!==</code> instead of <code>!=</code>).</p>\n\n<p>Reasons are explained in in the answers above and also Douglas Crockford is pretty clear about it (<a href=\"http://rads.stackoverflow.com/amzn/click/0596517742\">JavaScript: The Good Parts</a>).</p>\n\n<p>However there is <strong>one single exception</strong>:\n<code>== null</code> is an efficient way to check for 'is null or undefined':</p>\n\n<pre><code>if( value == null ){\n    // value is either null or undefined\n}\n</code></pre>\n\n<p>For example jQuery 1.9.1 uses this pattern 43 times, and  the <a href=\"http://www.jshint.com/docs/#options\">JSHint syntax checker</a> even provides the <code>eqnull</code> relaxing option for this reason.</p>\n\n<p>From the <a href=\"http://contribute.jquery.org/style-guide/js/\">jQuery style guide</a>:</p>\n\n<blockquote>\n  <p>Strict equality checks (===) should be used in favor of ==. The only\n  exception is when checking for undefined and null by way of null.</p>\n\n<pre><code>// Check for both undefined and null values, for some important reason. \nundefOrNull == null;\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>JavaScript === vs == .\n\n    0==false   // true\n    0===false  // false, because they are of a different type\n    1==\"1\"     // true, auto type coercion\n    1===\"1\"    // false, because they are of a different type\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The top 2 answers both mentioned == means equality and === means identity. Unfortunately, this statement is incorrect. </p>\n\n<p>If both operands of == are objects, then they are compared to see if they are the same object. If both operands point to the same object, then the equal operator returns true. Otherwise,\nthe two are not equal. </p>\n\n<pre><code>var a = [1, 2, 3];  \nvar b = [1, 2, 3];  \nconsole.log(a == b)  // false  \nconsole.log(a === b) // false  \n</code></pre>\n\n<p>In the code above, both == and === get false because a and b are not the same objects.</p>\n\n<p>That's to say: if both operands of == are objects, == behaves same as ===, which also means identity. The essential difference of this two operators is about type conversion. == has conversion before it checks equality, but === does not.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><b>Equality comparison: </b></p>\n\n<p>Operator <code>==</code></p>\n\n<p>Returns true, when both operands are equal. The operands are converted to the same type before being compared.</p>\n\n<pre><code>&gt;&gt;&gt; 1 == 1\ntrue\n&gt;&gt;&gt; 1 == 2\nfalse\n&gt;&gt;&gt; 1 == '1'\ntrue\n</code></pre>\n\n<p><b>Equality and type comparison: </b></p>\n\n<p>Operator <code>===</code></p>\n\n<p>Returns true if both operands are equal and of the same type. It's generally \nbetter and safer if you compare this way, because there's no behind-the-scenes type conversions.</p>\n\n<pre><code>&gt;&gt;&gt; 1 === '1'\nfalse\n&gt;&gt;&gt; 1 === 1\ntrue\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>*<strong><em>Operators === vs == *</em></strong> </p>\n\n<pre><code>1 == true    =&gt;    true\ntrue == true    =&gt;    true\n1 === true    =&gt;    false\ntrue === true    =&gt;    true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a handy comparison table that shows the conversions that happen and the differences between <code>==</code> and <code>===</code>.</p>\n\n<p>As the conclusion states:</p>\n\n<blockquote>\n  <p>\"Use three equals unless you fully understand the conversions that take\n  place for two-equals.\"</p>\n</blockquote>\n\n<p><a href=\"http://dorey.github.io/JavaScript-Equality-Table/\" rel=\"nofollow\">http://dorey.github.io/JavaScript-Equality-Table/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>null and undefined are nothingness, that is,</p>\n\n<pre><code>var a;\nvar b = null;\n</code></pre>\n\n<p>Here <code>a</code> and <code>b</code> do not have values. Whereas, 0, false and '' are all values. One thing common beween all these are that they are all falsy values, which means they all <strong>satisfy</strong> falsy conditions.</p>\n\n<p>So, the 0, false and '' together form a sub-group. And on other hand, null &amp; undefined form the second sub-group. Check the comparisons in the below image. null and undefined would equal. The other three would equal to each other. But, they all are treated as falsy conditions in JavaScript.</p>\n\n<p><img src=\"http://i.stack.imgur.com/11I0i.jpg\" alt=\"Enter image description here\"></p>\n\n<p>This is same as any object (like {}, arrays, etc.), non-empty string &amp; Boolean true are all truthy conditions. But, they are all not equal.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>An interesting pictorial representation of the equality comparison between <code>==</code> and <code>===</code>.  </p>\n\n<p><strong>Source: <a href=\"http://dorey.github.io/JavaScript-Equality-Table/\">http://dorey.github.io/JavaScript-Equality-Table/</a></strong></p>\n\n<p><br/></p>\n\n<h1>var1===var2</h1>\n\n<blockquote>\n  <p><strong><em>When using three equals signs for JavaScript equality testing,\n  everything is as is. Nothing gets converted before being evaluated.</em></strong></p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/62vxI.png\" alt=\"Equality evaluation of === in JS\"></p>\n\n<p><br /></p>\n\n<h1>var1==var2</h1>\n\n<blockquote>\n  <p><strong><em>When using two equals signs for JavaScript equality testing, some\n  funky conversions take place.</em></strong></p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/35MpY.png\" alt=\"Equality evaluation of == in JS\"></p>\n\n<p><br /></p>\n\n<blockquote>\n  <p><strong><em>Moral of the story: Use three equals unless you fully understand the\n  conversions that take place for two-equals.</em></strong></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 113
                },
                {
                    "body": "<p>JavaScript has both strict and type\u2013converting comparisons. A strict comparison (e.g., <code>===</code>) is only true if the operands are of the same type. The more commonly used abstract comparison (e.g. <code>==</code>) converts the operands to the same Type before making the comparison.</p>\n\n<ul>\n<li><p>The equality(<code>==</code>) operator converts the operands if they are not of the same type, then applies strict comparison. If either operand is a number or a boolean, the operands are converted to numbers if possible; else if either operand is a string, the string operand is converted to a number if possible. If both operands are objects, then JavaScript compares internal references which are equal when operands refer to the same object in memory.</p>\n\n<p>Syntax</p>\n\n<p><code>x == y</code></p>\n\n<p>Examples</p>\n\n<p><code>3   == 3   // true\n\"3\"  == 3   // true\n3   == '3' // true</code></p></li>\n<li><p>The identity/strict equality(<code>===</code>) operator returns true if the operands are strictly equal (see above) with no type conversion.</p>\n\n<p>Syntax</p>\n\n<p><code>x === y</code></p>\n\n<p>Examples</p>\n\n<p><code>3 === 3   // true</code></p></li>\n</ul>\n\n<p>For reference: <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators\" rel=\"nofollow\">Comparison operators</a></em> (Mozilla Developer Network)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>==  Equality comparison: \nReturns true when both operands are equal. The operands are converted to the same type before being compared.   </p>\n\n<pre><code>&gt;&gt;&gt; 1 == 1 \ntrue;\n&gt;&gt;&gt; 1 == 2 \nfalse;\n&gt;&gt;&gt; 1 == '1' \nTrue\n</code></pre>\n\n<p>=== Equality and type comparison: \nReturns true if both operands are equal and of the same type. It's generally better and safer if you compare this way, because there's no behind-the-scenes type conversions.</p>\n\n<pre><code>&gt;&gt;&gt; 1 === '1'\nfalse;\n&gt;&gt;&gt; 1 === 1\ntrue\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>Yes!</strong> It does matter.</p>\n\n<p><code>===</code> operator in javascript <strong>checks value as well as type</strong> where as <code>==</code> operator just checks <strong>the value (does type conversion if required)</strong>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/5ttlR.png\" alt=\"enter image description here\"></p>\n\n<p>You can easily test it. Paste following code in an HTML file and open it in browser</p>\n\n<pre><code>&lt;script&gt;\n\nfunction onPageLoad()\n{\n    var x = \"5\";\n    var y = 5;\n    alert(x === 5);\n};\n\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body onload='onPageLoad();'&gt;\n</code></pre>\n\n<p>You will get '<strong>false</strong>' in alert. Now modify the <code>onPageLoad()</code> method to <code>alert(x == 5);</code> you will get <strong>true</strong>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you are making a web application or a secured page you should always use (only when possible)</p>\n\n<pre><code>===\n</code></pre>\n\n<p>because it will will check if it is the same content and if it is the same type!</p>\n\n<p>so when someone enters:</p>\n\n<pre><code>var check = 1;\nif(check == '1') {\n    //someone continued with a string instead of number, most of the time useless for your webapp, most of the time entered by a user who does not now what he is doing (this will sometimes let your app crash), or even worse it is a hacker searching for weaknesses in your webapp!\n}\n</code></pre>\n\n<p>but with</p>\n\n<pre><code>var check = 1;\nif(check === 1) {\n    //some continued with a number (no string) for your script\n} else {\n    alert('please enter a real number');\n}\n</code></pre>\n\n<p>a hacker will never get deeper in the system to find bugs and hack your app or your users</p>\n\n<p>my point it is that the </p>\n\n<pre><code>===\n</code></pre>\n\n<p>will add more security to your scripts</p>\n\n<p>of course you can also check if the entered number is valid, is a string, etc.. with other if statements inside the first example, but this is for at least me more easier to understand and use</p>\n\n<p>The reason I posted this is that the word 'more secure' or 'security' has never been said in this conversation (if you look at iCloud.com it uses 2019 times === and 1308 times ==, this also means that you sometimes have the use == instead of === because it will otherwise block your function, but as said in the begin you should use === as much as possible)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm using <a href=\"http://en.wikipedia.org/wiki/JSLint\">JSLint</a> to go through JavaScript, and it's returning many suggestions to replace <code>==</code> (two equals signs) with <code>===</code> (three equals signs) when doing things like comparing <code>idSele_UNVEHtype.value.length == 0</code> inside of an <code>if</code> statement.</p>\n\n<p>Is there a performance benefit to replacing <code>==</code> with <code>===</code>? </p>\n\n<p>Any performance improvement would be welcomed as many comparison operators exist.</p>\n\n<p>If no type conversion takes place, would there be a performance gain over <code>==</code>?</p>\n",
            "last_activity_date": 1420907041,
            "question_id": 359494,
            "score": 2385,
            "tags": [
                "javascript",
                "operators",
                "equality",
                "equality-operator",
                "identity-operator"
            ],
            "title": "Does it matter which equals operator (== vs ===) I use in JavaScript comparisons?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>All is in the doc :</p>\n\n<blockquote>\n  <p>The difference between attributes and properties can be important in specific situations. Before jQuery 1.6, the .attr() method sometimes took property values into account when retrieving some attributes, which could cause inconsistent behavior. As of jQuery 1.6, the .prop() method provides a way to explicitly retrieve property values, while .attr() only retrieves attributes.</p>\n</blockquote>\n\n<p>So use prop !</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>This change has been a long time coming for jQuery. For years, they've been content with a function named <code>attr()</code> that mostly retrieved DOM properties, not the result you'd expect from the name. The segregation of <a href=\"http://api.jquery.com/attr\" rel=\"nofollow\"><code>attr()</code></a> and <a href=\"http://api.jquery.com/prop\" rel=\"nofollow\"><code>prop()</code></a> should help alleviate some of the confusion between HTML attributes and DOM properties. <code>$.fn.prop()</code> grabs the specified DOM property, while <code>$.fn.attr()</code> grabs the specified HTML attribute. </p>\n\n<p>To fully understand how they work, here's an extended explanation on the difference between HTML attributes and DOM properties.:</p>\n\n<h2>HTML Attributes</h2>\n\n<h3>Syntax:</h3>\n\n<p><code>&lt;body onload=\"foo()\"&gt;</code></p>\n\n<p><strong>Purpose:</strong>\nAllows markup to have data associated with it for events, rendering, and other purposes.</p>\n\n<p><strong>Visualization:</strong>\n<img src=\"https://i.stack.imgur.com/NGBd6.png\" alt=\"HTML Attributes\">\nThe class attribute is shown here on the body. It's accessible through the following code:</p>\n\n<pre><code>var attr;\nattr = document.body.getAttribute(\"class\");\n//IE 8 Quirks and below\nattr = document.body.getAttribute(\"className\");\n</code></pre>\n\n<p>Attributes are returned in string form and can be inconsistent from browser to browser. However, they can be vital in some situations. As exemplified above, IE 8 Quirks Mode (and below) expects the name of a DOM property in get/set/removeAttribute instead of the attribute name. This is one of many reasons why it's important to know the difference.</p>\n\n<h2>DOM Properties</h2>\n\n<h3>Syntax:</h3>\n\n<p><code>document.body.onload = foo;</code></p>\n\n<p><strong>Purpose:</strong>\nGives access to properties that belong to element nodes. These properties are similar to attributes, but are only accessible through JavaScript. This is an important difference that helps clarify the role of DOM properties. <strong>Please note that attributes are completely different from properties</strong>, as this event handler assignment is useless and won't receive the event (body doesn't have an onload event, only an onload attribute).</p>\n\n<p><strong>Visualization:</strong>\n<img src=\"https://i.stack.imgur.com/genBY.png\" alt=\"DOM Properties\"></p>\n\n<p>Here, you'll notice a list of properties under the \"DOM\" tab in Firebug. These are DOM properties. You'll immediately notice quite a few of them, as you'll have used them before without knowing it. Their values are what you'll be receiving through JavaScript.</p>\n\n<h2>Documentation</h2>\n\n<ul>\n<li><a href=\"http://books.google.ca/books?id=2weL0iAfrEMC&amp;lpg=PT334&amp;ots=_9VAqAT03C&amp;dq=html%20attributes%20vs%20dom%20properties&amp;pg=PT332#v=onepage&amp;q&amp;f=false\" rel=\"nofollow\">JavaScript: The Definitive Guide by\nDavid Flanagan</a> </li>\n<li><a href=\"https://developer.mozilla.org/en/HTML/Attributes\" rel=\"nofollow\">HTML Attributes,\nMozilla Dev Center</a></li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/element#Properties\" rel=\"nofollow\">DOM Element Properties, Mozilla Dev Center</a></li>\n</ul>\n\n<h2>Example</h2>\n\n<p>HTML: <code>&lt;textarea id=\"test\" value=\"foo\"&gt;&lt;/textarea&gt;</code></p>\n\n<p>JavaScript: <code>alert($('#test').attr('value'));</code></p>\n\n<p>In earlier versions of jQuery, this returns an empty string. In 1.6, it returns the proper value, <code>foo</code>.</p>\n\n<p>Without having glanced at the new code for either function, I can say with confidence that the confusion has more to do with the difference between HTML attributes and DOM properties, than with the code itself. Hopefully, this cleared some things up for you.</p>\n\n<p>-Matt</p>\n",
                    "is_accepted": false,
                    "score": 162
                },
                {
                    "body": "<p><strong>Update 1 November 2012</strong></p>\n\n<p>My original answer applies specifically to jQuery 1.6. My advice remains the same but jQuery 1.6.1 changed things slightly: in the face of the predicted pile of broken websites, the jQuery team <a href=\"http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/\">reverted <code>attr()</code> to something close to (but not exactly the same as) its old behaviour for Boolean attributes</a>. John Resig also <a href=\"http://ejohn.org/blog/jquery-16-and-attr/\">blogged about it</a>. I can see the difficulty they were in but still disagree with his recommendation to prefer <code>attr()</code>.</p>\n\n<p><strong>Original answer</strong></p>\n\n<p>If you've only ever used jQuery and not the DOM directly, this could be a confusing change, although it is definitely an improvement conceptually. Not so good for the bazillions of sites using jQuery that will break as a result of this change though.</p>\n\n<p>I'll summarize the main issues:</p>\n\n<ul>\n<li>You usually want <code>prop()</code> rather than <code>attr()</code>.</li>\n<li>In the majority of cases, <code>prop()</code> does what <code>attr()</code> used to do. Replacing calls to <code>attr()</code> with <code>prop()</code> in your code will generally work.</li>\n<li>Properties are generally simpler to deal with than attributes. An attribute value may only be a string whereas a property can be of any type. For example, the <code>checked</code> property is a Boolean, the <code>style</code> property is an object with individual properties for each style, the <code>size</code> property is a number.</li>\n<li>Where both a property and an attribute with the same name exists, usually updating one will update the other, but this is not the case for certain attributes of inputs, such as <code>value</code> and <code>checked</code>: for these attributes, the property always represents the current state while the attribute (except in old versions of IE) corresponds to the default value/checkedness of the input (reflected in the <code>defaultValue</code> / <code>defaultChecked</code> property).</li>\n<li>This change removes some of the layer of magic jQuery stuck in front of attributes and properties, meaning jQuery developers will have to learn a bit about the difference between properties and attributes. This is a good thing.</li>\n</ul>\n\n<p>If you're a jQuery developer and are confused by this whole business about properties and attributes, you need to take a step back and learn a little about it, since jQuery is no longer trying so hard to shield you from this stuff. For the authoritative but somewhat dry word on the subject, there's the specs: <a href=\"http://www.w3.org/TR/dom/\">DOM4</a>, <a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/\">HTML DOM</a>, <a href=\"http://www.w3.org/TR/DOM-Level-2-Core\">DOM Level 2</a>, <a href=\"http://www.w3.org/TR/DOM-Level-3-Core/\">DOM Level 3</a>. Mozilla's DOM documentation is valid for most modern browsers and is easier to read than the specs, so you may find their <a href=\"https://developer.mozilla.org/en/gecko_dom_reference\">DOM reference</a> helpful. There's a <a href=\"https://developer.mozilla.org/en/DOM/element#Properties\">section on element properties</a>.</p>\n\n<p>As an example of how properties are simpler to deal with than attributes, consider a checkbox that is initially checked. Here are two possible pieces of valid HTML to do this:</p>\n\n<pre><code>&lt;input id=\"cb\" type=\"checkbox\" checked&gt;\n&lt;input id=\"cb\" type=\"checkbox\" checked=\"checked\"&gt;\n</code></pre>\n\n<p>So, how do you find out if the checkbox is checked with jQuery? Look on Stack Overflow and you'll commonly find the following suggestions:</p>\n\n<ul>\n<li><code>if ( $(\"#cb\").attr(\"checked\") === true ) {...}</code></li>\n<li><code>if ( $(\"#cb\").attr(\"checked\") == \"checked\" ) {...}</code></li>\n<li><code>if ( $(\"#cb\").is(\":checked\") ) {...}</code></li>\n</ul>\n\n<p>This is actually the simplest thing in the world to do with the <code>checked</code> Boolean property, which has existed and worked flawlessly in every major scriptable browser since 1995:</p>\n\n<p><code>if (document.getElementById(\"cb\").checked) {...}</code></p>\n\n<p>The property also makes checking or unchecking the checkbox trivial:</p>\n\n<p><code>document.getElementById(\"cb\").checked = false</code></p>\n\n<p>In jQuery 1.6, this unambiguously becomes</p>\n\n<p><code>$(\"#cb\").prop(\"checked\", false)</code></p>\n\n<p>The idea of using the <code>checked</code> attribute for scripting a checkbox is unhelpful and unnecessary. The property is what you need.</p>\n\n<ul>\n<li>It's not obvious what the correct way to check or uncheck the checkbox is using the <code>checked</code> attribute</li>\n<li>The attribute value reflects the default rather than the current visible state (except in some older versions of IE, thus making things still harder). The attribute tells you nothing about the whether the checkbox on the page is checked. See <a href=\"http://jsfiddle.net/VktA6/49/\">http://jsfiddle.net/VktA6/49/</a>.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 1002
                },
                {
                    "body": "<p>I think <a href=\"http://stackoverflow.com/questions/5874652/prop-vs-attr/5876747#5876747\">Tim said it quite well</a>, but let's step back:</p>\n\n<p>A DOM element is an object, a thing in memory. Like most objects in OOP, it has <em>properties</em>. It also, separately, has a map of the attributes defined on the element (usually coming from the markup that the browser read to create the element). Some of the element's <em>properties</em> get their <em>initial</em> values from <em>attributes</em> with the same or similar names (<code>value</code> gets its initial value from the \"value\" attribute; <code>href</code> gets its initial value from the \"href\" attribute, but it's not exactly the same value; <code>className</code> from the \"class\" attribute). Other properties get their initial values in other ways: For instance, the <code>parentNode</code> property gets its value based on what its parent element is; an element always has a <code>style</code> property, whether it has a \"style\" attribute or not.</p>\n\n<p>Let's consider this anchor in a page at <code>http://example.com/testing.html</code>:</p>\n\n<pre><code>&lt;a href='foo.html' class='test one' name='fooAnchor' id='fooAnchor'&gt;Hi&lt;/a&gt;\n</code></pre>\n\n<p>Some gratuitous ASCII art (and leaving out a lot of stuff):</p>\n\n<pre><code>+-------------------------------------------+\n| a                                         |\n+-------------------------------------------+\n| href:       \"http://example.com/foo.html\" |\n| name:       \"fooAnchor\"                   |\n| id:         \"fooAnchor\"                   |\n| className:  \"test one\"                    |\n| attributes:                               |\n|    href:  \"foo.html\"                      |\n|    name:  \"fooAnchor\"                     |\n|    id:    \"fooAnchor\"                     |\n|    class: \"test one\"                      |\n+-------------------------------------------+\n</code></pre>\n\n<p>Note that the properties and attributes are distinct.</p>\n\n<p>Now, although they are distinct, because all of this evolved rather than being designed from the ground up, a number of properties write back to the attribute they derived from if you set them. But not all do, and as you can see from <code>href</code> above, the mapping is not always a straight \"pass the value on\", sometimes there's interpretation involved.</p>\n\n<p>When I talk about properties being properties of an object, I'm not speaking in the abstract. Here's some non-jQuery code:</p>\n\n<pre><code>var link = document.getElementById('fooAnchor');\nalert(link.href);                 // alerts \"http://example.com/foo.html\"\nalert(link.getAttribute(\"href\")); // alerts \"foo.html\"\n</code></pre>\n\n<p>(Those values are as per most browsers; there's some variation.)</p>\n\n<p>The <code>link</code> object is a real thing, and you can see there's a real distinction between accessing a <em>property</em> on it, and accessing an <em>attribute</em>.</p>\n\n<p>As Tim said, the <strong>vast majority</strong> of the time, we want to be working with properties. Partially that's because their values (even their names) tend to be more consistent across browsers. We mostly only want to work with attributes when there is no property related to it (custom attributes), or when we know that for that particular attribute, the attribute and the property are not 1:1 (as with <code>href</code> and \"href\" above).</p>\n\n<p>The standard properties are laid out in the various DOM specs:</p>\n\n<ul>\n<li><a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/\">DOM2 HTML</a></li>\n<li><a href=\"http://www.w3.org/TR/DOM-Level-2-Core/\">DOM2 Core</a></li>\n<li><a href=\"http://www.w3.org/TR/DOM-Level-3-Core/\">DOM3 Core</a></li>\n</ul>\n\n<p>These specs have excellent indexes and I recommend keeping links to them handy; I use them all the time.</p>\n\n<p>Custom attributes would include, for instance, any <code>data-xyz</code> attributes you might put on elements to provide meta-data to your code (now that that's valid as of HTML5, as long as you stick to the <code>data-</code> prefix). (Recent versions of jQuery give you access to <code>data-xyz</code> elements via the <code>data</code> function, but that function does more than that and if you're just dealing with a <code>data-xyz</code> attribute, I'd actually use the <code>attr</code> function to interact with it.)</p>\n\n<p>The <code>attr</code> function used to have some convoluted logic around getting what they thought you wanted, rather than literally getting the attribute. It conflated the concepts. Moving to <code>prop</code> and <code>attr</code> is meant to de-conflate them. There will be some brief confusion, but hopefully a better understanding of what's really going on going forward.</p>\n\n<p>Some time kicking around the specs above, and experimenting, should help clear some of this up.  </p>\n\n<p><strong>Update</strong>: jQuery 1.6.1 changes the <code>attr</code> function again, in ways that the jQuery team say mean most code that currently uses <code>attr</code> will continue to work, even if <code>prop</code> would technically be preferred. Details in the <a href=\"http://blog.jquery.com/2011/05/10/jquery-1-6-1-rc-1-released/\">jQuery 1.6.1 blog post</a>.</p>\n",
                    "is_accepted": false,
                    "score": 370
                },
                {
                    "body": "<p>It's just the distinction between HTML attributes and DOM objects that causes a confusion. For those that are comfortable acting on the DOM elements native properties such a <code>this.src</code> <code>this.value</code> <code>this.checked</code> etc, <code>.prop</code> is a very warm welcome to the family. For others, it's just an added layer of confusion. Let's clear that up.</p>\n\n<p>The easiest way to see the difference between <code>.attr</code> and <code>.prop</code> is the following example:</p>\n\n<pre><code>&lt;input blah=\"hello\"&gt;\n</code></pre>\n\n<ol>\n<li><strong><code>$('input').attr('blah')</code></strong>: returns <code>'hello'</code> as expected. No suprises here.</li>\n<li><strong><code>$('input').prop('blah')</code></strong>: returns <code>undefined</code> -- because it's trying to do <code>[HTMLInputElement].blah</code> -- and no such property on that DOM object exists. It only exists in the scope as an attribute of that element i.e. <code>[HTMLInputElement].getAttribute('blah')</code></li>\n</ol>\n\n<p>Now we change a few things like so:</p>\n\n<pre><code>$('input').attr('blah', 'apple');\n$('input').prop('blah', 'pear');\n</code></pre>\n\n<ol>\n<li><strong><code>$('input').attr('blah')</code></strong>: returns <code>'apple'</code> eh? Why not \"pear\" as this was set last on that element. Because the property was changed on the input attribute, not the DOM input element itself -- they basically almost work independently of each other.</li>\n<li><strong><code>$('input').prop('blah')</code></strong>: returns <code>'pear'</code></li>\n</ol>\n\n<p>The thing you really need to be careful with is just <strong>do not mix the usage of these for the same property throughout your application</strong> for the above reason.</p>\n\n<p><strong>See a fiddle demonstrating the difference:</strong> <a href=\"http://jsfiddle.net/garreh/uLQXc/\">http://jsfiddle.net/garreh/uLQXc/</a></p>\n\n<hr>\n\n<h2><code>.attr</code> vs <code>.prop</code>:</h2>\n\n<h3>Round 1: style</h3>\n\n<pre><code>&lt;input style=\"font:arial;\"/&gt;\n</code></pre>\n\n<ul>\n<li><code>.attr('style')</code> -- returns inline styles for the matched element i.e. <code>\"font:arial;\"</code></li>\n<li><code>.prop('style')</code> -- returns an style declaration object i.e. <code>CSSStyleDeclaration</code></li>\n</ul>\n\n<h3>Round 2: value</h3>\n\n<pre><code>&lt;input value=\"hello\" type=\"text\"/&gt;   \n\n$('input').prop('value', 'i changed the value');\n</code></pre>\n\n<ul>\n<li><code>.attr('value')</code> -- returns <code>'hello'</code> *</li>\n<li><code>.prop('value')</code> -- returns <code>'i changed the value'</code></li>\n</ul>\n\n<p>* Note: jQuery for this reason has a <code>.val()</code> method, which internally is equivalent to <code>.prop('value')</code></p>\n",
                    "is_accepted": false,
                    "score": 89
                },
                {
                    "body": "<p>A property is in the DOM; an attribute is in the HTML that is parsed into the DOM.</p>\n\n<h3>Further detail</h3>\n\n<p>If you change an attribute, the change will be reflected in the DOM (sometimes with a different name).<br>\nExample: changing the <code>class</code> attribute of a tag will change the <code>className</code> property of that tag in the DOM<br>\nIf you have no attribute on a tag, you still have the corresponding DOM property with an empty or default value.<br>\nExample: While your tag has no <code>class</code> attribute, the DOM property <code>className</code> does exist with a empty string value.</p>\n\n<p><strong>edit</strong></p>\n\n<p>If you change the one, the other will be changed by a controller, and vice versa.\nThis controller is not in jQuery, but in the browsers' native code.</p>\n",
                    "is_accepted": false,
                    "score": 141
                },
                {
                    "body": "<p>Usually you'll want to use properties.\nUse attributes only for:</p>\n\n<ol>\n<li>Getting a custom HTML attribute (since it's not synced with a DOM property).</li>\n<li>Getting a HTML attribute that doesn't sync with a DOM property, e.g. get the \"original value\" of a standard HTML attribute, like <code>&lt;input value=\"abc\"&gt;.</code></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><a href=\"http://www.w3.org/TR/html5/forms.html#concept-input-checked-dirty\" rel=\"nofollow\"><strong>dirty checkedness</strong></a> is an example where the difference is <strong>observable</strong>.</p>\n\n<p>To see it, run the following snippet and:</p>\n\n<ul>\n<li>click the button. Both checkboxes got checked.</li>\n<li>uncheck both checkboxes.</li>\n<li>click the button again. Only the <code>prop</code> checkbox got checked. BANG!</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('button').on('click', function() {\r\n  $('#attr').attr('checked', 'checked')\r\n  $('#prop').prop('checked', true)\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;label&gt;attr &lt;input id=\"attr\" type=\"checkbox\"&gt;&lt;/label&gt;\r\n&lt;label&gt;prop &lt;input id=\"prop\" type=\"checkbox\"&gt;&lt;/label&gt;\r\n&lt;button type=\"button\"&gt;Set checked attr and prop.&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For some attributes  like <code>disabled</code> on <code>button</code>, adding or removing the content attribute <code>disabled=\"disabled\"</code> always toggles the property (called IDL attribute in HTML5) because <a href=\"http://www.w3.org/TR/html5/forms.html#attr-fe-disabled\" rel=\"nofollow\">http://www.w3.org/TR/html5/forms.html#attr-fe-disabled</a> says:</p>\n\n<blockquote>\n  <p>The disabled IDL attribute must reflect the disabled content attribute.</p>\n</blockquote>\n\n<p>so you might get away with it, although it is ugly since it modifies HTML without need.</p>\n\n<p>For other attributes like <code>checked=\"checked\"</code> on <code>input type=\"checkbox\"</code>, things break, because once you click on it, it becomes dirty, and then adding or removing the <code>checked=\"checked\"</code> content attribute <strong>does not toggle checkedness anymore</strong>.</p>\n\n<p>This is why you will use use mostly <code>.prop</code>, as it affects the effective property directly, instead of relying on complex side-effects.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p><strong>TL;DR</strong></p>\n\n<p>Use <code>prop()</code> over <code>attr()</code> in the majority of cases.</p>\n\n<p>A <em>property</em> is the current state of the input element. An <em>attribute</em> is the default value.</p>\n\n<p>A property can contain things of different types. An attribute can only contain strings</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p><code>attributes</code> -> HTML</p>\n\n<p><code>properties</code> -> DOM</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So <a href=\"http://api.jquery.com/category/version/1.6/\">jQuery 1.6</a> has the new function <a href=\"http://api.jquery.com/prop/\"><code>prop()</code></a>.</p>\n\n<pre><code>$(selector).click(function(){\n    //instead of:\n    this.getAttribute('style');\n    //do i use:\n    $(this).prop('style');\n    //or:\n    $(this).attr('style');\n})\n</code></pre>\n\n<p>or in this case do they do the same thing?</p>\n\n<p>And if I <em>do</em> have to switch to using <code>prop()</code>, all the old <code>attr()</code> calls will break if i switch to 1.6?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>See this fiddle: <a href=\"http://jsfiddle.net/maniator/JpUF2/\">http://jsfiddle.net/maniator/JpUF2/</a></p>\n\n<p>The console logs the <code>getAttribute</code> as a string, and the <code>attr</code> as a string, but the <code>prop</code> as a <code>CSSStyleDeclaration</code>, Why? And how does that affect my coding in the future?</p>\n",
            "last_activity_date": 1425918073,
            "question_id": 5874652,
            "score": 1038,
            "tags": [
                "javascript",
                "jquery",
                "dom",
                "attr",
                "prop"
            ],
            "title": ".prop() vs .attr()"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>Most browsers support <a href=\"http://msdn.microsoft.com/en-us/library/cc836466%28v=vs.85%29.aspx\"><code>JSON.parse()</code></a>, which is defined in ECMA-262 5th Edition (the specification that JS is based on).  Its usage is simple:</p>\n\n<pre><code>var json = '{\"result\":true,\"count\":1}',\n    obj = JSON.parse(json);\n\nalert(obj.count);\n</code></pre>\n\n<p>For the browsers that don't you can implement it using <a href=\"https://github.com/douglascrockford/JSON-js/blob/master/json2.js\">json2.js</a>.</p>\n\n<p>As noted in the comments, if you're already using jQuery, there is a <code>$.parseJSON</code> function that maps to <code>JSON.parse</code> if available or a form of <code>eval</code> in older browsers.\u2002However, this performs additional, unnecessary checks that are also performed by <code>JSON.parse</code>, so for the best all round performance I'd recommend using it like so:</p>\n\n<pre><code>var json = '{\"result\":true,\"count\":1}',\n    obj = JSON &amp;&amp; JSON.parse(json) || $.parseJSON(json);\n</code></pre>\n\n<p>This will ensure you use native <code>JSON.parse</code> immediately, rather than having jQuery perform sanity checks on the string before passing it to the native parsing function.</p>\n",
                    "is_accepted": true,
                    "score": 1120
                },
                {
                    "body": "<p>Without using a library you can use <code>eval</code> - the only time you should use. It's safer to use a library though.</p>\n\n<p>eg...</p>\n\n<pre><code>var response = '{\"result\":true , \"count\":1}';\n\nvar parsedJSON = eval('('+response+')');\n\nvar result=parsedJSON.result;\nvar count=parsedJSON.count;\n\nalert('result:'+result+' count:'+count);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>First of all, you have to make sure that the JSON code is valid.  After that, I would recommend using a JavaScript library such as jQuery or Prototype if you can because these things are handled well in those libraries.  On the other hand, if you don't want to use a library and you can vouch for the validity of the JSON object, I would simply wrap string in an anonymous function and use the eval function.  This is not recommended if you are getting the JSON object from another source that isn't absolutely trusted because the eval function allows for renegade code if you will.  Here is an example of using the eval function:</p>\n\n<pre><code>var strJSON = '{\"result\":true,\"count\":1}';\nvar objJSON = eval(\"(function(){return \" + strJSON + \";})()\");\nalert(objJSON.result);\nalert(objJSON.count);\n</code></pre>\n\n<p>If you control what browser is being used or you are not worried people with older browser, you can always use the JSON.parse method.  This is really the ideal solution for the future.</p>\n",
                    "is_accepted": false,
                    "score": 55
                },
                {
                    "body": "<p>If you are getting this from an outside site it might be helpful to use jquery's getJSON.  If it's a list you can iterate through it with $.each</p>\n\n<pre><code>$.getJSON(url, function (json) {\n    alert(json.result);\n    $.each(json.list, function (i, fb) {\n        alert(fb.result);\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>I thought <code>JSON.parse(myObject)</code> would work. But depending on the browsers, it might be worth using <code>eval('('+myObject+')')</code>. The only issue I can recommend watching out for is the multi-level list in JSON. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you want to use <a href=\"http://bestiejs.github.com/json3/\" rel=\"nofollow\">JSON 3</a> for older browsers, you can load it conditionally with:</p>\n\n<pre><code>&lt;script&gt;\n    window.JSON || \n    document.write('&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/json3/3.2.4/json3.min.js\"&gt;&lt;\\/scr'+'ipt&gt;');\n&lt;/script&gt;\n</code></pre>\n\n<p>Now the standard window.JSON object is available to you no matter what browser a client is running.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>You can either use the eval function as in some other answers. (Don't forget the extra braces.) You will know why when you dig deeper), or simply use the jQuery function <code>parseJSON</code>:</p>\n\n<pre><code>var response = '{\"result\":true , \"count\":1}'; \nvar parsedJSON = $.parseJSON(response);\n</code></pre>\n\n<p>OR </p>\n\n<p>You can use this below code.</p>\n\n<pre><code>var response = '{\"result\":true , \"count\":1}';\nvar jsonObject = JSON.parse(response);\n</code></pre>\n\n<p>And you can access the fields using <code>jsonObject.result</code> and <code>jsonObject.count</code>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The following example will make it clear:</p>\n\n<pre><code>var jsontext   = '{\"name\":\"x\",\"age\":\"11\"}';\nvar getContact = JSON.parse(jsontext);\ndocument.write(getContact.name + \", \" + getContact.age);\n\n// Output: x, 11\n</code></pre>\n\n<p>OR</p>\n\n<p>You can also use the <code>eval</code> function. The following example is using the <code>eval</code> function:</p>\n\n<pre><code>var jsontext   = '{\"name\":\"x\",\"age\":\"11\"}';\nvar getContact = eval('(' + jsontext + ')');\ndocument.write(getContact.name + \", \" + getContact.age);\n\n// Output: x, 11\n</code></pre>\n\n<p>Since the <code>JSON.parse</code> function is more secure and executes faster than the eval function, I recommend you to use <code>JSON.parse</code> function.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>If you use jQuery, it is simple:</p>\n\n<pre><code>var response = '{\"result\":true,\"count\":1}';\nvar obj = $.parseJSON(response);\nalert(obj.result); //true\nalert(obj.count); //1\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As mentioned by numerous others, most browsers support <code>JSON.parse</code> and <code>JSON.stringify</code>.</p>\n\n<p>Now, I'd also like to add that if you are using <a href=\"https://angularjs.org/\" rel=\"nofollow\">AngularJS</a> (which I highly recommend), then it also provides the functionality that you require:</p>\n\n<pre><code>var myJson = '{\"result\": true, \"count\": 1}';\nvar obj = angular.fromJson(myJson);//equivalent to JSON.parse(myJson)\nvar backToJson = angular.toJson(obj);//equivalent to JSON.stringify(obj)\n</code></pre>\n\n<p>Just wanted to add the stuff about angularjs to provide another option. NOTE that angularjs doesn't officially support IE8 (and older versions, for that matter), though through experience most of the stuff seems to work pretty well.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if you use dojo</p>\n\n<p><a href=\"http://dojotoolkit.org/reference-guide/1.10/dojo/json.html\" rel=\"nofollow\">http://dojotoolkit.org/reference-guide/1.10/dojo/json.html</a></p>\n\n<pre>\nrequire([\"dojo/json\"], function(JSON){\n  JSON.parse('{\"hello\":\"world\"}', true);\n});\n</pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>an easy way to do it</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var data = '{\"result\":true,\"count\":1}';\nvar json = eval(\"[\" +data+ \"]\")[0]; // ;)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you pass a string variable (a well-formed jsonstring) to JSON.parse from MVC @Viewbag that has doublequote '\"' as quotes, you need to process it before JSON.parse(jsonstring)</p>\n\n<pre><code>    var jsonstring = '@ViewBag.jsonstring';\n    jsonstring = jsonstring.replace(/&amp;quot;/g, '\"');  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>JSON.parse() converts any JSON String passed into the function, to a JSON Object.</p>\n\n<p>For Better understanding press F12 to open Inspect Element of your browser and go to console to write following commands  : -</p>\n\n<pre><code>var response = '{\"result\":true,\"count\":1}'; //sample json object(string form)\nJSON.parse(response); //converts passed string to JSON Object.\n</code></pre>\n\n<p>Now run the command :-</p>\n\n<pre><code>console.log(JSON.parse(response));\n</code></pre>\n\n<p>you'll get output as Object {result: true, count: 1}.</p>\n\n<p>In order to use that Object, you can assign it to the variable let's say obj :-</p>\n\n<pre><code>var obj = JSON.parse(response);\n</code></pre>\n\n<p>Now by using obj and dot(.) operator you can access properties of the JSON Object.</p>\n\n<p>Try to run the command </p>\n\n<pre><code>console.log(obj.result);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to parse a JSON string in JavaScript. The response is something like</p>\n\n<pre><code>var response = '{\"result\":true,\"count\":1}';\n</code></pre>\n\n<p>How can I get the values <code>result</code> and <code>count</code> from this?</p>\n",
            "last_activity_date": 1424254504,
            "question_id": 4935632,
            "score": 732,
            "tags": [
                "javascript",
                "json",
                "parsing"
            ],
            "title": "Parse JSON in JavaScript?"
        },
        {
            "answer_count": 15,
            "answers": [
                {
                    "body": "<h2>Imperative \u2192 declarative</h2>\n\n<p>In jQuery, <em>selectors</em> are used to find <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a> elements and then bind/register event handlers to them. When an event triggers, that (imperative) code executes to update/change the DOM.</p>\n\n<p>In AngularJS, you want to think about <strong>views</strong> rather than DOM elements. Views are (declarative) HTML that contain AngularJS <strong>directives</strong>. Directives set up the event handlers behind the scenes for us and give us dynamic databinding. Selectors are rarely used, so the need for IDs (and some types of classes) is greatly diminished. Views are tied to <strong>models</strong> (via scopes). Views are a projection of the model. Events change models (that is, data, scope properties), and the views that project those models update \"automatically.\"</p>\n\n<p>In AngularJS, think about models, rather than jQuery-selected DOM elements that hold your data. Think about views as projections of those models, rather than registering callbacks to manipulate what the user sees.</p>\n\n<h2>Separation of concerns</h2>\n\n<p>jQuery employs <a href=\"http://en.wikipedia.org/wiki/Unobtrusive_JavaScript\">unobtrusive JavaScript</a> - behavior (JavaScript) is separated from the structure (HTML).</p>\n\n<p>AngularJS uses <strong>controllers</strong> and directives (each of which can have their own controller, and/or compile and linking functions) to remove behavior from the view/structure (HTML).  Angular also has <strong>services</strong> and <strong>filters</strong> to help separate/organize your application.</p>\n\n<p>See also <a href=\"http://stackoverflow.com/a/14346528/215945\">http://stackoverflow.com/a/14346528/215945</a></p>\n\n<h2>Application design</h2>\n\n<p>One approach to designing an AngularJS application:</p>\n\n<ol>\n<li>Think about your models. Create services or your own JavaScript objects for those models.</li>\n<li>Think about how you want to present your models -- your views. Create HTML templates for each view, using the necessary directives to get dynamic databinding.</li>\n<li>Attach a controller to each view (using ng-view and routing, or ng-controller). Have the controller find/get only whatever model data the view needs to do its job. Make controllers as thin as possible.</li>\n</ol>\n\n<h2>Prototypal inheritance</h2>\n\n<p>You can do a lot with jQuery without knowing about how JavaScript prototypal inheritance works. When developing AngularJS applications, you will avoid some common pitfalls if you have a good understanding of JavaScript inheritance. Recommended reading: <a href=\"http://stackoverflow.com/questions/14049480/what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs\">What are the nuances of scope prototypal / prototypical inheritance in AngularJS?</a></p>\n",
                    "is_accepted": false,
                    "score": 343
                },
                {
                    "body": "<blockquote>\n  <p>Can you describe the paradigm shift that is necessary?</p>\n</blockquote>\n\n<p><strong>Imperative vs Declarative</strong></p>\n\n<p>With <strong>jQuery</strong> you tell the DOM what needs to happen, step by step. With <strong><a href=\"http://en.wikipedia.org/wiki/AngularJS\">AngularJS</a></strong> you describe what results you want but not how to do it. More on this <a href=\"http://stackoverflow.com/questions/1784664/what-is-the-difference-between-declarative-and-imperative-programming\">here</a>. Also, check out Mark Rajcok's answer.</p>\n\n<blockquote>\n  <p>How do I architect and design client-side web apps differently? </p>\n</blockquote>\n\n<p>AngularJS is an entire client-side framework that uses the <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\">MVC</a> pattern (check out their <a href=\"http://docs.angularjs.org/guide/concepts\">graphical representation</a>). It greatly focuses on separation of concerns.</p>\n\n<blockquote>\n  <p>What is the biggest difference? What should I stop doing/using; what should I start doing/using instead?</p>\n</blockquote>\n\n<p><strong>jQuery</strong> is a library </p>\n\n<p><strong>AngularJS</strong> is a beautiful client-side framework, highly testable, that combines tons of cool stuff such as MVC, <a href=\"http://en.wikipedia.org/wiki/Dependency_injection\">dependency injection</a>, data binding and much more. </p>\n\n<p>It focuses on <a href=\"http://en.wikipedia.org/wiki/Separation_of_concerns\">separation of concerns</a> and testing (<a href=\"http://en.wikipedia.org/wiki/Unit_testing\">unit testing</a> and end-to-end testing), which facilitates test-driven development.</p>\n\n<p>The best way to start is going through <a href=\"http://docs.angularjs.org/tutorial/\">their awesome tutorial</a>. You can go through the steps in a couple of hours; however, in case you want to master the concepts behind the scenes, they include a myriad of reference for further reading.</p>\n\n<blockquote>\n  <p>Are there any server-side considerations/restrictions?</p>\n</blockquote>\n\n<p>You may use it on existing applications where you are already using pure jQuery. However, if you want to fully take advantage of the AngularJS features you may consider coding the server side using a <a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services\">RESTful</a> approach.</p>\n\n<p>Doing so will allow you to leverage their <a href=\"http://docs.angularjs.org/api/ngResource.%24resource\">resource factory</a>, which creates an abstraction of your server side RESTful <a href=\"http://en.wikipedia.org/wiki/Application_programming_interface\">API</a> and makes server-side calls (get, save, delete, etc.) incredibly easy.</p>\n",
                    "is_accepted": false,
                    "score": 129
                },
                {
                    "body": "<h1>1. Don't design your page, and then change it with <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a> manipulations</h1>\n\n<p>In jQuery, you design a page, and then you make it dynamic. This is because jQuery was designed for augmentation and has grown incredibly from that simple premise.</p>\n\n<p>But in AngularJS, you must start from the ground up with your architecture in mind. Instead of starting by thinking \"I have this piece of the DOM and I want to make it do X\", you have to start with what you want to accomplish, then go about designing your application, and then finally go about designing your view.</p>\n\n<h1>2. Don't augment jQuery with AngularJS</h1>\n\n<p>Similarly, don't start with the idea that jQuery does X, Y, and Z, so I'll just add AngularJS on top of that for models and controllers. This is <em>really</em> tempting when you're just starting out, which is why I always recommend that new AngularJS developers don't use jQuery at all, at least until they get used to doing things the \"Angular Way\".</p>\n\n<p>I've seen many developers here and on the mailing list create these elaborate solutions with jQuery plugins of 150 or 200 lines of code that they then glue into AngularJS with a collection of callbacks and <code>$apply</code>s that are confusing and convoluted; but they eventually get it working! The problem is that in <strong>most</strong> cases that jQuery plugin could be rewritten in AngularJS in a fraction of the code, where suddenly everything becomes comprehensible and straightforward.</p>\n\n<p>The bottom line is this: when solutioning, first \"think in AngularJS\"; if you can't think of a solution, ask the community; if after all of that there is no easy solution, <em>then</em> feel free to reach for the jQuery. But don't let jQuery become a crutch or you'll never master AngularJS.</p>\n\n<h1>3. Always think in terms of architecture</h1>\n\n<p>First know that <a href=\"http://en.wikipedia.org/wiki/Single-page_application\">single-page applications</a> are <em>applications</em>. They're <em>not</em> webpages. So we need to think like a server-side developer <em>in addition</em> to thinking like a client-side developer. We have to think about how to divide our application into individual, extensible, testable components.</p>\n\n<p>So then <em>how</em> do you do that? How do you \"think in AngularJS\"? Here are some general principles, contrasted with jQuery.</p>\n\n<h2>The view is the \"official record\"</h2>\n\n<p>In jQuery, we programmatically change the view. We could have a dropdown menu defined as a <code>ul</code> like so:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=\"main-menu\"&gt;\n    &lt;li class=\"active\"&gt;\n        &lt;a href=\"#/home\"&gt;Home&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;a href=\"#/menu1\"&gt;Menu 1&lt;/a&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"#/sm1\"&gt;Submenu 1&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#/sm2\"&gt;Submenu 2&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#/sm3\"&gt;Submenu 3&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;a href=\"#/home\"&gt;Menu 2&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>In jQuery, in our application logic, we would activate it with something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('.main-menu').dropdownMenu();\n</code></pre>\n\n<p>When we just look at the view, it's not immediately obvious that there is any functionality here. For small applications, that's fine. But for non-trivial applications, things quickly get confusing and hard to maintain.</p>\n\n<p>In AngularJS, though, the view is the official record of view-based functionality. Our <code>ul</code> declaration would look like this instead:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=\"main-menu\" dropdown-menu&gt;\n    ...\n&lt;/ul&gt;\n</code></pre>\n\n<p>These two do the same thing, but in the AngularJS version anyone looking at the template knows what's supposed to happen. Whenever a new member of the development team comes on board, she can look at this and then <em>know</em> that there is a directive called <code>dropdownMenu</code> operating on it; she doesn't need to intuit the right answer or sift through any code. The view told us what was supposed to happen. Much cleaner.</p>\n\n<p>Developers new to AngularJS often ask a question like: how do I find all links of a specific kind and add a directive onto them. The developer is always flabbergasted when we reply: you don't. But the reason you don't do that is that this is like half-jQuery, half-AngularJS, and no good. The problem here is that the developer is trying to \"do jQuery\" in the context of AngularJS. That's never going to work well. The view <em>is</em> the official record. Outside of a directive (more on this below), you never, ever, <em>never</em> change the DOM. And directives are applied <em>in the view</em>, so intent is clear.</p>\n\n<p>Remember: don't design, and then mark up. You must architect, and then design.</p>\n\n<h2>Data binding</h2>\n\n<p>This is by far one of the most awesome features of AngularJS and cuts out a lot of the need to do the kinds of DOM manipulations I mentioned in the previous section. AngularJS will automatically update your view so you don't have to! In jQuery, we respond to events and then update content. Something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$.ajax({\n  url: '/myEndpoint.json',\n  success: function ( data, status ) {\n    $('ul#log').append('&lt;li&gt;Data Received!&lt;/li&gt;');\n  }\n});\n</code></pre>\n\n<p>For a view that looks like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=\"messages\" id=\"log\"&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Apart from mixing concerns, we also have the same problems of signifying intent that I mentioned before. But more importantly, we had to manually reference and update a DOM node. And if we want to delete a log entry, we have to code against the DOM for that too. How do we test the logic apart from the DOM? And what if we want to change the presentation?</p>\n\n<p>This a little messy and a trifle frail. But in AngularJS, we can do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$http( '/myEndpoint.json' ).then( function ( response ) {\n    $scope.log.push( { msg: 'Data Received!' } );\n});\n</code></pre>\n\n<p>And our view can look like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=\"messages\"&gt;\n    &lt;li ng-repeat=\"entry in log\"&gt;{{ entry.msg }}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>But for that matter, our view could look like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"messages\"&gt;\n    &lt;div class=\"alert\" ng-repeat=\"entry in log\"&gt;\n        {{ entry.msg }}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And now instead of using an unordered list, we're using Bootstrap alert boxes. And we never had to change the controller code! But more importantly, no matter <em>where</em> or <em>how</em> the log gets updated, the view will change too. Automatically. Neat!</p>\n\n<p>Though I didn't show it here, the data binding is two-way. So those log messages could also be editable in the view just by doing this: <code>&lt;input ng-model=\"entry.msg\" /&gt;</code>. And there was much rejoicing.</p>\n\n<h2>Distinct model layer</h2>\n\n<p>In jQuery, the DOM is kind of like the model. But in AngularJS, we have a separate model layer that we can manage in any way we want, completely independently from the view. This helps for the above data binding, maintains <a href=\"http://en.wikipedia.org/wiki/Separation_of_concerns\">separation of concerns</a>, and introduces far greater testability. Other answers mentioned this point, so I'll just leave it at that.</p>\n\n<h2>Separation of concerns</h2>\n\n<p>And all of the above tie into this over-arching theme: keep your concerns separate. Your view acts as the official record of what is supposed to happen (for the most part); your model represents your data; you have a service layer to perform reusable tasks; you do DOM manipulation and augment your view with directives; and you glue it all together with controllers. This was also mentioned in other answers, and the only thing I would add pertains to testability, which I discuss in another section below.</p>\n\n<h2>Dependency injection</h2>\n\n<p>To help us out with separation of concerns is <a href=\"http://en.wikipedia.org/wiki/Dependency_injection\">dependency injection</a> (DI). If you come from a server-side language (from <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\">Java</a> to <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a>) you're probably familiar with this concept already, but if you're a client-side guy coming from jQuery, this concept can seem anything from silly to superfluous to hipster. But it's not. :-)</p>\n\n<p>From a broad perspective, DI means that you can declare components very freely and then from any other component, just ask for an instance of it and it will be granted. You don't have to know about loading order, or file locations, or anything like that. The power may not immediately be visible, but I'll provide just one (common) example: testing.</p>\n\n<p>Let's say in our application, we require a service that implements server-side storage through a <a href=\"http://en.wikipedia.org/wiki/Representational_State_Transfer\">REST</a> API and, depending on application state, local storage as well. When running tests on our controllers, we don't want to have to communicate with the server - we're testing the <em>controller</em>, after all. We can just add a mock service of the same name as our original component, and the injector will ensure that our controller gets the fake one automatically - our controller doesn't and needn't know the difference.</p>\n\n<p>Speaking of testing...</p>\n\n<h1>4. Test-driven development - <em>always</em></h1>\n\n<p>This is really part of section 3 on architecture, but it's so important that I'm putting it as its own top-level section.</p>\n\n<p>Out of all of the many jQuery plugins you've seen, used, or written, how many of them had an accompanying test suite? Not very many because jQuery isn't very amenable to that. But AngularJS is.</p>\n\n<p>In jQuery, the only way to test is often to create the component independently with a sample/demo page against which our tests can perform DOM manipulation. So then we have to develop a component separately and <em>then</em> integrate it into our application. How inconvenient! So much of the time, when developing with jQuery, we opt for iterative instead of test-driven development. And who could blame us?</p>\n\n<p>But because we have separation of concerns, we can do test-driven development iteratively in AngularJS! For example, let's say we want a super-simple directive to indicate in our menu what our current route is. We can declare what we want in the view of our application:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=\"/hello\" when-active&gt;Hello&lt;/a&gt;\n</code></pre>\n\n<p>Okay, now we can write a test for the non-existent <code>when-active</code> directive:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>it( 'should add \"active\" when the route changes', inject(function() {\n    var elm = $compile( '&lt;a href=\"/hello\" when-active&gt;Hello&lt;/a&gt;' )( $scope );\n\n    $location.path('/not-matching');\n    expect( elm.hasClass('active') ).toBeFalsey();\n\n    $location.path( '/hello' );\n    expect( elm.hasClass('active') ).toBeTruthy();\n}));\n</code></pre>\n\n<p>And when we run our test, we can confirm that it fails. Only now should we create our directive:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.directive( 'whenActive', function ( $location ) {\n    return {\n        scope: true,\n        link: function ( scope, element, attrs ) {\n            scope.$on( '$routeChangeSuccess', function () {\n                if ( $location.path() == element.attr( 'href' ) ) {\n                    element.addClass( 'active' );\n                }\n                else {\n                    element.removeClass( 'active' );\n                }\n            });\n        }\n    };\n});\n</code></pre>\n\n<p>Our test now passes <em>and</em> our menu performs as requested. Our development is <em>both</em> iterative <em>and</em> test-driven. Wicked-cool.</p>\n\n<h1>5. Conceptually, directives are <em>not</em> packaged jQuery</h1>\n\n<p>You'll often hear \"only do DOM manipulation in a directive\". <strong>This is a necessity.</strong> Treat it with due deference!</p>\n\n<p>But let's dive a little deeper...</p>\n\n<p>Some directives just decorate what's already in the view (think <code>ngClass</code>) and therefore sometimes do DOM manipulation straight away and then are basically done. But if a directive is like a \"widget\" and has a template, it should <em>also</em> respect separation of concerns. That is, the template <em>too</em> should remain largely independent from its implementation in the link and controller functions.</p>\n\n<p>AngularJS comes with an entire set of tools to make this very easy; with <code>ngClass</code> we can dynamically update the class; <code>ngBind</code> allows two-way data binding; <code>ngShow</code> and <code>ngHide</code> programmatically show or hide an element; and many more - including the ones we write ourselves. In other words, we can do all kinds of awesomeness <em>without</em> DOM manipulation. The less DOM manipulation, the easier directives are to test, the easier they are to style, the easier they are to change in the future, and the more re-usable and distributable they are.</p>\n\n<p>I see lots of developers new to AngularJS using directives as the place to throw a bunch of jQuery. In other words, they think \"since I can't do DOM manipulation in the controller, I'll take that code put it in a directive\". While that certainly is much better, it's often <em>still wrong</em>.</p>\n\n<p>Think of the logger we programmed in section 3. Even if we put that in a directive, we <em>still</em> want to do it the \"Angular Way\". It <em>still</em> doesn't take any DOM manipulation! There are lots of times when DOM manipulation is necessary, but it's a <em>lot</em> rarer than you think! Before doing DOM manipulation <em>anywhere</em> in your application, ask yourself if you really need to. There might be a better way.</p>\n\n<p>Here's a quick example that shows the pattern I see most frequently. We want a toggleable button. (Note: this example is a little contrived and a skosh verbose to represent more complicated cases that are solved in exactly the same way.)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.directive( 'myDirective', function () {\n    return {\n        template: '&lt;a class=\"btn\"&gt;Toggle me!&lt;/a&gt;',\n        link: function ( scope, element, attrs ) {\n            var on = false;\n\n            $(element).click( function () {\n                on = !on;\n                $(element).toggleClass('active', on);\n            });\n        }\n    };\n});\n</code></pre>\n\n<p>There are a few things wrong with this:</p>\n\n<ol>\n<li>First, jQuery was never necessary. There's nothing we did here that needed jQuery at all!</li>\n<li>Second, even if we already have jQuery on our page, there's no reason to use it here; we can simply use <code>angular.element</code> and our component will still work when dropped into a project that doesn't have jQuery.</li>\n<li>Third, even assuming jQuery <em>was</em> required for this directive to work, jqLite (<code>angular.element</code>) will <em>always</em> use jQuery if it was loaded! So we needn't use the <code>$</code> - we can just use <code>angular.element</code>.</li>\n<li>Fourth, closely related to the third, is that jqLite elements needn't be wrapped in <code>$</code> - the <code>element</code> that is passed to the <code>link</code> function would <em>already be</em> a jQuery element! </li>\n<li>And fifth, which we've mentioned in previous sections, why are we mixing template stuff into our logic?</li>\n</ol>\n\n<p>This directive can be rewritten (even for very complicated cases!) much more simply like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.directive( 'myDirective', function () {\n    return {\n        scope: true,\n        template: '&lt;a class=\"btn\" ng-class=\"{active: on}\" ng-click=\"toggle()\"&gt;Toggle me!&lt;/a&gt;',\n        link: function ( scope, element, attrs ) {\n            scope.on = false;\n\n            scope.toggle = function () {\n                scope.on = !scope.on;\n            };\n        }\n    };\n});\n</code></pre>\n\n<p>Again, the template stuff is in the template, so you (or your users) can easily swap it out for one that meets any style necessary, and the <strong>logic</strong> never had to be touched. Reusability - boom!</p>\n\n<p>And there are still all those other benefits, like testing - it's easy! No matter what's in the template, the directive's internal API is never touched, so refactoring is easy. You can change the template as much as you want without touching the directive. And no matter what you change, your tests still pass.</p>\n\n<p>w00t!</p>\n\n<p>So if directives aren't just collections of jQuery-like functions, what are they? Directives are actually <strong>extensions of HTML</strong>. If HTML doesn't do something you need it to do, you write a directive to do it for you, and then use it just as if it was part of HTML.</p>\n\n<p>Put another way, if AngularJS doesn't do something out of the box, think how the team would accomplish it to fit right in with <code>ngClick</code>, <code>ngClass</code>, et al.</p>\n\n<h1>Summary</h1>\n\n<p>Don't even use jQuery. Don't even include it. It will hold you back. And when you come to a problem that you think you know how to solve in jQuery already, before you reach for the <code>$</code>, try to think about how to do it within the confines the AngularJS. If you don't know, ask! 19 times out of 20, the best way to do it doesn't need jQuery and to try to solve it with jQuery results in more work for you.</p>\n",
                    "is_accepted": true,
                    "score": 6601
                },
                {
                    "body": "<p>They're apples and oranges. You don't want to compare them. They're two different things. AngularJs has already jQuery lite built in which allows you to perform basic DOM manipulation without even including the full blown jQuery version. </p>\n\n<p>jQuery is all about DOM manipulation. It solves all the cross browser pain otherwise you will have to deal with but it's not a framework that allows you to divide your app into components like AngularJS. </p>\n\n<p>A nice thing about AngularJs is that it allows you to separate/isolate the DOM manipulation in the directives.  There are built-in directives ready for you to use such as ng-click. You can create your own custom directives that will contain all your view logic or DOM manipulation so you don't end up mingle DOM manipulation code in the controllers or services that should take care of the business logic.</p>\n\n<p>Angular breaks down your app into \n- Controllers\n- Services\n- Views\n- etc.</p>\n\n<p>and there is one more thing, that's the directive. It's an attribute  you can attach to any DOM element and you can go nuts with jQuery within it without worrying about your jQuery ever conflicts with AngularJs components or messes up with its architecture. </p>\n\n<p>I heard from a meetup I attended, one of the founders of Angular said they worked really hard to separate out the DOM manipulation so do not try to include them back in. </p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>I find this question interesting, because my first serious exposure to JavaScript programming was <a href=\"http://en.wikipedia.org/wiki/Node.js\">Node.js</a> and AngularJS. I never learned jQuery, and I guess that's a good thing, because I don't have to unlearn anything. In fact, I actively avoid jQuery solutions to my problems, and instead, solely look for an \"AngularJS way\" to solve them. So, I guess my answer to this question would essentially boil down to, \"think like someone who never learned jQuery\" and avoid any temptation to incorporate jQuery directly (obviously AngularJS uses it to some extent behind the scenes).</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>jQuery is a DOM manipulation library.</p>\n\n<p>AngularJS is an MV* framework.</p>\n\n<p>In fact, AngularJS is one of the few JavaScript MV* frameworks (many JavaScript MVC tools still fall under the category library).</p>\n\n<p>Being a framework, it hosts your code and takes ownership of decisions about what to call and when!</p>\n\n<p>AngularJS itself includes a jQuery-lite edition within it. So for some basic DOM selection/manipulation, you really don't have to include the jQuery library (it saves many bytes to run on the network.)</p>\n\n<p>AngularJS has the concept of \"Directives\" for DOM manipulation and designing reusable UI components, so you should use it whenever you feel the need of doing DOM manipulation related stuff (directives are only place where you should write jQuery code while using AngularJS).</p>\n\n<p>AngularJS involves some learning curve (more than jQuery :-).</p>\n\n<p>-->For any developer coming from jQuery background, my first advice would be to \"learn JavaScript as a first class language before jumping onto a rich framework like AngularJS!\"\nI learned the above fact the hard way.</p>\n\n<p>Good luck.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>jQuery: you think a lot about 'QUERYing the <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a>' for DOM elements and doing something.</p>\n\n<p>AngularJS: THE model is the truth, and you always think from that ANGLE.</p>\n\n<p>For example, when you get data from THE server which you intend to display in some format in the DOM, in jQuery, you need to '1. FIND' where in the DOM you want to place this data, the '2. UPDATE/APPEND' it there by creating a new node or just setting its <a href=\"http://www.tizag.com/javascriptT/javascript-innerHTML.php\">innerHTML</a>. Then when you want to update this view, you then '3. FIND' the location and '4. UPDATE'. This cycle of find and update all done within the same context of getting and formatting data from server is gone in AngularJS.</p>\n\n<p>With AngularJS you have your model (JavaScript objects you are already used to) and the value of the model tells you about the model (obviously) and about the view, and an operation on the model automatically propagates to the view, so you don't have to think about it. You will find yourself in AngularJS no longer finding things in the DOM.</p>\n\n<p>To put in another way, in jQuery, you need to think about CSS selectors, that is, where is the <code>div</code> or <code>td</code> that has a class or attribute, etc., so that I can get their HTML or color or value, but in AngularJS, you will find yourself thinking like this: what model am I dealing with, I will set the model's value to true. You are not bothering yourself of whether the view reflecting this value is a checked box or resides in a <code>td</code> element (details you would have often needed to think about in jQuery).</p>\n\n<p>And with DOM manipulation in AngularJS, you find yourself adding directives and filters, which you can think of as valid HTML extensions.</p>\n\n<p>One more thing you will experience in AngularJS: in jQuery you call the jQuery functions a lot, in AngularJS, AngularJS will call your functions, so AngularJS will 'tell you how to do things', but the benefits are worth it, so learning AngularJS usually means learning what AngularJS wants or the way AngularJS requires that you present your functions and it will call it accordingly. This is one of the things that makes AngularJS a framework rather than a library.</p>\n",
                    "is_accepted": false,
                    "score": 48
                },
                {
                    "body": "<p>Listen to the podcast <em><a href=\"http://javascriptjabber.com/032-jsj-angular-js/\">JavaScript Jabber: Episode #32</a></em> that features the original creators of AngularJS: Misko Hevery &amp; Igor Minar. They talk a lot about what it's like to come to AngularJS from other JavaScript backgrounds, especially jQuery.</p>\n\n<p>One of the points made in the podcast made a lot of things click for me with respects to your question:</p>\n\n<blockquote>\n  <p><strong>MISKO</strong>: [...] one of the things we thought about very hardly in Angular is, how do we provide lots of escape hatches so that you can get out and basically figure out a way out of this. So to us, the answer is this thing called \u201cDirectives\u201d. <strong>And with directives, you essentially become a regular little jQuery JavaScript, you can do whatever you want.</strong></p>\n  \n  <p><strong>IGOR</strong>: So think of directive as the instruction to the compiler that tells it whenever you come across this certain element or this CSS in the template, and you keep this kind of code and that code is in charge of the element and everything below that element in the DOM tree.</p>\n</blockquote>\n\n<p>A transcript of the entire episode is available at the link provided above.</p>\n\n<p>So, to directly answer your question: AngularJS is -very- opinionated and is a true MV* framework. However, you can still do all of the really cool stuff you know and love with jQuery inside of directives. It's not a matter of \"How do I do what I used to in jQuery?\" as much as it's a matter of \"How do I supplement AngularJS with all of the stuff I used to do in jQuery?\"</p>\n\n<p>It's really two very different states of mind.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<h1>jQuery</h1>\n\n<p>jQuery makes ridiculously long JavaScript commands like <code>getElementByHerpDerp</code> shorter and cross-browser.</p>\n\n<h1>AngularJS</h1>\n\n<p>AngularJS allows you to make your own HTML tags/attributes that do things which work well with dynamic web applications (since HTML was designed for static pages).</p>\n\n<h1>Edit:</h1>\n\n<p>Saying \"I have a jQuery background how do I think in AngularJS?\" is like saying \"I have an HTML background how do I think in JavaScript?\" The fact that you're asking the question shows you most likely don't understand the fundamental purposes of these two resources. This is why I chose to answer the question by simply pointing out the fundamental difference rather than going through the list saying \"AngularJS makes use of directivies whereas jQuery uses CSS selectors to make a jQuery object which does this and that etc....\". This question does not require a lengthy answer.</p>\n\n<p>jQuery is a way to make programming JavaScript in the browser easier. Shorter, cross-browser commands, etc.</p>\n\n<p>AngularJS extends HTML, so you don't have to put <code>&lt;div&gt;</code> all over the place just to make an application. It makes HTML actually work for applications rather than what it was designed for, which is static, educational web pages. It accomplishes this in a roundabout way using JavaScript, but fundamentally it is an extension of HTML, not JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>To describe the \"paradigm shift\", I think a short answer can suffice.</p>\n\n<h2>AngularJS changes the way you <em>find</em> elements</h2>\n\n<p>In <strong>jQuery</strong>, you typically  use <strong>selectors</strong> to find elements, and then wire them up:<br>\n<code>$('#id .class').click(doStuff);</code></p>\n\n<p>In <strong>AngularJS</strong>, you use <strong>directives</strong> to mark the elements directly, to wire them up:<br>\n<code>&lt;a ng-click=\"doStuff()\"&gt;</code></p>\n\n<p>AngularJS doesn't need (or want) you to find elements using selectors - the primary difference between AngularJS's <strong>jqLite</strong> versus full-blown <strong>jQuery</strong> is that <a href=\"https://docs.angularjs.org/api/ng/function/angular.element\">jqLite does not support selectors</a>.  </p>\n\n<p>So when people say \"don't include jQuery at all\", it's mainly because they don't want you to use selectors; they want you to learn to use directives instead. Direct, not select!</p>\n",
                    "is_accepted": false,
                    "score": 67
                },
                {
                    "body": "<h1>AngularJS vs. jQuery</h1>\n\n<p>AngularJS and jQuery adopt very different ideologies. If you're coming from jQuery you may find some of the differences surprising. AngularJS may make you angry.</p>\n\n<p>This is normal, you should push through. AngularJS is worth it.</p>\n\n<h2>The big difference (TLDR)</h2>\n\n<p>jQuery gives you a toolkit for selecting arbitrary bits of the DOM and making ad-hoc changes to them. You can do pretty much anything you like piece by piece.</p>\n\n<p>AngularJS instead gives you a <strong>compiler</strong>.</p>\n\n<p>What this means is that AngularJS reads your entire DOM from top to bottom and treats it as code, literally as instructions to the compiler. As it traverses the DOM, It looks for specific <strong>directives</strong> (compiler directives) that tell the AngularJS compiler how to behave and what to do. Directives are little objects full of JavaScript, and can match attributes, tags, classes or even comments. These directives can then in turn pull in additional Angular components.</p>\n\n<p>Meanwhile it wires up your DOM with all sorts of useful goodness that will make your day brighter and will make your clients smile. What comes out the bottom of the compiler is a fully formed web application, wired up and ready to go.</p>\n\n<p>Your template drives the JavaScript, not the other way around. This is a radical reversal of roles that can take some getting used to.</p>\n\n<p>If this sounds like it might be over-prescriptive and limiting, nothing could be farther from the truth. Because AngularJS treats your HTML as code, you get HTML level granularity in your web application. Everything is possible, and most things are surprisingly easy once you make a few conceptual leaps.</p>\n\n<p>Let's get down to the nitty gritty.</p>\n\n<h2>First up, AngularJS doesn't replace jQuery</h2>\n\n<p>AngularJS and jQuery do different things. AngularJS gives you a set of tools to produce web applications. jQuery mainly gives you tools for modifying the DOM. If jQuery is present on your page, AngularJS will use it automatically. If it isn't, AngularJS ships with jQuery Lite, which is a cut down, but still perfectly usable version of jQuery.</p>\n\n<p>Misko likes jQuery and encourages you to use it. You sometimes still need to manipulate the DOM  directly and jQuery is a friendly tool for this. However you can get a pretty much all of your work done using a combination of scope, templates and directives, and you should prefer this workflow where possible because your code will be more discrete, more configurable, and more Angular.</p>\n\n<p>People encouraging you to drop jQuery altogether should stop encouraging you to do that. You probably ought to lay off the jQuery for a while while you learn what AngularJS can do, but jQuery is not going away just yet.</p>\n\n<p>That said, you shouldn't be sprinkling jQuery all over the place. The correct place for jQuery and other DOM manipulations in AngularJS is in directives. More on these later.</p>\n\n<h2>Unobtrusive JavaScript with Selectors vs. Declarative Templates</h2>\n\n<p>jQuery is typically applied unobtrusively. Your JavaScript code is linked in the header, and this is the only place it is mentioned. We use selectors to pick out bits of the page and write plugins to modify those parts.</p>\n\n<p>The JavaScript is in control. The HTML has a completely independent existence. Onclick attributes are very bad practice.</p>\n\n<p>One of the first things your will notice about AngularJS is that custom attributes are everywhere. Your HTML will be littered with ng attributes, which are essentially onClick attributes on steroids. These are directives (compiler directives), and are one of the main ways in which the template is hooked to the model.</p>\n\n<p>When you first see this you might be tempted to write AngularJS off as old school intrusive JavaScript (like I did at first). In fact, AngularJS does not play by those rules. In AngularJS, your HTML5 is a template. It is compiled by AngularJS to produce your web page.</p>\n\n<p>This is the first big difference. To jQuery, your web page is a DOM to be manipulated. To AngularJS, your HTML is code to be compiled. AngularJS reads in your whole web page and literally compiles it into a new web page using its built in compiler.</p>\n\n<p>Your template should be declarative; its meaning should be clear simply by reading it. We use custom attributes with meaningful names. We make up new HTML elements, again with meaningful names. A designer with minimal HTML knowledge and no coding skill can read your AngularJS template and understand what it is doing. He or she can make modifications. <em>This is the AngularJS way.</em></p>\n\n<h2>The template is in the driving seat.</h2>\n\n<p>One of the first questions I asked myself when starting AngularJS and running through the tutorials is <strong>\"Where is my code?\"</strong>. I've written no JavaScript, and yet I have all this behaviour. The answer is obvious. Because AngularJS compiles the DOM, AngularJS is treating your HTML as code. For many simple cases it's often sufficient to just write a template and let AngularJS compile it into an application for you.</p>\n\n<p>Your template drives your application. It's treated as a <a href=\"http://en.wikipedia.org/wiki/Domain-specific_language\">DSL</a>. You write AngularJS components, and AngularJS will take care of pulling them in and making them available at the right time based on the structure of your template. This is very different to a standard <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\">MVC</a> pattern, where the template is just for output.</p>\n\n<p>It's more similar to <a href=\"http://en.wikipedia.org/wiki/XSLT\">XSLT</a> than <a href=\"http://en.wikipedia.org/wiki/Ruby_on_Rails\">Ruby on Rails</a> for example.</p>\n\n<p>This is an inversion of control that takes some getting used to.</p>\n\n<p><strong>Stop trying to drive your application from your JavaScript. Let the template drive the application, and let AngularJS take care of wiring the components together. This also is the AngularJS way.</strong></p>\n\n<h2>Semantic HTML vs. Semantic Models</h2>\n\n<p>With jQuery your HTML page should contain semantic meaningful content. If the JavaScript is turned off (by a user or search engine) your content remains accessible.</p>\n\n<p>Because AngularJS treats your HTML page as a template. The template is not supposed to be semantic as your content is typically stored in your model. AngularJS compiles your DOM with the model to produce a semantic web page.</p>\n\n<p>In AngularJS, meaning lives in the model, the HTML is just a template, for display only.</p>\n\n<p>At this point you likely have all sorts of questions concerning <a href=\"http://en.wikipedia.org/wiki/Search_engine_optimization\">SEO</a> and accessibility, and rightly so. There are open issues here. Most screen readers will now parse JavaScript. Search engines can also index <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">AJAXed</a> content. Nevertheless, you will want to make sure you are using pushstate URLs and you have a decent sitemap. See here for a discussion of the issue: <a href=\"http://stackoverflow.com/a/23245379/687677\">http://stackoverflow.com/a/23245379/687677</a></p>\n\n<h2>Separation of concerns (SOC) vs. MVC</h2>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Separation_of_concerns\">Separation of concerns</a> (SOC) is a pattern that grew up over many years of web development for a variety of reasons including SEO, accessibility and browser incompatibility. It looks like this:</p>\n\n<ol>\n<li>HTML - Semantic meaning. The HTML should stand alone.</li>\n<li>CSS - Styling, without the CSS the page is still readable.</li>\n<li>JavaScript - Behaviour, without the script the content remains.</li>\n</ol>\n\n<p>Again, AngularJS does not play by their rules. In a stroke, <strong>AngularJS does away with a decade of received wisdom</strong> and instead implements an MVC pattern in which the template is no longer semantic, not even a little bit.</p>\n\n<p>It looks like this:</p>\n\n<ol>\n<li>Model - your models contains your semantic data. Models are usually <a href=\"http://en.wikipedia.org/wiki/JSON\">JSON</a> objects. Models exist as attributes of an object called $scope. You can also store handy utility functions on $scope which your templates can then access.</li>\n<li>View - Your views are written in HTML. The view is usually not semantic because your data lives in the model.</li>\n<li>Controller - Your controller is a JavaScript function which hooks the view to the model. Its function is to initialise $scope. Depending on your application, you may or may not need to create a controller. You can have many controllers on a page.</li>\n</ol>\n\n<p>MVC and SOC are not on opposite ends of the same scale, they are on completely different axes. SOC makes no sense in an AngularJS context. You have to forget it and move on.</p>\n\n<p>If, like me, you lived through the browser wars, you might find this idea quite offensive. Get over it, it'll be worth it, I promise.</p>\n\n<h2>Plugins vs. Directives</h2>\n\n<p><strong>Plugins extend jQuery. AngularJS Directives extend the capabilities of your browser.</strong></p>\n\n<p>In jQuery we define plugins by adding functions to the jQuery.prototype. We then hook these into the DOM by selecting elements and calling the plugin on the result. The idea is to extend the capabilities of jQuery.</p>\n\n<p>For example, if you want a carousel on your page, you might define an unordered list of figures, perhaps wrapped in a nav element. You might then write some jQuery to select the list on the page and restyle it as a gallery with timeouts to do the sliding animation.</p>\n\n<p>In AngularJS, we define directives. A directive is a function which returns a JSON object. This object tells AngularJS what DOM elements to look for, and what changes to make to them. Directives are hooked in to the template using either attributes or elements, which you invent. The idea is to extend the capabilities of HTML with new attributes and elements.</p>\n\n<p><em>The AngularJS way is to extend the capabilities of native looking HTML.</em> You should write HTML that looks like HTML, extended with custom attributes and elements.</p>\n\n<p>If you want a carousel, just use a <code>&lt;carousel /&gt;</code> element, then define a directive to pull in a template, and make that sucker work.</p>\n\n<h2>Lots of small directives vs. big plugins with configuration switches</h2>\n\n<p>The tendency with jQuery is to write great big plugins like lightbox which we then configure by passing in numerous values and options.</p>\n\n<p>This is a mistake in AngularJS.</p>\n\n<p>Take the example of a dropdown. When writing a dropdown plugin you might be tempted to code in click handlers, perhaps a function to add in a chevron which is either up or down, perhaps change the class of the unfolded element, show hide the menu, all helpful stuff.</p>\n\n<p>Until you want to make a small change.</p>\n\n<p>Say you have a menu that you want to unfold on hover. Well now we have a problem. Our plugin has wired in our click handler for us, we're going to need to add a configuration option to make it behave differently in this specific case.</p>\n\n<p>In AngularJS we write smaller directives. Our dropdown directive would be ridiculously small. It might maintain the folded state, and provide methods to fold(), unfold() or toggle(). These methods would simply update $scope.menu.visible which is a boolean holding the state.</p>\n\n<p>Now <strong>in our template</strong> we can wire this up:</p>\n\n<pre><code>&lt;a ng-click=\"toggle()\"&gt;Menu&lt;/a&gt;\n&lt;ul ng-show=\"menu.visible\"&gt;\n  ...\n&lt;/ul&gt;\n</code></pre>\n\n<p>Need to update on mouseover?</p>\n\n<pre><code>&lt;a ng-mouseenter=\"unfold()\" ng-mouseleave=\"fold()\"&gt;Menu&lt;/a&gt;\n&lt;ul ng-show=\"menu.visible\"&gt;\n  ...\n&lt;/ul&gt;\n</code></pre>\n\n<p>The template drives the application so we get HTML level granularity. If we want to make case by case exceptions, the template makes this easy.</p>\n\n<h2>Closure vs. $scope</h2>\n\n<p>jQuery plugins are created in a closure. Privacy is maintained within that closure. It's up to you to maintain your scope chain within that closure. You only really have access to the set of DOM nodes passed in to the plugin by jQuery, plus any local variables defined in the closure and any globals you have defined. This means that plugins are quite self contained. This is a good thing, but can get restrictive when creating a whole application. Trying to pass data between sections of a dynamic page becomes a chore.</p>\n\n<p>AngularJS has $scope objects. These are special objects created and maintained by AngularJS in which you store your model. Certain directives will spawn a new $scope, which by default inherits from its wrapping $scope using JavaScript prototypical inheritance. The $scope object is accessible in the controller and the view.</p>\n\n<p>This is the clever part. Because the structure of $scope inheritance roughly follows the structure of the DOM, elements have access to their own scope, and any containing scopes seamlessly, all the way up to the global $scope (which is not the same as the global scope).</p>\n\n<p>This makes it much easier to pass data around, and to store data at an appropriate level. If a dropdown is unfolded, only the dropdown $scope needs to know about it. If the user updates their preferences, you might want to update the global $scope, and any nested scopes listening to the user preferences would automatically be alerted.</p>\n\n<p>This might sound complicated, in fact, once you relax into it, it's like flying. You don't need to create the $scope object, AngularJS instantiates and configures it for you, correctly and appropriately based on your template hierarchy. AngularJS then makes it available to your component using the magic of dependency injection (more on this later).</p>\n\n<h2>Manual DOM changes vs. Data Binding</h2>\n\n<p>In jQuery you make all your DOM changes by hand. You construct new DOM elements programatically. If you have a JSON array and you want to put it to the DOM, you must write a function to generate the HTML and insert it.</p>\n\n<p>In AngularJS you can do this too, but you are encouraged to make use of data binding. Change your model, and because the DOM is bound to it via a template your DOM will automatically update, no intervention required.</p>\n\n<p>Because data binding is done from the template, using either an attribute or the curly brace syntax, it's super easy to do. There's little cognitive overhead associated with it so you'll find yourself doing it all the time.</p>\n\n<pre><code>&lt;input ng-model=\"user.name\" /&gt;\n</code></pre>\n\n<p>Binds the input element to <code>$scope.user.name</code>. Updating the input will update the value in your current scope, and vice-versa.</p>\n\n<p>Likewise:</p>\n\n<pre><code>&lt;p&gt;\n  {{user.name}}\n&lt;/p&gt;\n</code></pre>\n\n<p>will output the user name in a paragraph. It's a live binding, so if the <code>$scope.user.name</code> value is updated, the template will update too.</p>\n\n<h2>Ajax all of the time</h2>\n\n<p>In jQuery making an Ajax call is fairly simple, but it's still something you might think twice about. There's the added complexity to think about, and a fair chunk of script to maintain.</p>\n\n<p>In AngularJS, Ajax is your default go-to solution and it happens all the time, almost without you noticing. You can include templates with ng-include. You can apply a template with the simplest custom directive. You can wrap an Ajax call in a service and create yourself a <a href=\"http://en.wikipedia.org/wiki/GitHub\">GitHub</a> service, or a <a href=\"http://en.wikipedia.org/wiki/Flickr\">Flickr</a> service, which you can access with astonishing ease.</p>\n\n<h2>Service Objects vs Helper Functions</h2>\n\n<p>In jQuery, if we want to accomplish a small non-dom related task such as pulling a feed from an API, we might write a little function to do that in our closure. That's a valid solution, but what if we  want to access that feed often? What if we want to reuse that code in another application?</p>\n\n<p>AngularJS gives us service objects.</p>\n\n<p>Services are simple objects that contain functions and data. They are always singletons, meaning there can never be more than one of them. Say we want to access the Stack Overflow API, we might write a <code>StackOverflowService</code> which defines methods for doing so.</p>\n\n<p>Let's say we have a shopping cart. We might define a ShoppingCartService which maintains our cart and contains methods for adding and removing items. Because the service is a singleton, and is shared by all other components, any object that needs to can write to the shopping cart and pull data from it. It's always the same cart.</p>\n\n<p>Service objects are self-contained AngularJS components which we can use and reuse as we see fit. They are simple JSON objects containing functions and Data. They are always singletons, so if you store data on a service in one place, you can get that data out somewhere else just by requesting the same service.</p>\n\n<h2><a href=\"http://en.wikipedia.org/wiki/Dependency_injection\">Dependency injection</a> (DI) - aka de-spaghettification</h2>\n\n<p>AngularJS manages your dependencies for you. If you want an object, simply refer to it and AngularJS will get it for you.</p>\n\n<p>Until you start to use this, it's hard to explain just what a massive time boon this is. Nothing like AngularJS DI exists inside jQuery.</p>\n\n<p>DI means that instead of writing your application and wiring it together, you instead define a library of components, each identified by a string.</p>\n\n<p>Say I have a component called 'FlickrService' which defines methods for pulling JSON feeds from Flickr. Now, if I want to write a controller that can access Flickr, I just need to refer to the 'FlickrService' by name when I declare the controller. AngularJS will take care of instantiating the component and making it available to my controller.</p>\n\n<p>For example, here I define a service:</p>\n\n<pre><code>myApp.service('FlickrService', function() {\n  return {\n    getFeed: function() { // do something here }\n  }\n});\n</code></pre>\n\n<p>Now when I want to use that service I just refer to it by name like this:</p>\n\n<pre><code>myApp.controller('myController', ['FlickrService', function(FlickrService) {\n  FlickrService.getFeed()\n}]);\n</code></pre>\n\n<p>AngularJS will recognise that a FlickrService object is needed to instantiate the controller, and will provide one for us.</p>\n\n<p>This makes wiring things together very easy, and pretty much eliminates any tendency towards spagettification. We have a flat list of components, and AngularJS hands them to us one by one as and when we need them.</p>\n\n<h2>Modular service architecture</h2>\n\n<p>jQuery says very little about how you should organise your code. AngularJS has opinions.</p>\n\n<p>AngularJS gives you modules into which you can place your code. If you're writing a script that talks to Flickr for example, you might want to create a Flickr module to wrap all your Flickr related functions in. Modules can include other modules (DI). Your main application is usually a module, and this should include all the other modules your application will depend on.</p>\n\n<p>You get simple code reuse, if you want to write another application based on Flickr, you can just include the Flickr module and voila, you have access to all your Flickr related functions in your new application.</p>\n\n<p>Modules contain AngularJS components. <strong>When we include a module, all the components in that module become available to us as a simple list identified by their unique strings</strong>. We can then inject those components into each other using AngularJS's dependency injection mechanism.</p>\n\n<h2>To sum up</h2>\n\n<p>AngularJS and jQuery are not enemies. It's possible to use jQuery within AngularJS very nicely. If you're using AngularJS well (templates, data-binding, $scope, directives, etc.) you will find you need a <strong>lot</strong> less jQuery than you might otherwise require.</p>\n\n<p>The main thing to realise is that your template drives your application. Stop trying to write big plugins that do everything. Instead write little directives that do one thing, then write a simple template to wire them together.</p>\n\n<p>Think less about unobtrusive JavaScript, and instead think in terms of HTML extensions.</p>\n\n<h2>My little book</h2>\n\n<p>I got so excited about AngularJS, I wrote a short book on it which you're very welcome to read online <a href=\"http://nicholasjohnson.com/angular-book/\">http://nicholasjohnson.com/angular-book/</a>. I hope it's helpful.</p>\n",
                    "is_accepted": false,
                    "score": 127
                },
                {
                    "body": "<p>Those are some very nice, but lengthy answers.</p>\n\n<p>To sum up my experiences:</p>\n\n<ol>\n<li>Controllers and providers (services, factories, etc.) are for modifying the data model, NOT HTML.</li>\n<li>HTML and directives define the layout and binding to the model.</li>\n<li>If you need to share data between controllers, create a service or factory - they are singletons that are shared across the application.</li>\n<li>If you need an HTML widget, create a directive.</li>\n<li><strong>If you have some data and are now trying to update HTML... STOP! update the model, and make sure your HTML is bound to the model.</strong></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>As a JavaScript MV* beginner and purely focusing on the application architecture (not the server/client-side matters), I would certainly recommend the following resource (which I am surprised wasn't mentioned yet): <a href=\"http://addyosmani.com/resources/essentialjsdesignpatterns/book/\" rel=\"nofollow\">JavaScript Design Patterns</a>, by Addy Osmani, as an introduction to different <strong>JavaScript Design Patterns</strong>. The terms used in this answer are taken from the linked document above. I'm not going to repeat what was worded really well in the accepted answer. Instead, this answer links back to the <strong>theoretical backgrounds</strong> which power AngularJS (and other libraries).</p>\n\n<p>Like me, you will quickly realize that AngularJS (or <a href=\"http://en.wikipedia.org/wiki/Ember.js\" rel=\"nofollow\">Ember.js</a>, Durandal, &amp; other MV* frameworks for that matter) is one complex framework assembling many of the different JavaScript design patterns.</p>\n\n<p>I found it easier also, to test <strong>(1)</strong> native JavaScript code and <strong>(2)</strong> smaller libraries for each one of these patterns <strong>separately</strong> before diving into one global framework. This allowed me to better understand which crucial issues a framework adresses (because you are personally faced with the problem).</p>\n\n<p>For example:</p>\n\n<ul>\n<li><a href=\"https://www.google.be/search?q=js+oop\" rel=\"nofollow\">JavaScript Object-oriented Programming</a> (this is a Google search link). It is not a library, but certainly a prerequisite to any application programming. It taught me the native implementations of the <strong>prototype, constructor, singleton &amp; decorator patterns</strong></li>\n<li><a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a>/ <a href=\"http://underscorejs.org\" rel=\"nofollow\">Underscore</a> for the <strong>facade pattern</strong> (like WYSIWYG's for manipulating the DOM)</li>\n<li><a href=\"http://prototypejs.org\" rel=\"nofollow\">Prototype.js</a> for the <strong>prototype/ constructor/ mixin pattern</strong></li>\n<li><a href=\"http://requirejs.org\" rel=\"nofollow\">RequireJS</a>/ <a href=\"https://github.com/cujojs/curl\" rel=\"nofollow\">Curl.js</a> for the <strong>module pattern/ AMD</strong></li>\n<li><a href=\"http://knockoutjs.com\" rel=\"nofollow\">KnockoutJS</a> for the <strong>observable, publish/subscribe pattern</strong></li>\n</ul>\n\n<p>NB: This list is not complete, nor 'the best libraries'; they just happen to be the libraries I used. These libraries also include more patterns, the ones mentioned are just their main focuses or original intents. If you feel something is missing from this list, please do mention it in the comments, and I will be glad to add it.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Actually, if you're using AngularJS, you don't need jQuery anymore. AngularJS itself has the binding and directive, which is a very good \"replacement\" for most things you can do with jQuery.</p>\n\n<p>I usually develop mobile applications using AngularJS and <a href=\"http://en.wikipedia.org/wiki/PhoneGap\" rel=\"nofollow\">Cordova</a>. The ONLY thing from jQuery I needed is the Selector.</p>\n\n<p>By googling, I see that there is a standalone jQuery selector module out there. It's Sizzle. </p>\n\n<p>And I decided to make a tiny code snippet that help me quickly start a website using AngularJS with the power of jQuery Selector (using Sizzle).</p>\n\n<p>I shared my code here: <a href=\"https://github.com/huytd/Sizzular\" rel=\"nofollow\">https://github.com/huytd/Sizzular</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>To answer this question, I want to share my experience on the first enterprise application with AngularJS:</p>\n\n<p><strong>Two-way data binding is amazing:</strong> \nI had a grid with all functionality UPDATE, DELTE, INSERT. I have a data object that binds the grid's model using ng-repeat. You only need to write a single line of simple JavaScript code for delete and insert and that's it. grid automatically updates as the grid model changes instantly. Update functionality is real time, no code for it.\nYou feel amazing!!!</p>\n\n<p><strong>Reusable directives are super:</strong>\nWrite directives in one place and use it throughout the application. OMG!!! I used these directive for paging, regex, validations, etc. It is really cool!</p>\n\n<p><strong>Routing is strong:</strong>\nIt's up to your implementation how you want to use it, but it requires very few lines of code to route the request to specify HTML and controller (JavaScript)</p>\n\n<p><strong>Controllers are great:</strong>\nControllers take care of their own HTML, but this separation works well for common functionality well as. If you want to call the same function on the click of a button on master HTML, just write the same function name in each controller and write individual code.</p>\n\n<p><strong>Plugins:</strong>\nThere are many other similar features like showing an overlay in your app. You don't need to write code for it, just use an overlay plugin available as wc-overlay, and this will automatically take care of all <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\" rel=\"nofollow\">XMLHttpRequest</a> (XHR) requests.</p>\n\n<p><strong>Ideal for <a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services\" rel=\"nofollow\">RESTful</a> architecture:</strong>\nBeing a complete frameworks makes AngularJS great to work with a RESTful architecture.</p>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>Suppose I'm familiar with developing client-side applications in <a href=\"http://jquery.com/\">jQuery</a>, but now I'd like to start using <a href=\"http://angularjs.org/\">AngularJS</a>. Can you describe the paradigm shift that is necessary? Here are a few questions that might help you frame an answer:</p>\n\n<ul>\n<li>How do I architect and design client-side web applications differently? What is the biggest difference?</li>\n<li>What should I stop doing/using; What should I start doing/using instead?</li>\n<li>Are there any server-side considerations/restrictions?</li>\n</ul>\n\n<p>I'm not looking for a detailed comparison between jQuery and AngularJS.</p>\n",
            "last_activity_date": 1420670636,
            "question_id": 14994391,
            "score": 4021,
            "tags": [
                "javascript",
                "jquery",
                "angularjs",
                "design",
                "architecture"
            ],
            "title": "&quot;Thinking in AngularJS&quot; if I have a jQuery background?"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>Variables declared globally have a global scope. Variables declared within a function are scoped to that function, and shadow global variables of the same name.</p>\n\n<p>(I'm sure there are many subtleties that real JavaScript programmers will be able to point out in other answers. In particular I came across <a href=\"http://www.digital-web.com/articles/scope_in_javascript/\">this page</a> about what exactly <code>this</code> means at any time. Hopefully <a href=\"http://bowles.byethost3.com/javascript/section6/lesson6.htm#part4\">this more introductory link</a> is enough to get you started though.)</p>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>Javascript uses scope chains to establish the scope for a given function. There is typically one global scope, and each function defined has its own nested scope. Any function defined within another function has a local scope which is linked to the outer function. It's always the position in the source that defines the scope.</p>\n\n<p>An element in the scope chain is basically a Map with a pointer to its parent scope.</p>\n\n<p>When resolving a variable, javascript starts at the innermost scope and searches outwards.</p>\n",
                    "is_accepted": false,
                    "score": 142
                },
                {
                    "body": "<p>Here's an example:</p>\n\n<pre><code>&lt;script&gt;\n\nvar globalVariable = 7; //==window.globalVariable\n\nfunction aGlobal( param ) { //==window.aGlobal(); \n                            //param is only accessible in this function\n  var scopedToFunction = {\n    //can't be accessed outside of this function\n\n    nested : 3 //accessible by: scopedToFunction.nested\n  };\n\n  anotherGlobal = {\n    //global because there's no `var`\n  }; \n\n}\n\n&lt;/script&gt;\n</code></pre>\n\n<p>You'll want to investigate closures, and how to use them to make <a href=\"http://www.crockford.com/javascript/private.html\">private members</a>.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>I think about the best I can do is give you a bunch of examples to study.\nJavascript programmers are practically ranked by how well they understand scope.\nIt can at times be quite counter-intuitive.</p>\n\n<ol>\n<li><p><strong>A globally-scoped variable</strong></p>\n\n<pre><code>var a = 1;\n\n// global scope\nfunction one() {\n  alert(a);\n}\n</code></pre></li>\n<li><p><strong>Local scope</strong></p>\n\n<pre><code>var a = 1;\n\nfunction two(a) {\n  alert(a);\n}\n\n// local scope again\nfunction three() {\n  var a = 3;\n  alert(a);\n}\n</code></pre></li>\n<li><p><strong>Intermediate</strong>: <em>No such thing as block scope in JavaScript</em> (ES5; ES6 introduces <code>let</code>)</p>\n\n<pre><code>var a = 1;\n\nfunction four() {\n  if (true) {\n    var a = 4;\n  }\n\n  alert(a); // alerts '4', not the global value of '1'\n}\n</code></pre></li>\n<li><p><strong>Intermediate</strong>: <em>Object properties</em></p>\n\n<pre><code>var a = 1;\n\nfunction five() {\n  this.a = 5;\n}\n</code></pre></li>\n<li><p><strong>Advanced</strong>: <em>Closure</em></p>\n\n<pre><code>var a = 1;\n\nvar six = (function() {\n  var foo = 6;\n\n  return function() {\n    // JavaScript \"closure\" means I have access to foo in here,\n    // because it is defined in the function in which I was defined.\n    alert(foo);\n  };\n})();\n</code></pre></li>\n<li><p><strong>Advanced</strong>: <em>Prototype-based scope resolution</em></p>\n\n<pre><code>var a = 1;\n\nfunction seven() {\n  this.a = 7;\n}\n\n// [object].prototype.property loses to\n// [object].property in the lookup chain. For example...\n\n// Won't get reached, because 'a' is set in the constructor above.\nseven.prototype.a = -1;\n\n// Will get reached, even though 'b' is NOT set in the constructor.\nseven.prototype.b = 8;\n</code></pre></li>\n<li><p><strong>Altogether</strong></p>\n\n<pre><code>// These will print 1-8\none();\ntwo(2);\nthree();\nfour();\nalert(new five().a);\nsix();\nalert(new seven().a);\nalert(new seven().b);\n</code></pre>\n\n<hr></li>\n<li><p><strong>Global+Local</strong>: <em>An extra complex Case</em></p>\n\n<pre><code>var x = 5;\n\n(function () {\n    console.log(x);\n    var x = 10;\n    console.log(x); \n})();\n</code></pre>\n\n<p>This will print out <code>undefined</code> and <code>10</code> rather than <code>5</code> and <code>10</code> since JavaScript always move variable declarations (not initializations) to the top of the scope, making the code equivalent to:</p>\n\n<pre><code>var x = 5;\n\n(function () {\n    var x;\n    console.log(x);\n    x = 10;\n    console.log(x); \n})();\n</code></pre></li>\n<li><p><strong>Catch clause-scoped variable</strong></p>\n\n<pre><code>var e = 5;\nconsole.log(e);\ntry {\n    throw 6;\n} catch (e) {\n    console.log(e);\n}\nconsole.log(e);\n</code></pre>\n\n<p>This will print out <code>5</code>, <code>6</code>, <code>5</code>. Inside the catch clause <code>e</code> shadows global and local variables. But this special scope is only for the caught variable. If you write <code>var f;</code> inside the catch clause, then it's exactly the same as if you had defined it before or after the try-catch block.</p></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 1255
                },
                {
                    "body": "<p>In \"Javascript 1.7\" (Mozilla's extension to Javascript) one can also declare block-scope variables with <a href=\"https://developer.mozilla.org/en/New_in_JavaScript_1.7#section_11\"><code>let</code> statement</a>:</p>\n\n<pre><code> var a = 4;\n let (a = 3) {\n   alert(a); // 3\n }\n alert(a);   // 4\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>The key, as I understand it, is that Javascript has function level scoping vs the more common C block scoping.</p>\n\n<p><a href=\"http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting\">Here is a good article on the subject.</a></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I found that many people new to JavaScript have trouble understanding that inheritance is available by default in the language and that function scope is the only scope, so far. I provided an extension to a beautifier I wrote at the end of last year called JSPretty. The feature colors function scope in the code and always associates a color to all variables declared in that scope. Closure is visually demonstrated when a variable with a color from one scope is used in a different scope.</p>\n\n<p>Try the feature at:</p>\n\n<ul>\n<li><a href=\"http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope\">http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope</a></li>\n</ul>\n\n<p>See a demo at:</p>\n\n<ul>\n<li><a href=\"http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope&amp;s=http://prettydiff.com/lib/markup_beauty.js\">http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope&amp;s=http://prettydiff.com/lib/markup_beauty.js</a></li>\n</ul>\n\n<p>View the code at:</p>\n\n<ul>\n<li><a href=\"http://prettydiff.com/lib/jspretty.js\">http://prettydiff.com/lib/jspretty.js</a></li>\n<li><a href=\"https://github.com/austincheney/Pretty-Diff/blob/master/lib/jspretty.js\">https://github.com/austincheney/Pretty-Diff/blob/master/lib/jspretty.js</a></li>\n</ul>\n\n<p>Currently the feature offers support for a depth of 16 nested functions, but currently does not color global variables.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Try this curious example. In the example below if a were a numeric initialized at 0, you'd see 0 and then 1. Except a is an object and javascript will pass f1 a pointer of a rather than a copy of it. The result is that you get the same alert both times.</p>\n\n<pre><code>var a = new Date();\nfunction f1(b)\n{\n    b.setDate(b.getDate()+1);\n    alert(b.getDate());\n}\nf1(a);\nalert(a.getDate());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>1) There is a global scope, a function scope, and the with and catch scopes. There is no 'block' level scope in general for variable's -- the with and the catch statements add names to their blocks.</p>\n\n<p>2) Scopes are nested by functions all the way to the global scope.</p>\n\n<p>3) Properties are resolved by going through the prototype chain.  The with statement brings object property names into the lexical scope defined by the with block.</p>\n\n<p>EDIT: ECMAAScript 6 (Harmony) is spec'ed to support let, and I know chrome allows a 'harmony' flag, so perhaps it does support it..</p>\n\n<p>Let would be a support for block level scoping, but you have to use the keyword to make it happen.</p>\n\n<p>EDIT: Based on Benjamin's pointing out of the with and catch statements in the comments, I've edited the post, and added more.  Both the with and the catch statements introduce variables into their respective blocks, and that <em>is</em> a block scope. These variables are aliased to the properties of the objects passed into them.</p>\n\n<pre><code> //chrome (v8)\n\n var a = { 'test1':'test1val' }\n test1   // error not defined\n with (a) { var test1 = 'replaced' }\n test1   // undefined\n a       // a.test1 = 'replaced'\n</code></pre>\n\n<p>EDIT: Clarifying example:</p>\n\n<p>test1 is scoped to the with block, but is aliased to a.test1.  'Var test1' creates a new variable test1 in the upper lexical context (function, or global), unless it is a property of a -- which it is. </p>\n\n<p>Yikes!  Be careful using 'with' -- just like var is a noop if the variable is already defined in the function, it is also a noop with respect to names imported from the object!  A little heads up on the name already being defined would make this much safer.  I personally will never use with because of this.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><strong>Global Scope::</strong> Global variables are exactly like global stars (Jackie Chan, Nelson Mandela). You can access them (get or set the value), from any part of your application. Global functions are like global events (New Year, Christmas). You can execute (call) them from any part of your application.</p>\n\n<pre><code>//global variable\nvar a = 2;\n\n//global function\nfunction b(){\n   console.log(a);  //access global variable\n}\n</code></pre>\n\n<p><strong>Local Star::</strong> If you are in the USA, you may know Kim Kardashian, infamous celebrity ( she somehow manages to make the tabloids). But people outside of the USA will not recognize her. She is a local star, bound to her territory.</p>\n\n<p><strong>Local Scope::</strong> Local variables are like local stars. You can only access them (get or set the value) inside the scope. A local function is like local events - you can execute only (celebrate) inside that scope. If you want to access them from outside of the scope, you will get a reference error</p>\n\n<pre><code>function b(){\n   var d = 21; //local variable\n   console.log(d);\n\n   function dog(){  console.log(a); }\n     dog(); //execute local function\n}\n\n console.log(d); //ReferenceError: dddddd is not defined    \n</code></pre>\n\n<p>check this for <a href=\"http://www.thatjsdude.com/jsConcepts/concepts/scope.html\" rel=\"nofollow\">in-depth understanding of scope</a> </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>JavaScript have only two type of scope : </p>\n\n<ol>\n<li><strong>Global Scope</strong> : Global is nothing but a window level scope.Here, variable present throughout the application.</li>\n<li><strong>Functional Scope</strong> : Variable declared within a function with <code>var</code> keyword has functional scope.</li>\n</ol>\n\n<p><em>Whenever a function is called, a variable scope object is created (and included in scope chain) which is followed by variables in JavaScript.</em></p>\n\n<pre><code>        a = \"global\";\n         function outer(){ \n              b = \"local\";\n              console.log(a+b); //\"globallocal\"\n         }\nouter();\n</code></pre>\n\n<p>Scope chain -->  </p>\n\n<ol>\n<li>Window level - <code>a</code> and <code>outer</code> function are at top level in scope chain.</li>\n<li>when outer function called a new <code>variable scope object</code>(and included in scope chain) added with variable <code>b</code> inside it.</li>\n</ol>\n\n<p>Now when a variable <code>a</code> required it first searches for nearest variable scope and if variable is not there than it move's to next object of variable scope chain.which is in this case is window level.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>run the code. hope this will give an idea about scoping </p>\n\n<pre><code>Name = 'global data';\ndocument.Name = 'current document data';\n(function(window,document){\nvar Name = 'local data';\nvar myObj = {\n    Name: 'object data',\n    f: function(){\n        alert(this.Name);\n    }\n};\n\nmyObj.newFun = function(){\n    alert(this.Name);\n}\n\nfunction testFun(){\n    alert(\"Window Scope : \" + window.Name + \n          \"\\nLocal Scope : \" + Name + \n          \"\\nObject Scope : \" + this.Name + \n          \"\\nCurrent document Scope : \" + document.Name\n         );\n}\n\n\ntestFun.call(myObj);\n})(window,document);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Global: variable declared outside of a function</p>\n\n<p>Local: variable declared inside a function, and can only be called in that scope</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?</p>\n",
            "last_activity_date": 1420313752,
            "question_id": 500431,
            "score": 773,
            "tags": [
                "javascript",
                "variables",
                "scope"
            ],
            "title": "What is the scope of variables in JavaScript?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>There are actually several approaches to do this. Some require more overhead than others, and some are considered better than others.</p>\n\n<p>In no particular order:</p>\n\n<ol>\n<li>Use AJAX to get the data you need from the server.</li>\n<li>Echo the data into the page somewhere, and use JavaScript to get the information from the DOM.</li>\n<li>Echo the data directly to JavaScript.</li>\n</ol>\n\n<p>In this post, we'll examine each of the above methods, and see the pros and cons of each, as well as how to implement them.</p>\n\n<h1>1. Use AJAX to get the data you need from the server</h1>\n\n<p>This method is considered the best, because <strong>your server side and client side scripts are completely separate</strong>.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Better separation between layers</strong> - If tomorrow you stop using PHP, and want to move to a servlet, a REST API, or some other service, you don't have to change much of the JavaScript code.</li>\n<li><strong>More readable</strong> - JavaScript is JavaScript, PHP is PHP. Without mixing the two, you get more readable code on both languages.</li>\n<li><strong>Allows for async data transfer</strong> - Getting the information from PHP might be time/resources expensive. Sometimes you just don't want to wait for the information, load the page, and have the information reach whenever.</li>\n<li><strong>Data is not directly found on the markup</strong> - This means that your markup is kept clean of any additional data, and only JavaScript sees it.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong>Latency</strong> - AJAX creates an HTTP request, and HTTP requests are carried over network and have network latencies.</li>\n<li><strong>State</strong> - Data fetched via a separate HTTP request won't include any information from the HTTP request that fetched the HTML document. You may need this information (e.g. if the HTML document is generated in response to a form submission) and, if you do, will have to transfer it across somehow. If you have ruled out embedding the data in the page (which you have if you are using this technique) then that limits you to cookies/sessions which may be subject to race conditions.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>With AJAX, you need two pages, one is where PHP generates the output, and the second is where JavaScript gets that output:</p>\n\n<h3>get-data.php</h3>\n\n<pre><code>/* Do some operation here, like talk to the database, the file-session\n * The world beyond, limbo, the city of shimmers, and Canada.\n * \n * AJAX generally uses strings, but you can output JSON, HTML and XML as well. \n * It all depends on the Content-type header that you send with your AJAX\n * request. */\n\necho json_encode(42); //In the end, you need to <strong>echo</strong> the result. \n                      //All data should be <em>json_encode()</em>d.\n\n                      //You can json_encode() any value in PHP, arrays, strings,\n                      //even objects.\n\n</code></pre>\n\n<h3>index.php (or whatever the actual page is named like)</h3>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;script&gt;\n    function reqListener () {\n      console.log(this.responseText);\n    }\n\n    var oReq = new XMLHttpRequest(); //New request object\n    oReq.onload = function() {\n        //This is where you handle what to do with the response.\n        //The actual data is found on this.responseText\n        alert(this.responseText); //Will alert: 42\n    };\n    oReq.open(\"get\", \"get-data.php\", true);\n    //                               ^ Don't block the rest of the execution.\n    //                                 Don't wait until the request finishes to \n    //                                 continue.\n    oReq.send();\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<p>The above combination of the two files will alert <code>42</code> when the file finishes loading.</p>\n\n<h2>Some more reading material</h2>\n\n<ul>\n<li><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\">Using XMLHttpRequest - MDN</a></strong></li>\n<li><strong><a href=\"https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest\">XMLHttpRequest object reference - MDN</a></strong></li>\n<li><strong><a href=\"http://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-ajax-call\">How to return the response from an Ajax call?</a></strong></li>\n</ul>\n\n<h1>2. Echo the data into the page somewhere, and use JavaScript to get the information from the DOM</h1>\n\n<p>This method is less preferable to AJAX, but it still has its advantages. It's still <em>relatively</em> separated between PHP and JavaScript in a sense that there is no PHP directly in the JavaScript.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Fast</strong> - DOM operations are often quick, and you can store and access a lot of data relatively quickly.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong>Potentially Unsemantic Markup</strong> - Usually, what happens is that you use some sort of <code>&lt;input type=hidden&gt;</code> to store the information, because it's easier to get the information out of <code>inputNode.value</code>, but doing so means that you have a meaningless element in your HTML. HTML has the <code>&lt;meta&gt;</code> element for data about the document, and HTML 5 introduces <code>data-*</code> attributes for data specifically for reading with JS that can be associated with particular elements.</li>\n<li><strong>Dirties up the Source</strong> - Data that PHP generates is outputted directly to the HTML source, meaning that you get a bigger and less focused HTML source.</li>\n<li><strong>Harder to get structured data</strong> - Structured data will have to be valid HTML, otherwise you'll have to escape and convert strings yourself.</li>\n<li><strong>Tightly couples PHP to your data logic</strong> - Because PHP is used in presentation, you can't separate the two cleanly.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>With this, the idea is to create some sort of element which will not be displayed to the user, but is visible to JavaScript.</p>\n\n<h3>index.php</h3>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;div id=\"dom-target\" style=\"display: none;\"&gt;\n    &lt;?php \n        $output = \"42\"; //Again, do some operation, get the output.\n        echo htmlspecialchars($output); /* You have to escape because the result\n                                           will not be valid HTML otherwise. */\n    ?&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    var div = document.getElementById(\"dom-target\");\n    var myData = div.textContent;\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<h1>3. Echo the data directly to JavaScript</h1>\n\n<p>This is probably the easiest to understand, and the most horrible to use. Don't do this unless you know what you're doing.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Very easily implemented</strong> - It takes very little to implement this, and understand.</li>\n<li><strong>Does not dirty source</strong> - Variables are outputted directly to JavaScript, so the DOM is not affected.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong><em>Insecure</em></strong> - PHP has no trivial JavaScript escape functions, and they aren't trivial to implement. Especially when using user inputs, you are <strong>extremely</strong> vulnerable to second tier injections. <strong>Disputed</strong> see comments</li>\n<li><strong>Tightly couples PHP to your data logic</strong> - Because PHP is used in presentation, you can't separate the two cleanly.</li>\n<li><strong>Structured data is hard</strong> - You can probably do JSON... kinda. But XML and HTML will require special attention.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>Implementation is relatively straightforward:</p>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;script&gt;\n    var data = &lt;?php echo json_encode(\"42\"); ?&gt;; //Don't forget the extra semicolon!\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<p>Good luck!</p>\n",
                    "is_accepted": true,
                    "score": 162
                },
                {
                    "body": "<p>I'm going to try a simpler answer:</p>\n\n<h2>Explanation of the problem</h2>\n\n<p>First, let's understand the flow of events when a page is served from our server:</p>\n\n<ul>\n<li>First PHP is run, it generates the HTML that is served to the client.</li>\n<li>Then, the HTML is delivered to the client, after PHP is done with it, I'd like to emphasize that once the code leaves the server - PHP is done with it and can no longer access it.</li>\n<li>Then, the HTML with JavaScript reaches the client, which can execute JS on that html.</li>\n</ul>\n\n<p>So really, the core thing to remember here is that <strong>HTTP is stateless</strong>. Once a request left the server, the server can not touch it. So, that leaves our options to:</p>\n\n<ol>\n<li>Send more requests from the client <em>after</em> the initial request is done.</li>\n<li>Encode what the server had to say in the initial request.</li>\n</ol>\n\n<h2>Solutions</h2>\n\n<p>That's the core question you should be asking yourself is:</p>\n\n<h2>Am I writing a website or an application?</h2>\n\n<p>Websites are mainly page based, and the page load times needs to be as fast as possible (for example - Wikipedia) . Web applications are more AJAX heavy and perform a lot of round trips to get the client fast information (for example - a stock dashboard).</p>\n\n<h3>Website</h3>\n\n<p>Sending more requests from the client after the initial request is done is <strong>slow</strong> as it requires more HTTP requests which have significant overhead. Moreover, it requires <em>asynchronousity</em> as making an AJAX request requires a handler for when it's complete.</p>\n\n<p>I would <em>not</em> recommend making another request <em>unless your site is an application</em> for getting that information from the server. </p>\n\n<p>You want fast response times which have a <em>huge</em> impact on conversion and load times. Making ajax requests is slow for the initial uptime in this case and unneeded.</p>\n\n<p>You have two ways to tackle the issue</p>\n\n<ul>\n<li><strong>Set a cookie</strong> - cookies are headers sent in HTTP requests that both the server and client can read.</li>\n<li><strong>Encode the variable as JSON</strong> - JSON looks very close to JavaScript objects and <em>most</em> JSON objects are valid JavaScript variables.</li>\n</ul>\n\n<p><a href=\"http://www.php.net/manual/en/function.setcookie.php\">Setting a cookie</a> is really not very difficult, you just assign it a value:</p>\n\n<pre><code>setcookie(\"MyCookie\", $value); // sets the cookie to the value, remember, do not\n                               // set it with HTTP only to true.\n</code></pre>\n\n<p>Then, you can <a href=\"http://stackoverflow.com/questions/5639346/shortest-function-for-reading-a-cookie-in-javascript\">read it with JavaScript</a> using <code>document.cookie</code>:</p>\n\n<p>Here is a short hand rolled parser, but the answer I linked to right above this has better tested ones: </p>\n\n<pre><code>var cookies = document.cookie.split(\";\").\n    map(function(el){ return el.split(\"=\"); }).\n    reduce(function(prev,cur){ prev[cur[0]] = cur[1];return prev },{});\n\ncookies[\"MyCookie\"] // value set with php.\n</code></pre>\n\n<p>Cookies are good for a little data. This is what tracking services often do.</p>\n\n<p>Once we have more data, we can encode it with JSON inside a JS variable instead:</p>\n\n<pre><code>&lt;script&gt;\n    var myServerData = &lt;?=json_encode($value)?&gt;; // don't forget to sanitize \n                                                 //server data\n&lt;/script&gt;\n</code></pre>\n\n<p>Assuming <code>$value</code> is <code>json_encode</code>able on the PHP side (it usually is). This technique is what StackOverflow does with its chat for example (only using .net instead of php).</p>\n\n<h3>Application</h3>\n\n<p>If you're writing an application - suddenly the initial load time isn't always as important as the ongoing performance of the app and it starts to pay off to load data and code separately.</p>\n\n<p>My answer <a href=\"http://stackoverflow.com/a/16825593/1348195\">here</a> explains how to load data using AJAX in JavaScript:</p>\n\n<pre><code>function callback(data){\n    // what do I do with the response?\n}\n\nvar httpRequest = new XMLHttpRequest;\nhttpRequest.onreadystatechange = function(){\n    if (httpRequest.readyState === 4) {// request is done\n        if (httpRequest.status === 200) {// successfully\n            callback(httpRequest.responseText);// we're calling our method\n        }\n    }\n};\nhttpRequest.open('GET', \"/echo/json\");\nhttpRequest.send();\n</code></pre>\n\n<p>Or with jQuery:</p>\n\n<pre><code>$.get(\"/your/url\").done(function(data){\n    // what do I do with the data?\n});\n</code></pre>\n\n<p>Now, the server just needs to contain a <code>/your/url</code> route/file that contains code that grabs the data and does something with it, in your case:</p>\n\n<pre><code>&lt;$php\n ...\n $val = myService-&gt;getValue(); // makes an api and db call\n echo json_encode($val); // write it to the output\n $&gt;\n</code></pre>\n\n<p>This way, our JS file asks for the data and shows it rather than asking for code or for layout. This is cleaner and starts to pay off as the application gets higher. It's also better separation of concerns and it allows testing the client side code without any server side technology involved which is another plus.</p>\n\n<p><strong>Postscript:</strong> You have to be <em>very</em> aware of XSS attack vectors when you inject anything from PHP to JavaScript. It's <em>very</em> hard to escape values properly and it's context sensitive. If you're unsure how to deal with XSS, or unaware of it - please read <a href=\"https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29\">this OWASP article</a>, <a href=\"https://www.owasp.org/index.php/XSS_%28Cross_Site_Scripting%29_Prevention_Cheat_Sheet\">this one</a> and <a href=\"http://stackoverflow.com/q/71328/1348195\">this question</a>. </p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<pre><code>myPlugin.start($val); // tried this, didn't work    \n</code></pre>\n\n<p>It doesn't work because <code>$val</code> is undefined as far as javascript is concerned, ie. the php did not output anything for <code>$val</code>. Try viewing the source in your browser and here is what you'll see:</p>\n\n<pre><code>myPlugin.start(); // tried this, didn't work    \n</code></pre>\n\n<p>And</p>\n\n<pre><code>&lt;?php myPlugin.start($val); ?&gt; // this didn't work either\n</code></pre>\n\n<p>This doesn't work because php will try to treat <code>myPlugin</code> as a constant and when that fails it will try to treat it as the string <code>'myPlugin'</code> which it will try to concatenate with the output of the php function <code>start()</code> and since that is undefined it will produce a fatal error</p>\n\n<p>And</p>\n\n<pre><code> myPlugin.start(&lt;?=$val?&gt; // this works sometimes, but sometimes it fails\n</code></pre>\n\n<p>While this is most likely to work, since the php is producing valid javascript with the expected arguments, if it fails, chances are its because <code>myPlugin</code> isn't ready yet. Check your order of execution.</p>\n\n<p>Also you should note that the php out put is insecure and should be filtered with <code>json_encode()</code></p>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>Because I didn't notice the missing parenthesis in <code>myPlugin.start(&lt;?=$val?&gt;</code> :-\\</p>\n\n<p>As @Second Rikudo points out, for it to work correctly <code>$val</code> would need to contain the closing parenthesis eg: <code>$val=\"42);\"</code> </p>\n\n<p>Meaning that the php will now produce <code>myPlugin.start(42);</code> and will work as expected when executed by the javascript</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I usually use data-* attributes in html.</p>\n\n<pre><code>&lt;div class=\"service-container\" data-service=\"&lt;?php echo $myService-&gt;getValue(); ?&gt;\"&gt;\n\n&lt;/div&gt;\n\n&lt;script&gt;\n$(document).ready(function() {\n    $('.service-container').each(function() {\n        var container = $(this);\n        var service = container.data('container');\n\n        // service variable now contains the value of $myService-&gt;getValue();\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>This example uses jQuery but can be adapted for another library or vanilla Javascript.</p>\n\n<p>You can read more about the dataset property here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset\">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset</a></p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<pre><code>&lt;script&gt;\n  var jsvar = &lt;?php echo json_encode($PHPVar); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>json_encode() requires:</p>\n\n<ul>\n<li>PHP 5.2.0 or more</li>\n<li>$PHPVar encoded as UTF-8, Unicode.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>try this </p>\n\n<pre><code>&lt;?php\n    echo \"&lt;script&gt; var x = \". $phpVariable .\"&lt;/script&gt;\";\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I quite like the way the Wordpress works with its <a href=\"http://codex.wordpress.org/Function_Reference/wp_enqueue_script\" rel=\"nofollow\">enqueue</a> and <a href=\"http://codex.wordpress.org/Function_Reference/wp_localize_script\" rel=\"nofollow\">localize</a> functions, so following that model, i wrote a simple class for putting a scripts into page according to the script dependencies, and for making additional data available for the script.</p>\n\n<pre><code>class mHeader {\n\n    private $scripts = array();\n\n    /**\n     * @param string $id        unique script identifier\n     * @param string $src   script src attribute\n     * @param array  $deps      an array of dependencies ( script identifiers ).\n     * @param array  $data      an array, data that will be json_encoded and available to the script.\n     */\n    function enqueue_script( $id, $src, $deps = array(), $data = array() ) {\n        $this-&gt;scripts[$id] = array( 'src' =&gt; $src, 'deps' =&gt; $deps, 'data' =&gt; $data );\n    }\n\n    private function dependencies( $script ) {\n        if ( $script['deps'] ) {\n            return array_map( array( $this, 'dependencies' ), array_intersect_key( $this-&gt;scripts, array_flip( $script['deps'] ) ) );\n        }\n    }\n\n    private function _unset( $key, &amp;$deps, &amp;$out ) {\n        $out[$key] = $this-&gt;scripts[$key];\n        unset( $deps[$key] );\n    }\n\n    private function flattern( &amp;$deps, &amp;$out = array() ) {\n\n        foreach( $deps as $key =&gt; $value ) {            \n            empty($value) ? $this-&gt;_unset( $key, $deps, $out ) : $this-&gt;flattern( $deps[$key], $out );\n        }\n    }   \n\n    function print_scripts() {\n\n        if ( !$this-&gt;scripts ) return;\n\n        $deps = array_map( array( $this, 'dependencies' ), $this-&gt;scripts );\n        while ( $deps ) \n            $this-&gt;flattern( $deps, $js );\n\n        foreach( $js as $key =&gt; $script ) {\n            $script['data'] &amp;&amp; printf( \"&lt;script&gt; var %s = %s; &lt;/script&gt;\" . PHP_EOL, key( $script['data'] ), json_encode( current( $script['data'] ) ) );\n            echo \"&lt;script id=\\\"$key-js\\\" src=\\\"$script[src]\\\" type=\\\"text/javascript\\\"&gt;&lt;/script&gt;\" . PHP_EOL;\n        }\n    }\n}\n</code></pre>\n\n<p>Call to <code>enqueue_script()</code> function is for adding script, setting the souce and dependencies on other scripts, and additional data needed for the script.</p>\n\n<pre><code>$header = new mHeader();\n\n$header-&gt;enqueue_script( 'jquery-ui', '//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js', array( 'jquery' ) );\n$header-&gt;enqueue_script( 'jquery', '//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js' );\n$header-&gt;enqueue_script( 'custom-script', '//custom-script.min.js', array( 'jquery-ui' ), array( 'mydata' =&gt; array( 'value' =&gt; 20 ) ) );\n\n$header-&gt;print_scripts();\n</code></pre>\n\n<p>And, <code>print_scripts()</code> method of the above example will send this output:</p>\n\n<pre><code>&lt;script id=\"jquery-js\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script id=\"jquery-ui-js\" src=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt; var mydata = {\"value\":20}; &lt;/script&gt;\n&lt;script id=\"custom-script-js\" src=\"//custom-script.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Regardless the fact that the script 'jquery' is enqueued after the 'jquery-ui', it is printed before because it is defined in 'jquery-ui' that it depend on 'jquery'.\nAdditional data for the 'custom-script' are inside a new script block and are placed in front of it, it contains <code>mydata</code> object that holds additional data, now availible to 'custom-script'.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I have come out with an easy method to assign JavaScript variables using PHP. </p>\n\n<p>It uses HTML5 data attributes to store PHP variables and then its assigned to JavaScript on page load.</p>\n\n<p>Complete Tutorial can be found <a href=\"http://qnimate.com/assign-javascript-variables-using-wordpressphp/\" rel=\"nofollow\">here</a></p>\n\n<p>Example:</p>\n\n<pre><code>&lt;?php\n\n$variable_1 = \"QNimate\";\n$variable_2 = \"QScutter\";\n\n?&gt;\n    &lt;span id=\"storage\" data-variable-one=\"&lt;?php echo $variable_1; ?&gt;\" data-variable-two=\"&lt;?php echo $variable_2; ?&gt;\"&gt;&lt;/span&gt;\n&lt;?php\n</code></pre>\n\n<p>Hers is the JS code</p>\n\n<pre><code>var variable_1 = undefined;\nvar variable_2 = undefined;\n\nwindow.onload = function(){\n    variable_1 = document.getElementById(\"storage\").getAttribute(\"data-variable-one\");\n    variable_2 = document.getElementById(\"storage\").getAttribute(\"data-variable-two\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a variable in PHP, and I need its value in my JavaScript code. How can I get my variable from PHP to JavaScript?</p>\n\n<p>I have code that looks like this:</p>\n\n<pre><code>&lt;$php\n     ...\n     $val = $myService-&gt;getValue(); // makes an api and db call\n$&gt;\n</code></pre>\n\n<p>I have JavaScript code that needs <code>val</code> and looks along the lines of:</p>\n\n<pre><code>&lt;script&gt;\n    myPlugin.start($val); // tried this, didn't work\n    &lt;?php myPlugin.start($val); ?&gt; // this didn't work either\n    myPlugin.start(&lt;?=$val?&gt; // this works sometimes, but sometimes it fails\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1422788882,
            "question_id": 23740548,
            "score": 103,
            "tags": [
                "javascript",
                "php"
            ],
            "title": "How to pass variables and data from PHP to JavaScript?"
        },
        {
            "answer_count": 33,
            "answers": [
                {
                    "body": "<p>I love <em><a href=\"http://www.webdevelopersnotes.com/tips/html/10_ways_to_format_time_and_date_using_javascript.php3\">10 ways to format time and date using JavaScript</a></em> and <em><a href=\"http://www.elated.com/articles/working-with-dates/\">Working with Dates</a></em>.</p>\n\n<p>Basically, you have three methods and you have to combine the strings for yourself:</p>\n\n<pre><code>getDate() // Returns the date\ngetMonth() // Returns the month\ngetFullYear() // Returns the year\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var d = new Date();\n    var curr_date = d.getDate();\n    var curr_month = d.getMonth() + 1; //Months are zero based\n    var curr_year = d.getFullYear();\n    document.write(curr_date + \"-\" + curr_month + \"-\" + curr_year);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 777
                },
                {
                    "body": "<p>Make sure you checkout <a href=\"http://www.datejs.com/\">Datejs</a> when dealing with dates in JavaScript. It's quite impressive and well documented as you can see in case of the <a href=\"http://code.google.com/p/datejs/wiki/APIDocumentation#toString\">toString function</a>.</p>\n\n<p><strong>EDIT</strong>: Tyler Forsythe points out, that datejs is outdated. I use it in my current project and hadn't any trouble with it, however you should be aware of this and consider alternatives.</p>\n",
                    "is_accepted": false,
                    "score": 80
                },
                {
                    "body": "<p>Just another option, which I wrote:</p>\n\n<p><a href=\"http://depressedpress.com/javascript-extensions/dp_dateextensions/\" rel=\"nofollow\">DP_DateExtensions Library</a></p>\n\n<p>Not sure if it'll help, but I've found it useful in several projects - looks like it'll do what you need.</p>\n\n<p>Supports date/time formatting, date math (add/subtract date parts), date compare, date parsing, etc. It's liberally open sourced.</p>\n\n<p>No reason to consider it if you're already using a framework (they're all capable), but if you just need to quickly add date manipulation to a project give it a chance.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The functionality you cite is not standard Javascript, not likely to be portable across browsers and therefore not good practice.  The <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ECMAScript 3 spec</a> leaves the parse and output formats function up to the Javascript implementation.  <a href=\"http://www.ecma-international.org/publications/files/drafts/tc39-2009-025.pdf\">ECMAScript 5</a> adds a subset of ISO8601 support.  I believe the toString() function you mention is an innovation in one browser (Mozilla?)</p>\n\n<p>Several libraries provide routines to parameterize this, some with extensive localization support.  You can also check out the methods in <a href=\"http://api.dojotoolkit.org/jsdoc/1.3/dojo.date.locale\">dojo.date.locale</a>.</p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>I came across a brand new JavaScript library called jPaq which provides a function that closely emulates PHP's date function.  Documentation for this function can be found here:  <a href=\"http://jpaq.org/documentation/Date.prototype.format%28%29/1.0/\" rel=\"nofollow\">http://jpaq.org/documentation/Date.prototype.format%28%29/1.0/</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are already using <a href=\"http://en.wikipedia.org/wiki/JQuery_UI\">jQuery UI</a> in your project, you can use the built-in datepicker method for formatting your date object:</p>\n\n<pre><code>$.datepicker.formatDate('yy-mm-dd', new Date(2007, 1 - 1, 26));\n</code></pre>\n\n<p>However, the datepicker only formats dates, and cannot format times.</p>\n\n<p>Have a look at <a href=\"http://docs.jquery.com/UI/Datepicker/formatDate\">jQuery UI datepicker formatDate</a>, the examples.</p>\n",
                    "is_accepted": false,
                    "score": 378
                },
                {
                    "body": "<p>DateJS is certainly full-featured, but I'd recommend <a href=\"http://blog.stevenlevithan.com/archives/date-time-format\">this MUCH simpler lib (JavaScript Date Format)</a> which I prefer  simply because it's only 120 lines or so.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Formatting and especially parsing dates in JavaScript can be a bit of a headache. Not all browsers handle dates in the same way. So while it's useful to know the base methods, its more practical to use a helper library.</p>\n\n<p>The <a href=\"http://arshaw.com/xdate/\">XDate javascript library</a> by <a href=\"https://github.com/arshaw\">Adam Shaw</a> has been around since mid-2011 and is still under active development. It has fantastic documentation, a great API, formatting, tries to remain backwards-compatible and even supports localized strings.</p>\n\n<p>Link to changing the locale strings: <a href=\"https://gist.github.com/1221376\">https://gist.github.com/1221376</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I use <a href=\"http://blog.stevenlevithan.com/archives/date-time-format\">Steven Levithan's date formatter</a>. It's nice, easy and fully customizable.\nHe's the author of <a href=\"http://shop.oreilly.com/product/9780596520694.do\">Regular Expressions Cookbook</a> (O'Reilly).</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p><strong><a href=\"http://momentjs.com\">Moment.js</a></strong></p>\n\n<p>It is a (lightweight)* JavaScript date library for parsing, manipulating, and formatting dates.</p>\n\n<pre><code>var a = moment([2010, 1, 14, 15, 25, 50, 125]);\na.format(\"dddd, MMMM Do YYYY, h:mm:ss a\"); // \"Sunday, February 14th 2010, 3:25:50 pm\"\na.format(\"ddd, hA\");                       // \"Sun, 3PM\"\n</code></pre>\n\n<p><em>(*) lightweight meaning 9.3KB minified + gzipped in the smallest possible setup (feb 2014)</em> </p>\n",
                    "is_accepted": false,
                    "score": 587
                },
                {
                    "body": "<p><a href=\"http://www.javascriptsource.com/repository/javascripts/2009/03/880961/JS_Simple_Date_Format.zip\" rel=\"nofollow\">JsSimpleDateFormat</a> is a library that can format the date object and parse the formatted string back to Date object. It uses the Java format (SimpleDateFormat class). The name of months and days can be localized.</p>\n\n<p>Example:</p>\n\n<pre><code>var sdf = new JsSimpleDateFormat(\"EEEE, MMMM dd, yyyy\");\nvar formattedString = sdf.format(new Date());\nvar dateObject = sdf.parse(\"Monday, June 29, 2009\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function dateToYMD(date) {\n    var d = date.getDate();\n    var m = date.getMonth() + 1;\n    var y = date.getFullYear();\n    return '' + y + '-' + (m&lt;=9 ? '0' + m : m) + '-' + (d &lt;= 9 ? '0' + d : d);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 116
                },
                {
                    "body": "<blockquote>\n  <p>Where is the documentation which lists the format specifiers supported by the <code>Date()</code> object?</p>\n</blockquote>\n\n<p>I stumbled across this today and was quite surprised that no one took the time to answer this simple question.  True, there are many libraries out there to help with date manipulation.  Some are better than others.  But that wasn't the question asked.</p>\n\n<p>AFAIK, pure JavaScript doesn't support format specifiers <strong>the way you have indicated you'd like to use them</strong>.  But it does support methods for formatting dates and/or times, such as <code>.toLocaleDateString()</code>, <code>.toLocaleTimeString()</code>, and <code>.toUTCString()</code>.</p>\n\n<p>The <code>Date</code> object reference I use most frequently is on the <a href=\"http://www.w3schools.com/jsref/jsref_obj_date.asp\">w3schools.com website</a> (but <a href=\"https://www.google.com/search?q=javascript%20date%20object%20reference\">a quick Google search</a> will reveal many more that may better meet your needs).</p>\n\n<p>Also note that the <strong>Date Object Properties</strong> section provides a link to <a href=\"http://www.w3schools.com/jsref/jsref_prototype_date.asp\"><code>prototype</code></a>, which illustrates some ways you can extend the Date object with custom methods.  There has been <a href=\"http://perfectionkills.com/extending-built-in-native-objects-evil-or-not/\">some debate</a> in the JavaScript community over the years about whether or not this is best practice, and I am not advocating for or against it, just pointing out its existence.</p>\n",
                    "is_accepted": false,
                    "score": 172
                },
                {
                    "body": "<p>I made this very simple formatter, it's cut/n/pastable (Updated with neater version):</p>\n\n<pre><code>function DateFmt(fstr) {\n  this.formatString = fstr\n\n  var mthNames = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\n  var dayNames = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\n  var zeroPad = function(number) {\n     return (\"0\"+number).substr(-2,2);\n  }\n\n  var dateMarkers = {\n    d:['getDate',function(v) { return zeroPad(v)}],\n    m:['getMonth',function(v) { return zeroPad(v+1)}],\n    n:['getMonth',function(v) { return mthNames[v]; }],\n    w:['getDay',function(v) { return dayNames[v]; }],\n    y:['getFullYear'],\n    H:['getHours',function(v) { return zeroPad(v)}],\n    M:['getMinutes',function(v) { return zeroPad(v)}],\n    S:['getSeconds',function(v) { return zeroPad(v)}],\n    i:['toISOString']\n  };\n\n  this.format = function(date) {\n    var dateTxt = this.formatString.replace(/%(.)/g, function(m, p) {\n      var rv = date[(dateMarkers[p])[0]]()\n\n      if ( dateMarkers[p][1] != null ) rv = dateMarkers[p][1](rv)\n\n      return rv\n\n    });\n\n    return dateTxt\n  }\n\n}\n\nfmt = new DateFmt(\"%w %d:%n:%y - %H:%M:%S  %i\")\nv = fmt.format(new Date())\n</code></pre>\n\n<p><a href=\"http://snipplr.com/view/66968.82825/\">http://snipplr.com/view/66968.82825/</a></p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>Having looked through several of the options provided in other answers, I decided to write my own limited but simple solution that others may also find useful.</p>\n\n<pre><code>/**\n* Format date as a string\n* @param date - a date object (usually \"new Date();\")\n* @param format - a string format, eg. \"DD-MM-YYYY\"\n*/\nfunction dateFormat(date, format) {\n    // Calculate date parts and replace instances in format string accordingly\n    format = format.replace(\"DD\", (date.getDate() &lt; 10 ? '0' : '') + date.getDate()); // Pad with '0' if needed\n    format = format.replace(\"MM\", (date.getMonth() &lt; 9 ? '0' : '') + (date.getMonth() + 1)); // Months are zero-based\n    format = format.replace(\"YYYY\", date.getFullYear());\n    return format;\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>console.log(\"The date is: \" + dateFormat(new Date(), \"DD/MM/YYYY\"));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>You can just expand the <code>Date</code> Object with a new <code>format</code> method as noted by <a href=\"http://huahun.iteye.com/blog/197367\">meizz</a>, below is the code given by the author.  And\nhere is a <a href=\"http://jsfiddle.net/gongzhitaao/G5kEQ/1/\">jsfiddle</a>.</p>\n\n<pre><code>Date.prototype.format = function(format) //author: meizz\n{\n  var o = {\n    \"M+\" : this.getMonth()+1, //month\n    \"d+\" : this.getDate(),    //day\n    \"h+\" : this.getHours(),   //hour\n    \"m+\" : this.getMinutes(), //minute\n    \"s+\" : this.getSeconds(), //second\n    \"q+\" : Math.floor((this.getMonth()+3)/3),  //quarter\n    \"S\" : this.getMilliseconds() //millisecond\n  }\n\n  if(/(y+)/.test(format)) format=format.replace(RegExp.$1,\n    (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n  for(var k in o)if(new RegExp(\"(\"+ k +\")\").test(format))\n    format = format.replace(RegExp.$1,\n      RegExp.$1.length==1 ? o[k] :\n        (\"00\"+ o[k]).substr((\"\"+ o[k]).length));\n  return format;\n}\n\nalert(new Date().format(\"yyyy-MM-dd\"));\nalert(new Date(\"january 12 2008 11:12:30\").format(\"yyyy-MM-dd h:mm:ss\"));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 47
                },
                {
                    "body": "<p>The correct way to format a date to return \"2012-12-29\" is with the script from <em><a href=\"http://blog.stevenlevithan.com/archives/date-time-format\" rel=\"nofollow\">JavaScript Date Format</a></em>: </p>\n\n<pre><code>var d1 = new Date();\nreturn d1.format(\"dd-m-yy\");\n</code></pre>\n\n<p>This code does NOT work:</p>\n\n<pre><code>var d1 = new Date();\nd1.toString('yyyy-MM-dd');      \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>When working with JavaScript, it's important to remember that it is Mozilla's intellectual property, and they are usually pretty solid with documenting it. Here are articles that should help anyone having trouble with dates:</p>\n\n<ul>\n<li><em><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date\" rel=\"nofollow\">Date</a></em></li>\n<li><em><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/parse\" rel=\"nofollow\">Date.parse</a></em></li>\n<li><em><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/toLocaleFormat\" rel=\"nofollow\">toLocaleFormat</a></em></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The answer is \"nowhere\" since the date formatting is proprietary functionality. I don't think the toString functions are intended to conform to a specific format. e.g. in the ECMAScript 5.1 spec (<a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\" rel=\"nofollow\">http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf</a>, 2/8/2013, page 173), the <em>toString</em> function is documented as follows:</p>\n\n<blockquote>\n  <p>\"The contents of the String are implementation-dependent\"</p>\n</blockquote>\n\n<p>Functions such as the samples below could be used to accomplish formatting fairly easily.</p>\n\n<pre><code>function pad(toPad, padWith) {\n    return (String(padWith) + String(toPad)).slice(-1 * padWith.length);\n}\n\nfunction dateAsInputValue(toFormat) {\n    if(!(toFormat instanceof Date)) return null;\n    return toFormat.getFullYear() + \"-\" + pad(toFormat.getMonth() + 1, \"00\") + \"-\" + pad(toFormat.getDate(), \"00\");\n}\n\nfunction timeAsInputValue(toFormat) {\n    if(!(toFormat instanceof Date)) return null;        \n    return pad(toFormat.getHours(), \"00\") + \":\" + pad(toFormat.getMinutes(), \"00\") + \":\" + pad(toFormat.getSeconds(), \"00\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Personally, because I use both PHP and jQuery/javascript in equal measures, I use the date function from php.js <a href=\"http://phpjs.org/functions/date/\" rel=\"nofollow\">http://phpjs.org/functions/date/</a></p>\n\n<p>Using a library that uses the same format strings as something I already know is easier for me, and the manual containing all of the format string possibilities for the date function is of course online at php.net</p>\n\n<p>You simply include the date.js file in your HTML using your preferred method then call it like this:</p>\n\n<pre><code>var d1=new Date();\nvar datestring = date('Y-m-d', d1.valueOf()/1000);\n</code></pre>\n\n<p>You can use d1.getTime() instead of valueOf() if you want, they do the same thing.</p>\n\n<p>The divide by 1000 of the javascript timestamp is because a javascript timestamp is in miliseconds but a PHP timestamp is in seconds.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Many frameworks (that you might already be using) have date formatting that you may not be aware of.  jQueryUI  was already mentioned, but other frameworks such as <a href=\"http://docs.kendoui.com/getting-started/framework/globalization/dateformatting\" rel=\"nofollow\">Kendo UI (Globalization)</a>, <a href=\"http://developer.yahoo.com/yui/docs/YAHOO.util.Date.html\" rel=\"nofollow\">Yahoo UI (Util)</a> and <a href=\"http://docs.angularjs.org/api/ng.filter%3adate\" rel=\"nofollow\">AngularJS</a> have them as well.</p>\n\n<pre><code>// 11/6/2000\nkendo.toString(new Date(value), \"d\")\n\n// Monday, November 06, 2000\nkendo.toString(new Date(2000, 10, 6), \"D\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want to show only time with <strong>two</strong> Digits This may helps you .</p>\n\n<pre><code>var now = new Date();\nvar cHour = now.getHours();\nvar cMinuts = now.getMinutes();\nvar cSeconds = now.getSeconds();\n\nvar outStr = (cHour &lt;= 0 ? ('0' + cHour) : cHour) + ':' + (cMinuts &lt;= 9 ? ('0' + cMinuts) : cMinuts) + ':' + (cSeconds &lt;= 9 ? '0' + cSeconds : cSeconds);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm a little surprised nobody has mentioned phpjs. It simulates PHP's date() function:</p>\n\n<p><a href=\"http://phpjs.org/functions/date/\" rel=\"nofollow\">http://phpjs.org/functions/date/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just to continue gongzhitaao's solid answer - this handles AM/PM</p>\n\n<pre><code> Date.prototype.format = function (format) //author: meizz\n{\n    var hours = this.getHours();\n    var ttime = \"AM\";\n    if(format.indexOf(\"t\") &gt; -1 &amp;&amp; hours &gt; 12)\n    {\n        hours = hours - 12;\n        ttime = \"PM\";\n     }\n\nvar o = {\n    \"M+\": this.getMonth() + 1, //month\n    \"d+\": this.getDate(),    //day\n    \"h+\": hours,   //hour\n    \"m+\": this.getMinutes(), //minute\n    \"s+\": this.getSeconds(), //second\n    \"q+\": Math.floor((this.getMonth() + 3) / 3),  //quarter\n    \"S\": this.getMilliseconds(), //millisecond,\n    \"t+\": ttime\n}\n\nif (/(y+)/.test(format)) format = format.replace(RegExp.$1,\n  (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\nfor (var k in o) if (new RegExp(\"(\" + k + \")\").test(format))\n    format = format.replace(RegExp.$1,\n      RegExp.$1.length == 1 ? o[k] :\n        (\"00\" + o[k]).substr((\"\" + o[k]).length));\nreturn format;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The library <a href=\"http://sugarjs.com/\" rel=\"nofollow\">sugar.js</a> has some great functionality for working with dates in JavaScript. And it is very well <a href=\"http://sugarjs.com/dates\" rel=\"nofollow\">documented</a>.</p>\n\n<blockquote>\n  <p>Sugar gives the Date class much love starting with the Date.create\n  method which can understand dates in just about any format in 15 major\n  languages, including relative formats like \"1 hour ago\". Dates can\n  also be output in any format or language using an easy to understand\n  syntax, with shortcuts to commonly used date formats. Complex date\n  comparison is also possible with methods like is, which understand any\n  format and apply built in precision.</p>\n</blockquote>\n\n<p>A few examples:</p>\n\n<pre><code>Date.create('July 4, 1776')  -&gt; July 4, 1776\nDate.create(-446806800000)   -&gt; November 5, 1955\nDate.create(1776, 6, 4)      -&gt; July 4, 1776\nDate.create('1776\u5e7407\u670804\u65e5', 'ja') -&gt; July 4, 1776\nDate.utc.create('July 4, 1776', 'en')  -&gt; July 4, 1776\n\nDate.create().format('{Weekday} {d} {Month}, {yyyy}')    -&gt; Monday July 4, 2003\nDate.create().format('{hh}:{mm}')                        -&gt; 15:57\nDate.create().format('{12hr}:{mm}{tt}')                  -&gt; 3:57pm\nDate.create().format(Date.ISO8601_DATETIME)              -&gt; 2011-07-05 12:24:55.528Z\n\nDate.create().is('the 7th of June') -&gt; false\nDate.create().addMonths(2); -&gt;\"Sunday, June 15, 2014 13:39\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Framework free, limited but light</p>\n\n<pre><code>var d = (new Date()+'').split(' ');\n// [\"Tue\", \"Sep\", \"03\", \"2013\", \"21:54:52\", \"GMT-0500\", \"(Central\", \"Daylight\", \"Time)\"]\n\n[d[3], d[1], d[2], d[4]].join(' ');\n// \"2013 Sep 03 21:58:03\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>Although JS gives you many great ways of formatting and calculations, I prefer using moment JS (momentjs.com) library during application development as its very intuitive and saves a lot of time.</p>\n\n<p>Nonetheless, I suggest everyone to learn about the basic JS API too for a better understanding.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Example code:</p>\n\n<pre><code>var d = new Date();\nvar time = d.toISOString().replace(/.*?T(\\d+:\\d+:\\d+).*/, \"$1\");\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>\"13:45:20\"</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's a function I use a lot. The result is yyyy-mm-dd hh:mm:ss.nnn.</p>\n\n<pre><code>function date_and_time() {\n    var date = new Date();\n    //zero-pad a single zero if needed\n    var zp = function (val){\n        return (val &lt;= 9 ? '0' + val : '' + val);\n    }\n\n    //zero-pad up to two zeroes if needed\n    var zp2 = function(val){\n        return val &lt;= 99? (val &lt;=9? '00' + val : '0' + val) : ('' + val ) ;\n    }\n\n    var d = date.getDate();\n    var m = date.getMonth() + 1;\n    var y = date.getFullYear();\n    var h = date.getHours();\n    var min = date.getMinutes();\n    var s = date.getSeconds();\n    var ms = date.getMilliseconds();\n    return '' + y + '-' + zp(m) + '-' + zp(d) + ' ' + zp(h) + ':' + zp(min) + ':' + zp(s) + '.' + zp2(ms);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<h1>The Short Answer</h1>\n\n<p>There is no \u201cuniversal\u201d documentation that Javascript caters to; every browser that has Javascript, is really an implementation. However, there is a standard that most modern browsers tend to follow, and that\u2019s the EMCAScript standard; the ECMAScript standard strings would take, minimally, a modified implementation of the ISO 8601 definition. In addition to this, there is a second standard set forward by the IETF that browsers tend to follow as well, that is the definition for timestamps made in the RFC 2822. Actual documentation can be found in the references list at the bottom.</p>\n\n<p>From this you can expect basic functionality, but what \u201cought\u201d to be is not inherently what \u201cis\u201d. I\u2019m going to go a little in depth with this procedurally though, as it appears only three people actually answered the question (Scott, goofballLogic, and peller namely) which, to me, suggests most people are unaware of what actually happens when you create a Date object.</p>\n\n<hr />\n\n<h1>The Long Answer</h1>\n\n<blockquote>\n  <p>Where is the documentation which lists the format specifiers supported by the Date() object?</p>\n</blockquote>\n\n<p><br /></p>\n\n<p>To answer the question, or typically even look for the answer to this question, you need to know that Javascript is not a novel language; it\u2019s actually an implementation of ECMAScript, and follows the ECMAScript standards (but note, Javascript also actually pre-dated those standards; EMCAScript standards are built off the early implementation of Javascript). The current ECMAScript standard is 5.1 (2011); at the time that the question was originally asked (June \u201909), the standard was 3 (4 was abandoned), but 5 was released shortly after the post at the end of 2009. This should outline one problem; what standard Javascript may follow, may not reflect what is actually in place, because a) it\u2019s an implementation of a given standard, b) not all implementations of a standard are puritan, and c) functionality is not released in synchronization with a new standard as d) an implementation is a constant work in progress</p>\n\n<p>Essentially, when dealing with Javascript, you\u2019re dealing with a derivative (Javascript specific to the browser) of an implementation (Javascript itself). Google\u2019s V8, for example, implements ECMAScript 5.0, but Internet Explorer\u2019s JScript doesn\u2019t attempt to conform to any ECMAScript standard, yet IE9 does conform to ECMAScript 5.0.</p>\n\n<p>When a single argument is passed to new Date(), it casts this function prototype:</p>\n\n<pre><code>new Date(value)\n</code></pre>\n\n<p>When two or more arguments are passed to new Date(), it casts this function prototype:</p>\n\n<pre><code>new Date (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )\n</code></pre>\n\n<p><br />\nBoth of those functions should look familiar, but this does not immediately answer your question and what quantifies as an acceptable \u201cdate format\u201d requires further explanation. When you pass a string to new Date(), it will call the prototype (note that I'm using the word <em>prototype</em> loosely; the versions may be individual functions, or it may be part of a conditional statement in a single function) for <strong>new Date(value)</strong> with your string as the argument for the \u201cvalue\u201d parameter. This function will first check whether it is a number or a string. The documentation for this function can be found here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.3.2\">http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.3.2</a></p>\n</blockquote>\n\n<p>From this, we can deduce that to get the string formatting allowed for new Date(value), we have to look at the method Date.parse(string). The documentation for this method can be found here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.4.2\">http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.4.2</a></p>\n</blockquote>\n\n<p>And we can further infer that dates are expected to be in a modified ISO 8601 Extended Format, as specified here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15\">http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15</a></p>\n</blockquote>\n\n<p>However, we can recognize from experience that Javascript\u2019s Date object accepts other formats (enforced by the existence of this question in the first place), and this is okay because ECMAScript allows for implementation specific formats. However, that still doesn\u2019t answer the question of what documentation is available on the available formats, nor what formats are actually allowed. We\u2019re going to look at Google\u2019s Javascript implementation, V8; please note I\u2019m not suggesting this is the \u201cbest\u201d JS engine (how can one define \u201cbest\u201d or even \u201cgood\u201d) and one cannot assume that the formats allowed in V8 represent all formats available today, but I think it\u2019s fair to assume they do follow modern expectations.</p>\n\n<blockquote>\n  <p>Google\u2019s V8, date.js, DateConstructor</p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#141\">https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#141</a></p>\n</blockquote>\n\n<p>Looking at the DateConstructor function, we can we can deduce we need to find the DateParse function; however, note that \u201cyear\u201d is not the actual year and is only a reference to the \u201cyear\u201d parameter.  </p>\n\n<blockquote>\n  <p>Google\u2019s V8, date.js, DateParse</p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#270\">https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#270</a></p>\n</blockquote>\n\n<p>This calls %DateParseString, which is actually a run-time function reference for a C++ function. It refers to the following code:</p>\n\n<blockquote>\n  <p>Google\u2019s V8, runtime.cc, %DateParseString</p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/runtime.cc?r=18400#9559\">https://code.google.com/p/v8/source/browse/trunk/src/runtime.cc?r=18400#9559</a></p>\n</blockquote>\n\n<p>The function call we\u2019re concerned with in this function is for DateParser::Parse(); ignore the logic surrounding those function calls, these are just checks to conform to the encoding type (ASCII and UC16). DateParser::Parse is defined here:</p>\n\n<blockquote>\n  <p>Google's V8, dateparser-inl.h, DateParser::Parse</p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/dateparser-inl.h?r=18400#36\">https://code.google.com/p/v8/source/browse/trunk/src/dateparser-inl.h?r=18400#36</a></p>\n</blockquote>\n\n<p>This is the function that actually defines what formats it accepts. Essentially, it checks for the EMCAScript 5.0 ISO 8601 standard and if it is not standards compliant, then it will attempt to build the date based on legacy formats. A few key points based on the comments:</p>\n\n<ol>\n<li>Words before the first number that are unknown to the parser are ignored.</li>\n<li>Parenthesized text are ignored.</li>\n<li>Unsigned numbers followed by \u201c:\u201d are interpreted as a \u201ctime component\u201d. </li>\n<li>Unsigned numbers followed by \u201c.\u201d are interpreted as a \u201ctime component\u201d, and must be followed by milliseconds.</li>\n<li>Signed numbers followed by the hour or hour minute (e.g. +5:15 or +0515) are interpreted as the timezone. </li>\n<li>When declaring the hour and minute, you can use either \u201chh:mm\u201d or \u201chhmm\u201d.</li>\n<li>Words that indicate a time zone are interpreted as a time zone.</li>\n<li>All other numbers are interpreted as \u201cdate components\u201d.</li>\n<li>All words that start with the first three digits of a month are interpreted as the month.</li>\n<li>You can define minutes and hours together in either of the two formats: \u201chh:mm\u201d or \u201chhmm\u201d.</li>\n<li>Symbols like \u201c+\u201d, \u201c-\u201c and unmatched \u201c)\u201d are not allowed after a number has been processed.</li>\n<li>Items that match multiple formats (e.g. 1970-01-01) are processed as a standard compliant EMCAScript 5.0 ISO 8601 string.</li>\n</ol>\n\n<p>So this should be enough to give you a basic idea of what to expect when it comes to passing a string into a Date object. You can further expand upon this by looking at the following specification that Mozilla points to on the Mozilla Developer Network (compliant to the IETF RFC 2822 timestamps):</p>\n\n<blockquote>\n  <p><a href=\"http://tools.ietf.org/html/rfc2822#page-14\">http://tools.ietf.org/html/rfc2822#page-14</a></p>\n</blockquote>\n\n<p>The Microsoft Developer Network additionally mentions an additional standard for the Date object: ECMA-402, the ECMAScript Internationalization API Specification, which is complementary to the ECMAScript 5.1 standard (and future ones). That can be found here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.ecma-international.org/ecma-402/1.0/\">http://www.ecma-international.org/ecma-402/1.0/</a></p>\n</blockquote>\n\n<p>In any case, this should aid in highlighting that there is no \"documentation\" that universally represents all implementations of Javascript, but there is still enough documentation available to make reasonable sense of what strings are acceptable for a Date object. Quite the loaded question when you think about it, yes? :P</p>\n\n<blockquote>\n  <p><strong>References</strong></p>\n  \n  <p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.3.2\">http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.3.2</a></p>\n  \n  <p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.4.2\">http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.4.2</a></p>\n  \n  <p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15\">http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15</a></p>\n  \n  <p><a href=\"http://tools.ietf.org/html/rfc2822#page-14\">http://tools.ietf.org/html/rfc2822#page-14</a></p>\n  \n  <p><a href=\"http://www.ecma-international.org/ecma-402/1.0/\">http://www.ecma-international.org/ecma-402/1.0/</a></p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#141\">https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#141</a></p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#270\">https://code.google.com/p/v8/source/browse/trunk/src/date.js?r=18400#270</a></p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/runtime.cc?r=18400#9559\">https://code.google.com/p/v8/source/browse/trunk/src/runtime.cc?r=18400#9559</a></p>\n  \n  <p><a href=\"https://code.google.com/p/v8/source/browse/trunk/src/dateparser-inl.h?r=18400#36\">https://code.google.com/p/v8/source/browse/trunk/src/dateparser-inl.h?r=18400#36</a></p>\n  \n  <p><strong>Resources</strong></p>\n  \n  <p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date</a></p>\n  \n  <p><a href=\"http://msdn.microsoft.com/en-us/library/ff743760(v=vs.94).aspx\">http://msdn.microsoft.com/en-us/library/ff743760(v=vs.94).aspx</a></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 78
                },
                {
                    "body": "<p><a href=\"https://rawgithub.com/minagabriel/dtmFRM/master/dtmFRM.js\" rel=\"nofollow\">dtmFRM.js</a></p>\n\n<p>if you are familiar with <code>C#</code> Custom Date and Time Format String this library should do the exact same thing.</p>\n\n<p><a href=\"http://jsfiddle.net/minagabriel/7sN5k/\" rel=\"nofollow\">DEMO</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was unable to find any definitive documentation on valid date formats so I wrote my own test to see what is supported in various browsers.</p>\n\n<p><a href=\"http://blarg.co.uk/blog/javascript-date-formats\" rel=\"nofollow\">http://blarg.co.uk/blog/javascript-date-formats</a></p>\n\n<p>My results concluded the following formats are valid in all browsers that I tested (examples use the date \"9th August 2013\"):</p>\n\n<p><strong>[Full Year]/[Month]/[Date number]</strong> - Month can be either the number with or without a leading zero or the month name in short or long format, and date number can be with or without a leading zero.</p>\n\n<ul>\n<li>2013/08/09</li>\n<li>2013/08/9</li>\n<li>2013/8/09</li>\n<li>2013/8/9</li>\n<li>2013/August/09</li>\n<li>2013/August/9</li>\n<li>2013/Aug/09</li>\n<li>2013/Aug/9</li>\n</ul>\n\n<p><strong>[Month]/[Full Year]/[Date Number]</strong> - Month can be either the number with or without a leading zero or the month name in short or long format, and date number can be with or without a leading zero. </p>\n\n<ul>\n<li>08/2013/09</li>\n<li>08/2013/9</li>\n<li>8/2013/09</li>\n<li>8/2013/9</li>\n<li>August/2013/09</li>\n<li>August/2013/9</li>\n<li>Aug/2013/09</li>\n<li>Aug/2013/9</li>\n</ul>\n\n<p><strong>Any combination of [Full Year], [Month Name] and [Date Number] separated by spaces</strong> - Month name can be in either short or long format, and date number can be with or without a leading zero. </p>\n\n<ul>\n<li>2013 August 09</li>\n<li>August 2013 09</li>\n<li>09 August 2013</li>\n<li>2013 Aug 09</li>\n<li>Aug 9 2013</li>\n<li>2013 9 Aug</li>\n<li>etc...</li>\n</ul>\n\n<p>Also valid in \"modern browsers\" (or in other words all browsers except IE9 and below)</p>\n\n<p><strong>[Full Year]-[Month Number]-[Date Number]</strong> - Month and Date Number must include leading zeros (this is the format that the <a href=\"https://dev.mysql.com/doc/refman/5.1/en/datetime.html\" rel=\"nofollow\">MySQL Date type</a> uses) </p>\n\n<ul>\n<li>2013-08-09</li>\n</ul>\n\n<p><strong>Using month names:</strong><br>\nInterestingly, when using month names I discovered that only the first 3 characters of the month name are ever used so all the of the following are perfectly valid:</p>\n\n<pre><code>new Date('9 August 2013');\nnew Date('9 Aug 2013');\nnew Date('9 Augu 2013');\nnew Date('9 Augustagfsdgsd 2013');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You may find useful this modification of date object, which is smaller than any library and is easily extendable to support different formats:</p>\n\n<p><strong>NOTE:</strong></p>\n\n<ul>\n<li>It uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"nofollow\">Object.keys()</a> which is undefined in older browsers so you may need implement polyfill from given link.</li>\n</ul>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>Date.prototype.format = function(format) {\n    // set default format if function argument not provided\n    format = format || 'YYYY-MM-DD hh:mm';\n\n    var zeropad = function(number, length) {\n            number = number.toString();\n            length = length || 2;\n            while(number.length &lt; length)\n                number = '0' + number;\n            return number;\n        },\n        // here you can define your formats\n        formats = {\n            YYYY: this.getFullYear(),\n            MM: zeropad(this.getMonth() + 1),\n            DD: zeropad(this.getDate()),\n            hh: zeropad(this.getHours()),\n            mm: zeropad(this.getMinutes())\n        },\n        pattern = '(' + Object.keys(formats).join(')|(') + ')';\n\n    return format.replace(new RegExp(pattern, 'g'), function(match) {\n        return formats[match];\n    });\n};\n</code></pre>\n\n<p><strong>USE</strong></p>\n\n<pre><code>var now = new Date;\nconsole.log(now.format());\n// outputs: 2015-02-09 11:47\nvar yesterday = new Date('2015-02-08');\nconsole.log(yesterday.format('hh:mm YYYY/MM/DD'));\n// outputs: 00:00 2015/02/08\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I noticed that JavaScript's <code>new Date()</code> function is very smart in accepting dates in several formats.</p>\n\n<pre><code>Xmas95 = new Date(\"25 Dec, 1995 23:15:00\")\nXmas95 = new Date(\"2009 06 12,12:52:39\")\nXmas95 = new Date(\"20 09 2006,12:52:39\")\n</code></pre>\n\n<p>I could not find documentation anywhere showing all the valid string formats while calling <code>new Date()</code> function.</p>\n\n<p>This is for converting a string to date. If we look at the opposite side that is converting date object to string, until now I was under the impression that JavaScript doesn't have a built-in API to format a date object into a string.</p>\n\n<blockquote>\n  <p><strong>Editor's note:</strong> The following approach is the asker's attempt that worked on a particular browser but does <em>not</em> work in general; <strong>see the answers on this page</strong> to see some actual solutions.</p>\n</blockquote>\n\n<p>Today, I played with the <code>toString()</code> method on the date object and surprisingly it serves the purpose of formatting date to strings.</p>\n\n<pre><code>var d1=new Date();\nd1.toString('yyyy-MM-dd');       //returns \"2009-06-29\" in IE, but not FF or Chrome\nd1.toString('dddd, MMMM ,yyyy')  //returns \"Monday, June 29,2009\" in IE, but not FF or Chrome\n</code></pre>\n\n<p>Also here I couldn't find any documentation on all the ways we can format the date object into a string.</p>\n\n<p>Where is the documentation which lists the format specifiers supported by the <code>Date()</code> object?</p>\n",
            "last_activity_date": 1423479114,
            "question_id": 1056728,
            "score": 835,
            "tags": [
                "javascript",
                "datetime",
                "date"
            ],
            "title": "Where can I find documentation on formatting a date in JavaScript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The element you were trying to find wasn\u2019t in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model\">DOM</a> when your script ran.</p>\n\n<p>The position of your DOM-reliant script can have a profound effect upon its behavior. The document is parsed from top to bottom. Elements are added to the DOM and scripts are executed as they're encountered. <strong>This means that order matters.</strong> Typically, scripts can't find elements which appear later in the markup because those elements haven't yet been added to the DOM.</p>\n\n<p>Consider the following markup (<a href=\"http://jsfiddle.net/antisanity/e9J9G/15/\">fiddle</a>); the first <code>&lt;script&gt;</code> fails to find the <code>&lt;div&gt;</code> while the second <code>&lt;script&gt;</code> succeeds:</p>\n\n<pre><code>&lt;script&gt;\n    console.log(document.getElementById(\"test-div\")); // null\n&lt;/script&gt;\n\n<b>&lt;div id=\"test-div\"&gt;test div&lt;/div&gt;</b>\n\n&lt;script&gt;\n    console.log(document.getElementById(\"test-div\")); // &lt;div id=\"test-div\"&gt;...\n&lt;/script&gt;</code></pre>\n\n<p>So, what should you do? You've got a few options:</p>\n\n<hr>\n\n<h1>Option 1: Move your script</h1>\n\n<p>Move your script further down the page, just before the closing body tag. Organized in this fashion, the rest of the document is parsed before your script is executed (<a href=\"http://jsfiddle.net/9m3gF/show/\">sample</a>):</p>\n\n<pre><code>        &lt;a class=\"menu_show\"&gt;test&lt;/a&gt;\n        &lt;script&gt;\n             $(\".menu_show\").click(function(){\n                 alert(\"test\");\n             });\n        &lt;/script&gt;\n    <b>&lt;/body&gt;</b> &lt;!-- closing body tag --&gt;\n&lt;/html&gt;</code></pre>\n\n<p><sub>Note: Placing scripts at the bottom is generally considered a <a href=\"http://developer.yahoo.com/performance/rules.html#js_bottom\">best practice</a>.</sub></p>\n\n<hr>\n\n<h1>Option 2: jQuery's <code>ready()</code></h1>\n\n<p>Defer your script until the DOM has been completely parsed, using <a href=\"http://api.jquery.com/ready/\"><code>ready()</code></a> (<a href=\"http://jsfiddle.net/q9JZf/show/\">sample</a>):</p>\n\n<pre><code>$(document).<b>ready</b>(function(){    \n    $(\".menu_show\").click(function () {\n        alert('Works!');\n    });\n});</code></pre>\n\n<p><sub>Note: You could simply bind to <a href=\"https://developer.mozilla.org/en-US/docs/Web/Reference/Events/DOMContentLoaded\"><code>DOMContentLoaded</code></a> or  <code>window.<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.onload?redirect=no\">onload</a></code> but each has its caveats. jQuery's <a href=\"http://api.jquery.com/ready/\"><code>ready()</code></a> delivers a hybrid solution.</sub></p>\n\n<hr>\n\n<h1>Option 3: Event Delegation</h1>\n\n<blockquote>\n  <p><a href=\"http://api.jquery.com/on/#direct-and-delegated-events\">Delegated events</a> have the advantage that they can process events from descendant elements that are added to the document at a later time.</p>\n</blockquote>\n\n<p>When an element raises an event (provided that it's a <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-bubbling\">bubbling</a> event and nothing stops its propagation), each parent in that element's ancestry receives the event as well. That allows us to attach a handler to an existing element and sample events as they bubble up from its descendants. Descendants added at a later time will send their events up to the handler waiting on the parent. All we have to do is check the event to see whether it was raised by the desired element and, if so, run our code. </p>\n\n<p>jQuery's <a href=\"http://api.jquery.com/on/\"><code>on()</code></a> performs that logic for us. We simply provide an event name, a selector for the desired descendant, and an event handler (<a href=\"http://jsfiddle.net/antisanity/Dn2W8/\">sample</a>):</p>\n\n<pre><code>&lt;script&gt;\n    $(document).on(\"click\", <b>\"#test-div\"</b>, function(e) {\n        alert(this.innerHTML);\n    });\n&lt;/script&gt;\n&lt;div id=\"test-div\"&gt;test div&lt;/div&gt;</code></pre>\n\n<p><sub>Note: Typically, this pattern is reserved for elements which didn't exist at load-time <em>or</em> to avoid attaching a large amount of handlers. In your particular case, <strong>Option 1</strong> and <strong>Option 2</strong> are more appropriate.</sub></p>\n\n<hr>\n\n<h1>Option 4: The <code>defer</code> attribute</h1>\n\n<p>Use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#attr-defer\"><code>defer</code></a> attribute of <code>&lt;script&gt;</code> (<a href=\"http://jsfiddle.net/antisanity/zV7v3/\">sample</a>)</p>\n\n<blockquote>\n  <p>[<code>defer</code>, a Boolean attribute,] is set to indicate to a browser that the script is meant to be executed after the document has been parsed.</p>\n</blockquote>\n\n<pre><code>&lt;script src=\"js/some-script.js\" <b>defer</b>&gt;&lt;/script&gt;</code></pre>\n\n<p><sub>Note: this certainly <em>seems</em> like a magic bullet <em>but</em> it's important to be aware of the caveats...<br>\n1. <code>defer</code> can only be used for external scripts, i.e.: those having a <code>src</code> attribute.<br>\n2. be aware of <a href=\"http://caniuse.com/script-defer\">browser support</a>, i.e.: buggy implementation in IE &lt; 10</sub></p>\n",
                    "is_accepted": true,
                    "score": 114
                },
                {
                    "body": "<p><strong>Short and simple:</strong> Because the elements you are looking for do not exist in the document (yet).</p>\n\n<hr>\n\n<p><em>For the remainder of this answer I will use <code>getElementById</code> as example, but the same applies to <a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByTagName\"><code>getElementsByTagName</code></a>, <a href=\"https://developer.mozilla.org/en-US/docs/DOM/Document.querySelector\"><code>querySelector</code></a> and any other DOM method that selects elements.</em></p>\n\n<p><strong>Possible Reasons</strong></p>\n\n<p>There are two reasons why an element might not exist:</p>\n\n<ol>\n<li><p>An element with the passed ID really does not exist in the document. You should double check that the ID you pass to <code>getElementById</code> really matches an ID of an existing element in the (generated) HTML and that you have not <em>misspelled</em> the ID.</p>\n\n<p>Incidentally, in the <a href=\"http://caniuse.com/queryselector\">majority of contemporary browsers</a>, which implement <code>querySelector()</code> and <code>querySelectorAll()</code> methods, CSS-style notation is used to retrieve an element by its <code>id</code>, for example: <code>document.querySelector('#elementID')</code>, as opposed to the method by which an element is retrieved by its <code>id</code> under <code>document.getElementById('elementID')</code>; in the first the <code>#</code> character is essential, in the second it would lead to the element not being retrieved.</p></li>\n<li><p>The element does not exist <em>at the moment</em> you call <code>getElementById</code>.</p></li>\n</ol>\n\n<p>The latter case is quite common. Browsers parse and process the HTML from top to bottom. That means that any call to a DOM element which occurs before that DOM element appears in the HTML, will fail.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>&lt;script&gt;\n    var element = document.getElementById('my_element');\n&lt;/script&gt;\n\n&lt;div id=\"my_element\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The <code>div</code> appears <em>after</em> the <code>script</code>. At the moment the script is executed, the element does not exist <em>yet</em> and <code>getElementById</code> will return <code>null</code>.</p>\n\n<p><strong>jQuery</strong></p>\n\n<p>The same applies to all selectors with jQuery. jQuery won't find elements if you <em>misspelled</em> your selector or you are trying to select them <em>before they actually exist</em>.</p>\n\n<p>An added twist is when jQuery is not found because you have loaded the script without protocol and are running from file system:</p>\n\n<pre><code>&lt;script src=\"//somecdn.somewhere.com/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>this syntax is used to allow the script to load via HTTPS on a page with protocol https:// and to load the HTTP version on a page with protocol http://</p>\n\n<p>It has the unfortunate side effect of attempting and failing to load <code>file://somecdn.somewhere.com...</code></p>\n\n<hr>\n\n<p><strong>Solutions</strong></p>\n\n<p>Before you make a call to <code>getElementById</code> (or any DOM method for that matter), make sure the elements you want to access exist, i.e. the DOM is loaded.</p>\n\n<p>This can be ensured by simply putting your JavaScript <em>after</em> the corresponding DOM element</p>\n\n<pre><code>&lt;div id=\"my_element\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n    var element = document.getElementById('my_element');\n&lt;/script&gt;\n</code></pre>\n\n<p>in which case you can also put the code just before the closing body tag (<code>&lt;/body&gt;</code>) (all DOM elements will be available at the time the script is executed).</p>\n\n<p>Other solutions include listening to the <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.onload\"><code>load</code> <em><sup>[MDN]</sup></em></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/DOMContentLoaded_%28event%29\"><code>DOMContentLoaded</code> <em><sup>[MDN]</sup></em></a> events. In these cases it does not matter where in the document you place the JavaScript code, you just have to remember to put all DOM processing code in the event handlers.</p>\n\n<p>Example:</p>\n\n<pre><code>window.onload = function() {\n    // process DOM elements here\n};\n\n// or\n\n// does not work IE 8 and below\ndocument.addEventListener('DOMContentLoaded', function() {\n    // process DOM elements here\n});\n</code></pre>\n\n<p>Please see the <a href=\"http://www.quirksmode.org/js/introevents.html\">articles at quirksmode.org</a> for more information regarding event handling and browser differences.</p>\n\n<p><strong>jQuery</strong></p>\n\n<p>First make sure that jQuery is loaded properly. <a href=\"http://www.netmagazine.com/tutorials/javascript-debugging-beginners\">Use the browser's developer tools</a> to find out whether the jQuery file was found and correct the URL if it wasn't (e.g. add the <code>http:</code> or <code>https:</code> scheme at the beginning, adjust the path, etc.)</p>\n\n<p>Listening to the <code>load</code>/<code>DOMContentLoaded</code>  events is exactly what jQuery is doing with <a href=\"http://api.jquery.com/ready/\"><code>.ready()</code> <em><sup>[docs]</sup></em></a>. All your jQuery code that affects DOM element should be inside that event handler.</p>\n\n<p>In fact, the <a href=\"http://docs.jquery.com/Tutorials%3aGetting_Started_with_jQuery\">jQuery tutorial</a> explicitly states:</p>\n\n<blockquote>\n  <p>As almost everything we do when using jQuery reads or manipulates the document object model (DOM), we need to make sure that we start adding events etc. as soon as the DOM is ready.</p>\n  \n  <p>To do this, we register a ready event for the document.</p>\n\n<pre><code>$(document).ready(function() {\n   // do stuff when DOM is ready\n});\n</code></pre>\n</blockquote>\n\n<p>Alternatively you can also use the shorthand syntax:</p>\n\n<pre><code>$(function() {\n    // do stuff when DOM is ready\n});\n</code></pre>\n\n<p>Both are equivalent.</p>\n",
                    "is_accepted": false,
                    "score": 64
                },
                {
                    "body": "<p>As @FelixKling pointed out, the most likely scenario is that the nodes you are looking for do not exist (yet).</p>\n\n<p>However, modern development practices can often manipulate document elements outside of the document tree either with DocumentFragments or simply detaching/reattaching current elements directly.  Such techniques may be used as part of JavaScript templating or to avoid excessive repaint/reflow operations while the elements in question are being heavily altered.</p>\n\n<p>Similarly, the new \"Shadow DOM\" functionality being rolled out across modern browsers allows elements to be part of the document, but not query-able by document.getElementById and all of its sibling methods (querySelector, etc.). This is done to encapsulate functionality and specifically hide it.</p>\n\n<p>Again, though, it is most likely that the element you are looking for simply is not (yet) in the document, and you should do as Felix suggests. However, you should also be aware that that is increasingly not the only reason that an element might be unfindable (either temporarily or permanently).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>Reasons why id based selectors don't work</strong></p>\n\n<ol>\n<li>element/DOM with id specified doesn't exist yet.</li>\n<li>element exist but is not registered in DOM [in case of HTML nodes appended dynamically from ajax responses]</li>\n<li>more than one elements with same id are present which is causing conflict.</li>\n</ol>\n\n<p><strong>solutions</strong></p>\n\n<ol>\n<li><p>try to access element after its declaration or alternatively use stuff like <code>$(document).ready();</code></p></li>\n<li><p>for elements coming from ajax responses, use <code>.bind()</code> method of jquery, older versions of jquery had <code>.live()</code> for the same.</p></li>\n<li><p>use tools [eg webdeveloper plugin for browsers] to find duplicate ids and remove them. </p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>What are the possible reasons for <code>document.getElementById</code>, <code>$(\"#id\")</code> or any other DOM method / jQuery selector not finding the elements?</p>\n",
            "last_activity_date": 1414465394,
            "question_id": 14028959,
            "score": 84,
            "tags": [
                "javascript",
                "jquery",
                "dom"
            ],
            "title": "Why does jQuery or a DOM method such as getElementById not find the element?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>You can hang a lot of functions on the <code>onClick</code> event for one element. How can you be sure the <code>false</code> one will be the last one to fire? <code>preventDefault</code> on the other hand will definitely prevent only the default behavior of the element.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>I think</p>\n\n<p><code>event.preventDefault()</code></p>\n\n<p>is the w3c specified way of canceling events.</p>\n\n<p>You can read this in the W3C spec on <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-cancelation\" rel=\"nofollow\">Event cancelation</a>.</p>\n\n<p>Also you can't use return false in every situation. When giving a javascript function in the href attribute and if you return false then the user will be redirected to a page with false string written.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p><code>return false</code> from <em>within a jQuery event handler</em> is effectively the same as calling both  <code>e.preventDefault</code> and <code>e.stopPropagation</code> on the passed <a href=\"http://api.jquery.com/category/events/event-object/\">jQuery.Event object.</a></p>\n\n<p><code>e.preventDefault()</code> will prevent the default event from occuring, <code>e.stopPropagation()</code> will prevent the event from bubbling up and <code>return false</code> will do both. Note that this behaviour differs from <em>normal</em> (non-jQuery) event handlers, in which, notably, <code>return false</code> <a href=\"http://jsfiddle.net/APQk6/\">does <em>not</em> stop the event from bubbling up</a>.</p>\n\n<p>Source: <a href=\"http://ejohn.org/\">John Resig</a></p>\n\n<p><a href=\"http://www.mail-archive.com/jquery-en@googlegroups.com/msg71371.html\">http://www.mail-archive.com/jquery-en@googlegroups.com/msg71371.html</a></p>\n",
                    "is_accepted": true,
                    "score": 1559
                },
                {
                    "body": "<p>This is not, as you've titled it, a \"JavaScript\" question; it is a question regarding the design of jQuery, as indicated in <a href=\"http://stackoverflow.com/users/48015\">Christoph's</a> <a href=\"http://stackoverflow.com/questions/1357118/#comment1193919_1357151\">comment</a>.</p>\n\n<p>jQuery and the <a href=\"http://www.mail-archive.com/jquery-en@googlegroups.com/msg71371.html\">previously linked citation</a> from <a href=\"http://ejohn.org\">John Resig</a> (in <a href=\"http://stackoverflow.com/users/70393\">karim79's</a> <a href=\"http://stackoverflow.com/questions/1357118/#1357151\">message</a>) seem to be the source misunderstanding of how event handlers in general work. </p>\n\n<p>Fact: An event handler that returns false prevents the default action for that event. It does not stop the event propagation. Event handlers have always worked this way, since the old days of Netscape Navigator.</p>\n\n<p>The following documentation from MDC explains how <code>return false</code> in an event handler works:\n<a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Tutorial/More_Event_Handlers#Prevent_Default_Action\">https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Tutorial/More_Event_Handlers#Prevent_Default_Action</a></p>\n\n<p>What happens in jQuery is not the same as what happens with event handlers. DOM event listeners and MSIE \"attached\" events are a different matter altogether. </p>\n\n<p>For further reading, see <a href=\"http://msdn.microsoft.com/en-us/library/ms536343%28VS.85%29.aspx\">attachEvent on MSDN</a> and the <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/\">W3C DOM 2 Events documentation</a>.</p>\n",
                    "is_accepted": false,
                    "score": 51
                },
                {
                    "body": "<p>From my experience, there is at least one clear advantage when using event.preventDefault() over using return false. Suppose you are capturing the click event on an anchor tag, otherwise which it would be a big problem if the user were to be navigated away from the current page. If your click handler uses return false to prevent browser navigation, it opens the possibility that the interpreter will not reach the return statement and the browser will proceed to execute the anchor tag's default behavior.</p>\n\n<pre><code>$('a').click(function (e) {\n  // custom handling here\n\n  // oops...runtime error...where oh where will the href take me?\n\n  return false;\n});\n</code></pre>\n\n<p>The benefit to using event.preventDefault() is that you can add this as the first line in the handler, thereby guaranteeing that the anchor's default behavior will not fire, regardless if the last line of the function is not reached (eg. runtime error).</p>\n\n<pre><code>$('a').click(function (e) {\n  e.preventDefault();\n\n  // custom handling here\n\n  // oops...runtime error, but at least the user isn't navigated away.\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 253
                },
                {
                    "body": "<p>Generally, your first option (<code>preventDefault()</code>) is the one to take, but you have to know what context you're in and what your goals are. </p>\n\n<p><a href=\"http://fuelyourcoding.com/\" rel=\"nofollow\">Fuel Your Coding</a> has a great <a href=\"http://fuelyourcoding.com/jquery-events-stop-misusing-return-false/\" rel=\"nofollow\">article on <code>return false;</code> vs <code>event.preventDefault()</code> vs <code>event.stopPropagation()</code> vs <code>event.stopImmediatePropagation()</code></a>.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p><code>return false</code> is doing 3 separate things when you call it:</p>\n\n<ol>\n<li><code>event.preventDefault();</code></li>\n<li><code>event.stopPropagation();</code></li>\n<li>Stops callback execution and returns immediately when called.</li>\n</ol>\n\n<p>See <a href=\"http://fuelyourcoding.com/jquery-events-stop-misusing-return-false/\">jQuery Events: Stop (Mis)Using Return False</a> for more information and examples.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>i think the best way to do is use preventDefault because if some exception raised in the handler then the return false statement will be skipped and the behavior will be opposite to what you want so it's better to use event.preventDefault() method</p>\n\n<p>but if sure that the code wont trigger any exceptions then u can go with any of the method by your wish.</p>\n\n<p>if u still want to go with the return false\nthen you can put your entire handler code in try catch block like below</p>\n\n<pre><code>$('a').click(function (e) {\n  try{\n      your code here.........\n  }\n   catch(e){}\n  return false;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>My opinion from my experience saying that it is always better to use</p>\n\n<pre><code>event.preventDefault() \n</code></pre>\n\n<p>practically\n        to stop or prevent submit event whenever we required rather than</p>\n\n<pre><code>return false\n</code></pre>\n\n<p>event.preventDefault() works fine.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>When I want to prevent other event handlers from executing after a certain event is fired, I can use one of two techniques. I'll use jQuery in the examples, but this applies to plain-JS as well:</p>\n\n<h3>1. <code>event.preventDefault()</code></h3>\n\n<pre><code>$('a').click(function (e) {\n    // custom handling here\n    e.preventDefault();\n});\n</code></pre>\n\n<h3>2. <code>return false</code></h3>\n\n<pre><code>$('a').click(function () {\n    // custom handling here\n    return false;\n});\n</code></pre>\n\n<p>Is there any significant difference between those two methods of stopping event propagation?</p>\n\n<p>For me, <code>return false;</code> is simpler, shorter and probably less error prone than executing a method. With the method, you have to remember about correct casing, parenthesis, etc. </p>\n\n<p>Also, I have to define the first parameter in callback to be able to call the method. Perhaps, there are some reasons why I should avoid doing it like this and use <code>preventDefault</code> instead? What's the better way?</p>\n",
            "last_activity_date": 1424032264,
            "question_id": 1357118,
            "score": 1419,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "event-handling",
                "event-propagation"
            ],
            "title": "event.preventDefault() vs. return false"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p>Because it enumerates through object fields, not indexes. You can get value with index \"length\" and I doubt you want this.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The reason is that one construct...</p>\n\n<pre><code>var a = [];\na[5] = 5; // Perfectly legal JavaScript that resizes the array.\n\nfor (var i=0; i&lt;a.length; i++) {\n    // Iterates over numeric indexes from 0 to 5, as everyone expects.\n}\n</code></pre>\n\n<p>can sometimes be totally different from the other...</p>\n\n<pre><code>var a = [];\na[5] = 5;\nfor (var x in a) {\n    // Shows only the explicitly set index of \"5\", and ignores 0-4\n}\n</code></pre>\n\n<p>Also consider that <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> libraries might do things like this, which will affect any array you create:</p>\n\n<pre><code>// Somewhere deep in your JavaScript library...\nArray.prototype.foo = 1;\n\n// Now you have no idea what the below code will do.\nvar a = [1,2,3,4,5];\nfor (var x in a){\n    // Now foo is a part of EVERY array and \n    // will show up here as a value of 'x'.\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 637
                },
                {
                    "body": "<p>Because for...in enumerates through the object that holds the array, not the array itself. If I add a function to the arrays prototype chain, that will also be included. I.e.</p>\n\n<pre><code>Array.prototype.myOwnFunction = function() { alert(this); }\na = new Array();\na[0] = 'foo';\na[1] = 'bar';\nfor(x in a){\n document.write(x + ' = ' + a[x]);\n}\n</code></pre>\n\n<p>This will write:</p>\n\n<pre>\n0 = foo\n1 = bar\nmyOwnFunction = function() { alert(this; }\n</pre>\n\n<p>And since you can never be sure that nothing will be added to the prototype chain just use a for loop to enumerate the array:</p>\n\n<pre><code>for(i=0,x=a.length;i&lt;x;i++){\n document.write(i + ' = ' + a[i]);\n}\n</code></pre>\n\n<p>This will write:</p>\n\n<pre>\n0 = foo\n1 = bar\n</pre>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>In isolation, there is nothing wrong with using for-in on arrays. For-in iterates over the property names of an object, and in the case of an \"out-of-the-box\" array, the properties corresponds to the array indexes. (The built-in propertes like <code>length</code>, <code>toString</code> and so on are not included in the iteration.)</p>\n\n<p>However, if your code (or the framework you are using) add custom properties to arrays or to the array prototype, then these properties will be included in the iteration, which is probably not what you want.</p>\n\n<p>Some  JS frameworks, like Prototype modifies the Array prototype. Other frameworks like JQuery doesn't, so with JQuery you can safely use for-in.</p>\n\n<p>If you are in doubt, you probably shouldn't use for-in. </p>\n\n<p>An alternative way of iterating through an array is using a for-loop:</p>\n\n<pre><code>for (var ix=0;ix&lt;arr.length;ix++) alert(ix);\n</code></pre>\n\n<p>However, this have a different issue. The issue is that a JavaScript array can have \"holes\". If you define <code>arr</code> as:</p>\n\n<pre><code>var arr = [\"hello\"];\narr[100] = \"goodbye\";\n</code></pre>\n\n<p>Then the array have two items, but a length of 101. Using for-in will yield two indexes, while the for-loop will yield 101 indexes, where the 99 has a value of <code>undefined</code>.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>There are three reasons why you shouldn't use <code>for..in</code> to iterate over array elements:</p>\n\n<ul>\n<li><p><code>for..in</code> will loop over all own and inherited properties of the array object which aren't <code>DontEnum</code>; that means if someone adds properties to the specific array object (there are valid reasons for this - I've done so myself) or changed <code>Array.prototype</code> (which is considered bad practice in code which is supposed to work well with other scripts), these properties will be iterated over as well; inherited properties can be excluded by checking <code>hasOwnProperty()</code>, but that won't help you with properties set in the array object itself</p></li>\n<li><p><code>for..in</code> isn't guaranteed to preserve element ordering</p></li>\n<li><p>it's slow because you have to walk all properties of the array object and its whole prototype chain and will still only get the property's name, ie to get the value, an additional lookup will be required</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>In addition to the reasons given in other answers, you may not want to use the \"for...in\" structure if you need to do math with the counter variable because the loop iterates through the names of the object's properties and so the variable is a string.</p>\n\n<p>For example,</p>\n\n<pre><code>for (var i=0; i&lt;a.length; i++) {\n    document.write(i + ', ' + typeof i + ', ' + i+1);\n}\n</code></pre>\n\n<p>will write </p>\n\n<pre><code>0, number, 1\n1, number, 2\n...\n</code></pre>\n\n<p>whereas,</p>\n\n<pre><code>for (var ii in a) {\n    document.write(i + ', ' + typeof i + ', ' + i+1);\n}\n</code></pre>\n\n<p>will write</p>\n\n<pre><code>0, string, 01\n1, string, 11\n...\n</code></pre>\n\n<p>Of course, this can easily be overcome by including</p>\n\n<pre><code>ii = parseInt(ii);\n</code></pre>\n\n<p>in the loop, but the first structure is more direct.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Because it will iterate over properties belonging to objects up the prototype chain if you're not careful.</p>\n\n<p>You can use <code>for.. in</code>, just be sure to check each property with <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\" rel=\"nofollow\">hasOwnProperty</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The <code>for-in</code> statement by itself is not a \"bad practice\", however it can be <em>mis-used</em>, for example, to <em>iterate</em> over arrays or array-like objects.</p>\n\n<p>The purpose of the <code>for-in</code> statement is to <em>enumerate</em> over object properties, this statement will go up in the prototype chain, enumerating also <em>inherited</em> properties, thing that <em>sometimes</em> is not desired.</p>\n\n<p>Also, the order of iteration is not guaranteed by the spec., meaning that if you want to \"iterate\" an array object, with this statement you cannot be sure that the properties (array indexes) will be visited in the numeric order.</p>\n\n<p>For example, in JScript (IE &lt;= 8), the order of enumeration even on Array objects is defined as the properties were created:</p>\n\n<pre><code>var array = [];\narray[2] = 'c';\narray[1] = 'b';\narray[0] = 'a';\n\nfor (var p in array) {\n  //... p will be 2, 1 and 0 on IE\n}\n</code></pre>\n\n<p>Also, speaking about inherited properties, if you, for example, extend the <code>Array.prototype</code> object (like some libraries as MooTools do), that properties will be also enumerated:</p>\n\n<pre><code>Array.prototype.last = function () { return this[this.length-1]; };\n\nfor (var p in []) { // an empty array\n  // last will be enumerated\n}\n</code></pre>\n\n<p>As I said before to <em>iterate</em> over arrays or array-like objects, the best thing is to use a <em>sequential loop</em>, such as a plain-old <code>for</code>/<code>while</code> loop.</p>\n\n<p>When you want to enumerate only the <em>own properties</em> of an object (the ones that aren't inherited), you can use the <code>hasOwnProperty</code> method:</p>\n\n<pre><code>for (var prop in obj) {\n  if (obj.hasOwnProperty(prop)) {\n    // prop is not inherited\n  }\n}\n</code></pre>\n\n<p>And some people even recommend calling the method directly from <code>Object.prototype</code> to avoid having problems if somebody adds a property named <code>hasOwnProperty</code> to our object:</p>\n\n<pre><code>for (var prop in obj) {\n  if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n    // prop is not inherited\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 204
                },
                {
                    "body": "<p>The problem with <code>for ... in ...</code> &mdash; and this only becomes a problem when a programmer doesn't really understand the language; it's not really a bug or anything &mdash; is that it iterates over <em>all</em> members of an object (well, all <em>enumerable</em> members, but that's a detail for now).  When you want to iterate over <em>just</em> the indexed properties of an array, the only guaranteed way to keep things semantically consistent is to use an integer index (that is, a <code>for (var i = 0; i &lt; array.length; ++i)</code> style loop).</p>\n\n<p>Any object can have arbitrary properties associated with it. There would be nothing terrible about loading additional properties onto an array instance, in particular. Code that wants to see <em>only</em> indexed array-like properties therefore <em>must</em> stick to an integer index. Code that is fully aware of what <code>for ... in</code> does and really <em>need</em> to see all properties, well then that's ok too.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>It's not <em>necessarily</em> bad (based on what you're doing), but in the case of arrays, if something has been added to <code>Array.prototype</code>, then you're going to get strange results.  Where you'd expect this loop to run three times:</p>\n\n<pre><code>var arr = ['a','b','c'];\nfor (var key in arr) { ... }\n</code></pre>\n\n<p>If a function called <code>helpfulUtilityMethod</code> has been added to <code>Array</code>'s <code>prototype</code>, then your loop would end up running four times: <code>key</code> would be <code>0</code>, <code>1</code>, <code>2</code>, and <code>helpfulUtilityMethod</code>.  If you were only expecting integers, oops.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You should use the <code>for(var x in y)</code> only on property lists, not on objects (as explained above).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The <code>for</code>/<code>in</code> works with two types of variables: hashtables (associative arrays) and array (non-associative).</p>\n\n<p>JavaScript will automatically determine the way its passes through the items. So if you know that your array is really non-associative you can use <code>for (var i=0; i&lt;=arrayLen; i++)</code>, and skip the auto-detection iteration.</p>\n\n<p>But in my opinion, it's better to use <code>for</code>/<code>in</code>, the process required for that auto-detection is very small. </p>\n\n<p>A real answer for this will depend on how the browser parsers/interpret the JavaScript code. It can change between browsers.</p>\n\n<p>I can't think of other purposes to not using <code>for</code>/<code>in</code>;</p>\n\n<pre><code>//Non-associative\nvar arr = ['a', 'b', 'c'];\nfor (var i in arr)\n   alert(arr[i]);\n\n//Associative\nvar arr = {\n   item1 : 'a',\n   item2 : 'b',\n   item3 : 'c'\n};\n\nfor (var i in arr)\n   alert(arr[i]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Aside from the fact that <code>for</code>...<code>in</code> loops over all enumerable properties (which is <em>not</em> the same as \"all array elements\"!), see <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\">http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf</a>, section 12.6.4:</p>\n\n<blockquote>\n  <p>The mechanics and <strong>order</strong> of enumerating the properties ... <strong>is not specified</strong>.</p>\n</blockquote>\n\n<p>(Emphasis mine.)</p>\n\n<p>That means if a browser wanted to, it could go through the properties in the order in which they were inserted.  Or in numerical order.  Or in lexical order (where \"30\" comes before \"4\"!  Keep in mind all object keys -- and thus, all array indexes -- are actually strings, so that makes total sense).  It could go through them by bucket, if it implemented objects as hash tables.  Or take any of that and add \"backwards\".  A browser could even iterate <em>randomly</em> and be ECMA-262 compliant, as long as it visited each property exactly once.</p>\n\n<p>In practice, most browsers currently like to iterate in roughly the same order.  But there's nothing saying they have to.  That's implementation specific, and could change at any time if another way was found to be far more efficient.</p>\n\n<p>Either way, <code>for</code>...<code>in</code> carries with it no connotation of order.  If you care about order, be explicit about it and use a regular <code>for</code> loop with an index.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>In addition to the other problems, the \"for..in\" syntax is probably slower, because the index is a string, not an integer.</p>\n\n<pre><code>var a = [\"a\"]\nfor (var i in a)\n    alert(typeof i)  // 'string'\nfor (var i = 0; i &lt; a.length; i++)\n    alert(typeof i)  // 'number'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Short answer: It's just not worth it.</p>\n\n<hr>\n\n<p>Longer answer: It's just not worth it, even if sequential element order and optimal performance aren't required.</p>\n\n<hr>\n\n<p>Long answer: It's just not worth it, for reasons following:</p>\n\n<ul>\n<li>Using <code>for (var i in array) {}</code> will cause 'array' to be interpreted as any other <em>pure</em> object, traversing the object property chain and ultimately performing slower than an index-based <code>for</code> loop.</li>\n<li>It's not guaranteed to return the object properties in sequential order as one might expect.</li>\n<li>Using <code>hasOwnProperty()</code> or <code>isNaN()</code> checks to filter the object properties is an additional overhead causing it to perform (even more) slower. Also, introducing such additional logic negates the key reason for using it in the first place, i.e. because of the more concise format.</li>\n</ul>\n\n<p>For these reasons an acceptable trade-off between performance and convenience doesn't even exist. Really, there's no benefit unless the intent is to treat the array as a <em>pure</em> object and performs operations on the array object's properties.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>An important aspect is that <code>for...in</code> only iterates over properties contained in an object which have their <strong>enumerable</strong> <em>property attribute</em> set to true. So if one attempts to iterate over an object using <code>for...in</code> then arbitrary properties may be missed if their enumerable property attribute is false. It is quite possible to alter the enumerable property attribute for normal Array objects so that certain elements are not enumerated. Though in general the property attributes tend to apply to function properties within an object.</p>\n\n<p>One can check the value of a properties' enumerable property attribute by:</p>\n\n<pre><code>myobject.propertyIsEnumerable('myproperty')\n</code></pre>\n\n<p>Or to obtain all four property attributes:</p>\n\n<pre><code>Object.getOwnPropertyDescriptor(myobject,'myproperty')\n</code></pre>\n\n<p>This is a feature available in ECMAScript 5 - in earlier versions it was not possible to alter the value of the enumerable property attribute (it was always set to true).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Also, due to semantics, the way <code>for, in</code> treats arrays (i.e. the same as any other JavaScript object) is not aligned with other popular languages.</p>\n\n<pre><code>// C#\nchar[] a = new char[] {'A', 'B', 'C'};\nforeach (char x in a) System.Console.Write(x); //Output: \"ABC\"\n\n// Java\nchar[] a = {'A', 'B', 'C'};\nfor (char x : a) System.out.print(x);          //Output: \"ABC\"\n\n// PHP\n$a = array('A', 'B', 'C');\nforeach ($a as $x) echo $x;                    //Output: \"ABC\"\n\n// JavaScript\nvar a = ['A', 'B', 'C'];\nfor (var x in a) document.write(x);            //Output: \"012\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Mainly two reasons:</p>\n\n<p><strong>One</strong></p>\n\n<p>Like others have said, You might get keys which aren't in your array or that are inherited from the prototype. So if, let's say, a library adds a property to the Array or Object prototypes:</p>\n\n<pre><code>Array.prototype.someProperty = true\n</code></pre>\n\n<p>You'll get it as part of every array:</p>\n\n<pre><code>for(var item in [1,2,3]){\n  console.log(item) // will log 1,2,3 but also \"someProperty\"\n}\n</code></pre>\n\n<p>you could solve this with the hasOwnProperty method:</p>\n\n<pre><code>var ary = [1,2,3];\nfor(var item in ary){\n   if(ary.hasOwnProperty(item)){\n      console.log(item) // will log only 1,2,3\n   }\n}\n</code></pre>\n\n<p>but this is true for iterating over any object with a for-in loop.</p>\n\n<p><strong>Two</strong></p>\n\n<p>Usually the order of the items in an array is important, but the for-in loop won't necessarily iterate in the right order, that's because it treats the array as an object, which is the way it is implemented in JS, and not as an array.\nThis seems like a small thing, but it can really screw up applications and is hard to debug.</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I've been told not to use \"for...in\" with arrays in JavaScript. Why not?</p>\n",
            "last_activity_date": 1425648379,
            "question_id": 500504,
            "score": 689,
            "tags": [
                "javascript",
                "arrays",
                "for-loop"
            ],
            "title": "Why is using &quot;for...in&quot; with array iteration such a bad idea?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<h2>What you should know about <code>this</code></h2>\n\n<p><code>this</code> (aka \"the context\") is a special keyword inside each function and its value only depends on <em>how</em> the function was called, not how/when/where it was defined. It is not affected by lexical scope, like other variables. Here are some examples:</p>\n\n<pre><code>function foo() {\n    console.log(this);\n}\n\n// normal function call\nfoo(); // `this` will refer to `window`\n\n// as object method\nvar obj = {bar: foo};\nobj.bar(); // `this` will refer to `obj`\n\n// as constructor function\nnew foo(); // `this` will refer to an object that inherits from `foo.prototype`\n</code></pre>\n\n<p>To learn more about <code>this</code>, have a look at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow\">MDN documentation</a>.</p>\n\n<hr>\n\n<h2>How to refer to the correct <code>this</code></h2>\n\n<h3>Don't use <code>this</code></h3>\n\n<p>You actually don't want to access <code>this</code> in particular, but <em>the object it refers to</em>. That's why an easy solution is to simply create a new variable that also refers to that object. The variable can have any name, but common ones are <code>self</code> and <code>that</code>.</p>\n\n<pre><code>function MyConstructor(data, transport) {\n    this.data = data;\n    var self = this;\n    transport.on('data', function() {\n        alert(self.data);\n    });\n}\n</code></pre>\n\n<p>Since <code>self</code> is a normal variable, it obeys lexical scope rules and is accessible inside the callback.</p>\n\n<h3>Explicitly set <code>this</code> of the callback - part 1</h3>\n\n<p>It might look like you have no control over the value of <code>this</code>, because its value is set automatically, but that is actually not the case. </p>\n\n<p>Every function has the method <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\"><code>.bind</code> <em><sup>[docs]</sup></em></a>, which returns a new function with <code>this</code> bound to a value. The function has exactly the same behavior as the one you called <code>.bind</code> on, only that <code>this</code> was set by you. No matter how or when that function is called, <code>this</code> will always refer to the passed value.</p>\n\n<pre><code>function MyConstructor(data, transport) {\n    this.data = data;\n    var boundFunction = (function() { // parenthesis are not necessary\n        alert(this.data);             // but might improve readability\n    }).bind(this); // &lt;- here we are calling `.bind()` \n    transport.on('data', boundFunction);\n}\n</code></pre>\n\n<p>In this case, we are binding the callback's <code>this</code> to the value of <code>MyConstructor</code>'s <code>this</code>.</p>\n\n<h3>ECMAScript 6: Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow\">arrow functions</a></h3>\n\n<p>ECMASCript 6 introduces <em>arrow functions</em>, which can be thought of as lambda functions. They don't have their own <code>this</code> binding. Instead, <code>this</code> is looked up in scope just like a normal variable. That means you don't have to call <code>.bind</code>. That's not the only special behavior they have, please refer to the MDN documentation for more information. </p>\n\n<pre><code>function MyConstructor(data, transport) {\n    this.data = data;\n    transport.on('data', () =&gt; alert(this.data));\n}\n</code></pre>\n\n<h3>Set <code>this</code> of the callback - part 2</h3>\n\n<p>Some functions/methods which accept callbacks also accept a value to which the callback's <code>this</code> should refer to. This is basically the same as binding it yourself, but the function/method does it for you. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow\"><code>Array#map</code> <em><sup>[docs]</sup></em></a> is such a method. Its signature is:</p>\n\n<pre><code>array.map(callback[, thisArg])\n</code></pre>\n\n<p>The first argument is the callback and the second argument is the value <code>this</code> should refer to. Here is a contrived example:</p>\n\n<pre><code>var arr = [1, 2, 3];\nvar obj = {multipler: 42};\n\nvar new_arr = arr.map(function(v) {\n    return v * this.multiplier;\n}, obj); // &lt;- here we are passing `obj` as second argument\n</code></pre>\n\n<p><strong>Note:</strong> Whether or not you can pass a value for <code>this</code> is usually mentioned in the documentation of that function/method. For example, <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">jQuery's <code>$.ajax</code> method</a> describes an option called <code>context</code>:</p>\n\n<blockquote>\n  <p>This object will be made the context of all Ajax-related callbacks.</p>\n</blockquote>\n\n<hr>\n\n<h2>Common problem: Using object methods as callbacks / event handlers</h2>\n\n<p>Another common manifestation of this problem is when an object method is used as callback / event handler. Functions are first class citizens in JavaScript and the term \"method\" is just a colloquial term for a function that is a value of an object property. But that function doesn't have a specific link to its \"containing\" object.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>function Foo() [\n    this.data = 42,\n    document.body.onclick = this.method;\n}\n\nFoo.prototype.method = function() {\n    console.log(this.data);\n};\n</code></pre>\n\n<p>The function <code>this.method</code> is assigned as click event handler, but if the body is clicked, the value logged will be <code>undefined</code>, because inside the event handler, <code>this</code> refers to the body, not the instance of <code>Foo</code>.<br>\nAs already mentioned at the beginning, what <code>this</code> refers to depends on how the function is <strong>called</strong>, not how it is <strong>defined</strong>.<br>\nIf the code was like the following, it might be more obvious that the function doesn't have an implicit reference to the object:</p>\n\n<pre><code>function method() {\n    console.log(this.data);\n}\n\n\nfunction Foo() [\n    this.data = 42,\n    document.body.onclick = this.method;\n}\n\nFoo.prototype.method = method;\n</code></pre>\n\n<p><strong>The solution</strong> is the same as mentioned above: If available, use <code>.bind</code> to explicitly bind <code>this</code> to a specific value</p>\n\n<pre><code>document.body.onclick = this.method.bind(this);\n</code></pre>\n\n<p>or explicitly call the function as a \"method\" of the object, by using an anonymous function has callback / event handler and assign the object (<code>this</code>) to another variable:</p>\n\n<pre><code>var self = this;\ndocument.body.onclick = function() {\n    self.method();\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 72
                },
                {
                    "body": "<pre><code>function MyConstructor(name, transport) {\n    var that = this;\n    that.name = name;\n    transport.on('data', function() {\n        alert(that.name);\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's all in the \"magic\" syntax of calling a method:</p>\n\n<pre><code>object.property();\n</code></pre>\n\n<p>When you get the property from the object and call it in one go, the object will be the context for the method. If you call the same method, but in separate steps, the context is the global scope (window) instead:</p>\n\n<pre><code>var f = object.property;\nf();\n</code></pre>\n\n<p>When you get the reference of a method, it's no longer attached to the object, it's just a reference to a plain function. The same happens when you get the reference to use as a callback:</p>\n\n<pre><code>this.saveNextLevelData(this.setAll);\n</code></pre>\n\n<p>That's where you would bind the context to the function:</p>\n\n<pre><code>this.saveNextLevelData(this.setAll.bind(this));\n</code></pre>\n\n<p>If you are using jQuery you should use the <code>$.proxy</code> method instead, as <code>bind</code> is not supported in all browsers:</p>\n\n<pre><code>this.saveNextLevelData($.proxy(this.setAll, this));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<h3>The trouble with \"context\"</h3>\n\n<p>The term \"context\" is sometimes used to refer to the object referenced by <em>this</em>. It's use is inappropriate because it doesn't fit either semantically or technically with <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-10.3\" rel=\"nofollow\">ECMAScript's <em>this</em></a>.</p>\n\n<p><a href=\"http://www.oxforddictionaries.com/definition/english/context\" rel=\"nofollow\">\"Context\"</a> means the circumstances surrounding something that adds meaning, or some preceding and following information that gives extra meaning. The term \"context\" is used in ECMAScript to refer to <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-10.3\" rel=\"nofollow\"><em>execution context</em></a>, which is all the parameters, scope and <em>this</em> within the  scope of some executing code.</p>\n\n<p>This is shown in <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-10.4.2\" rel=\"nofollow\">ECMA-262 section 10.4.2</a>:</p>\n\n<blockquote>\n  <p>Set the ThisBinding to the same value as the ThisBinding of the\n  calling execution context</p>\n</blockquote>\n\n<p>which clearly indicates that <em>this</em> is part of an execution context.</p>\n\n<p>An execution context provides the surrounding information that adds meaning to code that is being executed. It includes much more information that just the <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-11.1.1\" rel=\"nofollow\"><em>thisBinding</em></a>.</p>\n\n<p>So the value of <em>this</em> isn't \"context\", it's just one part of an execution context. It's essentially a local variable that can be set by the call to any object and in strict mode, to any value at all. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a constructor function which registers an event handler:</p>\n\n<pre><code>function MyConstructor(data, transport) {\n    this.data = data;\n    transport.on('data', function() {\n        alert(this.data);\n    });\n}\n\n// called as\nvar obj = new MyConstructor('foo', transport);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Lt62L/\">jsFiddle demo</a></p>\n\n<p>However, I'm not able to access the <code>data</code> property of the created object inside the callback. It looks like <code>this</code> does not refer to the object that was created but to an other one.</p>\n\n<p>I also tried to use an object method instead of an anonymous function:</p>\n\n<pre><code>function MyConstructor(data, transport) {\n    this.data = data;\n    transport.on('data', this.alert);\n}\n\nMyConstructor.prototype.alert = function() {\n    alert(this.name);\n};\n</code></pre>\n\n<p>but it exhibits the same problems.</p>\n\n<p>How can I access the correct object?</p>\n",
            "last_activity_date": 1425634405,
            "question_id": 20279484,
            "score": 28,
            "tags": [
                "javascript",
                "callback",
                "this"
            ],
            "title": "How to access the correct `this` / context inside a callback?"
        },
        {
            "answer_count": 37,
            "answers": [
                {
                    "body": "<p>You don't need jQuery to do just that:</p>\n\n<pre><code>window.location = \"http://www.page-2.com\";\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note</strong>: This is similar to \"clicking\" a link and will record page change in browser's history.<br /><em>To replace current page in history, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.location?redirectlocale=en-US&amp;redirectslug=DOM/window.location#replace\">location.replace</a></em></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 313
                },
                {
                    "body": "<p>It would help if you were a little more descriptive in what you are trying to do.  If you are trying to generate paged data, there are some options in how you do this.  You can generate separate links for each page that you want to be able to get directly to.</p>\n\n<pre><code>&lt;a href='/path-to-page?page=1' class='pager-link'&gt;1&lt;/a&gt;\n&lt;a href='/path-to-page?page=2' class='pager-link'&gt;2&lt;/a&gt;\n&lt;span class='pager-link current-page'&gt;3&lt;/a&gt;\n...\n</code></pre>\n\n<p>Note that the current page in the example is handled differently in the code and with CSS.</p>\n\n<p>If you want the paged data to be changed via AJAX, this is where jQuery would come in.  What you would do is add a click handler to each of the anchor tags corresponding to a different page.  This click handler would invoke some jQuery code that goes and fetches the next page via AJAX and updates the table with the new data.  The example below assumes that you have a web service that returns the new page data.</p>\n\n<pre><code>$(document).ready( function() {\n    $('a.pager-link').click( function() {\n        var page = $(this).attr('href').split(/\\?/)[1];\n        $.ajax({\n            type: 'POST',\n            url: '/path-to-service',\n            data: page,\n            success: function(content) {\n               $('#myTable').html(content);  // replace\n            }\n        });\n        return false; // to stop link\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 61
                },
                {
                    "body": "<p>jQuery is not necessary, and <strong><code>window.location.replace(...)</code></strong> will best simulate an HTTP redirect.  </p>\n\n<p>It is better than using <code>window.location.href =</code>, because <code>replace()</code> does not put the originating page in the session history, meaning the user won't get stuck in a never-ending back-button fiasco.  If you want to simulate someone clicking on a link, use <code>location.href</code>.  If you want to simulate an HTTP redirect, use <code>location.replace</code>.</p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>// similar behavior as an HTTP redirect\nwindow.location.replace(\"http://stackoverflow.com\");\n\n// similar behavior as clicking on a link\nwindow.location.href = \"http://stackoverflow.com\";\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6150
                },
                {
                    "body": "<pre><code>var url = 'asdf.html';\nwindow.location.href = url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p><strong>WARNING:</strong> This answer has been provided as a possible solution. Although, obviously, the pure JavaScript approach is the best one, as this requires jQuery.</p>\n\n<pre><code>var url = \"http://stackoverflow.com\";    \n$(location).attr('href',url);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 614
                },
                {
                    "body": "<p>This works for every browser:</p>\n\n<pre><code>window.location.href = 'your_url';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<pre><code>$jq(window).attr(\"location\",\"http://google.fr\");\n</code></pre>\n\n<p>This version works well with jQuery 1.6.2.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>You can do that without jQuery as:</p>\n\n<pre><code>window.location = \"http://yourdomain.com\";\n</code></pre>\n\n<p>And if you want only jQuery then you can do it like:</p>\n\n<pre><code>$jq(window).attr(\"location\",\"http://yourdomain.com\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>All of these answers are correct, but I'll post this for those who might run into the same strange issue that I did. I was having an issue with <code>HTTP_REFERER</code> getting <strong>lost</strong> when using simply location.href.</p>\n\n<p>In <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_8\">Internet&nbsp;Explorer&nbsp;8</a> and lower, location.href (or any &amp; all variations location - will lose referrer), which for secure sites is important to maintain, because testing for it (URL pasting, session, etc.) <em>can</em> be helpful in telling whether a request is legitimate.\n<em>(<strong>Note ::</strong> there are also ways to work-around / spoof these referrers, as noted by droop's link in the comments)</em></p>\n\n<p>My cross-browser fix is this simple function. Assuming you, of course, are worried about losing <code>HTTP_REFERER</code> as I stated (otherwise you can just use location.href, etc.).</p>\n\n<p><strong>Usage: <code>Redirect('anotherpage.aspx');</code></strong></p>\n\n<pre><code>function Redirect (url) {\n    var ua        = navigator.userAgent.toLowerCase(),\n        isIE      = ua.indexOf('msie') !== -1,\n        version   = parseInt(ua.substr(4, 2), 10);\n\n    // Internet Explorer 8 and lower\n    if (isIE &amp;&amp; version &lt; 9) {\n        var link = document.createElement('a');\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n    }\n\n    // All other browsers\n    else { window.location.href = url; }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>But if someone wants to redirect back to home page then he/she may use the following snippet.</p>\n\n<pre><code>window.location = window.location.host\n</code></pre>\n\n<p>It would be helpful if you have three different environments as development, staging, and production.</p>\n\n<p>You can explore this window or window.location object by just putting these words in Chrome Console or <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\" rel=\"nofollow\">Firebug</a>'s Console.</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>On your click function, just add:</p>\n\n<pre><code>window.location.href = \"The URL where you want to redirect\";\n$('#id').click(function(){\n    window.location.href = \"http://www.google.com\";\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I also think that <code>location.replace(URL)</code> is the best way, but if you want to notify the search engines about your redirection (they don't analyze JavaScript code to see the redirection) you should add the <code>rel=\"canonical\"</code> meta tag to your website.</p>\n\n<p>Adding a noscript section with a HTML refresh meta tag in it, is also a good solution. I suggest you to use this <a href=\"http://online-marketing-technologies.com/tools/javascript-redirection-generator.html\" rel=\"nofollow\">JavaScript redirection tool</a> to create redirections. It also has Internet&nbsp;Explorer support to pass the HTTP referrer.</p>\n\n<p>Sample code without delay looks like this:</p>\n\n<pre><code>&lt;!-- Pleace this snippet right after opening the head tag to make it work properly --&gt;\n&lt;!-- REDIRECTING STARTS --&gt;\n&lt;link rel=\"canonical\" href=\"https://yourdomain.com\"/&gt;\n&lt;noscript&gt;\n    &lt;meta http-equiv=\"refresh\" content=\"0;URL=https://yourdomain.com\"&gt;\n&lt;/noscript&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var url = \"https://yourdomain.com\";\n\n    // Internet Explorer 8 and lower fix\n    if (navigator.userAgent.match(/MSIE\\s(?!9.0)/))\n    {\n        var referLink = document.createElement(\"a\");\n        referLink.href = url;\n        document.body.appendChild(referLink);\n        referLink.click();\n    }\n    else {\n        // All other browsers\n        window.location.replace(url);\n    }\n&lt;/script&gt;\n&lt;!--REDIRECTING ENDS--&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>First write properly. You want to navigate within an application for another link from your application for another link. Here is the code:</p>\n\n<pre><code>window.location.href = \"http://www.google.com\";\n</code></pre>\n\n<p>And if you want to navigate pages within your application then I also have code, if you want.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Use the following code:</p>\n\n<pre><code>$(\"#id\").click(function(){\n   window.location.href(\"https://www.google.com\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>Write the below code after the PHP, HTML or jQuery section. If in the middle of the PHP or HTML section, then use the &lt;script> tag.</p>\n\n<pre><code>location.href = \"http://google.com\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>In JavaScript and jQuery we can use the following code to redirect the one page to another page:</p>\n\n<pre><code>window.location.href=\"http://google.com\";\nwindow.location.replace(\"page1.html\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>jQuery is not needed. You can do this:</p>\n\n<pre><code>window.open(\"URL\",\"_self\",\"\",\"\")\n</code></pre>\n\n<p>It is that easy!</p>\n\n<p>The best way to initiate an HTTP request is with <code>document.loacation.href.replace('URL')</code>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>So, the question is how to make a redirect page, and not how to redirect to a website?</p>\n\n<p>You only need to use JavaScript for this. Here is some tiny code that will create a dynamic redirect page.</p>\n\n<pre><code>&lt;script&gt;\n    var url = window.location.search.split('url=')[1]; // Get the URL after ?url=\n    if( url ) window.location.replace(url);\n&lt;/script&gt;\n</code></pre>\n\n<p>So say you just put this snippet into a <code>redirect/index.html</code> file on your website you can use it like so.</p>\n\n<blockquote>\n  <p><code>http://www.mywebsite.com/redirect?url=http://stackoverflow.com</code></p>\n</blockquote>\n\n<p>And if you go to that link it will automatically redirect you to <strong>stackoverflow.com</strong>.</p>\n\n<blockquote>\n  <p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.location\" rel=\"nofollow\">Link to Documentation</a></strong></p>\n</blockquote>\n\n<p><strong>And that's how you make a <em>Simple</em> redirect page with JavaScript</strong></p>\n\n<p>Edit:</p>\n\n<p>There is also one thing to note. I have added <code>window.location.replace</code> in my code because I think it suits a redirect page, but, you must know that when using <code>window.location.replace</code> and you get redirected, when you press the back button in your browser it will <strong>not</strong> got back to the redirect page, and it will go back to the page before it, take a look at this little demo thing.</p>\n\n<p>Example:</p>\n\n<blockquote>\n  <p>The process: <strong>store home</strong> => <strong>redirect page to google</strong> => <strong>google</strong></p>\n  \n  <p>When at google: <strong>google</strong> => <strong>back button in browser</strong> => <strong>store home</strong></p>\n</blockquote>\n\n<p>So, if this suits your needs then everything should be fine. If you want to include the redirect page in the browser history replace this </p>\n\n<pre><code>if( url ) window.location.replace(url);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>if( url ) window.location.href = url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Try this:</p>\n\n<p><code>location.assign(\"<a href=\"http://www.google.com\">http://www.google.com</a>\");</code></p>\n\n<p><a href=\"http://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_loc_assign\">Reference</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Instead of redirecting, you can replace the window the user is on with the page you want to redirect to using JavaScript code like this:</p>\n\n<pre><code>window.open('url', '_self');\n</code></pre>\n\n<p>You can also do this:</p>\n\n<pre><code>window.location.href = \"http://example.com\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here is a time-delay redirection. You can set the delay time to whatever you want:</p>\n\n<pre><code>    &lt;!doctype html&gt;\n    &lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n      &lt;meta charset=\"UTF-8\"&gt;\n      &lt;title&gt;Your Document Title&lt;/title&gt;\n      &lt;script type=\"text/javascript\"&gt;\n        function delayer(delay){\n          onLoad=setTimeout('window.location.href = \"http://www.google.com/\"',delay);\n        }   \n      &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n      &lt;script&gt;delayer(8000)&lt;/script&gt;\n      &lt;div&gt;You will be redirected in 8 seconds!&lt;/div&gt;\n    &lt;/body&gt;\n</code></pre>\n\n<p></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can use it like in the following code where getGuestHouseRequestToForward is the request mapping (<a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"nofollow\">URL</a>). You can also use your URL.</p>\n\n<pre><code>function savePopUp(){\n    $.blockUI();\n    $.ajax({\n        url:\"saveForwardingInformationForGuestHouse?roomType=\"+$(\"#roomType\").val(),\n        data: $(\"#popForm\").serialize(),\n        dataType: \"json\",\n        error: (function() {\n            alert(\"Server Error\");\n            $.unblockUI();\n    }),\n    success: function(map) {\n        $(\"#layer1\").hide();\n        $.unblockUI();\n        window.location = \"getGuestHouseRequestToForward\";\n    }\n});\n</code></pre>\n\n<p>This is for the same context of the application.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>JavaScript provides you many methods to retrieve and change the current URL which is displayed in browser's address bar. All these methods uses the Location object, which is  a property of the Window object. You can create a new Location object that has the current URL as follows..</p>\n\n<pre><code>var currentLocation = window.location;\n</code></pre>\n\n<p><strong>Basic Structure of a URL</strong></p>\n\n<pre><code>&lt;protocol&gt;//&lt;hostname&gt;:&lt;port&gt;/&lt;pathname&gt;&lt;search&gt;&lt;hash&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/4kiBE.jpg\" alt=\"enter image description here\"></p>\n\n<ol>\n<li><p>Protocol -- Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))</p></li>\n<li><p>hostname -- Host name specifies the host that owns the resource. For example, www.stackoverflow.com. A server provides services using the name of the host.</p></li>\n<li><p>port -- A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.</p></li>\n<li><p>pathname -- The path gives info about the specific resource within the host that the Web client wants to access. For example, stackoverflow.com/index.html.</p></li>\n<li><p>query --  A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed). </p></li>\n<li><p>hash -- The anchor portion of a URL, includes the hash sign (#).</p></li>\n</ol>\n\n<p>With these Location object properties you can access all of these URL components</p>\n\n<ol>\n<li><strong>hash</strong>   -Sets or returns the anchor portion of a URL.  </li>\n<li><strong>host</strong>   -Sets\nor returns the hostname and port of a URL.   </li>\n<li><strong>hostname</strong>   -Sets or\nreturns the hostname of a URL.   </li>\n<li><strong>href</strong>   -Sets or returns the entire\nURL.  </li>\n<li><strong>pathname</strong>   -Sets or returns the path name of a URL.   </li>\n<li><strong>port</strong> -Sets or returns the port number the server uses for a URL.  </li>\n<li><strong>protocol</strong>   -Sets or returns the protocol of a URL.   </li>\n<li><strong>search</strong>   -Sets\nor returns the query portion of a URL</li>\n</ol>\n\n<p>Now If you want to change a page or redirect the user to some other page you can use the <code>href</code> property of the Location object like this</p>\n\n<p>You can use the href property of the Location object.</p>\n\n<pre><code>window.location.href = \"http://www.stackoverflow.com\";\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/agrawalnikhil/7Ly8f/\">Demo Fiddle</a></p>\n\n<p><strong>Location Object</strong> also have these three methods</p>\n\n<ol>\n<li><strong>assign()</strong> -- Loads a new document.</li>\n<li><strong>reload()</strong> -- Reloads the current document.</li>\n<li><strong>replace()</strong> -- Replaces the current document with a new one</li>\n</ol>\n\n<p>You can use assign() and replace methods also to redirect to other pages like these</p>\n\n<pre><code>location.assign(\"http://www.stackoverflow.com\");\n\nlocation.replace(\"http://www.stackoverflow.com\");\n</code></pre>\n\n<p><em><strong>How assign() and replace() differs</strong> -- The difference between replace() method and assign() method(), is that replace() removes the URL of the current document from the document history, means it is not possible to use the \"back\" button to navigate back to the original document. So Use the assign() method if you want to load a new document, andwant to give the option to navigate back to the original document.</em></p>\n\n<p>You can change the location object href property using <strong>jQuery</strong> also  like this</p>\n\n<pre><code>$(location).attr('href',url);\n</code></pre>\n\n<p>And hence you can redirect the user to some other url.</p>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>You need to put this line on your code</p>\n\n<pre><code> $(location).attr('href',\"http://stackoverflow.com\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><strong><em>may be one of the followings helps someone.</em></strong></p>\n\n<pre><code>1. window.location.href=\"http://www.clicktable.com\";\n</code></pre>\n\n<hr>\n\n<pre><code>2. window.history.back(-1);                                     //  back\n</code></pre>\n\n<hr>\n\n<pre><code>3. window.navigate(\"top.jsp\");                                  // old-IE-only\n</code></pre>\n\n<hr>\n\n<pre><code>4. self.location=\"top.htm\";\n</code></pre>\n\n<hr>\n\n<pre><code>5. top.location=\"error.jsp\";\n</code></pre>\n\n<hr>\n\n<pre><code>6. window.location = window.location.host;\n</code></pre>\n\n<hr>\n\n<pre><code>7. $(location).attr('href',\"http://www.google.com\");            //jQuery\n</code></pre>\n\n<hr>\n\n<pre><code>8. $jq(window).attr(\"location\",\"http://www.google.com\");        //jQuery\n</code></pre>\n\n<hr>\n\n<pre><code>9. window.location.replace(\"http://www.kqingdom.com\");\n</code></pre>\n\n<hr>\n\n<pre><code>10. window.location.assign(\"http://www.mozilla.org\");\n</code></pre>\n\n<hr>\n\n<pre><code>11. document.location.href = '/path';\n</code></pre>\n\n<hr>\n\n<pre><code>12. window.history.go(-1);                                     //  back\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 52
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar url = \"https://yourdomain.com\";\n\n// IE8 and lower fix\nif (navigator.userAgent.match(/MSIE\\s(?!9.0)/))\n{\n    var referLink = document.createElement(\"a\");\n    referLink.href = url;\n    document.body.appendChild(referLink);\n    referLink.click();\n}\n\n// All other browsers\nelse { window.location.replace(url); }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><strong>#Page redirect in jQuery/JavaScript</strong></p>\n\n<p>This is very simple. See this example code:</p>\n\n<pre><code>function myfunction()\n{\n    var i = document.getElementById('Login').value;\n    if (i == 'Login')\n    {\n        window.location = \"login.php\";\n    }\n    else\n        window.location = \"Logout.php\";\n}\n</code></pre>\n\n<p>If you want to give a complete URL as <strong><code>window.location = \"www.google.co.in\";</code></strong>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This is how I use it.</p>\n\n<pre><code>   window.location.replace('yourPage.aspx');   \n   // If you're on root and redirection page is also on the root\n\n   window.location.replace(window.location.host + '/subDirectory/yourPage.aspx');\n\n   // If you're in sub directory and redirection page is also in some other sub directory.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Use:</p>\n\n<pre><code>location.href = \"http://google.com\";\n</code></pre>\n\n<p>Don't write <code>window</code>. It's optional.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There are three main ways to do this,</p>\n\n<pre><code>window.location.href='blaah.com';\nwindow.location.assign('blaah.com');\n</code></pre>\n\n<p>and...</p>\n\n<pre><code>window.location.replace('blaah.com');\n</code></pre>\n\n<p>The last one is best, for a traditional redirect, because it will not save the page you went to before being redirected in your search history. However, if you just want to open a tab with JavaScript, you can use any of the above.<a href=\"http://basicuse.net/tips/pl/scripting_languages/javascript/how_to_make_a_page_redirect_in_javascript\" rel=\"nofollow\">1</a></p>\n\n<p>EDIT: The <code>window</code> prefix is optional.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The best way to redirect a page is:</p>\n\n<pre><code>window.location.replace(\"http://www.example.com\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This page will redirect to <a href=\"http://www.google.com\" rel=\"nofollow\">http://www.google.com</a> after 3000 milliseconds</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;example&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;You will be redirected to google shortly.&lt;/p&gt;\n        &lt;script&gt;\n            setTimeout(function(){\n                window.location.href=\"http://www.google.com\"; // The URL that will be redirected too.\n            }, 3000); // The bigger the number the longer the delay.\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Different options are as followed:</p>\n\n<pre><code>window.location.href=\"url\"; //simulates normal navigation to a new page\nwindow.location.replace(\"url\");//removes current url from history and replaces with new url\nwindow.location.assign(\"url\");//adds new url to history stack and redirects to the new url\n\nwindow.history.back();//Simulates a back button click\nwindow.history.go(-1);//Simulates a back button click\nwindow.history.back(-1);//Simulates a back button click\nwindow.navigate(\"page.html\");//Same as window.location=\"url\" \n</code></pre>\n\n<p>When using replace, the back button will not go back to the redirect page, as if it was never in the history. If you want the user to be able to go back to the redirect page then use <code>window.location.href</code> or <code>window.location.assign</code>. If you do use an option that lets the user go back to the redirect page, remember that when you enter the redirect page it will redirect you back. So put that into consideration when picking an option for your redirect. under conditions where the page is only redirecting when an action is done by the user then having the page in the back button history will be okay. But if the page auto redirects then you should use replace so that the user can use the back button without getting forced back to the page the redirect sends. </p>\n\n<p>I would also like to point out, people don't like to be randomly redirected. Only redirect people when absolutely needed. If you start redirecting people randomly they will never go to your site again. </p>\n\n<p>Here is a fun little page that kicks you out of the page.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Go Away&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Go Away&lt;/h1&gt;\n        &lt;script&gt;\n            setTimeout(function(){\n                window.history.back();\n            }, 3000);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you combine the two page examples together you would have an infant loop of rerouting that will guarantee that your user will never want to use your site ever again. </p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Here is the code to redirect to some other page with a timeout of 10 seconds.</p>\n\n<pre><code>&lt;script&gt;\n    function Redirect()\n    {\n        window.location=\"http://www.adarshkr.com\";\n    }\n\n    document.write(\"You will be redirected to a new page in 10 seconds.\");\n    setTimeout('Redirect()', 10000);\n&lt;/script&gt;\n</code></pre>\n\n<p>You can also do it like this, on click of a button using location.assign:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Load new document\" onclick=\"newPage()\"&gt;\n&lt;script&gt;\n    function newPage() {\n        window.location.assign(\"http://www.adarshkr.com\")\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Simply use any one of the following:</p>\n\n<pre><code>window.location = \"Your required URL\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>window.location.href = \"Your required URL\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>Redirecting User using jQuery/JavaScript</strong></p>\n\n<p>By using the location object in jQuery or JavaScript we can redirect the user to another web page.</p>\n\n<p><strong>In jQuery</strong></p>\n\n<p>The code to redirect the user from one page to another is:</p>\n\n<pre><code>var url = 'http://www.example.com';\n$(location).attr('href', url);\n</code></pre>\n\n<p><strong>In JavaScript</strong></p>\n\n<p>The code to redirect the user from one page to another is:</p>\n\n<pre><code>var url = 'http://www.example.com';\nwindow.location.href = url;\n</code></pre>\n\n<p><strong>Or</strong></p>\n\n<pre><code>var url = 'http://www.example.com';\nwindow.location = url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>jQuery is a JavaScript framework made to make a smarter, easier and slickier UI (user interface).</p>\n\n<p>To just redirect page you can use JavaScript directly:</p>\n\n<pre><code>  window.location.href = \"/destanation.html\";\n</code></pre>\n\n<p>Or if you need to delay:</p>\n\n<pre><code>setTimeout(function() {\n  window.location.href = \"/destanation.html\";\n}, 2000); // **Put your time in milli-seconds here**\n</code></pre>\n\n<p>jQuery allows you to select elements from a Web page with ease. You can find anything you want in a page and then use jQuery to add special effects, react to user actions, or show and hide content inside or outside the element you have selected. All these tasks start with knowing <a href=\"http://learn.jquery.com/using-jquery-core/selecting-elements/\" rel=\"nofollow\">how to select an element</a>. </p>\n\n<pre><code>function redirect(){\n    .animate({\n        marginLeft: 100px; //Put some CSS animation here \n    }, 500, function() {\n      // OK, finished jQuery staff, let's go redirect \n      window.location.href = \"/destanation.html\";\n})\n</code></pre>\n\n<p>Imagine someone wrote a script/plugin that is 10000 lines of code?!\nWell, with jQuery you can connect to this code with just a line or two.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just had to update this ridiculousness with yet another newer jQuery method.</p>\n\n<pre><code>var url = 'http://www.fiftywaystoleaveyourlocation.com';\n$(location).prop('href',url);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I redirect the user from one page to another using jQuery?</p>\n",
            "last_activity_date": 1426072911,
            "question_id": 503093,
            "score": 3283,
            "tags": [
                "javascript",
                "jquery",
                "redirect"
            ],
            "title": "How can I make a redirect page using jQuery?"
        },
        {
            "answer_count": 42,
            "answers": [
                {
                    "body": "<p>In <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\" rel=\"nofollow\">Prototype</a> you would do something like</p>\n\n<pre><code>newObject = Object.clone(myObject);\n</code></pre>\n\n<p>The <a href=\"http://prototypejs.org/doc/latest/language/Object/clone/\" rel=\"nofollow\">Prototype documentation</a> notes that this makes a shallow copy.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>There doesn't seem to be an in-built one, you could try:</p>\n\n<pre><code>function clone(obj) {\n    if(obj == null || typeof(obj) != 'object')\n        return obj;\n\n    var temp = obj.constructor(); // changed\n\n    for(var key in obj) {\n        if(obj.hasOwnProperty(key)) {\n            temp[key] = clone(obj[key]);\n        }\n    }\n    return temp;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 149
                },
                {
                    "body": "<pre><code>function clone(obj)\n { var clone = {};\n   clone.prototype = obj.prototype;\n   for (property in obj) clone[property] = obj[property];\n   return clone;\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<blockquote>\n  <p><strong>Note:</strong> This is a reply to another answer, not a proper response to this question. If you wish to have fast object cloning please follow <a href=\"http://stackoverflow.com/a/5344074/1438393\">Corban's advice in his answer</a> to this question.</p>\n</blockquote>\n\n<hr>\n\n<p>I want to note that the <a href=\"http://api.jquery.com/clone/\"><code>.clone()</code></a> method in <strong>jQuery</strong> only clones DOM elements. In order to clone JavaScript objects, you would do:</p>\n\n<pre><code>// Shallow copy\nvar newObject = jQuery.extend({}, oldObject);\n\n// Deep copy\nvar newObject = jQuery.extend(true, {}, oldObject);\n</code></pre>\n\n<p>More information can be found in the <a href=\"http://api.jquery.com/jQuery.extend/\">jQuery documentation</a>.</p>\n\n<p>I also want to note that the deep copy is actually much smarter than what is shown above \u2013 it's able to avoid many traps (trying to deep extend a DOM element, for example). It's used frequently in jQuery core and in plugins to great effect.</p>\n",
                    "is_accepted": true,
                    "score": 2543
                },
                {
                    "body": "<pre><code>function deepClone(obj, CloneObj) {\n    CloneObj.clear();\n    jQuery.each(obj, function(i, val) {\n        var newObject = jQuery.extend(true, {}, val);\n        CloneObj[i] = newObject;\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Has anyone tried this?</p>\n\n<pre><code>Object.clone = function ()\n{\n    var ClonedObject = function(){};\n    ClonedObject.prototype = this;\n    return new ClonedObject;\n}\n</code></pre>\n\n<p>It seems to work and I can't see what pitfalls would be.\nIn my tests the cloned object is <code>instanceof</code> the correct objects.</p>\n\n<p>Note: it could also be implemented as a standalone function, i.e.</p>\n\n<pre><code>function clone(object)\n{\n    // (replace \"this\" with \"object\")\n    ...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>Code:</p>\n\n<pre><code>// extends 'from' object with members from 'to'. If 'to' is null, a deep clone of 'from' is returned\nfunction extend(from, to)\n{\n    if (from == null || typeof from != \"object\") return from;\n    if (from.constructor != Object &amp;&amp; from.constructor != Array) return from;\n    if (from.constructor == Date || from.constructor == RegExp || from.constructor == Function ||\n        from.constructor == String || from.constructor == Number || from.constructor == Boolean)\n        return new from.constructor(from);\n\n    to = to || new from.constructor();\n\n    for (var name in from)\n    {\n        to[name] = typeof to[name] == \"undefined\" ? extend(from[name], null) : to[name];\n    }\n\n    return to;\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>var obj =\n{\n    date: new Date(),\n    func: function(q) { return 1 + q; },\n    num: 123,\n    text: \"asdasd\",\n    array: [1, \"asd\"],\n    regex: new RegExp(/aaa/i),\n    subobj:\n    {\n        num: 234,\n        text: \"asdsaD\"\n    }\n}\n\nvar clone = extend(obj);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 43
                },
                {
                    "body": "<p>This is what I'm using:</p>\n\n<pre><code>function cloneObject(obj) {\n    var clone = {};\n    for(var i in obj) {\n        if(typeof(obj[i])==\"object\" &amp;&amp; obj[i] != null)\n            clone[i] = cloneObject(obj[i]);\n        else\n            clone[i] = obj[i];\n    }\n    return clone;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<pre><code>var clone = function() {\n    var newObj = (this instanceof Array) ? [] : {};\n    for (var i in this) {\n        if (this[i] &amp;&amp; typeof this[i] == \"object\") {\n            newObj[i] = this[i].clone();\n        }\n        else\n        {\n            newObj[i] = this[i];\n        }\n    }\n    return newObj;\n}; \n\nObject.defineProperty( Object.prototype, \"clone\", {value: clone, enumerable: false});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>dojo.clone apparently clones \"anything\". Certainly worth a look, perhaps?</p>\n\n<p><a href=\"http://api.dojotoolkit.org/jsdoc/1.5/dojo.clone\">http://api.dojotoolkit.org/jsdoc/1.5/dojo.clone</a></p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>in my FF3.6/IE8/Chrome4 works only this solution:</p>\n\n<pre><code>function cloneObject(obj){\n  var newObj = (obj instanceof Array) ? [] : {};\n  for (var i in obj) {\n    if (obj[i] &amp;&amp; typeof obj[i] == \"object\") \n      newObj[i] = obj[i].clone();\n    else\n      newObj[i] = obj[i];\n  }\n  return newObj;\n}\n</code></pre>\n\n<p>I don't know why, but Object's prototype extension doesn't work well in FF ;(</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>// obj target object, vals source object</p>\n\n<pre><code>var setVals = function (obj, vals) {\nif (obj &amp;&amp; vals) {\n      for (var x in vals) {\n        if (vals.hasOwnProperty(x)) {\n          if (obj[x] &amp;&amp; typeof vals[x] === 'object') {\n            obj[x] = setVals(obj[x], vals[x]);\n          } else {\n            obj[x] = vals[x];\n          }\n        }\n      }\n    }\n    return obj;\n  };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The way you are supposed to do it in Mootools.</p>\n\n<pre><code>var my_object = {one:1,two:2, subobject:{a:['a','A']}},three:'3'};\nvar my_object_clone = $merge({},my_object);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>for mootools in particular this severs the reference between the new obj and the old one:</p>\n\n<pre><code>var obj = {foo: 'bar'}; \nvar bar = $unlink(obj);\n</code></pre>\n\n<p>you can also do</p>\n\n<pre><code>var obj = {foo: 'bar'};\nvar bar = $merge({}, $obj);\n</code></pre>\n\n<p>although $merge uses $unlink anyway.</p>\n\n<p>p.s. for mootools 1.3 this becomes <code>Object.clone</code></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Crockford suggests (and I prefer) using this function:</p>\n\n<pre><code>function object(o) {\n    function F() {}\n    F.prototype = o;\n    return new F();\n}\n\nvar newObject = object(oldObject);\n</code></pre>\n\n<p>It's terse, works as expected and you don't need a library.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>There seems to be no ideal deep clone operator yet for array-like objects.  As the code below illustrates, John Resig's jQuery cloner turns arrays with non-numeric properties into objects that are not arrays, and RegDwight's JSON cloner drops the non-numeric properties. The following tests illustrate these points on multiple browsers:</p>\n\n<pre><code>function jQueryClone(obj) {\n   return jQuery.extend(true, {}, obj)\n}\n\nfunction JSONClone(obj) {\n   return JSON.parse(JSON.stringify(obj))\n}\n\nvar arrayLikeObj = [[1, \"a\", \"b\"], [2, \"b\", \"a\"]];\narrayLikeObj.names = [\"m\", \"n\", \"o\"];\nvar JSONCopy = JSONClone(arrayLikeObj);\nvar jQueryCopy = jQueryClone(arrayLikeObj);\n\nalert(\"Is arrayLikeObj an array instance?\" + (arrayLikeObj instanceof Array) +\n      \"\\nIs the jQueryClone an array instance? \" + (jQueryCopy instanceof Array) +\n      \"\\nWhat are the arrayLikeObj names? \" + arrayLikeObj.names +\n      \"\\nAnd what are the JSONClone names? \" + JSONCopy.names)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Assuming that you have only variables and not any functions in your object, you can  just use:</p>\n\n<pre><code>var newObject = JSON.parse(JSON.stringify(oldObject));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 123
                },
                {
                    "body": "<p>Checkout this benchmark: <a href=\"http://web.archive.org/web/20140328224025/http://jsperf.com/cloning-an-object/2\">http://web.archive.org/web/20140328224025/http://jsperf.com/cloning-an-object/2</a></p>\n\n<p>In my previous tests where speed was a main concern I found <code>JSON.parse(JSON.stringify(obj))</code> to be the fastest way to Deep clone an object (it beats out JQuery.extend with deep flag set true by 10-20%).</p>\n\n<p>JQuery.extend is pretty fast when deep flag is set to false (shallow clone). It is a good option because it includes some extra logic for type validation and doesnt copy over undefined properties, etc. but this will also slow you down a little.</p>\n\n<p>If you know the structure of the objects you are trying to clone or can avoid deep nested arrays you can write a simple <code>for (var i in obj)</code> loop to clone your object while checking hasOwnProperty and it will be much much faster than JQuery. </p>\n\n<p>Lastly if you are attempting to clone a known object structure in a hot loop you can get MUCH MUCH MORE PERFORMANCE by simply in-lining the clone procedure and manually constructing the object. \nJS trace engines suck at optimizing for..in loops and checking hasOwnProperty will slow you down as well. Manual clone when speed is an absolute must.</p>\n\n<pre><code>var clonedObject = {\n  knownProp: obj.knownProp,\n  ..\n}\n</code></pre>\n\n<p>I hope you found this helpful.</p>\n",
                    "is_accepted": false,
                    "score": 600
                },
                {
                    "body": "<p>I think that this is the best solution  if you want to generalize your object cloning algorithm.<br>\nIt can be used with or without jQuery, although I recommend leaving jQuery's extend method out if you want you the cloned object to have the same \"class\" as the original one.</p>\n\n<pre><code>function clone(obj){\n    if(typeof(obj) == 'function')//it's a simple function\n        return obj;\n    //of it's not an object (but could be an array...even if in javascript arrays are objects)\n    if(typeof(obj) !=  'object' || obj.constructor.toString().indexOf('Array')!=-1)\n        if(JSON != undefined)//if we have the JSON obj\n            try{\n                return JSON.parse(JSON.stringify(obj));\n            }catch(err){\n                return JSON.parse('\"'+JSON.stringify(obj)+'\"');\n            }\n        else\n            try{\n                return eval(uneval(obj));\n            }catch(err){\n                return eval('\"'+uneval(obj)+'\"');\n            }\n    // I used to rely on jQuery for this, but the \"extend\" function returns\n    //an object similar to the one cloned,\n    //but that was not an instance (instanceof) of the cloned class\n    /*\n    if(jQuery != undefined)//if we use the jQuery plugin\n        return jQuery.extend(true,{},obj);\n    else//we recursivley clone the object\n    */\n    return (function _clone(obj){\n        if(obj == null || typeof(obj) != 'object')\n            return obj;\n        function temp () {};\n        temp.prototype = obj;\n        var F = new temp;\n        for(var key in obj)\n            F[key] = clone(obj[key]);\n        return F;\n    })(obj);            \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This isn't generally the most efficient solution, but it does what I need. Simple test cases below...</p>\n\n<pre><code>function clone(obj, clones) {\n    // Makes a deep copy of 'obj'. Handles cyclic structures by\n    // tracking cloned obj's in the 'clones' parameter. Functions \n    // are included, but not cloned. Functions members are cloned.\n    var new_obj,\n        already_cloned,\n        t = typeof obj,\n        i = 0,\n        l,\n        pair; \n\n    clones = clones || [];\n\n    if (obj === null) {\n        return obj;\n    }\n\n    if (t === \"object\" || t === \"function\") {\n\n        // check to see if we've already cloned obj\n        for (i = 0, l = clones.length; i &lt; l; i++) {\n            pair = clones[i];\n            if (pair[0] === obj) {\n                already_cloned = pair[1];\n                break;\n            }\n        }\n\n        if (already_cloned) {\n            return already_cloned; \n        } else {\n            if (t === \"object\") { // create new object\n                new_obj = new obj.constructor();\n            } else { // Just use functions as is\n                new_obj = obj;\n            }\n\n            clones.push([obj, new_obj]); // keep track of objects we've cloned\n\n            for (key in obj) { // clone object members\n                if (obj.hasOwnProperty(key)) {\n                    new_obj[key] = clone(obj[key], clones);\n                }\n            }\n        }\n    }\n    return new_obj || obj;\n}\n</code></pre>\n\n<p>Cyclic array test...</p>\n\n<pre><code>a = []\na.push(\"b\", \"c\", a)\naa = clone(a)\naa === a //=&gt; false\naa[2] === a //=&gt; false\naa[2] === a[2] //=&gt; false\naa[2] === aa //=&gt; true\n</code></pre>\n\n<p>Function test...</p>\n\n<pre><code>f = new Function\nf.a = a\nff = clone(f)\nff === f //=&gt; true\nff.a === a //=&gt; false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This is the fastest method I have created that doesn't use the prototype, so it will maintain hasOwnProperty in the new object. The solution is to iterate the top level properties of the original object, make 2 copies, delete each property from the original and then reset the original object and return the new copy. It only has to iterate as many times as top level properties. This saves all the if conditions to check if each property is a function/object/string etc, and doesn't have to iterate each descendant property. The only drawback is that the original object must be supplied with its original created namespace, in order to reset it.</p>\n\n<pre>\ncopyDeleteAndReset:function(namespace,strObjName){\n    var obj = namespace[strObjName],\n    objNew = {},objOrig = {};\n    for(i in obj){\n        if(obj.hasOwnProperty(i)){\n            objNew[i] = objOrig[i] = obj[i];\n            delete obj[i];\n        }\n    }\n    namespace[strObjName] = objOrig;\n    return objNew;\n}\n\nvar namespace = {};\nnamespace.objOrig = {\n    '0':{\n        innerObj:{a:0,b:1,c:2}\n    }\n}\n\nvar objNew = copyDeleteAndReset(namespace,'objOrig');\nobjNew['0'] = 'NEW VALUE';\n\nconsole.log(objNew['0']) === 'NEW VALUE';\nconsole.log(namespace.objOrig['0']) === innerObj:{a:0,b:1,c:2};\n</pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I know this is an old post, but I thought this may be of some help to the next guy who stumbles along.</p>\n\n<p>As long as you don't assign an object to anything it maintains no reference in memory.  So to make an object that you want to share among other objects, you'll have to create a factory like so:</p>\n\n<pre><code>var a = function(){\n    return {\n        father:'zacharias'\n    };\n},\nb = a(),\nc = a();\nc.father = 'johndoe';\nalert(b.father);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>If you're using it, the <a href=\"http://documentcloud.github.com/underscore/\">underscore.js</a> library has a <a href=\"http://documentcloud.github.com/underscore/#clone\">clone</a> method.</p>\n\n<pre><code>var newObject = _.clone(oldObject);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>In YUI you can do Deep object/array copy by </p>\n\n<pre><code>//For Safe clone.. in case where you need to delete items on the cloned objects\nclonedObj = Y.Clone(obj, true); \n\n//For Unsafe clone\nclonedObj = Y.Clone(obj, false); \n</code></pre>\n\n<p><a href=\"https://yuilibrary.com/yui/docs/api/classes/YUI.html#method_clone\" rel=\"nofollow\">More details</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>HTML5 defines a method to create deep clones of objects. It still only works for certain built-in types, but it's more flexible than using JSON. The <a href=\"http://www.w3.org/TR/2012/CR-html5-20121217/infrastructure.html#safe-passing-of-structured-data\">internal structured clone algorithm</a> also supports Dates, RegExps, Files, Blobs, FileLists, ImageDatas, sparse Arrays, types defined in other specification <a href=\"https://www.khronos.org/registry/typedarray/specs/latest/#9\">such as Typed Arrays</a>, and recursive/cyclical structures.</p>\n\n<p>This feature is not yet directly exposed through any API. Below I describe two ways of creating structured clones through other APIs that use them. They both incur overhead that makes them many times slower than using a straightforward JSON copy. A more direct API may be made available in the future.</p>\n\n<hr>\n\n<p><code>history.pushState()</code> and <code>history.replaceState()</code> both create a structured clone of their first argument, and assign that value to <code>history.state</code>. You can use this to create a structured clone of any object like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function structuredClone_replaceState(obj) {\n    var oldState = history.state;\n    history.replaceState(obj, null);\n    var clonedObj = history.state;\n    history.replaceState(oldState, null);\n    return clonedObj;\n}\n</code></pre>\n\n<h3>Example Usage (<a href=\"http://jsfiddle.net/jeremy/ghC5U/22/\">jsfiddle</a>)</h3>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var original = { date: new Date(), number: Math.random() };\noriginal.self = original;\n\nvar clone = structuredClone_replaceState(original);\n\n// They're different objects:\nconsole.log(original !== clone);\nconsole.log(original.date !== clone.date);\n\n// They're cyclical:\nconsole.log(original.self === original);\nconsole.log(clone.self === clone);\n\n// They contain equivalent values:\nconsole.log(original.number === clone.number);\nconsole.log(Number(original.date) === Number(clone.date));\n</code></pre>\n\n<p>Though synchronous, this can be is extremely slow. It incurs all of the overhead associated with manipulating the browser history. Calling this method repeatedly can cause Chrome to become temporarily unresponsive.</p>\n\n<hr>\n\n<p>Calling <a href=\"https://developer.mozilla.org/en/DOM/window.postMessage\"><code>window.postMessage(original)</code></a> triggers an <code>message</code> event on <code>window</code> with a <code>.data</code> property whose value is a structured clone of the <code>original</code>. Here's function which uses this behaviour to asynchronously produce a structured clone of a target object and pass it to your callback. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var pendingCallbacks = {};\n\nwindow.addEventListener('message', function(e) {\n    var cloneId = e.data.cloneId,\n        clonedValue = e.data.value;\n\n    if (e.source === window &amp;&amp; cloneId != null &amp;&amp; cloneId in pendingCallbacks) {\n        var callback = pendingCallbacks[cloneId];\n        delete pendingCallbacks[cloneId];\n        callback(clonedValue);\n    }\n});\n\nvar asyncStructuredClone_windowPostMessage = function(o, callback) {\n    var cloneId = asyncStructuredClone_windowPostMessage.nextCloneId_++;\n    pendingCallbacks[cloneId] = callback;\n    window.postMessage({ value: o, cloneId: cloneId }, '*');\n};\nasyncStructuredClone_windowPostMessage.nextCloneId_ = 0;\n</code></pre>\n\n<h3>Example Usage (<a href=\"http://jsfiddle.net/jeremy/WWN23/9/\">jsfiddle</a>)</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>var original = { date: new Date(), number: Math.random() };\noriginal.self = original;\n\nasyncStructuredClone_windowPostMessage(original, function(clone) {\n    // They're different objects:\n    console.log(original !== clone);\n    console.log(original.date !== clone.date);\n\n    // They're cyclical:\n    console.log(original.self === original);\n    console.log(clone.self === clone);\n\n    // They contain equivalent values:\n    console.log(original.number === clone.number);\n    console.log(Number(original.date) === Number(clone.date));\n});\n</code></pre>\n\n<p>It's possible to do this in a more isolated manner using a <code>new MessageChannel</code> instead of the global <code>window</code>, but so far that's only been implemented in Chrome.</p>\n",
                    "is_accepted": false,
                    "score": 101
                },
                {
                    "body": "<p>Shallow copy one-liner (ECMAScript 5th edition) :</p>\n\n<pre><code>var origin = { foo : {} };\nvar copy = Object.keys(origin).reduce(function(c,k){c[k]=origin[k];return c;},{});\n\nconsole.log(origin, copy);\nconsole.log(origin == copy); // false\nconsole.log(origin.foo == copy.foo); // true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Here is a comprehensive clone() method that can clone any js object. It handles almost all the cases:</p>\n\n<pre><code>function clone(src, deep) {\n\n    var toString = Object.prototype.toString;\n    if(!src &amp;&amp; typeof src != \"object\"){\n        //any non-object ( Boolean, String, Number ), null, undefined, NaN\n        return src;\n    }\n\n    //Honor native/custom clone methods\n    if(src.clone &amp;&amp; toString.call(src.clone) == \"[object Function]\"){\n        return src.clone(deep);\n    }\n\n    //DOM Elements\n    if(src.nodeType &amp;&amp; toString.call(src.cloneNode) == \"[object Function]\"){\n        return src.cloneNode(deep);\n    }\n\n    //Date\n    if(toString.call(src) == \"[object Date]\"){\n        return new Date(src.getTime());\n    }\n\n    //RegExp\n    if(toString.call(src) == \"[object RegExp]\"){\n        return new RegExp(src);\n    }\n\n    //Function\n    if(toString.call(src) == \"[object Function]\"){\n        //Wrap in another method to make sure == is not true;\n        //Note: Huge performance issue due to closures, comment this :)\n        return (function(){\n            src.apply(this, arguments);\n        });\n\n    }\n\n    var ret, index;\n    //Array\n    if(toString.call(src) == \"[object Array]\"){\n        //[].slice(0) would soft clone\n        ret = src.slice();\n        if(deep){\n            index = ret.length;\n            while(index--){\n                ret[index] = clone(ret[index], true);\n            }\n        }\n    }\n    //Object\n    else {\n        ret = src.constructor ? new src.constructor() : {};\n        for (var prop in src) {\n            ret[prop] = deep\n                ? clone(src[prop], true)\n                : src[prop];\n        }\n    }\n\n    return ret;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>There\u2019s a <a href=\"https://github.com/pvorb/node-clone\">library (called \u201cclone\u201d)</a>, that does this quite well. It provides the most complete recursive cloning/copying of arbitrary objects that I know of. It also supports circular references, which is not covered by the other answers, yet.</p>\n\n<p>You can <a href=\"https://npmjs.org/package/clone\">find it on npm</a>, too. It can be used for the browser as well as Node.js.</p>\n\n<p>Here is an example on how to use it:</p>\n\n<p>Install it with</p>\n\n<pre><code>npm install clone\n</code></pre>\n\n<p>or package it with <a href=\"https://github.com/ender-js/Ender\">Ender</a>.</p>\n\n<pre><code>ender build clone [...]\n</code></pre>\n\n<p>You can also download the source code manually.</p>\n\n<p>Then you can use it in your source code.</p>\n\n<pre><code>var clone = require('clone');\n\nvar a = { foo: { bar: 'baz' } };  // inital value of a\nvar b = clone(a);                 // clone a -&gt; b\na.foo.bar = 'foo';                // change a\n\nconsole.log(a);                   // { foo: { bar: 'foo' } }\nconsole.log(b);                   // { foo: { bar: 'baz' } }\n</code></pre>\n\n<p>(Disclaimer: I\u2019m the author of the library.)</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>Here's a version of ConroyP's answer above that works even if the constructor has required parameters:</p>\n\n<pre><code>//If Object.create isn't already defined, we just do the simple shim, without the second argument,\n//since that's all we need here\nvar object_create = Object.create;\nif (typeof object_create !== 'function') {\n    object_create = function(o) {\n        function F() {}\n        F.prototype = o;\n        return new F();\n    };\n}\n\nfunction deepCopy(obj) {\n    if(obj == null || typeof(obj) !== 'object'){\n        return obj;\n    }\n    //make sure the returned object has the same prototype as the original\n    var ret = object_create(obj.constructor.prototype);\n    for(var key in obj){\n        ret[key] = deepCopy(obj[key]);\n    }\n    return ret;\n}\n</code></pre>\n\n<p>This function is also available in my <a href=\"https://github.com/mbrowne/simpleoo.js\">simpleoo</a> library.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here's a more robust version (thanks to Justin McCandless this now supports cyclic references as well):</p>\n\n<pre><code>/**\n * Deep copy an object (make copies of all its object properties, sub-properties, etc.)\n * An improved version of http://keithdevens.com/weblog/archive/2007/Jun/07/javascript.clone\n * that doesn't break if the constructor has required parameters\n * \n * It also borrows some code from http://stackoverflow.com/a/11621004/560114\n */ \nfunction deepCopy(src, /* INTERNAL */ _visited) {\n    if(src == null || typeof(src) !== 'object'){\n        return src;\n    }\n\n    // Initialize the visited objects array if needed\n    // This is used to detect cyclic references\n    if (_visited == undefined){\n        _visited = [];\n    }\n    // Otherwise, ensure src has not already been visited\n    else {\n        var i, len = _visited.length;\n        for (i = 0; i &lt; len; i++) {\n            // If src was already visited, don't try to copy it, just return the reference\n            if (src === _visited[i]) {\n                return src;\n            }\n        }\n    }\n\n    // Add this object to the visited array\n    _visited.push(src);\n\n    //Honor native/custom clone methods\n    if(typeof src.clone == 'function'){\n        return src.clone(true);\n    }\n\n    //Special cases:\n    //Array\n    if (Object.prototype.toString.call(src) == '[object Array]') {\n        //[].slice(0) would soft clone\n        ret = src.slice();\n        var i = ret.length;\n        while (i--){\n            ret[i] = deepCopy(ret[i], _visited);\n        }\n        return ret;\n    }\n    //Date\n    if (src instanceof Date){\n        return new Date(src.getTime());\n    }\n    //RegExp\n    if(src instanceof RegExp){\n        return new RegExp(src);\n    }\n    //DOM Elements\n    if(src.nodeType &amp;&amp; typeof src.cloneNode == 'function'){\n        return src.cloneNode(true);\n    }\n\n    //If we've reached here, we have a regular object, array, or function\n\n    //make sure the returned object has the same prototype as the original\n    var proto = (Object.getPrototypeOf ? Object.getPrototypeOf(src): src.__proto__);\n    if (!proto) {\n        proto = src.constructor.prototype; //this line would probably only be reached by very old browsers \n    }\n    var ret = object_create(proto);\n\n    for(var key in src){\n        //Note: this does NOT preserve ES5 property attributes like 'writable', 'enumerable', etc.\n        //For an example of how this could be modified to do so, see the singleMixin() function\n        ret[key] = deepCopy(src[key], _visited);\n    }\n    return ret;\n}\n\n//If Object.create isn't already defined, we just do the simple shim, without the second argument,\n//since that's all we need here\nvar object_create = Object.create;\nif (typeof object_create !== 'function') {\n    object_create = function(o) {\n        function F() {}\n        F.prototype = o;\n        return new F();\n    };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>I have two good answers depending on whether your objective is to clone a \"plain old javascript object\" or not.</p>\n\n<p>Let's also assume that your intention is to create a complete clone with no prototype references back to the source object.  If you're not interested in a complete clone, then you can use many of the Object.clone() routines provided in some of the other answers (Crockford's pattern).</p>\n\n<p>For plain old JavaScript objects, a tried and true good way to clone an object in modern runtimes is quite simply:</p>\n\n<pre><code>var clone = JSON.parse(JSON.stringify(obj));\n</code></pre>\n\n<p>Note that the source object must be a pure JSON object.  This is to say, all of its nested properties must be scalars (like boolean, string, array, object, etc).  Any functions or special objects like RegExp or Date will not be cloned.</p>\n\n<p>Is it efficient?  Heck yes.  We've tried all kinds of cloning methods and this works best.  I'm sure some ninja could conjure up a faster method.  But I suspect we're talking about marginal gains.</p>\n\n<p>This approach is just simple and easy to implement.  Wrap it into a convenience function and if you really need to squeeze out some gain, go for at a later time.</p>\n\n<p>Now, for non-plain JavaScript objects, there isn't a really simple answer.  In fact, there can't be because of the dynamic nature of JavaScript functions and inner object state.  Deep cloning a JSON structure with functions inside requires you recreate those functions and their inner context.  And JavaScript simply doesn't have a standardized way of doing that.</p>\n\n<p>The correct way to do this, once again, is via a convenience method that you declare and reuse within your code.  The convenience method can be endowed with some understanding of your own objects so you can make sure to properly recreate the graph within the new object.</p>\n\n<p>We're written our own but the best general approach I've seen is covered here:</p>\n\n<p><a href=\"http://davidwalsh.name/javascript-clone\">http://davidwalsh.name/javascript-clone</a></p>\n\n<p>This is the right idea.  The author (David Walsh) has commented out the cloning of generalized functions.  This is something you might choose to do, depending on your use case.</p>\n\n<p>The main idea is that you need to special handle the instantiation of your functions (or prototypal classes, so to speak) on a per-type basis.  Here, he's provided a few examples for RegExp and Date.</p>\n\n<p>Not only is this code brief but it's also very readable.  It's pretty easy to extend.</p>\n\n<p>Is this efficient?  Heck yes.  Given that the goal is to produce a true deep-copy clone, then you're going to have to walk the members of the source object graph.  With this approach, you can tweak exactly which child members to treat and how to manually handle custom types.</p>\n\n<p>So there you go.  Two approaches.  Both efficient in my view.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Lodash has a nice _.cloneDeep method: <a href=\"http://lodash.com/docs#cloneDeep\">http://lodash.com/docs#cloneDeep</a></p>\n\n<p>The usual _.clone method also accepts a second parameter to make a deep copy instead of the shallow one: <a href=\"http://lodash.com/docs#clone\">http://lodash.com/docs#clone</a></p>\n\n<pre><code>_.clone(value [, deep=false, callback, thisArg])\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I wasn't satisfied with any of the existing solutions, so I wrote my own.  Here's a simplified version made just for StackOverflow.  It's untested in its current form, so I'd appreciate some reports on its functionality.</p>\n\n<p>It's a bit long, so here's a link to it on <a href=\"https://gist.github.com/Zenexer/5916772\" rel=\"nofollow\">gist</a>.</p>\n\n<p>It supports both shallow cloning and deep cloning:</p>\n\n<pre><code>Object.clone({ }); // Shallow\nObject.clone({ }, true); // Deep\n</code></pre>\n\n<p>It can attach to <code>Object.prototype</code>, provided ECMA 5 support for <code>Object.defineProperty</code> is present:</p>\n\n<pre><code>({ }).clone();\n// ...is the same as...\nObject.clone({ });\n</code></pre>\n\n<p>It will also avoid cloning functions while deep cloning unless you tell it to, because generally, you don't want to do that.  However, if you pass it a function directly, it will assume that you are doing what you mean to be doing, and will clone the function as requested.  Note that functions will still appear in clones: they will just be the same instances as those in the original.  This avoids duplicating types/constructors, which is probably not what you want to do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There are a lot of answers, but none of them gave the desired effect I needed.  I wanted to utilize the power of jQuery's deep copy... However, when it runs into an array, it simply copies the reference to the array and deep copies the items in it.  To get around this, I made a nice little recursive function that will create a new array automatically.  </p>\n\n<p>(It even checks for kendo.data.ObservableArray if you want it to!  Though, make sure you make sure you call kendo.observable(newItem) if you want the Arrays to be observable again.) </p>\n\n<p>So, to fully copy an existing item, you just do this:</p>\n\n<pre><code>var newItem = jQuery.extend(true, {}, oldItem);\ncreateNewArrays(newItem);\n\n\nfunction createNewArrays(obj) {\n    for (var prop in obj) {\n        if ((kendo != null &amp;&amp; obj[prop] instanceof kendo.data.ObservableArray) || obj[prop] instanceof Array) {\n            var copy = [];\n            $.each(obj[prop], function (i, item) {\n                var newChild = $.extend(true, {}, item);\n                createNewArrays(newChild);\n                copy.push(newChild);\n            });\n            obj[prop] = copy;\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In AngularJS:</p>\n\n<pre><code>angular.copy(source[, destination]);\n</code></pre>\n\n<p><a href=\"http://docs.angularjs.org/api/angular.copy\">http://docs.angularjs.org/api/angular.copy</a></p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>ExtJs has a method to clone objects too:</p>\n\n<pre><code>var newObject = Ext.apply({}, oldObject);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I usually use <code>var newObj = JSON.parse( JSON.stringify(oldObje) );</code> but, here's a more proper way:</p>\n\n<pre><code>var o = {};\n\nvar oo = Object.create(o);\n\n(o === oo); // =&gt; false\n</code></pre>\n\n<p>Watch legacy browsers!</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is my version of object cloner. This is a standalone version of the jQuery method, with only few tweaks and adjustments. Check out the <a href=\"http://jsfiddle.net/eyYJB/\" rel=\"nofollow\">fiddle</a>. I've used a lot jQuery until the day I realized that I'd use only this function most of the time x_x. </p>\n\n<p>The usage is the same as described into the jQuery API : </p>\n\n<ul>\n<li>Non deep clone : <code>extend(object_dest, object_source);</code></li>\n<li>Deep clone <code>extend(true, object_dest, object_source);</code></li>\n</ul>\n\n<p>One extra function is used to define if object is proper to be cloned.</p>\n\n<pre><code>/**\n * This is a quasi clone of jQuery's extend() function.\n * by Romain WEEGER for wJs library - www.wexample.com\n * @returns {*|{}}\n */\nfunction extend() {\n    // Make a copy of arguments to avoid JS inspector hints.\n    var to_add, name, copy_is_array, clone,\n    // The target object who receive parameters\n    // form other objects.\n            target = arguments[0] || {},\n    // Index of first argument to mix to target.\n            i = 1,\n    // Mix target with all function arguments.\n            length = arguments.length,\n    // Define if we merge object recursively.\n            deep = false;\n\n    // Handle a deep copy situation.\n    if (typeof target === 'boolean') {\n        deep = target;\n        // Skip the boolean and the target.\n        target = arguments[ i ] || {};\n        // Use next object as first added.\n        i++;\n    }\n\n    // Handle case when target is a string or something (possible in deep copy)\n    if (typeof target !== 'object' &amp;&amp; typeof target !== 'function') {\n        target = {};\n    }\n\n    // Loop trough arguments.\n    for (false; i &lt; length; i += 1) {\n        // Only deal with non-null/undefined values\n        if ((to_add = arguments[ i ]) !== null) {\n            // Extend the base object.\n            for (name in to_add) {\n                // We do not wrap for loop into hasOwnProperty,\n                // to access to all values of object.\n                // Prevent never-ending loop.\n                if (target === to_add[name]) {\n                    continue;\n                }\n                // Recurse if we're merging plain objects or arrays.\n                if (deep &amp;&amp; to_add[name] &amp;&amp; (is_plain_object(to_add[name]) || (copy_is_array = Array.isArray(to_add[name])))) {\n                    if (copy_is_array) {\n                        copy_is_array = false;\n                        clone = target[name] &amp;&amp; Array.isArray(target[name]) ? target[name] : [];\n                    }\n                    else {\n                        clone = target[name] &amp;&amp; is_plain_object(target[name]) ? target[name] : {};\n                    }\n                    // Never move original objects, clone them.\n                    target[name] = extend(deep, clone, to_add[name]);\n                }\n                // Don't bring in undefined values.\n                else if (to_add[name] !== undefined) {\n                    target[name] = to_add[name];\n                }\n            }\n        }\n    }\n    return target;\n}\n\n/**\n * Check to see if an object is a plain object\n * (created using \"{}\" or \"new Object\").\n * Forked from jQuery.\n * @param obj\n * @returns {boolean}\n */\nfunction is_plain_object(obj) {\n    // Not plain objects:\n    // - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n    // - DOM nodes\n    // - window\n    if (obj === null || typeof obj !== \"object\" || obj.nodeType || (obj !== null &amp;&amp; obj === obj.window)) {\n        return false;\n    }\n    // Support: Firefox &lt;20\n    // The try/catch suppresses exceptions thrown when attempting to access\n    // the \"constructor\" property of certain host objects, ie. |window.location|\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=814622\n    try {\n        if (obj.constructor &amp;&amp; !this.hasOwnProperty.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n    } catch (e) {\n        return false;\n    }\n    // If the function hasn't returned already, we're confident that\n    // |obj| is a plain object, created by {} or constructed with new Object\n    return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var a = { foo: 'bar' }\nvar b = JSON.parse( JSON.stringify( a ) );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>in Knockout you can do <code>ko.toJS()</code> which converts observables to properties.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>For future reference, the current draft of Ecmascript 6 introduces <a href=\"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign\" rel=\"nofollow\">Object.assign</a> as a way of cloning objects. Example code would be:</p>\n\n<pre><code>var obj1 = { a: true, b: 1 };\nvar obj2 = Object.assign(obj1);\nconsole.log(obj2); // { a: true, b: 1 }\n</code></pre>\n\n<p>At the time of writing <a href=\"http://kangax.github.io/compat-table/es6/#Object.assign\" rel=\"nofollow\">support is limited to Firefox 34 in browsers</a> so it\u2019s not usuable in production code just yet (unless you\u2019re writing a Firefox extension of course).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you're using NodeJS or <a href=\"http://browserify.org/\" rel=\"nofollow\">Browserify</a> there's a nifty little <a href=\"https://www.npmjs.org/package/clone\" rel=\"nofollow\"><code>clone</code></a> library you can use without having to get tied to a big monolithic lib like jQuery, Underscore, or the likes.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>Deep copy by performance:</strong><br>\nRanked from best to worst</p>\n\n<ul>\n<li>Reassignment \"=\" (for string / number arrays only)</li>\n<li>Slice (for string / number arrays only)</li>\n<li>Concat (for string / number arrays only)</li>\n<li>Custom For-loop Copy</li>\n<li>Object.assign</li>\n<li>$.extend</li>\n<li>JSON.parse</li>\n<li>_.extend()</li>\n<li>_.cloneDeep()</li>\n</ul>\n\n<p><strong>Deep copy an array of strings or numbers:</strong></p>\n\n<p>When an array contains numbers and strings - functions like .slice(), .concat(), .splice(), and the assignment operator \"=\"; will make a deep copy of the array's elements.</p>\n\n<p>Where reassignment has the fastest performance:</p>\n\n<pre><code>var arr1 = ['a', 'b', 'c'];\nvar arr2 = arr1;\narr1 = ['a', 'b', 'c'];\n</code></pre>\n\n<p>And .slice() has better performance than .concat()<br>\n<a href=\"http://jsperf.com/duplicate-array-slice-vs-concat/3\" rel=\"nofollow\">http://jsperf.com/duplicate-array-slice-vs-concat/3</a></p>\n\n<pre><code>var arr1 = ['a', 'b', 'c'];  // Becomes arr1 = ['a', 'b', 'c']\nvar arr2a = arr1.slice(0);   // Becomes arr2a = ['a', 'b', 'c'] - deep copy\nvar arr2b = arr1.concat();   // Becomes arr2b = ['a', 'b', 'c'] - deep copy\n</code></pre>\n\n<p><strong>Deep copy an array of objects:</strong> </p>\n\n<pre><code>var arr1 = [{object:'a'}, {object:'b'}];\n</code></pre>\n\n<p>Write a custom function: (has faster performance than $.extend() or JSON.parse)</p>\n\n<pre><code>function copy(o) {\n   var out, v, key;\n   out = Array.isArray(o) ? [] : {};\n   for (key in o) {\n       v = o[key];\n       out[key] = (typeof v === \"object\") ? copy(v) : v;\n   }\n   return out;\n}\n\ncopy(arr1);\n</code></pre>\n\n<p>Use native solutions:</p>\n\n<pre><code>Object.assign(arr1) // Ecmascript 6\n</code></pre>\n\n<p>Use 3rd-party utility functions:</p>\n\n<pre><code>JSON.parse(JSON.stringify(arr1)); // Native\n$.extend(true, [], arr1); // Jquery Extend\n_.extend(arr1); // Underscore\n_.cloneDeep(arr1); // Lo-dash\n</code></pre>\n\n<p>Where Jquery's $.extend has better performance:<br>\n<a href=\"http://jsperf.com/js-deep-copy/2\" rel=\"nofollow\">http://jsperf.com/js-deep-copy/2</a><br>\n<a href=\"http://jsperf.com/jquery-extend-vs-json-parse/2\" rel=\"nofollow\">http://jsperf.com/jquery-extend-vs-json-parse/2</a>  </p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>What is the most efficient way to clone a JavaScript object? I've seen <code>obj = eval(uneval(o));</code> being used, but that's currently Firefox-only. In Mootools 1.2, I've done things like <code>obj = JSON.decode(JSON.encode(o));</code> but question the efficiency.</p>\n\n<p>I've also seen recursive copying functions with various flaws. I'm surprised no canonical solution exists.</p>\n",
            "last_activity_date": 1417511115,
            "question_id": 122102,
            "score": 1943,
            "tags": [
                "javascript",
                "object",
                "clone"
            ],
            "title": "What is the most efficient way to clone an object?"
        },
        {
            "answer_count": 40,
            "answers": [
                {
                    "body": "<p>JavaScript can match a regular expression:</p>\n\n<pre><code>emailAddress.match( / some_regex /);\n</code></pre>\n\n<p>Here's an <a href=\"http://tools.ietf.org/html/rfc22\" rel=\"nofollow\">RFC22</a> regular expression for emails:</p>\n\n<pre><code>^((?&gt;[a-zA-Z\\d!#$%&amp;'*+\\-/=?^_`{|}~]+\\x20*|\"((?=[\\x01-\\x7f])[^\"\\\\]|\\\\[\\x01-\\x7f])*\n\"\\x20*)*(?&lt;angle&gt;&lt;))?((?!\\.)(?&gt;\\.?[a-zA-Z\\d!#$%&amp;'*+\\-/=?^_`{|}~]+)+|\"((?=[\\x01-\\x\n7f])[^\"\\\\]|\\\\[\\x01-\\x7f])*\")@(((?!-)[a-zA-Z\\d\\-]+(?&lt;!-)\\.)+[a-zA-Z]{2,}|\\[(((?(?&lt;\n!\\[)\\.)(25[0-5]|2[0-4]\\d|[01]?\\d?\\d)){4}|[a-zA-Z\\d\\-]*[a-zA-Z\\d]:((?=[\\x01-\\x7f])\n[^\\\\\\[\\]]|\\\\[\\x01-\\x7f])+)\\])(?(angle)&gt;)$\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Using <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow\">regular expressions</a> is probably the best way. Here's an example (<a href=\"http://jsbin.com/ozeyag/19\" rel=\"nofollow\">live demo</a>):</p>\n\n<pre><code>function validateEmail(email) {\n    var re = /^(([^&lt;&gt;()[\\]\\\\.,;:\\s@\"]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n</code></pre>\n\n<p>But keep in mind that one should not rely only upon JavaScript validation. JavaScript can  easily be disabled. This should be validated on the server side as well.</p>\n",
                    "is_accepted": true,
                    "score": 1334
                },
                {
                    "body": "<p>Wow, there are lots of complexity here. If all you want to do is just catch the most obvious syntax errors, I would do something like this:</p>\n\n<pre><code>\\S+@\\S+\n</code></pre>\n\n<p>It usually catches the most obvious errors that the user makes and assures that the form is mostly right, which is what JavaScript validation is all about.</p>\n",
                    "is_accepted": false,
                    "score": 136
                },
                {
                    "body": "<p>There's something you have to understand the second you decide to use a regular expression to validate emails: <a href=\"http://ex-parrot.com/~pdw/Mail-RFC822-Address.html\">It's probably not a good idea</a>. Once you have come to terms with that, there are many implementations out there that can get you halfway there, <a href=\"http://www.regular-expressions.info/email.html\">this article sums them up nicely.</a></p>\n\n<p>In short, however, the only way to be absolutely, positively sure that what the user entered is in fact an email is to actually send an email and see what happens. Other than that it's all just guesses.</p>\n",
                    "is_accepted": false,
                    "score": 180
                },
                {
                    "body": "<p>This was stolen from <a href=\"http://codesnippets.joyent.com/posts/show/1917\">http://codesnippets.joyent.com/posts/show/1917</a></p>\n\n<pre><code>email = $('email');\nfilter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\nif (filter.test(email.value)) {\n  // Yay! valid\n  return true;\n}\nelse\n  {return false;}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Following regular expression:</p>\n\n<pre><code>/^([\\w]+)(.[\\w]+)*@([\\w]+)(.[\\w]{2,3}){1,2}$/;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -6
                },
                {
                    "body": "<p>It's hard to get an email validator 100% correct. The only really way to get it correct would be to send a test email to the account. That said, there are a few basic checks that can help make sure that you're getting something reasonable.</p>\n\n<p>Some things to improve:</p>\n\n<p>Instead of new RegExp, just try writing the regexp out like this:</p>\n\n<pre><code>if (reg.test(/@/))\n</code></pre>\n\n<p>Second, check to make sure that a period comes after the @ sign, and make sure that there are characters between the @s and periods. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Just for completeness, <a href=\"http://www.regular-expressions.info/email.html\">here you have another RFC 2822 compliant regex</a></p>\n\n<blockquote>\n  <p>The official standard is known as <a href=\"https://tools.ietf.org/html/rfc2822#section-3.4.1\">RFC 2822</a>. It describes the syntax that valid email addresses must adhere to. You can (<strong>but you shouldn't</strong> &mdash; <a href=\"http://www.regular-expressions.info/email.html\">read on</a>) implement it with this regular expression:</p>\n  \n  <p><code>(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])</code></p>\n  \n  <p>(...) We get a more practical implementation of RFC 2822 if we omit the syntax using double quotes and square brackets. <strong>It will still match 99.99% of all email addresses in actual use today.</strong></p>\n  \n  <p><code>[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?</code></p>\n  \n  <p>A further change you could make is to allow any two-letter country code top level domain, and only specific generic top level domains. <strong>This regex filters dummy email addresses like <code>asdf@adsf.adsf</code></strong>. You <strong>will need to update it as new top-level domains are added</strong>.</p>\n  \n  <p><code>[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\\b</code></p>\n  \n  <p>So even when following official standards, there are still trade-offs to be made. <strong><em>Don't blindly copy regular expressions from online libraries or discussion forums. Always test them on your own data and with your own applications.</em></strong></p>\n</blockquote>\n\n<p><sub>Emphasis mine</sub></p>\n",
                    "is_accepted": false,
                    "score": 199
                },
                {
                    "body": "<p>Here is a very good discussion about using regular expressions to validate email addresses; \"<a href=\"http://fightingforalostcause.net/misc/2006/compare-email-regex.php\" rel=\"nofollow\">Comparing E-mail Address Validating Regular Expressions</a>\"</p>\n\n<p>Here is the current top expression, that is JavaScript compatible, for reference purposes:</p>\n\n<pre><code>/^[-a-z0-9~!$%^&amp;*_=+}{\\'?]+(\\.[-a-z0-9~!$%^&amp;*_=+}{\\'?]+)*@([a-z0-9_][-a-z0-9_]*(\\.[-a-z0-9_]+)*\\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$/i\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Apparently, that's it:</p>\n\n<pre><code>/^([\\w\\!\\#$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`{\\|\\}\\~]+\\.)*[\\w\\!\\#$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`{\\|\\}\\~]+@((((([a-z0-9]{1}[a-z0-9\\-]{0,62}[a-z0-9]{1})|[a-z])\\.)+[a-z]{2,6})|(\\d{1,3}\\.){3}\\d{1,3}(\\:\\d{1,5})?)$/i\n</code></pre>\n\n<p>Taken from <a href=\"http://fightingforalostcause.net/misc/2006/compare-email-regex.php\" rel=\"nofollow\">http://fightingforalostcause.net/misc/2006/compare-email-regex.php</a> on Oct 1 '10.</p>\n\n<p>But, of course, that's ignoring internationalization.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Correct validation of email address in compliance with the RFCs is not something that can be achieved with a one-liner regular expression. An article with the best solution I've found in PHP is <em><a href=\"http://www.dominicsayers.com/isemail/\" rel=\"nofollow\">What is a valid email address?</a></em>. Obviously, it has been ported to Java. I think the function is too complex to be ported and used in JavaScript.</p>\n\n<p>A good practice is to validate your data on the client, but double-check the validation on the server. With this in mind, you can simply check whether a string looks like a valid email address on the client and perform the strict check on the server.</p>\n\n<p>Here's the JavaScript function I use to check if a string looks like a valid mail address:</p>\n\n<pre><code>function looksLikeMail(str) {\n    var lastAtPos = str.lastIndexOf('@');\n    var lastDotPos = str.lastIndexOf('.');\n    return (lastAtPos &lt; lastDotPos &amp;&amp; lastAtPos &gt; 0 &amp;&amp; str.indexOf('@@') == -1 &amp;&amp; lastDotPos &gt; 2 &amp;&amp; (str.length - lastDotPos) &gt; 2);\n}\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><p><code>lastAtPos &lt; lastDotPos</code>: Last <code>@</code> should be before last <code>.</code> since <code>@</code> cannot be part of server name (as far as I know).</p></li>\n<li><p><code>lastAtPos &gt; 0</code>: There should be something (the email username) before the last <code>@</code>.</p></li>\n<li><p><code>str.indexOf('@@') == -1</code>: There should be no <code>@@</code> in the address. Even if <code>@</code> appears as the last character in email username, it has to be quoted so <code>\"</code> would be between that <code>@</code> and the last <code>@</code> in the address.</p></li>\n<li><p><code>lastDotPos &gt; 2</code>: There should be at least three characters before the last dot, for example <code>a@b.com</code>.</p></li>\n<li><p><code>(str.length - lastDotPos) &gt; 2</code>: There should be enough characters after the last dot to form a two-character domain. I'm not sure if the brackets are necessary.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>Don't validate, just send a confirmation email instead.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>HTML5 itself has email validation. If your browser supports HTML5 then you can use the following code.</p>\n\n<pre><code>&lt;form&gt;&lt;input type=\"email\" placeholder=\"me@example.com\"&gt;\n    &lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/anoop26667/KDpjt/\">jsFiddle</a> link</p>\n",
                    "is_accepted": false,
                    "score": 38
                },
                {
                    "body": "<p>You should not use regular expressions to validate an input string to check if it's an email. It's too complicated and would not cover all the cases.</p>\n\n<p>Now since you can only cover 90% of the cases, write something like:</p>\n\n<pre><code>function isPossiblyValidEmail(txt) {\n   return txt.length &gt; 5 &amp;&amp; txt.indexOf('@')&gt;0;\n}\n</code></pre>\n\n<p>You can refine it. For instance, 'aaa@' is valid. But overall you get the gist. And don't get carried away... A simple 90% solution is better than 100% solution that does not work. </p>\n\n<p>The world needs simpler code...</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I've slightly modified Jaymon's answer for people who want really simple validation in the form of:</p>\n\n<p>anystring@anystring.anystring</p>\n\n<p>The regular expression:</p>\n\n<pre><code>/\\S+@\\S+\\.\\S+/\n</code></pre>\n\n<p>Example JavaScript function:</p>\n\n<pre><code>function validateEmail(email) \n{\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 174
                },
                {
                    "body": "<p>In contrast to <em>squirtle</em>, here is a complex solution, but it does a mighty fine job of validating emails properly:</p>\n\n<pre><code>function isEmail(email) { \n    return /^((([a-z]|\\d|[!#\\$%&amp;'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&amp;'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i.test(email);\n} \n</code></pre>\n\n<p>Use like so:<br><br></p>\n\n<pre><code>if (isEmail('youremail@yourdomain.com') == true){ console.log('This is email is valid'); }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Sectrean's solution works great, but it was failing my <a href=\"https://en.wikipedia.org/wiki/Lint_%28software%29\" rel=\"nofollow\">linter</a>. So I added some escapes:</p>\n\n<pre><code>function validateEmail(email){ \n     var re = /^(([^&lt;&gt;()[]\\\\.,;:\\s@\\\"]+(\\.[^&lt;&gt;()[]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([[0-9]{1,3}\\\u200c\u200b.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; \n     return re.test(email); \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function validateEmail(elementValue){        \n    var emailPattern = /^[a-zA-Z0-9._]+[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[a-zA-Z]{2,4}$/;  \n    return emailPattern.test(elementValue);   \n  }   \n</code></pre>\n\n<p>It returns true if the email address is valid. Otherwise, it will return false.</p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>Do this (case insensitive)</p>\n\n<pre><code>[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\n</code></pre>\n\n<p>Why?  It's based on RFC 2822, which is a standard ALL email addresses MUST adhere to.</p>\n\n<p>Here's an example of it being use in JavaScript</p>\n\n<pre><code>var emailCheck=/^[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\nconsole.log( emailCheck.test('some.body@domain.co.uk') );\n</code></pre>\n\n<p>Note: Technically some emails can include quotes in the section before the @ symbol with escape characters inside the quotes (so you're email user can be obnoxious and contain stuff like @ and \"... as long as it's written in quotes) NOBODY DOES THIS EVER. It's obsolete. But, it IS included in the true RFC 2822 standard, and omitted here.</p>\n\n<p>More info: <a href=\"http://www.regular-expressions.info/email.html\">http://www.regular-expressions.info/email.html</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>In modern browsers you can build on top of @Sushil's answer with pure JavaScript and the <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a>:</p>\n\n<pre><code>function validateEmail(value) {\n  var input = document.createElement('input');\n\n  input.type = 'email';\n  input.value = value;\n\n  return input.checkValidity();\n}\n</code></pre>\n\n<p>I've put together an example in the fiddle <a href=\"http://jsfiddle.net/boldewyn/2b6d5/\">http://jsfiddle.net/boldewyn/2b6d5/</a>. If you combine this with a <a href=\"https://en.wikipedia.org/wiki/Modernizr\">Modernizr</a> feature detection, it frees you from the regular expression massacre.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<pre><code>&lt;form name=\"validation\" onSubmit=\"return checkbae()\"&gt;\n    Please input a valid email address:&lt;br /&gt;\n\n    &lt;input type=\"text\" size=18 name=\"emailcheck\"&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n\n&lt;script language=\"JavaScript1.2\"&gt;\n    var testresults\n    function checkemail(){\n        var str = document.validation.emailcheck.value\n        var filter = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i\n        if (filter.test(str))\n            testresults = true\n        else {\n            alert(\"Please input a valid email address!\")\n            testresults = false\n        }\n        return (testresults)\n    }\n&lt;/script&gt;\n\n&lt;script&gt;\n    function checkbae(){\n        if (document.layers || document.getElementById || document.all)\n            return checkemail()\n        else\n            return true\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>My knowledge of <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow\">regular expressions</a> is not that good. That's why I check the general syntax with a simple regular expression first and check more specific options with other functions afterwards. This may not be not the best technical solution, but this way I'm way more flexible and faster.</p>\n\n<p>The most common errors I've come across are spaces (especially at the beginning and end) and occasionally a double dot.</p>\n\n<pre><code>function check_email(val){\n    if(!val.match(/\\S+@\\S+\\.\\S+/)){ // Jaymon's / Squirtle's solution\n        // Do something\n        return false;\n    }\n    if( val.indexOf(' ')!=-1 || val.indexOf('..')!=-1){\n        // Do something\n        return false;\n    }\n    return true;\n}\n\ncheck_email('check@thiscom'); // Returns false\ncheck_email('check@this..com'); // Returns false\ncheck_email(' check@this.com'); // Returns false\ncheck_email('check@this.com'); // Returns true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is the correct RFC822 version.</p>\n\n<pre><code>function checkEmail(emailAddress) {\n  var sQtext = '[^\\\\x0d\\\\x22\\\\x5c\\\\x80-\\\\xff]';\n  var sDtext = '[^\\\\x0d\\\\x5b-\\\\x5d\\\\x80-\\\\xff]';\n  var sAtom = '[^\\\\x00-\\\\x20\\\\x22\\\\x28\\\\x29\\\\x2c\\\\x2e\\\\x3a-\\\\x3c\\\\x3e\\\\x40\\\\x5b-\\\\x5d\\\\x7f-\\\\xff]+';\n  var sQuotedPair = '\\\\x5c[\\\\x00-\\\\x7f]';\n  var sDomainLiteral = '\\\\x5b(' + sDtext + '|' + sQuotedPair + ')*\\\\x5d';\n  var sQuotedString = '\\\\x22(' + sQtext + '|' + sQuotedPair + ')*\\\\x22';\n  var sDomain_ref = sAtom;\n  var sSubDomain = '(' + sDomain_ref + '|' + sDomainLiteral + ')';\n  var sWord = '(' + sAtom + '|' + sQuotedString + ')';\n  var sDomain = sSubDomain + '(\\\\x2e' + sSubDomain + ')*';\n  var sLocalPart = sWord + '(\\\\x2e' + sWord + ')*';\n  var sAddrSpec = sLocalPart + '\\\\x40' + sDomain; // complete RFC822 email address spec\n  var sValidEmail = '^' + sAddrSpec + '$'; // as whole string\n\n  var reValidEmail = new RegExp(sValidEmail);\n\n  return reValidEmail.test(emailAddress);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Simply check out if the entered email address is valid or not using HTML.</p>\n\n<pre><code>&lt;input type=\"email\"/&gt;\n</code></pre>\n\n<p>There isn't any need to write a function for validation.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>All email addresses contain an 'at' symbol. Test that necessary condition</p>\n\n<pre><code>email.indexOf(\"@\") &gt; 0\n</code></pre>\n\n<p>Don't bother with anything more complicated. Even if you could perfectly determine whether an email is RFC-syntactically valid, that wouldn't tell you whether it belongs to the person who supplied it. That's what really matters.</p>\n\n<p>To test that, send a validation message.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>If you're using Closure you can use the built-in <code>goog.format.EmailAddress</code> type:</p>\n\n<p><a href=\"http://docs.closure-library.googlecode.com/git/class_goog_format_EmailAddress.html\" rel=\"nofollow\">http://docs.closure-library.googlecode.com/git/class_goog_format_EmailAddress.html</a></p>\n\n<p>For example:</p>\n\n<pre><code>goog.format.EmailAddress.isValidAddrSpec(\"blah@blah.com\")\n</code></pre>\n\n<p>Note that by reading the source (linked above) you can see the comments state that IDN are not supported and that it only aims to cover <em>most</em> addresses:</p>\n\n<pre><code>// This is a fairly naive implementation, but it covers 99% of use cases.\n// For more details, see http://en.wikipedia.org/wiki/Email_address#Syntax\n// TODO(mariakhomenko): we should also be handling i18n domain names as per\n// http://en.wikipedia.org/wiki/Internationalized_domain_name\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is how <a href=\"https://github.com/chriso/validator.js\" rel=\"nofollow\">node-validator</a> do it:</p>\n\n<pre><code>/^(?:[\\w\\!\\#\\$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><a href=\"http://en.wikipedia.org/wiki/W3Schools\" rel=\"nofollow\">W3Schools</a> gives a good simple and efficient script to validate an email:  </p>\n\n<pre><code>function validateEmail(email) {\n    var atpos=email.indexOf(\"@\");\n    var dotpos=email.lastIndexOf(\".\");\n    if (atpos &lt; 1 || dotpos &lt; atpos+2 || dotpos+2 &gt;= email.length) {\n        alert(\"Not a valid e-mail address\");\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>Note that you will have to remove spaces if there are any though, with something like this:</p>\n\n<pre><code>.replace(/ /g,'')\n</code></pre>\n\n<p>Source: <em><a href=\"http://www.w3schools.com/js/js_form_validation.asp\" rel=\"nofollow\">JavaScript Form Validation</a></em></p>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>Use this code inside your validator function:</p>\n\n<pre><code>var emailID = document.forms[\"formName\"][\"form element id\"].value;\n    atpos = emailID.indexOf(\"@\");\n    dotpos = emailID.lastIndexOf(\".\");\n    if (atpos &lt; 1 || ( dotpos - atpos &lt; 2 ))\n    {\n        alert(\"Please enter correct email ID\")\n        return false;\n    }\n</code></pre>\n\n<p>Else you can use <a href=\"http://en.wikipedia.org/wiki/JQuery\" rel=\"nofollow\">jQuery</a>. Inside rules define:</p>\n\n<pre><code>eMailId: {\n    required: true,\n    email: true\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The regular expression provided by Microsoft within <a href=\"http://en.wikipedia.org/wiki/ASP.NET_MVC_Framework\" rel=\"nofollow\">ASP.NET MVC</a> is</p>\n\n<pre><code>/^[\\w-]+(\\.[\\w-]+)*@([a-z0-9-]+(\\.[a-z0-9-]+)*?\\.[a-z]{2,6}|(\\d{1,3}\\.){3}\\d{1,3})(:\\d{4})?$/\n</code></pre>\n\n<p>Which I post here in case it's flawed - though it's always been perfect for my needs.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>&lt;pre&gt;\n**The personal_info part contains the following ASCII characters.\n1.Uppercase (A-Z) and lowercase (a-z) English letters.\n2.Digits (0-9).\n3.Characters ! # $ % &amp; ' * + - / = ? ^ _ ` { | } ~\n4.Character . ( period, dot or fullstop) provided that it is not the first or last character and it will not come one after the other.**\n&lt;/pre&gt;\n*Example of valid email id*\n&lt;pre&gt;\nyoursite@ourearth.com\nmy.ownsite@ourearth.org\nmysite@you.me.net\nxxxx@gmail.com\nxxxxxx@yahoo.com\n&lt;/pre&gt;\n&lt;pre&gt;\nxxxx.ourearth.com [@ is not present] \nxxxx@.com.my [ tld (Top Level domain) can not start with dot \".\" ]\n@you.me.net [ No character before @ ]\nxxxx123@gmail.b [ \".b\" is not a valid tld ]\nxxxx@.org.org [ tld can not start with dot \".\" ]\n.xxxx@mysite.org [ an email should not be start with \".\" ]\nxxxxx()*@gmail.com [ here the regular expression only allows character, digit, underscore and dash ]\nxxxx..1234@yahoo.com [double dots are not allowed\n&lt;/pre&gt;\n**javascript mail code**\n\n    function ValidateEmail(inputText)\n    {\n    var mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if(inputText.value.match(mailformat))\n    {\n    document.form1.text1.focus();\n    return true;\n    }\n    else\n    {\n    alert(\"You have entered an invalid email address!\");\n    document.form1.text1.focus();\n    return false;\n    }\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Very simple in <code>JavaScript</code>. follow this code.</p>\n\n<pre><code>function validate(){\n    var email = document.getElementById('Email');\n    var filter = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\n    if (!filter.test(email.value))\n    {\n        alert('Please Enter the valid email address');\n        email.focus;\n        return false;\n    }\n    else\n{\n        return true;\n    }\n</code></pre>\n\n<p><code>HTML</code> code for this:</p>\n\n<pre><code>form name=\"form\"\n     enctype=\"multipart/form-data\"\n     name=\"form\"\n     action=\"register.php\"\n     method=\"POST\" onsubmit=\"return validate();\" &gt;\n    &lt;input type=\"text\" placeholder=\"Enter ur Email Id\" id=\"Email\" name=\"Email\" /&gt;\n    &lt;input type=\"submit\" id=\"submit\" value=\"save\" name=\"Like\" class=\"button\" /&gt;\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>One of my coworker shared this regex with me. I like it a lot.</p>\n\n<pre><code>function isValidEmailAddress (email) {\n    var validEmail = false;\n    if (email) {\n        email = email.trim().toLowerCase();\n        var pattern = /^[\\w-']+(\\.[\\w-']+)*@([a-zA-Z0-9]+[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*?\\.[a-zA-Z]{2,6}|(\\d{1,3}\\.){3}\\d{1,3})(:\\d{4})?$/;\n        validEmail = pattern.exec(email);\n    }\n\n    return validEmail;\n}\n\nif (typeof String.prototype.trim !== 'function') {\n    String.prototype.trim = function() {\n        return this.replace(/^\\s+|\\s+$/g, '');\n    };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function validatecontactEmail(email) { \n\n if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email))  \n  {  \n    return (true)  \n  }  \n\n    return (false)  \n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is a solid javascript email regular expression (regex) for use with JS: (Used by parsley.js)</p>\n\n<pre><code>/^((([a-z]|\\d|[!#\\$%&amp;'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.\n([a-z]|\\d|[!#\\$%&amp;'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|\n((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|\n[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\n\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*\n(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|\n(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\n\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\n\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\n\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\n\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))){2,6}$/i\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you are using AngularJS, just add <code>type=\"email\"</code> to the input element: <a href=\"https://docs.angularjs.org/api/ng/input/input%5Bemail%5D\" rel=\"nofollow\">https://docs.angularjs.org/api/ng/input/input%5Bemail%5D</a></p>\n\n<p>In case there is no input element, it can be created dynamically:</p>\n\n<pre><code>var isEmail = $compile('&lt;input ng-model=\"m\" type=\"email\"&gt;')($rootScope.$new()).\n    controller('ngModel').$validators[\"email\"];\n\nif (isEmail('email@gmail.com')) {\n  console.log('valid');\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Validation regex for email:</p>\n\n<pre><code>var rex_email = /^(([^&lt;&gt;()[\\]\\\\.,;:\\s@\\\"]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nif(email==\"\") {\n    window.plugins.toast.showShortBottom( \"Please enter the details. \", function(a) {\n        console.log('toast success: ' + a);\n    }, function(b) { });\n} else if(!rex_email.test(email)) {\n    window.plugins.toast.showShortBottom( \"Please enter the valid email id. \", function(a) {\n        console.log('toast success: ' + a);\n    }, function(b) { });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I know its not regex but any way...</p>\n\n<p>This is example with node and npm package <a href=\"https://www.npmjs.com/package/email-existence\" rel=\"nofollow\">email-existence</a> this is ultimate checking if email exist and if its in the right form :)</p>\n\n<p>This will ping the email if its responding if it got no response it will return false or else true.</p>\n\n<pre><code>function doesEmailExist(email) {\n    var emailExistence = require('email-existence');\n    return emailExistence.check(email,function (err,status) {\n            if (status) {\n                return status;\n            }\n            else {\n                throw new Error('Email does not exist');\n            }\n        });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong><em>Following Regex validations:</em></strong></p>\n\n<ul>\n<li><p>No spacial characters before @ </p>\n\n<ul>\n<li>(-) and (.) should not be together\nafter @ No special characters after @ 2 characters must before @\nEmail length should be less 128 characters</li>\n</ul>\n\n<p>function validateEmail(email) {\nvar chrbeforAt = email.substr(0, email.indexOf('@'));\nif (!($.trim(email).length > 127)) {\n    if (chrbeforAt.length >= 2) {\n        var re = /^(([^&lt;>()[]{}'^?\\.,!|//#%<em>-+=&amp;;:\\s@\\\"]+(.[^&lt;>()[]\\.,;:\\s@\\\"]+)</em>)|(\\\".+\\\"))@(?:a-z0-9?.)+a-z0-9?/;\n        //var re = /[a-z0-9!#$%&amp;'<em>+/=?^_<code>{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_</code>{|}~-]+)</em>@(?:a-z0-9?.)+a-z0-9?/;\n        return re.test(email);\n    } else {\n        return false;\n    }\n} else {\n    return false;\n}\n}</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong><em>Following Regex validations:</em></strong></p>\n\n<ul>\n<li>No spacial characters before @ </li>\n<li>(-) and (.) should not be together after @ </li>\n<li>No special characters after @ 2 characters must before @</li>\n<li><p>Email length should be less 128 characters</p>\n\n<pre><code>        function validateEmail(email) {\n            var chrbeforAt = email.substr(0, email.indexOf('@'));\n            if (!($.trim(email).length &gt; 127)) {\n                if (chrbeforAt.length &gt;= 2) {\n                    var re = /^(([^&lt;&gt;()[\\]{}'^?\\\\.,!|//#%*-+=&amp;;:\\s@\\\"]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n                    return re.test(email);\n                } else {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n        }\n</code></pre></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can an email address be validated in JavaScript?</p>\n",
            "last_activity_date": 1425921859,
            "question_id": 46155,
            "score": 1145,
            "tags": [
                "javascript",
                "regex",
                "validation",
                "email",
                "email-validation"
            ],
            "title": "Validate email address in JavaScript?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>There's actually nothing wrong with <code>document.write</code>, per se.  The problem is that it's really easy to misuse it.  Grossly, even.</p>\n\n<p>In terms of vendors supplying analytics code (like Google Analytics) it's actually the easiest way for them to distribute such snippets</p>\n\n<ol>\n<li>It keeps the scripts small</li>\n<li>They don't have to worry about overriding already established onload events or including the necessary abstraction to add onload events safely</li>\n<li>It's extremely compatible</li>\n</ol>\n\n<p>As long as you don't try to use it after the document has loaded, <code>document.write</code> is not inherently evil, in my humble opinion.</p>\n",
                    "is_accepted": false,
                    "score": 81
                },
                {
                    "body": "<p>It overwrites content on the page which is the most obvious reason but I wouldn't call it \"bad\".</p>\n\n<p>It just doesn't have much use unless you're creating an entire document using JavaScript in which case you may start with document.write.</p>\n\n<p>Even so, you aren't really leveraging the DOM when you use document.write--you are just dumping a blob of text into the document so I'd say it's bad form.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I think the biggest problem is that any elements written via document.write are added to the end of the page's elements. That's rarely the desired effect with modern page layouts and AJAX. (you have to keep in mind that the elements in the DOM are temporal, and when the script runs may affect its behavior).</p>\n\n<p>It's much better to set a placeholder element on the page, and then manipulate it's innerHTML.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Off the top of my head:</p>\n\n<ol>\n<li><p><code>document.write</code> needs to be used in the page load or body load.  So if you want to use the script in any other time to update your page content document.write is pretty much useless.</p></li>\n<li><p>Technically <code>document.write</code> will only update HTML pages not XHTML/XML.  IE seems to be pretty forgiving of this fact but other browsers will not be.</p></li>\n</ol>\n\n<p><a href=\"http://www.w3.org/MarkUp/2004/xhtml-faq#docwrite\" rel=\"nofollow\">http://www.w3.org/MarkUp/2004/xhtml-faq#docwrite</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A few of the more serious problems:</p>\n\n<ul>\n<li><p>document.write (henceforth DW) does not work in XHTML</p></li>\n<li><p><strike>DW does not directly modify the DOM, preventing further manipulation</strike> <em>(trying to find evidence of this, but it's at best situational)</em></p></li>\n<li><p>DW executed after the page has finished loading will overwrite the page, or write a new page, or not work</p></li>\n<li><p>DW executes where encountered: it cannot inject at a given node point</p></li>\n<li><p>DW is effectively writing serialised text which is not the way the DOM works conceptually, and is an easy way to create bugs (.innerHTML has the same problem)</p></li>\n</ul>\n\n<p>Far better to use the safe and DOM friendly <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document\">DOM manipulation methods</a></p>\n",
                    "is_accepted": true,
                    "score": 138
                },
                {
                    "body": "<p>It breaks pages using XML rendering (like XHTML pages).</p>\n\n<p><strong>Best</strong>: some browser switch back to HTML rendering and everything works fine. </p>\n\n<p><strong>Probable</strong>: some browser disable the document.write() function in XML rendering mode.</p>\n\n<p><strong>Worst</strong>: some browser will fire an XML error whenever using the document.write() function.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>Pro:</strong></p>\n\n<ul>\n<li>It's the easiest way to embed inline content from an external (to your host/domain) script.</li>\n<li>You can overwrite the entire content in a frame/iframe.  I used to use this technique a lot for menu/navigation pieces before more modern Ajax techniques were widely available (1998-2002).</li>\n</ul>\n\n<p><strong>Con:</strong></p>\n\n<ul>\n<li>It serializes the rendering engine to pause until said external script is loaded, which could take much longer than an internal script.</li>\n<li>It is usually used in such a way that the script is placed within the content, which is considered bad-form.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Here's my twopence worth, in general you shouldn't use <code>document.write</code> for heavy lifting, but there is one instance where it is definitely useful: </p>\n\n<p><a href=\"http://www.quirksmode.org/blog/archives/2005/06/three_javascrip_1.html\" rel=\"nofollow\">http://www.quirksmode.org/blog/archives/2005/06/three_javascrip_1.html</a></p>\n\n<p>I discovered this recently trying to create an AJAX slider gallery. I created two nested divs, and applied <code>width</code>/<code>height</code> and <code>overflow: hidden</code> to the outer <code>&lt;div&gt;</code> with JS. This was so that in the event that the browser had JS disabled, the div would float to accommodate the images in the gallery - some nice graceful degradation. </p>\n\n<p>Thing is, as with the article above, this JS hijacking of the CSS didn't kick in until the page had loaded, causing a momentary flash as the div was loaded. So I needed to write a CSS rule, or include a sheet, as the page loaded. </p>\n\n<p>Obviously, this won't work in XHTML, but since XHTML appears to be something of a dead duck (and renders as tag soup in IE) it might be worth re-evaluating your choice of DOCTYPE...</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>It can block your page</strong></p>\n\n<p><code>document.write</code> only works while the page is loading; If you call it after the page is done loading, it will overwrite the whole page.</p>\n\n<p>This effectively means you have to call it from an inline script block - And that will prevent the browser from processing parts of the page that follow. Scripts and Images will not be downloaded until the writing block is finished.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Another legitimate use of <code>document.write</code> comes from the HTML5 Boilerplate <a href=\"https://github.com/h5bp/html5-boilerplate/blob/master/src/index.html\" rel=\"nofollow\">index.html</a> example.</p>\n\n<pre><code>&lt;!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline --&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;window.jQuery || document.write('&lt;script src=\"js/libs/jquery-1.6.3.min.js\"&gt;&lt;\\/script&gt;')&lt;/script&gt;\n</code></pre>\n\n<p>I've also seen the same technique for using the <a href=\"https://github.com/douglascrockford/JSON-js\" rel=\"nofollow\">json2.js</a> JSON parse/stringify polyfill (<a href=\"http://caniuse.com/#search=JSON\" rel=\"nofollow\">needed by IE7 and below</a>).</p>\n\n<pre><code>&lt;script&gt;window.JSON || document.write('&lt;script src=\"json2.js\"&gt;&lt;\\/script&gt;')&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>One can think of document.write() (and .innerHTML) as evaluating a source code string. This can be very handy for many applications. For example if you get HTML code as a string from some source, it is handy to just \"evaluate\" it.</p>\n\n<p>In the context of Lisp, DOM manipulation would be like manipulating a list structure, e.g. create the list (orange) by doing:</p>\n\n<pre><code>(cons 'orange '())\n</code></pre>\n\n<p>And document.write() would be like evaluating a string, e.g. create a list by evaluating a source code string like this:</p>\n\n<pre><code>(eval-string \"(cons 'orange '())\")\n</code></pre>\n\n<p>Lisp also has the very useful ability to create code using list manipulation (like using the \"DOM style\" to create a JS parse tree). This means you can build up a list structure using the \"DOM style\", rather than the \"string style\", and then run that code, e.g. like this:</p>\n\n<pre><code>(eval '(cons 'orange '()))\n</code></pre>\n\n<p>If you implement coding tools, like simple live editors, it is very handy to have the ability to quickly evaluate a string, for example using document.write() or .innerHTML. Lisp is ideal in this sense, but you can do very cool stuff also in JS, and many people are doing that, like <a href=\"http://jsbin.com/\" rel=\"nofollow\">http://jsbin.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I know <a href=\"https://developer.mozilla.org/en-US/docs/DOM/document.write\"><code>document.write</code></a> is considered bad practice; and I'm hoping to compile a list of reasons to submit to a 3rd party vendor as to why they shouldn't use <code>document.write</code> in implementations of their analytics code.</p>\n\n<p>Please include your reason for claiming <code>document.write</code> as a bad practice below.</p>\n",
            "last_activity_date": 1418869842,
            "question_id": 802854,
            "score": 190,
            "tags": [
                "javascript"
            ],
            "title": "Why is document.write considered a &quot;bad practice&quot;?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In the first example, you simply bind this function to the onclick event:</p>\n\n<pre><code>function() {alert(i);};\n</code></pre>\n\n<p>This means that on the click event js should alert the value of the addlink functions i variable. Its value will be 5 because of the for loop().</p>\n\n<p>In the second example you generate a function to be bound with another function:</p>\n\n<pre><code>function (num) {\n  return function () { alert(num); };\n}\n</code></pre>\n\n<p>This means: if called with a value, return me a function that will alert the input value. E.g. calling <code>function(3)</code> will return <code>function() { alert(3) };</code>.</p>\n\n<p>You call this function with the value i at every iteration, thus you create separate onclick functions for each links.</p>\n\n<p>The point is that in the first example your function contained a variable reference, while in the second one with the help of the outer function you substituted the reference with an actual value. This is called a closure roughly because you \"enclose\" the current value of a variable within your function instead of keeping a reference to it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/643542/doesnt-javascript-support-closures-with-local-variables/643664#643664\">Quoting myself</a> for an explanation of the first example:</p>\n\n<blockquote>\n  <p>JavaScript's scopes are function-level, not block-level, and creating a closure just means that the enclosing scope gets added to the lexical environment of the enclosed function.</p>\n  \n  <p>After the loop terminates, the function-level variable i has the value 5, and that's what the inner function 'sees'.</p>\n</blockquote>\n\n<p>In the second example, for each iteration step the outer function literal will evaluate to a new function object with its own scope and local variable <code>num</code>, whose value is set to the current value of <code>i</code>. As <code>num</code> is never modified, it will stay constant over the lifetime of the closure: The next iteration step doesn't overwrite the old value as the function objects are independant.</p>\n\n<p>Keep in mind that this approach is rather inefficient as two new function objects have to be created for each link. This is unnecessary, as they can easily be shared if you use the DOM node for information storage:</p>\n\n<pre><code>function linkListener() {\n    alert(this.i);\n}\n\nfunction addLinks () {\n    for(var i = 0; i &lt; 5; ++i) {\n        var link = document.createElement('a');\n        link.appendChild(document.createTextNode('Link ' + i));\n        link.i = i;\n        link.onclick = linkListener;\n        document.body.appendChild(link);\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 60
                },
                {
                    "body": "<p>Basically, in the first example you're binding the <code>i</code> inside the <code>onclick</code> handler directly to the <code>i</code> outside the <code>onclick</code> handler.  So when the <code>i</code> outside the <code>onclick</code> handler changes, the <code>i</code> inside the <code>onclick</code> handler changes too.</p>\n\n<p>In the second example, instead of binding it to the <code>num</code> in the <code>onclick</code> handler, you're passing it into a function, which then binds it to the <code>num</code> in the <code>onclick</code> handler.  When you pass it into the function, the value of <code>i</code> is <em>copied, not bound</em> to <code>num</code>.  So when <code>i</code> changes, <code>num</code> stays the same.  The copy occurs because functions in JavaScript are \"closures\", meaning that once something is passed into the function, it's \"closed\" for outside modification.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Others have explained what's going on, here's an alternative solution.</p>\n\n<pre><code>function addLinks () {\n  for (var i = 0, link; i &lt; 5; i++) {\n    link = document.createElement(\"a\");\n    link.innerHTML = \"Link \" + i;\n\n    with ({ n: i }) {\n      link.onclick = function() {\n        alert(n);\n      };\n    }\n    document.body.appendChild(link);\n  }\n}\n</code></pre>\n\n<p>Basically the poor mans let-binding.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I like to write simple explanations for thick people, because I'm thick so here goes ...</p>\n\n<p>We have 5 divs on the page, each with an ID ... div1, div2, div3, div4, div5</p>\n\n<p>jQuery can do this ...</p>\n\n<pre><code>for (var i=1; i&lt;=5; i++) {\n    $(\"#div\" + i).click ( function() { alert ($(this).index()) } )\n}\n</code></pre>\n\n<p>But really addressing the problem (and building this up slowly) ...</p>\n\n<h2>STEP 1</h2>\n\n<pre><code>for (var i=1; i&lt;=5; i++) {\n    $(\"#div\" + i).click (\n        // TODO: Write function to handle click event\n    )\n}\n</code></pre>\n\n<h2>STEP 2</h2>\n\n<pre><code>for (var i=1; i&lt;=5; i++) {\n    $(\"#div\" + i).click (\n        function(num) {\n            // A functions variable values are set WHEN THE FUNCTION IS CALLED!\n            // PLEASE UNDERSTAND THIS AND YOU ARE HOME AND DRY (took me 2 years)!\n            // Now the click event is expecting a function as a handler so return it\n            return function() { alert (num) }\n        }(i) // We call the function here, passing in i\n    )\n}\n</code></pre>\n\n<h2>SIMPLE TO UNDERSTAND ALTERNATIVE</h2>\n\n<p>If you can't get your head around that then this should be easier to understand and has the same effect ...</p>\n\n<pre><code>for (var i=1; i&lt;=5; i++) {\n\n    function clickHandler(num) {    \n        $(\"#div\" + i).click (\n            function() { alert (num) }\n        )\n    }\n    clickHandler(i);\n\n}\n</code></pre>\n\n<p>This should be simple to understand if you remember that a functions variable values are set when the function is called (but this uses the exact same thought process as before)</p>\n",
                    "is_accepted": false,
                    "score": 39
                }
            ],
            "body": "<p>I've got the following code snippet. </p>\n\n<pre><code>function addLinks () {\n    for (var i=0, link; i&lt;5; i++) {\n        link = document.createElement(\"a\");\n        link.innerHTML = \"Link \" + i;\n        link.onclick = function () {\n            alert(i);\n        };\n        document.body.appendChild(link);\n    }\n}\n</code></pre>\n\n<p>The above code is for generating 5 links and bind each link with an alert event to show the current link id. But It doesn't work. When you click the generated links they all say \"link 5\". </p>\n\n<p>But the following codes snippet works as our expectation.</p>\n\n<pre><code>function addLinks () {\n    for (var i=0, link; i&lt;5; i++) {\n        link = document.createElement(\"a\");\n        link.innerHTML = \"Link \" + i;\n        link.onclick = function (num) {\n            return function () {\n                alert(num);\n            };\n        }(i);\n        document.body.appendChild(link);\n    }\n}\n</code></pre>\n\n<p>The above 2 snippets are quoted from <a href=\"http://robertnyman.com/2008/10/09/explaining-javascript-scope-and-closures/\">here</a>. As the author's explanation, seems the <strong>closure</strong> makes the magic.</p>\n\n<p>But how it works and How <strong>closure</strong> makes it work are all beyond my understanding. Why the first one doesn't work while the second one works? Can anyone give a detailed explanation about the magic? </p>\n\n<p>thanks.</p>\n",
            "last_activity_date": 1392188673,
            "question_id": 1451009,
            "score": 85,
            "tags": [
                "javascript",
                "closures"
            ],
            "title": "Javascript infamous Loop issue?"
        },
        {
            "answer_count": 23,
            "answers": [
                {
                    "body": "<p>As far as I know that only works in Internet&nbsp;Explorer.</p>\n\n<p>See also <em><a href=\"http://www.dynamic-tools.net/toolbox/copyToClipboard/\" rel=\"nofollow\">Dynamic Tools - JavaScript Copy To Clipboard</a></em>, but it requires the user to change the configuration first and even then it doesn't seems to work.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Reading and modifying the clipboard from a webpage raises security and privacy concerns. However, in Internet&nbsp;Explorer, it is possible to do it. I found this <a href=\"http://www.sajithmr.com/onclick-select-all-and-copy-to-clipboard-javascript/\">example snippet</a>:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function select_all(obj) {\n        var text_val=eval(obj);\n        text_val.focus();\n        text_val.select();\n        if (!document.all) return; // IE only\n        r = text_val.createTextRange();\n        r.execCommand('copy');\n    }\n&lt;/script&gt;\n&lt;input value=\"http://www.sajithmr.com\"\n onclick=\"select_all(this)\" name=\"url\" type=\"text\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 51
                },
                {
                    "body": "<p>In browsers other than IE you need to use a small flash object to manipulate the clipboard, e.g.</p>\n\n<ul>\n<li><a href=\"http://ajaxian.com/archives/auto-copy-to-clipboard\" rel=\"nofollow\">Auto copy to clipboard</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The other methods will copy plain text to the clipboard. To copy HTML (ie, you can paste results into a WSIWYG editor), you can do the following in <strong>IE ONLY</strong>. This is is fundamentally different from the other methods, as the browser actually visibly selects the content.</p>\n\n<pre><code>// create an editable DIV and append the HTML content you want copied\nvar editableDiv = document.createElement(\"div\");\nwith (editableDiv) {\n    contentEditable = true;\n}     \neditableDiv.appendChild(someContentElement);          \n\n// select the editable content and copy it to the clipboard\nvar r = document.body.createTextRange();\nr.moveToElementText(editableDiv);\nr.select();  \nr.execCommand(\"Copy\");\n\n// deselect, so the browser doesn't leave the element visibly selected\nr.moveToElementText(someHiddenDiv);\nr.select();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Looks like you took the code from <a href=\"http://stackoverflow.com/questions/316508/greasemonkey-javascript-copy-to-clipboard-button\" rel=\"nofollow\" title=\"Greasemonkey\\JavaScript Copy to Clipboard button\">Greasemonkey\\JavaScript Copy to Clipboard button</a> or the original source of this snippet...</p>\n\n<p>This code was for Greasemonkey, hence the unsafeWindow. And I guess the syntax error in IE comes from the <code>const</code> keyword which is specific to Firefox (replace it with <code>var</code>).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As of Flash 10, you can only copy to clipboard if the action originates from user interaction with a Flash object. (<a href=\"http://www.adobe.com/devnet/flashplayer/articles/fplayer10_security_changes_02.html#head31\">Read related section from Adobe's Flash 10 announcement</a>)</p>\n\n<p>The solution is to overly a flash object above the Copy button, or whatever element initiates the copy. Zero Clipboard is currently the best library with this implementation. Experienced Flash developers may just want to make their own library.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>If you want a really simple solution (takes less than 5 minutes to integrate) and looks good right out of the box, then Clippy is a nice alternative to some of the more complex solutions.  </p>\n\n<p><a href=\"http://github.com/mojombo/clippy\">Clippy</a></p>\n\n<p>It was written by a co-founder of Github.  Example Flash embed code below:</p>\n\n<pre><code>&lt;object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"\n        width=\"110\"\n        height=\"14\"\n        id=\"clippy\" &gt;\n&lt;param name=\"movie\" value=\"/flash/clippy.swf\"/&gt;\n&lt;param name=\"allowScriptAccess\" value=\"always\" /&gt;\n&lt;param name=\"quality\" value=\"high\" /&gt;\n&lt;param name=\"scale\" value=\"noscale\" /&gt;\n&lt;param NAME=\"FlashVars\" value=\"text=#{text}\"&gt;\n&lt;param name=\"bgcolor\" value=\"#{bgcolor}\"&gt;\n&lt;embed src=\"/flash/clippy.swf\"\n       width=\"110\"\n       height=\"14\"\n       name=\"clippy\"\n       quality=\"high\"\n       allowScriptAccess=\"always\"\n       type=\"application/x-shockwave-flash\"\n       pluginspage=\"http://www.macromedia.com/go/getflashplayer\"\n       FlashVars=\"text=#{text}\"\n       bgcolor=\"#{bgcolor}\"\n/&gt;\n&lt;/object&gt;\n</code></pre>\n\n<p>Remember to replace <code>#{text}</code> with the text you need copied, and <code>#{bgcolor}</code> with a colour.</p>\n",
                    "is_accepted": false,
                    "score": 101
                },
                {
                    "body": "<p>I had the same problem building a custom grid edit from (something like Excel) and compatibility with Excel. I had to support selecting multiple cells, copying and pasting. </p>\n\n<p>Solution: create a textarea where you will be inserting data for the user to copy (for me when the user is selecting cells), set focus on it (for example, when user press <kbd>Ctrl</kbd>) and select the whole text. </p>\n\n<p>So, when the user hit <kbd>Ctrl</kbd> + <kbd>C</kbd> he gets copied cells he selected. After testing just resizing the textarea to 1 pixel (I didn't test if it will be working on display:none). It works nicely on all browsers, and it is transparent to the user.</p>\n\n<p>Pasting - you could do same like this (differs on your target) - keep focus on textarea and catch paste events using onpaste (in my project I use textareas in cells to edit).</p>\n\n<p>I can't paste an example (commercial project), but you got the idea.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>From one of the projects I've been working on, a jQuery copy-to-clipboard plugin that utilizes the <a href=\"http://steamdev.com/zclip\">Zero Clipboard</a> library.</p>\n\n<p>It is easier to use than the native Zero Clipboard plugin if you're a heavy jQuery user.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Automatic copying to clipboard may be dangerous, therefore most browsers (except IE) make it very difficult. Personally, I use the following simple trick:</p>\n\n<pre><code>function copyToClipboard(text) {\n  window.prompt(\"Copy to clipboard: Ctrl+C, Enter\", text);\n}\n</code></pre>\n\n<p>The user is presented with the prompt box, where the text to be copied is already selected. Now it's enough to press <kbd>Ctrl</kbd>+<kbd>C</kbd> and <kbd>Enter</kbd> (to close the box) -- and voila!</p>\n\n<p>Now the clipboard copy operation is SAFE, because the user does it manually (but in a pretty straightforward way). Of course, works in all browsers.</p>\n",
                    "is_accepted": false,
                    "score": 750
                },
                {
                    "body": "<p>This is an expansion of @Chase's answer, with the advantage that it will work for IMAGE and TABLE elements, not just DIVs on IE9.</p>\n\n<pre><code>if (document.createRange) {\n    // IE9 and modern browsers\n    var r = document.createRange();\n    r.setStartBefore(to_copy);\n    r.setEndAfter(to_copy);\n    r.selectNode(to_copy);\n    var sel = window.getSelection();\n    sel.addRange(r);\n    document.execCommand('Copy');  // does nothing on FF\n} else {\n    // IE 8 and earlier.  This stuff won't work on IE9.\n    // (unless forced into a backward compatibility mode,\n    // or selecting plain divs, not img or table). \n    var r = document.body.createTextRange();\n    r.moveToElementText(to_copy);\n    r.select()\n    r.execCommand('Copy');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It seems I misread the question, but for reference, you can extract a range of the DOM (not to clipboard; compatible with all modern browsers), and combine it with the oncopy and onpaste and onbeforepaste events to get clipboard behaviour. Here's the code to achieve this: </p>\n\n<pre><code>function clipBoard(sCommand) {\n  var oRange=contentDocument.createRange();\n  oRange.setStart(startNode, startOffset);\n  oRange.setEnd(endNode, endOffset);\n/* This is where the actual selection happens.\nin the above, startNode and endNode are dom nodes defining the beginning \nand end of the \"selection\" respectively. startOffset and endOffset are \nconstants that are defined as follows:\n\nEND_TO_END: 2\nEND_TO_START: 3\nNODE_AFTER: 1\nNODE_BEFORE: 0\nNODE_BEFORE_AND_AFTER: 2\nNODE_INSIDE: 3\nSTART_TO_END: 1\nSTART_TO_START: 0\n\nand would be used like oRange.START_TO_END */\n      switch(sCommand) {\n    case \"cut\":\n          this.oFragment=oRange.extractContents();\n      oRange.collapse();\n      break;\n    case \"copy\":\n      this.oFragment=oRange.cloneContents();\n      break;\n    case \"paste\":\n      oRange.deleteContents();\n      var cloneFragment=this.oFragment.cloneNode(true)\n      oRange.insertNode(cloneFragment);\n      oRange.collapse();\n      break;\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I also suggest <a href=\"http://plugins.jquery.com/?s=copy\" rel=\"nofollow\">jQuery Clipboard Copy Plugins</a>:</p>\n\n<pre><code>$(\"#elmID\").copy();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>I found another nice solution LMCButton - small animated flash cross browser button. One JavaScript functions and swf button. Simple options (caption, custom JavaScript).  </p>\n\n<p>Link: <a href=\"http://www.lettersmarket.com/view_blog/a-3-copy_to_clipboard_lmcbutton.html\" rel=\"nofollow\">Copy to Clipboard LMCButton</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I found the following solution:</p>\n\n<p>On key down handler creates \"pre\" tag. We set the content to copy to this tag, then make a selection on this tag and return true in handler. This calls standard handler of chrome and copies selected text.</p>\n\n<p>And if you need you may be set the timeout for function for restoring previous selection. My implementation on Mootools:</p>\n\n<pre><code>   function EnybyClipboard() {\n     this.saveSelection = false;\n     this.callback = false;\n     this.pastedText = false;\n\n     this.restoreSelection = function() {\n       if (this.saveSelection) {\n         window.getSelection().removeAllRanges();\n         for (var i = 0; i &lt; this.saveSelection.length; i++) {\n           window.getSelection().addRange(this.saveSelection[i]);\n         }\n         this.saveSelection = false;\n       }\n     };\n\n     this.copyText = function(text) {\n       var div = $('special_copy');\n       if (!div) {\n         div = new Element('pre', {\n           'id': 'special_copy',\n           'style': 'opacity: 0;position: absolute;top: -10000px;right: 0;'\n         });\n         div.injectInside(document.body);\n       }\n       div.set('text', text);\n       if (document.createRange) {\n         var rng = document.createRange();\n         rng.selectNodeContents(div);\n         this.saveSelection = [];\n         var selection = window.getSelection();\n         for (var i = 0; i &lt; selection.rangeCount; i++) {\n           this.saveSelection[i] = selection.getRangeAt(i);\n         }\n         window.getSelection().removeAllRanges();\n         window.getSelection().addRange(rng);\n         setTimeout(this.restoreSelection.bind(this), 100);\n       } else return alert('Copy not work. :(');\n     };\n\n     this.getPastedText = function() {\n       if (!this.pastedText) alert('Nothing to paste. :(');\n       return this.pastedText;\n     };\n\n     this.pasteText = function(callback) {\n       var div = $('special_paste');\n       if (!div) {\n         div = new Element('textarea', {\n           'id': 'special_paste',\n           'style': 'opacity: 0;position: absolute;top: -10000px;right: 0;'\n         });\n         div.injectInside(document.body);\n         div.addEvent('keyup', function() {\n           if (this.callback) {\n             this.pastedText = $('special_paste').get('value');\n             this.callback.call(null, this.pastedText);\n             this.callback = false;\n             this.pastedText = false;\n             setTimeout(this.restoreSelection.bind(this), 100);\n           }\n         }.bind(this));\n       }\n       div.set('value', '');\n       if (document.createRange) {\n         var rng = document.createRange();\n         rng.selectNodeContents(div);\n         this.saveSelection = [];\n         var selection = window.getSelection();\n         for (var i = 0; i &lt; selection.rangeCount; i++) {\n           this.saveSelection[i] = selection.getRangeAt(i);\n         }\n         window.getSelection().removeAllRanges();\n         window.getSelection().addRange(rng);\n         div.focus();\n         this.callback = callback;\n       } else return alert('Fail to paste. :(');\n     };\n   }\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>enyby_clip = new EnybyClipboard(); //init \n\nenyby_clip.copyText('some_text'); // place this in CTRL+C handler and return true;\n\nenyby_clip.pasteText(function callback(pasted_text) {\n        alert(pasted_text);\n}); // place this in CTRL+V handler and return true;\n</code></pre>\n\n<p>On paste it creates textarea and works the same way.</p>\n\n<p>PS may be this solution can be used for creating fully cross-browser solution without flash. Its works in FF and Chrome.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>If the copied link has to be pasted on the same site, then simple solution is to,</p>\n\n<p>highlight the text before pressing the simple html copy button and then on pressing it, the text content is stored in a session. and wherever it is to be pasted, there is a paste button. </p>\n\n<p>**I know, its not persistent &amp; universal solution but its something :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>@Jimbo, here is the simple ajax/session based clipboard for the same website.</p>\n\n<p>Note that the session must be enabled &amp; valid and this soln. works for the same site. I tested it on Codeigniter but ran into session/ajax problem but <a href=\"http://stackoverflow.com/questions/7980193/codeigniter-session-bugging-out-with-ajax-calls\">this</a> solved that problem too. If you dont want to play with sessions, use DB table.</p>\n\n<p><strong>js/jquery</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n\n    $(\"#copy_btn_id\").click(function(){\n\n      $.post(\"&lt;?php echo base_url();?&gt;ajax/foo_copy/\"+$(this).val(), null, \n        function(data){\n                //copied successfully\n            }, \"html\"\n      );\n    });\n\n    $(\"#paste_btn_id\").click(function() {\n\n       $.post(\"&lt;?php echo base_url();?&gt;ajax/foo_paste/\", null, \n         function(data) {\n           $('#paste_btn_id').val(data);\n         }, \"html\"\n       );\n    });\n\n\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>html</strong> </p>\n\n<pre><code>&lt;input type='text' id='copy_btn_id' onclick='this.select();'  value='myvalue' /&gt;\n&lt;input type='text' id='paste_btn_id' value='' /&gt;\n</code></pre>\n\n<p><strong>php</strong></p>\n\n<pre><code>&lt;?php \nclass Ajax extends CI_Controller {\n    public function foo_copy($val){\n        $this-&gt;session-&gt;set_userdata(array('clipboard_val' =&gt; $val));\n    }\n    public function foo_paste(){\n        echo $this-&gt;session-&gt;userdata('clipboard_val');\n        exit();\n    }\n}\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>My bad. This only works in IE.</p>\n\n<p>Here's yet another way to copy text:</p>\n\n<pre><code>&lt;p&gt;\n    &lt;a onclick=\"window.clipboardData.setData('text', document.getElementById('Test').innerText);\"&gt;Copy&lt;/a&gt;\n&lt;/p&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In case your are reading text from clipboard in a Chrome extension, with 'clipboardRead' permission allowed, you can use below code:</p>\n\n<pre><code>function readTextFromClipboardInChromeExtension() {\n    var ta = $('&lt;textarea/&gt;');\n    $('body').append(ta);\n    ta.focus();\n    document.execCommand('paste');\n    var text = ta.val();\n    ta.blur();\n    ta.remove();\n    return text;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>ZeroClipboard is the best cross-browser solution I've found:</p>\n\n<pre><code>&lt;div id=\"copy\" data-clipboard-text=\"Copy Me!\"&gt;Click to copy&lt;/div&gt;    \n&lt;script src=\"ZeroClipboard.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  var clip = new ZeroClipboard( document.getElementById('copy') );\n&lt;/script&gt;\n</code></pre>\n\n<p>If you need non-flash support for iOS you just add a fall-back:</p>\n\n<pre><code>clip.on( 'noflash', function ( client, args ) {\n    $(\"#copy\").click(function(){            \n        var txt = $(this).attr('data-clipboard-text');\n        prompt (\"Copy link, then click OK.\", txt);\n    });\n});  \n</code></pre>\n\n<p><a href=\"http://zeroclipboard.org/\">http://zeroclipboard.org/</a></p>\n\n<p><a href=\"https://github.com/zeroclipboard/ZeroClipboard\">https://github.com/zeroclipboard/ZeroClipboard</a></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>In Chrome you can use <a href=\"http://anti-code.com/devtools-cheatsheet/#command-line-api\" rel=\"nofollow\"><code>copy('the text or variable etc')</code></a>.  While this isn't cross-browser (and <a href=\"https://code.google.com/p/chromium/issues/detail?id=260401\" rel=\"nofollow\">doesn't work in a snippet?</a>), you could add it to the other cross-browser answers.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"https://github.com/asafdav/ng-clip\" rel=\"nofollow\"><code>ng-clip</code></a> was the simplest solution for AngularJS.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I have recently written a <a href=\"https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/\">technical blog post</a> on this very problem (I work at Lucidchart and we recently did an overhaul on our clipboard).</p>\n\n<p>Copying plain text to the clipboard is relatively simple, assuming you want to do it during a system copy event (user presses ctrl-c or uses the browser's menu). </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var isIe = (navigator.userAgent.toLowerCase().indexOf(\"msie\") != -1 \n           || navigator.userAgent.toLowerCase().indexOf(\"trident\") != -1);\n\ndocument.addEventListener('copy', function(e) {\n    var textToPutOnClipboard = \"This is some text\";\n    if (isIe) {\n        window.clipboardData.setData('Text', textToPutOnClipboard);    \n    } else {\n        e.clipboardData.setData('text/plain', textToPutOnClipboard);\n    }\n    e.preventDefault();\n});\n</code></pre>\n\n<p>Putting text on the clipboard not during a system copy event is much more difficult. It looks like some of these other answers reference ways to do it via Flash, which is the only cross-browser way to do it (so far as I understand).</p>\n\n<p>Other than that, there are some options on a browser-by-browser basis.</p>\n\n<p>This is the most simple in IE, where you can access the clipboardData object at anytime from Javascript via:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>window.clipboardData\n</code></pre>\n\n<p>(When you attempt to do this outside of a system cut, copy, or paste event, however, IE will prompt the user to grant the web application clipboard permission.)</p>\n\n<p>In Chrome, you can create a chrome extension that will give you <a href=\"https://developer.chrome.com/extensions/declare_permissions\">clipboard permissions</a> (this is what we do for Lucidchart). Then for users with your extension installed you'll just need to fire the system event yourself:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>document.execCommand('copy');\n</code></pre>\n\n<p>It looks like Firefox has <a href=\"http://kb.mozillazine.org/Granting_JavaScript_access_to_the_clipboard\">some options</a> that allow users to grant permissions to certain sites to access the clipboard, but I haven't tried any of these personally.</p>\n",
                    "is_accepted": false,
                    "score": 15
                }
            ],
            "body": "<p>What is the best way to copy text to the clipboard? (multi-browser)</p>\n\n<p>I have tried: </p>\n\n<pre><code>function copyToClipboard(text) {\n    if (window.clipboardData) { // Internet Explorer\n        window.clipboardData.setData(\"Text\", text);\n    } else {  \n        unsafeWindow.netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");  \n        const clipboardHelper = Components.classes[\"@mozilla.org/widget/clipboardhelper;1\"].getService(Components.interfaces.nsIClipboardHelper);  \n        clipboardHelper.copyString(text);\n    }\n}\n</code></pre>\n\n<p>but in Internet Explorer it gives a syntax error. In Firefox, it says <code>unsafeWindow is not defined</code>.</p>\n\n<p><strong>Edit</strong> A nice trick without flash: <a href=\"http://stackoverflow.com/questions/17527870/how-does-trello-access-the-users-clipboard\">How does Trello access the user&#39;s clipboard?</a></p>\n",
            "last_activity_date": 1421095240,
            "question_id": 400212,
            "score": 1122,
            "tags": [
                "javascript",
                "clipboard",
                "copy-paste"
            ],
            "title": "How do I copy to the clipboard in JavaScript?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Every function in javascript has a scope. Whatever that scope is, is referenced by \"this\".\nYou can change that scope by doing func.call or func.apply.</p>\n\n<p>By default, and what confuses most beginners, when a callback is called after an event is raised on a DOM element, the scope of the function is the DOM element.</p>\n\n<p>jQuery makes this trivial to change with jQuery.proxy.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I recommend reading <a href=\"https://mikewest.org\" rel=\"nofollow\">Mike West</a>'s article <a href=\"http://www.digital-web.com/articles/scope_in_javascript/\" rel=\"nofollow\">Scope in JavaScript</a> (<a href=\"http://web.archive.org/web/20110725013125/http://www.digital-web.com/articles/scope_in_javascript/\" rel=\"nofollow\">mirror</a>) first. It is an excellent, friendly introduction to the concepts of <code>this</code> and scope chains in JavaScript.</p>\n\n<p>Once you start getting used to <code>this</code>, the rules are actually pretty simple. The <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\" rel=\"nofollow\">ECMAScript Standard</a> defines <code>this</code> as a keyword that \"evaluates to the value of the ThisBinding of the current execution context\" (\u00a711.1.1). ThisBinding is something that the JavaScript interpreter maintains as it evaluates JavaScript code, like a special CPU register which holds a reference to an object. The interpreter updates the ThisBinding whenever establishing an execution context in one of only three different cases:</p>\n\n<ol>\n<li><p>Initial global execution context</p>\n\n<p>This is the case for JavaScript code that is evaluated when a <code>&lt;script&gt;</code> element is encountered:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;//&lt;![CDATA[\nalert(\"I'm evaluated in the initial global execution context!\");\n\nsetTimeout(function () {\n    alert(\"I'm NOT evaluated in the initial global execution context.\");\n}, 1);\n//]]&gt;&lt;/script&gt;\n</code></pre>\n\n<p>When evaluating code in the initial global execution context, ThisBinding is set to the global object, <code>window</code> (\u00a710.4.1.1).</p></li>\n<li><p>Entering eval code</p>\n\n<ul>\n<li><p>... by a direct call to eval()</p>\n\n<p>ThisBinding is left unchanged; it is the same value as the ThisBinding of the calling execution context (\u00a710.4.2(2)(a)).</p></li>\n<li><p>... if not by a direct call to eval()</p>\n\n<p>ThisBinding is set to the global object <em>as if</em> executing in the initial global execution context (\u00a710.4.2(1)).</p></li>\n</ul>\n\n<p>\u00a715.1.2.1.1 defines what a direct call to eval() is. Basically, <code>eval(...)</code> is a direct call whereas something like <code>(0, eval)(...)</code> or <code>var indirectEval = eval; indirectEval(...);</code> is an indirect call to eval(). See <a href=\"http://stackoverflow.com/a/9107491/196844\">chuckj's answer</a> to <a href=\"http://stackoverflow.com/q/9107240/196844\">(1,eval)('this') vs eval('this') in JavaScript?</a> and <a href=\"http://dmitrysoshnikov.com/ecmascript/es5-chapter-2-strict-mode/#indirect-eval-call\" rel=\"nofollow\">this blog post by Dmitry Soshnikov</a> for when you might use an indirect eval() call.</p></li>\n<li><p>Entering function code</p>\n\n<p>This occurs when calling a function. If a function is called on an object, such as in <code>obj.myMethod()</code> or the equivalent <code>obj[\"myMethod\"]()</code>, then ThisBinding is set to the object (<code>obj</code> in the example; \u00a713.2.1). In most other cases, ThisBinding is set to the global object (\u00a710.4.3).</p>\n\n<p>The reason for writing \"in most other cases\" is because there are eight ECMAScript 5 built-in functions that allow ThisBinding to be specified in the arguments list. These special functions take a so-called <em>thisArg</em> which becomes the ThisBinding when calling the function (\u00a710.4.3).</p>\n\n<p>These special built-in functions are:</p>\n\n<ul>\n<li>Function.prototype.apply( thisArg, argArray )</li>\n<li>Function.prototype.call( thisArg [ , arg1 [ , arg2, ... ] ] )</li>\n<li>Function.prototype.bind( thisArg [ , arg1 [ , arg2, ... ] ] )</li>\n<li>Array.prototype.every( callbackfn [ , thisArg ] )</li>\n<li>Array.prototype.some( callbackfn [ , thisArg ] )</li>\n<li>Array.prototype.forEach( callbackfn [ , thisArg ] )</li>\n<li>Array.prototype.map( callbackfn [ , thisArg ] )</li>\n<li>Array.prototype.filter( callbackfn [ , thisArg ] )</li>\n</ul>\n\n<p><br>In the case of the Function.prototype functions, they are called on a function object, but rather than setting ThisBinding to the function object, ThisBinding is set to the <em>thisArg</em>.</p>\n\n<p>In the case of the Array.prototype functions, the given <em>callbackfn</em> is called in an execution context where ThisBinding is set to <em>thisArg</em> if supplied; otherwise, to the global object.</p></li>\n</ol>\n\n<p>Those are the rules for plain JavaScript. When you begin using JavaScript libraries (e.g. jQuery), you may find that certain library functions manipulate the value of <code>this</code>. The developers of those JavaScript libraries do this because it tends to support the most common use cases, and users of the library typically find this behavior to be more convenient. When passing callback functions referencing <code>this</code> to library functions, you should refer to the documentation for any guarantees about what the value of <code>this</code> is when the function is called.</p>\n\n<p>If you are wondering how a JavaScript library manipulates the value of <code>this</code>, the library is simply using one of the built-in JavaScript functions accepting a <em>thisArg</em>. You, too, can write your own function taking a callback function and <em>thisArg</em>:</p>\n\n<pre><code>function doWork(callbackfn, thisArg) {\n    //...\n    if (callbackfn != null) callbackfn.call(thisArg);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I forgot a special case. When constructing a new object via the <code>new</code> operator, the JavaScript interpreter creates a new, empty object, sets some internal properties, and then calls the constructor function on the new object. Thus, when a function is called in a constructor context, the value of <code>this</code> is the new object that the interpreter created:</p>\n\n<pre><code>function MyType() {\n    this.someData = \"a string\";\n}\n\nvar instance = new MyType();\n// Kind of like the following, but there are more steps involved:\n// var instance = {};\n// MyType.call(instance);\n</code></pre>\n\n<p><strong>QUIZ:</strong> Just for fun, test your understanding with the following examples.</p>\n\n<p><em>To reveal the answers, mouse over the light yellow boxes.</em></p>\n\n<ol>\n<li><p>What is the value of <code>this</code> at line A? Why?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nif (true) {\n    // Line A\n}\n&lt;/script&gt;\n</code></pre>\n\n<blockquote class=\"spoiler\">\n  <p> <code>window</code>\n\n <p>Line A is evaluated in the initial global execution context.</p>\n</blockquote></li>\n<li><p>What is the value of <code>this</code> at line B when obj.staticFunction() is executed? Why?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar obj = {\n    someData: \"a string\"\n};\n\nfunction myFun() {\n    // Line B\n}\n\nobj.staticFunction = myFun;\n\nobj.staticFunction();\n&lt;/script&gt;\n</code></pre>\n\n<blockquote class=\"spoiler\">\n  <p> <code>obj</code>\n\n <p>When calling a function on an object, ThisBinding is set to the object.</p>\n</blockquote></li>\n<li><p>What is the value of <code>this</code> at line C? Why?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar obj = {\n    myMethod : function () {\n        // Line C\n    }\n};\nvar myFun = obj.myMethod;\nmyFun();\n&lt;/script&gt;\n</code></pre>\n\n<blockquote class=\"spoiler\">\n  <p> <code>window</code>\n\n <p>In this example, the JavaScript interpreter enters function code, but because <code>myFun</code>/<code>obj.myMethod</code> is not called on an object, ThisBinding is set to <code>window</code>.\n\n <p>This is different from Python, in which accessing a method (<code>obj.myMethod</code>) creates a <a href=\"http://docs.python.org/3/library/stdtypes.html#methods\" rel=\"nofollow\">bound method object</a>.</p>\n</blockquote></li>\n<li><p>What is the value of <code>this</code> at line D? Why?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction myFun() {\n    // Line D\n}\nvar obj = {\n    myMethod : function () {\n        eval(\"myFun()\");\n    }\n};\nobj.myMethod();\n&lt;/script&gt;\n</code></pre>\n\n<blockquote class=\"spoiler\">\n  <p> <code>window</code>\n\n <p>This one was tricky. When evaluating the eval code, <code>this</code> is <code>obj</code>. However, in the eval code, <code>myFun</code> is not called on an object, so ThisBinding is set to <code>window</code> for the call.</p>\n</blockquote></li>\n<li><p>What is the value of <code>this</code> at line E?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction myFun() {\n    // Line E\n}\nvar obj = {\n    someData: \"a string\"\n};\nmyFun.call(obj);\n&lt;/script&gt;\n</code></pre>\n\n<blockquote class=\"spoiler\">\n  <p> <code>obj</code>\n\n <p>The line <code>myFun.call(obj);</code> is invoking the special built-in function Function.prototype.call(), which accepts <em>thisArg</em> as the first argument.</p>\n</blockquote></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 450
                },
                {
                    "body": "<p>Whould <a href=\"http://www.quirksmode.org/js/this.html\" rel=\"nofollow\">this</a> help? (Most confusion of 'this' in javascript is coming from the fact that it generally is not linked to your object, but to the current executing scope -- that might not be exactly how it works but is always feels like that to me -- see the article for a complete explanation)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>\"this\" is all about scope. Every function has its own scope, and since everything in JS is an object, even a function can store some values into itself using \"this\". OOP 101 teaches that \"this\" is only applicable to <em>instances</em> of an object. Therefore, every-time a function executes, a new \"instance\" of that function has a new meaning of \"this\".</p>\n\n<p>Most people get confused when they try to use \"this\" inside of anonymous closure functions like:</p>\n\n<pre>\n(function(value) {\n    this.value = value;\n    $('.some-elements').each(function(elt){\n        elt.innerHTML = this.value;        // uh oh!! possibly undefined\n    });\n})(2);\n</pre>\n\n<p>So here, inside each(), \"this\" doesn't hold the \"value\" that you expect it to (from <pre>this.value = value;</pre> above it). So, to get over this (no pun intended) problem, a developer could:</p>\n\n<pre>\n(function(value) {\n    var self = this;            // small change\n    self.value = value;\n    $('.some-elements').each(function(elt){\n        elt.innerHTML = self.value;        // phew!! == 2 \n    });\n})(2);\n</pre>\n\n<p>Try it out; you'll begin to like this pattern of programming</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>It is difficult to get a good grasp of JS, or write more than anything trivial in it, if you don't understand it thoroughly. You cannot just afford to take a quick dip :) I think the best way to get started with JS is to first watch these video lectures by Douglas Crockford - <a href=\"http://yuiblog.com/crockford/\" rel=\"nofollow\">http://yuiblog.com/crockford/</a>, which covers this and that, and everything else about JS.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Daniel, awesome explanation! A couple of words on this and good list of <code>this</code> execution context pointer in case of event handlers.</p>\n\n<p>In two words, <code>this</code> in JavaScript points the object from whom (or from whose execution context) the current function was run and it's always read-only, you can't set it anyway (such an attempt will end up with 'Invalid left-hand side in assignment' message.</p>\n\n<p><strong>For event handlers:</strong> inline event handlers, such as <code>&lt;element onclick=\"foo\"&gt;</code>, override any other handlers attached earlier and before, so be careful and it's better to stay off of inline event delegation at all.\nAnd thanks to Zara Alaverdyan who inspired me to this list of examples through a dissenting debate :)</p>\n\n<ul>\n<li><code>el.onclick = foo; // in the foo - obj</code></li>\n<li><code>el.onclick = function () {this.style.color = '#fff';} // obj</code></li>\n<li><code>el.onclick = function() {doSomething();} // In the doSomething -\nWindow</code></li>\n<li><code>el.addEventListener('click',foo,false) // in the foo - obj</code></li>\n<li><code>el.attachEvent('onclick, function () { // this }') // window, all the\ncompliance to IE :)</code></li>\n<li><code>&lt;button onclick=\"this.style.color = '#fff';\"&gt; // obj</code></li>\n<li><code>&lt;button onclick=\"foo\"&gt; // In the foo - window, but you can &lt;button\nonclick=\"foo(this)\"&gt;</code></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This answer is a replication of <a href=\"http://mahesha999.blogspot.in/2013/07/javascript-essential-parts-this-keyword.html\">my post</a>. You can find the corresponding JSFiddles on the post page.</p>\n\n<hr>\n\n<p>The <code>this</code> keyword behaves differently in JavaScript compared to other language. In Object Oriented languages, the <code>this</code> keyword refers to the current instance of the class. In JavaScript the value of <code>this</code> is determined mostly by the invocation context of function (<em><code>context.function()</code></em>) and where it is called.</p>\n\n<p><strong>1. When used in global context</strong></p>\n\n<p>When you use <code>this</code> in global context, it is bound to global object (<code>window</code> in browser)</p>\n\n<pre><code>document.write(this);  //[object Window]\n</code></pre>\n\n<p>When you use <code>this</code> inside a function defined in the global context, <code>this</code> is still bound to global object since the function is actually made a method of global context.</p>\n\n<pre><code>function f1()\n{\n   return this;\n}\ndocument.write(f1());  //[object Window]\n</code></pre>\n\n<p>Above <code>f1</code> is made a method of global object. Thus we can also call it on <code>window</code> object as follows:</p>\n\n<pre><code>function f()\n{\n    return this;\n}\n\ndocument.write(window.f()); //[object Window]\n</code></pre>\n\n<p><strong>2. When used inside object method</strong></p>\n\n<p>When you use <code>this</code> keyword inside an object method, <code>this</code> is bound to the \"immediate\" enclosing object.</p>\n\n<pre><code>var obj = {\n        name: \"obj\",\n        f: function () {\n            return this + \":\" + this.name;\n        }\n    };\ndocument.write(obj.f());  //[object Object]:obj\n</code></pre>\n\n<p>Above I have put the word immediate in double quotes. It is to make the point that if you nest the object inside another object, then <code>this</code> is bound to the immediate parent.</p>\n\n<pre><code>var obj = {\n        name: \"obj1\",\n        nestedobj: {\n            name:\"nestedobj\",\n            f: function () {\n                return this + \":\" + this.name;\n            }\n        }            \n    }\n\ndocument.write(obj.nestedobj.f()); //[object Object]:nestedobj\n</code></pre>\n\n<p>Even if you add function explicitly to the object as a method, it still follows above rules, that is <code>this</code> still points to the immediate parent object.</p>\n\n<pre><code> var obj1 = {\n name: \"obj1\",\n}\n\nfunction returnName() {\n        return this + \":\" + this.name;\n    }\n\nobj1.f = returnName; //add method to object\ndocument.write(obj1.f()); //[object Object]:obj1\n</code></pre>\n\n<p><strong>3. When invoking context-less function</strong></p>\n\n<p>When you use <code>this</code> inside function that is invoked without any context (i.e. not on any object), it is bound to the global object (<code>window</code> in browser)(even if the function is defined inside the object) .</p>\n\n<pre><code>var context = \"global\";\n\nvar obj = {  \ncontext: \"object\",\nmethod: function () {                  \n       function f() {\n           var context = \"function\";\n           return this + \":\" +this.context; \n       };\n       return f(); //invoked without context\n    }\n};\n\ndocument.write(obj.method()); //[object Window]:global \n</code></pre>\n\n<p><strong>Trying it all with functions</strong></p>\n\n<p>We can try above points with functions too. However there are some differences.</p>\n\n<ul>\n<li>Above we added members to objects using object literal notation. We can add members to functions by using <code>this</code>. to specify them.</li>\n<li>Object literal notation creates an instance of object which we can use immediately. With function we may need to first create its instance using <code>new</code> operator.</li>\n<li>Also in an object literal approach, we can explicitly add members to already defined object using dot operator. This gets added to the specific instance only. However I have added variable to the function prototype so that it gets reflected in all instances of the function.</li>\n</ul>\n\n<p>Below I tried out all the things that we did with Object and <code>this</code> above, but by first creating function instead of directly writing an object.</p>\n\n<pre><code>/********************************************************************* \n  1. When you add variable to the function using this keyword, it \n     gets added to the function prototype, thus allowing all function \n     instances to have their own copy of the variables added.\n*********************************************************************/\nfunction functionDef()\n{\n    this.name = \"ObjDefinition\";\n    this.getName = function(){                \n        return this+\":\"+this.name;\n    }\n}        \n\nobj1 = new functionDef();\ndocument.write(obj1.getName() + \"&lt;br /&gt;\"); //[object Object]:ObjDefinition   \n\n/********************************************************************* \n   2. Members explicitly added to the function protorype also behave \n      as above: all function instances have their own copy of the \n      variable added.\n*********************************************************************/\nfunctionDef.prototype.version = 1;\nfunctionDef.prototype.getVersion = function(){\n    return \"v\"+this.version; //see how this.version refers to the\n                             //version variable added through \n                             //prototype\n}\ndocument.write(obj1.getVersion() + \"&lt;br /&gt;\"); //v1\n\n/********************************************************************* \n   3. Illustrating that the function variables added by both above \n      ways have their own copies across function instances\n*********************************************************************/\nfunctionDef.prototype.incrementVersion = function(){\n    this.version = this.version + 1;\n}\nvar obj2 = new functionDef();\ndocument.write(obj2.getVersion() + \"&lt;br /&gt;\"); //v1\n\nobj2.incrementVersion();      //incrementing version in obj2\n                              //does not affect obj1 version\n\ndocument.write(obj2.getVersion() + \"&lt;br /&gt;\"); //v2\ndocument.write(obj1.getVersion() + \"&lt;br /&gt;\"); //v1\n\n/********************************************************************* \n   4. `this` keyword refers to the immediate parent object. If you \n       nest the object through function prototype, then `this` inside \n       object refers to the nested object not the function instance\n*********************************************************************/\nfunctionDef.prototype.nestedObj = { name: 'nestedObj', \n                                    getName1 : function(){\n                                        return this+\":\"+this.name;\n                                    }                            \n                                  };\n\ndocument.write(obj2.nestedObj.getName1() + \"&lt;br /&gt;\"); //[object Object]:nestedObj\n\n/********************************************************************* \n   5. If the method is on an object's prototype chain, `this` refers \n      to the object the method was called on, as if the method was on \n      the object.\n*********************************************************************/\nvar ProtoObj = { fun: function () { return this.a } };\nvar obj3 = Object.create(ProtoObj); //creating an object setting ProtoObj\n                                    //as its prototype\nobj3.a = 999;                       //adding instance member to obj3\ndocument.write(obj3.fun()+\"&lt;br /&gt;\");//999\n                                    //calling obj3.fun() makes \n                                    //ProtoObj.fun() to access obj3.a as \n                                    //if fun() is defined on obj3\n</code></pre>\n\n<p><strong>4. When used inside constructor function</strong>.</p>\n\n<p>When the function is used as a constructor (that is when it is called with <code>new</code> keyword), <code>this</code> inside function body points to the new object being constructed.</p>\n\n<pre><code>var myname = \"global context\";\nfunction SimpleFun()\n{\n    this.myname = \"simple function\";\n}\n\nvar obj1 = new SimpleFun(); //adds myname to obj1\n//1. `new` causes `this` inside the SimpleFun() to point to the\n//   object being constructed thus adding any member\n//   created inside SimipleFun() using this.membername to the\n//   object being constructed\n//2. And by default `new` makes function to return newly \n//   constructed object if no explicit return value is specified\n\ndocument.write(obj1.myname); //simple function\n</code></pre>\n\n<p><strong>5. When used inside function defined on prototype chain</strong></p>\n\n<p>If the method is on an object's prototype chain, <code>this</code> inside such method refers to the object the method was called on, as if the method was defined on the object.</p>\n\n<pre><code>var ProtoObj = {\n    fun: function () {\n        return this.a;\n    }\n};\n//Object.create() creates object with ProtoObj as its\n//prototype and assigns it to obj3, thus making fun() \n//to be the method on its prototype chain\n\nvar obj3 = Object.create(ProtoObj);\nobj3.a = 999;\ndocument.write(obj3.fun()); //999\n\n//Notice that fun() is defined on obj3's prototype but \n//`this.a` inside fun() retrieves obj3.a   \n</code></pre>\n\n<p><strong>6. Inside call(), apply() and bind() functions</strong></p>\n\n<ul>\n<li>All these methods are defined on <code>Function.prototype</code>.</li>\n<li>These methods allows to write a function once and invoke it in different context. In other words, they allows to specify the value of <code>this</code> which will be used while the function is being executed. They also take any parameters to passed to the original function when it is invoked.</li>\n<li><strong><code>fun.apply(obj1 [, argsArray])</code></strong> Sets <code>obj1</code> as the value of <code>this</code> inside <code>fun()</code> and calls <code>fun()</code> passing elements of <code>argsArray</code> as its arguments.</li>\n<li><strong><code>fun.call(obj1 [, arg1 [, arg2 [,arg3 [, ...]]]])</code></strong> - Sets <code>obj1</code> as the value of <code>this</code> inside <code>fun()</code> and calls <code>fun()</code> passing <code>arg1, arg2, arg3, ...</code> as its arguments.</li>\n<li><strong><code>fun.bind(obj1 [, arg1 [, arg2 [,arg3 [, ...]]]])</code></strong> - Returns the reference to the function <code>fun</code> with <code>this</code> inside fun bound to <code>obj1</code> and parameters of <code>fun</code> bound to the   parameters specified <code>arg1, arg2, arg3,...</code>.</li>\n<li>By now the difference between <code>apply</code>, <code>call</code> and <code>bind</code> must have become apparent. <code>apply</code> allows to specify the arguments to function as array-like object i.e. an object with a numeric <code>length</code> property and corresponding non-negative integer properties. Whereas <code>call</code> allows to specify the arguments to the function directly. Both <code>apply</code> and <code>call</code> immediately invokes the function in the specified context and with the specified arguments. On the other hand, <code>bind</code> simply returns the function bound to the specified <code>this</code> value and the arguments. We can capture the reference to this returned function by assigning it to a variable and later we can call it any time.</li>\n</ul>\n\n\n\n<pre><code>function add(inc1, inc2)\n{\n    return this.a + inc1 + inc2;\n}\n\nvar o = { a : 4 };\ndocument.write(add.call(o, 5, 6)+\"&lt;br /&gt;\"); //15\n      //above add.call(o,5,6) sets `this` inside\n      //add() to `o` and calls add() resulting:\n      // this.a + inc1 + inc2 = \n      // `o.a` i.e. 4 + 5 + 6 = 15\ndocument.write(add.apply(o, [5, 6]) + \"&lt;br /&gt;\"); //15\n      // `o.a` i.e. 4 + 5 + 6 = 15\n\nvar g = add.bind(o, 5, 6);       //g: `o.a` i.e. 4 + 5 + 6\ndocument.write(g()+\"&lt;br /&gt;\");    //15\n\nvar h = add.bind(o, 5);          //h: `o.a` i.e. 4 + 5 + ?\ndocument.write(h(6) + \"&lt;br /&gt;\"); //15\n      // 4 + 5 + 6 = 15\ndocument.write(h() + \"&lt;br /&gt;\");  //NaN\n      //no parameter is passed to h()\n      //thus inc2 inside add() is `undefined`\n      //4 + 5 + undefined = NaN&lt;/code&gt;\n</code></pre>\n\n<p><strong>7. <code>this</code> inside event handlers</strong></p>\n\n<ul>\n<li>When you assign function directly to event handlers of an element, use of <code>this</code> directly inside event handling function refers to the corresponding element. Such direct function assignment can be done using <code>addeventListener</code> method or through the traditional event registration methods like <code>onclick</code>.</li>\n<li>Similarly, when you use <code>this</code> directly inside the event property (like <code>&lt;button onclick=\"...this...\" &gt;</code>) of the element, it refers to the element.</li>\n<li>However use of <code>this</code> indirectly through the other function called inside the event handling function or event property resolves to the global object <code>window</code>.</li>\n<li>The same above behavior is achieved when we attach the function to the event handler using Microsoft's Event Registration model method <code>attachEvent</code>. Instead of assigning the function to the event handler (and the thus making the function method of the element), it calls the function on the event (effectively calling it in global context).</li>\n</ul>\n\n<p><em>I recommend to better try this in <a href=\"http://jsfiddle.net/Mahesha999/xKtzC/8/embedded/html,js,result\">JSFiddle</a>.</em></p>\n\n<pre><code>&lt;script&gt; \n    function clickedMe() {\n       alert(this + \" : \" + this.tagName + \" : \" + this.id);\n    } \n    document.getElementById(\"button1\").addEventListener(\"click\", clickedMe, false);\n    document.getElementById(\"button2\").onclick = clickedMe;\n    document.getElementById(\"button5\").attachEvent('onclick', clickedMe);   \n&lt;/script&gt;\n\n&lt;h3&gt;Using `this` \"directly\" inside event handler or event property&lt;/h3&gt;\n&lt;button id=\"button1\"&gt;click() \"assigned\" using addEventListner() &lt;/button&gt;&lt;br /&gt;\n&lt;button id=\"button2\"&gt;click() \"assigned\" using click() &lt;/button&gt;&lt;br /&gt;\n&lt;button id=\"button3\" onclick=\"alert(this+ ' : ' + this.tagName + ' : ' + this.id);\"&gt;used `this` directly in click event property&lt;/button&gt;\n\n&lt;h3&gt;Using `this` \"indirectly\" inside event handler or event property&lt;/h3&gt;\n&lt;button onclick=\"alert((function(){return this + ' : ' + this.tagName + ' : ' + this.id;})());\"&gt;`this` used indirectly, inside function &lt;br /&gt; defined &amp; called inside event property&lt;/button&gt;&lt;br /&gt;\n\n&lt;button id=\"button4\" onclick=\"clickedMe()\"&gt;`this` used indirectly, inside function &lt;br /&gt; called inside event property&lt;/button&gt; &lt;br /&gt;\n\nIE only: &lt;button id=\"button5\"&gt;click() \"attached\" using attachEvent() &lt;/button&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p><code>this</code> in Javascript always refers to the 'owner' of the function that is <strong>being executed</strong>.</p>\n\n<p>If no explicit owner is defined, then the top most owner, the window object, is referenced.</p>\n\n<p>So if I did</p>\n\n<pre><code>function someKindOfFunction() {\n   this.style = 'foo';\n}\n</code></pre>\n\n<p><code>element.onclick = someKindOfFunction;</code></p>\n\n<p><code>this</code> would refer to the element object. But be careful, a lot of people make this mistake</p>\n\n<p><code>&lt;element onclick=\"someKindOfFunction()\"&gt;</code></p>\n\n<p>In the latter case, you merely reference the function, not hand it over to the element. Therefor, <code>this</code> will refer to the window object.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><code>this</code> is one of the misunderstood concept in JavaScript because it behaves little differently from place to place. Simply, <code>this</code> refers to the <strong>\"owner\" of the function we are currently executing</strong>. </p>\n\n<p><code>this</code> helps to get the current object (a.k.a. execution context) we work with. If you understand in which object the current function is getting executed, you can understand easily what current <code>this</code> is</p>\n\n<pre><code>var val = \"window.val\"\n\nvar obj = {\n    val: \"obj.val\",\n    innerMethod: function () {\n        var val = \"obj.val.inner\",\n            func = function () {\n                var self = this;\n                return self.val;\n            };\n\n        return func;\n    },\n    outerMethod: function(){\n        return this.val;\n    }\n};\n\n//This actually gets executed inside window object \nconsole.log(obj.innerMethod()()); //returns window.val\n\n//Breakdown in to 2 lines explains this in detail\nvar _inn = obj.innerMethod();\nconsole.log(_inn()); //returns window.val\n\nconsole.log(obj.outerMethod()); //returns obj.val\n</code></pre>\n\n<p>Above we create 3 variables with same name 'val'. One in global context, one inside obj and the other inside innerMethod of obj. JavaScript resolves identifiers within a particular context by going up the scope chain from local go global. </p>\n\n<hr>\n\n<p><em>Few places where <code>this</code> can be differentiated</em> </p>\n\n<h2>Calling a method of a object</h2>\n\n<pre><code>var status = 1;\nvar helper = {\n    status : 2,\n    getStatus: function () {\n        return this.status;\n    }\n};\n\nvar theStatus1 = helper.getStatus(); //line1\nconsole.log(theStatus1); //2\n\nvar theStatus2 = helper.getStatus;\nconsole.log(theStatus2()); //1\n</code></pre>\n\n<p>When line1 is executed, JavaScript establishes an execution context (EC) for the function call, setting <code>this</code> to the <strong>object referenced by whatever came before the last \".\"</strong>. so in the last line you can understand that <code>a()</code> was executed in the global context which is the <code>window</code>.</p>\n\n<h2>With Constructor</h2>\n\n<p><code>this</code> can be used to refer to the object being created</p>\n\n<pre><code>function Person(name){\n    this.personName = name;\n    this.sayHello = function(){\n        return \"Hello \" + this.personName;\n    }\n}\n\nvar person1 = new Person('Scott');\nconsole.log(person1.sayHello()); //Hello Scott\n\nvar person2 = new Person('Hugh');\nvar sayHelloP2 = person2.sayHello;\nconsole.log(sayHelloP2()); //Hello undefined\n</code></pre>\n\n<p>When new <code>Person()</code> is executed, a completely new object is created. <code>Person</code> is called and its <code>this</code> is set to reference that new object. </p>\n\n<h2>Function call</h2>\n\n<pre><code>function testFunc() {\n    this.name = \"Name\";\n    this.myCustomAttribute = \"Custom Attribute\";\n    return this;\n}\n\nvar whatIsThis = testFunc();\nconsole.log(whatIsThis); //window\n\nvar whatIsThis2 = new testFunc();\nconsole.log(whatIsThis2);  //testFunc() / object\n\nconsole.log(window.myCustomAttribute); //Custom Attribute \n</code></pre>\n\n<p>If we miss <code>new</code> keyword, <code>whatIsThis</code> referes to the most global context it can find(<code>window</code>)</p>\n\n<h2>With event handlers</h2>\n\n<p>If the event handler is inline, <code>this</code> refers to global object</p>\n\n<pre><code>&lt;script type=\"application/javascript\"&gt;\n    function click_handler() {\n        alert(this); // alerts the window object\n    }\n&lt;/script&gt;\n\n&lt;button id='thebutton' onclick='click_handler()'&gt;Click me!&lt;/button&gt;\n</code></pre>\n\n<p>When adding event handler through JavaScript, <code>this</code> refers to DOM element that generated the event.</p>\n\n<hr>\n\n<ul>\n<li>You can also manipulate the context using <code>.apply()</code> <code>.call()</code> and <code>.bind()</code></li>\n<li>JQuery proxy is another way you can use to make sure this in a function will be the value you desire. (Check <a href=\"http://stackoverflow.com/q/4986329/340046\">Understanding $.proxy()</a>, <a href=\"http://stackoverflow.com/q/3349380/340046\">jQuery.proxy() usage</a>)</li>\n<li><a href=\"http://stackoverflow.com/a/4886696/340046\">What does <code>var that = this</code> means in JavaScript</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h1>Javascript's <code>this</code></h1>\n\n<h2>Simple function invocation</h2>\n\n<p>Consider the following function:</p>\n\n<pre><code>function foo() {\n    console.log(\"bar\");\n    console.log(this);\n}\nfoo(); // calling the function\n</code></pre>\n\n<p>Note that we are running this in the normal mode, i.e. strict mode is not used.</p>\n\n<p>When run in a browser, the value of <code>this</code> would be logged as <code>window</code>. This is because <code>window</code> is the global variable in a web browser's scope.</p>\n\n<p>If you run this same piece of code in an environment like node.js, <code>this</code> would refer to the global variable in your app.</p>\n\n<p>Now if we run this in strict mode by adding the statement <code>\"use strict\";</code> to the beginning of the function declaration, <code>this</code> would no longer refer to the global variable in either of the envirnoments. This is done to avoid confusions in the strict mode. <code>this</code> would, in this case just log <code>undefined</code>, because that is what it is, it is not defined.</p>\n\n<p>In the following cases, we would see how to manipulate the value of <code>this</code>.</p>\n\n<h2>Calling a function on an object</h2>\n\n<p>There are different ways to do this. If you have called native methods in Javascript like <code>forEach</code> and <code>slice</code>, you should already know that the <code>this</code> variable in that case refers to the <code>Object</code> on which you called that function (Note that in javascript, just about everything is an <code>Object</code>, including <code>Array</code>s and <code>Function</code>s). Take the following code for example.</p>\n\n<pre><code>var myObj = {key: \"Obj\"};\nmyObj.logThis = function () {\n    // I am a method\n    console.log(this);\n}\nmyObj.logThis(); // myObj is logged\n</code></pre>\n\n<p>If an <code>Object</code> contains a property which holds a <code>Function</code>, the property is called a method. This method, when called, will always have it's <code>this</code> variable set to the <code>Object</code> it is associated with. This is true for both strict and non-strict modes.</p>\n\n<p>Note that if a method is stored (or rather, copied) in another variable, the reference to <code>this</code> is no longer preserved in the new variable. For example:</p>\n\n<pre><code>// continuing with the previous code snippet\n\nvar myVar = myObj.thisMethod;\nmyVar();\n// logs either of window/global/undefined based on mode of operation\n</code></pre>\n\n<p>Considering a more commonly practical scenario:</p>\n\n<pre><code>var el = document.getElementById('idOfEl');\nel.addEventListener('click', function() { console.log(this) });\n// the function called by addEventListener contains this as the reference to the element\n// so clicking on our element would log that element itself\n</code></pre>\n\n<h2>The <code>new</code> keyword</h2>\n\n<p>Consider a constructor function in Javascript:</p>\n\n<pre><code>function Person (name) {\n    this.name = name;\n    this.sayHello = function () {\n        console.log (\"Hello\", this);\n    }\n}\n\nvar awal = new Person(\"Awal\");\nawal.sayHello();\n// In `awal.sayHello`, `this` contains the reference to the variable `awal`\n</code></pre>\n\n<p>How does this work? Well, let's see what happens when we use the <code>new</code> keyword.</p>\n\n<ol>\n<li>Calling the function with the <code>new</code> keyword would immediately initialze an <code>Object</code> of type <code>Person</code>.</li>\n<li>The constructor of this <code>Object</code> has its constructor set to <code>Person</code>. Also, note that <code>typeof awal</code> would return <code>Object</code> only.</li>\n<li>This new <code>Object</code> would be assigned the protoype of <code>Person.prototype</code>. This means that any method or property in the <code>Person</code> prototype would be available to all instances of <code>Person</code>, including <code>awal</code>.</li>\n<li>The function <code>Person</code> itself is now invoked; <code>this</code> being a reference to the newly constructed object <code>awal</code>.</li>\n</ol>\n\n<p>Pretty straighforward, eh?</p>\n\n<p>Note that the official ECMAScript spec no where states that such types of functions are actual <code>constructor</code> functions. They are just normal functions, and <code>new</code> can be used on any function. It's just that we use them as such, and so we call them as such only.</p>\n\n<h2>Calling functions on Functions : <code>call</code> and <code>apply</code></h2>\n\n<p>So yeah, since <code>function</code>s are also <code>Objects</code> (and in-fact first class variables in Javascript), even functions have methods which are... well, functions themselved.</p>\n\n<p>All functions inherit from the global <code>Function</code>, and two of its many methods are <code>call</code> and <code>apply</code>, and both can be used to manipulate the value of <code>this</code> in the function on which they are called.</p>\n\n<pre><code>function foo () { console.log (this, arguments); }\nvar thisArg = {myObj: \"is cool\"};\nfoo.call(thisArg, 1, 2, 3);\n</code></pre>\n\n<p>This is a typical example of using <code>call</code>. It basically takes the first parameter and sets <code>this</code> in the function <code>foo</code> as a reference to <code>thisArg</code>.  All other parameters passed to <code>call</code> are passed to the function <code>foo</code> as arguments.<br>\nSo the above code will log <code>{myObj: \"is cool\"}, [1, 2, 3]</code> in the console. Pretty nice way to change the value of <code>this</code> in any function.</p>\n\n<p><code>apply</code> is almost the same as <code>call</code> accept that it takes only two parameters: <code>thisArg</code> and an array which contains the arguments to be passed to the function. So the above <code>call</code> call can be translated to <code>apply</code> like this:</p>\n\n<pre><code>foo.apply(thisArg, [1,2,3])\n</code></pre>\n\n<p>Note that <code>call</code> and <code>apply</code> can override the value of <code>this</code> set by dot method invocation we discussed in the second bullet.\nSimple enough :)</p>\n\n<h2>Presenting.... <code>bind</code>!</h2>\n\n<p><code>bind</code> is a brother of <code>call</code> and <code>apply</code>.  It is also a method inherited by all functions from the global <code>Function</code> constructor in Javascript. The difference between <code>bind</code> and <code>call</code>/<code>apply</code> is that both <code>call</code> and <code>apply</code> will actually invoke the function. <code>bind</code>, on the other hand, returns a new function with the <code>thisArg</code> and <code>arguments</code> pre-set. Let's take an example to better understand this:</p>\n\n<pre><code>function foo (a, b) {\n    console.log (this, arguments);\n}\nvar thisArg = {myObj: \"even more cool now\"};\nvar bound = foo.bind(thisArg, 1, 2);\nconsole.log (typeof bound); // logs `function`\nconsole.log (bound);\n/* logs `function () { native code }` */\n\nbound(); // calling the function returned by `.bind`\n// logs `{myObj: \"even more cool now\"}, [1, 2]`\n</code></pre>\n\n<p>See the difference between the three? It is subtle, but they are used differently. Like <code>call</code> and <code>apply</code>, <code>bind</code> will also over-ride the value of <code>this</code> set by dot-method invocation.</p>\n\n<p>Also note that neither of these three functions do any change to the original function. <code>call</code> and <code>apply</code> would return the value from freshly constructed functions while <code>bind</code> will return the freshly constructed function itself, ready to be called.</p>\n\n<h2>Extra stuff, copy this</h2>\n\n<p>Sometimes, you don't like the fact that <code>this</code> changes with scope, specially nested scope. Take a look at the following example.</p>\n\n<pre><code>var myObj = {\n    hello: function () {\n        return \"world\"\n        },\n    myMethod: function () {\n        // copy this, variable names are case-sensitive\n        var that = this;\n        // callbacks ftw \\o/\n        foo.bar(\"args\", function () {\n            // I want to call `hello` here\n            this.hello(); // error\n            // but `this` references to `foo` damn!\n            // oh wait we have a backup \\o/\n            that.hello(); // \"world\"\n        });\n    }\n  };\n</code></pre>\n\n<p>In the above code, we see that the value of <code>this</code> changed with nested scope, but we wanted the value of <code>this</code> from the original scope. So we 'copied' <code>this</code> to <code>that</code> and used the copy instead of <code>this</code>. Clever, eh?</p>\n\n<p>Index:</p>\n\n<ol>\n<li>What is held in <code>this</code> by default?</li>\n<li>What if we call the function as a method with Object-dot notation?</li>\n<li>What if we use the <code>new</code> keyword?</li>\n<li>How do we manipulate <code>this</code> with <code>call</code> and <code>apply</code>?</li>\n<li>Using <code>bind</code>.</li>\n<li>Copying <code>this</code> to solve nested-scope issues.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><em>Since this thread has bumped up, I have compiled few points for readers new to <code>this</code> topic.</em> </p>\n\n<h1>How is the value of <code>this</code> determined?</h1>\n\n<p>We use this similar to the way we use pronouns in natural languages like English:  \u201cJohn is running fast because <strong><em>he</em></strong> is trying to catch the train.\u201d Instead we could have written \u201c\u2026 <strong><em>John</em></strong> is trying to catch the train\u201d.  </p>\n\n<pre><code>var person = {    \n    firstName: \"Penelope\",\n    lastName: \"Barrymore\",\n    fullName: function () {\n\n    // We use \"this\" just as in the sentence above:\n       console.log(this.firstName + \" \" + this.lastName);\n\n    // We could have also written:\n       console.log(person.firstName + \" \" + person.lastName);\n    }\n}\n</code></pre>\n\n<p><code>this</code> <strong>is not assigned a value</strong> until an object invokes the function where it is defined. In the global scope, all global variables and functions are defined on the <code>window</code> object. Therefore, <code>this</code> in a global function refers to (and has the value of) the global <code>window</code> object. </p>\n\n<p>When <code>use strict</code>, <code>this</code> in global and in anonymous functions that are not bound to any object holds a value of <code>undefined</code>.</p>\n\n<p>The <code>this</code> keyword is <a href=\"http://javascriptissexy.com/understand-javascripts-this-with-clarity-and-master-it/#When_this_is_most_misunderstood_and_becomes_tricky\" rel=\"nofollow\">most misunderstood</a> when: 1) we borrow a method that uses <code>this</code>, 2) we assign a method that uses <code>this</code> to a variable, 3) a function that uses <code>this</code> is passed as a callback function, and 4) <code>this</code> is used inside a closure \u2014 an inner function. <sup>(2)</sup></p>\n\n<p><img src=\"http://i.stack.imgur.com/nPSkX.png\" alt=\"table\"></p>\n\n<h2>What holds the future</h2>\n\n<p>Defined in <a href=\"https://leanpub.com/understandinges6/read\" rel=\"nofollow\">ECMA Script 6</a>, arrow-functions adopt the <code>this</code> binding from the\nenclosing (function or global) scope.</p>\n\n<pre><code>function foo() {\n     // return an arrow function\n     return (a) =&gt; {\n     // `this` here is lexically inherited from `foo()`\n     console.log(this.a);\n  };\n}\nvar obj1 = { a: 2 };\nvar obj2 = { a: 3 };\n\nvar bar = foo.call(obj1);\nbar.call( obj2 ); // 2, not 3!\n</code></pre>\n\n<p>While arrow-functions provide an alternative to using <code>bind()</code>, it\u2019s important to note that they essentially are disabling the traditional <code>this</code> mechanism in favor of more widely understood lexical scoping. <sup>(1)</sup></p>\n\n<hr>\n\n<p><strong><em>References:</em></strong></p>\n\n<ol>\n<li><strong>this &amp; Object Prototypes</strong>, by Kyle Simpson. \u00a9 2014 Getify Solutions.</li>\n<li>javascriptissexy.com - <a href=\"http://goo.gl/pvl0GX\" rel=\"nofollow\">http://goo.gl/pvl0GX</a> </li>\n<li>Angus Croll - <a href=\"http://goo.gl/Z2RacU\" rel=\"nofollow\">http://goo.gl/Z2RacU</a> </li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have noticed that there doesn't appear to be a clear explanation of what the <code>this</code> keyword is and how it is correctly (and incorrectly) used in JavaScript on the Stack Overflow site.</p>\n\n<p>I have witnessed some very strange behaviour with it and have failed to understand why it has occurred.</p>\n\n<p>How does <code>this</code> work and when should it be used?</p>\n",
            "last_activity_date": 1426166555,
            "question_id": 3127429,
            "score": 329,
            "tags": [
                "javascript",
                "this"
            ],
            "title": "How does the &quot;this&quot; keyword work?"
        },
        {
            "answer_count": 26,
            "answers": [
                {
                    "body": "<p><strong>Obfuscation:</strong></p>\n\n<p>Try <a href=\"http://developer.yahoo.com/yui/compressor/\"><strong>YUI Compressor</strong></a>.  It's a very popular tool, built, enhanced and maintained by the Yahoo UI team.</p>\n\n<p>You may also use:</p>\n\n<ul>\n<li><a href=\"http://closure-compiler.appspot.com/home\">Google Closure Compiler</a></li>\n<li><a href=\"http://marijnhaverbeke.nl/uglifyjs\">UglifyJS</a></li>\n</ul>\n\n<p><strong>Private String Data:</strong></p>\n\n<p>Keeping string values private is a different concern, and obfuscation won't really be of much benefit.  Of course, by packaging up your source into a garbled, minified mess, you have a light version of <strong>security</strong> through <strong>obscurity</strong>.  Most of the time, it's your user who is viewing the source, and the string values on the client are intended for their use, so that sort of private string value isn't often necessary.</p>\n\n<p>If you really had a value that you never wanted a user to see, you would have a couple of options.  First, you could do some kind of encryption, which is decrypted at page load.  That would probably be one of the most secure options, but also a lot of work which may be unnecessary.  You could probably base64 encode some string values, and that would be easier.. but someone who really wanted those string values could <strong>easily decode them</strong>.  Encryption is the only way to truly prevent anyone from accessing your data, and most people find that to be more security than they need.</p>\n\n<p><strong>Sidenote:</strong></p>\n\n<p>Obfuscation in Javascript has been known to cause some bugs. The obfuscators are getting a little better about it, but many outfits decide that they see enough benefit from <strong>minifying</strong> and <strong>gzipping</strong>, and the added savings of obfuscation <strong>isn't always worth the trouble</strong>.  If you're trying to protect your source, maybe you'll decide that it's worth your while, just to make your code harder to read. <a href=\"http://www.crockford.com/javascript/jsmin.html\"><strong>JSMin</strong></a> is a good alternative.</p>\n",
                    "is_accepted": true,
                    "score": 259
                },
                {
                    "body": "<p>The problem with interpreted languages, is that you send the source to get them working (unless you have a compiler to bytecode, but then again, it is quite trivial to decompile).</p>\n\n<p>So, if you don't want to sacrifice performance, you can only act on variable and function names, eg. replacing them with a, b... aa, ab... or a101, a102, etc. And, of course, remove as much space/newlines as you can (that's what so called JS compressors do).<br />\nObfuscating strings will have a performance hit, if you have to encrypt them and decrypt them in real time. Plus a JS debugger can show the final values...</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>There are a number of JavaScript obfuscation tools that are freely available; however, I think it's important to note that it is difficult to obfuscate JavaScript to the point where it cannot be reverse-engineered. </p>\n\n<p>To that end, there are several options that I've used to some degree overtime:</p>\n\n<ul>\n<li><p><a href=\"http://developer.yahoo.com/yui/compressor/\">YUI Compressor</a>. Yahoo!'s JavaScript compressor does a good job of condensing the code that will improve its load time. There is a small level of obfuscation that works relatively well. Essentially, Compressor will change function names, remove white space, and modify local variables. This is what I use most often. This is an open-source Java-based tool.</p></li>\n<li><p><a href=\"http://www.crockford.com/javascript/jsmin.html\">JSMin</a> is a tool written by Douglas Crockford that seeks to minify your JavaScript source. In Crockford's own words, \"JSMin does not obfuscate, but it does uglify.\" It's primary goal is to minify the size of your source for faster loading in browsers.</p></li>\n<li><p><a href=\"http://www.javascriptobfuscator.com/Default.aspx\">Free JavaScript Obfuscator</a>. This is a web-based tool that attempts to obfuscate your code by actually encoding it. I think that the trade-offs of its form of encoding (or obfuscation) could come at the cost of filesize; however, that's a matter of personal preference.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>I can recommend <a href=\"http://jsutility.pjoneil.net/\" rel=\"nofollow\">JavaScript Utility</a> by Patrick J. O'Neil. It can obfuscate/compact and compress and it seems to be pretty good at these. That said, I never tried integrating it in a build script of any kind.</p>\n\n<p>As for obfuscating vs. minifying - I am not a big fan of the former. It makes debugging impossible (Error at line 1... \"wait, there is only one line\") and they always take time to unpack. But if you need to... well.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can obfuscate the javascript source all you want, but it will always be reverse-engineerable just by virtue of requiring all the source code to actually run on the client machine... the best option I can think of is having all your processing done with server-side code, and all the client code javascript does is send requests for processing to the server itself. Otherwise, anyone will always be able to keep track of all operations that the code is doing.</p>\n\n<p>Someone mentioned base64 to keep strings safe. This is a terrible idea. Base64 is immediately recognizable by the types of people who would want to reverse engineer your code. The first thing they'll do is unencode it and see what it is.</p>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>A non-open-source Javascript-based application is fairly silly. Javascript is a client-side interpreted language.. Obfuscation isn't much protection..</p>\n\n<p>JS obfuscation is usually done to reduce the size of the script, rather than \"protect\" it. If you are in a situation where you don't want your code to be public, Javascript isn't the right language..</p>\n\n<p>There are plenty of tools around, but most have the word \"compressor\" (or \"minifier\") in its name for a reason..</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Obfuscation can never really work.  For anyone who really wants to get at your code, it's just a speed bump.  Worse, it keeps your users from fixing bugs (and shipping them back to you) and makes it harder for you to diagnose problems in the field.  Its a waste of your time and money.</p>\n\n<p>Write a license and get a lawyer to go after violators.</p>\n\n<p>The only way you can really protect your code is to not ship it.  Move the important code server-side and have your public Javascript code do Ajax calls to it.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/232736/code-obfuscator-for-php\">See my full answer about obfuscators here.</a></p>\n",
                    "is_accepted": false,
                    "score": 73
                },
                {
                    "body": "<p><a href=\"http://www.anotherchris.net/tools/online-javascript-minifier/\" rel=\"nofollow\">This one minifies</a> but doesn't obfuscate. If you don't want to use command line Java you can paste your javascript into a webform.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm under the impression that some enterprises (e.g.: JackBe) put encrypted JavaScript code inside *.gif files, rather than JS files, as an additional measure of obfuscation.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As a JavaScript/HTML/CSS obfuscator/compressor you can also try <a href=\"http://digua.sf.net\" rel=\"nofollow\">Patu Digua</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm surprised no one has mentioned Google's <a href=\"http://code.google.com/closure/compiler/\">Closure Compiler</a>. It doesn't just minify/compress, it analyzes to find and remove unused code, and rewrites for maximum minification. It can also do type checking and will warn about syntax errors. </p>\n\n<p>JQuery recently switched from YUI Compresser to Closure Compiler, and saw a \"<a href=\"http://twitter.com/jeresig/status/5462879648\">solid improvement</a>\"</p>\n",
                    "is_accepted": false,
                    "score": 94
                },
                {
                    "body": "<p>Try <a href=\"http://www.jscrambler.com\">JScrambler</a>. I gave it a spin recently and  was impressed by it. \nIt provides a set of templates for obfuscation with predefined settings for those who dont care much about the details and just want to get it done quickly. You can also create custom obfuscation by choosing whatever transformations/techniques you want.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Contrary to most of the other answers I suggest against YUI Compressor; you should use <a href=\"http://code.google.com/closure/\">Google Closure</a>.</p>\n\n<p>Not much because it compresses more, but mostly because it will catch javascript errors such as <code>a = [1,2,3,];</code> which make IE go haywire.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>If you use a JavaScript library, consider Dojo Toolkit which is compatible (after minor modifications) with the Closure Compiler's Advanced mode compilation.</p>\n\n<p><a href=\"http://dojo-toolkit.33424.n3.nabble.com/file/n2636749/Using_the_Dojo_Toolkit_with_the_Closure_Compiler.pdf?by-user=t\" rel=\"nofollow\">Dojo \u2013 The Only JavaScript Library \nCompatible with The Closure Compiler</a></p>\n\n<p>Code compiled with Closure Advanced mode is almost impossible to reverse-engineer, even passing through a beautifier, as the <em>entire</em> code base (includinhg the library) is obfuscated.  It is also 25% small on average.</p>\n\n<p>JavaScript code that is merely minified (YUI Compressor, Uglify etc.) is easy to reverse-engineer after passing through a beautifier.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could try this as an alternative as well.</p>\n\n<p><a href=\"http://tools.2vi.nl\" rel=\"nofollow\">ObfuscateJS : Javascript Obfuscator</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I would suggest first minify with something like YUI Compressor, and then convert all string and numbers to HEX Values using something like <a href=\"http://www.javascriptobfuscator.com/\" rel=\"nofollow\">http://www.javascriptobfuscator.com/</a></p>\n\n<p>With this, the code would be rendered near impossible to understand and I think at this Stage it will take more time for a Hacker to re-enact your code than actually if he re-wrote from scratch. Rewriting and Cloning is what you cant actually stop. After all we are free-people !</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Dean Edward's Packer is an excellent obfuscator, though it primarily obfuscates the code, not any string elements you may have within your code.</p>\n\n<p>See: <a href=\"http://jscompress.com\" rel=\"nofollow\">Online Javascript Compression Tool</a>  and select Packer (Dean Edwards) from the dropdown</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I've used this in the past, and it does a good job. It's not free, but you should definitely take a look.<br>\n<a href=\"http://www.stunnix.com/prod/jo\" rel=\"nofollow\">JavaScript Obfuscator &amp; Encoder</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I am using Closure-Compiler utility for the java-script obfuscation.  It minifies the code and has more options for obfuscation.\nThis utility is available at Google code at below URL:<br>\n<a href=\"http://code.google.com/closure/compiler\" rel=\"nofollow\">Closure Tools</a></p>\n\n<p>But now a days I am hearing much of UglifyJS.  You can find various comparison between Closure Compiler and UglifyJS in which Uglify seems to be a winner.<br>\n<a href=\"http://badassjs.com/post/971960912/uglifyjs-a-fast-new-javascript-compressor-for-node-js\" rel=\"nofollow\">UglifyJS: A Fast New JavaScript Compressor For Node.js That\u2019s On Par With Closure</a></p>\n\n<p>Soon I would give chance to UglifyJS.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try this tool <a href=\"http://javascript-source.com/\" rel=\"nofollow\">Javascript Obfuscator</a></p>\n\n<p>I used it on my HTML5 game not only it reduced it size from 950KB to 150 but also made the source code unreadable closure compilers and minifiers are reversable I personally dont know how to reverse this obfuscation.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've been using <a href=\"http://www.jasob.com/\" rel=\"nofollow\">Jasob</a> for years and it is hands down the best obfuscator out there.<br>\nIt has an advanced UI but is still intuitive and easy to use.<br>\nIt will also handle HTML and CSS files.</p>\n\n<p>The best way to use it is to prefix all of your <em>private</em> variables with something like an underscore, then use the <code>sort</code> feature to group them all together and <em>check</em> them off as targets for obfuscation.  </p>\n\n<p>Users can still view your source, but it's much more difficult to decipher when your private variables are converted from something like <code>_sUserPreferredNickName</code> to <code>a</code>.</p>\n\n<p>The engine will automatically tally up the number of targeted variables and prioritize them to get the maximum compression.</p>\n\n<p>I don't work for Jasob and I get nothing out of promoting them, just offering some friendly advice.<br>\nThe downside is that it's not free and is a little pricey, but still worth it when stacked against alternatives - the 'free' options don't even come close.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is an alpha version of an Obfuscator compressor pretty good, you cna report bug if after obfuscation your code not run.</p>\n\n<p><a href=\"http://javaencrypt.com/javascript-obfuscator/index.php?lang=en\" rel=\"nofollow\">Obfuscating javascript with dirty code</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You definitely should consider taking a look at <a href=\"http://www.obfuscriptor.com/\" rel=\"nofollow\">Obfuscriptor</a>. </p>\n\n<p>I goes beyond the typical Javascript minifying tricks we've seen from other tools such as <a href=\"http://developer.yahoo.com/yui/compressor/\" rel=\"nofollow\">YUI Compressor</a> or <a href=\"http://closure-compiler.appspot.com/home\" rel=\"nofollow\">Google Closure</a>. </p>\n\n<p>The obfuscated code looks more like encrypted. Unlike anything I've seen before. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Have you tried <a href=\"http://www.bananascript.com/\" rel=\"nofollow\">Bananascript</a>? It produces highly compressed and completely unreadable code.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>What i would do:</p>\n\n<p><strong>A.</strong> Troll the hacker!</p>\n\n<p>This is will be in the second part my fake/obfuscated secret javascript code LAUNCHER.\nThe one you see in the source code.</p>\n\n<p>What does this code?</p>\n\n<ol>\n<li>loads the real code </li>\n<li>sets a custom header</li>\n<li>posts a custom variable</li>\n</ol>\n\n<hr>\n\n<pre><code>var ajax=function(a,b,d,c,e,f){\n e=new FormData();\n for(f in d){e.append(f,d[f]);};\n c=new XMLHttpRequest();\n c.open('POST',a);\n c.setRequestHeader(\"Troll1\",\"lol\");\n c.onload=b;\n c.send(e);\n};\nwindow.onload=function(){\n ajax('Troll.php',function(){\n  (new Function(atob(this.response)))()\n },{'Troll2':'lol'});\n}\n</code></pre>\n\n<p><strong>B.</strong> Obfuscate the code a little</p>\n\n<p>What is that?</p>\n\n<ol>\n<li>thats the same code as above in base64</li>\n<li>this is not the SECRET javascript code</li>\n</ol>\n\n<hr>\n\n<pre><code>(new Function(atob('dmFyIGFqYXg9ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2U9bmV3IEZvcm1EYXRhKCk7Zm9yKGYgaW4gZCl7ZS5hcHBlbmQoZixkW2ZdKTt9O2M9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7Yy5vcGVuKCdQT1NUJyxhKTtjLnNldFJlcXVlc3RIZWFkZXIoIlRyb2xsMSIsImxvbCIpO2Mub25sb2FkPWI7Yy5zZW5kKGUpO307d2luZG93Lm9ubG9hZD1mdW5jdGlvbigpe2FqYXgoJ1Ryb2xsLnBocCcsZnVuY3Rpb24oKXsgKG5ldyBGdW5jdGlvbihhdG9iKHRoaXMucmVzcG9uc2UpKSkoKX0seydUcm9sbDInOidsb2wnfSk7fQ==')))()\n</code></pre>\n\n<p><strong>C</strong> Create a hard to display php file with the real code inside</p>\n\n<p>What does this php code?</p>\n\n<ol>\n<li>Checks for the right referrer (domain/dir/code of your launcher)</li>\n<li>Checks for the custom HEADER</li>\n<li>Checks for the custom POST variable</li>\n</ol>\n\n<p>If everything is ok it will show you the right code else a fake code or ban ip, close page.. whatever.</p>\n\n<pre><code>&lt;?php\n$t1=apache_request_headers();\nif(base64_encode($_SERVER['HTTP_REFERER'])=='aHR0cDovL2hlcmUuaXMvbXkvbGF1bmNoZXIuaHRtbA=='&amp;&amp;$_POST['Troll2']=='lol'&amp;&amp;$t1['Troll1']='lol'){\n echo 'ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuaW5uZXJUZXh0PSdBd2Vzb21lJzsNCg==';//here is the SECRET javascript code\n}else{\n echo 'd2luZG93Lm9wZW4oJycsICdfc2VsZicsICcnKTt3aW5kb3cuY2xvc2UoKTs=';\n};\n?&gt;\n</code></pre>\n\n<p>base64 referrer = <code>http://here.is/my/launcher.html</code></p>\n\n<p>SECRET javascript = <code>document.body.appendChild(document.createElement('div')).innerText='Awesome';</code></p>\n\n<p>FAKE = <code>window.open('', '_self', '');window.close();</code></p>\n\n<p>Now .. if you define event handlers in the SECRET javascript it's probably accessible.. you need to define them outside with the launchcode and pointing to a nested SECRET function.</p>\n\n<p>SO... is there a easy wayto get the code?\n<code>document.body.appendChild(document.createElement('div')).innerText='Awesome';</code></p>\n\n<p><strong>I'm not sure if this works but i'm using chrome and checked Elements,Resources,Network,Sources,Timeline,Profiles,Audits but i didn't find the line above.</strong></p>\n\n<p>note1: if u open the Troll.php url from Inspect element->network in chrome you get the fake code.</p>\n\n<p>note2: the whole code is written for modern browsers. polyfill needs alot more code.</p>\n\n<p>EDIT </p>\n\n<p>launcher.html</p>\n\n<pre><code>&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;&lt;/title&gt;&lt;script src=\"data:application/javascript;base64,KG5ldyBGdW5jdGlvbihhdG9iKCdkbUZ5SUdGcVlYZzlablZ1WTNScGIyNG9ZU3hpTEdRc1l5eGxMR1lwZTJVOWJtVjNJRVp2Y20xRVlYUmhLQ2s3Wm05eUtHWWdhVzRnWkNsN1pTNWhjSEJsYm1Rb1ppeGtXMlpkS1R0OU8yTTlibVYzSUZoTlRFaDBkSEJTWlhGMVpYTjBLQ2s3WXk1dmNHVnVLQ2RRVDFOVUp5eGhLVHRqTG5ObGRGSmxjWFZsYzNSSVpXRmtaWElvSWxSeWIyeHNNU0lzSW14dmJDSXBPMk11YjI1c2IyRmtQV0k3WXk1elpXNWtLR1VwTzMwN2QybHVaRzkzTG05dWJHOWhaRDFtZFc1amRHbHZiaWdwZTJGcVlYZ29KMVJ5YjJ4c0xuQm9jQ2NzWm5WdVkzUnBiMjRvS1hzZ0tHNWxkeUJHZFc1amRHbHZiaWhoZEc5aUtIUm9hWE11Y21WemNHOXVjMlVwS1Nrb0tYMHNleWRVY205c2JESW5PaWRzYjJ3bmZTazdmUT09JykpKSgp\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Troll.php</p>\n\n<pre><code>&lt;?php $t1=apache_request_headers();if(/*base64_encode($_SERVER['HTTP_REFERER'])=='PUT THE LAUNCHER REFERER HERE'&amp;&amp;*/$_POST['Troll2']=='lol'&amp;&amp;$t1['Troll1']='lol'){echo 'ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuaW5uZXJUZXh0PSdBd2Vzb21lJzsNCg==';}else{echo 'd2luZG93Lm9wZW4oJycsICdfc2VsZicsICcnKTt3aW5kb3cuY2xvc2UoKTs=';}; ?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can't secure client side code: just press F12 on Google Chrome, <em>pause javascript execution</em> and you will get all strings, even those encrypted. <a href=\"http://jsbeautifier.org/\">Beautify</a> it and <a href=\"http://esprima.org/demo/rename.html\">rename variables</a> and you will get almost the original code.</p>\n\n<p>If you're writing server side javascript (i.e. NodeJS) is afraid of someone hacking into your server and want to make the hacker work more difficult, giving you more time to get your access back, then use <em>javacript compilers</em>:</p>\n\n<p>You need to use Closure Compiler on Advanced Compilation, as it's the only tool that renames all your variables, even if those are used in multiple files/modules. But it just have a problem: it only work if you write in it's <a href=\"https://developers.google.com/closure/compiler/docs/api-tutorial3\">coding style</a>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I want to make a JavaScript application that's not open source, and thus have two questions:</p>\n\n<ol>\n<li>What's the best way to obfuscate the code?</li>\n<li>What's the best way to obfuscate the strings themselves within the application (assuming that the answer to #1 does not handle this)?</li>\n</ol>\n",
            "last_activity_date": 1402421463,
            "question_id": 194397,
            "score": 406,
            "tags": [
                "javascript",
                "hide",
                "obfuscation",
                "protect"
            ],
            "title": "How can I obfuscate(protect) JavaScript?"
        },
        {
            "answer_count": 36,
            "answers": [
                {
                    "body": "<p>It is possible to dynamically generate a JavaScript tag and append it to HTML document from inside other JavaScript code. This will load targeted JavaScript file.</p>\n\n<pre><code>function includeJs(jsFilePath) {\n    var js = document.createElement(\"script\");\n\n    js.type = \"text/javascript\";\n    js.src = jsFilePath;\n\n    document.body.appendChild(js);\n}\n\nincludeJs(\"/path/to/some/file.js\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Maybe you can use this function that I found on this page <em><a href=\"http://forums.digitalpoint.com/showthread.php?t=146094\" rel=\"nofollow\">How do I include a JavaScript file in a JavaScript file?</a></em>:</p>\n\n<pre><code>function include(filename)\n{\n    var head = document.getElementsByTagName('head')[0];\n\n    var script = document.createElement('script');\n    script.src = filename;\n    script.type = 'text/javascript';\n\n    head.appendChild(script)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>JavaScript has no import, include, or require. There are other ways for JavaScript to include external JavaScript contents, though.</p>\n\n<h3>Ajax Loading</h3>\n\n<p>Load an additional script with an Ajax call and then use <code>eval</code>. This is the most straightforward way, but it is limited to your domain because of the JavaScript sandbox security model. Using <code>eval</code> also opens the door to bugs and hacks.</p>\n\n<h3>jQuery Loading</h3>\n\n<p>The <a href=\"http://jquery.com/\">jQuery</a> library provides loading functionality <a href=\"http://api.jquery.com/jQuery.getScript/\">in one line</a>:</p>\n\n<pre><code>$.getScript(\"my_lovely_script.js\", function(){\n\n   alert(\"Script loaded and executed.\");\n\n   // Use anything defined in the loaded script...\n});\n</code></pre>\n\n<h3>Dynamic Script Loading</h3>\n\n<p>Add a script tag with the script URL in the HTML. To avoid the overhead of jQuery, this is an ideal solution.</p>\n\n<p>The script can even reside on a different server. Furthermore, the browser evaluates the code. The <code>&lt;script /&gt;</code> tag can be injected into either the web page <code>&lt;head&gt;</code>, or inserted just before the closing <code>&lt;/body&gt;</code> tag.</p>\n\n<p>Both of these solutions are discussed and illustrated in <em><a href=\"http://unixpapa.com/js/dyna.html\">JavaScript Madness: Dynamic Script Loading</a></em>.</p>\n\n<p>Now, there is a big issue you must know about. Doing that implies that <em>you remotely load the code</em>. Modern web browsers will load the file and keep executing your current script because they load everything asynchronously to improve performance.</p>\n\n<p>It means that if you use these tricks directly, <em>you won't be able to use your newly loaded code the next line after you asked it to be loaded</em>, because it will be still loading.</p>\n\n<p>For example: <code>my_lovely_script.js</code> contains <code>MySuperObject</code>:</p>\n\n<pre><code>var js = document.createElement(\"script\");\n\njs.type = \"text/javascript\";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);\n\nvar s = new MySuperObject();\n\nError : MySuperObject is undefined\n</code></pre>\n\n<p>Then you reload the page hitting <kbd>F5</kbd>. And it works! Confusing...</p>\n\n<p><strong>So what to do about it ?</strong></p>\n\n<p>Well, you can use the hack the author suggests in the link I gave you. In summary, for people in a hurry, he uses en event to run a callback function when the script is loaded. So you can put all the code using the remote library in the callback function. For example:</p>\n\n<pre><code>function loadScript(url, callback)\n{\n    // Adding the script tag to the head as suggested before\n    var head = document.getElementsByTagName('head')[0];\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n\n    // Then bind the event to the callback function.\n    // There are several events for cross browser compatibility.\n    script.onreadystatechange = callback;\n    script.onload = callback;\n\n    // Fire the loading\n    head.appendChild(script);\n}\n</code></pre>\n\n<p>Then you write the code you want to use AFTER the script is loaded in a <a href=\"http://en.wikipedia.org/wiki/Anonymous_function\">lambda function</a>:</p>\n\n<pre><code>var myPrettyCode = function() {\n\n   // Here, do what ever you want\n};\n</code></pre>\n\n<p>Then you run all that:</p>\n\n<pre><code>loadScript(\"my_lovely_script.js\", myPrettyCode);\n</code></pre>\n\n<h3>Source Code Merge</h3>\n\n<p>Another <a href=\"http://stackoverflow.com/q/5511989/59087\">solution</a> is to combine the two files into a single file. This can be used with minification to produce a single, minimally sized JavaScript file to include as normal.</p>\n",
                    "is_accepted": true,
                    "score": 1781
                },
                {
                    "body": "<p>I just wrote this JavaScript code (using <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\">Prototype</a> for <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a> manipulation):</p>\n\n<pre><code>var require = (function () {\nvar _required = {};\nreturn (function (url, callback) {\n    if (typeof url == 'object') {\n        // We've (hopefully) got an array: time to chain!\n        if (url.length &gt; 1) {\n            // Load the nth file as soon as everything up to the\n            // n-1th one is done.\n            require(url.slice(0,url.length-1), function () {\n                require(url[url.length-1], callback);\n            });\n        } else if (url.length == 1) {\n            require(url[0], callback);\n        }\n        return;\n    }\n    if (typeof _required[url] == 'undefined') {\n        // Haven't loaded this URL yet; gogogo!\n        _required[url] = [];\n\n        var script = new Element('script', {src:url, type:'text/javascript'});\n        script.observe('load', function () {\n            console.log(\"script \" + url + \" loaded.\");\n            _required[url].each(function (cb) {\n                cb.call(); // TODO: does this execute in the right context?\n            });\n            _required[url] = true;\n        });\n\n        $$('head')[0].insert(script);\n    } else if (typeof _required[url] == 'boolean') {\n        // We already loaded the thing, so go ahead.\n        if (callback) { callback.call(); }\n        return;\n    }\n\n    if (callback) { _required[url].push(callback); }\n});\n})();\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;script src=\"prototype.js\"&gt;&lt;/script&gt;\n&lt;script src=\"require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    require(['foo.js','bar.js'], function () {\n        /* Use foo.js and bar.js here */\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Gist: <a href=\"http://gist.github.com/284442\">http://gist.github.com/284442</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>You can also assemble your scripts using <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a>:</p>\n\n<p>File <code>main.js.php</code>:</p>\n\n<pre><code>&lt;?php\n    header('Content-type:text/javascript; charset=utf-8');\n    include_once(\"foo.js.php\");\n    include_once(\"bar.js.php\");\n?&gt;\n\n// Main JavaScript code goes here\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>There actually <em>is</em> a way to load a JavaScript file <em>not</em> asynchronously, so you could use the functions included in your newly loaded file right after loading it, and I think it works in all browsers.</p>\n\n<p>You need to use <code>jQuery.append()</code> on the <code>&lt;head&gt;</code> element of your page, that is:</p>\n\n<pre><code>$(\"head\").append('&lt;script type=\"text/javascript\" src=\"' + script + '\"&gt;&lt;/script&gt;');\n</code></pre>\n\n<p>However, this method also has a problem: if an error happens in the imported JavaScript file, <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\">Firebug</a> (and also Firefox Error Console and <a href=\"https://developers.google.com/chrome-developer-tools/\">Chrome Developer Tools</a> as well) will report its place incorrectly, which is a big problem if you use Firebug to track JavaScript errors down a lot (I do). Firebug simply doesn't know about the newly loaded file for some reason, so if an error occurs in that file, it reports that it occurred in your main <a href=\"http://en.wikipedia.org/wiki/HTML\">HTML</a> file, and you will have trouble finding out the real reason for the error.</p>\n\n<p>But if that is not a problem for you, then this method should work.</p>\n\n<p>I have actually written a jQuery plugin called *$.import_js()* which uses this method:</p>\n\n<pre><code>(function($)\n{\n    /*\n     * $.import_js() helper (for JavaScript importing within JavaScript code).\n     */\n    var import_js_imported = [];\n\n    $.extend(true,\n    {\n        import_js : function(script)\n        {\n            var found = false;\n            for (var i = 0; i &lt; import_js_imported.length; i++)\n                if (import_js_imported[i] == script) {\n                    found = true;\n                    break;\n                }\n\n            if (found == false) {\n                $(\"head\").append('&lt;script type=\"text/javascript\" src=\"' + script + '\"&gt;&lt;/script&gt;');\n                import_js_imported.push(script);\n            }\n        }\n    });\n\n})(jQuery);\n</code></pre>\n\n<p>So all you would need to do to import JavaScript is:</p>\n\n<blockquote>\n  <p>$.import_js('/path_to_project/scripts/somefunctions.js');</p>\n</blockquote>\n\n<p>I also made a simple test for this at <a href=\"http://www.kipras.com/dev/import_js_test/\">http://www.kipras.com/dev/import_js_test/</a>.</p>\n\n<p>It includes a <code>main.js</code> file in the main HTML and then the script in <code>main.js</code> uses <code>$.import_js()</code> to import an additional file called <code>included.js</code>, which defines this function:</p>\n\n<pre><code>function hello()\n{\n    alert(\"Hello world!\");\n}\n</code></pre>\n\n<p>And right after including <code>included.js</code>, the hello() function is called, and you get the alert.</p>\n\n<p>(This answer is in response to e-satis' comment.)</p>\n",
                    "is_accepted": false,
                    "score": 67
                },
                {
                    "body": "<p>Another way, that in my opinion is much cleaner, is to make a synchronous Ajax request instead of using a <code>&lt;script&gt;</code> tag. Which is also how <a href=\"http://en.wikipedia.org/wiki/Node.js\">Node.js</a> handles includes.</p>\n\n<p>Here's an example using jQuery:</p>\n\n<pre><code>function require(script) {\n    $.ajax({\n        url: script,\n        dataType: \"script\",\n        async: false,           // &lt;-- This is the key\n        success: function () {\n            // all good...\n        },\n        error: function () {\n            throw new Error(\"Could not load script \" + script);\n        }\n    });\n}\n</code></pre>\n\n<p>You can then use it in your code as you'd usually use an include:</p>\n\n<pre><code>require(\"/scripts/subscript.js\");\n</code></pre>\n\n<p>And be able to call a function from the required script in the next line:</p>\n\n<pre><code>subscript.doSomethingCool(); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 60
                },
                {
                    "body": "<p>I came to this question because I was looking for a simple way to maintain a collection of useful JavaScript plugins. After seeing some of the solutions here, I came up with this:</p>\n\n<p>1) Set up a file called \"plugins.js\" (or extentions.js or what have you). Keep your plugin files together with that one master file.</p>\n\n<p>2) plugins.js will have an array called \"pluginNames[]\" that we will iterate over each(),\nthen append a  tag to the head for each plugin</p>\n\n<pre><code>//set array to be updated when we add or remove plugin files\n var pluginNames = [\"lettering\", \"fittext\", \"butterjam\", etc.];\n//one script tag for each plugin\n $.each(pluginNames, function(){\n   $('head').append('&lt;script src=\"js/plugins/' + this + '.js\"&gt;&lt;/script&gt;');\n });\n</code></pre>\n\n<p>3) manually call just the one file in your head:<br>\n<code>&lt;script src=\"js/plugins/plugins.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>UPDATE: I found that even though all of the plugins were getting dropped into the head tag the way they ought to, they weren't always being run by the browser when you click into the page or refresh.</p>\n\n<p>I found it's more reliable to just write the script tags in a PHP include. You only have to write it once and that's just as much work as calling the plugin using JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have created a function that will allow you to use similar verbiage to C#/Java to include a JavaScript file. I've tested it a little bit even from inside of <em>another</em> JavaScript file and it seems to work. It does require jQuery though for a bit of \"magic\" at the end.</p>\n\n<p>I put this code in a file at the root of my script directory (I named it <code>global.js</code>, but you can use whatever you want. Unless I'm mistaken this and jQuery should be the only required scripts on a given page. Keep in mind this is largely untested beyond some basic usage, so there may or may not be any issues with the way I've done it; use at your own risk yadda yadda I am not responsible if you screw anything up yadda yadda:</p>\n\n<pre><code>/**\n* @fileoverview This file stores global functions that are required by other libraries.\n*/\n\nif (typeof(jQuery) === 'undefined') {\n    throw 'jQuery is required.';\n}\n\n/** Defines the base script directory that all .js files are assumed to be organized under. */\nvar BASE_DIR = 'js/';\n\n/**\n* Loads the specified file, outputting it to the &lt;head&gt; HTMLElement.\n*\n* This method mimics the use of using in C# or import in Java, allowing\n* JavaScript files to \"load\" other JavaScript files that they depend on\n* using a familiar syntax.\n*\n* This method assumes all scripts are under a directory at the root and will\n* append the .js file extension automatically.\n*\n* @param {string} file A file path to load using C#/Java \"dot\" syntax.\n*\n* Example Usage:\n* imports('core.utils.extensions');\n* This will output: &lt;script type=\"text/javascript\" src=\"/js/core/utils/extensions.js\"&gt;&lt;/script&gt;\n*/\nfunction imports(file) {\n    var fileName = file.substr(file.lastIndexOf('.') + 1, file.length);\n\n    // Convert PascalCase name to underscore_separated_name\n    var regex = new RegExp(/([A-Z])/g);\n    if (regex.test(fileName)) {\n        var separated = fileName.replace(regex, \",$1\").replace(',', '');\n        fileName = separated.replace(/[,]/g, '_');\n    }\n\n    // Remove the original JavaScript file name to replace with underscore version\n    file = file.substr(0, file.lastIndexOf('.'));\n\n    // Convert the dot syntax to directory syntax to actually load the file\n    if (file.indexOf('.') &gt; 0) {\n        file = file.replace(/[.]/g, '/');\n    }\n\n    var src = BASE_DIR + file + '/' + fileName.toLowerCase() + '.js';\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = src;\n\n    $('head').find('script:last').append(script);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In a past project I had quite a bit of success using <a href=\"http://ajile.net/\" rel=\"nofollow\">ajile</a> to do imports of reusable JavaScript files. I always wished there was a feature for this built into JavaScript itself.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is perhaps the biggest weakness of JavaScript in my opinion. It's caused me no end of problems over the years with dependency tracing. Anyhow, it does appear that the only <em>practical</em> solution is to use script includes in the HTML file and thus horribly making your JavaScript code dependent upon the user including the source you need and making reuse unfriendly.</p>\n\n<p>Sorry if this comes across as a lecture ;) It's a bad habit of mine, but I want to make a point.</p>\n\n<p>The problem comes back to the same as everything else with the web, the history of JavaScript. It really wasn't designed to be used in the widespread manner it's used in today. <a href=\"http://en.wikipedia.org/wiki/Netscape\" rel=\"nofollow\">Netscape</a> made a language that would allow you to control a few things, but they didn't envisage its widespread use for so many things as it is put to now and for one reason or another it's expanded from there, without addressing some of the fundamental weaknesses of he original strategy.</p>\n\n<p>It's not alone of course. HTML wasn't designed for the modern webpage; it was designed to be a way of expressing the logic of a document, so that readers (browsers in the modern world) could display this in an applicable form that was within the capabilities of the system, and it took years for a solution (other than the hacks of MS and Netscape) to come along. <a href=\"http://en.wikipedia.org/wiki/Cascading_Style_Sheets\" rel=\"nofollow\">CSS</a> solves this problem, but it was a long time coming and even longer to get people to use it rather than the established BAD techniques. It happened though, praise be.</p>\n\n<p>Hopefully JavaScript (especially now it's part of the standard) will develop to take on board the concept of proper modularity (as well as some other things) as every other (extant) programming language in the world does and this stupidity will go away. Until then you just have to not like it and lump it, I'm afraid.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Or rather than including at run time, use a script to concatenate prior to upload.</p>\n\n<p>I use <a href=\"https://github.com/sstephenson/sprockets\" rel=\"nofollow\">Sprockets</a> (I don't know if there are others). You build your JavaScript code in separate files and include comments that are processed by the Sprockets engine as includes. For development you can include files sequentially, then for production to merge them...</p>\n\n<p>See also:</p>\n\n<ul>\n<li><em><a href=\"http://37signals.com/svn/posts/1587-introducing-sprockets-javascript-dependency-management-and-concatenation\" rel=\"nofollow\">Introducing Sprockets: JavaScript dependency management and concatenation</a></em></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>If anyone is looking for something more advanced, try out <a href=\"http://requirejs.org/\">RequireJS</a>. You'll get added benefits such as dependency management, better concurrency, and avoid duplication (that is, retrieving a script more than once).</p>\n\n<p>You can write your JavaScript files in \"modules\" and then reference them as dependencies in other scripts. Or you can use RequireJS as a simple \"go get this script\" solution.</p>\n\n<p>Example:</p>\n\n<p>Define dependencies as modules:</p>\n\n<p><strong>some-dependency.js</strong></p>\n\n<pre><code>define(['lib/dependency1', 'lib/dependency2'], function (d1, d2) {\n\n     //Your actual script goes here.   \n     //The dependent scripts will be fetched if necessary.\n\n     return libraryObject;  //For example, jQuery object\n});\n</code></pre>\n\n<p><strong>implementation.js</strong> is your \"main\" JavaScript file that depends on <strong>some-dependency.js</strong></p>\n\n<pre><code>require(['some-dependency'], function(dependency) {\n\n    //Your script goes here\n    //some-dependency.js is fetched.   \n    //Then your script is executed\n});\n</code></pre>\n\n<p>Excerpt from the <a href=\"https://github.com/jrburke/requirejs\">GitHub</a> README:</p>\n\n<blockquote>\n  <p>RequireJS loads plain JavaScript files as well as more defined\n  modules. It is optimized for in-browser use, including in a Web\n  Worker, but it can be used in other JavaScript environments, like\n  Rhino and Node. It implements the Asynchronous Module API.</p>\n  \n  <p>RequireJS uses plain script tags to load modules/files, so it should\n  allow for easy debugging. It can be used simply to load existing\n  JavaScript files, so <strong>you can add it to your existing project without\n  having to re-write your JavaScript files.</strong></p>\n  \n  <p>... </p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 265
                },
                {
                    "body": "<p>There is a good news for you. Very soon you will be able to load JavaScript code easily. It will become a standard way of importing modules of JavaScript code and will be part of core JavaScript itself. </p>\n\n<p>You simply have to write <code>import cond from 'cond.js';</code> to load a macro named <code>cond</code> from a file <code>cond.js</code>.</p>\n\n<p>So you don't have to rely upon any JavaScript framework nor do you have to explicitly make <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\" rel=\"nofollow\">Ajax</a> calls.</p>\n\n<p>Refer to:</p>\n\n<ul>\n<li><p><em><a href=\"http://calculist.org/blog/2012/06/29/static-module-resolution/\" rel=\"nofollow\">Static module resolution</a></em></p></li>\n<li><p><em><a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:module_loaders\" rel=\"nofollow\">Module loaders</a></em></p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<pre><code>var js = document.createElement(\"script\");\n\njs.type = \"text/javascript\";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Better use the <a href=\"http://en.wikipedia.org/wiki/JQuery\" rel=\"nofollow\">jQuery</a> way. To delay the ready event, first call <code>$.holdReady(true)</code>.\nExample (<a href=\"http://jqapi.com/#p=jQuery.holdReady\" rel=\"nofollow\">source</a>):</p>\n\n<pre><code>$.holdReady(true);\n$.getScript(\"myplugin.js\", function() {\n    $.holdReady(false);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Don't forget to check out <a href=\"http://labjs.com\" rel=\"nofollow\">LAB.js</a>!</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n       $LAB\n       .script(\"jquery-1.8.3.js\").wait()\n       .script(\"scripts/clientscript.js\");      \n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Now, I may be totally misguided, but here's what I've recently started doing... \nStart and end your JavaScript files with a carriage return, place in the PHP script, followed by one more carriage return.\nThe JavaScript comment \"//\" is ignored by PHP so the inclusion happens anyway. The purpose for the carriage returns is so that the first line of your included JavaScript isn't commented out.</p>\n\n<p>Technically, you don't need the comment, but it posts errors in <a href=\"http://en.wikipedia.org/wiki/Adobe_Dreamweaver\" rel=\"nofollow\">Dreamweaver</a> that annoy me. If you're scripting in an IDE that doesn't post errors, you shouldn't need the comment or the carriage returns.</p>\n\n<pre><code>\\n\n//&lt;?php require_once(\"path/to/javascript/dependency.js\"); ?&gt;\n\nfunction myFunction(){\n    // stuff\n}\n\\n\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var s=[\"Hscript.js\",\"checkRobert.js\",\"Hscript.js\"];\nfor(i=0;i&lt;s.length;i++){\n  var script=document.createElement(\"script\");\n  script.type=\"text/javascript\";\n  script.src=s[i];\n  document.getElementsByTagName(\"head\")[0].appendChild(script)\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var s=['Hscript.js','checkRobert.js','Hscript.js'];\nfor(i=0;i&lt;s.length;i++){\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = s[i];\n  document.getElementsByTagName(\"head\")[0].appendChild(script);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This should do:</p>\n\n<pre><code>xhr = new XMLHttpRequest();\nxhr.open(\"GET\", \"/soap/ajax/11.0/connection.js\", false);\nxhr.send();\neval(xhr.responseText);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I wrote a simple module that automates the job of importing/including module scripts in JavaScript. For detailed explanation of the code, refer to the blog post <em><a href=\"http://stamat.wordpress.com/2013/04/12/javascript-require-import-include-modules/\" rel=\"nofollow\">JavaScript require / import / include modules</a></em>.</p>\n\n<pre><code>// ----- USAGE -----\n\nrequire('ivar.util.string');\nrequire('ivar.net.*');\nrequire('ivar/util/array.js');\nrequire('http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js');\n\nready(function(){\n    //Do something when required scripts are loaded\n});\n\n    //--------------------\n\nvar _rmod = _rmod || {}; //Require module namespace\n_rmod.LOADED = false;\n_rmod.on_ready_fn_stack = [];\n_rmod.libpath = '';\n_rmod.imported = {};\n_rmod.loading = {\n    scripts: {},\n    length: 0\n};\n\n_rmod.findScriptPath = function(script_name) {\n    var script_elems = document.getElementsByTagName('script');\n    for (var i = 0; i &lt; script_elems.length; i++) {\n        if (script_elems[i].src.endsWith(script_name)) {\n            var href = window.location.href;\n            href = href.substring(0, href.lastIndexOf('/'));\n            var url = script_elems[i].src.substring(0, script_elems[i].length - script_name.length);\n            return url.substring(href.length+1, url.length);\n        }\n    }\n    return '';\n};\n\n_rmod.libpath = _rmod.findScriptPath('script.js'); //Path of your main script used to mark\n                                                   //the root directory of your library, any library.\n\n\n_rmod.injectScript = function(script_name, uri, callback, prepare) {\n\n    if(!prepare)\n        prepare(script_name, uri);\n\n    var script_elem = document.createElement('script');\n    script_elem.type = 'text/javascript';\n    script_elem.title = script_name;\n    script_elem.src = uri;\n    script_elem.async = true;\n    script_elem.defer = false;\n\n    if(!callback)\n        script_elem.onload = function() {\n            callback(script_name, uri);\n        };\n    document.getElementsByTagName('head')[0].appendChild(script_elem);\n};\n\n_rmod.requirePrepare = function(script_name, uri) {\n    _rmod.loading.scripts[script_name] = uri;\n    _rmod.loading.length++;\n};\n\n_rmod.requireCallback = function(script_name, uri) {\n    _rmod.loading.length--;\n    delete _rmod.loading.scripts[script_name];\n    _rmod.imported[script_name] = uri;\n\n    if(_rmod.loading.length == 0)\n        _rmod.onReady();\n};\n\n_rmod.onReady = function() {\n    if (!_rmod.LOADED) {\n        for (var i = 0; i &lt; _rmod.on_ready_fn_stack.length; i++){\n            _rmod.on_ready_fn_stack[i]();\n        });\n        _rmod.LOADED = true;\n    }\n};\n\n_.rmod = namespaceToUri = function(script_name, url) {\n    var np = script_name.split('.');\n    if (np.getLast() === '*') {\n        np.pop();\n        np.push('_all');\n    }\n\n    if(!url)\n        url = '';\n\n    script_name = np.join('.');\n    return  url + np.join('/')+'.js';\n};\n\n//You can rename based on your liking. I chose require, but it\n//can be called include or anything else that is easy for you\n//to remember or write, except \"import\", because it is reserved\n//for future use.\nvar require = function(script_name) {\n    var uri = '';\n    if (script_name.indexOf('/') &gt; -1) {\n        uri = script_name;\n        var lastSlash = uri.lastIndexOf('/');\n        script_name = uri.substring(lastSlash+1, uri.length);\n    } \n    else {\n        uri = _rmod.namespaceToUri(script_name, ivar._private.libpath);\n    }\n\n    if (!_rmod.loading.scripts.hasOwnProperty(script_name)\n     &amp;&amp; !_rmod.imported.hasOwnProperty(script_name)) {\n        _rmod.injectScript(script_name, uri,\n            _rmod.requireCallback,\n                _rmod.requirePrepare);\n    }\n};\n\nvar ready = function(fn) {\n    _rmod.on_ready_fn_stack.push(fn);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I did:</p>\n\n<pre><code>var require = function (src, cb) {\n    cb = cb || function () {};\n\n    var newScriptTag = document.createElement('script'),\n        firstScriptTag = document.getElementsByTagName('script')[0];\n    newScriptTag.src = src;\n    newScriptTag.async = true;\n    console.log(newScriptTag)\n    newScriptTag.onload = newScriptTag.onreadystatechange = function () {\n        (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete') &amp;&amp; (cb());\n    };\n    firstScriptTag.parentNode.insertBefore(newScriptTag, firstScriptTag);\n}\n</code></pre>\n\n<p>It works great and uses no page-reloads for me. I tried that Ajax thing, but it doesn't really work.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Most of solutions shown here imply dynamical loading. I was searching instead for a compiler which assemble all the depended files into a single output file. The same as <a href=\"http://en.wikipedia.org/wiki/Less_%28stylesheet_language%29\" rel=\"nofollow\">Less</a>/<a href=\"http://en.wikipedia.org/wiki/Sass_%28stylesheet_language%29\" rel=\"nofollow\">Sass</a> preprocessors deal with the CSS <code>@import</code> at-rule. Since I didn't find anything decent of this sort, I wrote a simple tool solving the issue.</p>\n\n<p>So here is the compiler, <a href=\"https://github.com/dsheiko/jsic\" rel=\"nofollow\">https://github.com/dsheiko/jsic</a>, which replaces <code>$import(\"file-path\")</code> with the requested file content securely. Here is the corresponding <a href=\"http://gruntjs.com/\" rel=\"nofollow\">Grunt</a> plugin: <a href=\"https://github.com/dsheiko/grunt-jsic\" rel=\"nofollow\">https://github.com/dsheiko/grunt-jsic</a>.</p>\n\n<p>On the jQuery master branch, they simply concatenate atomic source files into a single one starting with <code>intro.js</code> and ending with <code>outtro.js</code>. That doesn't suits me as it provides no flexibility on the source code design. Check out how it works with jsic:</p>\n\n<p><em>src/main.js</em></p>\n\n<pre><code>var foo = $import(\"./Form/Input/Tel\");\n</code></pre>\n\n<p><em>src/Form/Input/Tel.js</em></p>\n\n<pre><code>function() {\n    return {\n          prop: \"\",\n          method: function(){}\n    }\n}\n</code></pre>\n\n<p>Now we can run the compiler:</p>\n\n<pre><code>node jsic.js src/main.js build/mail.js\n</code></pre>\n\n<p>And get the combined file</p>\n\n<p><em>build/main.js</em></p>\n\n<pre><code>var foo = function() {\n    return {\n          prop: \"\",\n          method: function(){}\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>function include(js)\n{\n    document.writeln(\"&lt;script src=\" + js + \"&gt;&lt;\" + \"/script&gt;\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This script will add a JavaScript file to the top of any other <code>&lt;script&gt;</code> tag:</p>\n\n<pre><code>(function () {\n    var li = document.createElement('script'); \n    li.type = 'text/javascript'; \n    li.src= \"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"; \n    li.async=true; \n    var s = document.getElementsByTagName('script')[0]; \n    s.parentNode.insertBefore(li, s);\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I also wrote a JavaScript dependency manager for Java web applications: <a href=\"http://damonsmith.github.io/js-class-loader/\" rel=\"nofollow\">JS-Class-Loader</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a <a href=\"http://gruntjs.com/\" rel=\"nofollow\">Grunt</a> plugin allowing you to use <code>@import \"path/to/file.js\";</code> syntax in any file including JavaScript files. It can be paired with uglify or watch or any other plugin.</p>\n\n<p>It can be installed with npm install: <a href=\"https://npmjs.org/package/grunt-import\" rel=\"nofollow\">https://npmjs.org/package/grunt-import</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you want in pure JavaScript, you can use document.write.</p>\n\n<pre><code>document.write('&lt;script src=\"myscript.js\" type=\"text/javascript\"&gt;&lt;/script&gt;');\n</code></pre>\n\n<p>If you use the jQuery library, you can use the $.getScript method.</p>\n\n<pre><code>$.getScript(\"another_script.js\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>There is also <a href=\"http://headjs.com/\" rel=\"nofollow\">Head.js</a>. It is very easy to deal with:</p>\n\n<pre><code>head.load(\"js/jquery.min.js\",\n          \"js/jquery.someplugin.js\",\n          \"js/jquery.someplugin.css\", function() {\n  alert(\"Everything is ok!\");\n});\n</code></pre>\n\n<p>As you see, it's easier than Require.js and as convenient as jQuery's <code>$.getScript</code> method. It also has some advanced features, like conditional loading, feature detection and <a href=\"http://headjs.com/site/api/v1.00.html\" rel=\"nofollow\">much more</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here is a <strong>synchronous</strong> version <strong>without jQuery</strong>:</p>\n\n<pre><code>function myRequire( url ) {\n    var ajax = new XMLHttpRequest();\n    ajax.open( 'GET', url, false ); // &lt;-- the 'false' makes it synchronous\n    ajax.onreadystatechange = function () {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4) {\n            switch( ajax.status) {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(\"script loaded: \", url);\n                    break;\n                default:\n                    console.log(\"ERROR: script not loaded: \", url);\n            }\n        }\n    };\n    ajax.send(null);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The <code>@import</code> syntax for achieving CSS-like JavaScript importing is possible using a tool such as Mixture via their special <code>.mix</code> file type (see <a href=\"http://docs.mixture.io/preprocessors#mix\" rel=\"nofollow\">here</a>). I imagine the application simply uses one of the aforementioned methods \"under the hood,\" though I don't know. </p>\n\n<p>From the Mixture documentation on <code>.mix</code> files: </p>\n\n<blockquote>\n  <p>Mix files are simply .js or .css files with .mix. in the file name. A\n  mix file simply     extends the functionality of a normal style or\n  script file and allows you to import and combine.</p>\n</blockquote>\n\n<p>Here's an example <code>.mix</code> file that combines multiple <code>.js</code> files into one:</p>\n\n<pre><code>// scripts-global.mix.js\n// Plugins - Global\n\n@import \"global-plugins/headroom.js\";\n@import \"global-plugins/retina-1.1.0.js\";\n@import \"global-plugins/isotope.js\";\n@import \"global-plugins/jquery.fitvids.js\";\n</code></pre>\n\n<p>Mixture outputs this as <code>scripts-global.js</code> and also as a minified version (<code>scripts-global.min.js</code>).</p>\n\n<p>Note: I'm not in any way affiliated with Mixture, other than using it as a front-end development tool. I came across this question upon seeing a <code>.mix</code> JavaScript file in action (in one of the Mixture boilerplates) and being a bit confused by it (\"you can do this?\" I thought to myself). Then I realized that it was an application-specific file type (somewhat disappointing, agreed). Nevertheless, figured the knowledge might be helpful for others.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I am adding the statement you have mentioned in the top of my .js file:</p>\n\n<pre><code>document.write('&lt;scr'+'ipt type=\"text/javascript\" src=\"file2.js\" &gt;&lt;/scr'+'ipt&gt;');\n</code></pre>\n\n<p>You don't need an include. You can just add the code to the <em>existing</em> JavaScript file. Or you can call JavaScript files from the HTML file.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>In case you are <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/basic_usage\" rel=\"nofollow\">using Web Workers</a> and want to include additional scripts in the scope of the worker, the other answers provided about adding scripts to the <code>head</code> tag etc will not work for you.</p>\n\n<p>Fortunately, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/basic_usage#Importing_scripts_and_libraries\" rel=\"nofollow\">Web Workers have their own <code>importScripts</code> function</a> which is a global function in the scope of the Web Worker, native to the browser itself as it <a href=\"https://html.spec.whatwg.org/multipage/workers.html#importing-scripts-and-libraries\" rel=\"nofollow\">is part of the spec</a>.</p>\n\n<p>Alternatively, <a href=\"http://stackoverflow.com/a/10939737/1676444\">as the second highest voted answer to your question highlights</a>, RequireJS can also handle including scripts inside a Web Worker (likely calling <code>importScripts</code> itself but with a few other useful features).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There are a lot of potential answers for this questions. My answer is obviously based on a number of them. Thank you for all the help. This is what I ended up with after reading through all the answers.</p>\n\n<p>The problem with $.getScript and really any other solution that requires a callback when loading is complete is that if you have multiple files that use it and depend on each other you no longer have a way to know when all scripts have been loaded. (Once they are nested in multiple files.)</p>\n\n<p>ex:</p>\n\n<p>file3.js</p>\n\n<pre><code>var f3obj = \"file3\";\n//define other stuff\n</code></pre>\n\n<p>file2.js:</p>\n\n<pre><code>var f2obj = \"file2\";\n$.getScript(\"file3.js\", function(){\n\n   alert(f3obj);\n\n   // use anything defined in file3.\n});\n</code></pre>\n\n<p>file1.js:</p>\n\n<pre><code>$.getScript(\"file2.js\", function(){\n   alert(f3obj); //This will probably fail because file3 is only guaranteed to have loaded inside the callback in file2.\n   alert(f2obj); \n\n\n   // Use anything defined in the loaded script...\n});\n</code></pre>\n\n<p>You are right when you say that you could specify ajax to run synchronously or use XMLHttpRequest, but the current trend appears to be to deprecate synchronous requests, so you may not get full browser support now or in the future. </p>\n\n<p>You could try to use $.when to check an array of deferred objects, but now you are doing this in every file and file2 will be considered loaded as soon as the $.when is executed not when the callback is executed so file1 still continues execution before file3 is loaded. This really still has the same problem.</p>\n\n<p>I decided to go backwards instead of forwards. Thank you document.writeln. I know its taboo, but as long as it is used correctly this works well. You end up with code that can be debugged easily, shows in the DOM correctly and can ensure the order the dependencies are loaded correctly.</p>\n\n<p>You can of course use $(\"body\").append(), but then you can no longer debug correctly anymore.</p>\n\n<p>NOTE: you must use this only while the page is loading, otherwise you get a blank screen. In other words, <strong>always place this before / outside of document.ready</strong>. I have not tested using this after the page is loaded in a click event or anything like that, but pretty sure it'll fail.</p>\n\n<p>I liked the idea of extending JQuery, but obviously you don't need to.</p>\n\n<p>Before calling document.writeln, it checks to make sure the script has not already been loading by evaluating all the script elements.</p>\n\n<p>I assume that a script is not fully executed until its document.ready event has been executed. (I know using document.ready is not required, but many people use it, handling this is a safeguard.)</p>\n\n<p>When the additional files are loaded the document.ready callbacks will get executed in the wrong order. To address this when a script is actually loaded, the script that imported it is re-imported itself and execution halted. This causes the originating file to now have it's document.ready callback executed after any from any scripts that it imports.</p>\n\n<p>Instead of this approach you could attempt to modify the JQuery readyList but this seemed like a worse solution.</p>\n\n<p>solution:</p>\n\n<pre><code>$.extend(true,\n{\n    import_js : function(scriptpath, reAddLast)\n    {\n        if (typeof reAddLast === \"undefined\" || reAddLast === null) \n        { \n            reAddLast = true; // default this value to true. It is not used by the end user, only to facilitate recursion correctly.\n        }\n\n        var found = false;\n        if (reAddLast == true) // If we are re-adding the originating script we do not care if it has already been added.\n        {\n            found = $('script').filter(function () {\n                return ($(this).attr('src') == scriptpath);\n            }).length != 0; //JQuery to check if the script already exists. (replace it with straight js if you don't like JQuery.\n        }\n\n        if (found == false) {\n\n            var callingScriptPath = $('script').last().attr(\"src\"); //Get the script that is currently loading. Again This creates a limitation where this should not be used in a button, and only before document.ready.\n\n            document.writeln(\"&lt;script type='text/javascript' src='\" + scriptpath + \"'&gt;&lt;/script&gt;\"); //Add the script to the document using writeln\n\n\n            if (reAddLast)\n            {\n                $.import_js(callingScriptPath, false); // call itself with the originating script to fix the order.\n                throw 'readding script to correct order: ' + scriptpath + ' &lt; ' + callingScriptPath; // this halts execution of the originating script since it is getting reloaded. if you put a try / catch around the call to $.import_js you results will vary.\n            }\n\n\n\n            return true;\n        }\n        return false;\n    }\n});\n</code></pre>\n\n<p>usage:</p>\n\n<p>file3:</p>\n\n<pre><code>var f3obj = \"file3\";\n//define other stuff\n$(function(){\n   f3obj = \"file3docready\"; \n});\n</code></pre>\n\n<p>file2:</p>\n\n<pre><code>$.import_js('js/file3.js');\nvar f2obj = \"file2\";\n$(function(){\n   f2obj = \"file2docready\";  \n});\n</code></pre>\n\n<p>file1:</p>\n\n<pre><code>$.import_js('js/file2.js');\n\n//use objects from file2 or file3\nalert(f3obj); // \"file3\"\nalert(f2obj); // \"file2\"\n\n$(function(){\n    //use objects from file2 or file3 some more.\n   alert(f3obj); //\"file3docready\"\n   alert(f2obj); //\"file2docready\"\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Keep it nice, short, simple, and maintainable! :]</p>\n\n<pre><code>// 3rd party plugins / script (don't forget the full path is necessary)\nvar FULL_PATH = '', s =\n[\n    FULL_PATH + 'plugins/script.js'      // Script example\n    FULL_PATH + 'plugins/jquery.1.2.js', // jQuery Library \n    FULL_PATH + 'plugins/crypto-js/hmac-sha1.js',      // CryptoJS\n    FULL_PATH + 'plugins/crypto-js/enc-base64-min.js'  // CryptoJS\n];\n\nfunction load(url)\n{\n    var ajax = new XMLHttpRequest();\n    ajax.open('GET', url, false);\n    ajax.onreadystatechange = function ()\n    {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4)\n        {\n            switch(ajax.status)\n            {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(\"library loaded: \", url);\n                    break;\n                default:\n                    console.log(\"ERROR: library not loaded: \", url);\n            }\n        }\n    };\n    ajax.send(null);\n}\n\n // initialize a single load \nload('plugins/script.js');\n\n// initialize a full load of scripts\nif (s.length &gt; 0)\n{\n    for (i = 0; i &lt; s.length; i++)\n    {\n        load(s[i]);\n    }\n}\n</code></pre>\n\n<p>This code is simply a short functional example that <em>could</em> require additional feature functionality for full support on any (or given) platform.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there something similar to <code>@import</code> in CSS in JavaScript that allows you to include a JavaScript file inside another JavaScript file?</p>\n",
            "last_activity_date": 1423358384,
            "question_id": 950087,
            "score": 1821,
            "tags": [
                "javascript",
                "file",
                "import",
                "include"
            ],
            "title": "Include a JavaScript file in another JavaScript file?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There are <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Member_Operators\">two ways to access properties</a> of an object:</p>\n\n<ul>\n<li>Dot notation: <code>something.bar</code></li>\n<li>Bracket notation: <code>something['bar']</code></li>\n</ul>\n\n<p>The value between the brackets can be any expression. Therefore, if the property name is stored in a variable, you have to use bracket notation:</p>\n\n<pre><code>var foo = 'bar'\nsomething[foo]\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 167
                },
                {
                    "body": "<p>Simply do this:</p>\n\n<pre><code>something[foo]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>In javascript we can access with:</p>\n\n<ul>\n<li>dot notation     - <code>foo.bar</code> </li>\n<li>square brackets  - <code>foo[someVar]</code> or <code>foo[\"string\"]</code></li>\n</ul>\n\n<p>But only second case allows to access properties dynamically:</p>\n\n<pre><code>var foo = { pName1 : 1, pName2 : [1, {foo : bar }, 3] , ...}\n\nvar name = \"pName\"\nvar num  = 1;\n\nfoo[name + num]; // 1\n\n// -- \n\nvar a = 2;\nvar b = 1;\nvar c = \"foo\";\n\nfoo[name + a][b][c]; // bar\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to access a property of an object using a dynamic name. Is this possible?</p>\n\n<pre><code>something = { bar: \"Foobar!\" }\nfoo = 'bar'\nsomething.foo // The idea is to access something.bar, getting \"Foobar!\"\n</code></pre>\n",
            "last_activity_date": 1410070909,
            "question_id": 4244896,
            "score": 92,
            "tags": [
                "javascript",
                "properties"
            ],
            "title": "Dynamically access object property using variable"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p>The de-facto unbiased shuffle algorithm is the Fisher-Yates (aka Knuth) Shuffle.</p>\n\n<p>See <a href=\"https://github.com/coolaj86/knuth-shuffle\">https://github.com/coolaj86/knuth-shuffle</a></p>\n\n<p>You can see a <a href=\"http://bost.ocks.org/mike/shuffle/\">great visualization here</a> (and the original post <a href=\"http://sedition.com/perl/javascript-fy.html\">linked to this</a>)</p>\n\n<pre><code>function shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex ;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n</code></pre>\n\n<p>Used like so</p>\n\n<pre><code>var arr = [2, 11, 37, 42];\nshuffle(arr);\nconsole.log(arr);\n</code></pre>\n\n<p>Some more info <a href=\"http://en.wikipedia.org/wiki/Fisher-Yates_shuffle\">about the algorithm</a> used.</p>\n",
                    "is_accepted": true,
                    "score": 323
                },
                {
                    "body": "<p>One could (or should) use it as a protoype from Array:</p>\n\n<p>From ChristopheD:</p>\n\n<pre><code>Array.prototype.shuffle = function() {\n  var i = this.length, j, temp;\n  if ( i == 0 ) return this;\n  while ( --i ) {\n     j = Math.floor( Math.random() * ( i + 1 ) );\n     temp = this[i];\n     this[i] = this[j];\n     this[j] = temp;\n  }\n  return this;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>Here is a JavaScript implementation of the <a href=\"http://en.wikipedia.org/wiki/Fisher-Yates_shuffle#The_modern_algorithm\">Fisher-Yates shuffle</a>:</p>\n\n<pre><code>/**\n * Randomize array element order in-place.\n * Using Fisher-Yates shuffle algorithm.\n */\nfunction shuffleArray(array) {\n    for (var i = array.length - 1; i &gt; 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n    return array;\n}\n</code></pre>\n\n<p>The Fisher-Yates algorithm works by picking one random element for each original array element, and then excluding it from the next draw. Just like randomly picking from a deck of cards.</p>\n\n<p>This exclusion is done in a clever way by swapping the picked element with the current element, and then picking the next random element from the remainder. For optimal efficiency, the loop runs backwards so that the random pick is simplified (it can always start at 0), and it skips the last element because there are no other choices anymore.</p>\n\n<p>The running time of this algorithm is O(n). Note that although it does return the array for convenience, the shuffle is done in-place. So if you do not want to modify the original array, make a copy of it first with <code>.slice(0)</code>.</p>\n",
                    "is_accepted": false,
                    "score": 150
                },
                {
                    "body": "<p>Use the underscore.js library. The method <code>_.shuffle()</code> is nice for this case.\nHere is an example with the method:</p>\n\n<pre><code>var _ = require(\"underscore\");\n\nvar arr = [1,2,3,4,5,6];\n// Testing _.shuffle\nvar testShuffle = function () {\n  var indexOne = 0;\n    var stObj = {\n      '0': 0,\n      '1': 1,\n      '2': 2,\n      '3': 3,\n      '4': 4,\n      '5': 5\n    };\n    for (var i = 0; i &lt; 1000; i++) {\n      arr = _.shuffle(arr);\n      indexOne = _.indexOf(arr, 1);\n      stObj[indexOne] ++;\n    }\n    console.log(stObj);\n};\ntestShuffle();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Adding to @Laurens Holsts answer.  This is 50% compressed.</p>\n\n<pre><code>function shuffleArray(d) {\n  for (var c = d.length - 1; c &gt; 0; c--) {\n    var b = Math.floor(Math.random() * (c + 1));\n    var a = d[c];\n    d[c] = d[b];\n    d[b] = a;\n  }\n  return d\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<pre><code>var arr = [\"a\", \"b\", \"c\", \"d\"];    \nvar len = arr.length;    \nvar temp = [];    \nfor (var i = 0; i &lt; len; i++) {    \n   Math.random() &gt;= 0.5 ? temp.push(arr[i]) : temp.unshift(arr[i]);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var shuffle = function(array) {\n   temp = [];\n   for (var i = 0; i &lt; array.length ; i++) {\n     temp.push(array.splice(Math.floor(Math.random()*array.length),1));\n   }\n   return temp;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>[1,2,3,4,5,6].sort(function() {\n  return .5 - Math.random();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>You can try:</p>\n\n<pre><code>var arr = [1,2,3,4,5,6];\narr.sort(function() {\n   return Math.random() - 0.5;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The easy way is:</p>\n\n<pre><code>var arr = [\"a\", \"b\", \"c\", \"d\"];\narr.sort(function() {return 0.5 - Math.random()});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>yet another implementation of Fisher-Yates, using strict mode:</p>\n\n<pre><code>function shuffleArray(a) {\n    \"use strict\";\n    var i, t, j;\n    for (i = a.length - 1; i &gt; 0; i -= 1) {\n        t = a[i];\n        j = Math.floor(Math.random() * (i + 1));\n        a[i] = a[j];\n        a[j] = t;\n    }\n    return a;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>//XXX: random array (object) test using: [1,2,3].arrayshuffle();\nArray.prototype.arrayshuffle = function(){\nvar $arr = this;\n    var counter = $arr.length, temp, index;\n    // While there are elements in the array\n    while (counter--) {\n        // Pick a random index\n        index = (Math.random() * counter) | 0;\n        // And swap the last element with it\n        temp = $arr[counter];\n        $arr[counter] = $arr[index];\n        $arr[index] = temp;        \n    }\n return $arr;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A recursive solution:</p>\n\n<pre><code>function shuffle(a,b){\n    return a.length==0?b:function(c){\n        return shuffle(a,(b||[]).concat(c));\n    }(a.splice(Math.floor(Math.random()*a.length),1));\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This variation of Fisher-Yates is slightly more efficient because it avoids swapping an element with itself:</p>\n\n<pre><code>function shuffle(array) {\n  var elementsRemaining = array.length, temp, randomIndex;\n  while (elementsRemaining &gt; 1) {\n    randomIndex = Math.floor(Math.random() * elementsRemaining--);\n    if (randomIndex != elementsRemaining) {\n      temp = array[elementsRemaining];\n      array[elementsRemaining] = array[randomIndex];\n      array[randomIndex] = temp;\n    }\n  }\n  return array;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>Array.prototype.shuffle=function(){\n   var len = this.length,temp,i\n   while(len){\n    i=Math.random()*len-- |0;\n    temp=this[len],this[len]=this[i],this[i]=temp;\n   }\n   return this;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>NEW!</p>\n\n<p><strong>Shorter &amp; probably *faster Fisher-Yates shuffle algorithm</strong></p>\n\n<ol>\n<li>it uses while---</li>\n<li>bitwise to floor (numbers up to 10 decimal digits (32bit))</li>\n<li>removed unecessary closures &amp; other stuff</li>\n</ol>\n\n<hr>\n\n<pre><code>function fy(a,b,c,d){//array,placeholder,placeholder,placeholder\n c=a.length;while(c)b=Math.random()*(--c+1)|0,d=a[c],a[c]=a[b],a[b]=d\n}\n</code></pre>\n\n<p>script size (with fy as function name): 90bytes </p>\n\n<p><strong>DEMO</strong>\n<a href=\"http://jsfiddle.net/vvpoma8w/\">http://jsfiddle.net/vvpoma8w/</a></p>\n\n<p><em>*faster probably on all browsers except chrome.</em></p>\n\n<p>If you have any questions just ask.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>yes it is faster</p>\n\n<p><strong>PERFORMANCE:</strong> <a href=\"http://jsperf.com/fyshuffle\">http://jsperf.com/fyshuffle</a></p>\n\n<p>using the top voted functions.</p>\n\n<p><strong>EDIT</strong> \nThere was a calculation in excess (don't need --c+1) <em>and noone noticed</em></p>\n\n<p>shorter(4bytes)&amp;faster(test it!).</p>\n\n<pre><code>function fy(a,b,c,d){//array,placeholder,placeholder,placeholder\n c=a.length;while(c)b=Math.random()*c--|0,d=a[c],a[c]=a[b],a[b]=d\n}\n</code></pre>\n\n<p>Caching somewhere else <code>var rnd=Math.random</code> and then use <code>rnd()</code> would also increase slightly the performance on big arrays.</p>\n\n<p><a href=\"http://jsfiddle.net/vvpoma8w/2/\">http://jsfiddle.net/vvpoma8w/2/</a></p>\n\n<p><strong>Readable version</strong> (use the original version. this is slower, vars are useless, like the closures &amp; \";\", the code itself is also shorter ... maybe read this <a href=\"http://stackoverflow.com/questions/1737388/how-to-minify-javascript-code/21353032#21353032\">How to &#39;minify&#39; Javascript code</a> , btw you are not able to compress the following code in a javascript minifiers like the above one.)</p>\n\n<pre><code>function fisherYates( array ){\n var count = array.length,\n     randomnumber,\n     temp;\n while( count ){\n  randomnumber = Math.random() * count-- | 0;\n  temp = array[count];\n  array[count] = array[randomnumber];\n  array[randomnumber] = temp\n }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Randomize array using array.splice() </p>\n\n<pre><code>function shuffleArray(array) {\n   var temp = [];\n   var len=array.length;\n   while(len){\n      temp.push(array.splice(Math.floor(Math.random()*array.length),1)[0]);\n      len--;\n   }\n   return temp;\n}\n//console.log(\"Here &gt;&gt;&gt; \"+shuffleArray([4,2,3,5,8,1,0]));\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mnpf0f7k/2/\" rel=\"nofollow\">demo</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Ember.js + CoffeeScript implementation of Fisher-Yates shuffle:</p>\n\n<pre><code>currentIndex = array.get 'length'\nwhile currentIndex isnt 0\n  randomIndex = Math.floor Math.random() * currentIndex\n  currentIndex--;\n\n  temporaryValue = array.objectAt currentIndex\n  array.replace currentIndex, 1, [array.objectAt(randomIndex)]\n  array.replace randomIndex, 1, [temporaryValue]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have one array like this:</p>\n\n<pre><code>var arr 1 = [\"a\", \"b\", \"c\", \"d\"];\n</code></pre>\n\n<p>How can I randomize / shuffle it?</p>\n",
            "last_activity_date": 1417103492,
            "question_id": 2450954,
            "score": 227,
            "tags": [
                "javascript",
                "arrays",
                "shuffle"
            ],
            "title": "How to randomize (shuffle) a JavaScript array?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Because you can ask the server to append a prefix to the returned JSON object. E.g</p>\n\n<p><code>function_prefix(json_object);</code></p>\n\n<p>in order for the browser to <code>eval</code> \"inline\" the JSON string as an expression. This trick makes it possible for the server to \"inject\" javascript code directly in the Client browser and this with bypassing the \"same origin\" restrictions.</p>\n\n<p>In other words, you can have <strong>cross-domain data exchange</strong>.</p>\n\n<hr>\n\n<p>Normally, <code>XMLHttpRequest</code> doesn't permit cross-domain data-exchange directly (one needs to go through a server in the same domain) whereas:</p>\n\n<p><code>&lt;script src=\"some_other_domain/some_data.js&amp;prefix=function_prefix</code>>` one can access data from a domain different than from the origin.</p>\n\n<hr>\n\n<p>Also worth noting: even though the server should be considered as \"trusted\" before attempting that sort of \"trick\", the side-effects of possible change in object format etc. can be contained.  If a <code>function_prefix</code> (i.e. a proper js function) is used to receive the JSON object, the said function can perform checks before accepting/further processing the returned data.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>It's actually not too complicated...</p>\n\n<p>Say you're on domain example.com, and you want to make a request to domain example.net. To do so, you need to cross domain boundaries, a no-no in most of browserland. </p>\n\n<p>The one item that bypasses this limitation is &lt;script&gt; tags. When you use a script tag, the domain limitation is ignored, but under normal circumstances, you can't really DO anything with the results, the script just gets evaluated.</p>\n\n<p>Enter JSONP. When you make your request to a server that is JSONP enabled, you pass a special parameter that tells the server a little bit about your page. That way, the server is able to nicely wrap up its response in a way that your page can handle. </p>\n\n<p>For example, say the server expects a parameter called \"callback\" to enable its JSONP capabilities. Then your request would look like:</p>\n\n<pre><code>http://www.example.net/sample.aspx?callback=mycallback\n</code></pre>\n\n<p>Without JSONP, this might return some basic JavaScript object, like so:</p>\n\n<pre><code>{ foo: 'bar' }\n</code></pre>\n\n<p>However, with JSONP, when the server receives the \"callback\" parameter, it wraps up the result a little differently, returning something like this:</p>\n\n<pre><code>mycallback({ foo: 'bar' });\n</code></pre>\n\n<p>As you can see, it will now invoke the method you specified. So, in your page, you define the callback function:</p>\n\n<pre><code>mycallback = function(data){\n  alert(data.foo);\n};\n</code></pre>\n\n<p>And now, when the script is loaded, it'll be evaluated, and your function will be executed. Voila, cross-domain requests!</p>\n\n<p>It's also worth noting the one major issue with JSONP: you lose a lot of control of the request. For example, there is no \"nice\" way to get proper failure codes back. As a result, you end up using timers to monitor the request, etc, which is always a bit suspect. The proposition for <a href=\"http://www.json.org/JSONRequest.html\">JSONRequest</a> is a great solution to allowing cross domain scripting, maintaining security, and allowing proper control of the request.</p>\n\n<p>Edit: These days, <a href=\"http://en.wikipedia.org/wiki/Cross-origin_resource_sharing\">CORS</a> is the recommeded approach vs. JSONRequest. JSONP is still useful for older browser support, but given the security implications, unless you have no choice CORS is the better choice.</p>\n",
                    "is_accepted": true,
                    "score": 991
                },
                {
                    "body": "<p><strong>JSONP</strong> is really a simple trick to overcome the <strong>XMLHttpRequest</strong> same domain policy. (As you know one cannot send <strong>AJAX (XMLHttpRequest)</strong> request to a different domain.)</p>\n\n<p>So - instead of using <strong>XMLHttpRequest</strong> we have to use <strong>script</strong> HTML tags, the ones you usually use to load js files, in order for js to get data from another domain. Sounds weird?</p>\n\n<p>Thing is - turns out <strong>script</strong> tags can be used in a fashion similar to <strong>XMLHttpRequest</strong>! Check this out:</p>\n\n<pre><code>script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = 'http://www.someWebApiServer.com/some-data';\n</code></pre>\n\n<p>You will end up with a <strong>script</strong> segment that looks like this after it loads the data:</p>\n\n<pre><code>&lt;script&gt;\n{['some string 1', 'some data', 'whatever data']}\n&lt;/script&gt;\n</code></pre>\n\n<p>However this is a bit inconvenient, because we have to fetch this array from <strong>script</strong> tag. So <strong>JSONP</strong> creators decided that this will work better(and it is):</p>\n\n<pre><code>script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = 'http://www.someWebApiServer.com/some-data<b>?callback=my_callback</b>';\n</code></pre>\n\n<p>Notice the <strong>my_callback</strong> function over there? So - when <strong>JSONP</strong> server receives your request and finds callback parameter - instead of returning plain js array it'll return this:</p>\n\n<pre><code>my_callback({['some string 1', 'some data', 'whatever data']});\n</code></pre>\n\n<p><strong>See where the profit is:</strong> now we get automatic callback (my_callback) that'll be triggered once we get the data.<br>\nThat's all there is to know about <strong>JSONP</strong>: it's a callback and script tags.</p>\n\n<p><strong>NOTE: these are simple examples of JSONP usage,  these are not production ready scripts.</strong></p>\n\n<p><strong>Basic JavaScript example (simple Twitter feed using JSONP)</strong></p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id = 'twitterFeed'&gt;&lt;/div&gt;\n        &lt;script&gt;\n        function myCallback(dataWeGotViaJsonp){\n            var text = '';\n            var len = dataWeGotViaJsonp.length;\n            for(var i=0;i&lt;len;i++){\n                twitterEntry = dataWeGotViaJsonp[i];\n                text += '&lt;p&gt;&lt;img src = \"' + twitterEntry.user.profile_image_url_https +'\"/&gt;' + twitterEntry['text'] + '&lt;/p&gt;'\n            }\n            document.getElementById('twitterFeed').innerHTML = text;\n        }\n        &lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"http://twitter.com/status/user_timeline/padraicb.json?count=10&amp;callback=myCallback\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Basic jQuery example (simple Twitter feed using JSONP)</strong></p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n            $(document).ready(function(){\n                $.ajax({\n                    url: 'http://twitter.com/status/user_timeline/padraicb.json?count=10',\n                    dataType: 'jsonp',\n                    success: function(dataWeGotViaJsonp){\n                        var text = '';\n                        var len = dataWeGotViaJsonp.length;\n                        for(var i=0;i&lt;len;i++){\n                            twitterEntry = dataWeGotViaJsonp[i];\n                            text += '&lt;p&gt;&lt;img src = \"' + twitterEntry.user.profile_image_url_https +'\"/&gt;' + twitterEntry['text'] + '&lt;/p&gt;'\n                        }\n                        $('#twitterFeed').html(text);\n                    }\n                });\n            })\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id = 'twitterFeed'&gt;&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><br>\n<strong>JSONP</strong> stands for <strong>JSON with Padding</strong>. (very poorly named technique as it really has nothing to do with what most people would think of as \u201cpadding\u201d.)</p>\n",
                    "is_accepted": false,
                    "score": 357
                },
                {
                    "body": "<p>For those who still did not understand, <a href=\"http://www.w3resource.com/JSON/JSONP.php\">here</a> is a tutorial. Clear explanation with examples to practice.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>JSONP works by constructing a \u201cscript\u201d element (either in HTML markup or inserted into the DOM via JavaScript), which requests to a remote data service location. The response is a javascript loaded on to your browser with name of the pre-defined function along with parameter being passed that is tht JSON data being requested. When the script executes, the function is called along with JSON data, allowing the requesting page to receive and process the data.</p>\n\n<p><strong>For Further Reading Visit:</strong> <a href=\"http://www.avlabz.com/2013/03/cors-the-secret-behind-jsonp/\">http://www.avlabz.com/2013/03/cors-the-secret-behind-jsonp/</a></p>\n\n<p><strong>client side snippet of code</strong></p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n     &lt;title&gt;AvLabz - CORS : The Secrets Behind JSONP &lt;/title&gt;\n     &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n      &lt;input type=\"text\" id=\"username\" placeholder=\"Enter Your Name\"/&gt;\n      &lt;button type=\"submit\" onclick=\"sendRequest()\"&gt; Send Request to Server &lt;/button&gt;\n    &lt;script&gt;\n    \"use strict\";\n    //Construct the script tag at Runtime\n    function requestServerCall(url) {\n      var head = document.head;\n      var script = document.createElement(\"script\");\n\n      script.setAttribute(\"src\", url);\n      head.appendChild(script);\n      head.removeChild(script);\n    }\n\n    //Predefined callback function    \n    function jsonpCallback(data) {\n      alert(data.message); // Response data from the server\n    }\n\n    //Reference to the input field\n    var username = document.getElementById(\"username\");\n\n    //Send Request to Server\n    function sendRequest() {\n      // Edit with your Web Service URL\n      requestServerCall(\"http://localhost/PHP_Series/CORS/myService.php?callback=jsonpCallback&amp;message=\"+username.value+\"\");\n    }    \n\n  &lt;/script&gt;\n   &lt;/body&gt;\n   &lt;/html&gt;\n</code></pre>\n\n<p><strong>Server side piece of PHP code</strong></p>\n\n<pre><code>&lt;?php\n    header(\"Content-Type: application/javascript\");\n    $callback = $_GET[\"callback\"];\n    $message = $_GET[\"message\"].\" you got a response from server yipeee!!!\";\n    $jsonResponse = \"{\\\"message\\\":\\\"\" . $message . \"\\\"}\";\n    echo $callback . \"(\" . $jsonResponse . \")\";\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>JSONP is a great away to get around cross-domain scripting errors. You can consume a JSONP service purely with JS without having to implement a AJAX proxy on the server side. </p>\n\n<p>You can use the <a href=\"http://b1t.co\">b1t.co</a> service to see how it works. This is a free JSONP service that alllows you to minify your URLs. Here is the url to use for the service:</p>\n\n<p>http://b1t.co/Site/api/External/MakeUrlWithGet?callback=[resultsCallBack]&amp;url=[escapedUrlToMinify]</p>\n\n<p>For example the call, <a href=\"http://b1t.co/Site/api/External/MakeUrlWithGet?callback=whateverJavascriptName&amp;url=google.com\">http://b1t.co/Site/api/External/MakeUrlWithGet?callback=whateverJavascriptName&amp;url=google.com</a></p>\n\n<p>would return</p>\n\n<pre><code>whateverJavascriptName({\"success\":true,\"url\":\"http://google.com\",\"shortUrl\":\"http://b1t.co/54\"});\n</code></pre>\n\n<p>And thus when that get's loaded in your js as a src, it will automatically run whateverJavascriptName which you should implement as your callback function:</p>\n\n<pre><code>function minifyResultsCallBack(data)\n{\n    document.getElementById(\"results\").innerHTML = JSON.stringify(data);\n}\n</code></pre>\n\n<p>To actually make the JSONP call, you can do it about several ways (including using jQuery) but here is a pure JS example:</p>\n\n<pre><code>function minify(urlToMinify)\n{\n   url = escape(urlToMinify);\n   var s = document.createElement('script');\n   s.id = 'dynScript';\n   s.type='text/javascript';\n   s.src = \"http://b1t.co/Site/api/External/MakeUrlWithGet?callback=resultsCallBack&amp;url=\" + url;\n   document.getElementsByTagName('head')[0].appendChild(s);\n}\n</code></pre>\n\n<p>A step by step example and a jsonp web service to practice on is available at: <a href=\"http://b1t.co/5f\">this post</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>A simple example for the usage of JSONP.</p>\n\n<p><strong>client.html</strong></p>\n\n<pre><code>    &lt;html&gt;\n    &lt;head&gt;\n   &lt;/head&gt;\n     body&gt;\n\n\n    &lt;input type=\"button\" id=\"001\" onclick=gO(\"getCompany\") value=\"Company\"  /&gt;\n    &lt;input type=\"button\" id=\"002\" onclick=gO(\"getPosition\") value=\"Position\"/&gt;\n    &lt;h3&gt;\n    &lt;div id=\"101\"&gt;\n\n    &lt;/div&gt;\n    &lt;/h3&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n\n    var elem=document.getElementById(\"101\");\n\n    function gO(callback){\n\n    script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'http://localhost/test/server.php?callback='+callback;\n    elem.appendChild(script);\n    elem.removeChild(script);\n\n\n    }\n\n    function getCompany(data){\n\n    var message=\"The company you work for is \"+data.company +\"&lt;img src='\"+data.image+\"'/   &gt;\";\n    elem.innerHTML=message;\n}\n\n    function getPosition(data){\n    var message=\"The position you are offered is \"+data.position;\n    elem.innerHTML=message;\n    }\n    &lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p><strong>server.php</strong></p>\n\n<pre><code>  &lt;?php\n\n    $callback=$_GET[\"callback\"];\n    echo $callback;\n\n    if($callback=='getCompany')\n    $response=\"({\\\"company\\\":\\\"Google\\\",\\\"image\\\":\\\"xyz.jpg\\\"})\";\n\n    else\n    $response=\"({\\\"position\\\":\\\"Development Intern\\\"})\";\n    echo $response;\n\n    ?&gt;    \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I understand JSON, but not JSONP. <a href=\"http://en.wikipedia.org/wiki/JSON\">Wikipedia's document on JSON</a> is (was) the top search result for JSONP. It says this:</p>\n\n<blockquote>\n  <p>JSONP or \"JSON with padding\" is a JSON extension wherein a prefix is specified as an input argument of the call itself.</p>\n</blockquote>\n\n<p>Huh? What call? That doesn't make any sense to me. JSON is a data format. There's no call.</p>\n\n<p>The <a href=\"http://remysharp.com/2007/10/08/what-is-jsonp/\">2nd search result</a> is from some guy named <a href=\"http://stackoverflow.com/users/22617/remy-sharp\">Remy</a>, who writes this about JSONP:</p>\n\n<blockquote>\n  <p>JSONP is script tag injection, passing the response from the server in to a user specified function.</p>\n</blockquote>\n\n<p>I can sort of understand that, but it's still not making any sense.</p>\n\n<hr>\n\n<p>So what is JSONP? Why was it created (what problem does it solve)? And why would I use it? </p>\n\n<hr>\n\n<p><strong>Addendum</strong>: I've just created <a href=\"http://en.wikipedia.org/wiki/JSONP\">a new page for JSONP</a> on Wikipedia; it now has a clear and thorough description of JSONP, based on <a href=\"http://stackoverflow.com/users/25330/jvenema\">jvenema</a>'s answer.</p>\n",
            "last_activity_date": 1425362711,
            "question_id": 2067472,
            "score": 922,
            "tags": [
                "javascript",
                "json",
                "jsonp"
            ],
            "title": "What is JSONP all about?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>This is the simplest I could reduce it to:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt; \n&lt;head&gt; \n  &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" /&gt; \n  &lt;title&gt;Google Maps Multiple Markers&lt;/title&gt; \n  &lt;script src=\"http://maps.google.com/maps/api/js?sensor=false\" \n          type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt; \n&lt;body&gt;\n  &lt;div id=\"map\" style=\"width: 500px; height: 400px;\"&gt;&lt;/div&gt;\n\n  &lt;script type=\"text/javascript\"&gt;\n    var locations = [\n      ['Bondi Beach', -33.890542, 151.274856, 4],\n      ['Coogee Beach', -33.923036, 151.259052, 5],\n      ['Cronulla Beach', -34.028249, 151.157507, 3],\n      ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],\n      ['Maroubra Beach', -33.950198, 151.259302, 1]\n    ];\n\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 10,\n      center: new google.maps.LatLng(-33.92, 151.25),\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    });\n\n    var infowindow = new google.maps.InfoWindow();\n\n    var marker, i;\n\n    for (i = 0; i &lt; locations.length; i++) {  \n      marker = new google.maps.Marker({\n        position: new google.maps.LatLng(locations[i][1], locations[i][2]),\n        map: map\n      });\n\n      google.maps.event.addListener(marker, 'click', (function(marker, i) {\n        return function() {\n          infowindow.setContent(locations[i][0]);\n          infowindow.open(map, marker);\n        }\n      })(marker, i));\n    }\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Screenshot:</p>\n\n<p><img src=\"http://i.imgur.com/mM82YXg.png\" alt=\"Google Maps Multiple Markers\"></p>\n\n<p>There is some closure magic happening when passing the callback argument to the <code>addListener</code> method. This can be quite a tricky topic, if you are not familiar with how closures work. I would suggest checking out the following Mozilla article for a brief introduction, if it is the case:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Working_with_Closures\">Mozilla Dev Center: Working with Closures</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 548
                },
                {
                    "body": "<p>From <a href=\"http://code.google.com/intl/fr-FR/apis/maps/documentation/javascript/examples/icon-complex.html\">Google Map API samples</a>:</p>\n\n<pre><code>function initialize() {\n  var myOptions = {\n    zoom: 10,\n    center: new google.maps.LatLng(-33.9, 151.2),\n    mapTypeId: google.maps.MapTypeId.ROADMAP\n  }\n  var map = new google.maps.Map(document.getElementById(\"map_canvas\"),\n                                myOptions);\n\n  setMarkers(map, beaches);\n}\n\n/**\n * Data for the markers consisting of a name, a LatLng and a zIndex for\n * the order in which these markers should display on top of each\n * other.\n */\nvar beaches = [\n  ['Bondi Beach', -33.890542, 151.274856, 4],\n  ['Coogee Beach', -33.923036, 151.259052, 5],\n  ['Cronulla Beach', -34.028249, 151.157507, 3],\n  ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],\n  ['Maroubra Beach', -33.950198, 151.259302, 1]\n];\n\nfunction setMarkers(map, locations) {\n  // Add markers to the map\n\n  // Marker sizes are expressed as a Size of X,Y\n  // where the origin of the image (0,0) is located\n  // in the top left of the image.\n\n  // Origins, anchor positions and coordinates of the marker\n  // increase in the X direction to the right and in\n  // the Y direction down.\n  var image = new google.maps.MarkerImage('images/beachflag.png',\n      // This marker is 20 pixels wide by 32 pixels tall.\n      new google.maps.Size(20, 32),\n      // The origin for this image is 0,0.\n      new google.maps.Point(0,0),\n      // The anchor for this image is the base of the flagpole at 0,32.\n      new google.maps.Point(0, 32));\n  var shadow = new google.maps.MarkerImage('images/beachflag_shadow.png',\n      // The shadow image is larger in the horizontal dimension\n      // while the position and offset are the same as for the main image.\n      new google.maps.Size(37, 32),\n      new google.maps.Point(0,0),\n      new google.maps.Point(0, 32));\n      // Shapes define the clickable region of the icon.\n      // The type defines an HTML &amp;lt;area&amp;gt; element 'poly' which\n      // traces out a polygon as a series of X,Y points. The final\n      // coordinate closes the poly by connecting to the first\n      // coordinate.\n  var shape = {\n      coord: [1, 1, 1, 20, 18, 20, 18 , 1],\n      type: 'poly'\n  };\n  for (var i = 0; i &lt; locations.length; i++) {\n    var beach = locations[i];\n    var myLatLng = new google.maps.LatLng(beach[1], beach[2]);\n    var marker = new google.maps.Marker({\n        position: myLatLng,\n        map: map,\n        shadow: shadow,\n        icon: image,\n        shape: shape,\n        title: beach[0],\n        zIndex: beach[3]\n    });\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here is another example of Multiple Markers Loading with unique <code>title</code> and <code>infoWindow</code> text. Tested with Latest Google Maps API V3.11</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt;\n        &lt;title&gt;Multiple Markers Google Maps&lt;/title&gt;\n        &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://maps.googleapis.com/maps/api/js?v=3.11&amp;sensor=false\" type=\"text/javascript\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n        // check DOM Ready\n        $(document).ready(function() {\n            // execute\n            (function() {\n                // map options\n                var options = {\n                    zoom: 5,\n                    center: new google.maps.LatLng(39.909736, -98.522109), // centered US\n                    mapTypeId: google.maps.MapTypeId.TERRAIN,\n                    mapTypeControl: false\n                };\n\n                // init map\n                var map = new google.maps.Map(document.getElementById('map_canvas'), options);\n\n                // NY and CA sample Lat / Lng\n                var southWest = new google.maps.LatLng(40.744656, -74.005966);\n                var northEast = new google.maps.LatLng(34.052234, -118.243685);\n                var lngSpan = northEast.lng() - southWest.lng();\n                var latSpan = northEast.lat() - southWest.lat();\n\n                // set multiple marker\n                for (var i = 0; i &lt; 250; i++) {\n                    // init markers\n                    var marker = new google.maps.Marker({\n                        position: new google.maps.LatLng(southWest.lat() + latSpan * Math.random(), southWest.lng() + lngSpan * Math.random()),\n                        map: map,\n                        title: 'Click Me ' + i\n                    });\n\n                    // process multiple info windows\n                    (function(marker, i) {\n                        // add click event\n                        google.maps.event.addListener(marker, 'click', function() {\n                            infowindow = new google.maps.InfoWindow({\n                                content: 'Hello, World!!'\n                            });\n                            infowindow.open(map, marker);\n                        });\n                    })(marker, i);\n                }\n            })();\n        });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"map_canvas\" style=\"width: 800px; height:500px;\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Screenshot of 250 Markers</p>\n\n<p><img src=\"http://i.stack.imgur.com/D167A.png\" alt=\"Google Maps API V3.11 with Multiple Markers\"></p>\n\n<p>It will automatically randomize the Lat/Lng to make unique. Example will be very helpful if you want to test 500, 1000, xxx markers and performance.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p><img src=\"http://i.stack.imgur.com/b3wN2.png\" alt=\"This is the working example map image\">   </p>\n\n<pre><code>var arr = new Array();\n    function initialize() { \n        var i;  \n        var Locations = [\n                {\n                  lat:48.856614, \n                  lon:2.3522219000000177, \n                  address:'Paris',\n                  gval:'25.5',\n                  aType:'Non-Commodity',\n                  title:'Paris',\n                  descr:'Paris'           \n                },        \n                    {\n                  lat: 55.7512419, \n                  lon: 37.6184217,\n                  address:'Moscow',\n                  gval:'11.5',\n                  aType:'Non-Commodity',\n                  title:'Moscow',\n                  descr:'Moscow Airport'              \n                },     \n\n                {\n              lat:-9.481553000000002, \n              lon:147.190242, \n              address:'Port Moresby',\n              gval:'1',\n              aType:'Oil',\n              title:'Papua New Guinea',\n              descr:'Papua New Guinea 123123123'              \n            },\n            {\n           lat:20.5200,\n           lon:77.7500,\n           address:'Indore',\n            gval:'1',\n            aType:'Oil',\n            title:'Indore, India',\n            descr:'Airport India'\n        }\n    ];\n\n    var myOptions = {\n        zoom: 2,\n        center: new google.maps.LatLng(51.9000,8.4731),\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n\n    var map = new google.maps.Map(document.getElementById(\"map\"), myOptions);\n\n    var infowindow =  new google.maps.InfoWindow({\n        content: ''\n    });\n\n    for (i = 0; i &lt; Locations.length; i++) {\n            size=15;        \n            var img=new google.maps.MarkerImage('marker.png',           \n                new google.maps.Size(size, size),\n                new google.maps.Point(0,0),\n                new google.maps.Point(size/2, size/2)\n           );\n\n        var marker = new google.maps.Marker({\n            map: map,\n            title: Locations[i].title,\n            position: new google.maps.LatLng(Locations[i].lat, Locations[i].lon),           \n                icon: img\n        });\n\n        bindInfoWindow(marker, map, infowindow, \"&lt;p&gt;\" + Locations[i].descr + \"&lt;/p&gt;\",Locations[i].title);  \n\n    }\n\n}\n\nfunction bindInfoWindow(marker, map, infowindow, html, Ltitle) { \n    google.maps.event.addListener(marker, 'mouseover', function() {\n            infowindow.setContent(html); \n            infowindow.open(map, marker); \n\n    });\n    google.maps.event.addListener(marker, 'mouseout', function() {\n        infowindow.close();\n\n    }); \n} \n</code></pre>\n\n<p>Full working Example you can Just Copy Paste and use.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I thought I would put this here as it appears to be a popular landing point for those starting to use Google Maps API's. Multiple markers rendered on the client side is probably the downfall of many mapping applications performance wise. It is difficult to benchmark, fix and in some cases even establish there is an issue (due to browser implementation differences, hardware available to the client, mobile devices, the list goes on). </p>\n\n<p>The simplest way to begin to address this issue is to use a marker clustering solution. The basic idea is to group geographically similar locations into a group with the number of points displayed. As the user zooms into the map these groups expand to reveal individual markers beneath. </p>\n\n<p>Perhaps the simplest to implement is the <a href=\"http://googlegeodevelopers.blogspot.co.uk/2009/04/markerclusterer-solution-to-too-many.html\">markerclusterer</a> library. A basic implementation would be as follows (after library imports):</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function initialize() {\n    var center = new google.maps.LatLng(37.4419, -122.1419);\n\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 3,\n      center: center,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    });\n\n    var markers = [];\n    for (var i = 0; i &lt; 100; i++) {\n      var location = yourData.location[i];\n      var latLng = new google.maps.LatLng(location.latitude,\n          location.longitude);\n      var marker = new google.maps.Marker({\n        position: latLng\n      });\n      markers.push(marker);\n    }\n    var markerCluster = new MarkerClusterer(map, markers);\n  }\n  google.maps.event.addDomListener(window, 'load', initialize);\n&lt;/script&gt;\n</code></pre>\n\n<p>The markers instead of being added directly to the map are added to an array. This array is then passed to the library which handles complex calculation for you and attached to the map. </p>\n\n<p>Not only do these implementations massively increase client side performance but they also in many cases lead to a simpler and less cluttered UI and easier digestion of data on larger scales. </p>\n\n<p><a href=\"https://developers.google.com/maps/articles/toomanymarkers\">Other implementations</a> are available from Google. </p>\n\n<p>Hope this aids some of those newer to the nuances of mapping.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Asynchronous version :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function initialize() {\n    var locations = [\n      ['Bondi Beach', -33.890542, 151.274856, 4],\n      ['Coogee Beach', -33.923036, 151.259052, 5],\n      ['Cronulla Beach', -34.028249, 151.157507, 3],\n      ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],\n      ['Maroubra Beach', -33.950198, 151.259302, 1]\n    ];\n\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 10,\n      center: new google.maps.LatLng(-33.92, 151.25),\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    });\n\n    var infowindow = new google.maps.InfoWindow();\n\n    var marker, i;\n\n    for (i = 0; i &lt; locations.length; i++) {  \n      marker = new google.maps.Marker({\n        position: new google.maps.LatLng(locations[i][1], locations[i][2]),\n        map: map\n      });\n\n      google.maps.event.addListener(marker, 'click', (function(marker, i) {\n        return function() {\n          infowindow.setContent(locations[i][0]);\n          infowindow.open(map, marker);\n        }\n      })(marker, i));\n    }\n}\n\nfunction loadScript() {\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp&amp;' +\n      'callback=initialize';\n  document.body.appendChild(script);\n}\n\nwindow.onload = loadScript;\n  &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here is another version I wrote to save map real estate, that places the infowindow pointer on the <strong>actual lat and long</strong> of the marker, while temporarily hiding the marker while the infowindow is being displayed.</p>\n\n<p>It also does away with the standard 'marker' assignment and speeds up\nprocessing by directly assigning the new marker to the markers array on the markers creation. Note however, that additional properties have been added to both the marker and the infowindow, so this approach is a tad unconventional... but that's me! </p>\n\n<p>It is never mentioned in these infowindow questions, that the standard infowindow <strong>IS NOT</strong> placed at the lat and lng of the marker point, but rather at the top of the marker image. The marker visibility must be hidden for this to work, otherwise the Maps API will shove the infowindow anchor back to the top of the marker image again.</p>\n\n<p>Reference to the markers in the 'markers' array are created immediately upon marker declaration for any additional processing tasks that may be desired later(hiding/showing, grabbing the coords,etc...). This saves the additional step of assigning the marker object to 'marker', and then pushing the 'marker' to the markers array... a lot of unnecessary processing in my book.</p>\n\n<p>Anyway, a different take on infowindows, and hope it helps to inform and inspire you.</p>\n\n<pre><code>    var locations = [\n      ['Bondi Beach', -33.890542, 151.274856, 4],\n      ['Coogee Beach', -33.923036, 151.259052, 5],\n      ['Cronulla Beach', -34.028249, 151.157507, 3],\n      ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],\n      ['Maroubra Beach', -33.950198, 151.259302, 1]\n    ];\n    var map;\n    var markers = [];\n\n    function init(){\n      map = new google.maps.Map(document.getElementById('map_canvas'), {\n        zoom: 10,\n        center: new google.maps.LatLng(-33.92, 151.25),\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      });\n\n      var num_markers = locations.length;\n      for (var i = 0; i &lt; num_markers; i++) {  \n        markers[i] = new google.maps.Marker({\n          position: {lat:locations[i][1], lng:locations[i][2]},\n          map: map,\n          html: locations[i][0],\n          id: i,\n        });\n\n        google.maps.event.addListener(markers[i], 'click', function(){\n          var infowindow = new google.maps.InfoWindow({\n            id: this.id,\n            content:this.html,\n            position:this.getPosition()\n          });\n          google.maps.event.addListenerOnce(infowindow, 'closeclick', function(){\n            markers[this.id].setVisible(true);\n          });\n          this.setVisible(false);\n          infowindow.open(map);\n        });\n      }\n    }\n\ngoogle.maps.event.addDomListener(window, 'load', init);\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/Ephiphany/x6nqL3po/\" rel=\"nofollow\">working JSFiddle</a></p>\n\n<p><strong>Additional Note</strong><br>\nYou will notice in this given Google example data a fourth place in the 'locations' array with a number. Given this in the example, you could also use this value for the marker id in place of the current loop value, such that...</p>\n\n<pre><code>var num_markers = locations.length;\nfor (var i = 0; i &lt; num_markers; i++) {  \n  markers[i] = new google.maps.Marker({\n    position: {lat:locations[i][1], lng:locations[i][2]},\n    map: map,\n    html: locations[i][0],\n    id: locations[i][3],\n  });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Fairly new to the Google Maps Api. I've got an array of data that I want to cycle through and plot on a map. Seems fairly simple, but all the multi-marker tutorials I have found are quite complex.</p>\n\n<p>Lets use the data array from google's site for an example:</p>\n\n<pre><code>var locations = [\n  ['Bondi Beach', -33.890542, 151.274856, 4],\n  ['Coogee Beach', -33.923036, 151.259052, 5],\n  ['Cronulla Beach', -34.028249, 151.157507, 3],\n  ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],\n  ['Maroubra Beach', -33.950198, 151.259302, 1]\n];\n</code></pre>\n\n<p>I simply want to plot all of these points and have an infoWindow pop up when clicked to display the name.</p>\n\n<p>Any help is greatly appreciated!</p>\n",
            "last_activity_date": 1424922578,
            "question_id": 3059044,
            "score": 284,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Google Maps JS API v3 - Simple Multiple Marker Example"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Basic usage of <a href=\"http://api.jquery.com/jQuery.ajax/\"><code>.ajax</code></a> would look something like this:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;form id=\"foo\"&gt;\n    &lt;label for=\"bar\"&gt;A bar&lt;/label&gt;\n    &lt;input id=\"bar\" name=\"bar\" type=\"text\" value=\"\" /&gt;\n\n    &lt;input type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>JavaScript:</strong></p>\n\n<pre><code>// Variable to hold request\nvar request;\n\n// Bind to the submit event of our form\n$(\"#foo\").submit(function(event){\n\n    // Abort any pending request\n    if (request) {\n        request.abort();\n    }\n    // setup some local variables\n    var $form = $(this);\n\n    // Let's select and cache all the fields\n    var $inputs = $form.find(\"input, select, button, textarea\");\n\n    // Serialize the data in the form\n    var serializedData = $form.serialize();\n\n    // Let's disable the inputs for the duration of the Ajax request.\n    // Note: we disable elements AFTER the form data has been serialized.\n    // Disabled form elements will not be serialized.\n    $inputs.prop(\"disabled\", true);\n\n    // Fire off the request to /form.php\n    request = $.ajax({\n        url: \"/form.php\",\n        type: \"post\",\n        data: serializedData\n    });\n\n    // Callback handler that will be called on success\n    request.done(function (response, textStatus, jqXHR){\n        // Log a message to the console\n        console.log(\"Hooray, it worked!\");\n    });\n\n    // Callback handler that will be called on failure\n    request.fail(function (jqXHR, textStatus, errorThrown){\n        // Log the error to the console\n        console.error(\n            \"The following error occurred: \"+\n            textStatus, errorThrown\n        );\n    });\n\n    // Callback handler that will be called regardless\n    // if the request failed or succeeded\n    request.always(function () {\n        // Reenable the inputs\n        $inputs.prop(\"disabled\", false);\n    });\n\n    // Prevent default posting of form\n    event.preventDefault();\n});\n</code></pre>\n\n<p><em>Note: Since jQuery 1.8, .success, .error and .complete are deprecated in favor of .done, .fail and .always.</em></p>\n\n<p><em>Note: Remember that the above snippet has to be done after DOM ready, so you should put it inside a <a href=\"http://api.jquery.com/ready/\"><code>$(document).ready()</code></a> handler (or use the <code>$()</code> shorthand).</em></p>\n\n<p><em>Tip: You can <a href=\"http://www.jquerybyexample.net/2012/06/what-is-chaining-in-jquery.html\">chain</a> the callback handlers like this: <code>$.ajax().done().fail().always();</code></em></p>\n\n<p><strong>PHP (that is, form.php):</strong></p>\n\n<pre><code>// You can access the values posted by jQuery.ajax\n// through the global variable $_POST, like this:\n$bar = $_POST['bar'];\n</code></pre>\n\n<p><em>Note: Always <a href=\"http://stackoverflow.com/questions/1314518/sanitizing-users-data-in-get-by-php\">sanitize posted data</a>, to prevent injections and other malicious code.</em></p>\n\n<p>You could also use the shorthand <a href=\"http://api.jquery.com/jQuery.post/\"><code>.post</code></a> in place of <code>.ajax</code> in the above JavaScript code:</p>\n\n<pre><code>$.post('/form.php', serializedData, function(response) {\n    // Log the response to the console\n    console.log(\"Response: \"+response);\n});\n</code></pre>\n\n<p><em>Note: The above JavaScript code is made to work with jQuery 1.8 and later, but it should work with previous versions down to jQuery 1.5.</em></p>\n",
                    "is_accepted": true,
                    "score": 464
                },
                {
                    "body": "<p>You can also do this by:</p>\n\n<h3>HTML</h3>\n\n<pre><code>&lt;form id=\"foo\"&gt;\n    &lt;label for=\"bar\"&gt;A bar&lt;/label&gt;\n    &lt;input id=\"bar\" name=\"bar\" type=\"text\" value=\"\" /&gt;\n    &lt;input type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n\n&lt;!-- The result of the search will be rendered inside this div --&gt;\n&lt;div id=\"result\"&gt;&lt;/div&gt;\n</code></pre>\n\n<h3>Script</h3>\n\n<pre><code>/* Attach a submit handler to the form */\n$(\"#foo\").submit(function(event) {\n\n    /* Stop form from submitting normally */\n    event.preventDefault();\n\n    /* Clear result div*/\n    $(\"#result\").html('');\n\n    /* Get some values from elements on the page: */\n    var values = $(this).serialize();\n\n    /* Send the data using post and put the results in a div */\n    $.ajax({\n        url: \"test.php\",\n        type: \"post\",\n        data: values,\n        success: function(){\n            alert(\"success\");\n            $(\"#result\").html('Submitted successfully');\n        },\n        error:function(){\n            alert(\"failure\");\n            $(\"#result\").html('There is error while submit');\n        }\n    });\n});\n</code></pre>\n\n<p>Now you can get data in php</p>\n\n<pre><code>  $bar = $_POST['bar']\n</code></pre>\n\n<p>Now some additional thing</p>\n\n<hr>\n\n<ol>\n<li>Return data in Ajax call</li>\n</ol>\n\n<p>You can either just simply echo it, or (better still as it allows multiple values to be returned and is handled negatively by JavaScript) use JSON.</p>\n\n<pre><code>$id = $_POST['bar'];\n//Code that would run here for whatever\n\n// 1. Without JSON\n   echo \"hello this is one\"\n\n// 2. By JSON. Then here is where I want to send a value back to the success of the Ajax below\necho json_encode(array('returned_val' =&gt; 'yoho'));\n</code></pre>\n\n<p>And then in the success function you can get</p>\n\n<pre><code>success: function(data) {\n    alert(data.returned_val);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 90
                },
                {
                    "body": "<p>You can use serialize. Below is an example.</p>\n\n<pre><code>$(\"#submit_btn\").click(function(){\n    $('.error_status').html();\n        if($(\"form#frm_message_board\").valid())\n        {\n            $.ajax({\n                type: \"POST\",\n                url: \"&lt;?php echo site_url('message_board/add');?&gt;\",\n                data: $('#frm_message_board').serialize(),\n                success: function(msg) {\n                    var msg = $.parseJSON(msg);\n                    if(msg.success=='yes')\n                    {\n                        return true;\n                    }\n                    else\n                    {\n                        alert('Server error');\n                        return false;\n                    }\n                }\n            });\n        }\n        return false;\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I would like to share a detailed way of how to post with PHP + Ajax along with errors thrown back on failure.</p>\n\n<p>First of all, create two files, for example <code>form.php</code> and <code>process.php</code>.</p>\n\n<p>We will first create a <code>form</code> which will be then submitted using the <code>jQuery</code> <code>.ajax()</code> method. The rest will be explained in the comments.</p>\n\n<hr>\n\n<p><strong><code>form.php</code></strong></p>\n\n<pre><code>&lt;form method=\"post\" name=\"postForm\"&gt;\n    &lt;ul&gt;\n        &lt;li&gt;\n            &lt;label&gt;Name&lt;/label&gt;\n            &lt;input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Bruce Wayne\"&gt;\n            &lt;span class=\"throw_error\"&gt;&lt;/span&gt;\n       &lt;/li&gt;\n   &lt;/ul&gt;\n   &lt;input type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><br></p>\n\n<p>Validate the form using jQuery client-side validation and pass the data to <code>process.php</code>.</p>\n\n<pre><code>$(document).ready(function() {\n    $('form').submit(function(event) { //Trigger on form submit\n        $('#name + .throw_error').empty(); //Clear the messages first\n        $('#success').empty();\n\n        //Validate fields if required using jQuery\n\n        var postForm = { //Fetch form data\n            'name'     : $('input[name=name]').val() //Store name fields value\n        };\n\n        $.ajax({ //Process the form using $.ajax()\n            type      : 'POST', //Method type\n            url       : 'process.php', //Your form processing file URL\n            data      : postForm, //Forms name\n            dataType  : 'json',\n            success   : function(data) {\n                            if (!data.success) { //If fails\n                                if (data.errors.name) { //Returned if any error from process.php\n                                    $('.throw_error').fadeIn(1000).html(data.errors.name); //Throw relevant error\n                                }\n                            }\n                            else {\n                                    $('#success').fadeIn(1000).append('&lt;p&gt;' + data.posted + '&lt;/p&gt;'); //If successful, than throw a success message\n                                }\n                            }\n        });\n        event.preventDefault(); //Prevent the default submit\n    });\n});\n</code></pre>\n\n<hr>\n\n<p>Now we will take a look at <strong><code>process.php</code></strong></p>\n\n<pre><code>$errors = array(); //To store errors\n$form_data = array(); //Pass back the data to `form.php`\n\n/* Validate the form on the server side */\nif (empty($_POST['name'])) { //Name cannot be empty\n    $errors['name'] = 'Name cannot be blank';\n}\n\nif (!empty($errors)) { //If errors in validation\n    $form_data['success'] = false;\n    $form_data['errors']  = $errors;\n}\nelse { //If not, process the form, and return true on success\n    $form_data['success'] = true;\n    $form_data['posted'] = 'Data Was Posted Successfully';\n}\n\n//Return the data back to form.php\necho json_encode($form_data);\n</code></pre>\n\n<p>The project files can be downloaded from <a href=\"http://projects.decodingweb.com/simple_ajax_form.zip\" rel=\"nofollow\">http://projects.decodingweb.com/simple_ajax_form.zip</a>.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.7.2.js\"&gt;&lt;/script&gt;\n&lt;form method=\"post\" id=\"form_content\" action=\"Javascript:void(0);\"&gt;\n    &lt;button id=\"desc\" name=\"desc\" value=\"desc\" style=\"display:none;\"&gt;desc&lt;/button&gt;\n    &lt;button id=\"asc\" name=\"asc\"  value=\"asc\"&gt;asc&lt;/button&gt;\n    &lt;input type='hidden' id='check' value=''/&gt;\n&lt;/form&gt;\n\n&lt;div id=\"demoajax\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n    numbers = '';\n    $('#form_content button').click(function(){\n        $('#form_content button').toggle();\n        numbers = this.id;\n        function_two(numbers);\n    });\n\n    function function_two(numbers){\n        if (numbers === '')\n        {\n            $('#check').val(\"asc\");\n        }\n        else\n        {\n            $('#check').val(numbers);\n        }\n        //alert(sort_var);\n\n        $.ajax({\n            url: 'test.php',\n            type: 'POST',\n            data: $('#form_content').serialize(),\n            success: function(data){\n                $('#demoajax').show();\n                $('#demoajax').html(data);\n                }\n        });\n\n        return false;\n    }\n    $(document).ready(function_two());\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>HTML</strong>:</p>\n\n<pre><code>    &lt;form name=\"foo\" action=\"form.php\" method=\"POST\" id=\"foo\"&gt;\n        &lt;label for=\"bar\"&gt;A bar&lt;/label&gt;\n        &lt;input id=\"bar\" class=\"inputs\" name=\"bar\" type=\"text\" value=\"\" /&gt;\n        &lt;input type=\"submit\" value=\"Send\" onclick=\"submitform(); return false;\" /&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p><strong>JavaScript</strong> :</p>\n\n<pre><code>   function submitform()\n   {\n       var inputs = document.getElementsByClassName(\"inputs\");\n       var formdata = new FormData();\n       for(var i=0; i&lt;inputs.length; i++)\n       {\n           formdata.append(inputs[i].name, inputs[i].value);\n       }\n       var xmlhttp;\n       if(window.XMLHttpRequest)\n       {\n           xmlhttp = new XMLHttpRequest;\n       }\n       else\n       {\n           xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n       }\n       xmlhttp.onreadystatechange = function()\n       {\n          if(xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200)\n          {\n\n          }\n       }\n       xmlhttp.open(\"POST\", \"insert.php\");\n       xmlhttp.send(formdata);\n   }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code>&lt;form name=\"foo\" action=\"form.php\" method=\"POST\" id=\"foo\"&gt;\n    &lt;label for=\"bar\"&gt;A bar&lt;/label&gt;\n    &lt;input id=\"bar\" name=\"bar\" type=\"text\" value=\"\" /&gt;\n    &lt;input id=\"submitForm\" type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n\n$(\"#submitForm\").click(function() {\n  $.post( \"form.php\", $(\"form\").serialize())\n     .done(function( data ) {\n      alert( \"Data Loaded: \" + data );\n  });\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use this way.It submit everything like files</p>\n\n<pre><code>$(document).on(\"submit\", \"form\", function(event)\n{\n    event.preventDefault();\n\n    var url=$(this).attr(\"action\");\n    $.ajax({\n        url: url,\n        type: 'POST',\n        dataType: \"JSON\",\n        data: new FormData(this),\n        processData: false,\n        contentType: false,\n        success: function (data, status)\n        {\n\n        },\n        error: function (xhr, desc, err)\n        {\n            console.log(\"error\");\n\n        }\n    });        \n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to send data from a form to a database. Here is the form I am using:</p>\n\n<pre><code>&lt;form name=\"foo\" action=\"form.php\" method=\"POST\" id=\"foo\"&gt;\n    &lt;label for=\"bar\"&gt;A bar&lt;/label&gt;\n    &lt;input id=\"bar\" name=\"bar\" type=\"text\" value=\"\" /&gt;\n    &lt;input type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The typical approach would be to submit the form, but this causes the browser to redirect. Using jQuery and <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a>, is it possible to capture all of the form's data and submit it to a PHP script (in example, <em>form.php</em>)?</p>\n",
            "last_activity_date": 1423144509,
            "question_id": 5004233,
            "score": 232,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "post"
            ],
            "title": "jQuery Ajax POST example with PHP"
        },
        {
            "answer_count": 23,
            "answers": [
                {
                    "body": "<p>I believe it's because it can execute any JavaScript function from a string. Using it makes it easier for people to inject rogue code into the application.</p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Mainly, it's a lot harder to maintain and debug. It's like a <code>goto</code>. You can use it, but it makes it harder to find problems and harder on the people who may need to make changes later.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>It's generally only an issue if you're passing eval user input.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Unless you are 100% sure that the code being evaluated is from a trusted source (usually your own application) then it's a surefire way of exposing your system to a cross-site scripting attack.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Besides the possible security issues if you are executing user-submitted code, most of the time there's a better way that doesn't involve re-parsing the code every time it's executed. Anonymous functions or object properties can replace most uses of eval and are much safer and faster.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<ol>\n<li><p>Improper use of eval opens up your\ncode for injection attacks</p></li>\n<li><p>Debugging can be more challenging\n(no line numbers, etc.)</p></li>\n<li><p>eval'd code executes more slowly (no opportunity to compile/cache eval'd code)</p></li>\n</ol>\n\n<p>Edit: As @Jeff Walden points out in comments, #3 is less true today than it was in 2008. However, while some caching of compiled scripts may happen this will only be limited to scripts that are eval'd repeated with no modification. A more likely scenario is that you are eval'ing scripts that have undergone slight modification each time and as such could not be cached. Let's just say that SOME eval'd code executes more slowly.</p>\n",
                    "is_accepted": true,
                    "score": 215
                },
                {
                    "body": "<p>This may become more of an issue as the next generation of browsers come out with some flavor of a JavaScript compiler. Code executed via Eval may not perform as well as the rest of your JavaScript against these newer browsers. Someone should do some profiling.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Two points come to mind:</p>\n\n<ol>\n<li><p>Security (but as long as you generate the string to be evaluated yourself, this might be a non-issue)</p></li>\n<li><p>Performance: until the code to be executed is unknown, it cannot be optimized.  (about javascript and performance, certainly <a href=\"http://steve-yegge.blogspot.com/2008/05/dynamic-languages-strike-back.html\">Steve Yegge's presentation</a>)</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>Unless you let eval() a dynamic content (through cgi or input), it is as safe and solid as all other JavaScript in your page.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Passing user input to eval() is a security risk, but also each invocation of eval() creates a new instance of the JavaScript interpreter. This can be a resource hog.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>It is a possible security risk, it has a different scope of execution, and is quite inefficient, as it creates an entirely new scripting environment for the execution of the code. See here for some more info: <a href=\"http://userjs.org/help/tutorials/efficient-code#evalevil\" rel=\"nofollow\">eval</a>.</p>\n\n<p>It is quite useful, though, and used with moderation can add a lot of good functionality.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It greatly reduces your level of confidence about security.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It's not necessarily that bad provided you know what context you're using it in.</p>\n\n<p>If your application is using eval() to create an object from some JSON which has come back from an <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\" rel=\"nofollow\">XMLHttpRequest</a> to your own site, created by your trusted server-side code, it's probably not a problem.</p>\n\n<p>Untrusted client-side JavaScript code can't do that much anyway. Provided the thing you're eval'ing has come from a reasonable source, you're fine.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>eval isn't always evil. There are times where it's perfectly appropriate.</p>\n\n<p>However, eval is currently and historically massively over-used by people who don't know what they're doing. That includes people writing JavaScript tutorials, unfortunately, and in some cases this can indeed have security consequences - or, more often, simple bugs. So the more we can do to throw a question mark over eval, the better. Any time you use eval you need to sanity-check what you're doing, because chances are you could be doing it a better, safer, cleaner way.</p>\n\n<p>To give an all-too-typical example, to set the colour of an element with an id stored in the variable 'potato':</p>\n\n<pre><code>eval('document.' + potato + '.style.color = \"red\"');\n</code></pre>\n\n<p>If the authors of the kind of code above had a clue about the basics of how JavaScript objects work, they'd have realised that square brackets can be used instead of literal dot-names, obviating the need for eval:</p>\n\n<pre><code>document[potato].style.color = 'red';\n</code></pre>\n\n<p>...which is much easier to read as well as less potentially buggy.</p>\n\n<p>(But then, someone who /really/ knew what they were doing would say:</p>\n\n<pre><code>document.getElementById(potato).style.color = 'red';\n</code></pre>\n\n<p>which is more reliable than the dodgy old trick of accessing DOM elements straight out of the document object.)</p>\n",
                    "is_accepted": false,
                    "score": 256
                },
                {
                    "body": "<p>One thing to keep in mind is that you can often use eval() to execute code in an otherwise restricted environment - social networking sites that block specific JavaScript functions can sometimes be fooled by breaking them up in an eval block -</p>\n\n<pre><code>eval('al' + 'er' + 't(\\'' + 'hi there!' + '\\')');\n</code></pre>\n\n<p>So if you're looking to run some JavaScript code where it might not otherwise be allowed (<a href=\"http://en.wikipedia.org/wiki/Myspace\" rel=\"nofollow\">Myspace</a>, I'm looking at you...) then eval() can be a useful trick.</p>\n\n<p>However, for all the reasons mentioned above, you shouldn't use it for your own code, where you have complete control - it's just not necessary, and better-off relegated to the 'tricky JavaScript hacks' shelf.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you want the user to input some logical functions and evaluate for AND the OR then the JavaScript eval function is perfect. I can accept two strings and <code>eval(uate) string1 === string2</code>, etc.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Along with the rest of the answers, I don't think eval statements can have advanced minimization.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It sounds like I'm safe since I am using my own code to eval, and not input data, but here's how I'm using it. </p>\n\n<p>I'm passing the name of an array as an argument to a function. If I don't use eval, it doesn't work.</p>\n\n<p>Should I be using a different method?</p>\n\n<pre><code>function getArray(ARRAY_NAME)\n  {\n    var arrayName = eval(ARRAY_NAME);\n    document.getElementById('array_stuff').innerHTML = arrayName[0] ;\n  }\n\n var array1=[];\n array1[0]=\"This is Array number one at index 0.\";\n\n var array2=[];\n array2[0]=\"This is Array number two at index 0.\";  \n\n&lt;a href=\"#\" onclick=\"getArray('array1');\"&gt;Get Array 1&lt;/a&gt;&lt;br /&gt;\n&lt;a href=\"#\" onclick=\"getArray('array2');\"&gt;Get Array 2&lt;/a&gt;\n&lt;div id=\"array_stuff\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know this discussion is old, but I really like <a href=\"http://www.youtube.com/watch?feature=player_detailpage&amp;v=6EJ801el-I8#t=1729s\" rel=\"nofollow\">this</a> approach by Google and wanted to share that feeling with others ;)</p>\n\n<p>The other thing is that the better You get the more You try to understand and finally You just don't believe that something is good or bad just because someone said so :) \nThis is a very inspirational <a href=\"http://www.youtube.com/watch?v=MFtijdklZDo\" rel=\"nofollow\">video</a> that helped me to think more by myself :) GOOD PRACTICES are good, but don't use them mindelessly :)</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Apart from security issues, this can be the more appropriate reason not to use eval:\n<a href=\"https://github.com/getify/You-Dont-Know-JS/blob/master/scope%20&amp;%20closures/ch2.md#eval\" rel=\"nofollow\">https://github.com/getify/You-Dont-Know-JS/blob/master/scope%20&amp;%20closures/ch2.md#eval</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is one of good articles talking about eval and how it is not an evil:\n<a href=\"http://www.nczonline.net/blog/2013/06/25/eval-isnt-evil-just-misunderstood/\" rel=\"nofollow\">http://www.nczonline.net/blog/2013/06/25/eval-isnt-evil-just-misunderstood/</a></p>\n\n<blockquote>\n  <p>I\u2019m not saying you should go run out and start using eval()\n  everywhere. In fact, there are very few good use cases for running\n  eval() at all. There are definitely concerns with code clarity,\n  debugability, and certainly performance that should not be overlooked.\n  But you shouldn\u2019t be afraid to use it when you have a case where\n  eval() makes sense. Try not using it first, but don\u2019t let anyone scare\n  you into thinking your code is more fragile or less secure when eval()\n  is used appropriately.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>eval() is very powerful and can be used to execute a JS statement or evaluate an expression. But the question isn't about the uses of eval() but lets just say some how the string you running with eval() is affected by a malicious party. At the end you will be running malicious code. With power comes great responsibility. So use it wisely is you are using it. \n This isn't related much to eval() function but this article has pretty good information:\n <a href=\"http://blogs.popart.com/2009/07/javascript-injection-attacks/\" rel=\"nofollow\">http://blogs.popart.com/2009/07/javascript-injection-attacks/</a>\nIf you are looking for the basics of eval() look here: \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I won't attempt to refute anything said heretofore, but i will offer this use of eval() that (as far as I know) can't be done any other way.  There's probably other ways to code this, and probably ways to optimize it, but this is done longhand and without any bells and whistles for clarity sake to illustrate a use of eval that really doesn't have any other alternatives.  That is: dynamical (or more accurately) programmically-created object names (as opposed to values).</p>\n\n<pre><code>//Place this in a common/global JS lib:\nvar NS = function(namespace){\n    var namespaceParts = String(namespace).split(\".\");\n    var namespaceToTest = \"\";\n    for(var i = 0; i &lt; namespaceParts.length; i++){\n        if(i === 0){\n            namespaceToTest = namespaceParts[i];\n        }\n        else{\n            namespaceToTest = namespaceToTest + \".\" + namespaceParts[i];\n        }\n\n        if(eval('typeof ' + namespaceToTest) === \"undefined\"){\n            eval(namespaceToTest + ' = {}');\n        }\n    }\n    return eval(namespace);\n}\n\n\n//Then, use this in your class definition libs:\nNS('Root.Namespace').Class = function(settings){\n  //Class constructor code here\n}\n//some generic method:\nRoot.Namespace.Class.prototype.Method = function(args){\n    //Code goes here\n    //this.MyOtherMethod(\"foo\"));  // =&gt; \"foo\"\n    return true;\n}\n\n\n//Then, in your applications, use this to instantiate an instance of your class:\nvar anInstanceOfClass = new Root.Namespace.Class(settings);\n</code></pre>\n\n<p>EDIT:  by the way, I wouldn't suggest (for all the security reasons pointed out heretofore) that you base you object names on user input.  I can't imagine any good reason you'd want to do that though.  Still, thought I'd point it out that it wouldn't be a good idea :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The eval function is a powerful and easy way to dynamically generate code, so what are the caveats?</p>\n",
            "last_activity_date": 1423766704,
            "question_id": 86513,
            "score": 260,
            "tags": [
                "javascript",
                "performance",
                "security",
                "eval"
            ],
            "title": "Why is using the JavaScript eval function a bad idea?"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>Ajax does not support file uploads, you should use iframe instead</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>file upload is <strike>not</strike> possible through ajax.\nYou can upload file, without refreshing page by using IFrame.\nyou can check further detail <a href=\"http://www.ajaxf1.com/tutorial/ajax-file-upload-tutorial.html\">here</a></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>With XHR2, File upload through AJAX is supported. E.g. through <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects\">FormData</a> object, but unfortunately it is not supported by all/old browsers.</p>\n\n<p>FormData support starts from following desktop browsers versions.\nIE 10+,\nFirefox 4.0+,\nChrome 7+,\nSafari 5+,\nOpera 12+</p>\n\n<p>For more detail, see <a href=\"https://developer.mozilla.org/en-US/docs/XMLHttpRequest/FormData\">MDN link</a></p>\n",
                    "is_accepted": true,
                    "score": 252
                },
                {
                    "body": "<ul>\n<li>Use a hidden iframe and set your form's target to that iframe's name.  This way, when the form is submitted, only the iframe will be refreshed.</li>\n<li>Have an event handler registered for the iframe's load event to parse the response.</li>\n</ul>\n\n<p>More details on my blog post: <a href=\"http://blog.manki.in/2011/08/ajax-fie-upload.html\">http://blog.manki.in/2011/08/ajax-fie-upload.html</a>.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>An AJAX upload is indeed possible with XMLHttpRequest(). No iframes necessary. Upload progress can be shown.</p>\n\n<p>For details see: Answer <a href=\"http://stackoverflow.com/a/4943774/873282\">http://stackoverflow.com/a/4943774/873282</a> to question <a href=\"http://stackoverflow.com/questions/4856917/jquery-upload-progress-and-ajax-file-upload\">jQuery Upload Progress and AJAX file upload</a>.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>Iframes is no longer needed for uploading files through ajax. I've recently done it myself. Check out these pages.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/4006520/using-html5-file-uploads-with-ajax-and-jquery\">Using HTML5 file uploads with AJAX and jQuery</a></p>\n\n<p><a href=\"http://dev.w3.org/2006/webapi/FileAPI/#FileReader-interface\">http://dev.w3.org/2006/webapi/FileAPI/#FileReader-interface</a></p>\n\n<pre><code>$(':file').change(function(){\n    var file = this.files[0];\n    name = file.name;\n    size = file.size;\n    type = file.type;\n\n    if(file.name.length &lt; 1) {\n    }\n    else if(file.size &gt; 100000) {\n        alert(\"File is to big\");\n    }\n    else if(file.type != 'image/png' &amp;&amp; file.type != 'image/jpg' &amp;&amp; !file.type != 'image/gif' &amp;&amp; file.type != 'image/jpeg' ) {\n        alert(\"File doesnt match png, jpg or gif\");\n    }\n    else { \n        $(':submit').click(function(){\n            var formData = new FormData($('*formId*')[0]);\n            $.ajax({\n                url: 'script',  //server script to process data\n                type: 'POST',\n                xhr: function() {  // custom xhr\n                    myXhr = $.ajaxSettings.xhr();\n                    if(myXhr.upload){ // if upload property exists\n                        myXhr.upload.addEventListener('progress', progressHandlingFunction, false); // progressbar\n                    }\n                    return myXhr;\n                },\n                //Ajax events\n                success: completeHandler = function(data) {\n                    /*\n                    * workaround for crome browser // delete the fakepath\n                    */\n                    if(navigator.userAgent.indexOf('Chrome')) {\n                        var catchFile = $(\":file\").val().replace(/C:\\\\fakepath\\\\/i, '');\n                    }\n                    else {\n                        var catchFile = $(\":file\").val();\n                    }\n                    var writeFile = $(\":file\");\n                    writeFile.html(writer(catchFile));\n                    $(\"*setIdOfImageInHiddenInput*\").val(data.logo_id);\n                },\n                error: errorHandler = function() {\n                    alert(\"N\u00e5got gick fel\");\n                },\n                // Form data\n                data: formData,\n                //Options to tell JQuery not to process data or worry about content-type\n                cache: false,\n                contentType: false,\n                processData: false\n            }, 'json');\n        });\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 98
                },
                {
                    "body": "<p>In case you want to do it like that:</p>\n\n<pre><code>$.upload( form.action, new FormData( myForm))\n.progress( function( progressEvent, upload) {\n    if( progressEvent.lengthComputable) {\n        var percent = Math.round( progressEvent.loaded * 100 / progressEvent.total) + '%';\n        if( upload) {\n            console.log( percent + ' uploaded');\n        } else {\n            console.log( percent + ' downloaded');\n        }\n    }\n})\n.done( function() {\n    console.log( 'Finished upload');                    \n});\n</code></pre>\n\n<p>than </p>\n\n<p><a href=\"https://github.com/lgersman/jquery.orangevolt-ampere/blob/master/src/jquery.upload.js\" rel=\"nofollow\">https://github.com/lgersman/jquery.orangevolt-ampere/blob/master/src/jquery.upload.js</a></p>\n\n<p>might be your solution.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>$(\"#submit_car\").click( function() {\n  var formData = new FormData($('#car_cost_form')[0]);\n$.ajax({\n       url: 'car_costs.php',\n       data: formData,\n       async: false,\n       contentType: false,\n       processData: false,\n       cache: false,\n       type: 'POST',\n       success: function(data)\n       {\n       },\n     })    return false;    \n});\n</code></pre>\n\n<p>edit: Note contentype and process data\nYou can simply use this to upload files via Ajax...... submit input cannot be outside form element :)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here was an idea i was thinking of:</p>\n\n<pre><code>Have an iframe on page and have a referencer.\n</code></pre>\n\n<p>Have a form in which you move the INPUT:File element to.</p>\n\n<pre><code>Form:  A processing page AND a target of the FRAME.\n</code></pre>\n\n<p>The result will post to the frame, and then you can just send the fetched data up a level to the image tag you want with something like:</p>\n\n<pre><code>data:image/png;base64,asdfasdfasdfasdfa\n</code></pre>\n\n<p>and the page loads.</p>\n\n<p>I believe it works for me, and depending you might be able to do something like:</p>\n\n<pre><code>.aftersubmit(function(){\n    stopPropigation()// or some other code which would prevent a refresh.\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use method ajaxSubmit as follow :)\nwhen you select a file that need upload to server, form be submit to server :)</p>\n\n<pre><code>$(document).ready(function () {\n    var options = {\n    target: '#output',   // target element(s) to be updated with server response\n    timeout: 30000,\n    error: function (jqXHR, textStatus) {\n            $('#output').html('have any error');\n            return false;\n        }\n    },\n    success: afterSuccess,  // post-submit callback\n    resetForm: true\n            // reset the form after successful submit\n};\n\n$('#idOfInputFile').on('change', function () {\n    $('#idOfForm').ajaxSubmit(options);\n    // always return false to prevent standard browser submit and page navigation\n    return false;\n});\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm pretty late for this but I was looking for an ajax based image uploading solution and the answer I was looking for was kinda scattered throughout this post. The solution I settled on involved the FormData object. I assembled a basic form of the code I put together. You can see it demonstrates how to add a custom field to the form with fd.append() as well as how to handle response data when the ajax request is done.</p>\n\n<p>Upload html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Image Upload Form&lt;/title&gt;\n    &lt;script src=\"//code.jquery.com/jquery-1.9.1.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        function submitForm() {\n            console.log(\"submit event\");\n            var fd = new FormData(document.getElementById(\"fileinfo\"));\n            fd.append(\"label\", \"WEBUPLOAD\");\n            $.ajax({\n              url: \"upload.php\",\n              type: \"POST\",\n              data: fd,\n              enctype: 'multipart/form-data',\n              processData: false,  // tell jQuery not to process the data\n              contentType: false   // tell jQuery not to set contentType\n            }).done(function( data ) {\n                console.log(\"PHP Output:\");\n                console.log( data );\n            });\n            return false;\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;form method=\"post\" id=\"fileinfo\" name=\"fileinfo\" onsubmit=\"return submitForm();\"&gt;\n        &lt;label&gt;Select a file:&lt;/label&gt;&lt;br&gt;\n        &lt;input type=\"file\" name=\"file\" required /&gt;\n        &lt;input type=\"submit\" value=\"Upload\" /&gt;\n    &lt;/form&gt;\n    &lt;div id=\"output\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>In case you are working with php here's a way to handle the upload that includes making use of both of the custom fields demonstrated in the above html.</p>\n\n<p>Upload.php</p>\n\n<pre><code>&lt;?php\nif ($_POST[\"label\"]) {\n    $label = $_POST[\"label\"];\n}\n$allowedExts = array(\"gif\", \"jpeg\", \"jpg\", \"png\");\n$temp = explode(\".\", $_FILES[\"file\"][\"name\"]);\n$extension = end($temp);\nif ((($_FILES[\"file\"][\"type\"] == \"image/gif\")\n|| ($_FILES[\"file\"][\"type\"] == \"image/jpeg\")\n|| ($_FILES[\"file\"][\"type\"] == \"image/jpg\")\n|| ($_FILES[\"file\"][\"type\"] == \"image/pjpeg\")\n|| ($_FILES[\"file\"][\"type\"] == \"image/x-png\")\n|| ($_FILES[\"file\"][\"type\"] == \"image/png\"))\n&amp;&amp; ($_FILES[\"file\"][\"size\"] &lt; 200000)\n&amp;&amp; in_array($extension, $allowedExts)) {\n    if ($_FILES[\"file\"][\"error\"] &gt; 0) {\n        echo \"Return Code: \" . $_FILES[\"file\"][\"error\"] . \"&lt;br&gt;\";\n    } else {\n        $filename = $label.$_FILES[\"file\"][\"name\"];\n        echo \"Upload: \" . $_FILES[\"file\"][\"name\"] . \"&lt;br&gt;\";\n        echo \"Type: \" . $_FILES[\"file\"][\"type\"] . \"&lt;br&gt;\";\n        echo \"Size: \" . ($_FILES[\"file\"][\"size\"] / 1024) . \" kB&lt;br&gt;\";\n        echo \"Temp file: \" . $_FILES[\"file\"][\"tmp_name\"] . \"&lt;br&gt;\";\n\n        if (file_exists(\"uploads/\" . $filename)) {\n            echo $filename . \" already exists. \";\n        } else {\n            move_uploaded_file($_FILES[\"file\"][\"tmp_name\"],\n            \"uploads/\" . $filename);\n            echo \"Stored in: \" . \"uploads/\" . $filename;\n        }\n    }\n} else {\n    echo \"Invalid file\";\n}\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Ajax post and upload file is possible. I'm using jQuery $.ajax function to load my files. I tried to use the XHR object but could not get results on the server side with PHP.</p>\n\n<pre><code>var formData = new FormData();\nformData.append('file', $('#file')[0].files[0]);\n\n$.ajax({\n       url : 'upload.php',\n       type : 'POST',\n       data : formData,\n       processData: false,  // tell jQuery not to process the data\n       contentType: false,  // tell jQuery not to set contentType\n       success : function(data) {\n           console.log(data);\n           alert(data);\n       }\n});\n</code></pre>\n\n<p>As you can see, you must create a FormData object, empty or from (serialized? - $('#yourForm').serialize()) existing form, and then attach the input file.</p>\n\n<p>Here is more information: \n- <a href=\"http://stackoverflow.com/questions/9622901/how-to-upload-a-file-using-jquery-ajax-and-formdata\">How to upload a file using jQuery.ajax and FormData</a>\n- <a href=\"http://stackoverflow.com/questions/20452853/uploading-files-via-jquery-object-formdata-is-provided-and-no-file-name-get-re\">Uploading files via jQuery, object FormData is provided and no file name, GET request</a></p>\n\n<p>For the PHP process you can use something like this:</p>\n\n<pre><code>//print_r($_FILES);\n$fileName = $_FILES['file']['name'];\n$fileType = $_FILES['file']['type'];\n$fileError = $_FILES['file']['error'];\n$fileContent = file_get_contents($_FILES['file']['tmp_name']);\n\nif($fileError == UPLOAD_ERR_OK){\n   //Processes your file here\n}else{\n   switch($fileError){\n     case UPLOAD_ERR_INI_SIZE:   \n          $message = 'Error al intentar subir un archivo que excede el tama\u00f1o permitido.';\n          break;\n     case UPLOAD_ERR_FORM_SIZE:  \n          $message = 'Error al intentar subir un archivo que excede el tama\u00f1o permitido.';\n          break;\n     case UPLOAD_ERR_PARTIAL:    \n          $message = 'Error: no termin\u00f3 la acci\u00f3n de subir el archivo.';\n          break;\n     case UPLOAD_ERR_NO_FILE:    \n          $message = 'Error: ning\u00fan archivo fue subido.';\n          break;\n     case UPLOAD_ERR_NO_TMP_DIR: \n          $message = 'Error: servidor no configurado para carga de archivos.';\n          break;\n     case UPLOAD_ERR_CANT_WRITE: \n          $message= 'Error: posible falla al grabar el archivo.';\n          break;\n     case  UPLOAD_ERR_EXTENSION: \n          $message = 'Error: carga de archivo no completada.';\n          break;\n     default: $message = 'Error: carga de archivo no completada.';\n              break;\n    }\n      echo json_encode(array(\n               'error' =&gt; true,\n               'message' =&gt; $message\n            ));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Yes you can, just use javascript to get the file, making sure you read the file as a data URL. Parse out the stuff before base64 to actually get the base 64 encoded data and then if you are using php or really any back end language you can decode the base 64 data and save into a file like shown below</p>\n\n<pre><code>Javascript:\nvar reader = new FileReader();\nreader.onloadend = function ()\n{\n  dataToBeSent = reader.result.split(\"base64,\")[1];\n  $.post(url, {data:dataToBeSent});\n}\nreader.readAsDataURL(this.files[0]);\n\n\nPHP:\n    file_put_contents('my.pdf', base64_decode($_POST[\"data\"]));\n</code></pre>\n\n<p>Of course you will probably want to do some validation like checking which file type you are dealing with and stuff like that but this is the idea. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have implemented a multiple file select with instant preview and upload after removing unwanted files from preview via ajax. </p>\n\n<p>Detailed documentation can be found here: <a href=\"http://customphpfunctions.blogspot.in/2014/12/multi-file-select-preview-without.html\" rel=\"nofollow\">http://customphpfunctions.blogspot.in/2014/12/multi-file-select-preview-without.html</a></p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/anas/6v8Kz/7/embedded/result/\" rel=\"nofollow\">http://jsfiddle.net/anas/6v8Kz/7/embedded/result/</a></p>\n\n<p>jsFiddle: <a href=\"http://jsfiddle.net/anas/6v8Kz/7/\" rel=\"nofollow\">http://jsfiddle.net/anas/6v8Kz/7/</a></p>\n\n<p>Javascript:</p>\n\n<pre><code>    $(document).ready(function(){\n    $('form').submit(function(ev){\n        $('.overlay').show();\n        $(window).scrollTop(0);\n        return upload_images_selected(ev, ev.target);\n    })\n})\nfunction add_new_file_uploader(addBtn) {\n    var currentRow = $(addBtn).parent().parent();\n    var newRow = $(currentRow).clone();\n    $(newRow).find('.previewImage, .imagePreviewTable').hide();\n    $(newRow).find('.removeButton').show();\n    $(newRow).find('table.imagePreviewTable').find('tr').remove();\n    $(newRow).find('input.multipleImageFileInput').val('');\n    $(addBtn).parent().parent().parent().append(newRow);\n}\n\nfunction remove_file_uploader(removeBtn) {\n    $(removeBtn).parent().parent().remove();\n}\n\nfunction show_image_preview(file_selector) {\n    //files selected using current file selector\n    var files = file_selector.files;\n    //Container of image previews\n    var imageContainer = $(file_selector).next('table.imagePreviewTable');\n    //Number of images selected\n    var number_of_images = files.length;\n    //Build image preview row\n    var imagePreviewRow = $('&lt;tr class=\"imagePreviewRow_0\"&gt;&lt;td valign=top style=\"width: 510px;\"&gt;&lt;/td&gt;' +\n        '&lt;td valign=top&gt;&lt;input type=\"button\" value=\"X\" title=\"Remove Image\" class=\"removeImageButton\" imageIndex=\"0\" onclick=\"remove_selected_image(this)\" /&gt;&lt;/td&gt;' +\n        '&lt;/tr&gt; ');\n    //Add image preview row\n    $(imageContainer).html(imagePreviewRow);\n    if (number_of_images &gt; 1) {\n        for (var i =1; i&lt;number_of_images; i++) {\n            /**\n             *Generate class name of the respective image container appending index of selected images, \n             *sothat we can match images selected and the one which is previewed\n             */\n            var newImagePreviewRow = $(imagePreviewRow).clone().removeClass('imagePreviewRow_0').addClass('imagePreviewRow_'+i);\n            $(newImagePreviewRow).find('input[type=\"button\"]').attr('imageIndex', i);\n            $(imageContainer).append(newImagePreviewRow);\n        }\n    }\n    for (var i = 0; i &lt; files.length; i++) {\n        var file = files[i];\n        /**\n         * Allow only images\n         */\n        var imageType = /image.*/;\n        if (!file.type.match(imageType)) {\n          continue;\n        }\n\n        /**\n         * Create an image dom object dynamically\n         */\n        var img = document.createElement(\"img\");\n\n        /**\n         * Get preview area of the image\n         */\n        var preview = $(imageContainer).find('tr.imagePreviewRow_'+i).find('td:first');\n\n        /**\n         * Append preview of selected image to the corresponding container\n         */\n        preview.append(img); \n\n        /**\n         * Set style of appended preview(Can be done via css also)\n         */\n        preview.find('img').addClass('previewImage').css({'max-width': '500px', 'max-height': '500px'});\n\n        /**\n         * Initialize file reader\n         */\n        var reader = new FileReader();\n        /**\n         * Onload event of file reader assign target image to the preview\n         */\n        reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);\n        /**\n         * Initiate read\n         */\n        reader.readAsDataURL(file);\n    }\n    /**\n     * Show preview\n     */\n    $(imageContainer).show();\n}\n\nfunction remove_selected_image(close_button)\n{\n    /**\n     * Remove this image from preview\n     */\n    var imageIndex = $(close_button).attr('imageindex');\n    $(close_button).parents('.imagePreviewRow_' + imageIndex).remove();\n}\n\nfunction upload_images_selected(event, formObj)\n{\n    event.preventDefault();\n    //Get number of images\n    var imageCount = $('.previewImage').length;\n    //Get all multi select inputs\n    var fileInputs = document.querySelectorAll('.multipleImageFileInput');\n    //Url where the image is to be uploaded\n    var url= \"/upload-directory/\";\n    //Get number of inputs\n    var number_of_inputs = $(fileInputs).length; \n    var inputCount = 0;\n\n    //Iterate through each file selector input\n    $(fileInputs).each(function(index, input){\n\n        fileList = input.files;\n        // Create a new FormData object.\n        var formData = new FormData();\n        //Extra parameters can be added to the form data object\n        formData.append('bulk_upload', '1');\n        formData.append('username', $('input[name=\"username\"]').val());\n        //Iterate throug each images selected by each file selector and find if the image is present in the preview\n        for (var i = 0; i &lt; fileList.length; i++) {\n            if ($(input).next('.imagePreviewTable').find('.imagePreviewRow_'+i).length != 0) {\n                var file = fileList[i];\n                // Check the file type.\n                if (!file.type.match('image.*')) {\n                    continue;\n                }\n                // Add the file to the request.\n                formData.append('image_uploader_multiple[' +(inputCount++)+ ']', file, file.name);\n            }\n        }\n        // Set up the request.\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', url, true);\n        xhr.onload = function () {\n            if (xhr.status === 200) {\n                var jsonResponse = JSON.parse(xhr.responseText);\n                if (jsonResponse.status == 1) {\n                    $(jsonResponse.file_info).each(function(){\n                        //Iterate through response and find data corresponding to each file uploaded\n                        var uploaded_file_name = this.original;\n                        var saved_file_name = this.target;\n                        var file_name_input = '&lt;input type=\"hidden\" class=\"image_name\" name=\"image_names[]\" value=\"' +saved_file_name+ '\" /&gt;';\n                        file_info_container.append(file_name_input);\n\n                        imageCount--;\n                    })\n                    //Decrement count of inputs to find all images selected by all multi select are uploaded\n                    number_of_inputs--;\n                    if(number_of_inputs == 0) {\n                        //All images selected by each file selector is uploaded\n                        //Do necessary acteion post upload\n                        $('.overlay').hide();\n                    }\n                } else {\n                    if (typeof jsonResponse.error_field_name != 'undefined') {\n                        //Do appropriate error action\n                    } else {\n                        alert(jsonResponse.message);\n                    }\n                    $('.overlay').hide();\n                    event.preventDefault();\n                    return false;\n                }\n            } else {\n                /*alert('Something went wrong!');*/\n                $('.overlay').hide();\n                event.preventDefault();\n            }\n        };\n        xhr.send(formData);\n    })\n\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> &lt;script&gt;\r\n   $(\"form\").submit(function(evt){\t \r\n   evt.preventDefault();\r\n\r\n   var formData = new FormData($(this)[0]); \r\n\r\n   $.ajax({\r\n     url: 'fileUpload',\r\n     type: 'POST',\r\n     data: formData,\r\n     async: false,\r\n     cache: false,\r\n     contentType: false,\r\n     enctype: 'multipart/form-data',\r\n     processData: false,\r\n     success: function (response) {\r\n       alert(response);\r\n     }\r\n   });\r\n\r\n   return false;\r\n });\r\n&lt;/script&gt;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;table&gt;\r\n\r\n    &lt;tr&gt;\r\n      &lt;td colspan=\"2\"&gt;File Upload&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Select File &lt;/th&gt;\r\n      &lt;td&gt;&lt;input id=\"csv\" name=\"csv\" type=\"file\" /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr&gt;\r\n      &lt;td colspan=\"2\"&gt;\r\n        &lt;input type=\"submit\" value=\"submit\"/&gt; \r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n  &lt;/table&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Can I use this following jQuery code to perform file upload using post method of Ajax request ?</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    timeout: 50000,\n    url: url,\n    data: dataString,\n    success: function (data) {\n        alert('success');\n        return false;\n    }\n});\n</code></pre>\n\n<p>if it is possible, do I need to fill \"data\" part? Is it the correct way? I only post the file to the server side.</p>\n\n<p>I have been Googling around, but what I found was plugin while in my plan I do not want to use it. At least for the moment.</p>\n\n<p>Thanks in advance</p>\n",
            "last_activity_date": 1424916005,
            "question_id": 2320069,
            "score": 191,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "post",
                "file-upload"
            ],
            "title": "jQuery Ajax File Upload"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p><strong>NOTE: If you are working with an HTML5 browser then you should ignore this answer. This is now possible as can be seen in the other answers.</strong></p>\n\n<p>There is no way to modify the URL in the browser without reloading the page. The URL represents what the last loaded page was. If you change it (document.location) then it will reload the page.</p>\n\n<p>One obvious reason being, you write a site on www.mysite.com that looks like a bank login page. Then you change the browser url bar to say www.mybank.com. The user will be totally unaware that they are really looking at www.mysite.com.</p>\n",
                    "is_accepted": false,
                    "score": 59
                },
                {
                    "body": "<p>Any changes of the loction (either <code>window.location</code> or <code>document.location</code>) will cause a request on that new URL, if you\u2019re not just changing the URL fragment. If you change the URL, you change the URL.</p>\n\n<p>Use server-side URL rewrite techniques like <a href=\"http://httpd.apache.org/docs/2.2/mod/mod%5Frewrite.html\">Apache\u2019s mod_rewrite</a> if you don\u2019t like the URLs you are currently using.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Assuming you're not trying to do something malicious, anything you'd like to do to your own URLs can be magicked into being with <a href=\"http://corz.org/serv/tricks/htaccess2.php\" rel=\"nofollow\">htaccess</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>parent.location.hash = \"hello\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<p>You can add anchor tags.  I use this on my site <a href=\"http://www.piano-chords.net/\" rel=\"nofollow\">http://www.piano-chords.net/</a> so that I can track with google analytics what people are visiting on the page.  I just add an anchor tag and then the part of the page I want to track.</p>\n\n<pre><code>var trackCode = \"/#\" + urlencode($(\"myDiv\").text());\nwindow.location.href = \"http://www.piano-chords.net\" + trackCode;\npageTracker._trackPageview(trackCode);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This can now be done in Chrome, Safari, FF4+, and IE10pp4+!</p>\n\n<p>See this question's answer for more info:\n<a href=\"http://stackoverflow.com/questions/3338642/updating-address-bar-with-new-url-without-hash-or-reloading-the-page\">Updating address bar with new URL without hash or reloading the page</a></p>\n\n<p>Example:</p>\n\n<pre><code> function processAjaxData(response, urlPath){\n     document.getElementById(\"content\").innerHTML = response.html;\n     document.title = response.pageTitle;\n     window.history.pushState({\"html\":response.html,\"pageTitle\":response.pageTitle},\"\", urlPath);\n }\n</code></pre>\n\n<p>You can then use <code>window.onpopstate</code> to detect the back/forward button navigation:</p>\n\n<pre><code>window.onpopstate = function(e){\n    if(e.state){\n        document.getElementById(\"content\").innerHTML = e.state.html;\n        document.title = e.state.pageTitle;\n    }\n};\n</code></pre>\n\n<hr>\n\n<p>For a more in-depth look at manipulating browser history see <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history\">this MDN article</a>.</p>\n",
                    "is_accepted": true,
                    "score": 802
                },
                {
                    "body": "<p>HTML5 introduced the history.pushState() and history.replaceState() methods, which allow you to add and modify history entries, respectively.</p>\n\n<pre><code>window.history.pushState('page2', 'Title', '/page2.php');\n</code></pre>\n\n<p>Read more about this from <a href=\"https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 73
                },
                {
                    "body": "<p>This one is doing this :\n<a href=\"http://fr.gamesplanet.com/acheter-telecharger-jeux-pc/Action-pc-13.html#categoryId_13:p_1\" rel=\"nofollow\">http://fr.gamesplanet.com/acheter-telecharger-jeux-pc/Action-pc-13.html#categoryId_13:p_1</a></p>\n\n<p>change page to see</p>\n\n<p>Your thoughts ?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If what you're trying to do is allow users to bookmark/share pages, and you don't need it to be exactly the right URL, and you're not using hash anchors for anything else, then you can do this in two parts; you use the location.hash discussed above, and then implement a check on the home page, to look for a URL with a hash anchor in it, and redirect you to the subsequent result.</p>\n\n<p>For instance:</p>\n\n<p>1) User is on www.site.com/section/page/4</p>\n\n<p>2) User does some action which changes the URL to www.site.com/#/section/page/6 (with the hash). Say you've loaded the correct content for page 6 into the page, so apart from the hash the user is not too disturbed.</p>\n\n<p>3) User passes this URL on to someone else, or bookmarks it</p>\n\n<p>4) Someone else, or the same user at a later date, goes to www.site.com/#/section/page/6</p>\n\n<p>5) Code on www.site.com/ redirects the user to www.site.com/section/page/6, using something like this: </p>\n\n<pre><code>if (window.location.hash.length &gt; 0) window.location = window.location.hash.substring(1);\n</code></pre>\n\n<p>Hope that makes sense! It's a useful approach for some situations. </p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>It's possible without using hashes, have a look to the <a href=\"http://www.asual.com/jquery/address/\" rel=\"nofollow\">asual jQuery Address plugin</a>:</p>\n\n<p>Example <a href=\"http://lab.laukstein.com/ajax-seo/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Note that it will use hashes in IE, there is no workaround for it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can also use HTML5 <strong>replaceState</strong> if you want to change the url but don't want to add the entry to the browser history:</p>\n\n<pre><code>if (window.history.replaceState) {\n   //prevents browser from storing history with each change:\n   window.history.replaceState(statedata, title, url);\n}\n</code></pre>\n\n<p>This would 'break' the back button functionality. This may be required in some instances such as an image gallery (where you want the back button to return back to the gallery index page instead of moving back through each and every image you viewed) whilst giving each image its own unique url.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>The HTML5 replaceState is the answer, as already mentioned by Vivart and geo1701. However it is not supported in all browsers/versions.\n<a href=\"https://github.com/balupton/history.js\">History.js</a> wraps HTML5 state features and provides additional support for HTML4 browsers.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>You can use AJAX. AJAX is like reloading just a PART of the page.\nAJAX is used via javascript. you can just reload the url.</p>\n",
                    "is_accepted": false,
                    "score": -9
                },
                {
                    "body": "<p>As pointed out by Thomas Stjernegaard Jeppesen, you could use <a href=\"https://github.com/browserstate/history.js\" rel=\"nofollow\">History.js</a> to modify URL parameters whilst the user navigates through your Ajax links and apps. </p>\n\n<p>Almost an year has passed since that answer, and History.js grew and became more stable and cross-browser. Now it can be used to manage history states in HTML5-compliant as well as in many HTML4-only browsers. <a href=\"http://browserstate.github.io/history.js/demo/?state=1\" rel=\"nofollow\">In this demo</a> You can see an example of how it works (as well as being able to try its functionalities and limits. </p>\n\n<p>Should you need any help in how to use and implement this library, i suggest you to take a look at the source code of the demo page: you will see it's very easy to do.</p>\n\n<p>Finally, for a comprehensive explanation of what can be the issues about using hashes (and hashbangs), check out <a href=\"https://github.com/browserstate/history.js/wiki/Intelligent-State-Handling\" rel=\"nofollow\">this link</a> by Benjamin Lupton. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Before HTML5 we can use:</p>\n\n<pre><code>parent.location.hash = \"hello\";\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>window.location.replace(\"http:www.example.com\");\n</code></pre>\n\n<p>This method will reload your page, but HTML5 introduced the <code>history.pushState(page, caption, replace_url)</code> that should not reload your page.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><strong>You can now do this in most \"modern\" browsers!</strong></p>\n\n<p>1) Here is the original article:-</p>\n\n<p><a href=\"http://spoiledmilk.com/blog/html5-changing-the-browser-url-without-refreshing-page/\" rel=\"nofollow\">HTML5: Changing the browser-URL without refreshing page.</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history\" rel=\"nofollow\">see the MDN docs.</a></p>\n\n<p>You can do this:</p>\n\n<pre><code>window.history.pushState(\"object or string\", \"Title\", \"/new-url\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there any way I can modify the URL of the current page without reloading the page?</p>\n\n<p>I would like to access the portion <strong>before</strong> the # hash if possible.</p>\n\n<p>I only need to change the portion <strong>after</strong> the domain, so its not like I'm violating cross-domain policies.</p>\n\n<pre><code> window.location.href = \"www.mysite.com/page2.php\";  // sadly this reloads\n</code></pre>\n",
            "last_activity_date": 1424990048,
            "question_id": 824349,
            "score": 709,
            "tags": [
                "javascript",
                "html",
                "url",
                "url-rewriting",
                "friendly-url"
            ],
            "title": "Modify the URL without reloading the page"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here are some example images for common use, mostly from existing answers on SO.  </p>\n\n<h2>Icons</h2>\n\n<p><strong>Simple Geometric shapes</strong> generated using Java as originally seen in <a href=\"http://stackoverflow.com/a/16052085/418556\">this answer</a>.  It includes a Java based interface that defines the URLs and makes them easy to access.</p>\n\n<p><strong>Details:</strong> 32x32 pixel PNG (4 colors x 5 shapes) with partial transparency (along the edges).</p>\n\n<p><strong>Categories:</strong> <a href=\"/questions/tagged/png\" class=\"post-tag\" title=\"show questions tagged &#39;png&#39;\" rel=\"tag\">png</a> <a href=\"/questions/tagged/icons\" class=\"post-tag\" title=\"show questions tagged &#39;icons&#39;\" rel=\"tag\">icons</a></p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/gJmeJ.png\" >\n  <img src=\"http://i.stack.imgur.com/L5DGx.png\" >\n  <img src=\"http://i.stack.imgur.com/in9g1.png\" >\n  <img src=\"http://i.stack.imgur.com/IucNt.png\" >\n  <img src=\"http://i.stack.imgur.com/yoKxT.png\" >&nbsp;&nbsp;\n  <img src=\"http://i.stack.imgur.com/T5uTa.png\" >\n  <img src=\"http://i.stack.imgur.com/gYxHm.png\" >\n  <img src=\"http://i.stack.imgur.com/1lgtq.png\" >\n  <img src=\"http://i.stack.imgur.com/yBOv3.png\" >\n  <img src=\"http://i.stack.imgur.com/zJ8am.png\" ><br>\n  <img src=\"http://i.stack.imgur.com/IHARa.png\" >\n  <img src=\"http://i.stack.imgur.com/8BGfi.png\" >\n  <img src=\"http://i.stack.imgur.com/6ZXhi.png\" >\n  <img src=\"http://i.stack.imgur.com/Lqkl0.png\" >\n  <img src=\"http://i.stack.imgur.com/c67nr.png\" >&nbsp;&nbsp;\n  <img src=\"http://i.stack.imgur.com/wCF8S.png\" >\n  <img src=\"http://i.stack.imgur.com/5v2TX.png\" >\n  <img src=\"http://i.stack.imgur.com/F0JHK.png\" >\n  <img src=\"http://i.stack.imgur.com/4EVv1.png\" >\n  <img src=\"http://i.stack.imgur.com/xj49g.png\" ><br></p>\n</blockquote>\n\n<h2>Sprite Sheets</h2>\n\n<p><strong>Chess Pieces</strong> as originally seen on <a href=\"http://stackoverflow.com/a/18686753/418556\">this answer</a> that includes 2 other sprite sets (same image in different colors).</p>\n\n<p><strong>Details:</strong> 384x128 px (each sprite 64x64 px) PNG with partial transparency.</p>\n\n<p><strong>Categories:</strong> <a href=\"/questions/tagged/png\" class=\"post-tag\" title=\"show questions tagged &#39;png&#39;\" rel=\"tag\">png</a> <a href=\"/questions/tagged/sprite-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;sprite-sheet&#39;\" rel=\"tag\">sprite-sheet</a> <a href=\"/questions/tagged/icons\" class=\"post-tag\" title=\"show questions tagged &#39;icons&#39;\" rel=\"tag\">icons</a></p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/memI0.png\" ></p>\n</blockquote>\n\n<h2>Animated</h2>\n\n<p>GIF is the only image format that supports animation.  Here are a few examples.</p>\n\n<p><strong>Categories:</strong> <a href=\"/questions/tagged/gif\" class=\"post-tag\" title=\"show questions tagged &#39;gif&#39;\" rel=\"tag\">gif</a> <a href=\"/questions/tagged/animated-gif\" class=\"post-tag\" title=\"show questions tagged &#39;animated-gif&#39;\" rel=\"tag\">animated-gif</a> </p>\n\n<h3>Solid BG</h3>\n\n<p><strong>Animated dashed border</strong> as seen in <a href=\"http://stackoverflow.com/a/9772978/418556\">this answer</a>.</p>\n\n<p><strong>Details:</strong> 100x30 px with filled BG (no transparency)</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/DnzXV.gif\" ></p>\n</blockquote>\n\n<p><strong>Zooming stars</strong> as seen in <a href=\"http://stackoverflow.com/a/10836833/418556\">this answer</a>, originally developed as a 'screen-shot' of a screensaver.</p>\n\n<p><strong>Details:</strong> 160x120 px with filled BG (no transparency)</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/iQFxo.gif\" ></p>\n</blockquote>\n\n<p><strong>Animated Water</strong> as seen in <a href=\"http://stackoverflow.com/a/17894012/418556\">this answer</a> to <a href=\"http://stackoverflow.com/q/17893429/418556\">Animating Tiles In My Game</a>.</p>\n\n<p><strong>Details:</strong> 60x60 px with filled BG (no transparency)</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/HXCUV.gif\"></p>\n</blockquote>\n\n<h3>Transparent BG</h3>\n\n<p><strong>Orbital animation,</strong> originally developed for <a href=\"http://1point1c.org/\">1.1C</a>.  The orbits of the 'inner' planets (from Mercury to Jupiter, with an extra orbit shown in the thick of the asteroid belt).  Better on a dark BG.</p>\n\n<p><strong>Details:</strong> 450x450 &amp; 150x150 px animated GIFs with transparency.  </p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/OtTIY.gif\" ><img src=\"http://i.stack.imgur.com/z9rv7.gif\" ></p>\n</blockquote>\n\n<h2>Pictures</h2>\n\n<p><strong>Sunrise &amp; moonset</strong> over the CBD of Sydney, Australia<br><strong>Sunset &amp; Venus over a telescope</strong> on Mt Stromlo, near Canberra, Australia.</p>\n\n<p><strong>Categories:</strong> <a href=\"/questions/tagged/jpeg\" class=\"post-tag\" title=\"show questions tagged &#39;jpeg&#39;\" rel=\"tag\">jpeg</a> <a href=\"/questions/tagged/slideshow\" class=\"post-tag\" title=\"show questions tagged &#39;slideshow&#39;\" rel=\"tag\">slideshow</a> + Image Transitions</p>\n\n<p><strong>Details:</strong> 480x320 px JPEGs x 4.  (Displayed here at 1/2 size.) </p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/XZ4V5.jpg\" width=\"240\" height=\"160\" ><img src=\"http://i.stack.imgur.com/7bI1Y.jpg\" width=\"240\" height=\"160\" ><br>\n  <img src=\"http://i.stack.imgur.com/OVOg3.jpg\" width=\"240\" height=\"160\" ><img src=\"http://i.stack.imgur.com/lxthA.jpg\" width=\"240\" height=\"160\" ></p>\n</blockquote>\n\n<h2>Tiles</h2>\n\n<p>This <strong>Mercator map of Earth</strong> can be tiled left/right.  Originally seen on <a href=\"http://stackoverflow.com/a/18825844/418556\">this answer</a>.  The answer also includes a second version of the image that shows a semi-transparent line for the equator (which is not in the center, but significantly below it).</p>\n\n<p><strong>Details:</strong> 640x316 px (add 44 px at bottom to center equator) PNG with transparent BG.  </p>\n\n<p><strong>Categories:</strong> <a href=\"/questions/tagged/png\" class=\"post-tag\" title=\"show questions tagged &#39;png&#39;\" rel=\"tag\">png</a> <a href=\"/questions/tagged/tile\" class=\"post-tag\" title=\"show questions tagged &#39;tile&#39;\" rel=\"tag\">tile</a> <a href=\"/questions/tagged/animation\" class=\"post-tag\" title=\"show questions tagged &#39;animation&#39;\" rel=\"tag\">animation</a> (scrolling)</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/P59NF.png\"></p>\n</blockquote>\n\n<h2>Tip</h2>\n\n<p>For getting the URLs of the images, you might 'context click' on the image as seen in the browser and either: </p>\n\n<ul>\n<li>Show the properties.  The URL can be copied from the dialog that appears.  </li>\n<li>View image.  Copy the URL from the browser address bar.</li>\n</ul>\n\n<p>Alternately:</p>\n\n<ul>\n<li>Use the browser 'show source' and copy it from the HTML.</li>\n<li>For those with enough rep. (100+, to edit a community Wiki answer), go to <a href=\"http://stackoverflow.com/posts/19209651/edit\">edit the answer</a> and pull the URL from the text.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>When preparing an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>/<a href=\"http://sscce.org/\">SSCCE</a> that involves images, it is useful to have direct access to images.  </p>\n\n<p>The types of images that would cover most questions are - small images in multiple colors or shapes, animated GIFs with/without transparency, JPEGs that are 'pairs' of pictures &amp; can be used in image transitions, tile sets, sprite sheets..</p>\n\n<p>Are there any small (under 30KB), on-site, license &amp; royalty free images we can hot-link to for these types of examples?</p>\n",
            "last_activity_date": 1410665631,
            "question_id": 19209650,
            "score": 19,
            "tags": [
                "java",
                "javascript",
                "css",
                "image"
            ],
            "title": "Example images for code and mark-up Q&amp;As"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>If you're in the global scope then there's no difference.</p>\n\n<p>If you're in a function then \"var\" will create a local variable, \"no var\" will look up the scope chain until it finds the variable or hits the global scope (at which point it will create it):</p>\n\n<pre><code>// These are both globals\nvar foo = 1;\nbar = 2;\n\nfunction()\n{\n    var foo = 1; // Local\n    bar = 2;     // Global\n\n    // Execute an anonymous function\n    (function()\n    {\n        var wibble = 1; // Local\n        foo = 2; // Inherits from scope above (creating a closure)\n        moo = 3; // Global\n    }())\n}\n</code></pre>\n\n<p>If you're not doing an assignment then you need to use var:</p>\n\n<pre><code>var x; // Declare x\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 765
                },
                {
                    "body": "<p>I would say it's better to use \"var\" in most situations.</p>\n\n<p>Local variables are always faster than the variables in global scope.</p>\n\n<p>If you do not use \"var\" to declare a variable, the variable will be in global scope.</p>\n\n<p>For more information, you can search \"scope chain javascript\" in Google.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Without var - global variable. Strongly recommended to ALWAYS use var statement, because init global variable in local context - is evil. But, if you need this dirty trick, you should write comment at start of page:</p>\n\n<p>/* global: varname1, varname2... */</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>When Javascript is executed in a browser, all your code is surrounded by a with statement, like so:</p>\n\n<pre><code>with (window) {\n    //Your code\n}\n</code></pre>\n\n<p>More info on <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Statements/with\"><code>with</code> - MDN</a></p>\n\n<p>Since <code>var</code> declares a variable <em>in the current scope</em> , there is no difference between declaring <code>var</code> <strong>inside window</strong> and not declaring it at all.</p>\n\n<p>The difference comes when you're not directly inside the window, e.g. inside a function or inside a block.</p>\n\n<p>Using <code>var</code> lets you hide external variables that have the same name. In this way you can simulate a \"private\" variable, but that's another topic.</p>\n\n<p>A rule of thumb is to always use <code>var</code>, because otherwise you run the risk of introducing subtle bugs.</p>\n\n<p>EDIT:\nAfter the critiques I received, I would like to emphasize the following:</p>\n\n<ul>\n<li><code>var</code> declares a variable <em>in the current scope</em></li>\n<li>The global scope is <code>window</code></li>\n<li>Not using <code>var</code> implicitly declares <code>var</code> in the global scope (window)</li>\n<li>Declaring a variable in the global scope (window) using <code>var</code> is the same as omitting it.</li>\n<li>Declaring a variable in scopes different from window using <code>var</code> <strong>is not the same thing</strong> as declaring a variable without <code>var</code></li>\n<li>Always declare <code>var</code> explicitly because it's good practice</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 59
                },
                {
                    "body": "<p>Here's quite a good example of how you can get caught out from not declaring local variables with <code>var</code>:</p>\n\n<pre><code>&lt;script&gt;\none();\n\nfunction one()\n{\n    for (i = 0;i &lt; 10;i++)\n    {\n        two(i);\n        alert(i);\n    }\n}\n\nfunction two()\n{\n    i = 1;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p><em>(<code>i</code> is reset at every iteration of the loop, as it's not declared locally in the <code>for</code> loop but globally)</em></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Saying it's the difference between \"<strong>local</strong> and <strong>global</strong>\" isn't entirely accurate.</p>\n\n<p>It might be better to think of it as the difference between \"<strong>local</strong> and <strong>nearest</strong>\". The nearest can surely be global, but that won't always be the case.</p>\n\n<pre><code>/* global scope */\nvar local = true;\nvar global = true;\n\nfunction outer() {\n    /* local scope */\n    var local = true;\n    var global = false;\n\n    /* nearest scope = outer */\n    local = !global;\n\n    function inner() {\n        /* nearest scope = outer */\n        local = false;\n        global = false;\n\n        /* nearest scope = undefined */\n        /* defaults to defining a global */\n        public = global;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 86
                },
                {
                    "body": "<p>You should <em>always</em> use the <code>var</code> keyword to declare variables. Why? Good coding practice should be enough of a reason in itself, but declaring a variable without the <code>var</code> keyword means it is declared in the <strong>global</strong> scope (a variable like this is called an \"implied\" global). Douglas Crockford <a href=\"http://javascript.crockford.com/code.html#variable%20declarations\">recommends never using implied globals</a>, and according to the <a href=\"http://developer.apple.com/safari/library/documentation/ScriptingAutomation/Conceptual/JSCodingGuide/Advanced/Advanced.html#//apple%5Fref/doc/uid/TP40006541\">Apple JavaScript Coding Guidelines</a>:</p>\n\n<blockquote>\n  <p>Any variable created without the <code>var</code>\n  keyword is created at the global scope\n  and is not garbage collected when the\n  function returns (because it doesn\u2019t\n  go out of scope), presenting the\n  opportunity for a memory leak.</p>\n</blockquote>\n\n<p>So, in short, always declare variables using the <code>var</code> keyword.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p><strong>There's a difference</strong>.</p>\n\n<p><code>var x = 1</code> <strong>declares variable</strong> <code>x</code> in current scope (aka execution context). If the declaration appears in a function - a local variable is declared; if it's in global scope - a global variable is declared.</p>\n\n<p><code>x = 1</code>, on the other hand, is merely a property assignment. It first tries to resolve <code>x</code> against scope chain. If it finds it anywhere in that scope chain, it performs assignment; if it doesn't find <code>x</code>, only then does <strong>it create <code>x</code> property on a global object</strong> (which is a top level object in a scope chain). </p>\n\n<p>Now, notice that it doesn't declare a global variable, it creates a global property.</p>\n\n<p>The difference between the two is subtle and might be confusing unless you understand that <strong>variable declarations also create properties</strong> (only on a Variable Object) and that every property in Javascript (well, ECMAScript) have certain flags that describe their properties - ReadOnly, DontEnum and DontDelete.</p>\n\n<p>Since variable declaration creates property with the DontDelete flag, the difference between <code>var x = 1</code> and <code>x = 1</code> (when executed in global scope) is that the former one - variable declaration - creates the DontDelete'able property, and latter one doesn't. As a consequence, the property created via this implicit assignment can then be deleted from the global object, and the former one - the one created via variable declaration - cannot be deleted.</p>\n\n<p>But this is just theory of course, and <strong>in practice there are even more differences between the two</strong>, due to various bugs in implementations (such as those from IE).</p>\n\n<p>Hope it all makes sense : )</p>\n\n<p><strong>[Update 2010/12/16]</strong></p>\n\n<p>In ES5 (ECMAScript 5; recently standardized, 5th edition of the language) there's a so-called \"strict mode\" \u2014 an opt-in language mode, which slightly changes the behavior of undeclared assignments. In strict mode, assignment to an undeclared identifier is a <strong>ReferenceError</strong>. The rationale for this was to catch accidental assignments, preventing creation of undesired global properties. Some of the newer browsers have already started rolling support for strict mode. See, for example, <a href=\"http://kangax.github.com/es5-compat-table\">my compat table</a>.</p>\n",
                    "is_accepted": false,
                    "score": 510
                },
                {
                    "body": "<p>Using <code>var</code> is always a good idea to prevent variables from cluttering the global scope and variables from conflicting with each other, causing unwanted overwriting.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>another difference \ne.g</p>\n\n<pre><code>var a = a || [] ; // works \n</code></pre>\n\n<p>while </p>\n\n<pre><code>a = a || [] ; // a is undefined error.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Inside a code you if you use a variable without using var, then what happens is the automatically var var_name is placed in the global scope eg:</p>\n\n<pre><code>someFunction() {\n    var a = some_value; /*a has local scope and it cannot be accessed when this\n    function is not active*/\n    b = a; /*here it places \"var b\" at top of script i.e. gives b global scope or\n    uses already defined global variable b */\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this is example code I have written to understand this concept. I hop this is helpful.</p>\n\n<pre><code>var foo = 5; \n    bar = 2;     \n    fooba = 3;\n    // Execute an anonymous function\n    function test()\n    {    bar=100;\n       var foo = 4; \n       var fooba=900;\n        document.write(foo);//4\n        document.write(bar);//100\n        document.write(fooba);//900\n    }\n    test();\n    document.write('&lt;br/&gt;');\n    document.write('&lt;br/&gt;');\n    document.write(foo);//5\n    document.write(bar);//100\n    document.write(fooba);//3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Without using \"var\" variables can only define when set a value. In example:</p>\n\n<pre><code>my_var;\n</code></pre>\n\n<p>cannot work in <strong>global scope</strong> or <strong>any other scope</strong>. It should be with value like:</p>\n\n<pre><code>my_var = \"value\";\n</code></pre>\n\n<p>On the other hand you can define a vaiable like;</p>\n\n<pre><code>var my_var;\n</code></pre>\n\n<p>Its value is <code>undefined</code> ( Its value is not <code>null</code> and it is not equal to <code>null</code> interestingly.).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>Differences between declaring a variable with 'var' and without 'var' keyword:</h2>\n\n<p>I would like to add two words to answer the question <strong>'Initializing'</strong> and <strong>'assignment'</strong></p>\n\n<p><em>If you declare a variable with 'var' keyword it simply initialize the variable.</em></p>\n\n<p><strong>Example:</strong> var x=10; (initialize the variable)</p>\n\n<p><em>If you declare a variable without 'var' keyword it will assign the value to variable name. If the variable is not intialized earlier it does the initialization of variable.</em></p>\n\n<p><strong>Example:</strong> x=10; (it will assign '10' to 'x')</p>\n\n<p><strong>CONSIDER THE BELOW EXAMPLES:</strong></p>\n\n<hr>\n\n<p><strong>example 1:</strong></p>\n\n<p>var x=10;           //initialize and assigns 10 to y (global scope)</p>\n\n<p>function fun(){</p>\n\n<p>var x=20;           //initialize and assigns 10 to x (local scope)</p>\n\n<p>console.log(x);     //prints 20</p>\n\n<p>}\nfun();              //Executing function fun()</p>\n\n<p>console.log(x);     //prints 10</p>\n\n<hr>\n\n<p><strong>example 2:</strong></p>\n\n<p>y=10;               //initialize and assigns 10 to y (global scope)</p>\n\n<p>function fun(){</p>\n\n<p>y=20;               //assign 20 to y (global scope)</p>\n\n<p>console.log(y);     //prints 20</p>\n\n<p>}</p>\n\n<p>fun();              //Executing function fun()\nconsole.log(y);     //prints 20</p>\n\n<hr>\n\n<p><strong>example 3:</strong>\nz=10;               //initialize and assigns 10 to z (global scope)</p>\n\n<p>function fun(){</p>\n\n<p>var z=20;           //intialize and assigns 20 to z (local scope)</p>\n\n<p>console.log(z);     //prints 20</p>\n\n<p>}</p>\n\n<p>fun();              //Executing function fun()</p>\n\n<p>console.log(z);     //prints 10</p>\n\n<blockquote>\n  <p>basically 'var' keyword is used to define a variable with in local scope\n  if you use 'var' keyword the value will be available to that particular scope only.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": -2
                }
            ],
            "body": "<blockquote>\n  <p><strong><em>NOTE</strong>: This question was asked from the viewpoint of ECMAScript version 3 or 5. The answers might become outdated with the introduction of new features in the release of ECMAScript 6.</em></p>\n</blockquote>\n\n<p>What exactly is the function of the <code>var</code> keyword in Javascript, and what is the difference between:</p>\n\n<pre><code>var someNumber = 2;\nvar someFunction = function() { doSomething; }\nvar someObject = { }\nvar someObject.someProperty = 5;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>someNumber = 2;\nsomeFunction = function() { doSomething; }\nsomeObject = { }\nsomeObject.someProperty = 5;\n</code></pre>\n\n<p>When would you use either one, and why/what does it do?</p>\n",
            "last_activity_date": 1424462283,
            "question_id": 1470488,
            "score": 820,
            "tags": [
                "javascript",
                "keyword",
                "ecmascript-5"
            ],
            "title": "What is the function of the var keyword and when to use it (or omit it)?"
        },
        {
            "answer_count": 35,
            "answers": [
                {
                    "body": "<p>It's not jQuery, but I found this: <a href=\"http://detectmobilebrowser.com/\">http://detectmobilebrowser.com/</a></p>\n\n<p>It provides scripts to detect mobile browsers in several languages, one of which is javascript.  That may help you with what you're looking for.</p>\n\n<p>However, since you are using jQuery, you might want to be aware of the jQuery.support collection.  It's a collection of properties for detecting the capabilities of the current browser.  Documentation is here: <a href=\"http://api.jquery.com/jQuery.support/\">http://api.jquery.com/jQuery.support/</a></p>\n\n<p>Since I don't know what exactly what you're trying to accomplish, I don't know which of these will be the most useful.</p>\n\n<p>All that being said, I think your best bet is to either redirect or write a different script to the output using a server-side language (if that is an option).  Since you don't really know the capabilities of a mobile browser x, doing the detection and alteration logic on the server side would be the most reliable method.  Of course, all of that is a moot point if you can't use a server side language :)</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<p>What you are doing by wanting to detect a mobile device is getting a little too close to a \"browser sniffing\" concept IMO. It would likely be much better to do some feature detection. Libraries like <a href=\"http://www.modernizr.com/\">http://www.modernizr.com/</a> can help with that.</p>\n\n<p>For example, where is the line between mobile and non-mobile? It gets more and more blurry every day.</p>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>If you're not particularly worried about small displays you could use width/height detection. So that way if width is under a certain size, the mobile site is thrown up. It may not be the perfect way, but it will probably be the easiest to detect for multiple devices. You may need to put in a specific one for the iPhone 4 (large resolution). </p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Instead of using jquery you can use simple javascript to detect it:</p>\n\n<pre><code>if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n // some code..\n}\n</code></pre>\n\n<p>or you can combine them both to make it more accessible through jQuery...</p>\n\n<pre><code>$.browser.device = (/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));\n</code></pre>\n\n<p>now <code>$.browser</code> will return <code>\"device\"</code> for all above devices</p>\n\n<p>Note: <code>$.browser</code> removed on <a href=\"http://jquery.com/upgrade-guide/1.9/#jquery-browser-removed\"><strong>jQuery v1.9.1</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 851
                },
                {
                    "body": "<p>Sometimes it is desired to know which brand device a client is using in order to show content specific to that device, like a link to the iPhone store or the Android market. Modernizer is great, but only shows you browser capabilities, like HTML5 or Flash.</p>\n\n<p>Here is my UserAgent solution in jQuery to display a different class for each device type:</p>\n\n<pre><code>/*** sniff the UA of the client and show hidden div's for that device ***/\nvar customizeForDevice = function(){\n    var ua = navigator.userAgent;\n    var checker = {\n      iphone: ua.match(/(iPhone|iPod|iPad)/),\n      blackberry: ua.match(/BlackBerry/),\n      android: ua.match(/Android/)\n    };\n    if (checker.android){\n        $('.android-only').show();\n    }\n    else if (checker.iphone){\n        $('.idevice-only').show();\n    }\n    else if (checker.blackberry){\n        $('.berry-only').show();\n    }\n    else {\n        $('.unknown-device').show();\n    }\n}\n</code></pre>\n\n<p>This solution is from Graphics Maniacs\n<a href=\"http://graphicmaniacs.com/note/detecting-iphone-ipod-ipad-android-and-blackberry-browser-with-javascript-and-php/\">http://graphicmaniacs.com/note/detecting-iphone-ipod-ipad-android-and-blackberry-browser-with-javascript-and-php/</a></p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>You can't rely on navigator.userAgent, not every device reveales its real OS. On my HTC for example, it depends on the settings (\"using mobile version\" on/off). \nOn <a href=\"http://my.clockodo.com\" rel=\"nofollow\">http://my.clockodo.com</a>, we simply used <code>screen.width</code> to detect small devices. Unfortunately, in some android versions there's a bug with screen.width. You can combine this way with the userAgent:</p>\n\n<pre><code>if(screen.width &lt; 500 ||\n navigator.userAgent.match(/Android/i) ||\n navigator.userAgent.match(/webOS/i) ||\n navigator.userAgent.match(/iPhone/i) ||\n navigator.userAgent.match(/iPod/i) {\nalert(\"This is a mobile device\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here's a function you can use to get a true/false answer as to whether you're running on a mobile browser. Yes, it is browser-sniffing, but sometimes that is exactly what you need.</p>\n\n<pre><code>function is_mobile() {\n    var agents = ['android', 'webos', 'iphone', 'ipad', 'blackberry'];\n    for(i in agents) {\n        if(navigator.userAgent.match('/'+agents[i]+'/i')) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>var device = {\n  detect: function(key) {\n    if(this['_'+key] === undefined) {\n      this['_'+key] = navigator.userAgent.match(new RegExp(key, 'i'));\n    }\n    return this['_'+key];\n  },\n  iDevice: function() {\n    return this.detect('iPhone') || this.detect('iPod');\n  },\n  android: function() {\n    return this.detect('Android');\n  },\n  webOS: function() {\n    return this.detect('webOS');\n  },\n  mobile: function() {\n    return this.iDevice() || this.android() || this.webOS();\n  }\n};\n</code></pre>\n\n<p>I've used something like this in the past. This is similar to a previous response, but it's technically more performant in that it caches the result of the match, especially if the detection is being used in an animation, scroll event, or the like.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Check out this <a href=\"http://www.sitepoint.com/adapting-an-interface-for-touch-devices/\">post</a>, it gives a really nice code snippet for what to do when touch devices are detected or what to do if touchstart event is called:</p>\n\n<pre><code>$(function(){\n  if(window.Touch) {\n    touch_detect.auto_detected();\n  } else {\n    document.ontouchstart = touch_detect.surface;\n  }\n}); // End loaded jQuery\nvar touch_detect = {\n  auto_detected: function(event){\n    /* add everything you want to do onLoad here (eg. activating hover controls) */\n    alert('this was auto detected');\n    activateTouchArea();\n  },\n  surface: function(event){\n    /* add everything you want to do ontouchstart here (eg. drag &amp; drop) - you can fire this in both places */\n    alert('this was detected by touching');\n    activateTouchArea();\n  }\n}; // touch_detect\nfunction activateTouchArea(){\n  /* make sure our screen doesn't scroll when we move the \"touchable area\" */\n  var element = document.getElementById('element_id');\n  element.addEventListener(\"touchstart\", touchStart, false);\n}\nfunction touchStart(event) {\n  /* modularize preventing the default behavior so we can use it again */\n  event.preventDefault();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Great answer thanks. Small improvement to support windows phone and Zune:</p>\n\n<pre><code>        if (navigator.userAgent.match(/Android/i) ||\n             navigator.userAgent.match(/webOS/i) ||\n             navigator.userAgent.match(/iPhone/i) ||\n             navigator.userAgent.match(/iPad/i) ||\n             navigator.userAgent.match(/iPod/i) ||\n             navigator.userAgent.match(/BlackBerry/) || \n             navigator.userAgent.match(/Windows Phone/i) || \n             navigator.userAgent.match(/ZuneWP7/i)\n             ) {\n                // some code\n                self.location=\"top.htm\";\n               }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here's good thing for some languages: <a href=\"http://detectmobilebrowsers.com/\">http://detectmobilebrowsers.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>For me small is beautiful so i'm using this technique:</p>\n\n<p>In CSS file:</p>\n\n<pre><code>/* Smartphones ----------- */\n@media only screen and (max-width: 760px) {\n  #some-element { display: none; }\n}\n</code></pre>\n\n<p>In jQuery/Javascript file:  </p>\n\n<pre><code>$( document ).ready(function() {      \n    var is_mobile = false;\n\n    if( $('#some-element').css('display')=='none') {\n        is_mobile = true;       \n    }\n\n    // now i can use is_mobile to run javascript conditionally\n\n    if (is_mobile == true) {\n        //Conditional script here\n    }\n });\n</code></pre>\n\n<p>My objective was to have my site \"mobile friendly\". So i use CSS Media Queries do show/hide elements depending on the screen size.</p>\n\n<p>For example, in my mobile version i don't want to activate the Facebook Like Box, because it loads all those profile images and stuff. and that's not good for mobile visitors. So, besides hiding the container element, i also do this inside the jQuery code block (above):</p>\n\n<pre><code>if(!is_mobile) {\n    (function(d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js = d.createElement(s); js.id = id;\n        js.src = \"//connect.facebook.net/pt_PT/all.js#xfbml=1&amp;appId=210731252294735\";\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));\n}\n</code></pre>\n\n<p>You can see it in action at <a href=\"http://lisboaautentica.com\">http://lisboaautentica.com</a></p>\n\n<p>I'm still working on the the mobile version, so it's still not looking as it should, as of writing this.</p>\n\n<p>-------------------------------- Update below by dekin88 -----------------------------------</p>\n\n<p>There is a JavaScript API built in for detecting media. \nRather than using the above solution simply use the following:</p>\n\n<pre><code>$( document ).ready(function() {      \n    var isMobile = window.matchMedia(\"only screen and (max-width: 760px)\");\n\n    if (isMobile.matches) {\n        //Conditional script here\n    }\n });\n</code></pre>\n\n<p>The advantage to this method is that it's not only simpler and shorter, but you can conditionally target different devices such as smartphones and tablets separately if necessary without having to add any dummy elements into the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 152
                },
                {
                    "body": "<p>I use this </p>\n\n<pre><code>if(navigator.userAgent.search(\"mobile\")&gt;0 ){\n         do something here\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If by \"mobile\" you mean \"small screen,\" I use this:</p>\n\n<pre><code>var windowWidth = window.screen.width &lt; window.outerWidth ?\n                  window.screen.width : window.outerWidth;\nvar mobile = windowWidth &lt; 500;\n</code></pre>\n\n<p>On iPhone you'll end up with a window.screen.width of 320. On Android you'll end up with a window.outerWidth of 480 (though that can depend on the Android). iPads and Android tablets will return numbers like 768 so they'll get the full view like you'd want.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you want to test the user agent, the correct way is to, test the user agent, i.e. test navigator.userAgent.</p>\n\n<p>If the <code>user</code> fakes this they are not due concern. If you test.isUnix() you should not subsequently have to worry if the system is unix.</p>\n\n<p>As a user changing userAgent is also fine, but yuo don't expect sites to render properly if you do.</p>\n\n<p>If you wish to provide support for Microsoft browsers you should ensure the first few chars of the content includes  and test every page you write.</p>\n\n<p>Bottom line... Always code to the standards. Then hack it till it works in the current version of IE &amp; dont expect it to look good. Thats what github does, and they just got given 100 million bucks.</p>\n",
                    "is_accepted": false,
                    "score": -6
                },
                {
                    "body": "<p>You could also use server side script and set javascript variables from it. </p>\n\n<p>Example in php</p>\n\n<p>download <a href=\"http://code.google.com/p/php-mobile-detect/\" rel=\"nofollow\">http://code.google.com/p/php-mobile-detect/</a> and then set javascript variables. </p>\n\n<pre><code>&lt;script&gt;\n//set defaults\nvar device_type = 'desktop';\n&lt;/script&gt;\n\n&lt;?php\nrequire_once( 'Mobile_Detect.php');\n$detect = new Mobile_Detect();\n?&gt;\n\n&lt;script&gt;\ndevice_type=\"&lt;?php echo ($detect-&gt;isMobile() ? ($detect-&gt;isTablet() ? 'tablet' : 'mobile') : 'desktop'); ?&gt;\";\nalert( device_type);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Found a solution in: <a href=\"http://www.abeautifulsite.net/blog/2011/11/detecting-mobile-devices-with-javascript/\">http://www.abeautifulsite.net/blog/2011/11/detecting-mobile-devices-with-javascript/</a>.</p>\n\n<pre><code>var isMobile = {\n    Android: function() {\n        return navigator.userAgent.match(/Android/i);\n    },\n    BlackBerry: function() {\n        return navigator.userAgent.match(/BlackBerry/i);\n    },\n    iOS: function() {\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function() {\n        return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows: function() {\n        return navigator.userAgent.match(/IEMobile/i);\n    },\n    any: function() {\n        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n    }\n};\n</code></pre>\n\n<p>And then to verify if its a Mobile, you can test using: </p>\n\n<pre><code>if(isMobile.any()) {\n   //some code...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>If found that just checking navigator.userAgent isn't always reliable. Greater reliability can be achieved by also checking navigator.platform. A simple modification to a previous answer seems to work better:</p>\n\n<pre><code>if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ||\n   (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.platform))) {\n    // some code...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Also I recommend using the tiny javascript library Bowser, yes no r. It is based on the <code>navigator.userAgent</code> and quite well tested for all browsers including iphone, android etc.</p>\n\n<p><a href=\"https://github.com/ded/bowser\" rel=\"nofollow\">https://github.com/ded/bowser</a></p>\n\n<p>You can use simply say: </p>\n\n<pre><code>if (bowser.msie &amp;&amp; bowser.version &lt;= 6) {\n  alert('Hello China');\n} else if (bowser.firefox){\n  alert('Hello Foxy');\n} else if (bowser.chrome){\n  alert('Hello Silicon Valley');\n} else if (bowser.safari){\n  alert('Hello Apple Fan');\n} else if(bowser.iphone || bowser.android){\n  alert('Hello mobile');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can also detect it like bellow</p>\n\n<pre><code>$.isIPhone = function(){\n    return ((navigator.platform.indexOf(\"iPhone\") != -1) || (navigator.platform.indexOf(\"iPod\") != -1));\n\n};\n$.isIPad = function (){\n    return (navigator.platform.indexOf(\"iPad\") != -1);\n};\n$.isAndroidMobile  = function(){\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf(\"android\") &gt; -1 &amp;&amp; ua.indexOf(\"mobile\");\n};\n$.isAndroidTablet  = function(){\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf(\"android\") &gt; -1 &amp;&amp; !(ua.indexOf(\"mobile\"));\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>To add an extra layer of control I use the HTML5 storage to detect if it is using mobile storage or desktop storage. If the browser does not support storage I have an array of mobile browser names and I compare the user agent with the browsers in the array.</p>\n\n<p>It is pretty simple. Here is the function:</p>\n\n<pre><code>// Used to detect whether the users browser is an mobile browser\nfunction isMobile() {\n    ///&lt;summary&gt;Detecting whether the browser is a mobile browser or desktop browser&lt;/summary&gt;\n    ///&lt;returns&gt;A boolean value indicating whether the browser is a mobile browser or not&lt;/returns&gt;\n\n    if (sessionStorage.desktop) // desktop storage \n        return false;\n    else if (localStorage.mobile) // mobile storage\n        return true;\n\n    // alternative\n    mobile = ['iphone','ipad','android','blackberry','nokia','opera mini','windows mobile','windows phone','iemobile']; \n    for (var i in mobile) if (navigator.userAgent.toLowerCase().indexOf(mobile[i].toLowerCase()) &gt; 0) return true;\n\n    // nothing found.. assume desktop\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use this:</p>\n\n<pre><code>/**  * jQuery.browser.mobile (http://detectmobilebrowser.com/)  * jQuery.browser.mobile will be true if the browser is a mobile device  **/ (function(a){jQuery.browser.mobile=/android.+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|e\\-|e\\/|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\\-|2|g)|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);\n</code></pre>\n\n<p>Then use this:</p>\n\n<pre><code>if(jQuery.browser.mobile)\n{\n\u00a0 \u00a0console.log('You are using a mobile device!');\n}\nelse\n{\n\u00a0 \u00a0console.log('You are not using a mobile device!');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you use <a href=\"http://modernizr.com/\">Modernizr</a>, it is very easy to use <code>Modernizr.touch</code> as mentioned earlier.</p>\n\n<p>However, I prefer using a combination of <code>Modernizr.touch</code> and user agent testing, just to be safe.</p>\n\n<pre><code>var deviceAgent = navigator.userAgent.toLowerCase();\n\nvar isTouchDevice = Modernizr.touch || \n(deviceAgent.match(/(iphone|ipod|ipad)/) ||\ndeviceAgent.match(/(android)/)  || \ndeviceAgent.match(/(iemobile)/) || \ndeviceAgent.match(/iphone/i) || \ndeviceAgent.match(/ipad/i) || \ndeviceAgent.match(/ipod/i) || \ndeviceAgent.match(/blackberry/i) || \ndeviceAgent.match(/bada/i));\n\nif (isTouchDevice) {\n        //Do something touchy\n    } else {\n        //Can't touch this\n    }\n</code></pre>\n\n<p>If you don't use Modernizr, you can simply replace the <code>Modernizr.touch</code> function above with <code>('ontouchstart' in document.documentElement)</code></p>\n\n<p>Also note that testing the user agent <code>iemobile</code> will give you broader range of detected Microsoft mobile devices than <code>Windows Phone</code>.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6262584/how-to-determine-if-the-client-is-a-touch-device\">Also see this SO question</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>This is my code i'm using in my projects:</p>\n\n<pre><code>function isMobile() {\n try {\n    if(/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)) {\n     return true;\n    };\n    return false;\n } catch(e){ console.log(\"Error in isMobile\"); return false; }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I tried <a href=\"http://www.albertmartin.de/blog/code.php/23/mobile-detection\" rel=\"nofollow\">some of the ways</a> and then I decided to fill a list manually and do a simple JS check. And in the end the user has to confirm. Because some checks gave false positive or negative.</p>\n\n<pre><code>var isMobile = false;\nif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Opera Mobile|Kindle|Windows Phone|PSP|AvantGo|Atomic Web Browser|Blazer|Chrome Mobile|Dolphin|Dolfin|Doris|GO Browser|Jasmine|MicroB|Mobile Firefox|Mobile Safari|Mobile Silk|Motorola Internet Browser|NetFront|NineSky|Nokia Web Browser|Obigo|Openwave Mobile Browser|Palm Pre web browser|Polaris|PS Vita browser|Puffin|QQbrowser|SEMC Browser|Skyfire|Tear|TeaShark|UC Browser|uZard Web|wOSBrowser|Yandex.Browser mobile/i.test(navigator.userAgent) &amp;&amp; confirm('Are you on a mobile device?')) isMobile = true;\n</code></pre>\n\n<p>Now, if you want to use jQuery to set the CSS, you could do the following:</p>\n\n<pre><code>$(document).ready(function() {\n  if (isMobile) $('link[type=\"text/css\"]').attr('href', '/mobile.css');\n});\n</code></pre>\n\n<p>Since the borders between mobile and fixed devices become fluent and mobile browers are already powerful, checking width and user confirmation will probably be the best for the future (assuming that width in some cases will still be important). Because touches are already converted into mouse-ups and downs.</p>\n\n<p>And concerning the mobile movability, I suggest you to think about <a href=\"http://stackoverflow.com/questions/11381673/javascript-solution-to-detect-mobile-browser\">Yoav Barnea's idea</a>:</p>\n\n<pre><code>if(typeof window.orientation !== 'undefined'){...}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I am surprised that no-one pointed out a nice site: <a href=\"http://detectmobilebrowsers.com/\" rel=\"nofollow\">http://detectmobilebrowsers.com/</a> It has ready made code in different languages for mobile detection. And if you need to detect the tablets as well, just check About section for additional regex parameter.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>function isDeviceMobile(){\n var isMobile = {\n  Android: function() {\n      return navigator.userAgent.match(/Android/i) &amp;&amp; navigator.userAgent.match(/mobile|Mobile/i);\n  },\n  BlackBerry: function() {\n      return navigator.userAgent.match(/BlackBerry/i)|| navigator.userAgent.match(/BB10; Touch/);\n  },\n  iOS: function() {\n      return navigator.userAgent.match(/iPhone|iPod/i);\n  },\n  Opera: function() {\n      return navigator.userAgent.match(/Opera Mini/i);\n  },\n  Windows: function() {\n      return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/webOS/i) ;\n  },\n  any: function() {\n      return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n  }\n};      \n return isMobile.any()\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A simple and effective one-liner:</p>\n\n<pre><code>function isMobile() { return ('ontouchstart' in document.documentElement); }\n</code></pre>\n\n<p><strong>EDIT</strong>: Above code doesn't take into account the case for laptops with touchscreen.\nThus, I provide this second version, based on this solution: <a href=\"http://stackoverflow.com/a/15481500/1252245\">http://stackoverflow.com/a/15481500/1252245</a></p>\n\n<pre><code>function isMobile() {\n  try{ document.createEvent(\"TouchEvent\"); return true; }\n  catch(e){ return false; }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Simple function based on <a href=\"http://detectmobilebrowser.com/\" rel=\"nofollow\">http://detectmobilebrowser.com/</a></p>\n\n<pre><code>function isMobile() {\n    var a = navigator.userAgent||navigator.vendor||window.opera;\n    return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I advise you check out <a href=\"http://wurfl.io/\" rel=\"nofollow\">http://wurfl.io/</a></p>\n\n<p>In a nutshell, if you import a tiny JS file:</p>\n\n<pre><code>&lt;script type='text/javascript' src=\"//wurfl.io/wurfl.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>you will be left with a JSON object that looks like:</p>\n\n<pre><code>{\n \"complete_device_name\":\"Google Nexus 7\",\n \"is_mobile\":true,\n \"form_factor\":\"Tablet\"\n}\n</code></pre>\n\n<p>(that's assuming you are using a Nexus 7, of course) and you will be able to do things like:</p>\n\n<pre><code>if(WURFL.is_mobile) {\n    //dostuff();\n}\n</code></pre>\n\n<p>This is what you are looking for.</p>\n\n<p>Disclaimer: I work for the company that offers this free service. Thanks.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This seems to be a comprehensive, modern solution:</p>\n\n<p><a href=\"https://github.com/matthewhudson/device.js\" rel=\"nofollow\">https://github.com/matthewhudson/device.js</a></p>\n\n<p>It detects several platforms, smartphone vs. tablets, and orientation. It also adds classes to the BODY tag so detection takes place only once and you can read what device you're on with a simple series of jQuery hasClass functions.</p>\n\n<p>Check it out...</p>\n\n<p>[DISCLAIMER: I've got nothing to do with the person who wrote it.]</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>All answers use user-agent to detect the browser but device detection based on user-agent is not very good solution, better is to detect features like touch device (in new jQuery they remove <code>$.browser</code> and use <code>$.support</code> instead).</p>\n\n<p>To detect mobile you can check for touch events:</p>\n\n<pre><code>function is_touch_device() {\n  return 'ontouchstart' in window // works on most browsers \n      || 'onmsgesturechange' in window; // works on ie10\n}\n</code></pre>\n\n<p>Taken from <a href=\"http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript#answer-4819886\">What&#39;s the best way to detect a &#39;touch screen&#39; device using JavaScript?</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Check out <strong>MobileESP</strong>. It's a fast, free, open source, multi-language library for easily detecting mobile devices. It has many functions and they all return a single TRUE/FALSE, depending on the question. Examples of detect questions: </p>\n\n<ul>\n<li><strong>DetectMobileQuick():</strong> TRUE for almost any recent mobile phone.</li>\n<li><strong>DetectTierIphone():</strong> Returns TRUE for any iPhone-class touchscreen mobile devices, including Android, Windows Phone, Tizen, and more.</li>\n<li><strong>DetectTierTablet():</strong> Returns TRUE for any mobile device which reports itself as a tablet, which includes iPads and Android tablets which follow Google's useragent guidelines.</li>\n<li>Multiple platform-specific DetectXXX() methods also exist. </li>\n</ul>\n\n<p>MobileESP is available in JavaScript, PHP, ASP.NET, and many other code bases. </p>\n\n<p><a href=\"http://www.mobileesp.com\" rel=\"nofollow\">http://www.mobileesp.com</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent\" rel=\"nofollow\">Mozilla - Browser detection using the user agent</a>:</p>\n\n<blockquote>\n  <p>In summary, we recommend looking for the string \u201cMobi\u201d anywhere in the User Agent to detect a mobile device.</p>\n</blockquote>\n\n<p>Like this:</p>\n\n<pre><code>if (navigator.userAgent.match(/Mobi/)) {\n    // mobile!\n}\n</code></pre>\n\n<p>This will match all common mobile browser user agents, including mobile Mozilla, Safari, IE, Opera, Chrome, etc.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><a href=\"http://www.w3schools.com/jsref/prop_nav_useragent.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/prop_nav_useragent.asp</a></p>\n\n<p>Filter by platform name.</p>\n\n<p>ex:</p>\n\n<pre><code>        x = $( window ).width();\n\n        platform = navigator.platform;\n\n         alert(platform);\n\n            if ( (platform != Ipad) || (x &lt; 768) )  {\n\n\n         } \n</code></pre>\n\n<p>^^</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a solid way to detect whether or not a user is using a mobile device in jQuery? Something similar to the CSS @media attribute? I would like to run a different script if the browser is on a handheld device.</p>\n\n<p>The jQuery <code>$.browser</code> function is not what I am looking for.</p>\n",
            "last_activity_date": 1425317933,
            "question_id": 3514784,
            "score": 539,
            "tags": [
                "javascript",
                "mobile",
                "browser-detection"
            ],
            "title": "What is the best way to detect a mobile device in jQuery?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>After jQuery 1.7 the preferred methods are <a href=\"http://api.jquery.com/on/\">.on()</a> and <a href=\"http://api.jquery.com/off/\">.off()</a> </p>\n\n<p><a href=\"http://stackoverflow.com/a/9331127/24970\">Sean's answer</a> shows an example.</p>\n\n<h2>Now Deprecated:</h2>\n\n<blockquote>\n  <p>Use the jQuery functions <a href=\"http://docs.jquery.com/Events/live\"><code>.live()</code></a> and <a href=\"http://docs.jquery.com/Events/die\"><code>.die()</code></a>.  Available in\n  jQuery 1.3.x</p>\n  \n  <p>From the docs:</p>\n  \n  <blockquote>\n    <p>To display each paragraph's text in an\n    alert box whenever it is clicked:</p>\n\n<pre><code>$(\"p\").live(\"click\", function(){\n  alert( $(this).text() );\n});\n</code></pre>\n  </blockquote>\n  \n  <p>Also, the <a href=\"http://docs.jquery.com/Plugins/livequery/livequery\">livequery</a> plugin does this and has support for more events.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>If your on jQuery 1.3+ then use .<a href=\"http://docs.jquery.com/Events/live\" rel=\"nofollow\">live()</a></p>\n\n<blockquote>\n  <p>Binds a handler to an event (like\n  click) for all current - and future -\n  matched element. Can also bind custom\n  events.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use <a href=\"http://docs.jquery.com/Events/live\" rel=\"nofollow\">jQuery's .live</a> function.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You want to use the <code>live()</code> function. See <a href=\"http://docs.jquery.com/Events/live\" rel=\"nofollow\">the docs</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>$(\"#anchor1\").live(\"click\", function() {\n    $(\"#anchor1\").append('&lt;a class=\"myclass\" href=\"#\"&gt;test4&lt;/a&gt;');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Binds a handler to an event (like click) for all current - and future - matched element. Can also bind custom events.</p>\n\n<p><a href=\"http://docs.jquery.com/Events/live\" rel=\"nofollow\">link text</a></p>\n\n<pre><code>$(function(){\n    $(\".myclass\").live(\"click\", function() {\n        // do something\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you're adding a pile of anchors to the DOM, look into event delegation instead. </p>\n\n<p>Here's a simple example:</p>\n\n<pre><code>$('#somecontainer').click(function(e) {   \n  var $target = $(e.target);   \n  if ($target.hasClass(\"myclass\")) {\n    // do something\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I am adding a new answer to reflect changes in later jQuery releases. The .live() method is deprecated as of jQuery 1.7. </p>\n\n<p>From <a href=\"http://api.jquery.com/live/\">http://api.jquery.com/live/</a></p>\n\n<blockquote>\n  <p>As of jQuery 1.7, the .live() method is deprecated. Use .on() to attach event handlers. Users of older versions of jQuery should use .delegate() in preference to .live(). </p>\n</blockquote>\n\n<p>For jQuery 1.7+ you can attach an event handler to a parent element using .on(), and pass the a selector combined with 'myclass' as an argument.</p>\n\n<p>See <a href=\"http://api.jquery.com/on/\">http://api.jquery.com/on/</a></p>\n\n<p>So instead of...</p>\n\n<pre><code>$(\".myclass\").click( function() {\n    // do something\n});\n</code></pre>\n\n<p>You can write...</p>\n\n<pre><code>$('body').on('click', 'a.myclass', function() {\n    // do something\n});\n</code></pre>\n\n<p>This will work for all a tags with 'myclass' in the body, whether already present or dynamically added later.</p>\n\n<p>The body tag is used here as the example had no closer static surrounding tag, but any parent tag that exists when the .on method call occurs will work. For instance a ul tag for a list which will have dynamic elements added would look like this:</p>\n\n<pre><code>$('ul').on('click', 'li', function() {\n    alert( $(this).text() );\n});\n</code></pre>\n\n<p>As long as the ul tag exists this will work (no li elements need exist yet).</p>\n",
                    "is_accepted": true,
                    "score": 295
                },
                {
                    "body": "<p>You can bind a single click event to a page for all elements, no matter if they are already on that page or if they will arrive at some future time, like that:</p>\n\n<pre><code>$(document).bind('click', function (e) {\n   var target = $(e.target);\n   if (target.is('.myclass')) {\n      e.preventDefault(); // if you want to cancel the event flow\n      // do something\n   } else if (target.is('.myotherclass')) {\n      e.preventDefault();\n      // do something else\n   }\n});\n</code></pre>\n\n<p>Been using it for a while. Works like a charm.</p>\n\n<p>In jQuery 1.7 and later, it is recommended to use <code>.on()</code> in place of bind or any other event delegation method, but <code>.bind()</code> still works.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sometimes doing this <strong>(the top-voted answer)</strong> is not always enough:</p>\n\n<pre><code>$('body').on('click', 'a.myclass', function() {\n    // do something\n});\n</code></pre>\n\n<p>This can be an issue because of the order event handlers are fired. If you find yourself doing this, but it is causing issues because of the order in which it is handled.. You can always wrap that into a function, that when called \"refreshes\" the listener.</p>\n\n<p>For example:</p>\n\n<pre><code>function RefreshSomeEventListener() {\n    $(\"#wrapper .specific-selector\").on(\"click\", function() {\n        // Handle event.\n    }\n}\n</code></pre>\n\n<p>Because it is a function, whenever I set up my listener this way, I typically call it on document ready:</p>\n\n<pre><code>$(document).ready(function() {\n    // Other ready commands / code\n\n    // Call our function to setup initial listening\n    RefreshSomeEventListener();\n});\n</code></pre>\n\n<p>Then, whenever you add some dynamically added element, call that method again:</p>\n\n<pre><code>function SomeMethodThatAddsElement() {\n    // Some code / AJAX / whatever.. Adding element dynamically\n\n    // Refresh our listener, so the new element is taken into account\n    RefreshSomeEventListener();\n}\n</code></pre>\n\n<p>Hopefully this helps!</p>\n\n<p>Regards,</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Suppose I have some jQuery code that attaches an event handler to all elements with class \"myclass\". For example:</p>\n\n<pre><code>$(function(){\n    $(\".myclass\").click( function() {\n        // do something\n    });\n});\n</code></pre>\n\n<p>And my html might be as follows:</p>\n\n<pre><code>&lt;a class=\"myclass\" href=\"#\"&gt;test1&lt;/a&gt;\n&lt;a class=\"myclass\" href=\"#\"&gt;test2&lt;/a&gt;\n&lt;a class=\"myclass\" href=\"#\"&gt;test3&lt;/a&gt;\n</code></pre>\n\n<p>That works with no problem.\nHowever, consider if the \"myclass\" elements were written to the page at some future time.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;a id=\"anchor1\" href=\"#\"&gt;create link dynamically&lt;/a&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(function(){\n    $(\"#anchor1\").click( function() {\n        $(\"#anchor1\").append('&lt;a class=\"myclass\" href=\"#\"&gt;test4&lt;/a&gt;');\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>In this case, the \"test4\" link is created when a user clicks on a#anchor1.</p>\n\n<p>The \"test4\" link does not have the click() handler associated with it, even though it has class=\"myclass\".</p>\n\n<p>Any idea how I can fix this? </p>\n\n<p>Basically, I would like to write the click() handler once and have it apply to both content present at page load, and content brought in later via Ajax/DHTML.</p>\n",
            "last_activity_date": 1405456136,
            "question_id": 1359018,
            "score": 143,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "dhtml"
            ],
            "title": "In jQuery, how to attach events to dynamic html elements?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<h3>jQuery Mobile 1.4 Update:</h3>\n\n<p>My original article was intended for old way of page handling, basically everything before jQuery Mobile 1.4. Old way of handling is now deprecated and it will stay active until (including) jQuery Mobile 1.5, so you can still use everything mentioned below, at least until next year and jQuery Mobile 1.6.</p>\n\n<p>Old events, including <strong>pageinit</strong> don't exist any more, they are replaced with <strong>pagecontainer</strong> widget. <strong>Pageinit</strong> is erased completely and you can use <strong>pagecreate</strong> instead, that event stayed the same and its not going to be changed.</p>\n\n<p>If you are interested in new way of page event handling take a look <strong><a href=\"http://www.gajotres.net/page-events-order-in-jquery-mobile-version-1-4-update/\">here</a></strong>, in any other case feel free to continue with this article. You should read this answer even if you are using jQuery Mobile 1.4 +, it goes beyond page events so you will probably find a lot of useful information. </p>\n\n<h3>Older content:</h3>\n\n<p>This article can also be found as a part of my blog <strong><a href=\"http://www.gajotres.net/document-onpageinit-vs-document-ready/\">HERE</a></strong>.</p>\n\n<h1>$(document).on('pageinit') vs $(document).ready()</h1>\n\n<p>The first thing you learn in <strong>jQuery</strong> is to call code inside the <strong>$(document).ready()</strong> function so everything will execute as soon as the DOM is loaded. However, in <strong>jQuery Mobile</strong>, Ajax is used to load the contents of each page into the DOM as you navigate. Because of this <strong>$(document).ready()</strong> will trigger before your first page is loaded and every code intended for page manipulation will be executed after a page refresh. This can be a very subtle bug. On some systems it may appear that it works fine, but on others it may cause erratic, difficult to repeat weirdness to occur.</p>\n\n<p>Classic jQuery syntax:</p>\n\n<pre><code>$(document).ready(function() { \n\n});\n</code></pre>\n\n<p>To solve this problem (and trust me this is a problem) <strong>jQuery Mobile</strong> developers created page events. In a nutshell page events are events triggered in a particular point of page execution. One of those page events is a <strong>pageinit</strong> event and we can use it like this:</p>\n\n<pre><code>$(document).on('pageinit', function() {\n\n});\n</code></pre>\n\n<p>We can go even further and use a page id instead of document selector. Lets say we have jQuery Mobile page with an id <strong>index</strong>:</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"index\"&gt;\n    &lt;div data-theme=\"a\" data-role=\"header\"&gt;\n        &lt;h3&gt;\n            First Page\n        &lt;/h3&gt;\n        &lt;a href=\"#second\" class=\"ui-btn-right\"&gt;Next&lt;/a&gt;\n    &lt;/div&gt;\n\n    &lt;div data-role=\"content\"&gt;\n        &lt;a href=\"#\" data-role=\"button\" id=\"test-button\"&gt;Test button&lt;/a&gt;\n    &lt;/div&gt;\n\n    &lt;div data-theme=\"a\" data-role=\"footer\" data-position=\"fixed\"&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>To execute a code that will only available to the index page we could use this syntax:</p>\n\n<pre><code>$('#index').on('pageinit', function() {\n\n});\n</code></pre>\n\n<p><strong>Pageinit</strong> event will be executed every time page is about be be loaded and shown for the first time. It will not trigger again unless page is manually refreshed or ajax page loading is turned off. In case you want code to execute every time you visit a page it is better to use <strong>pagebeforeshow</strong> event.</p>\n\n<p>Here's a working example : <a href=\"http://jsfiddle.net/Gajotres/Q3Usv/\">http://jsfiddle.net/Gajotres/Q3Usv/</a> to demonstrate this problem.</p>\n\n<p>Few more notes on this question. No matter if you are using 1 html multiple pages or multiple html files paradigm it is advised to separate all of your custom javascript page handling into a single separate js file. This will note make your code any better but you will have much better code overview, especially while creating a <strong>jQuery Mobile</strong> application.</p>\n\n<p>There's also another special <strong>jQuery Mobile</strong> event and it is called <strong>mobileinit</strong>.When <strong>jQuery Mobile</strong> starts, it triggers a <strong>mobileinit</strong> event on the document object. To override default settings, bind them to <strong>mobileinit</strong>. One of a good examples of <strong>mobileinit</strong> usage is turning off ajax page loading, or changing default ajax loader behavior.</p>\n\n<pre><code>$(document).on(\"mobileinit\", function(){\n  //apply overrides here\n});\n</code></pre>\n\n<h2>Page events transition order</h2>\n\n<p>First all events can be found here: <a href=\"http://api.jquerymobile.com/category/events/\">http://api.jquerymobile.com/category/events/</a></p>\n\n<p>Lets say we have a page A and a page B, this is a unload/load order:</p>\n\n<ol>\n<li><p>page B - event <strong><a href=\"http://api.jquerymobile.com/pagebeforecreate/\">pagebeforecreate</a></strong></p></li>\n<li><p>page B - event <strong><a href=\"http://api.jquerymobile.com/pagecreate/\">pagecreate</a></strong></p></li>\n<li><p>page B - event <strong><a href=\"http://api.jquerymobile.com/pageinit/\">pageinit</a></strong></p></li>\n<li><p>page A - event <strong><a href=\"http://api.jquerymobile.com/pagebeforehide/\">pagebeforehide</a></strong></p></li>\n<li><p>page A - event <strong><a href=\"http://api.jquerymobile.com/pageremove/\">pageremove</a></strong></p></li>\n<li><p>page A - event <strong><a href=\"http://api.jquerymobile.com/pagehide/\">pagehide</a></strong></p></li>\n<li><p>page B - event <strong><a href=\"http://api.jquerymobile.com/pagebeforeshow/\">pagebeforeshow</a></strong></p></li>\n<li><p>page B - event <strong><a href=\"http://api.jquerymobile.com/pageshow/\">pageshow</a></strong></p></li>\n</ol>\n\n<p><strong>For better page events understanding read this:</strong></p>\n\n<ul>\n<li><strong><code>pagebeforeload</code></strong>, <strong><code>pageload</code></strong> and <strong><code>pageloadfailed</code></strong> are fired when an external page is loaded</li>\n<li><strong><code>pagebeforechange</code></strong>, <strong><code>pagechange</code></strong> and <strong><code>pagechangefailed</code></strong> are page change events. These events are fired when a user is navigating between pages in the applications.</li>\n<li><strong><code>pagebeforeshow</code></strong>, <strong><code>pagebeforehide</code></strong>, <strong><code>pageshow</code></strong> and <strong><code>pagehide</code></strong> are page transition events. These events are fired before, during and after a transition and are named.</li>\n<li><strong><code>pagebeforecreate</code></strong>, <strong><code>pagecreate</code></strong> and <strong><code>pageinit</code></strong> are for page initialization.</li>\n<li><strong><code>pageremove</code></strong> can be fired and then handled when a page is removed from the DOM</li>\n</ul>\n\n<p>Page loading jsFiddle example: <a href=\"http://jsfiddle.net/Gajotres/QGnft/\">http://jsfiddle.net/Gajotres/QGnft/</a></p>\n\n<blockquote>\n  <p>If AJAX is not enabled, some events may not fire.</p>\n</blockquote>\n\n<h2>Prevent page transition</h2>\n\n<p>If for some reason page transition needs to be prevented on some condition it can be done with this code:</p>\n\n<pre><code>$(document).on('pagebeforechange', function(e, data){  \n    var to = data.toPage,\n        from = data.options.fromPage;\n\n    if (typeof to  === 'string') {\n        var u = $.mobile.path.parseUrl(to);\n        to = u.hash || '#' + u.pathname.substring(1);\n        if (from) from = '#' + from.attr('id');\n\n        if (from === '#index' &amp;&amp; to === '#second') {\n            alert('Can not transition from #index to #second!');\n            e.preventDefault();\n            e.stopPropagation();\n\n            // remove active status on a button, if transition was triggered with a button\n            $.mobile.activePage.find('.ui-btn-active').removeClass('ui-btn-active ui-focus ui-btn');;\n        }  \n    }\n});\n</code></pre>\n\n<p>This example will work in any case because it will trigger at a begging of every page transition and what is most important it will prevent page change before page transition can occur. </p>\n\n<p>Here's a working example: </p>\n\n<h2>Prevent multiple event binding/triggering</h2>\n\n<p><strong><code>jQuery Mobile</code></strong> works in a different way then classic web applications. Depending on how you managed to bind your events each time you visit some page it will bind events over and over. This is not an error, it is simply how <strong><code>jQuery Mobile</code></strong> handles its pages. For example, take a look at this code snipet:</p>\n\n<pre><code>$(document).on('pagebeforeshow','#index' ,function(e,data){    \n    $(document).on('click', '#test-button',function(e) {\n        alert('Button click');\n    });    \n});\n</code></pre>\n\n<p>Working jsFiddle example: <a href=\"http://jsfiddle.net/Gajotres/CCfL4/\">http://jsfiddle.net/Gajotres/CCfL4/</a></p>\n\n<p>Each time you visit page <strong>#index</strong> click event will is going to be bound to button <strong>#test-button</strong>. Test it by moving from page 1 to page 2 and back several times. There are few ways to prevent this problem:</p>\n\n<h3>Solution 1</h3>\n\n<p>Best solution would be to use <strong><code>pageinit</code></strong> to bind events. If you take a look at an official documentation you will find out that <strong><code>pageinit</code></strong> will trigger ONLY once, just like document ready, so there's no way events will be bound again. This is best solution because you don't have processing overhead like when removing events with off method.</p>\n\n<p>Working jsFiddle example: <a href=\"http://jsfiddle.net/Gajotres/AAFH8/\">http://jsfiddle.net/Gajotres/AAFH8/</a></p>\n\n<p>This working solution is made on a basis of a previous problematic example.</p>\n\n<h3>Solution 2</h3>\n\n<p>Remove event before you bind it:</p>\n\n<pre><code>$(document).on('pagebeforeshow', '#index', function(){       \n    $(document).off('click', '#test-button').on('click', '#test-button',function(e) {\n        alert('Button click');\n    }); \n});\n</code></pre>\n\n<p>Working jsFiddle example: <a href=\"http://jsfiddle.net/Gajotres/K8YmG/\">http://jsfiddle.net/Gajotres/K8YmG/</a></p>\n\n<h3>Solution 3</h3>\n\n<p>Use a jQuery Filter selector, like this:</p>\n\n<pre><code>$('#carousel div:Event(!click)').each(function(){\n    //If click is not bind to #carousel div do something\n});\n</code></pre>\n\n<p>Because event filter is not a part of official jQuery framework it can be found here:   <a href=\"http://www.codenothing.com/archives/2009/event-filter/\">http://www.codenothing.com/archives/2009/event-filter/</a></p>\n\n<p>In a nutshell, if speed is your main concern then <strong>Solution 2</strong> is much better then Solution 1. </p>\n\n<h3>Solution 4</h3>\n\n<p>A new one, probably an easiest of them all.</p>\n\n<pre><code>$(document).on('pagebeforeshow', '#index', function(){       \n    $(document).on('click', '#test-button',function(e) {\n        if(e.handled !== true) // This will prevent event triggering more then once\n        {\n            alert('Clicked');\n            e.handled = true;\n        }\n    }); \n});\n</code></pre>\n\n<p>Working jsFiddle example: <a href=\"http://jsfiddle.net/Gajotres/Yerv9/\">http://jsfiddle.net/Gajotres/Yerv9/</a></p>\n\n<p>Tnx to the <a href=\"http://stackoverflow.com/users/89789/sholsinger\">sholsinger</a> for this solution: <a href=\"http://sholsinger.com/archive/2011/08/prevent-jquery-live-handlers-from-firing-multiple-times/\">http://sholsinger.com/archive/2011/08/prevent-jquery-live-handlers-from-firing-multiple-times/</a></p>\n\n<p><strong>pageChange event quirks - triggering twice</strong></p>\n\n<p>Sometimes pagechange event can trigger twice and it does not have anything to do with the problem mentioned before.</p>\n\n<p>The reason the pagebeforechange event occurs twice is due to the recursive call in changePage when toPage is not a jQuery enhanced DOM object. This recursion is dangerous, as the developer is allowed to change the toPage within the event. If the developer consistently sets toPage to a string, within the pagebeforechange event handler, regardless of whether or not it was an object an infinite recursive loop will result. The pageload event passes the new page as the page property of the data object (This should be added to the documentation, it's not listed currently). The pageload event could therefore be used to access the loaded page.</p>\n\n<p>In few words this is happening because you are sending additional parameters through pageChange. </p>\n\n<p>Example:</p>\n\n<pre><code>&lt;a data-role=\"button\" data-icon=\"arrow-r\" data-iconpos=\"right\" href=\"#care-plan-view?id=9e273f31-2672-47fd-9baa-6c35f093a800&amp;amp;name=Sat\"&gt;&lt;h3&gt;Sat&lt;/h3&gt;&lt;/a&gt;\n</code></pre>\n\n<p>To fix this problem use any page event listed in <strong>Page events transition order</strong>.</p>\n\n<h2>Page Change Times</h2>\n\n<p>As mentioned, when you change from one JQuery Mobile page to another, typically either through clicking on a link to another JQuery Mobile page that already exists in the DOM, or by manually calling $.mobile.changePage, several events and subsequent actions occur. At a high level the following actions occur:</p>\n\n<ul>\n<li>A page change process is begun</li>\n<li>A new page is loaded</li>\n<li>The content for that page is \u201cenhanced\u201d (styled)</li>\n<li>A transition (slide/pop/etc) from the existing page to the new page occurs</li>\n</ul>\n\n<p>This is a average page transition benchmark:</p>\n\n<p>Page load and processing: <strong>3ms</strong>\nPage enhance: <strong>45ms</strong>\nTransition: <strong>604ms</strong></p>\n\n<p>Total time: <strong>670ms</strong>   *These values are in milliseconds.</p>\n\n<p>So as you can see a transition event is eating almost 90% of execution time.</p>\n\n<h2>Data/Parameters manipulation between page transitions</h2>\n\n<p>It is possible to send a parameter/s from one page to another during page transition. It can be done in few ways.</p>\n\n<p>Reference: <a href=\"http://stackoverflow.com/a/13932240/1848600\">http://stackoverflow.com/a/13932240/1848600</a></p>\n\n<p><strong>Solution 1:</strong></p>\n\n<p>You can pass values with changePage:</p>\n\n<pre><code>$.mobile.changePage('page2.html', { dataUrl : \"page2.html?paremeter=123\", data : { 'paremeter' : '123' }, reloadPage : true, changeHash : true });\n</code></pre>\n\n<p>And read them like this:</p>\n\n<pre><code>$(document).on('pagebeforeshow', \"#index\", function (event, data) {\n    var parameters = $(this).data(\"url\").split(\"?\")[1];;\n    parameter = parameters.replace(\"parameter=\",\"\");  \n    alert(parameter);\n});\n</code></pre>\n\n<h3><a href=\"http://stackoverflow.com/a/15840673/1848600\">Example</a>:</h3>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"widdiv=device-widdiv, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" /&gt;\n    &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n    &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" /&gt;\n    &lt;title&gt;\n    &lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css\" /&gt;\n    &lt;script src=\"http://www.dragan-gaic.info/js/jquery-1.8.2.min.js\"&gt;\n    &lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js\"&gt;&lt;/script&gt;  \n    &lt;script&gt;\n        $(document).on('pagebeforeshow', \"#index\",function () {\n            $(document).on('click', \"#changePage\",function () {     \n                $.mobile.changePage('second.html', { dataUrl : \"second.html?paremeter=123\", data : { 'paremeter' : '123' }, reloadPage : false, changeHash : true });\n            }); \n        }); \n\n        $(document).on('pagebeforeshow', \"#second\",function () {\n            var parameters = $(this).data(\"url\").split(\"?\")[1];;\n            parameter = parameters.replace(\"parameter=\",\"\");  \n            alert(parameter);\n        });         \n    &lt;/script&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n    &lt;!-- Home --&gt;\n    &lt;div data-role=\"page\" id=\"index\"&gt;\n        &lt;div data-role=\"header\"&gt;\n            &lt;h3&gt;\n                First Page\n            &lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div data-role=\"content\"&gt;\n          &lt;a data-role=\"button\" id=\"changePage\"&gt;Test&lt;/a&gt;\n        &lt;/div&gt; &lt;!--content--&gt;\n    &lt;/div&gt;&lt;!--page--&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>second.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"widdiv=device-widdiv, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" /&gt;\n    &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n    &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" /&gt;\n    &lt;title&gt;\n    &lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css\" /&gt;\n    &lt;script src=\"http://www.dragan-gaic.info/js/jquery-1.8.2.min.js\"&gt;\n    &lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js\"&gt;&lt;/script&gt;  \n   &lt;/head&gt;\n   &lt;body&gt;\n    &lt;!-- Home --&gt;\n    &lt;div data-role=\"page\" id=\"second\"&gt;\n        &lt;div data-role=\"header\"&gt;\n            &lt;h3&gt;\n                Second Page\n            &lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div data-role=\"content\"&gt;\n\n        &lt;/div&gt; &lt;!--content--&gt;\n    &lt;/div&gt;&lt;!--page--&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Solution 2:</strong></p>\n\n<p>Or you can create a persistent javascript object for a storage purpose. As long ajax is used for page loading (and page is not reloaded in any way) that object will stay active.</p>\n\n<pre><code>var storeObject = {\n    firstname : '',\n    lastname : ''\n}\n</code></pre>\n\n<p>Example: <a href=\"http://jsfiddle.net/Gajotres/9KKbx/\">http://jsfiddle.net/Gajotres/9KKbx/</a></p>\n\n<p><strong>Solution 3:</strong></p>\n\n<p>You can also access data from the previous page like this:</p>\n\n<pre><code>$(document).on('pagebeforeshow', '#index',function (e, data) {\n    alert(data.prevPage.attr('id'));\n});   \n</code></pre>\n\n<p><strong>prevPage</strong> object holds a complete previous page. </p>\n\n<p><strong>Solution 4:</strong></p>\n\n<p>As a last solution we have a nifty HTML implementation of localStorage. It only works with HTML5 browsers (including Android and iOS browsers) but all stored data is persistent through page refresh.</p>\n\n<pre><code>if(typeof(Storage)!==\"undefined\") {\n    localStorage.firstname=\"Dragan\";\n    localStorage.lastname=\"Gaic\";            \n}\n</code></pre>\n\n<p>Example: <a href=\"http://jsfiddle.net/Gajotres/J9NTr/\">http://jsfiddle.net/Gajotres/J9NTr/</a></p>\n\n<p>Probably best solution but it will fail in some versions of iOS 5.X. It is a well know error.</p>\n\n<h2>Don\u2019t Use .live() / .bind() /.delegate()</h2>\n\n<p>I forgot to mention (and tnx <a href=\"http://stackoverflow.com/users/64262/andleer\">andleer</a> for reminding me) use on/off for event binding/unbinding, live/die and bind/unbind are deprecated.</p>\n\n<p>The .live() method of jQuery was seen as a godsend when it was introduced to the API in version 1.3. In a typical jQuery app there can be a lot of DOM manipulation and it can become very tedious to hook and unhook as elements come and go. The .live() method made it possible to hook an event for the life of the app based on its selector. Great right? Wrong, the .live() method is extremely slow. The .live() method actually hooks its events to the document object, which means that the event must bubble up from the element that generated the event until it reaches the document. This can be amazingly time consuming.</p>\n\n<p>It is now deprecated. The folks on the jQuery team no longer recommend its use and neither do I. Even though it can be tedious to hook and unhook events, your code will be much faster without the .live() method than with it.</p>\n\n<p>Instead of <strong>.live()</strong> you should use <strong>.on()</strong>. <strong>.on()</strong> is about 2-3x faster then <strong>.live()</strong>. Take a look at this event binding benchmark: <a href=\"http://jsperf.com/jquery-live-vs-delegate-vs-on/34\">http://jsperf.com/jquery-live-vs-delegate-vs-on/34</a>, everything will be clear from there.</p>\n\n<h2>Benchmarking:</h2>\n\n<p>There's an excellent script made for <strong>jQuery Mobile</strong> page events benchmarking. It can be found here: <a href=\"https://github.com/jquery/jquery-mobile/blob/master/tools/page-change-time.js\">https://github.com/jquery/jquery-mobile/blob/master/tools/page-change-time.js</a>. But before you do anything with it I advise you to remove its <strong>alert</strong> notification system (each \u201cchange page\u201d is going to show you this data by halting the app) and change it to <strong>console.log</strong> function.</p>\n\n<p>Basically this script will log all your page events and if you read this article carefully (page events descriptions) you will know how much time jQm spent of page enhancements, page transitions ....</p>\n\n<h2>Final notes</h2>\n\n<p>Always, and I mean always read official <strong>jQuery Mobile</strong> documentation. It will usually provide you with needed information, and unlike some other documentation this one is rather good, with enough explanations and code examples.</p>\n\n<h2>Changes:</h2>\n\n<ul>\n<li>30.01.2013 - Added a new method of multiple event triggering prevention </li>\n<li>31.01.2013 - Added a better clarification for chapter <strong>Data/Parameters manipulation between page transitions</strong></li>\n<li>03.02.2013 - Added new content/examples to the chapter <strong>Data/Parameters manipulation between page transitions</strong> </li>\n<li>22.05.2013 - Added a solution for page transition/change prevention and added links to the official page events API documentation</li>\n<li>18.05.2013 - Added another solution against multiple event binding</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 351
                },
                {
                    "body": "<p>This is the correct way:</p>\n\n<p>To execute a code that will only available to the index page we could use this syntax:</p>\n\n<pre><code>$(document).on('pageinit', \"#index\",  function() {\n ...\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Simple different between document ready and page event in jquiry-mobile is that \n1.document ready event use for whole html page,</p>\n\n<pre><code>$(document).ready(function(e) {\n  //your code\n});\n</code></pre>\n\n<p>2.when page event use for handling particular page event</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"second\"&gt;\n    &lt;div data-role=\"header\"&gt;\n        &lt;h3&gt;\n            Page header\n        &lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div data-role=\"content\"&gt;\n          Page content\n    &lt;/div&gt; &lt;!--content--&gt;\n    &lt;div data-role=\"footer\"&gt;\n          Page footer\n    &lt;/div&gt; &lt;!--footer--&gt;\n&lt;/div&gt;&lt;!--page--&gt;\n</code></pre>\n\n<p>You can also use document for handling pageinit event</p>\n\n<pre><code>$(document).on('pageinit', \"#mypage\",  function() {\n\n }); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Some of you might find this useful. Just copy paste it to your page and you will get sequence in which events are fired in chrome console (Ctrl+Shift+I).</p>\n\n<pre><code>$(document).on('pagebeforecreate',function(){console.log('pagebeforecreate');});\n$(document).on('pagecreate',function(){console.log('pagecreate');});\n$(document).on('pageinit',function(){console.log('pageinit');});\n$(document).on('pagebeforehide',function(){console.log('pagebeforehide');});\n$(document).on('pagebeforeshow',function(){console.log('pagebeforeshow');});\n$(document).on('pageremove',function(){console.log('pageremove');});\n$(document).on('pageshow',function(){console.log('pageshow');});\n$(document).on('pagehide',function(){console.log('pagehide');});\n$(window).load(function () {console.log(\"window loaded\");});\n$(window).unload(function () {console.log(\"window unloaded\");});\n$(function () {console.log('document ready');});\n</code></pre>\n\n<p>You are not going see unload in console as it is fired when page is being unloaded (when you move away from page), use it like this</p>\n\n<pre><code>$(window).unload(function () { debugger; console.log(\"window unloaded\");}); \n</code></pre>\n\n<p>and you will see what I mean. </p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>while you use .on(), its basically live query that you are using. on the other hand .ready(as in your case) is static query. while using you can dynamically update data &amp; do not have to wait for the page to load. you can simply pass on the values into your database(if required) when a particular value is entered. \nThe use of live queries is common in forms where we enter data(account or posts or even comments). </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using JQuery Mobile and I am having trouble understanding difference between classic document ready and jQuery Mobile page events.</p>\n\n<ol>\n<li><p>Can someone tell me what is a real difference?</p>\n\n<p>Why should</p>\n\n<pre><code>$(document).ready() { \n\n});\n</code></pre>\n\n<p>be better then</p>\n\n<pre><code>$(document).on('pageinit') { \n\n});\n</code></pre></li>\n<li><p>What is the order of page events transition from one page to another?</p></li>\n<li><p>How can I send data from one page to another and is it possible to access a data from previous page?</p></li>\n</ol>\n",
            "last_activity_date": 1404206204,
            "question_id": 14468659,
            "score": 156,
            "tags": [
                "javascript",
                "jquery",
                "html5",
                "jquery-mobile",
                "cordova"
            ],
            "title": "jQuery Mobile: document ready vs page events"
        },
        {
            "answer_count": 25,
            "answers": [
                {
                    "body": "<p>I have such a method in my application, but it does not use jQuery:</p>\n\n<pre><code>/* Get the TOP position of a given element. */\nfunction getPositionTop(element){\n    var offset = 0;\n    while(element) {\n    \toffset += element[\"offsetTop\"];\n    \telement = element.offsetParent;\n    }\n    return offset;\n}\n\n/* Is a given element is visible or not? */\nfunction isElementVisible(eltId) {\n    var elt = document.getElementById(eltId);\n    if (!elt) {\n    \t// Element not found.\n    \treturn false;\n    }\n    // Get the top and bottom position of the given element.\n    var posTop = getPositionTop(elt);\n    var posBottom = posTop + elt.offsetHeight;\n    // Get the top and bottom position of the *visible* part of the window.\n    var visibleTop = document.body.scrollTop;\n    var visibleBottom = visibleTop + document.documentElement.offsetHeight;\n    return ((posBottom &gt;= visibleTop) &amp;&amp; (posTop &lt;= visibleBottom));\n}\n</code></pre>\n\n<p><em>Edit : This method works well for I.E. (at least version 6). Read the comments for compatibility with FF.</em></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://www.webresourcesdepot.com\">WebResourcesDepot</a> wrote <a href=\"http://www.webresourcesdepot.com/load-content-while-scrolling-with-jquery/\">a script to load while scrolling</a> that uses <a href=\"http://www.jquery.com\">jQuery</a> some time ago. You can view their <a href=\"http://www.webresourcesdepot.com/dnspinger/\">Live Demo Here</a>. The beef of their functionality was this:</p>\n\n<pre><code>$(window).scroll(function(){\n  if  ($(window).scrollTop() == $(document).height() - $(window).height()){\n    lastAddedLiveFunc();\n  }\n});\n\nfunction lastAddedLiveFunc() { \n  $('div#lastPostsLoader').html('&lt;img src=\"images/bigLoader.gif\"&gt;');\n  $.post(\"default.asp?action=getLastPosts&amp;lastPostID=\"+$(\".wrdLatest:last\").attr(\"id\"),\n    function(data){\n        if (data != \"\") {\n          $(\".wrdLatest:last\").after(data); \t\t\n        }\n      $('div#lastPostsLoader').empty();\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>This should do the trick:</p>\n\n<pre><code>function isScrolledIntoView(elem)\n{\n    var $elem = $(elem);\n    var $window = $(window);\n\n    var docViewTop = $window.scrollTop();\n    var docViewBottom = docViewTop + $window.height();\n\n    var elemTop = $elem.offset().top;\n    var elemBottom = elemTop + $elem.height();\n\n    return ((elemBottom &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop));\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 604
                },
                {
                    "body": "<pre><code>function isScrolledIntoView(elem) {\n    var docViewTop = $(window).scrollTop(),\n    \tdocViewBottom = docViewTop + $(window).height(),\n    \telemTop = $(elem).offset().top,\n     elemBottom = elemTop + $(elem).height();\n   //Is more than half of the element visible\n   return ((elemTop + ((elemBottom - elemTop)/2)) &gt;= docViewTop &amp;&amp; ((elemTop + ((elemBottom - elemTop)/2)) &lt;= docViewBottom));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The best method I have found so far is the <a href=\"https://github.com/morr/jquery.appear\">jQuery appear plugin</a>. Works like a charm.</p>\n\n<blockquote>\n  <p>Mimics a custom \"appear\" event, which fires when an element scrolls into view or otherwise becomes visible to the user.</p>\n\n<pre><code>$('#foo').appear(function() {\n  $(this).text('Hello world');\n});\n</code></pre>\n  \n  <p>This plugin can be used to prevent unnecessary requests for content that's hidden or outside the viewable area.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 62
                },
                {
                    "body": "<p>jQuery Waypoints plugin goes very nice here.</p>\n\n<pre><code>$('.entry').waypoint(function() {\n   alert('You have scrolled to an entry.');\n});\n</code></pre>\n\n<p>There are some examples on the <a href=\"http://imakewebthings.github.com/jquery-waypoints\">site of the plugin</a>.</p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>There is a <a href=\"https://github.com/protonet/jquery.inview\" rel=\"nofollow\">plugin for jQuery called <strong>inview</strong></a> which adds a new \"inview\" event.</p>\n\n<hr>\n\n<p>Here is some code for a jQuery plugin that doesn't use events:</p>\n\n<pre><code>$.extend($.expr[':'],{\n    inView: function(a) {\n        var st = (document.documentElement.scrollTop || document.body.scrollTop),\n            ot = $(a).offset().top,\n            wh = (window.innerHeight &amp;&amp; window.innerHeight &lt; $(window).height()) ? window.innerHeight : $(window).height();\n        return ot &gt; st &amp;&amp; ($(a).height() + ot) &lt; (st + wh);\n    }\n});\n\n(function( $ ) {\n    $.fn.inView = function() {\n        var st = (document.documentElement.scrollTop || document.body.scrollTop),\n        ot = $(this).offset().top,\n        wh = (window.innerHeight &amp;&amp; window.innerHeight &lt; $(window).height()) ? window.innerHeight : $(window).height();\n\n        return ot &gt; st &amp;&amp; ($(this).height() + ot) &lt; (st + wh);\n    };\n})( jQuery );\n</code></pre>\n\n<p>I found this in a comment here ( <a href=\"http://remysharp.com/2009/01/26/element-in-view-event-plugin/\" rel=\"nofollow\">http://remysharp.com/2009/01/26/element-in-view-event-plugin/</a> ) by a bloke called James</p>\n\n<p>There is a rather nice example of this here (scroll down to the bottom):</p>\n\n<p><a href=\"http://www.bbc.co.uk/sport/0/olympics/2012/\" rel=\"nofollow\">http://www.bbc.co.uk/sport/0/olympics/2012/</a></p>\n\n<p>I can't be 100% sure that the example uses the same code, but...</p>\n\n<p>EDIT... I've also written an extension to the inview plugin called 'exitview' which fires an event when the element leaves the page. Anyone interested in the code can PM me, if that's possible.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you want to tweak this for scrolling item within another div,</p>\n\n<pre><code>function isScrolledIntoView (elem, divID) \n\n{\n\n    var docViewTop = $('#' + divID).scrollTop();\n\n\n    var docViewBottom = docViewTop + $('#' + divID).height();\n\n    var elemTop = $(elem).offset().top;\n    var elemBottom = elemTop + $(elem).height();\n\n    return ((elemBottom &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop)); \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I just wanted to share that I combined this with my script to move the div so that it always stays in view:</p>\n\n<pre><code>    $(\"#accordion\").on('click', '.subLink', function(){\n        var url = $(this).attr('src');\n        updateFrame(url);\n        scrollIntoView();\n    });\n\n    $(window).scroll(function(){\n            changePos();\n    });\n\n  function scrollIntoView()\n  {\n        var docViewTop = $(window).scrollTop();\n        var docViewBottom = docViewTop + $(window).height();    \n        var elemTop = $(\"#divPos\").offset().top;\n        var elemBottom = elemTop + $(\"#divPos\").height();               \n        if (elemTop &lt; docViewTop){\n            $(\"#divPos\").offset({top:docViewTop});\n        }\n   }\n\n   function changePos(){        \n    var scrTop = $(window).scrollTop();\n    var frmHeight = $(\"#divPos\").height()\n        if ((scrTop &lt; 200) || (frmHeight &gt; 800)){   \n         $(\"#divPos\").attr(\"style\",\"position:absolute;\");\n        }else{\n          $(\"#divPos\").attr(\"style\",\"position:fixed;top:5px;\");\n        }\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I needed to check visibility in elements inside scrollable DIV container</p>\n\n<pre><code>    //p = DIV container scrollable\n    //e = element\n    function visible_in_container(p, e) {\n        var z = p.getBoundingClientRect();\n        var r = e.getBoundingClientRect();\n\n        // Check style visiblilty and off-limits\n        return e.style.opacity &gt; 0 &amp;&amp; e.style.display !== 'none' &amp;&amp;\n               e.style.visibility !== 'hidden' &amp;&amp;\n               !(r.top &gt; z.bottom || r.bottom &lt; z.top ||\n                 r.left &gt; z.right || r.right &lt; z.left);\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Tweeked Scott Dowding's cool function for my requirement- \nthis is used for finding if the element has just scrolled into the screen i.e it's top edge .</p>\n\n<pre><code>function isScrolledIntoView(elem)\n{\n    var docViewTop = $(window).scrollTop();\n    var docViewBottom = docViewTop + $(window).height();\n    var elemTop = $(elem).offset().top;\n    return ((elemTop &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Modified the accepted answer so that the element has to have it's display property set to something other than \"none\" to quality as visible.</p>\n\n<pre><code>function isScrolledIntoView(elem) {\n   var docViewTop = $(window).scrollTop();\n  var docViewBottom = docViewTop + $(window).height();\n\n  var elemTop = $(elem).offset().top;\n  var elemBottom = elemTop + $(elem).height();\n  var elemDisplayNotNone = $(elem).css(\"display\") !== \"none\";\n\n  return ((elemBottom &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop) &amp;&amp; elemDisplayNotNone);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>isScrolledIntoView</strong> is a very needful function, so I tried it, it works for elements not heigher than the viewport, but if the element is bigger as the viewport it does not work. To fix this easily change the condition </p>\n\n<pre><code>return ((elemBottom &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop));\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>return (docViewBottom &gt;= elemTop &amp;&amp; docViewTop &lt;= elemBottom);\n</code></pre>\n\n<p>See demo here: <a href=\"http://jsfiddle.net/RRSmQ/\" rel=\"nofollow\">http://jsfiddle.net/RRSmQ/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here's my pure JavaScript solution that works if it's hidden inside a scrollable container to.</p>\n\n<p><a href=\"http://jsfiddle.net/W33YR/3/\">Demo here</a> (try resizing the window to)</p>\n\n<pre><code>var visibleY = function(el){\n    var top = el.getBoundingClientRect().top, rect, el = el.parentNode;\n    do {\n        rect = el.getBoundingClientRect();\n        if (top &lt;= rect.bottom === false)\n            return false;\n        el = el.parentNode;\n    } while (el != document.body);\n    // Check its within the document viewport\n    return top &lt;= document.documentElement.clientHeight;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here is another solution from <a href=\"http://web-profile.com.ua/jquery/dev/jquery-check-if-element-is-visible-on-screen/\" rel=\"nofollow\">http://web-profile.com.ua/</a></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$.fn.is_on_screen = function(){\n    var win = $(window);\n    var viewport = {\n        top : win.scrollTop(),\n        left : win.scrollLeft()\n    };\n    viewport.right = viewport.left + win.width();\n    viewport.bottom = viewport.top + win.height();\n\n    var bounds = this.offset();\n    bounds.right = bounds.left + this.outerWidth();\n    bounds.bottom = bounds.top + this.outerHeight();\n\n    return (!(viewport.right &lt; bounds.left || viewport.left &gt; bounds.right ||    viewport.bottom &lt; bounds.top || viewport.top &gt; bounds.bottom));\n };\n\nif( $('.target').length &gt; 0 ) { // if target element exists in DOM\n    if( $('.target').is_on_screen() ) { // if target element is visible on screen after DOM loaded\n        $('.log').html('&lt;div class=\"alert alert-success\"&gt;target element is visible on screen&lt;/div&gt;'); // log info       \n    } else {\n        $('.log').html('&lt;div class=\"alert\"&gt;target element is not visible on screen&lt;/div&gt;'); // log info\n    }\n}\n$(window).scroll(function(){ // bind window scroll event\nif( $('.target').length &gt; 0 ) { // if target element exists in DOM\n    if( $('.target').is_on_screen() ) { // if target element is visible on screen after DOM loaded\n        $('.log').html('&lt;div class=\"alert alert-success\"&gt;target element is visible on screen&lt;/div&gt;'); // log info\n    } else {\n        $('.log').html('&lt;div class=\"alert\"&gt;target element is not visible on screen&lt;/div&gt;'); // log info\n    }\n}\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>See it in <a href=\"http://jsfiddle.net/webvitaly/c7nS5/light/\" rel=\"nofollow\">JSFiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/a/488073/643514\">This answer</a> in Vanilla:</p>\n\n<pre><code>function isScrolledIntoView(el) {\n    var elemTop = el.getBoundingClientRect().top;\n    var elemBottom = el.getBoundingClientRect().bottom;\n\n    var isVisible = (elemTop &gt;= 0) &amp;&amp; (elemBottom &lt;= window.innerHeight);\n    return isVisible;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>How about</p>\n\n<pre><code>function isInView(elem){\n   return $(elem).offset().top - $(window).scrollTop() &lt; $(elem).height() ;\n}\n</code></pre>\n\n<p>After that you can trigger whatever you want once the element is in view like this </p>\n\n<pre><code>$(window).scroll(function(){\n   if (isInview($('.classOfDivToCheck')))\n      //fire whatever you what \n      dothis();\n})\n</code></pre>\n\n<p>That works for me just fine </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a way to achieve the same thing using Mootools, in horizontal, vertical or both.</p>\n\n<pre><code>Element.implement({\ninVerticalView: function (full) {\n    if (typeOf(full) === \"null\") {\n        full = true;\n    }\n\n    if (this.getStyle('display') === 'none') {\n        return false;\n    }\n\n    // Window Size and Scroll\n    var windowScroll = window.getScroll();\n    var windowSize = window.getSize();\n    // Element Size and Scroll\n    var elementPosition = this.getPosition();\n    var elementSize = this.getSize();\n\n    // Calculation Variables\n    var docViewTop = windowScroll.y;\n    var docViewBottom = docViewTop + windowSize.y;\n    var elemTop = elementPosition.y;\n    var elemBottom = elemTop + elementSize.y;\n\n    if (full) {\n        return ((elemBottom &gt;= docViewTop) &amp;&amp; (elemTop &lt;= docViewBottom)\n            &amp;&amp; (elemBottom &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop) );\n    } else {\n        return ((elemBottom &lt;= docViewBottom) &amp;&amp; (elemTop &gt;= docViewTop));\n    }\n},\ninHorizontalView: function(full) {\n    if (typeOf(full) === \"null\") {\n        full = true;\n    }\n\n    if (this.getStyle('display') === 'none') {\n        return false;\n    }\n\n    // Window Size and Scroll\n    var windowScroll = window.getScroll();\n    var windowSize = window.getSize();\n    // Element Size and Scroll\n    var elementPosition = this.getPosition();\n    var elementSize = this.getSize();\n\n    // Calculation Variables\n    var docViewLeft = windowScroll.x;\n    var docViewRight = docViewLeft + windowSize.x;\n    var elemLeft = elementPosition.x;\n    var elemRight = elemLeft + elementSize.x;\n\n    if (full) {\n        return ((elemRight &gt;= docViewLeft) &amp;&amp; (elemLeft &lt;= docViewRight)\n            &amp;&amp; (elemRight &lt;= docViewRight) &amp;&amp; (elemLeft &gt;= docViewLeft) );\n    } else {\n        return ((elemRight &lt;= docViewRight) &amp;&amp; (elemLeft &gt;= docViewLeft));\n    }\n},\ninView: function(full) {\n    return this.inHorizontalView(full) &amp;&amp; this.inVerticalView(full);\n}});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This method will return true if any part of the element is visible on the page. It worked better in my case and may help someone else.</p>\n\n<pre><code>function isOnScreen(element) {\n  var elementOffsetTop = element.offset().top;\n  var elementHeight = element.height();\n\n  var screenScrollTop = $(window).scrollTop();\n  var screenHeight = $(window).height();\n\n  var scrollIsAboveElement = elementOffsetTop + elementHeight - screenScrollTop &gt;= 0;\n  var elementIsVisibleOnScreen = screenScrollTop + screenHeight - elementOffsetTop &gt;= 0;\n\n  return scrollIsAboveElement &amp;&amp; elementIsVisibleOnScreen;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Simple modification for scrollable div (container)</p>\n\n<pre><code>var isScrolledIntoView = function(elem, container) {\n    var containerHeight = $(container).height();\n    var elemTop = $(elem).position().top;\n    var elemBottom = elemTop + $(elem).height();\n    return (elemBottom &gt; 0 &amp;&amp; elemTop &lt; containerHeight);\n}\n</code></pre>\n\n<p>NOTE: this does not work if the element is larger than the scrollable div.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This considers any padding, border or margin the element has as well as elements larger than the viewport itself.</p>\n\n<pre><code>function inViewport($ele) {\n    var lBound = $(window).scrollTop(),\n        uBound = lBound + $(window).height(),\n        top = $ele.offset().top,\n        bottom = top + $ele.outerHeight(true);\n\n    return (top &gt; lBound &amp;&amp; top &lt; uBound)\n        || (bottom &gt; lBound &amp;&amp; bottom &lt; uBound)\n        || (lBound &gt;= top &amp;&amp; lBound &lt;= bottom)\n        || (uBound &gt;= top &amp;&amp; uBound &lt;= bottom);\n}\n</code></pre>\n\n<p>To call it use something like this:</p>\n\n<pre><code>var $myElement = $('#my-element'),\n    canUserSeeIt = inViewport($myElement);\n\nconsole.log(canUserSeeIt); // true, if element is visible; false otherwise\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I adapted this short jQuery function extension, which you can feel free to use (MIT licence).</p>\n\n<pre><code>/**\n * returns true if an element is visible, with decent performance\n * @param [scope] scope of the render-window instance; default: window\n * @returns {boolean}\n */\njQuery.fn.isOnScreen = function(scope){\n    var element = this;\n    if(!element){\n        return;\n    }\n    var target = $(element);\n    if(target.is(':visible') == false){\n        return false;\n    }\n    scope = $(scope || window);\n    var top = scope.scrollTop();\n    var bot = top + scope.height();\n    var elTop = target.offset().top;\n    var elBot = elTop + target.height();\n\n    return ((elBot &lt;= bot) &amp;&amp; (elTop &gt;= top));\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I prefer using jQuery expr</p>\n\n<pre><code>jQuery.extend(jQuery.expr[':'], {  \n    inview: function (elem) {\n        var t = $(elem);\n        var offset = t.offset();\n        var win = $(window); \n        var winST = win.scrollTop();\n        var elHeight = t.outerHeight(true);\n\n        if ( offset.top &gt; winST - elHeight &amp;&amp; offset.top &lt; winST + elHeight + win.height()) {\n            return true;    \n        }    \n        return false;  \n    }\n});\n</code></pre>\n\n<p>so you can use it this way</p>\n\n<pre><code>$(\".my-elem:inview\"); //returns only element that is in view\n$(\".my-elem\").is(\":inview\"); //check if element is in view\n$(\".my-elem:inview\").length; //check how many elements are in view\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can make use of jquery plugin \"onScreen\" to check if the element is in the current viewport when you scroll.\nThe plugin sets the \":onScreen\" of the selector to true when the selector appears on the screen.\nThis is the link for the plugin which you can include in your project.\n    \"<a href=\"http://benpickles.github.io/onScreen/jquery.onscreen.min.js\" rel=\"nofollow\">http://benpickles.github.io/onScreen/jquery.onscreen.min.js</a>\"</p>\n\n<p>You can try the below example which works for me.</p>\n\n<pre><code>$(document).scroll(function() {\n    if($(\"#div2\").is(':onScreen')) {\n        console.log(\"Element appeared on Screen\");\n        //do all your stuffs here when element is visible.\n    }\n    else {\n        console.log(\"Element not on Screen\");\n        //do all your stuffs here when element is not visible.\n    }\n});\n</code></pre>\n\n<p>HTML Code:</p>\n\n<pre><code>&lt;div id=\"div1\" style=\"width: 400px; height: 1000px; padding-top: 20px; position: relative; top: 45px\"&gt;&lt;/div&gt; &lt;br&gt;\n&lt;hr /&gt; &lt;br&gt;\n&lt;div id=\"div2\" style=\"width: 400px; height: 200px\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>#div1 {\n    background-color: red;\n}\n#div2 {\n    background-color: green;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have written <a href=\"https://github.com/hashchange/jquery.isinview\" rel=\"nofollow\">a component</a> for the task, designed to handle large numbers of elements <a href=\"https://github.com/hashchange/jquery.isinview#jqueryisinview\" rel=\"nofollow\">extremely fast</a> (to the tune of &lt;10ms for 1000 elements <em>on a slow mobile</em>). </p>\n\n<p>It works with every type of scroll container you have access to \u2013 window, HTML elements, embedded iframe, spawned child window \u2013 and is very flexible in what it detects (<a href=\"https://github.com/hashchange/jquery.isinview#optionspartially\" rel=\"nofollow\">full or partial visibility</a>, <a href=\"https://github.com/hashchange/jquery.isinview#optionsbox\" rel=\"nofollow\">border box or content box</a>, custom <a href=\"https://github.com/hashchange/jquery.isinview#optionstolerance\" rel=\"nofollow\">tolerance zone</a>, <a href=\"https://github.com/hashchange/jquery.isinview#options\" rel=\"nofollow\">etc</a>).</p>\n\n<p>A huge, mostly auto-generated test suite ensures that it works as advertised, <a href=\"https://github.com/hashchange/jquery.isinview#browser-support\" rel=\"nofollow\">cross-browser</a>.</p>\n\n<p>Give it a shot if you like: <a href=\"https://github.com/hashchange/jquery.isinview\" rel=\"nofollow\">jQuery.isInView</a>. Otherwise, you might find inspiration in the source code, e.g. <a href=\"https://github.com/hashchange/jquery.isinview/blob/ea62277c3a9b936c0253cc309184706f121a3bf3/src/jquery.isinview.js#L418-489\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm loading elements via AJAX. Some of them are only visible if you scroll down the page.<br>\nIs there any way I can know if an element is now in the visible part of the page?</p>\n",
            "last_activity_date": 1425837110,
            "question_id": 487073,
            "score": 455,
            "tags": [
                "javascript",
                "jquery",
                "scroll"
            ],
            "title": "Check if element is visible after scrolling"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p><code>prototype</code> allows you to make classes. if you do not use <code>prototype</code> then it becomes a static.</p>\n\n<p>Here is a short example.</p>\n\n<pre><code>var obj = new Object();\nobj.test = function() { alert('Hello?'); };\n</code></pre>\n\n<p>In the above case, you have static funcation call test. This function can be accessed only by obj.test where you can imagine obj to be a class.</p>\n\n<p>where as in the below code</p>\n\n<pre><code>function obj()\n{\n}\n\nobj.prototype.test = function() { alert('Hello?'); };\nvar obj2 = new obj();\nobj2.test();\n</code></pre>\n\n<p>The obj has become a class which can now be instantiated. Multiple instances of obj can exist and they all have the <code>test</code> function.</p>\n\n<p>The above is my understanding. I am making it a community wiki, so people can correct me if I am wrong.</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<blockquote>\n  <p>what is the exact purpose of this \".prototype\" property?</p>\n</blockquote>\n\n<p>The interface to standard classes become extensible. For example, you are using the <code>Array</code> class and you also need to add a custom serializer for all your array objects. Would you spend time coding up a subclass, or use composition or ... The prototype property solves this by letting the users control the exact set of members/methods available to a class.</p>\n\n<p>Think of prototypes as an extra vtable-pointer. When some members are missing from the original class, the prototype is looked up at runtime.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Javascript doesn't have inheritance in the usual sense, but it has the prototype chain.</p>\n\n<h2>prototype chain</h2>\n\n<p>If a member of an object can't be found in the object it looks for it in the prototype chain. The chain consists of other objects. The prototype of a given instance can be accessed with the <code>__proto__</code> variable. Every object has one, as there is no difference between classes and instances in javascript.</p>\n\n<p>The advantage of adding a function / variable to the prototype is that it has to be in the memory only once, not for every instance.</p>\n\n<p>It's also useful for inheritance, because the prototype chain can consist of many other objects.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Every JavaScript object has an internal property called <em>[[Prototype]]</em>. If you look up a property via <code>obj.propName</code> or <code>obj['propName']</code> and the object does not have such a property - which can be checked via <code>obj.hasOwnProperty('propName')</code> - the runtime looks up the property in the object referenced by [[Prototype]] instead. If the prototype-object also doesn't have such a property, its prototype is checked in turn, thus walking the original object's <em>prototype-chain</em> until a match is found or its end is reached.</p>\n\n<p>Some JavaScript implementations allow direct access to the [[Prototype]] property, eg via a non-standard property named <code>__proto__</code>. In general, it's only possible to set an object's prototype during object creation: If you create a new object via <code>new Func()</code>, the object's [[Prototype]] property will be set to the object referenced by <code>Func.prototype</code>.</p>\n\n<p>This allows to simulate classes in JavaScript, although JavaScript's inheritance system is - as we have seen - prototypical, and not class-based:</p>\n\n<p>Just think of constructor functions as classes and the properties of the prototype (ie of the object referenced by the constructor function's <code>prototype</code> property) as shared members, ie members which are the same for each instance. In class-based systems, methods are implemented the same way for each instance, so methods are normally added to the prototype, whereas an object's fields are instance-specific and therefore added to the object itself during construction.</p>\n",
                    "is_accepted": true,
                    "score": 557
                },
                {
                    "body": "<p>When a constructor creates an object, that object implicitly references the constructor\u2019s \u201cprototype\u201d property for the purpose of resolving property references. The constructor\u2019s \u201cprototype\u201d property can be referenced by the program expression constructor.prototype, and properties added to an object\u2019s prototype are shared, through inheritance, by all objects sharing the prototype.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In a language implementing classical inheritance like Java, C# or C++ you start by creating a class--a blueprint for your objects--and then you can create new objects from that class or you can extend the class, defining a new class that augments the original class.</p>\n\n<p>In JavaScript you first create an object (there is no concept of class), then you can augment your own object or create new objects from it. It's not difficult, but a little foreign and hard to metabolize for somebody used to the classical way.</p>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Define a functional object to hold persons in JavaScript\r\nvar Person = function(name) {\r\n  this.name = name;\r\n};\r\n\r\n//Add dynamically to the already defined object a new getter\r\nPerson.prototype.getName = function() {\r\n  return this.name;\r\n};\r\n\r\n//Create a new object of type Person\r\nvar john = new Person(\"John\");\r\n\r\n//Try the getter\r\nalert(john.getName());\r\n\r\n//If now I modify person, also John gets the updates\r\nPerson.prototype.sayMyName = function() {\r\n  alert('Hello, my name is ' + this.getName());\r\n};\r\n\r\n//Call the new method on john\r\njohn.sayMyName();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Until now I've been extending the base object, now I create another object and then inheriting from Person.</p>\n\n<pre><code>//Create a new object of type Customer by defining its constructor. It's not \n//related to Person for now.\nvar Customer = function(name) {\n    this.name = name;\n};\n\n//Now I link the objects and to do so, we link the prototype of Customer to \n//a new instance of Person. The prototype is the base that will be used to \n//construct all new instances and also, will modify dynamically all already \n//constructed objects because in JavaScript objects retain a pointer to the \n//prototype\nCustomer.prototype = new Person();     \n\n//Now I can call the methods of Person on the Customer, let's try, first \n//I need to create a Customer.\nvar myCustomer = new Customer('Dream Inc.');\nmyCustomer.sayMyName();\n\n//If I add new methods to Person, they will be added to Customer, but if I\n//add new methods to Customer they won't be added to Person. Example:\nCustomer.prototype.setAmountDue = function(amountDue) {\n    this.amountDue = amountDue;\n};\nCustomer.prototype.getAmountDue = function() {\n    return this.amountDue;\n};\n\n//Let's try:       \nmyCustomer.setAmountDue(2000);\nalert(myCustomer.getAmountDue());\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var Person = function (name) {\r\n    this.name = name;\r\n};\r\nPerson.prototype.getName = function () {\r\n    return this.name;\r\n};\r\nvar john = new Person(\"John\");\r\nalert(john.getName());\r\nPerson.prototype.sayMyName = function () {\r\n    alert('Hello, my name is ' + this.getName());\r\n};\r\njohn.sayMyName();\r\nvar Customer = function (name) {\r\n    this.name = name;\r\n};\r\nCustomer.prototype = new Person();\r\n\r\nvar myCustomer = new Customer('Dream Inc.');\r\nmyCustomer.sayMyName();\r\nCustomer.prototype.setAmountDue = function (amountDue) {\r\n    this.amountDue = amountDue;\r\n};\r\nCustomer.prototype.getAmountDue = function () {\r\n    return this.amountDue;\r\n};\r\nmyCustomer.setAmountDue(2000);\r\nalert(myCustomer.getAmountDue());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>While as said I can't call setAmountDue(), getAmountDue() on a Person.</p>\n\n<pre><code>//The following statement generates an error.\njohn.setAmountDue(1000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1351
                },
                {
                    "body": "<p>After reading this thread, I feel confused with JavaScript Prototype Chain, then I found these charts </p>\n\n<p><a href=\"http://iwiki.readthedocs.org/en/latest/javascript/js_core.html#inheritance\">http://iwiki.readthedocs.org/en/latest/javascript/js_core.html#inheritance</a>\n<img src=\"http://i.stack.imgur.com/rcGmc.png\" alt=\"*[[protytype]]* and &lt;code&gt;prototype&lt;/code&gt; property of function objects\"></p>\n\n<p><em>it's a clear chart to show JavaScript Inheritance by Prototype Chain</em></p>\n\n<p>and </p>\n\n<p><a href=\"http://www.javascriptbank.com/javascript/article/JavaScript_Classical_Inheritance/\">http://www.javascriptbank.com/javascript/article/JavaScript_Classical_Inheritance/</a></p>\n\n<p><em>this one contains a example with code and several nice diagrams.</em></p>\n\n<blockquote>\n  <p>prototype chain ultimately falls back to Object.prototype. </p>\n  \n  <p>prototype chain can be technically extended as long as you want, each time by setting the prototype of the subclass equal to an object of the parent class.</p>\n</blockquote>\n\n<p>Hope it's also helpful for you to understand JavaScript Prototype Chain.</p>\n",
                    "is_accepted": false,
                    "score": 40
                },
                {
                    "body": "<p>Every object has an internal property, [[Prototype]], linking it to another object:</p>\n\n<pre><code>object [[Prototype]] -&gt; anotherObject\n</code></pre>\n\n<p>In traditional javascript, that second object is the <code>prototype</code> property of a function:</p>\n\n<pre><code>object [[Prototype]] -&gt; aFunction.prototype\n\n1..__proto__ == Number.prototype\n\"\".__proto__ == String.prototype\n[].__proto__ == Array.prototype\n</code></pre>\n\n<p>You create the [[Prototype]] link when creating an object:</p>\n\n<pre><code>var object = Object.create( anotherObject )\n//: object.__proto__ = anotherObject\n</code></pre>\n\n<p>In traditional javascript, it's done with <code>new</code>:</p>\n\n<pre><code>var object = new aFunction;\n//: object.__proto__ = aFunction.prototype;\n</code></pre>\n\n<p>They chose that syntax so you could use functions as constructors:</p>\n\n<pre><code>var object = new aFunction(\"\u263a\ufe0e\");\n//: object = aFunction.call({}, \"\u263a\ufe0e\")\n//: object.__proto__ = aFunction.prototype;\n</code></pre>\n\n<p>So if you want to share properties on the prototype chain, you have to put them on the <code>prototype</code> property of a function. \u2639</p>\n\n<p>If you don't need constructors, it's simpler just to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\">Object.create</a>:</p>\n\n<pre><code>var duck    = { says: \"quack!\" };\nvar mallard = Object.create(duck);\n\nObject.getPrototypeOf(mallard) === duck;\n//-&gt; true\nduck.isPrototypeOf(mallard)\n//-&gt; true\n</code></pre>\n\n<p>With <code>new</code>: create a function, augment its <code>prototype</code> property, then invoke it as a constructor:</p>\n\n<pre><code>var Duck = function (){};\nDuck.prototype.says = \"quack!\";\n\nvar mallard = new Duck;\nmallard.says;\n//-&gt; \"quack!\"\n\nmallard instanceof Duck;\n//-&gt; true\nmallard.constructor === Duck === Duck.prototype.constructor;\n//-&gt; true\nObject.getPrototypeOf(mallard) === Duck.prototype;\n//-&gt; true\nDuck.prototype.isPrototypeOf(mallard);\n//-&gt; true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>I found it helpful to explain the \"prototype chain\" as recursive convention when <code>obj_n.prop_X</code> is being referenced:</p>\n\n<p>if <code>obj_n.prop_X</code> doesn't exist, check <code>obj_n+1.prop_X</code> where <code>obj_n+1 = obj_n.[[prototype]]</code></p>\n\n<p>If the <code>prop_X</code> is finally found in the k-th prototype object then</p>\n\n<p><code>obj_1.prop_X = obj_1.[[prototype]].[[prototype]]..(k-times)..[[prototype]].prop_X</code></p>\n\n<p>You can find a graph of the relation of Javascript objects by their properties here:</p>\n\n<p> <img src=\"http://i.stack.imgur.com/2tGyY.jpg\" alt=\"js objects graph\"> </p>\n\n<p><a href=\"http://jsobjects.org\">http://jsobjects.org</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><em>I play a role as a JavaScript teacher and the prototype concept has always been a controversial topic to cover when I teach. It took me a while to come up with a good method to clarify the concept, and now in this text I'm gonna be trying to explain How does JavaScript .prototype work.</em></p>\n\n<hr>\n\n<p>This is a very simple prototype based object model that would be considered as a sample during the explanation, with no comment yet:</p>\n\n<pre><code>function Person(name){\n    this.name = name;\n}\nPerson.prototype.getName = function(){\n    console.log(this.name);\n}\nvar person = new Person(\"George\");\n</code></pre>\n\n<hr>\n\n<p>There are some crucial points that we have to consider before going through the prototype concept.</p>\n\n<h1>1- How JavaScript functions actually work:</h1>\n\n<p>To take the first step we have to figure out, how JavaScript functions actually work , as a class like function using <strong><code>this</code></strong> keyword in it or just as a regular function with its arguments, what it does and what it returns.</p>\n\n<p>Let's say we want to create a <code>Person</code> object model. but in this step I'm gonna be trying to <strong>do the same exact thing without using <code>prototype</code> and <code>new</code> keyword</strong>.</p>\n\n<p>So in this step <strong><code>functions</code></strong>, <strong><code>objects</code></strong> and <strong><code>this</code></strong> keyword, are all we have.</p>\n\n<p>The first question would be <strong>how <code>this</code> keyword could be useful without using <code>new</code> keyword</strong>.</p>\n\n<p>So to answer that let's say we have an empty object, and two functions like:</p>\n\n<pre><code>var person = {};\nfunction Person(name){  this.name = name;  }\n\nfunction getName(){\n    console.log(this.name);\n}\n</code></pre>\n\n<p>and now <strong>without using <code>new</code> keyword</strong> how we could use these functions. So JavaScript has 3 different ways to do that:</p>\n\n<h2>a. first way is just to call the function as a regular function:</h2>\n\n<pre><code>Person(\"George\");\ngetName();//would print the \"George\" in the console\n</code></pre>\n\n<p>in this case, this would be the current context object, which is usually is the global  <code>window</code> object in the browser or <code>GLOBAL</code> in <code>Node.js</code>. It means we would have, window.name in browser or GLOBAL.name in Node.js, with \"George\" as its value.</p>\n\n<h2>b. We can <strong>attach</strong> them to an object, as its properties</h2>\n\n<p>-<strong>The easiest way</strong> to do this is modifying the empty <code>person</code> object, like:</p>\n\n<pre><code>person.Person = Person;\nperson.getName = getName;\n</code></pre>\n\n<p>this way we can call them like:</p>\n\n<pre><code>person.Person(\"George\");\nperson.getName();// --&gt;\"George\"\n</code></pre>\n\n<p>and now the <code>person</code> object is like:</p>\n\n<pre><code>Object {Person: function, getName: function, name: \"George\"}\n</code></pre>\n\n<hr>\n\n<p>-<strong>The other way to attach a property</strong> to an object is using the <code>prototype</code> of that object that can be find in any JavaScript object with the name of <code>__proto__</code>, and I have tried to explain it a bit on the summary part. So we could get the similar result by doing:</p>\n\n<pre><code>person.__proto__.Person = Person;\nperson.__proto__.getName = getName;\n</code></pre>\n\n<p><strong>But</strong> this way what we actually are doing is modifying the <code>Object.prototype</code>, because whenever we create a JavaScript object using literals (<code>{ ... }</code>), it gets created based on <code>Object.prototype</code>, which means it gets attached to the newly created object as an attribute named <strong><code>__proto__</code></strong> , so if we change it, as we have done on our previous code snippet, all the JavaScript objects would get changed, not a good practice. So what could be the better practice now:</p>\n\n<pre><code>person.__proto__ = {\n    Person: Person,\n    getName: getName\n};\n</code></pre>\n\n<p>and now other objects are in peace, but it still doesn't seem to be a good practice. So we have still one more solutions, but to use this solution we should get back to that line of code where <code>person</code> object got created (<code>var person = {};</code>) then change it like:</p>\n\n<pre><code>var propertiesObject = {\n    Person: Person,\n    getName: getName\n};\nvar person = Object.create(propertiesObject);\n</code></pre>\n\n<p>what it does is creating a new JavaScript <code>Object</code> and attach the <code>propertiesObject</code> to the <code>__proto__</code> attribute. So to make sure you can do:</p>\n\n<pre><code>console.log(person.__proto__===propertiesObject); //true\n</code></pre>\n\n<p>But the tricky point here is you have access to all the properties defined in <code>__proto__</code> on the first level of the <code>person</code> object(read the summary part for more detail).</p>\n\n<hr>\n\n<p>as you see using any of these two way <code>this</code> would exactly point to the <code>person</code> object.</p>\n\n<h2>c. JavaScript has another way to provide the function with <code>this</code>, which is using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\">call</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\">apply</a> to invoke the function.</h2>\n\n<blockquote>\n  <p>The apply() method calls a function with a given this value and\n  arguments provided as an array (or an array-like object).</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The call() method calls a function with a given this value and\n  arguments provided individually.</p>\n</blockquote>\n\n<p>this way which is my favorite, we can easily call our functions like:</p>\n\n<pre><code>Person.call(person, \"George\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//apply is more useful when params count is not fixed\nPerson.apply(person, [\"George\"]);\n\ngetName.call(person);   \ngetName.apply(person);\n</code></pre>\n\n<p>these 3 methods are the important initial steps to figure out the .prototype functionality.</p>\n\n<hr>\n\n<h1>2- How does the <code>new</code> keyword works?</h1>\n\n<p>this is the second step to understand the <code>.prototype</code> functionality.this is what I use to simulate the process:</p>\n\n<pre><code>function Person(name){  this.name = name;  }\nmy_person_prototype = { getName: function(){ console.log(this.name); } };\n</code></pre>\n\n<p>in this part I'm gonna be trying to take all the steps which JavaScript takes, without using the <code>new</code> keyword and <code>prototype</code>, when you use <code>new</code> keyword. so when we do <code>new Person(\"George\")</code>, <code>Person</code> function serves as a constructor, These are what JavaScript does, one by one:</p>\n\n<h2>a. first of all it makes an empty object, basically an empty hash like:</h2>\n\n<pre><code>var newObject = {};\n</code></pre>\n\n<h2>b. the next step that JavaScript takes is to <strong>attach</strong> the all prototype objects to the newly created object</h2>\n\n<p>we have <code>my_person_prototype</code> here similar to the prototype object.</p>\n\n<pre><code>for(var key in my_person_prototype){\n    newObject[key] = my_person_prototype[key];\n}\n</code></pre>\n\n<p>It is not the way that JavaScript actually attaches the properties that are defined in the prototype. The actual way is related to the prototype chain concept.</p>\n\n<hr>\n\n<h2>a. &amp; b. Instead of these two steps you can have the exact same result by doing:</h2>\n\n<pre><code>var newObject = Object.create(my_person_prototype);\n//here you can check out the __proto__ attribute\nconsole.log(newObject.__proto__ === my_person_prototype); //true\n//and also check if you have access to your desired properties\nconsole.log(typeof newObject.getName);//\"function\"\n</code></pre>\n\n<p>now we can call the <code>getName</code> function in our <code>my_person_prototype</code>:</p>\n\n<pre><code>newObject.getName();\n</code></pre>\n\n<h2>c. then it gives that object to the constructor,</h2>\n\n<p>we can do this with our sample like:</p>\n\n<pre><code>Person.call(newObject, \"George\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Person.apply(newObject, [\"George\"]);\n</code></pre>\n\n<p>then the constructor can do whatever it wants, because <strong>this</strong> inside of that constructor is the object that was just created.</p>\n\n<p>now the end result before simulating the other steps:\n    Object {name: \"George\"}</p>\n\n<hr>\n\n<h2>Summary:</h2>\n\n<p>Basically, when you use the <strong>new</strong> keyword on a function, you are calling on that and that function serves as a constructor, so when you say:</p>\n\n<pre><code>new FunctionName()\n</code></pre>\n\n<p>JavaScript internally makes an object, an empty hash and then it gives that object to the constructor, then the constructor can do whatever it wants, because <strong>this</strong> inside of that constructor is the object that was just created and then it gives you that object of course if you haven't used the return statement in your function or if you've put a <code>return undefined;</code> at the end of your function body.</p>\n\n<p>So when JavaScript goes to look up a property on an object, the first thing it does, is it looks it up on that object. And then there is a secret property <strong><code>[[prototype]]</code></strong> which we usually have it like <strong><code>__proto__</code></strong> and that property is what JavaScript looks at next. And when it looks through the <strong><code>__proto__</code></strong>, as far as it is again another JavaScript object, it has its own <strong><code>__proto__</code></strong> attribute, it goes up and up until it gets to the point where the next <strong><code>__proto__</code></strong> is null. The point is the only object in JavaScript that its <strong><code>__proto__</code></strong> attribute is null is <code>Object.prototype</code> object:</p>\n\n<pre><code>console.log(Object.prototype.__proto__===null);//true\n</code></pre>\n\n<p>and that's how inheritance works in JavaScript.</p>\n\n<p><img src=\"http://i.stack.imgur.com/JnpBV.png\" alt=\"The prototype chain\"></p>\n\n<p>In other words, when you have a prototype property on a function and you call a new on that, after JavaScript finishes looking at that newly created object for properties, it will go look at the function's <code>.prototype</code> and also it is possible that this object has its own internal prototype. and so on.</p>\n",
                    "is_accepted": false,
                    "score": 62
                },
                {
                    "body": "<p><strong>1)</strong> Two different things can be called \"prototype\":</p>\n\n<ul>\n<li><p>the prototype property, as in <code>obj.prototype</code></p></li>\n<li><p>the prototype internal property, denoted as <code>[[Prototype]]</code> <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.2\">in ES5</a>.</p>\n\n<p>It can be retrieved via the ES5 <code>Object.getPrototypeOf()</code>.</p>\n\n<p>Firefox makes it accessible through the <code>__proto__</code> property as an extension.</p></li>\n</ul>\n\n<hr>\n\n<p><strong>2)</strong></p>\n\n<ul>\n<li><code>__proto__</code> is used for the dot <code>.</code> property lookup as in <code>obj.property</code></li>\n<li><code>.prototype</code> is not used for lookup directly, only indirectly as it determines <code>__proto__</code> at object creation with <code>new</code>.</li>\n</ul>\n\n<p>Lookup order is:</p>\n\n<ul>\n<li><code>obj</code> properties added with <code>obj.p = ...</code> or <code>Object.defineProperty(obj, ...)</code></li>\n<li>properties of <code>obj.__proto__</code></li>\n<li>properties of <code>obj.__proto__.__proto__</code>, and so on</li>\n<li>if some <code>__proto__</code> is <code>null</code>, return <code>undefined</code>.</li>\n</ul>\n\n<p>If you want to avoid lookup and look only in the given object, you can use <code>Object.getOwnProperty(obj)</code>.</p>\n\n<hr>\n\n<p><strong>3)</strong> There are two main ways to set <code>obj.__proto__</code>: <code>new</code> and <code>Object.create</code>.</p>\n\n<ul>\n<li><p><code>new</code>:</p>\n\n<pre><code>var F = function() {}\nvar f = new F()\n</code></pre>\n\n<p>then <code>new</code> has set:</p>\n\n<pre><code>f.__proto__ === F.prototype\n</code></pre></li>\n<li><p><code>Object.create</code>:</p>\n\n<pre><code> f = Object.create(proto)\n</code></pre>\n\n<p>sets:</p>\n\n<pre><code>f.__proto__ === proto\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p><strong>4)</strong> When you do <code>f = new F</code>, <code>new</code> also sets <code>f.constructor = F</code>.</p>\n\n<p>This allows you to get the constructor of objects, which for many purposes corresponds to the class in \"classic\" object oriented languages.</p>\n\n<hr>\n\n<p><strong>5)</strong> The code:</p>\n\n<pre><code>var F = function() {}\nvar f = new F()\n</code></pre>\n\n<p>Corresponds to the following diagram:</p>\n\n<pre><code>(Function)       (  F  )                                      (f)\n |                | | ^                                        |\n |                | | |                                        |\n |                | | +-------------------------+              |\n |                | |                           |              |\n |                | +--------------+            |              |\n |                |                |            |              |\n |                |                |            |              |\n |[[Prototype]]   |[[Prototype]]   |prototype   |constructor   |[[Prototype]]\n |                |                |            |              |\n |                |                |            |              |\n |                |                | +----------+              |\n |                |                | |                         |\n | ---------------+                | | +-----------------------+\n | |                               | | |\n v v                               v | v\n(Function.prototype)              (F.prototype)\n |                                 |\n |                                 |\n |[[Prototype]]                    |[[Prototype]]\n |                                 |\n |                                 |\n | +-------------------------------+\n | |\n v v\n(Object.prototype)\n | | ^\n | | |\n | | +---------------------------+\n | |                             |\n | +--------------+              |\n |                |              |\n |                |              |\n |[[Prototype]]   |constructor   |prototype\n |                |              |\n |                |              |\n |                | -------------+\n |                | |\n v                v |\n(null)           (Object)\n</code></pre>\n\n<p>Once you see this, it is clear why all the following are true:</p>\n\n<pre><code>Object.getPrototypeOf(f) === F.prototype\nObject.getPrototypeOf(F) === Function.prototype\nObject.getPrototypeOf(F.prototype) === Object.prototype\n\nf.prototype === undefined\nF.prototype.constructor === F\n\nf.constructor === F\nF.constructor === Function\n\n// `constructor` comes from `F.prototype` through lookup.\n!f.hasOwnProperty('constructor')\nF.prototype.hasOwnProperty('constructor')\n</code></pre>\n\n<hr>\n\n<p><strong>6)</strong> If you modify <code>prototype</code>, you add new properties to all objects that have it as <code>[[Prototype]]</code> because of the lookup:</p>\n\n<pre><code>f = new F()\nF.prototype.a = 1\nf.a === 1\n</code></pre>\n\n<p>You could also set <code>prototype</code> to any object:</p>\n\n<pre><code>F.prototype = {a:1}\ng = new F()\ng.a === 1\n</code></pre>\n\n<p>But that wouldn't be cool because then:</p>\n\n<pre><code>g.constructor === Object\n</code></pre>\n\n<p>and not <code>F</code> as one would expect. This happens because now <code>g.__proto__ = {a:1}</code>, which is an <code>Object</code>, and does not contain <code>constructor</code>, so it looks at the <code>{}.__proto__ === Object.prototype</code> and finds <code>Object</code>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Let me tell you my understanding of prototypes. I am not going to compare the inheritance here with other languages. I wish people would stop comparing languages, and just understand the language as itself. Understanding prototypes and prototypal inheritance is so simple, as I will show you below.</p>\n\n<p>Prototype is like a model, based on which you create a product. The crucial point to understand is that when you create an object using another object as it's prototype, the link between the prototype and the product is ever-lasting. For instance:</p>\n\n<pre><code>var model = {x:2};\nvar product = Object.create(model);\nmodel.y = 5;\nproduct.y\n=&gt;5\n</code></pre>\n\n<p>Every object contains an internal property called the [[prototype]], which can be accessed by the <code>Object.getPrototypeOf()</code> function. <code>Object.create(model)</code> creates a new object and sets it's [[prototype]] property to the object <strong>model</strong>. Hence when you do <code>Object.getPrototypeOf(product)</code>, you will get the object <strong>model</strong>.</p>\n\n<p>Properties in the <strong>product</strong> are handled in the following way:</p>\n\n<ul>\n<li>When a property is accessed to just read it's value, its looked up in the scope chain. The search for the variable starts from the <strong>product</strong> upwards to it's prototype. If such a variable is found in the search, the search is stopped right there, and the value is returned. If such a variable cannot be found in the scope chain, undefined is returned.</li>\n<li>When a property is written(altered), then the property is always written on the <strong>product</strong> object. If the <strong>product</strong> does not have such a property already, it is implicitly created and written.</li>\n</ul>\n\n<p>Such a linking of objects using the prototype property is called prototypal inheritance. There, it is so simple, agree?</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm not that in to dynamic programming languages but I've written my fair share of JavaScript code. I never really got my head around this prototype-based programming, does any one know how this works? </p>\n\n<pre><code>var obj = new Object();\nobj.prototype.test = function() { alert('Hello?'); };\nvar obj2 = new obj();\nobj2.test();\n</code></pre>\n\n<p>I remember a lot talk I had with people a while back, I'm not actually sure what the hell I'm doing. As I understand it, there's no concept of a class, it's just an object, and instances of those objects are clones of the original, right?</p>\n\n<p>But what is the exact purpose of this \".prototype\" property in JavaScript? How does it relate to instantiating objects?</p>\n\n<h3>Update: correct way</h3>\n\n<pre><code>var obj = new Object(); // not a functional object\nobj.prototype.test = function() { alert('Hello?'); }; // this is wrong!\n\nfunction MyObject() {} // a first class functional object\nMyObject.prototype.test = function() { alert('OK'); } // OK\n</code></pre>\n\n<p>Also these <a href=\"http://ejohn.org/apps/learn/#64\">slides</a> really helped a lot.</p>\n",
            "last_activity_date": 1415548768,
            "question_id": 572897,
            "score": 1072,
            "tags": [
                "javascript",
                "dynamic-languages",
                "prototype-oriented"
            ],
            "title": "How does JavaScript .prototype work?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Have you tried the classic, waiting for the load to complete using jQuery's builtin ready function?</p>\n\n<pre><code>$(document).ready(function() {\n    $('some selector', frames['nameOfMyIframe'].document).doStuff()\n} );\n</code></pre>\n\n<p>K</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You need to attach an event to an iframe's onload handler, and execute the js in there, so that you make sure the iframe has finished loading before accessing it.    </p>\n\n<pre><code>$().ready(function () {\n    $(\"#iframeID\").ready(function () { //The function below executes once the iframe has finished loading\n        $('some selector', frames['nameOfMyIframe'].document).doStuff();\n    });\n};\n</code></pre>\n\n<p>The above will solve the 'not-yet-loaded' problem, but as regards the permissions, if you are loading a page in the iframe that is from a different domain, you won't be able to access it due to security restrictions.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>I think what you are doing is subject to the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">same origin policy</a>. This should be the reason why you are getting <em>permission denied type</em> errors.</p>\n",
                    "is_accepted": true,
                    "score": 255
                },
                {
                    "body": "<p>If the <code>&lt;iframe&gt;</code> is from the same domain, the elements are easily accessible as</p>\n\n<pre><code>$(\"#iFrame\").contents().find(\"#someDiv\").removeClass(\"hidden\");\n</code></pre>\n\n<p>Reference: <a href=\"http://simple.procoding.net/2008/03/21/how-to-access-iframe-in-jquery/\">http://simple.procoding.net/2008/03/21/how-to-access-iframe-in-jquery/</a></p>\n",
                    "is_accepted": false,
                    "score": 666
                },
                {
                    "body": "<pre><code>$(document).ready(function(){\n    $('#frameID').load(function(){\n        $('#frameID').contents().find('body').html('Hey, i`ve changed content of &lt;body&gt;! Yay!!!');\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>If the iframe src is from another domain you can still do it. You need to read the external page into PHP and echo it from your domain. Like this:</p>\n\n<h2>iframe_page.php</h2>\n\n<pre><code>&lt;?php\n    $URL = \"http://external.com\"\n\n    $domain = file_get_contents($URL)\n\n    echo $domain\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>Then something like this:</p>\n\n<h2>display_page.html</h2>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Test&lt;/title&gt;\n &lt;/head&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n\n$(document).ready(function(){   \n    cleanit = setInterval ( \"cleaning()\", 500 );\n});\n\nfunction cleaning(){\n    if($('#frametest').contents().find('.selector').html() == \"somthing\"){\n        clearInterval(cleanit);\n        $('#selector').contents().find('.Link').html('ideate tech');\n    }\n}\n\n&lt;/script&gt;\n\n&lt;body&gt;\n&lt;iframe name=\"frametest\" id=\"frametest\" src=\"http://yourdomain.com/iframe_page.php\" &gt;&lt;/iframe&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<p>The above is an example of how to edit an external page through an iframe without the access denied etc...</p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Use<br>\n<code>iframe.contentWindow.document</code><br>\ninstead of<br>\n<code>iframe.contentDocument</code></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I find this way cleaner:</p>\n\n<pre><code>var $iframe = $(\"#iframeID\").contents();\n$('selector', $iframe);\n</code></pre>\n\n<p><strong>Edit</strong> - There is also</p>\n\n<pre><code>var $iframe = $(\"#iframeID\").contents();\n$iframe.find('selector');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I prefer to use other variant for accessing.\nFrom parent you can have a access to variable in child iframe.\n<code>$</code> is a variable too and you can receive access to its just call\n<code>window.iframe_id.$</code></p>\n\n<p>For example, <code>window.view.$('div').hide()</code> - hide all divs in iframe with id 'view'</p>\n\n<p>But, it doesn't work in FF. For better compatibility you should use</p>\n\n<p><code>$('#iframe_id')[0].contentWindow.$</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use window.postMessage to call a function between page and his iframe (cross domain or not).</p>\n\n<p>Documentation: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.postMessage\">https://developer.mozilla.org/en-US/docs/Web/API/window.postMessage</a></p>\n\n<p><strong>page.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Page with an iframe&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.10.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    var Page = {\n        id:'page',\n        variable:'This is the page.'\n    };\n\n    $(window).on('message', function(e) {\n        var event = e.originalEvent;\n        if(window.console) {\n            console.log(event);\n        }\n        alert(event.origin + '\\n' + event.data);\n    });\n    function iframeReady(iframe) {\n        if(iframe.contentWindow.postMessage) {\n            iframe.contentWindow.postMessage('Hello ' + Page.id, '*');\n        }\n    }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Page with an iframe&lt;/h1&gt;\n    &lt;iframe src=\"iframe.html\" onload=\"iframeReady(this);\"&gt;&lt;/iframe&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>iframe.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;iframe&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.10.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    var Page = {\n        id:'iframe',\n        variable:'The iframe.'\n    };\n\n    $(window).on('message', function(e) {\n        var event = e.originalEvent;\n        if(window.console) {\n            console.log(event);\n        }\n        alert(event.origin + '\\n' + event.data);\n    });\n    $(window).on('load', function() {\n        if(window.parent.postMessage) {\n            window.parent.postMessage('Hello ' + Page.id, '*');\n        }\n    });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;iframe&lt;/h1&gt;\n    &lt;p&gt;It's the iframe.&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I would like to manipulate the html inside an iframe using jquery.</p>\n\n<p>I thought I'd be able to do this by setting the context of the jQuery function to be the document of the iframe, something like:</p>\n\n<pre><code>$(function(){//document ready\n    $('some selector', frames['nameOfMyIframe'].document).doStuff()\n});\n</code></pre>\n\n<p>However this doesn't seem to work. A bit of inspection shows me that the variables in <code>frames['nameOfMyIframe']</code> are undefined unless I wait a while for the iframe to load. However, when the iframe loads the variables are not accessible (I get <code>permission denied</code> type errors).</p>\n\n<p>Does anyone know of way to work around this?</p>\n",
            "last_activity_date": 1416319577,
            "question_id": 364952,
            "score": 436,
            "tags": [
                "javascript",
                "jquery",
                "iframe",
                "same-origin-policy"
            ],
            "title": "jQuery/JavaScript: accessing contents of an iframe"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>Although they are rendered by browsers through CSS as if they were like other real DOM elements, pseudo-elements themselves are not part of the DOM, and thus you can't select and manipulate them directly with jQuery (or <em>any</em> JavaScript APIs for that matter, not even the <a href=\"http://www.w3.org/TR/selectors-api\">Selectors API</a>).</p>\n\n<p>You can always find other ways around it, though, for example:</p>\n\n<ul>\n<li>Manipulating the styles being applied to said pseudo-elements, by altering the document stylesheet</li>\n<li>Applying the styles to the pseudo-elements of one or more arbitrary classes, then toggling between classes using jQuery (see <a href=\"http://stackoverflow.com/questions/5041494/manipulating-css-pseudo-elements-using-jquery-e-g-before-and-after/5335771#5335771\">seucolega's answer</a> for a quick example)</li>\n</ul>\n\n<p>But you still can't access them directly as ultimately they're only visible to the rendering engine, and not available through any scripting APIs (except possibly the CSSOM, which is not exposed by jQuery beyond <code>.css()</code> which only works for actual elements and not pseudo-elements either).</p>\n\n<p>This applies to any pseudo-elements whose styles you're trying to modify with jQuery, and not just <code>:before</code> and <code>:after</code>.</p>\n",
                    "is_accepted": false,
                    "score": 98
                },
                {
                    "body": "<p>You can't select pseudo elements in jQuery because they are not part of DOM.\nBut you can add an specific class to the father element and control its pseudo elements in CSS.</p>\n\n<p><a href=\"http://jsfiddle.net/1dw7h4s3/\" rel=\"nofollow\">EXAMPLE</a></p>\n\n<p>In jQuery:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $('span').addClass('change');\n&lt;/script&gt;\n</code></pre>\n\n<p>In CSS:</p>\n\n<pre><code>span.change:after { content: 'bar' }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>You could also pass the content to the pseudo element with a data attribute and then use jQuery to manipulate that:</p>\n\n<p>In HTML:</p>\n\n<pre><code>&lt;span&gt;foo&lt;/span&gt;\n</code></pre>\n\n<p>In jQuery:</p>\n\n<pre><code>&lt;script&gt;\n$('span').hover(function(){\n    $(this).attr('data-content','bar');\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>In CSS: </p>\n\n<pre><code>span:after {\ncontent: attr(data-content) ' any other text you may want';\n}\n</code></pre>\n\n<p>If you want to prevent the 'other text' from showing up, you could combine this with seucolega's solution like this:</p>\n\n<p>In HTML:</p>\n\n<pre><code>&lt;span&gt;foo&lt;/span&gt;\n</code></pre>\n\n<p>In jQuery:</p>\n\n<pre><code>&lt;script&gt;\n$('span').hover(function(){\n    $(this).addClass('change').attr('data-content','bar');\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>In CSS: </p>\n\n<pre class=\"lang-css prettyprint-override\"><code>span.change:after {\n    content: attr(data-content) ' any other text you may want';\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 260
                },
                {
                    "body": "<p>one working but not very efficient way is to add a rule to the document with the new content and reference it with a class. depending on what is needed the class might need an unique id for each value in content.</p>\n\n<pre><code>$(\"&lt;style type='text/css'&gt;span.id-after:after{content:bar;}&lt;/style&gt;\").appendTo($(\"head\"));\n$('span').addClass('id-after');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In the line of what Christian suggests, you could also do:</p>\n\n<pre><code>$('head').append(\"&lt;style&gt;.span::after{ content:'bar' }&lt;/style&gt;\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I've answered this question <a href=\"http://stackoverflow.com/a/16507264/1250044\">here</a> already, but to be super-cool I'll repeat myself for you.</p>\n\n<p>The answer should be <em>Yes &amp; No</em>. You can not select an element via pseudo-selector, but you can add a new rule to your stylesheet with javascript.</p>\n\n<p>I made something that should work for you:</p>\n\n<pre><code>var addRule = function(sheet, selector, styles) {\n    if (sheet.insertRule) return sheet.insertRule(selector + \" {\" + styles + \"}\", sheet.cssRules.length);\n    if (sheet.addRule) return sheet.addRule(selector, styles);\n};\n\naddRule(document.styleSheets[0], \"body:after\", \"content: 'foo'\");\n</code></pre>\n\n<p><a href=\"http://fiddle.jshell.net/MDyxg/1/\" rel=\"nofollow\">http://fiddle.jshell.net/MDyxg/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You'd think this would be a simple question to answer, with everything else that jQuery can do. Unfortunately, the problem comes down to a technical issue: <strong><em>css :after and :before rules aren't part of the DOM,</em></strong> and therefore can't be altered using jQuery's DOM methods.</p>\n\n<p>There <em>are</em> ways to manipulate these elements using JavaScript and/or CSS workarounds; which one you use depends on your exact requirements.</p>\n\n<hr>\n\n<p>I'm going to start with what's widely considered the \"best\" approach:</p>\n\n<h2>1) Add/remove a predetermined class</h2>\n\n<p>In this approach, you've already created a class in your CSS with a different <code>:after</code> or <code>:before</code> style. Place this \"new\" class later in your stylesheet to make sure it overrides:</p>\n\n<pre><code>p:before {\n    content: \"foo\";\n}\np.special:before {\n    content: \"bar\";\n}\n</code></pre>\n\n<p>Then you can easily add or remove this class using jQuery (or vanilla JavaScript):</p>\n\n<pre><code>$('p').on('click', function() {\n    $(this).toggleClass('special');\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mblase75/fa5Wn/\">http://jsfiddle.net/mblase75/fa5Wn/</a></p>\n\n<ul>\n<li><strong>Pros:</strong> Easy to implement with jQuery; quickly alters multiple styles at once; enforces separation of concerns (isolating your CSS and JS from your HTML)</li>\n<li><strong>Cons:</strong> CSS must be pre-written, so the content of <code>:before</code> or <code>:after</code> isn't completely dynamic</li>\n</ul>\n\n<hr>\n\n<h2>2) Add new styles directly to the document's stylesheet</h2>\n\n<p>It's possible to use JavaScript to add styles directly to the document stylesheet, including <code>:after</code> and <code>:before</code> styles. jQuery doesn't provide a convenient shortcut, but fortunately the JS isn't that complicated:</p>\n\n<pre><code>var str = \"bar\";\ndocument.styleSheets[0].addRule('p.special:before','content: \"'+str+'\";');\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mblase75/n8tVX/\">http://jsfiddle.net/mblase75/n8tVX/</a></p>\n\n<p><a href=\"http://davidwalsh.name/add-rules-stylesheets\"><code>.addRule()</code> and the related <code>.insertRule()</code> methods</a> are fairly well-supported today. </p>\n\n<p>As a variation, you can also use jQuery to add an entirely new stylesheet to the document, but the necessary code isn't any cleaner:</p>\n\n<pre><code>var str = \"bar\";\n$('&lt;style&gt;p.special:before{content:\"'+str+'\"}&lt;/style&gt;').appendTo('head');\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mblase75/3qc4k/\">http://jsfiddle.net/mblase75/3qc4k/</a></p>\n\n<p>If we're talking about \"manipulating\" the values, not just adding to them, we can also <a href=\"http://davidwalsh.name/pseudo-element\"><em>read</em> the existing <code>:after</code> or <code>:before</code> styles</a> using a different approach:</p>\n\n<pre><code>var str = window.getComputedStyle(document.querySelector('p'), ':before') \n           .getPropertyValue('content');\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mblase75/nHCM6/\">http://jsfiddle.net/mblase75/nHCM6/</a></p>\n\n<p>We can replace <code>document.querySelector('p')</code> with <a href=\"http://api.jquery.com/get/\"><code>$('p')[0]</code></a> when using jQuery, for slightly shorter code.</p>\n\n<ul>\n<li><strong>Pros:</strong> any string can be dynamically inserted into the style</li>\n<li><strong>Cons:</strong> original styles aren't altered, just overridden; repeated (ab)use can make the DOM grow arbitrarily large</li>\n</ul>\n\n<hr>\n\n<h2>3) Alter a different DOM attribute</h2>\n\n<p>Most browsers allow you to <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/attr\">use <code>attr()</code> in your CSS</a> to read a particular DOM attribute. By combining this with <code>content:</code> in some carefully-prepared CSS, we can change the content (but <strong><em>not other properties,</em></strong> like margin or color) of <code>:before</code> and <code>:after</code> dynamically:</p>\n\n<pre><code>p:before {\n    content: attr(data-before);\n    color: red;\n    cursor: pointer;\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$('p').on('click', function () {\n    $(this).attr('data-before','bar');\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mblase75/Tfc9j/\">http://jsfiddle.net/mblase75/Tfc9j/</a></p>\n\n<p>This can be combined with the second technique if the CSS can't be prepared ahead of time:</p>\n\n<pre><code>var str = \"bar\";\n\ndocument.styleSheets[0].addRule('p:before', 'content: attr(data-before);');\n\n$('p').on('click', function () {\n    $(this).attr('data-before', str);\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mblase75/Lfba2/\">http://jsfiddle.net/mblase75/Lfba2/</a></p>\n\n<ul>\n<li><strong>Pros:</strong> Doesn't create endless extra styles</li>\n<li><strong>Cons:</strong> <code>attr</code> in CSS can only apply to content strings, not URLs or RGB colors</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 72
                },
                {
                    "body": "<p>Here is the HTML:</p>\n\n<pre><code>&lt;div class=\"icon\"&gt;\n  &lt;span class=\"play\"&gt;\n    ::before\n  &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Computed style on 'before' was <code>content: \"VERIFY TO WATCH\";</code></p>\n\n<p>Here is my two lines of jQuery, which use the idea of adding an extra class to specifically reference this element and then appending a style tag (with an !important tag) to changes the CSS of the sudo-element's content value:</p>\n\n<p><code>$(\"span.play:eq(0)\").addClass('G');</code></p>\n\n<p><code>$('body').append(\"&lt;style&gt;.G:before{content:'NewText' !important}&lt;/style&gt;\");</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>IF you want to to manipulate the ::before or ::after sudo elements entirely through CSS, you could do it JS. See below;</p>\n\n<pre><code>jQuery('head').append('&lt;style id=\"mystyle\" type=\"text/css\"&gt; /* your styles here */ &lt;/style&gt;');\n</code></pre>\n\n<p>Notice how the <code>&lt;style&gt;</code> element has an ID, which you can use to remove it and append to it again if your style changes dynamically.</p>\n\n<p>This way, your element is style exactly how you want it through CSS, with the help of JS.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Thank you all!\ni managed to do what i wanted :D\n<a href=\"http://jsfiddle.net/Tfc9j/42/\" rel=\"nofollow\">http://jsfiddle.net/Tfc9j/42/</a>\nhere take a look</p>\n\n<p>i wanted to have the opacity of an outer div to be different from the opacity of the internal div and that change with a click somwewhere ;)\nThanks!</p>\n\n<pre><code>   $('#ena').on('click', function () {\n        $('head').append(\"&lt;style&gt;#ena:before { opacity:0.3; }&lt;/style&gt;\");\n    });\n\n$('#duop').on('click', function (e) {\n\n        $('head').append(\"&lt;style&gt;#ena:before { opacity:0.8; }&lt;/style&gt;\");\n\n     e.stopPropagation(); \n    });\n\n#ena{\n    width:300px;\n    height:300px;\n    border:1px black solid;\n    position:relative;\n}\n#duo{\n    opacity:1;\n    position:absolute;\n    top:50px;\n  width:300px;\n    height:100px;\n      background-color:white;\n}\n#ena:before {\n    content: attr(data-before);\n    color: white;\n    cursor: pointer;\n    position: absolute;\n    background-color:red;\n    opacity:0.9;\n    width:100%;\n    height:100%;\n}\n\n\n&lt;div id=\"ena\"&gt;\n    &lt;div id=\"duo\"&gt;\n        &lt;p&gt;ena p&lt;/p&gt;\n        &lt;p id=\"duop\"&gt;duoyyyyyyyyyyyyyy p&lt;/p&gt;\n\n    &lt;/div&gt;   \n\n\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is the way to access :after and :before style properties, defined in css:</p>\n\n<pre><code>// Get the color value of .element:before\nvar color = window.getComputedStyle(\n    document.querySelector('.element'), ':before'\n).getPropertyValue('color');\n\n// Get the content value of .element:before\nvar content = window.getComputedStyle(\n    document.querySelector('.element'), ':before'\n).getPropertyValue('content');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You may create a fake property or use an existing one and <strong>inherit</strong> it in the pseudo-element's stylesheet.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var switched = false;\r\n\r\n// Enable color switching\r\nsetInterval(function () {\r\n    var color = switched ? 'red' : 'darkred';\r\n    var element = document.getElementById('arrow');\r\n    element.style.backgroundColor = color;\r\n    \r\n    // Managing pseudo-element's css\r\n    // using inheritance.\r\n    element.style.borderLeftColor = color;\r\n    \r\n    switched = !switched;\r\n}, 1000);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.arrow {\r\n    /* SET FICTIONAL PROPERTY */\r\n    border-left-color:red;\r\n    \r\n    background-color:red;\r\n    width:1em;\r\n    height:1em;\r\n    display:inline-block;\r\n    position:relative;\r\n}\r\n.arrow:after {\r\n    border-top:1em solid transparent;\r\n    border-right:1em solid transparent;\r\n    border-bottom:1em solid transparent;\r\n    border-left:1em solid transparent;\r\n    \r\n    /* INHERIT PROPERTY */\r\n    border-left-color:inherit;\r\n    \r\n    content:\"\";\r\n    width:0;\r\n    height:0;\r\n    position:absolute;\r\n    left:100%;\r\n    top:-50%;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span id=\"arrow\" class=\"arrow\"&gt;&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It seems it doesn't work for \"content\" property :(</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there any way to select/manipulate CSS pseudo-elements such as <code>:before</code> and <code>:after</code> using jQuery?</p>\n\n<p>For example, my stylesheet has a rule stating...</p>\n\n<pre><code>.span:after{ content:'foo' }\n</code></pre>\n\n<p>How can I change 'foo' to 'bar' using jQuery?</p>\n",
            "last_activity_date": 1417604833,
            "question_id": 5041494,
            "score": 254,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "pseudo-element"
            ],
            "title": "Manipulating CSS pseudo-elements such as :before and :after using jQuery"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>The first example changes the interface for that object only. The second example changes the interface for all object of that class.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>In most cases they are essentially the same, but the second version saves memory because there is only one instance of the function instead of a separate function for each object.</p>\n\n<p>A reason to use the first form is to access \"private members\". For example:</p>\n\n<pre><code>var A = function () {\n    var private_var = ...;\n\n    this.x = function () {\n        return private_var;\n    };\n\n    this.setX = function (new_x) {\n        private_var = new_x;\n    };\n};\n</code></pre>\n\n<p>Because of javascript's scoping rules, private_var is available to the function assigned to this.x, but not outside the object.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>I believe that @Matthew Crumley is right.  They are <em>functionally</em>, if not structurally, equivalent.  If you use Firebug to look at the objects that are created using <code>new</code>, you can see that they are the same.  However, my preference would be the following.  I'm guessing that it just seems more like what I'm used to in C#/Java.  That is, define the class, define the fields, constructor, and methods.</p>\n\n<pre><code>var A = function() {};\nA.prototype = {\n    _instance_var: 0,\n\n    initialize: function(v) { this._instance_var = v; },\n\n    x: function() {  alert(this._instance_var); }\n};\n</code></pre>\n\n<p><strong>EDIT</strong> Didn't mean to imply that the scope of the variable was private, I was just trying to illustrate how I define my classes in javascript.  Variable name has been changed to reflect this.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The examples have very different outcomes.</p>\n\n<p>Before looking at the differences, the following should be noted:</p>\n\n<ul>\n<li>A constructor's <em>prototype</em> provides a way to share methods and values among instances via the instance's private <code>[[Prototype]]</code> property.</li>\n<li>A function's <em>this</em> is set by how the function is called or by the use of <em>bind</em> (not discussed here). Where a function is called on an object (e.g. <code>myObj.method()</code>) then <em>this</em> within the method references the object. Where <em>this</em> is not set by the call or by the use of <em>bind</em>, it defaults to the global object (window in a browser) or in strict mode, remains undefined.</li>\n<li>JavaScript is a object oriented language, i.e. everything is an Object, including functions.</li>\n</ul>\n\n<p>So here are the snippets in question:</p>\n\n<pre><code>var A = function () {\n    this.x = function () {\n        //do something\n    };\n};\n</code></pre>\n\n<p>In this case, variable <code>A</code> is assigned a value that is a reference to a function.  When that function is called using <code>A()</code>, the function's <em>this</em> isn't set by the call so it defaults to the global object and the expression <code>this.x</code> is effectively <code>window.x</code>. The result is that a reference to the function expression on the right hand side is assigned to <code>window.x</code>.</p>\n\n<p>In the case of:</p>\n\n<pre><code>var A = function () { };\nA.prototype.x = function () {\n    //do something\n};\n</code></pre>\n\n<p>something very different occurs.  In the first line, variable <code>A</code> is assigned a reference to a function.  In JavaScript, all functions objects have a <em>prototype</em> property by default so there is no separate code to create an <em>A.prototype</em> object.</p>\n\n<p>In the second line, <em>A.prototype.x</em> is assigned a reference to a function. This will create an <em>x</em> property if it doesn't exist, or assign a new value if it does. So the difference with the first example is which object's <em>x</em> property is involved in the expression.</p>\n\n<p>Another example is below.  It's similar to the first one (and may be what you meant to ask about):</p>\n\n<pre><code>var A = new function () {\n    this.x = function () {\n        //do something\n    };\n};\n</code></pre>\n\n<p>In this example, the <code>new</code> operator has been added before the function expression so that the function is called as a constructor. When called with <code>new</code>, the function's <em>this</em> is set to reference a new Object whose private <code>[[Prototype]]</code> property is set to reference the constructor's public <em>prototype</em>. So in the assignment statement, the <code>x</code> property will be created on this new object. When called as a constructor, a function returns its <em>this</em> object by default, so there is no need for a separate <code>return this;</code> statement.</p>\n\n<p>To check that <em>A</em> has an <em>x</em> property:</p>\n\n<pre><code>console.log(A.x) // function () {\n                 //   //do something\n                 // };\n</code></pre>\n\n<p>This is an uncommon use of <em>new</em>, since the only way to reference the constructor is via <em>A.constructor</em>. It would be much more common to do:</p>\n\n<pre><code>var A = function () {\n    this.x = function () {\n        //do something\n    };\n\nvar a = new A();\n</code></pre>\n\n<p>Another way of achieving a similar result is to use an immediately invoked function expression:</p>\n\n<pre><code>var A = (function () {\n    this.x = function () {\n        //do something\n    };\n}());\n</code></pre>\n\n<p>In this case, <code>A</code> assigned the return value of calling the function on the right hand side. Here again, since <em>this</em> is not set in the call, it will reference the global object and <code>this.x</code> is effectively <code>window.x</code>. Since the function doesn't return anything, <code>A</code> will have a value of <code>undefined</code>.</p>\n\n<p><strong>Related questions</strong>:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/186244/what-does-it-mean-that-javascript-is-a-prototype-based-language\"><strong>What does it mean that JavaScript is a prototypal language?</strong></a></li>\n<li><a href=\"http://stackoverflow.com/questions/235360/what-is-the-scope-of-a-function-in-javascriptecmascript\"><strong>What is the scope of a function in JavaScript?</strong></a></li>\n<li><strong><a href=\"http://stackoverflow.com/questions/3127429/javascript-this-keyword\">JavaScript &quot;this&quot; keyword</a></strong></li>\n</ul>\n\n<p><strong>Sidenote:</strong> There may not be any significant memory savings between the two approaches, however using the prototype to share methods and properties will likely use less memory than each instance having its own copy.</p>\n\n<p>JavaScript isn't a low-level language.  It may not be very valuable to think of prototyping or other inheritance patterns as a way to explicitly change the way memory is allocated.</p>\n",
                    "is_accepted": false,
                    "score": 263
                },
                {
                    "body": "<p>As others have said the first version, using \"this\" results in every instance of the class A having its own independent copy of function method \"x\".  Whereas using \"prototype\" will mean that each instance of class A will use the same copy of method \"x\".</p>\n\n<p>Here is some code to show this subtle difference:</p>\n\n<pre><code>// x is a method assigned to the object using \"this\"\nvar A = function () {\n    this.x = function () {\n        alert('A');\n    };\n};\nA.prototype.updateX = function(value) {\n    this.x = function() {\n        alert(value);\n    }\n};\n\nvar a1 = new A();\nvar a2 = new A();\na1.x();  // Displays 'A'\na2.x();  // Also displays 'A'\na1.updateX('Z');\na1.x();  // Displays 'Z'\na2.x();  // Still displays 'A'\n\n// Here x is a method assigned to the object using \"prototype\"\nvar B = function () { };\nB.prototype.x = function () {\n    alert('B');\n};\nB.prototype.updateX = function(value) {\n    B.prototype.x = function() {\n        alert(value);\n    }\n}\n\nvar b1 = new B();\nvar b2 = new B();\nb1.x();  // Displays 'B'\nb2.x();  // Also displays 'B'\nb1.updateX('Y');\nb1.x();  // Displays 'Y'\nb2.x();  // Also displays 'Y' because by using prototype we\n         // have changed it for all instances\n</code></pre>\n\n<p>As others have mentioned, there are various reasons to choose one method or the other.  My sample is just meant to clearly demonstrate the difference.</p>\n",
                    "is_accepted": false,
                    "score": 122
                },
                {
                    "body": "<p>Prototype is the template of the class; which applies to all future instances of it. Whereas this is the particular instance of the object.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The ultimate problem with using <code>this</code> instead of <code>prototype</code> is that when overriding a method, the constructor of the base class will still refer to the overridden method. Consider this:</p>\n\n<pre><code>BaseClass = function() {\n    var text = null;\n\n    this.setText = function(value) {\n        text = value + \" BaseClass!\";\n    };\n\n    this.getText = function() {\n        return text;\n    };\n\n    this.setText(\"Hello\"); // This always calls BaseClass.setText()\n};\n\nSubClass = function() {\n    // setText is not overridden yet,\n    // so the constructor calls the superclass' method\n    BaseClass.call(this);\n\n    // Keeping a reference to the superclass' method\n    var super_setText = this.setText;\n    // Overriding\n    this.setText = function(value) {\n        super_setText.call(this, \"SubClass says: \" + value);\n    };\n};\nSubClass.prototype = new BaseClass();\n\nvar subClass = new SubClass();\nconsole.log(subClass.getText()); // Hello BaseClass!\n\nsubClass.setText(\"Hello\"); // setText is already overridden\nconsole.log(subClass.getText()); // SubClass says: Hello BaseClass!\n</code></pre>\n\n<p>versus:</p>\n\n<pre><code>BaseClass = function() {\n    this.setText(\"Hello\"); // This calls the overridden method\n};\n\nBaseClass.prototype.setText = function(value) {\n    this.text = value + \" BaseClass!\";\n};\n\nBaseClass.prototype.getText = function() {\n    return this.text;\n};\n\nSubClass = function() {\n    // setText is already overridden, so this works as expected\n    BaseClass.call(this);\n};\nSubClass.prototype = new BaseClass();\n\nSubClass.prototype.setText = function(value) {\n    BaseClass.prototype.setText.call(this, \"SubClass says: \" + value);\n};\n\nvar subClass = new SubClass();\nconsole.log(subClass.getText()); // SubClass says: Hello BaseClass!\n</code></pre>\n\n<p>If you think this is not a problem, then it depends on whether you can live without private variables, and whether you are experienced enough to know a leak when you see one. Also, having to put the constructor logic after the method definitions is inconvenient.</p>\n\n<pre><code>var A = function (param1) {\n    var privateVar = null; // Private variable\n\n    // Calling this.setPrivateVar(param1) here would be an error\n\n    this.setPrivateVar = function (value) {\n        privateVar = value;\n        console.log(\"setPrivateVar value set to: \" + value);\n\n        // param1 is still here, possible memory leak\n        console.log(\"setPrivateVar has param1: \" + param1);\n    };\n\n    // The constructor logic starts here possibly after\n    // many lines of code that define methods\n\n    this.setPrivateVar(param1); // This is valid\n};\n\nvar a = new A(0);\n// setPrivateVar value set to: 0\n// setPrivateVar has param1: 0\n\na.setPrivateVar(1);\n//setPrivateVar value set to: 1\n//setPrivateVar has param1: 0\n</code></pre>\n\n<p>versus:</p>\n\n<pre><code>var A = function (param1) {\n    this.setPublicVar(param1); // This is valid\n};\nA.prototype.setPublicVar = function (value) {\n    this.publicVar = value; // No private variable\n};\n\nvar a = new A(0);\na.setPublicVar(1);\nconsole.log(a.publicVar); // 1\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>What's the difference? => A lot.</p>\n\n<p>I think, the 'this' version is used to enable encapsulation, i.e. data hiding.\nIt helps to manipulate private variables.</p>\n\n<p>Let us look at the following example:   </p>\n\n<pre><code>  var AdultPerson = function() {\n\n  var age;\n\n  this.setAge = function(val) {\n    // some housekeeping\n    age = val &gt;= 18 &amp;&amp; val;\n  };\n\n  this.getAge = function() {\n    return age;\n  };\n\n  this.isValid = function() {\n    return !!age;\n  };\n};\n</code></pre>\n\n<p>Now, the 'prototype' structure can be applied as following:</p>\n\n<p>Different adults have different ages, but all of the adults get the same rights.<br>\nSo, we add it using prototype, rather than this.</p>\n\n<pre><code>AdultPerson.prototype.getRights = function() {\n  // Should be valid\n  return this.isValid() &amp;&amp; ['Booze', 'Drive'];\n};\n</code></pre>\n\n<p>Let look at the implementation now.</p>\n\n<pre><code>var p1 = new AdultPerson;\np1.setAge(12); // ( age = false )\nconsole.log(p1.getRights()); // false ( Kid alert! )\np1.setAge(19); // ( age = 19 )\nconsole.log(p1.getRights()); // ['Booze', 'Drive'] ( Welcome AdultPerson )\n\nvar p2 = new AdultPerson;\np2.setAge(45);\n// The same getRights() method, *** not a new copy of it ***\nconsole.log(p2.getRights());\n</code></pre>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As discussed in other answers, it's really a performance consideration because the function in the prototype is shared with all of the instantiations - rather than the function being created for each instantiation.</p>\n\n<p>I put together a jsperf to show this. There is a dramatic difference in the time it takes to instantiate the class, although it is really only relevant if you are making many instances.</p>\n\n<p><a href=\"http://jsperf.com/functions-in-constructor-vs-prototype\" rel=\"nofollow\">http://jsperf.com/functions-in-constructor-vs-prototype</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What's the difference between</p>\n\n<pre><code>var A = function () {\n    this.x = function () {\n        //do something\n    };\n};\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var A = function () { };\nA.prototype.x = function () {\n    //do something\n};\n</code></pre>\n",
            "last_activity_date": 1419287046,
            "question_id": 310870,
            "score": 333,
            "tags": [
                "javascript"
            ],
            "title": "Use of &#39;prototype&#39; vs. &#39;this&#39; in JavaScript?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Well, the only thing that I can tell you about are getters:</p>\n\n<pre><code>var foo = {\n  a: 5,\n  b: 6,\n  get c () {\n    return this.a + this.b;\n  }\n};\n\nfoo.c; // 11\n</code></pre>\n\n<p>This is a syntactic extension introduced by the ECMAScript 5th Edition Specification, the syntax is supported by most modern browsers (including IE9).</p>\n",
                    "is_accepted": false,
                    "score": 89
                },
                {
                    "body": "<p>You could do something like:</p>\n\n<pre><code>var foo = {\n   a: 5,\n   b: 6,\n   init: function() {\n       this.c = this.a + this.b;\n       return this;\n   }\n}.init();\n</code></pre>\n\n<p>This would be some kind of one time initialization of the object.</p>\n\n<p>Note that you are actually assigning the return value of <code>init()</code> to <code>foo</code>, therefore you have to <code>return this</code>.</p>\n",
                    "is_accepted": true,
                    "score": 93
                },
                {
                    "body": "<p>There are several ways to accomplish this; this is what I would use:</p>\n\n<pre><code>function Obj() {\n this.a = 5;\n this.b = this.a + 1;\n // return this; // commented out because this happens automatically\n}\n\nvar o = new Obj();\no.b; // === 6\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The obvious, simple answer is missing, so for completeness:</p>\n\n<blockquote>\n  <p>But <em>is</em> there any way to have values in an object literal's properties depend on other properties declared earlier?</p>\n</blockquote>\n\n<p>No. All of the solutions here defer it until after the object is created (in various ways) and then assign the third property. The <em>simplest</em> way is to just do this:</p>\n\n<pre><code>var foo = {\n    a: 5,\n    b: 6\n};\nfoo.c = foo.a + foo.b;\n</code></pre>\n\n<p>All others are just more indirect ways to do the same thing. (Felix's is particularly clever, but requires creating and destroying a temporary function, adding complexity; and either leaves an extra property on the object or [if you <code>delete</code> that property] <a href=\"http://jsperf.com/test-dictionary-mode\">impacts the performance</a> of subsequent property accesses on that object.)</p>\n\n<p>If you need it to all be within one expression, you can do that without the temporary property:</p>\n\n<pre><code>var foo = function() {\n    var o = {\n        a: 5,\n        b: 6\n    };\n    o.c = o.a + o.b;\n    return o;\n}();\n</code></pre>\n\n<p>Or of course, if you need to do this more than once:</p>\n\n<pre><code>function buildFoo(a, b) {\n    var o = {a: a, b: b};\n    o.c = o.a + o.b;\n    return o;\n}\n</code></pre>\n\n<p>then where you need to use it:</p>\n\n<pre><code>var foo = buildFoo(5, 6);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<p>You can do it using the module pattern. Just like:</p>\n\n<pre><code>var foo = function() {\n  var that = {};\n\n  that.a = 7;\n  that.b = 6;\n\n  that.c = function() {\n    return that.a + that.b;\n  }\n\n  return that;\n};\nvar fooObject = foo();\nfooObject.c(); //13\n</code></pre>\n\n<p>With this pattern you can instantiate several foo objects according to your need.</p>\n\n<p><a href=\"http://jsfiddle.net/jPNxY/1/\">http://jsfiddle.net/jPNxY/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Simply instantiate an anonymous function:</p>\n\n<pre><code>var foo = new function () {\n    this.a = 5;\n    this.b = 6;\n    this.c = this.a + this.b;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You could do it like this</p>\n\n<pre><code>var a, b\nvar foo = {\n    a: a = 5,\n    b: b = 6,\n    c: a + b\n}\n</code></pre>\n\n<p>That method has proven useful to me when I had to refer to the object that a function was originally declared on. The following is a minimal example of how I used it:</p>\n\n<pre><code>function createMyObject() {\n    var count = 0, self\n    return {\n        a: self = {\n            log: function() {\n                console.log(count++)\n                return self\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>By defining self as the object that contains the print function you allow the function to refer to that object. This means you will not have to 'bind' the print function to an object if you need to pass it somewhere else. </p>\n\n<p>If you would, instead, use <code>this</code> as illustrated below</p>\n\n<pre><code>function createMyObject() {\n    var count = 0\n    return {\n        a: {\n            log: function() {\n                console.log(count++)\n                return this\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then the following code will log 0, 1, 2 and then give an error</p>\n\n<pre><code>var o = createMyObject()\nvar log = o.a.log\no.a.log().log() // this refers to the o.a object so the chaining works\nlog().log() // this refers to the window object so the chaining fails!\n</code></pre>\n\n<p>By using the self method you guarantee that print will always return the same object regardless of the context in which the function is ran. The code above will run just fine and log 0, 1, 2 and 3 when using the self version of <code>createMyObject()</code>. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Some closure should deal with this;</p>\n\n<pre><code>var foo = function() {\n    var a = 5;\n    var b = 6;\n    var c = a + b;\n\n    return {\n        a: a,\n        b: b,\n        c: c\n    }\n}();\n</code></pre>\n\n<p>All the variables declared within <code>foo</code> are private to <code>foo</code>, as you would expect with any function declaration and because they are all in scope, they all have access to each other without needing to refer to <code>this</code>, just as you would expect with a function.  The difference is that this function returns an object that exposes the private variables and assigns that object to <code>foo</code>.  In the end, you return just the interface you want to expose as an object with the <code>return {}</code> statement.</p>\n\n<p>The function is then executed at the end with the <code>()</code> which causes the entire foo object to be evaluated, all the variables within instantiated and the return object added as properties of <code>foo()</code>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The key to all this is <strong>SCOPE</strong>.</p>\n\n<p>You need to encapsulate the \"parent\" (parent object) of the property you want to define as it's own instantiated object, and then you can make references to sibling properties using the key word <code>this</code></p>\n\n<p>It's very, very <strong>important</strong> to remember that if you refer to <code>this</code> without first so doing, then <code>this</code> will refer to the outer scope... which will be the <code>window</code> object.</p>\n\n<pre><code>var x = 9   //this is really window.x\nvar bar = {\n  x: 1,\n  y: 2,\n  foo: new function(){\n    this.a: 5,\n    this.b: 6,\n    this.c = this.a + this.b;  // 11\n  }\n  z: this.x   // 9 (not 1 as you might expect, b/c *this* refers `window` object)\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Creating new function on your object literal and invoking a constructor seems a radical departure from the original problem, and it's unnecessary.  </p>\n\n<p>You cannot reference a sibling property during object literal initialization. </p>\n\n<pre><code>var x = { a: 1, b: 2, c: a + b } // not defined \nvar y = { a: 1, b: 2, c: y.a + y.b } // not defined \n</code></pre>\n\n<p>The simplest solution for computed properties follows (no heap, no functions, no constructor): </p>\n\n<pre><code>var x = { a: 1, b: 2 };\n\nx.c = x.a + x.b; // apply computed property\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there any way to get something like the following to work in JavaScript?</p>\n\n<pre><code>var foo = {\n    a: 5,\n    b: 6,\n    c: this.a + this.b  // Doesn't work\n};\n</code></pre>\n\n<p>In the current form, this code obviously throws a reference error since <code>this</code> doesn't refer to <code>foo</code>. But <em>is</em> there any way to have values in an object literal's properties depend on other properties declared earlier?</p>\n",
            "last_activity_date": 1425545820,
            "question_id": 4616202,
            "score": 103,
            "tags": [
                "javascript",
                "object-literal"
            ],
            "title": "Self-references in object literal declarations"
        },
        {
            "answer_count": 36,
            "answers": [
                {
                    "body": "<p>This way seems to work well:</p>\n\n<pre><code>function IsNumeric(input){\n    var RE = /^-{0,1}\\d*\\.{0,1}\\d+$/;\n    return (RE.test(input));\n}\n</code></pre>\n\n<p>And to test it:</p>\n\n<pre><code>// alert(TestIsNumeric());\n\nfunction TestIsNumeric(){\n    var results = ''\n    results += (IsNumeric('-1')?\"Pass\":\"Fail\") + \": IsNumeric('-1') =&gt; true\\n\";\n    results += (IsNumeric('-1.5')?\"Pass\":\"Fail\") + \": IsNumeric('-1.5') =&gt; true\\n\";\n    results += (IsNumeric('0')?\"Pass\":\"Fail\") + \": IsNumeric('0') =&gt; true\\n\";\n    results += (IsNumeric('0.42')?\"Pass\":\"Fail\") + \": IsNumeric('0.42') =&gt; true\\n\";\n    results += (IsNumeric('.42')?\"Pass\":\"Fail\") + \": IsNumeric('.42') =&gt; true\\n\";\n    results += (!IsNumeric('99,999')?\"Pass\":\"Fail\") + \": IsNumeric('99,999') =&gt; false\\n\";\n    results += (!IsNumeric('0x89f')?\"Pass\":\"Fail\") + \": IsNumeric('0x89f') =&gt; false\\n\";\n    results += (!IsNumeric('#abcdef')?\"Pass\":\"Fail\") + \": IsNumeric('#abcdef') =&gt; false\\n\";\n    results += (!IsNumeric('1.2.3')?\"Pass\":\"Fail\") + \": IsNumeric('1.2.3') =&gt; false\\n\";\n    results += (!IsNumeric('')?\"Pass\":\"Fail\") + \": IsNumeric('') =&gt; false\\n\";\n    results += (!IsNumeric('blah')?\"Pass\":\"Fail\") + \": IsNumeric('blah') =&gt; false\\n\";\n\n    return results;\n}\n</code></pre>\n\n<p>I borrowed that regex from <a href=\"http://www.codetoad.com/javascript/isnumeric.asp\">http://www.codetoad.com/javascript/isnumeric.asp</a>. Explanation:</p>\n\n<pre><code>/^ match beginning of string\n-{0,1} optional negative sign\n\\d* optional digits\n\\.{0,1} optional decimal point\n\\d+ at least one digit\n$/ match end of string\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>A couple of tests to add:</p>\n\n<pre><code>IsNumeric('01.05') =&gt; false\nIsNumeric('1.') =&gt; false\nIsNumeric('.') =&gt; false\n</code></pre>\n\n<p>I came up with this:</p>\n\n<pre><code>function IsNumeric(input) {\n    return /^-?(0|[1-9]\\d*|(?=\\.))(\\.\\d+)?$/.test(input);\n}\n</code></pre>\n\n<p>The solution covers:</p>\n\n<ul>\n<li>An optional negative sign at the beginning</li>\n<li>A single zero, or one or more digits not starting with 0, or nothing so long as a period follows</li>\n<li>A period that is followed by 1 or more numbers</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'd like to add the following:\n<pre><code>1. IsNumeric('0x89f') => true\n2. IsNumeric('075') => true\n</pre></code></p>\n\n<p>Positive hex numbers start with 0x and negative hex numbers start with -0x.\nPositive oct numbers start with 0 and negative oct numbers start with -0.\nThis one takes most of what has already been mentioned into consideration, but includes hex and octal numbers, negative scientific, Infinity and has removed decimal scientific (4e3.2 is not valid).</p>\n\n<pre><code>function IsNumeric(input){\n  var RE = /^-?(0|INF|(0[1-7][0-7]*)|(0x[0-9a-fA-F]+)|((0|[1-9][0-9]*|(?=[\\.,]))([\\.,][0-9]+)?([eE]-?\\d+)?))$/;\n  return (RE.test(input));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Use the function isNaN. I believe if you test for <code>!isNaN(yourstringhere)</code> it works fine for any of these situations.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Yeah, the built-in <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/isNaN\"><code>isNaN(object)</code></a> will be much faster than any regex parsing, because it's built-in and compiled, instead of interpreted on the fly.</p>\n\n<p>Although the results are somewhat different to what you're looking for (<a href=\"http://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_isnan\">try it</a>):</p>\n\n<pre><code>                                              // IS NUMERIC\ndocument.write(!isNaN('-1') + \"&lt;br /&gt;\");      // true\ndocument.write(!isNaN('-1.5') + \"&lt;br /&gt;\");    // true\ndocument.write(!isNaN('0') + \"&lt;br /&gt;\");       // true\ndocument.write(!isNaN('0.42') + \"&lt;br /&gt;\");    // true\ndocument.write(!isNaN('.42') + \"&lt;br /&gt;\");     // true\ndocument.write(!isNaN('99,999') + \"&lt;br /&gt;\");  // false\ndocument.write(!isNaN('0x89f') + \"&lt;br /&gt;\");   // true\ndocument.write(!isNaN('#abcdef') + \"&lt;br /&gt;\"); // false\ndocument.write(!isNaN('1.2.3') + \"&lt;br /&gt;\");   // false\ndocument.write(!isNaN('') + \"&lt;br /&gt;\");        // true\ndocument.write(!isNaN('blah') + \"&lt;br /&gt;\");    // false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>It can be done without RegExp as </p>\n\n<pre><code>function IsNumeric(data){\n    return parseFloat(data)==data;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Arrrgh!  Don't listen to the regular expression answers.  RegEx is icky for this, and I'm not talking just performance.  It's so easy to make subtle, impossible to spot mistakes with your regular expression.  </p>\n\n<p>If you can't use <code>isNaN()</code>, this should work much better:</p>\n\n<pre><code>function IsNumeric(input)\n{\n    return (input - 0) == input &amp;&amp; (''+input).trim().length &gt; 0;\n}\n</code></pre>\n\n<p>Here's how it works:</p>\n\n<p>The <code>(input - 0)</code> expression forces JavaScript to do type coercion on your input value; it must first be interpreted as a number for the subtraction operation.  If that conversion to a number fails, the expression will result in <code>NaN</code>.  This <em>numeric</em> result is then compared to the original value you passed in.  Since the left hand side is now numeric, type coercion is again used.  Now that the input from both sides was coerced to the same type from the same original value, you would think they should always be the same (always true). However, there's a special rule that says <code>NaN</code> is never equal to <code>NaN</code>, and so a value that can't be converted to a number (and only values that cannot be converted to numbers) will result in false. </p>\n\n<p>The check on the length is for a special case involving empty strings. Also note that it falls down on your 0x89f test, but that's because in many environments that's an okay way to define a number literal.  If you want to catch that specific scenario you could add an additional check.  Even better, if that's your reason for not using <code>isNaN()</code> then just wrap your own function around <code>isNaN()</code> that can also do the additional check.</p>\n\n<p>In summary, <strong><em>if you want to know if a value can be converted to a number, actually try to convert it to a number.</em></strong></p>\n\n<hr>\n\n<p>I went back and did some research for <em>why</em> a whitespace string did not have the expected output, and I think I get it now: an empty string is coerced to <code>0</code> rather than <code>NaN</code>. Simply trimming the string before the length check will handle this case.</p>\n\n<p>Running the unit tests against the new code and it only fails on the infinity and boolean literals, and the only time that should be a problem is if you're generating code (really, who would type in a literal and check if it's numeric? You should <em>know</em>), and that would be some strange code to generate.</p>\n\n<p>But, again, <strong>the only reason ever to use this is if for some reason you have to avoid isNaN().</strong></p>\n",
                    "is_accepted": false,
                    "score": 247
                },
                {
                    "body": "<p><a href=\"http://en.wikipedia.org/wiki/Yahoo!_UI_Library\">Yahoo! UI</a> uses this:</p>\n\n<pre><code>isNumber: function(o) {\n    return typeof o === 'number' &amp;&amp; isFinite(o);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<pre><code>function IsNumeric(num) {\n     return (num &gt;=0 || num &lt; 0);\n}\n</code></pre>\n\n<p>This works for 0x23 type numbers as well.</p>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/18082/validate-numbers-in-javascript-isnumeric/174921#174921\">@Joel's answer</a> is pretty close, but it will fail in the following cases:</p>\n\n<pre><code>// Whitespace strings:\nIsNumeric(' ') == true;\nIsNumeric('\\t\\t') == true;\nIsNumeric('\\n\\r') == true;\n\n// Number literals:\nIsNumeric(-1) == false;\nIsNumeric(0) == false;\nIsNumeric(1.1) == false;\nIsNumeric(8e5) == false;\n</code></pre>\n\n<p>Some time ago I had to implement an <code>IsNumeric</code> function, to find out if a variable contained a numeric value, <strong>regardless its type</strong>, it could be a <code>String</code> containing a numeric value (I had to consider also exponential notation, etc.), a <code>Number</code> object, virtually anything could be passed to that function, I couldn't make any type assumption,  taking care of type coercion (eg. <code>+true == 1;</code> but <code>true</code> shouldn't be considered as <code>\"numeric\"</code>).</p>\n\n<p>I think is worth sharing this set of <a href=\"http://dl.getdropbox.com/u/35146/js/tests/isNumber.html\"><strong>+30 unit tests</strong></a> made to numerous function implementations, and also share the one that passes all my tests:</p>\n\n<pre><code>function isNumber(n) {\n  return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\n}\n</code></pre>\n\n<p><strong>Update</strong> : \n<a href=\"https://github.com/jquery/jquery/blob/c869a1ef8a031342e817a2c063179a787ff57239/src/core.js#L214\">Here's how jQuery does it now (Mid-2014)</a> : </p>\n\n<pre><code>isNumeric: function( obj ) {\n    return !jQuery.isArray( obj ) &amp;&amp; (obj - parseFloat( obj ) + 1) &gt;= 0;\n}\n</code></pre>\n\n<p><strong>P.S.</strong> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN\">isNaN</a> &amp; <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isFinite\">isFinite</a> have a confusing behavior due to forced conversion to number. In ES6, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN\">Number.isNaN</a> &amp; <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite\">Number.isFinite</a> would fix these issues. Keep that in mind when using them. </p>\n",
                    "is_accepted": true,
                    "score": 2073
                },
                {
                    "body": "<p>To me, this is the best way:</p>\n\n<pre><code>isNumber : function(v){\n   return typeof v === 'number' &amp;&amp; isFinite(v);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This should work. Some of the functions provided here are flawed, also should be faster than any other function here.</p>\n\n<pre><code>        function isNumeric(n)\n        {\n            var n2 = n;\n            n = parseFloat(n);\n            return (n!='NaN' &amp;&amp; n2==n);\n        }\n</code></pre>\n\n<p>Explained:</p>\n\n<p>Create a copy of itself, then converts the number into float, then compares itself with the original number, if it is still a number, (whether integer or float) , and matches the original number, that means, it is indeed a number.</p>\n\n<p>It works with numeric strings as well as plain numbers. Does not work with hexadecimal numbers. </p>\n\n<p>Warning: use at your own risk, no guarantees.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The following may work as well.</p>\n\n<pre><code>function isNumeric(v) {\n         return v.length &gt; 0 &amp;&amp; !isNaN(v) &amp;&amp; v.search(/[A-Z]|[#]/ig) == -1;\n   };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<pre><code>return (input - 0) == input &amp;&amp; input.length &gt; 0;\n</code></pre>\n\n<p>didn't work for me. When I put in an alert and tested, <code>input.length</code> was 'undefined'. I think there is no property to check integer length. So what I did was</p>\n\n<pre><code>var temp = '' + input;\nreturn (input - 0) == input &amp;&amp; temp.length &gt; 0;\n</code></pre>\n\n<p>It worked fine.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>My solution,</p>\n\n<pre><code>function isNumeric(input) {\n    var number = /^\\-{0,1}(?:[0-9]+){0,1}(?:\\.[0-9]+){0,1}$/i;\n    var regex = RegExp(number);\n    return regex.test(input) &amp;&amp; input.length&gt;0;\n}\n</code></pre>\n\n<p>It appears to work in every situation, but I might be wrong.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>An integer value can be verified by:</p>\n\n<pre><code>function isNumeric(value) {\n    var bool = isNaN(+value));\n    bool = bool || (value.indexOf('.') != -1);\n    bool = bool || (value.indexOf(\",\") != -1);\n    return !bool;\n};\n</code></pre>\n\n<p>This way is easier and faster! All tests are checked!</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>@Zoltan Lengyel 'other locales' comment (Apr 26 at 2:14) in @CMS Dec answer (2 '09 at 5:36):</p>\n\n<p>I would recommend testing for typeof (n) === 'string':</p>\n\n<pre><code>    function isNumber(n) {\n        if (typeof (n) === 'string') {\n            n = n.replace(/,/, \".\");\n        }\n        return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\n    }\n</code></pre>\n\n<p>This extends Zoltans recommendation to not only be able to test \"localized numbers\" like  isNumber('12,50') but also \"pure\" numbers like isNumber(2011).</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>Well, I'm using this one I made...</p>\n\n<p>It's been working so far:</p>\n\n<pre><code>function checkNumber(value) {\n    if ( value % 1 == 0 )\n        return true;\n    else\n        return false;\n}\n</code></pre>\n\n<p>If you spot any problem with it, tell me, please.</p>\n\n<p>Like any numbers should be divisible by one with nothing left, I figured I could just use the module, and if you try dividing a string into a number the result wouldn't be that. So.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>If I'm not mistaken, this should match any valid JavaScript number value, excluding constants (Infinity, NaN) and the sign operators <code>+/-</code> (because they are not actually part of the number as far as I concerned, they are separate operators):</p>\n\n<p>I needed this for a tokenizer, where sending the number to JavaScript for evaluation wasn't an option... It's definitely not the shortest possible regular expression, but I believe it catches all the finer subtleties of JavaScript's number syntax.</p>\n\n<pre><code>/^(?:(?:(?:[1-9]\\d*|\\d)\\.\\d*|(?:[1-9]\\d*|\\d)?\\.\\d+|(?:[1-9]\\d*|\\d))(?:[e]\\d+)?|0[0-7]+|0x[0-9a-f]+)$/i\n</code></pre>\n\n<p>Valid numbers would include:</p>\n\n<ul>\n<li>0</li>\n<li>00</li>\n<li>01</li>\n<li>10</li>\n<li>0e1</li>\n<li>0e01</li>\n<li>.0</li>\n<li>0.</li>\n<li>.0e1</li>\n<li>0.e1</li>\n<li>0.e00</li>\n<li>0xf</li>\n<li>0Xf</li>\n</ul>\n\n<p>Invalid numbers would be</p>\n\n<ul>\n<li>00e1</li>\n<li>01e1</li>\n<li>00.0</li>\n<li>00x0</li>\n<li>.</li>\n<li>.e0</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I'm using simpler solution:</p>\n\n<pre><code>function isNumber(num) {\n    return parseFloat(num).toString() == num\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The simplest way for validate decimal numbers in JavaScript is:</p>\n\n<pre><code>function isDecimal(n){\n    if( (n!='') &amp;&amp; ((n-n) == 0) ){\n       return true;\n    }\n    else{\n       return false;\n    }\n}\n</code></pre>\n\n<p>When we call this function, it returns true for decimal numbers.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Here I've collected the \"good ones\" from this page and put them into a simple test pattern for you to evaluate on your own.</p>\n\n<p>For newbies, the \"console.log\" is a built in function (available in all normal browsers) that lets you output results to the JavaScript console (dig around, you'll find it) rather than having to output to your HTML page.</p>\n\n<pre><code>var isNumeric = function(val){\n    // --------------------------\n    // Recommended\n    // --------------------------\n\n    // jQuery - works rather well\n    // See CMS's unit test also: http://dl.getdropbox.com/u/35146/js/tests/isNumber.html\n    return !isNaN(parseFloat(val)) &amp;&amp; isFinite(val);\n\n    // Aquatic - good and fast, fails the \"0x89f\" test, but that test is questionable.\n    //return parseFloat(val)==val;\n\n    // --------------------------\n    // Other quirky options\n    // --------------------------\n    // Fails on \"\", null, newline, tab negative.\n    //return !isNaN(val);\n\n    // user532188 - fails on \"0x89f\"\n    //var n2 = val;\n    //val = parseFloat(val);\n    //return (val!='NaN' &amp;&amp; n2==val);\n\n    // Rafael - fails on negative + decimal numbers, may be good for isInt()?\n    // return ( val % 1 == 0 ) ? true : false;\n\n    // pottedmeat - good, but fails on stringy numbers, which may be a good thing for some folks?\n    //return /^-?(0|[1-9]\\d*|(?=\\.))(\\.\\d+)?$/.test(val);\n\n    // Haren - passes all\n    // borrowed from http://www.codetoad.com/javascript/isnumeric.asp\n    //var RE = /^-{0,1}\\d*\\.{0,1}\\d+$/;\n    //return RE.test(val);\n\n    // YUI - good for strict adherance to number type. Doesn't let stringy numbers through.\n    //return typeof val === 'number' &amp;&amp; isFinite(val);\n\n    // user189277 - fails on \"\" and \"\\n\"\n    //return ( val &gt;=0 || val &lt; 0);\n}\n\nvar tests = [0, 1, \"0\", 0x0, 0x000, \"0000\", \"0x89f\", 8e5, 0x23, -0, 0.0, \"1.0\", 1.0, -1.5, 0.42, '075', \"01\", '-01', \"0.\", \".0\", \"a\", \"a2\", true, false, \"#000\", '1.2.3', '#abcdef', '', \"\", \"\\n\", \"\\t\", '-', null, undefined];\n\nfor (var i=0; i&lt;tests.length; i++){\n    console.log( \"test \" + i + \":    \" + tests[i] + \"    \\t   \" + isNumeric(tests[i]) );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>Since jQuery 1.7, you can use <a href=\"http://api.jquery.com/jQuery.isNumeric/\"><code>jQuery.isNumeric()</code></a>:</p>\n\n<pre><code>$.isNumeric('-1');      // true\n$.isNumeric('-1.5');    // true\n$.isNumeric('0');       // true\n$.isNumeric('0.42');    // true\n$.isNumeric('.42');     // true\n$.isNumeric('0x89f');   // true (valid hexa number)\n$.isNumeric('99,999');  // false\n$.isNumeric('#abcdef'); // false\n$.isNumeric('1.2.3');   // false\n$.isNumeric('');        // false\n$.isNumeric('blah');    // false\n</code></pre>\n\n<p>Just note that unlike what you said, <code>0x89f</code> is a valid number (hexa)</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>The accepted answer failed your test #7 and I guess it's because you changed your mind. So this is a response to the accepted answer, with which I had issues.</p>\n\n<p>During some projects I have needed to validate some data and be as certain as possible that it is a javascript numerical value that can be used in mathematical operations.</p>\n\n<p>jQuery, and some other javascript libraries already include such a function, usually called isNumeric. There is also a <a href=\"http://stackoverflow.com/a/1830844/592253\">post on stackoverflow</a> that has been widely accepted as the answer, the same general routine that the afore mentioned libraries are using.</p>\n\n<pre><code>function isNumber(n) {\n  return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\n}\n</code></pre>\n\n<p>First, the code above would return true if the argument was an array of length 1, and that single element was of a type deemed as numeric by the above logic. In my opinion, if it's an array then its not numeric.</p>\n\n<p>To alleviate this problem, I added a check to discount arrays from the logic</p>\n\n<pre><code>function isNumber(n) {\n  return Object.prototype.toString.call(n) !== '[object Array]' &amp;&amp;!isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\n}\n</code></pre>\n\n<p>Of course, you could also use <code>Array.isArray</code>, jquery <code>$.isArray</code> or prototype <code>Object.isArray</code> instead of <code>Object.prototype.toString.call(n) !== '[object Array]'</code></p>\n\n<p>My second issue was that Negative Hexadecimal integer literal strings (\"-0xA\" -> -10) were not being counted as numeric. However, Positive Hexadecimal integer literal strings (\"0xA\" -> 10) were treated as numeric.\nI needed both to be valid numeric.</p>\n\n<p>I then modified the logic to take this into account.</p>\n\n<pre><code>function isNumber(n) {\n  return Object.prototype.toString.call(n) !== '[object Array]' &amp;&amp;!isNaN(parseFloat(n)) &amp;&amp; isFinite(n.toString().replace(/^-/, ''));\n}\n</code></pre>\n\n<p>If you are worried about the creation of the regex each time the function is called then you could rewrite it within a closure, something like this</p>\n\n<pre><code>var isNumber = (function () {\n  var rx = /^-/;\n\n  return function (n) {\n      return Object.prototype.toString.call(n) !== '[object Array]' &amp;&amp;!isNaN(parseFloat(n)) &amp;&amp; isFinite(n.toString().replace(rx, ''));\n  };\n}());\n</code></pre>\n\n<p>I then took CMSs <a href=\"http://dl.getdropbox.com/u/35146/js/tests/isNumber.html\" rel=\"nofollow\">+30 test cases</a> and cloned the <a href=\"http://jsfiddle.net/Xotic750/2q8pp/\" rel=\"nofollow\">testing on jsfiddle</a> added my extra test cases and my above described solution.</p>\n\n<p>It may not replace the widely accepted/used answer but if this is more of what you are expecting as results from your isNumeric function then hopefully this will be of some help.</p>\n\n<p><strong>EDIT:</strong> As pointed out by <a href=\"http://stackoverflow.com/a/15230431/592253\">Bergi</a>, there are other possible objects that could be considered numeric and it would be better to whitelist than blacklist. With this in mind I would add to the criteria.</p>\n\n<p>I want my isNumeric function to consider only Numbers or Strings</p>\n\n<p>With this in mind, it would be better to use</p>\n\n<pre><code>function isNumber(n) {\n  return (Object.prototype.toString.call(n) === '[object Number]' || Object.prototype.toString.call(n) === '[object String]') &amp;&amp;!isNaN(parseFloat(n)) &amp;&amp; isFinite(n.toString().replace(/^-/, ''));\n}\n</code></pre>\n\n<p><strong>Test the solutions</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var testHelper = function() {\r\n\r\n  var testSuite = function() {\r\n    test(\"Integer Literals\", function() {\r\n      ok(isNumber(\"-10\"), \"Negative integer string\");\r\n      ok(isNumber(\"0\"), \"Zero string\");\r\n      ok(isNumber(\"5\"), \"Positive integer string\");\r\n      ok(isNumber(-16), \"Negative integer number\");\r\n      ok(isNumber(0), \"Zero integer number\");\r\n      ok(isNumber(32), \"Positive integer number\");\r\n      ok(isNumber(\"040\"), \"Octal integer literal string\");\r\n      ok(isNumber(0144), \"Octal integer literal\");\r\n      ok(isNumber(\"-040\"), \"Negative Octal integer literal string\");\r\n      ok(isNumber(-0144), \"Negative Octal integer literal\");\r\n      ok(isNumber(\"0xFF\"), \"Hexadecimal integer literal string\");\r\n      ok(isNumber(0xFFF), \"Hexadecimal integer literal\");\r\n      ok(isNumber(\"-0xFF\"), \"Negative Hexadecimal integer literal string\");\r\n      ok(isNumber(-0xFFF), \"Negative Hexadecimal integer literal\");\r\n    });\r\n\r\n    test(\"Foating-Point Literals\", function() {\r\n      ok(isNumber(\"-1.6\"), \"Negative floating point string\");\r\n      ok(isNumber(\"4.536\"), \"Positive floating point string\");\r\n      ok(isNumber(-2.6), \"Negative floating point number\");\r\n      ok(isNumber(3.1415), \"Positive floating point number\");\r\n      ok(isNumber(8e5), \"Exponential notation\");\r\n      ok(isNumber(\"123e-2\"), \"Exponential notation string\");\r\n    });\r\n\r\n    test(\"Non-Numeric values\", function() {\r\n      equals(isNumber(\"\"), false, \"Empty string\");\r\n      equals(isNumber(\"        \"), false, \"Whitespace characters string\");\r\n      equals(isNumber(\"\\t\\t\"), false, \"Tab characters string\");\r\n      equals(isNumber(\"abcdefghijklm1234567890\"), false, \"Alphanumeric character string\");\r\n      equals(isNumber(\"xabcdefx\"), false, \"Non-numeric character string\");\r\n      equals(isNumber(true), false, \"Boolean true literal\");\r\n      equals(isNumber(false), false, \"Boolean false literal\");\r\n      equals(isNumber(\"bcfed5.2\"), false, \"Number with preceding non-numeric characters\");\r\n      equals(isNumber(\"7.2acdgs\"), false, \"Number with trailling non-numeric characters\");\r\n      equals(isNumber(undefined), false, \"Undefined value\");\r\n      equals(isNumber(null), false, \"Null value\");\r\n      equals(isNumber(NaN), false, \"NaN value\");\r\n      equals(isNumber(Infinity), false, \"Infinity primitive\");\r\n      equals(isNumber(Number.POSITIVE_INFINITY), false, \"Positive Infinity\");\r\n      equals(isNumber(Number.NEGATIVE_INFINITY), false, \"Negative Infinity\");\r\n      equals(isNumber(new Date(2009, 1, 1)), false, \"Date object\");\r\n      equals(isNumber(new Object()), false, \"Empty object\");\r\n      equals(isNumber(function() {}), false, \"Instance of a function\");\r\n      equals(isNumber([]), false, \"Empty Array\");\r\n      equals(isNumber([\"-10\"]), false, \"Array Negative integer string\");\r\n      equals(isNumber([\"0\"]), false, \"Array Zero string\");\r\n      equals(isNumber([\"5\"]), false, \"Array Positive integer string\");\r\n      equals(isNumber([-16]), false, \"Array Negative integer number\");\r\n      equals(isNumber([0]), false, \"Array Zero integer number\");\r\n      equals(isNumber([32]), false, \"Array Positive integer number\");\r\n      equals(isNumber([\"040\"]), false, \"Array Octal integer literal string\");\r\n      equals(isNumber([0144]), false, \"Array Octal integer literal\");\r\n      equals(isNumber([\"-040\"]), false, \"Array Negative Octal integer literal string\");\r\n      equals(isNumber([-0144]), false, \"Array Negative Octal integer literal\");\r\n      equals(isNumber([\"0xFF\"]), false, \"Array Hexadecimal integer literal string\");\r\n      equals(isNumber([0xFFF]), false, \"Array Hexadecimal integer literal\");\r\n      equals(isNumber([\"-0xFF\"]), false, \"Array Negative Hexadecimal integer literal string\");\r\n      equals(isNumber([-0xFFF]), false, \"Array Negative Hexadecimal integer literal\");\r\n      equals(isNumber([1, 2]), false, \"Array with more than 1 Positive interger number\");\r\n      equals(isNumber([-1, -2]), false, \"Array with more than 1 Negative interger number\");\r\n    });\r\n  }\r\n\r\n  var functionsToTest = [\r\n\r\n    function(n) {\r\n      return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\r\n    },\r\n\r\n    function(n) {\r\n      return !isNaN(n) &amp;&amp; !isNaN(parseFloat(n));\r\n    },\r\n\r\n    function(n) {\r\n      return !isNaN((n));\r\n    },\r\n\r\n    function(n) {\r\n      return !isNaN(parseFloat(n));\r\n    },\r\n\r\n    function(n) {\r\n      return typeof(n) != \"boolean\" &amp;&amp; !isNaN(n);\r\n    },\r\n\r\n    function(n) {\r\n      return parseFloat(n) === Number(n);\r\n    },\r\n\r\n    function(n) {\r\n      return parseInt(n) === Number(n);\r\n    },\r\n\r\n    function(n) {\r\n      return !isNaN(Number(String(n)));\r\n    },\r\n\r\n    function(n) {\r\n      return !isNaN(+('' + n));\r\n    },\r\n\r\n    function(n) {\r\n      return (+n) == n;\r\n    },\r\n\r\n    function(n) {\r\n      return n &amp;&amp; /^-?\\d+(\\.\\d+)?$/.test(n + '');\r\n    },\r\n\r\n    function(n) {\r\n      return isFinite(Number(String(n)));\r\n    },\r\n\r\n    function(n) {\r\n      return isFinite(String(n));\r\n    },\r\n\r\n    function(n) {\r\n      return !isNaN(n) &amp;&amp; !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\r\n    },\r\n\r\n    function(n) {\r\n      return parseFloat(n) == n;\r\n    },\r\n\r\n    function(n) {\r\n      return (n - 0) == n &amp;&amp; n.length &gt; 0;\r\n    },\r\n\r\n    function(n) {\r\n      return typeof n === 'number' &amp;&amp; isFinite(n);\r\n    },\r\n\r\n    function(n) {\r\n      return !Array.isArray(n) &amp;&amp; !isNaN(parseFloat(n)) &amp;&amp; isFinite(n.toString().replace(/^-/, ''));\r\n    }\r\n\r\n  ];\r\n\r\n\r\n  // Examines the functionsToTest array, extracts the return statement of each function\r\n  // and fills the toTest select element.\r\n  var fillToTestSelect = function() {\r\n    for (var i = 0; i &lt; functionsToTest.length; i++) {\r\n      var f = functionsToTest[i].toString();\r\n      var option = /[\\s\\S]*return ([\\s\\S]*);/.exec(f)[1];\r\n      $(\"#toTest\").append('&lt;option value=\"' + i + '\"&gt;' + (i + 1) + '. ' + option + '&lt;/option&gt;');\r\n    }\r\n  }\r\n\r\n  var performTest = function(functionNumber) {\r\n    reset(); // Reset previous test\r\n    $(\"#tests\").html(\"\"); //Clean test results\r\n    isNumber = functionsToTest[functionNumber]; // Override the isNumber global function with the one to test\r\n    testSuite(); // Run the test\r\n\r\n    // Get test results\r\n    var totalFail = 0;\r\n    var totalPass = 0;\r\n    $(\"b.fail\").each(function() {\r\n      totalFail += Number($(this).html());\r\n    });\r\n    $(\"b.pass\").each(function() {\r\n      totalPass += Number($(this).html());\r\n    });\r\n    $(\"#testresult\").html(totalFail + \" of \" + (totalFail + totalPass) + \" test failed.\");\r\n\r\n    $(\"#banner\").attr(\"class\", \"\").addClass(totalFail &gt; 0 ? \"fail\" : \"pass\");\r\n  }\r\n\r\n  return {\r\n    performTest: performTest,\r\n    fillToTestSelect: fillToTestSelect,\r\n    testSuite: testSuite\r\n  };\r\n}();\r\n\r\n\r\n$(document).ready(function() {\r\n  testHelper.fillToTestSelect();\r\n  testHelper.performTest(0);\r\n\r\n  $(\"#toTest\").change(function() {\r\n    testHelper.performTest($(this).children(\":selected\").val());\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://dl.getdropbox.com/u/35146/js/tests/testrunner.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\r\n&lt;link href=\"http://dl.getdropbox.com/u/35146/js/tests/testsuite.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\r\n&lt;h1&gt;isNumber Test Cases&lt;/h1&gt;\r\n\r\n&lt;h2 id=\"banner\" class=\"pass\"&gt;&lt;/h2&gt;\r\n\r\n&lt;h2 id=\"userAgent\"&gt;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11&lt;/h2&gt;\r\n\r\n&lt;div id=\"currentFunction\"&gt;&lt;/div&gt;\r\n\r\n&lt;div id=\"selectFunction\"&gt;\r\n  &lt;label for=\"toTest\" style=\"font-weight:bold; font-size:Large;\"&gt;Select function to test:&lt;/label&gt;\r\n  &lt;select id=\"toTest\" name=\"toTest\"&gt;\r\n    &lt;option value=\"0\"&gt;\r\n      1. !isNaN(parseFloat(n)) &amp;amp;&amp;amp; isFinite(n)\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"1\"&gt;\r\n      2. !isNaN(n) &amp;amp;&amp;amp; !isNaN(parseFloat(n))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"2\"&gt;\r\n      3. !isNaN((n))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"3\"&gt;\r\n      4. !isNaN(parseFloat(n))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"4\"&gt;\r\n      5. typeof(n) != \"boolean\" &amp;amp;&amp;amp; !isNaN(n)\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"5\"&gt;\r\n      6. parseFloat(n) === Number(n)\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"6\"&gt;\r\n      7. parseInt(n) === Number(n)\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"7\"&gt;\r\n      8. !isNaN(Number(String(n)))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"8\"&gt;\r\n      9. !isNaN(+('' + n))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"9\"&gt;\r\n      10. (+n) == n\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"10\"&gt;\r\n      11. n &amp;amp;&amp;amp; /^-?\\d+(\\.\\d+)?$/.test(n + '')\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"11\"&gt;\r\n      12. isFinite(Number(String(n)))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"12\"&gt;\r\n      13. isFinite(String(n))\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"13\"&gt;\r\n      14. !isNaN(n) &amp;amp;&amp;amp; !isNaN(parseFloat(n)) &amp;amp;&amp;amp; isFinite(n)\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"14\"&gt;\r\n      15. parseFloat(n) == n\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"15\"&gt;\r\n      16. (n - 0) == n &amp;amp;&amp;amp; n.length &amp;gt; 0\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"16\"&gt;\r\n      17. typeof n === 'number' &amp;amp;&amp;amp; isFinite(n)\r\n    &lt;/option&gt;\r\n\r\n    &lt;option value=\"17\"&gt;\r\n      18. !Array.isArray(n) &amp;amp;&amp;amp; !isNaN(parseFloat(n)) &amp;amp;&amp;amp; isFinite(n.toString().replace(/^-/, ''))\r\n    &lt;/option&gt;\r\n  &lt;/select&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"testCode\"&gt;&lt;/div&gt;\r\n\r\n&lt;ol id=\"tests\"&gt;\r\n  &lt;li class=\"pass\"&gt;\r\n    &lt;strong&gt;Integer Literals &lt;b style=\"color:black;\"&gt;(0, 10, 10)&lt;/b&gt;&lt;/strong&gt;\r\n\r\n    &lt;ol style=\"display: none;\"&gt;\r\n      &lt;li class=\"pass\"&gt;Negative integer string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Zero string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Positive integer string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Negative integer number&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Zero integer number&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Positive integer number&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Octal integer literal string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Octal integer literal&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Hexadecimal integer literal string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Hexadecimal integer literal&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n  &lt;/li&gt;\r\n\r\n  &lt;li class=\"pass\"&gt;\r\n    &lt;strong&gt;Foating-Point Literals &lt;b style=\"color:black;\"&gt;(0, 6, 6)&lt;/b&gt;&lt;/strong&gt;\r\n\r\n    &lt;ol style=\"display: none;\"&gt;\r\n      &lt;li class=\"pass\"&gt;Negative floating point string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Positive floating point string&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Negative floating point number&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Positive floating point number&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Exponential notation&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Exponential notation string&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n  &lt;/li&gt;\r\n\r\n  &lt;li class=\"pass\"&gt;\r\n    &lt;strong&gt;Non-Numeric values &lt;b style=\"color:black;\"&gt;(0, 18, 18)&lt;/b&gt;&lt;/strong&gt;\r\n\r\n    &lt;ol style=\"display: none;\"&gt;\r\n      &lt;li class=\"pass\"&gt;Empty string: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Whitespace characters string: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Tab characters string: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Alphanumeric character string: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Non-numeric character string: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Boolean true literal: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Boolean false literal: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Number with preceding non-numeric characters: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Number with trailling non-numeric characters: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Undefined value: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Null value: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;NaN value: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Infinity primitive: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Positive Infinity: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Negative Infinity: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Date object: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Empty object: false&lt;/li&gt;\r\n\r\n      &lt;li class=\"pass\"&gt;Instance of a function: false&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n  &lt;/li&gt;\r\n&lt;/ol&gt;\r\n\r\n&lt;div id=\"main\"&gt;\r\n  This page contains tests for a set of isNumber functions. To see them, take a look at the source.\r\n&lt;/div&gt;\r\n\r\n&lt;div&gt;\r\n  &lt;p class=\"result\"&gt;Tests completed in 0 milliseconds.\r\n    &lt;br&gt;0 tests of 0 failed.&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p><strong>knockoutJs Inbuild library validation functions</strong> </p>\n\n<p>By extending it the field get validated</p>\n\n<p>1.) number</p>\n\n<p>self.number = ko.observable(numberValue)<strong>.extend({ number: true})</strong>;</p>\n\n<p>TestCase</p>\n\n<pre><code>numberValue = '0.0'    --&gt; true\nnumberValue = '0'      --&gt; true\nnumberValue = '25'     --&gt; true\nnumberValue = '-1'     --&gt; true\nnumberValue = '-3.5'   --&gt; true\nnumberValue = '11.112' --&gt; true\nnumberValue = '0x89f'  --&gt; false\nnumberValue = ''       --&gt; false\nnumberValue = 'sfsd'   --&gt; false\nnumberValue = 'dg##$'  --&gt; false\n</code></pre>\n\n<p>2.)digit</p>\n\n<p>self.number = ko.observable(numberValue)<strong>.extend({ digit: true})</strong>;</p>\n\n<p>TestCase</p>\n\n<pre><code>numberValue = '0'      --&gt; true\nnumberValue = '25'     --&gt; true\nnumberValue = '0.0'    --&gt; false\nnumberValue = '-1'     --&gt; false\nnumberValue = '-3.5'   --&gt; false\nnumberValue = '11.112' --&gt; false\nnumberValue = '0x89f'  --&gt; false\nnumberValue = ''       --&gt; false\nnumberValue = 'sfsd'   --&gt; false\nnumberValue = 'dg##$'  --&gt; false\n</code></pre>\n\n<p>2.)min and max</p>\n\n<p>self.number = ko.observable(numberValue)<strong>.extend({ min: 5}).extend({ max: 10})</strong>;</p>\n\n<p>This field accept value between 5 and 10 only</p>\n\n<p>TestCase</p>\n\n<pre><code>numberValue = '5'    --&gt; true\nnumberValue = '6'    --&gt; true\nnumberValue = '6.5'  --&gt; true\nnumberValue = '9'    --&gt; true\nnumberValue = '11'   --&gt; false\nnumberValue = '0'    --&gt; false\nnumberValue = ''    --&gt; false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/18082/validate-numbers-in-javascript-isnumeric/1839844#1839844\">@CMS' answer</a>: Your snippet failed on whitespace cases on my machine using nodejs. So I combined it with \n<a href=\"http://stackoverflow.com/questions/18082/validate-numbers-in-javascript-isnumeric/174921#174921\">@joel's answer</a> to the following:</p>\n\n<pre><code>is_float = function(v) {\n    return !isNaN(v) &amp;&amp; isFinite(v) &amp;&amp;\n        (typeof(v) == 'number' || v.replace(/^\\s+|\\s+$/g, '').length &gt; 0);\n}\n</code></pre>\n\n<p>I unittested it with those cases that are floats:</p>\n\n<pre><code>var t = [\n        0,\n        1.2123,\n        '0',\n        '2123.4',\n        -1,\n        '-1',\n        -123.423,\n        '-123.432',\n        07,\n        0xad,\n        '07',\n        '0xad'\n    ];\n</code></pre>\n\n<p>and those cases that are no floats (including empty whitespaces and objects / arrays):</p>\n\n<pre><code>    var t = [\n        'hallo',\n        [],\n        {},\n        'jklsd0',\n        '',\n        \"\\t\",\n        \"\\n\",\n        ' '\n    ];\n</code></pre>\n\n<p>Everything works as expected here. Maybe this helps.</p>\n\n<p>Full source code for this can be found <a href=\"https://github.com/philippkemmeter/philfw/blob/master/lib/ValueChecker.js\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a lil bit improved version (probably the fastest way out there) that I use instead of exact jQuery's variant, I really don't know why don't they use this one:</p>\n\n<pre><code>function isNumeric(val) {\n    return !isNaN(+val) &amp;&amp; isFinite(val);\n}\n</code></pre>\n\n<p>The downside of jQuery's version is that if you pass a string with leading numerics and trailing letters like <code>\"123abc\"</code> the <code>parseFloat | parseInt</code> will extract the numeric fraction out and return 123, BUT, the second guard <code>isFinite</code> will fail it anyway.\nWith the unary <code>+</code> operator it will die on the very first guard since + throws NaN for such hybrids :)\nA little performance yet I think a solid semantic gain.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Only problem I had with @CMS's <a href=\"http://stackoverflow.com/a/1830844/623735\">answer</a> is the exclusion of NaN and Infinity, which are useful numbers for many situations. One way to check for NaN's is to check for numeric values that don't equal themselves, <code>NaN != NaN</code>!  So there are really 3 tests you'd like to deal with ...</p>\n\n<pre><code>function isNumber(n) {\n  n = parseFloat(n);\n  return !isNaN(n) || n != n;\n}\nfunction isFiniteNumber(n) {\n  n = parseFloat(n);\n  return !isNaN(n) &amp;&amp; isFinite(n);\n}    \nfunction isComparableNumber(n) {\n  n = parseFloat(n);\n  return (n &gt;=0 || n &lt; 0);\n}\n\nisFiniteNumber('NaN')\nfalse\nisFiniteNumber('OxFF')\ntrue\nisNumber('NaN')\ntrue\nisNumber(1/0-1/0)\ntrue\nisComparableNumber('NaN')\nfalse\nisComparableNumber('Infinity')\ntrue\n</code></pre>\n\n<p>My isComparableNumber is pretty close to another elegant <a href=\"http://stackoverflow.com/a/1561597/623735\">answer</a>, but handles hex and other string representations of numbers.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I found simple solution, probably not best but it's working fine :)</p>\n\n<p>So, what I do is next, I parse string to Int and check if length size of new variable which is now int type is same as length of original string variable. Logically if size is the same it means string is fully parsed to int and that is only possible if string is \"made\" only of numbers.</p>\n\n<pre><code>var val=1+$(e).val()+'';\nvar n=parseInt(val)+'';\nif(val.length == n.length )alert('Is int');\n</code></pre>\n\n<p>You can easily put that code in function and instead of alert use return true if int.\nRemember, if you use dot or comma in string you are checking it's still false cos you are parsing to int.</p>\n\n<p>Note: Adding 1+ on e.val so starting zero wouldn't be removed.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have run the following below and it passes all the test cases...</p>\n\n<p>It makes use of the different way in which parseFloat and Number handle their inputs...</p>\n\n<pre><code>function IsNumeric(_in) {\n    if (parseFloat(_in) === Number(_in) &amp;&amp; Number(_in) !== NaN)\n        return true;\n     return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The following seems to works fine for many cases:</p>\n\n<pre><code>function isNumeric(num) {\n    return (num &gt; 0 || num === 0 || num === '0' || num &lt; 0) &amp;&amp; num !== true &amp;&amp; isFinite(num);\n}\n</code></pre>\n\n<p>This is built on top of this answer (which is for this answer too):\n<a href=\"http://stackoverflow.com/a/1561597/1985601\">http://stackoverflow.com/a/1561597/1985601</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I realize the original question did not mention jQuery, but if you do use jQuery, you can do:</p>\n\n<pre><code>$.isNumeric(val)\n</code></pre>\n\n<p>Simple.</p>\n\n<p><a href=\"https://api.jquery.com/jQuery.isNumeric/\" rel=\"nofollow\">https://api.jquery.com/jQuery.isNumeric/</a> (as of jQuery 1.7)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I realize this has been answered many times, but the following is a decent candidate which can be useful in some scenarios.</p>\n\n<p>it should be noted that it assumes that '.42' is NOT a number, and '4.' is NOT a number, so this should be taken into account.</p>\n\n<pre><code>function isDecimal(x) {\n  return return '' + x === '' + +x;\n}\n\nfunction isInteger(x) {\n  return return '' + x === '' + parseInt(x);\n}\n</code></pre>\n\n<p>The <code>isDecimal</code> passes the following test:</p>\n\n<pre><code>function testIsNumber(f) {\n  return f('-1') &amp;&amp; f('-1.5') &amp;&amp; f('0') &amp;&amp; f('0.42')\n    &amp;&amp; !f('.42') &amp;&amp; !f('99,999') &amp;&amp; !f('0x89f')\n    &amp;&amp; !f('#abcdef') &amp;&amp; !f('1.2.3') &amp;&amp; !f('') &amp;&amp; !f('blah');\n}\n</code></pre>\n\n<p>The idea here is that every number or integer has one \"canonical\" string representation, and every non-canonical representation should be rejected. So we cast to a number and back, and see if the result is the original string.</p>\n\n<p>Whether these functions are useful for you depends on the use case. One feature is that <em>distinct strings represent distinct numbers</em> (if both pass the <code>isNumber()</code> test).</p>\n\n<p>This is relevant e.g. for numbers as object property names.</p>\n\n<pre><code>var obj = {};\nobj['4'] = 'canonical 4';\nobj['04'] = 'alias of 4';\nobj[4];  // prints 'canonical 4' to the console.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use this way to chack that varible is numeric:</p>\n\n<pre><code>v * 1 == v\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function isNumber(n) {\n    return (n===n+''||n===n-0) &amp;&amp; n*0==0 &amp;&amp; /\\S/.test(n);\n}\n</code></pre>\n\n<p>Explanations:</p>\n\n<p>(n===n-0||n===n+'') verifies if n is a number or a string (discards arrays, boolean, date, null, ...). You can replace (n===n-0||n===n+'') by n!==undefined &amp;&amp; n!==null &amp;&amp; (n.constructor===Number||n.constructor===String): significantly faster but less concise.</p>\n\n<p>n*0==0 verifies if n is a finite number as isFinite(n) does. If you need to check strings that represent negative hexadecimal, just replace n*0==0 by something like n.toString().replace(/^\\s*-/,'')*0==0. It costs a little of course, so if you don't need it, don't use it.</p>\n\n<p>/\\S/.test(n) discards empty strings or strings that contain only white-spaces (necessary since isFinite(n) or n*0==0 return a false positive in this case). You can reduce the number of call to .test(n) by using (n!=0||/0/.test(n)) instead of /\\S/.test(n), or you can use a slightly faster but less concise test such as (n!=0||(n+'').indexOf('0')>=0): tiny improvement.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>None of the answers return false for empty strings, a fix for that...</p>\n\n<pre><code>function is_numeric(n)\n{\n var r = false;\n if (n!='' &amp;&amp; !isNaN(parseFloat(n)) &amp;&amp; isFinite(n)) {r = true;}\n\n return r;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What's the cleanest, most effective way to validate decimal numbers in JavaScript?</p>\n\n<p>Bonus points for:</p>\n\n<ol>\n<li>Clarity. Solution should be clean and simple.</li>\n<li>Cross-platform.</li>\n</ol>\n\n<p>Test cases:</p>\n\n<pre><code> 01. IsNumeric('-1') =&gt; true\n 02. IsNumeric('-1.5') =&gt; true\n 03. IsNumeric('0') =&gt; true\n 04. IsNumeric('0.42') =&gt; true\n 05. IsNumeric('.42') =&gt; true\n 06. IsNumeric('99,999') =&gt; false\n 07. IsNumeric('0x89f') =&gt; false\n 08. IsNumeric('#abcdef')=&gt; false\n 09. IsNumeric('1.2.3') =&gt; false\n 10. IsNumeric('') =&gt; false\n 11. IsNumeric('blah') =&gt; false\n</code></pre>\n",
            "last_activity_date": 1425502660,
            "question_id": 18082,
            "score": 1291,
            "tags": [
                "javascript",
                "validation",
                "numbers"
            ],
            "title": "Validate decimal numbers in JavaScript - IsNumeric()"
        },
        {
            "answer_count": 36,
            "answers": [
                {
                    "body": "<p>From this article: <a href=\"http://my.opera.com/GreyWyvern/blog/show.dml/1725165\" rel=\"nofollow\">How to copy arrays and objects in Javascript</a> by Brian Huisman:</p>\n\n<pre><code>Object.prototype.clone = function() {\n  var newObj = (this instanceof Array) ? [] : {};\n  for (var i in this) {\n    if (i == 'clone') continue;\n    if (this[i] &amp;&amp; typeof this[i] == \"object\") {\n      newObj[i] = this[i].clone();\n    } else newObj[i] = this[i]\n  } return newObj;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Here is a function you can use. </p>\n\n<pre><code>function clone(obj) {\n    if(obj == null || typeof(obj) != 'object')\n        return obj;    \n    var temp = new obj.constructor(); \n    for(var key in obj)\n        temp[key] = clone(obj[key]);    \n    return temp;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If there are no circular dependencies in your object, I suggest using one of the other answers or <a href=\"http://stackoverflow.com/questions/122102/what-is-the-most-efficent-way-to-clone-a-javascript-object/122704#122704\">jQuery's copy methods</a>, as they all seem quite effective.</p>\n\n<p>If there are circular dependencies (i.e., two sub-objects link to each other), you are kind of screwed as there is (from a theoretical perspective) <a href=\"http://stackoverflow.com/questions/597588/how-do-you-clone-an-array-of-objects-in-javascript/597726#597726\">no way to solve this issue elegantly</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Using <a href=\"http://prototypejs.org\" rel=\"nofollow\">Prototype</a> framework:  </p>\n\n<pre><code>var y = Object.clone(x);\n</code></pre>\n\n<p>Considering <a href=\"http://www.prototypejs.org/api/object/clone\" rel=\"nofollow\">clone</a> implementation:  </p>\n\n<pre><code>...\nObject.extend = function(destination, source) {\n  for (var property in source)\n    destination[property] = source[property];\n  return destination;\n};\n...\nclone: function(object) {\n    return Object.extend({ }, object);\n  }\n...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>From the <a href=\"http://developer.apple.com/DOCUMENTATION/ScriptingAutomation/Conceptual/JSCodingGuide/OOJavaScript/OOJavaScript.html#//apple%5Fref/doc/uid/TP40006539-SW3\" rel=\"nofollow\">Apple JavaScript Coding Guidelines</a>:</p>\n\n<pre><code>// Create an inner object with a variable x whose default\n// value is 3.\nfunction innerObj()\n{\n        this.x = 3;\n}\ninnerObj.prototype.clone = function() {\n    var temp = new innerObj();\n    for (myvar in this) {\n        // this object does not contain any objects, so\n        // use the lightweight copy code.\n        temp[myvar] = this[myvar];\n    }\n    return temp;\n}\n\n// Create an outer object with a variable y whose default\n// value is 77.\nfunction outerObj()\n{\n        // The outer object contains an inner object.  Allocate it here.\n        this.inner = new innerObj();\n        this.y = 77;\n}\nouterObj.prototype.clone = function() {\n    var temp = new outerObj();\n    for (myvar in this) {\n        if (this[myvar].clone) {\n            // This variable contains an object with a\n            // clone operator.  Call it to create a copy.\n            temp[myvar] = this[myvar].clone();\n        } else {\n            // This variable contains a scalar value,\n            // a string value, or an object with no\n            // clone function.  Assign it directly.\n            temp[myvar] = this[myvar];\n        }\n    }\n    return temp;\n}\n\n// Allocate an outer object and assign non-default values to variables in\n// both the outer and inner objects.\nouter = new outerObj;\nouter.inner.x = 4;\nouter.y = 16;\n\n// Clone the outer object (which, in turn, clones the inner object).\nnewouter = outer.clone();\n\n// Verify that both values were copied.\nalert('inner x is '+newouter.inner.x); // prints 4\nalert('y is '+newouter.y); // prints 16\n</code></pre>\n\n<p>Steve</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>To do this for any object in JavaScript will not be simple or straightforward. You will run into the problem of erroneously picking up attributes from the object's prototype that should be left in the prototype and not copied to the new instance. If, for instance, you are adding a <strong>clone</strong> method to <strong>Object.prototype</strong>, as some answers depict, you will need to explicitly skip that attribute. But what if there are other additional methods added to <strong>Object.prototype</strong>, or other intermediate prototypes, that you don't know about? In that case, you will copy attributes you shouldn't, so you need to detect unforeseen, non-local attributes with the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Object/hasOwnProperty\">hasOwnProperty</a> method.</p>\n\n<p>In addition to non-enumerable attributes, you'll encounter a tougher problem when you try to copy objects that have hidden properties. For example, <strong>prototype</strong> is a hidden property of a function. Also, an object's prototype is referenced with the attribute <strong>__proto__</strong>, which is also hidden, and will not be copied by a for/in loop iterating over the source object's attributes. I think <strong>__proto__</strong> might be specific to Firefox's JavaScript interpreter and it may be something different in other browsers, but you get the picture. Not everything is enumerable. You can copy a hidden attribute if you know its name, but I don't know of any way to discover it automatically.</p>\n\n<p>Yet another snag in the quest for an elegant solution is the problem of setting up the prototype inheritance correctly. If your source object's prototype is <strong>Object</strong>, then simply creating a new general object with {} will work, but if the source's prototype is some descendant of <strong>Object</strong>, then you are going to be missing the additional members from that prototype which you skipped using the <strong>hasOwnProperty</strong> filter, or which were in the prototype, but weren't enumerable in the first place. One solution might be to call the source object's <strong>constructor</strong> property to get the initial copy object and then copy over the attributes, but then you still will not get non-enumerable attributes. For example, a <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date\">Date</a> object stores its data as a hidden member:</p>\n\n<pre><code>function clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor();\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n    return copy;\n}\n\nvar d1 = new Date();\n\n/* Wait for 5 seconds. */\nvar start = (new Date()).getTime();\nwhile ((new Date()).getTime() - start &lt; 5000);\n\n\nvar d2 = clone(d1);\nalert(\"d1 = \" + d1.toString() + \"\\nd2 = \" + d2.toString());\n</code></pre>\n\n<p>The date string for d1 will be 5 seconds behind that of d2. A way to make one Date the same as another is by calling the <strong>setTime</strong> method, but that is specific to the Date class. I don't think there is a bullet-proof general solution to this problem, though I would be happy to be wrong!</p>\n\n<p>When I had to implement general deep copying I ended up compromising by assuming that I would only need to copy a plain <strong>Object</strong>, <strong>Array</strong>, <strong>Date</strong>, <strong>String</strong>, <strong>Number</strong>, or <strong>Boolean</strong>. The last 3 types are immutable, so I could perform a shallow copy and not worry about it changing. I further assumed that any elements contained in Object or Array would also be one of the 6 simple types in that list. This can be accomplished with code like the following:</p>\n\n<pre><code>function clone(obj) {\n    var copy;\n\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i &lt; len; i++) {\n            copy[i] = clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n</code></pre>\n\n<p>The above function will work adequately for the 6 simple types I mentioned, as long as the data in the objects and arrays form a tree structure. That is, there isn't more than one reference to the same data in the object. For example:</p>\n\n<pre><code>// This would be cloneable:\nvar tree = {\n    \"left\"  : { \"left\" : null, \"right\" : null, \"data\" : 3 },\n    \"right\" : null,\n    \"data\"  : 8\n};\n\n// This would kind-of work, but you would get 2 copies of the \n// inner node instead of 2 references to the same copy\nvar directedAcylicGraph = {\n    \"left\"  : { \"left\" : null, \"right\" : null, \"data\" : 3 },\n    \"data\"  : 8\n};\ndirectedAcyclicGraph[\"right\"] = directedAcyclicGraph[\"left\"];\n\n// Cloning this would cause a stack overflow due to infinite recursion:\nvar cylicGraph = {\n    \"left\"  : { \"left\" : null, \"right\" : null, \"data\" : 3 },\n    \"data\"  : 8\n};\ncylicGraph[\"right\"] = cylicGraph;\n</code></pre>\n\n<p>It will not be able to handle any JavaScript object, but it may be sufficient for many purposes as long as you don't assume that it will just work for anything you throw at it.</p>\n",
                    "is_accepted": true,
                    "score": 581
                },
                {
                    "body": "<p>One particular \"un-elegant\" solution is to use JSON encoding to make deep copies of objects that do not have member methods. The methodology is to JSON encode your target object, then by decoding it, you get the copy you are looking for.  You can decode as many times as you want to make as many copies as you need.</p>\n\n<p>Of course, functions do not belong in JSON, so this only works for objects without member methods.</p>\n\n<p>This methodology was perfect for my use case, since I'm storing JSON blobs in a key-value store, and when they are exposed as objects in a JavaScript API, each object actually contains a copy of the original state of the object so we can calculate the delta after the caller has mutated the exposed object.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>With jQuery, you can shallow copy with:</p>\n\n<pre><code>var copiedObject = jQuery.extend({}, originalObject)\n</code></pre>\n\n<p>subsequent changes to the copiedObject will not affect the originalObject, and vice versa. See comment for deep copy.</p>\n",
                    "is_accepted": false,
                    "score": 298
                },
                {
                    "body": "<p>A.Levy's answer is almost complete, here is my little contribution: <strong>there is a way how to handle recursive references</strong>, see this line</p>\n\n<p><code>if(this[attr]==this) copy[attr] = copy;</code></p>\n\n<p>If the object is XML DOM element, we must use <strong>cloneNode</strong> instead</p>\n\n<p><code>if(this.cloneNode) return this.cloneNode(true);</code></p>\n\n<p>Inspired by A.Levy's exhaustive study and Calvin's prototyping approach, I offer this solution:</p>\n\n<pre><code>Object.prototype.clone = function() {\n  if(this.cloneNode) return this.cloneNode(true);\n  var copy = this instanceof Array ? [] : {};\n  for(var attr in this) {\n    if(typeof this[attr] == \"function\" || this[attr]==null || !this[attr].clone)\n      copy[attr] = this[attr];\n    else if(this[attr]==this) copy[attr] = copy;\n    else copy[attr] = this[attr].clone();\n  }\n  return copy;\n}\n\nDate.prototype.clone = function() {\n  var copy = new Date();\n  copy.setTime(this.getTime());\n  return copy;\n}\n\nNumber.prototype.clone = \nBoolean.prototype.clone =\nString.prototype.clone = function() {\n  return this;\n}\n</code></pre>\n\n<p>See also Andy Burke's note in the answers.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>There are many answers, but none that mentions <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create\">Object.create</a> from ECMAScript 5, which admittedly does not give you an exact copy, but sets the source as the prototype of the new object.</p>\n\n<p>Thus, this is not an exact answer to the question, but it is a one-line solution and thus elegant. And it works best for 2 cases:</p>\n\n<ol>\n<li>Where such inheritance is useful (duh!)</li>\n<li>Where the source object won't be modified, thus making the relation between the 2 objects a non issue.</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>var foo = { a : 1 };\nvar bar = Object.create(foo);\nfoo.a; // 1\nbar.a; // 1\nfoo.a = 2;\nbar.a; // 2 - prototype changed\nbar.a = 3;\nfoo.a; // Still 2, since setting bar.a makes it an \"own\" property\n</code></pre>\n\n<p>Why do I consider this solution to be superior? It's native, thus no looping, no recursion. However, older browsers will need a polyfill.</p>\n",
                    "is_accepted": false,
                    "score": 62
                },
                {
                    "body": "<p>Jan Turo\u0148's answer above is very close, and may be the best to use in a browser due to compatibility issues, but it will potentially cause some strange enumeration issues.  For instance, executing:</p>\n\n<pre><code>for ( var i in someArray ) { ... }\n</code></pre>\n\n<p>Will assign the clone() method to i after iterating through the elements of the array.  Here's an adaptation that avoids the enumeration and works with node.js:</p>\n\n<pre><code>Object.defineProperty( Object.prototype, \"clone\", {\n    value: function() {\n        if ( this.cloneNode )\n        {\n            return this.cloneNode( true );\n        }\n\n        var copy = this instanceof Array ? [] : {};\n        for( var attr in this )\n        {\n            if ( typeof this[ attr ] == \"function\" || this[ attr ] == null || !this[ attr ].clone )\n            {\n                copy[ attr ] = this[ attr ];\n            }\n            else if ( this[ attr ] == this )\n            {\n                copy[ attr ] = copy;\n            }\n            else\n            {\n                copy[ attr ] = this[ attr ].clone();\n            }\n        }\n        return copy;\n    }\n});\n\nObject.defineProperty( Date.prototype, \"clone\", {\n    value: function() {\n        var copy = new Date();\n        copy.setTime( this.getTime() );\n        return copy;\n    }\n});\n\nObject.defineProperty( Number.prototype, \"clone\", { value: function() { return this; } } );\nObject.defineProperty( Boolean.prototype, \"clone\", { value: function() { return this; } } );\nObject.defineProperty( String.prototype, \"clone\", { value: function() { return this; } } );\n</code></pre>\n\n<p>This avoids making the clone() method enumerable because defineProperty() defaults enumerable to false.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can clone an object and remove any reference from the previous one using a single line of code. Simply do:</p>\n\n<pre><code>var obj1 = { text: 'moo1' };\nvar obj2 = Object.create(obj1); // Creates a new clone without references\n\nobj2.text = 'moo2'; // Only updates obj2's text property\n\nconsole.log(obj1, obj2); // Outputs: obj1: {text:'moo1'}, obj2: {text:'moo2'}\n</code></pre>\n\n<p>For browsers / engines that do not currently support Object.create you can use this polyfill:</p>\n\n<pre><code>// Polyfill Object.create if it does not exist\nif (!Object.create) {\n    Object.create = function (o) {\n        var F = function () {};\n        F.prototype = o;\n        return new F();\n    };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I just wanted to add to all the <code>Object.create</code> solutions in this post, that this does not work in the desired way with nodejs. </p>\n\n<p>In Firefox the result of</p>\n\n<pre><code>var a = {\"test\":\"test\"};\nvar b = Object.create(a);\nconsole.log(b);\u00b4\n</code></pre>\n\n<p>is </p>\n\n<p><code>{test:\"test\"}</code>.</p>\n\n<p>In nodejs it is </p>\n\n<pre><code>{}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you do not use functions within your object, a very simple one liner can be the following:</p>\n\n<pre><code>var clone_of_a = JSON.parse( JSON.stringify( a ) );\n</code></pre>\n\n<p>This works for all kind of objects containing objects, arrays, strings, booleans and numbers.</p>\n\n<p>See also <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/The_structured_clone_algorithm\">this article about the structured clone algorythm of browsers</a> which is used when posting messages to and from a worker. It also contains a Funktion for deep cloning.</p>\n",
                    "is_accepted": false,
                    "score": 128
                },
                {
                    "body": "<p>If you're okay with a shallow copy, the underscore.js library has a <a href=\"http://underscorejs.org/#clone\">clone</a> method.</p>\n\n<pre><code>y = _.clone(x);\n</code></pre>\n\n<p>or you can extend it like</p>\n\n<pre><code>copiedObject = _.extend({},originalObject);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>One thing is certain... there is no elegant way. My contribution here is this link\n<a href=\"http://oranlooney.com/deep-copy-javascript/\" rel=\"nofollow\">http://oranlooney.com/deep-copy-javascript/</a></p>\n\n<p>I think this library is the most comprehensive and elegant solution. It is particularly focused on the prototype chain of the cloned objects. It includes a mechanism to easy describe custom cloning behavior for particular classes. The author explains that most of the time the default cloning mechanism which is provided works fine.</p>\n\n<p>It also clones functions and handles cycles or multiple references.</p>\n\n<p>I have recently suggested the author a solution to optimize the mechanism which handles cycles, from O(n^2) to O(n).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is an adaptation of A. Levy's code to also handle the cloning of functions and multiple/cyclic references - what this means is that if two properties in the tree which is cloned are references of the same object, the cloned object tree will have these properties point to one and the same clone of the referenced object. This also solves the case of cyclic dependencies which, if left unhandled, leads to an infinite loop. The complexity of the algorithm is O(n)</p>\n\n<pre><code>function clone(obj){\n    var clonedObjectsArray = [];\n    var originalObjectsArray = []; //used to remove the unique ids when finished\n    var next_objid = 0;\n\n    function objectId(obj) {\n        if (obj == null) return null;\n        if (obj.__obj_id == undefined){\n            obj.__obj_id = next_objid++;\n            originalObjectsArray[obj.__obj_id] = obj;\n        }\n        return obj.__obj_id;\n    }\n\n    function cloneRecursive(obj) {\n        if (null == obj || typeof obj == \"string\" || typeof obj == \"number\" || typeof obj == \"boolean\") return obj;\n\n        // Handle Date\n        if (obj instanceof Date) {\n            var copy = new Date();\n            copy.setTime(obj.getTime());\n            return copy;\n        }\n\n        // Handle Array\n        if (obj instanceof Array) {\n            var copy = [];\n            for (var i = 0; i &lt; obj.length; ++i) {\n                copy[i] = cloneRecursive(obj[i]);\n            }\n            return copy;\n        }\n\n        // Handle Object\n        if (obj instanceof Object) {\n            if (clonedObjectsArray[objectId(obj)] != undefined)\n                return clonedObjectsArray[objectId(obj)];\n\n            var copy;\n            if (obj instanceof Function)//Handle Function\n                copy = function(){return obj.apply(this, arguments);};\n            else\n                copy = {};\n\n            clonedObjectsArray[objectId(obj)] = copy;\n\n            for (var attr in obj)\n                if (attr != \"__obj_id\" &amp;&amp; obj.hasOwnProperty(attr))\n                    copy[attr] = cloneRecursive(obj[attr]);                 \n\n            return copy;\n        }       \n\n\n        throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n    }\n    var cloneObj = cloneRecursive(obj);\n\n\n\n    //remove the unique ids\n    for (var i = 0; i &lt; originalObjectsArray.length; i++)\n    {\n        delete originalObjectsArray[i].__obj_id;\n    };\n\n    return cloneObj;\n}\n</code></pre>\n\n<p>Some quick tests</p>\n\n<pre><code>var auxobj = {\n    prop1 : \"prop1 aux val\", \n    prop2 : [\"prop2 item1\", \"prop2 item2\"]\n    };\n\nvar obj = new Object();\nobj.prop1 = \"prop1_value\";\nobj.prop2 = [auxobj, auxobj, \"some extra val\", undefined];\nobj.nr = 3465;\nobj.bool = true;\n\nobj.f1 = function (){\n    this.prop1 = \"prop1 val changed by f1\";\n};\n\nobjclone = clone(obj);\n\n//some tests i've made\nconsole.log(\"test number, boolean and string cloning: \" + (objclone.prop1 == obj.prop1 &amp;&amp; objclone.nr == obj.nr &amp;&amp; objclone.bool == obj.bool));\n\nobjclone.f1();\nconsole.log(\"test function cloning 1: \" + (objclone.prop1 == 'prop1 val changed by f1'));\nobjclone.f1.prop = 'some prop';\nconsole.log(\"test function cloning 2: \" + (obj.f1.prop == undefined));\n\nobjclone.prop2[0].prop1 = \"prop1 aux val NEW\";\nconsole.log(\"test multiple references cloning 1: \" + (objclone.prop2[1].prop1 == objclone.prop2[0].prop1));\nconsole.log(\"test multiple references cloning 2: \" + (objclone.prop2[1].prop1 != obj.prop2[0].prop1));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function clone(src, deep) {\n\n    var toString = Object.prototype.toString;\n    if(!src &amp;&amp; typeof src != \"object\"){\n        //any non-object ( Boolean, String, Number ), null, undefined, NaN\n        return src;\n    }\n\n    //Honor native/custom clone methods\n    if(src.clone &amp;&amp; toString.call(src.clone) == \"[object Function]\"){\n        return src.clone(deep);\n    }\n\n    //DOM Elements\n    if(src.nodeType &amp;&amp; toString.call(src.cloneNode) == \"[object Function]\"){\n        return src.cloneNode(deep);\n    }\n\n    //Date\n    if(toString.call(src) == \"[object Date]\"){\n        return new Date(src.getTime());\n    }\n\n    //RegExp\n    if(toString.call(src) == \"[object RegExp]\"){\n        return new RegExp(src);\n    }\n\n    //Function\n    if(toString.call(src) == \"[object Function]\"){\n        //Wrap in another method to make sure == is not true;\n        //Note: Huge performance issue due to closures, comment this :)\n        return (function(){\n            src.apply(this, arguments);\n        });\n\n    }\n\n    var ret, index;\n    //Array\n    if(toString.call(src) == \"[object Array]\"){\n        //[].slice(0) would soft clone\n        ret = src.slice();\n        if(deep){\n            index = ret.length;\n            while(index--){\n                ret[index] = clone(ret[index], true);\n            }\n        }\n    }\n    //Object\n    else {\n        ret = src.constructor ? new src.constructor() : {};\n        for (var prop in src) {\n            ret[prop] = deep\n                ? clone(src[prop], true)\n                : src[prop];\n        }\n    }\n\n    return ret;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Since <a href=\"http://stackoverflow.com/users/49695/mindeavor\">mindeavor</a> stated that the object to be cloned is a 'literal-constructed' object, a solution might be to simply <em>generate</em> the object multiple times rather than cloning an instance of the object:</p>\n\n<pre><code>function createMyObject()\n{\n    var myObject =\n    {\n        ...\n    };\n    return myObject;\n}\n\nvar myObjectInstance1 = createMyObject();\nvar myObjectInstance2 = createMyObject();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Using Lodash: </p>\n\n<pre><code>var y = _.clone(x, true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In my code I frequently define a function (_) to handle copies so that I can pass \"by value\" to functions. This code creates a deep copy but maintains inheritance. It also keeps track of sub-copies so that self-referential objects can be copied without an infinite loop. Feel free to use it.</p>\n\n<p>It might not be the most elegant, but it hasn't failed me yet.</p>\n\n<pre><code>_ = function(oReferance) {\n  var aReferances = new Array();\n  var getPrototypeOf = function(oObject) {\n    if(typeof(Object.getPrototypeOf)!==\"undefined\") return Object.getPrototypeOf(oObject);\n    var oTest = new Object();\n    if(typeof(oObject.__proto__)!==\"undefined\"&amp;&amp;typeof(oTest.__proto__)!==\"undefined\"&amp;&amp;oTest.__proto__===Object.prototype) return oObject.__proto__;\n    if(typeof(oObject.constructor)!==\"undefined\"&amp;&amp;typeof(oTest.constructor)!==\"undefined\"&amp;&amp;oTest.constructor===Object&amp;&amp;typeof(oObject.constructor.prototype)!==\"undefined\") return oObject.constructor.prototype;\n    return Object.prototype;\n  };\n  var recursiveCopy = function(oSource) {\n    if(typeof(oSource)!==\"object\") return oSource;\n    if(oSource===null) return null;\n    for(var i=0;i&lt;aReferances.length;i++) if(aReferances[i][0]===oSource) return aReferances[i][1];\n    var Copy = new Function();\n    Copy.prototype = getPrototypeOf(oSource);\n    var oCopy = new Copy();\n    aReferances.push([oSource,oCopy]);\n    for(sPropertyName in oSource) if(oSource.hasOwnProperty(sPropertyName)) oCopy[sPropertyName] = recursiveCopy(oSource[sPropertyName]);\n    return oCopy;\n  };\n  return recursiveCopy(oReferance);\n};\n\n// Examples:\nWigit = function(){};\nWigit.prototype.bInThePrototype = true;\nA = new Wigit();\nA.nCoolNumber = 7;\nB = _(A);\nB.nCoolNumber = 8; // A.nCoolNumber is still 7\nB.bInThePrototype // true\nB instanceof Wigit // true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You don't get much more elegant than this in pure JS:</p>\n\n<pre><code>function copy(variable)\n{\n    var newVariable= {};\n    for (var i in variable)\n        newVariable[i] = variable[i];\n\n    return newVariable;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Consult <a href=\"http://www.w3.org/html/wg/drafts/html/master/infrastructure.html#safe-passing-of-structured-data\" rel=\"nofollow\">http://www.w3.org/html/wg/drafts/html/master/infrastructure.html#safe-passing-of-structured-data</a> for the W3C's \"Safe passing of structured data\" algorithm, intended to be implemented by browsers for passing data to eg web workers. However, it has some limitations, in that it does not handle functions. See <a href=\"https://developer.mozilla.org/en-US/docs/DOM/The_structured_clone_algorithm\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/The_structured_clone_algorithm</a> for more information, including an alternative algorithm in JS which gets you part of the way there.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My favorite &amp; elegant JS objects <strong>clone</strong> solution is</p>\n\n<pre><code>function CloneObject() {}\nfunction cloneObject(o) {\n   CloneObject.prototype = o;\n   return new CloneObject();\n}\n</code></pre>\n\n<p>Use <code>cloneObject(object)</code> to get a clone of JS object.</p>\n\n<p>Unlike many <strong>copy</strong> solutions this clone keeps prototype relationship in cloned object.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<pre><code>//\n// creates 'clone' method on context object\n//\n//  var \n//     clon = Object.clone( anyValue );\n//\n!((function (propertyName, definition) {\n    this[propertyName] = definition();\n}).call(\n    Object,\n    \"clone\",\n    function () {\n        function isfn(fn) {\n            return typeof fn === \"function\";\n        }\n\n        function isobj(o) {\n            return o === Object(o);\n        }\n\n        function isarray(o) {\n            return Object.prototype.toString.call(o) === \"[object Array]\";\n        }\n\n        function fnclon(fn) {\n            return function () {\n                fn.apply(this, arguments);\n            };\n        }\n\n        function owns(obj, p) {\n            return obj.hasOwnProperty(p);\n        }\n\n        function isemptyobj(obj) {\n            for (var p in obj) {\n                return false;\n            }\n            return true;\n        }\n\n        function isObject(o) {\n            return Object.prototype.toString.call(o) === \"[object Object]\";\n        }\n        return function (input) {\n            if (isfn(input)) {\n                return fnclon(input);\n            } else if (isobj(input)) {\n                var cloned = {};\n                for (var p in input) {\n                    owns(Object.prototype, p)\n                    || (\n                        isfn(input[p])\n                        &amp;&amp; ( cloned[p] = function () { return input[p].apply(input, arguments); } )\n                        || ( cloned[p] = input[p] )\n                    );\n                }\n                if (isarray(input)) {\n                    cloned.length = input.length;\n                    \"concat every filter forEach indexOf join lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice toLocaleString toString unshift\"\n                    .split(\" \")\n                    .forEach(\n                      function (methodName) {\n                        isfn( Array.prototype[methodName] )\n                        &amp;&amp; (\n                            cloned[methodName] =\n                            function () {\n                                return Array.prototype[methodName].apply(cloned, arguments);\n                            }\n                        );\n                      }\n                    );\n                }\n                return isemptyobj(cloned)\n                       ? (\n                          isObject(input)\n                          ? cloned\n                          : input\n                        )\n                       : cloned;\n            } else {\n                return input;\n            }\n        };\n    }\n));\n//\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function clone(obj)\n{\n    var cloneObj = Object.create(obj);\n\n    return cloneObj;\n}\n</code></pre>\n\n<p>In Javascript objects individually inherit another object (Prototypal inheritance). Object.create(obj) returns an object that is a sub-object or child object of obj. In the above function it will effectively return a copy of the object.</p>\n\n<p>However, This is a very odd way to clone because I am not using inheritance for its real purpose.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I came to this page due to the same question but I'm neither using JQuery and none of the clone-Methods worked for my own objects.</p>\n\n<p>I'm aware my answer isn't related too strong to this question because it's a different approach. Instead of using clone-functions I use a create function. It worked for me for the following (unfortunately restricting) purposes:</p>\n\n<ol>\n<li>I use mostly JSP-generated Javascript</li>\n<li>I know in the beginning which Object must be generated (In my case it's Information from a Database which gets fetched once and needs to be deployed more often in the JS.</li>\n</ol>\n\n<p>First I defined my Objects like this:</p>\n\n<pre><code>var obj= new Object();\nobj.Type='Row';\nobj.ID=1;\nobj.Value='Blah blah';\n</code></pre>\n\n<p>Now I moved everything like:</p>\n\n<pre><code>function getObjSelektor(id_nummer,selected){\nvar obj = document.createElement(\"select\");\nobj.setAttribute(\"id\",\"Selektor_\"+id_nummer);\nobj.setAttribute(\"name\",\"Selektor\");\nobj.setAttribute(\"size\",\"1\");\n\nvar obj_opt_1 = document.createElement(\"option\");\nobj_opt_1.setAttribute(\"value\",\"1\");\nif(1==selected)\n    posopval_opt_1.setAttribute(\"selected\",\"selected\");\nobj_opt_1.innerHTML=\"Blah blah\";\nobj.appendChild(obj_opt_1);\n\nvar obj_opt_2 = document.createElement(\"option\");\nobj_opt_2.setAttribute(\"value\",\"2\");\nif(2==selected)\n    obj_opt_2.setAttribute(\"selected\",\"selected\");\nobj_opt_2.innerHTML=\"2nd Row\";\nobj.appendChild(obj_opt_2);\n\n...\n\nreturn obj;\n}\n</code></pre>\n\n<p>And call the function in the regular code:</p>\n\n<pre><code>myDiv.getObjSelektor(getObjSelektor(anotherObject.ID));\n</code></pre>\n\n<p>As said this is a different approach which solved my issue for my purposes. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you got an Object with Functions you can do it with JSONfn, see <a href=\"http://www.eslinstructor.net/jsonfn/\" rel=\"nofollow\">http://www.eslinstructor.net/jsonfn/</a>.</p>\n\n<pre><code>var obj= {\n    name:'Marvin',\n    getName :  function(){\n      return this.name;\n    }\n}\nvar cobj = JSONfn.parse(JSONfn.stringify(obj));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use functional closure to gain all the benefits of a deep copy, without a deep copy. It's a very different paradigm, but works well. Instead of trying to copy an existing object, just use a function to instantiate a new object when you need one.</p>\n\n<p>First, create an function that returns an object</p>\n\n<pre><code>function template() {\n  return {\n    values: [1, 2, 3],\n    nest: {x: {a: \"a\", b: \"b\"}, y: 100}\n  };\n}\n</code></pre>\n\n<p>Then create a simple shallow copy function</p>\n\n<pre><code>function copy(a, b) {\n  Object.keys(b).forEach(function(key) {\n    a[key] = b[key];\n  });\n}\n</code></pre>\n\n<p>Create a new object, and copy the template's properties onto it</p>\n\n<pre><code>var newObject = {}; \ncopy(newObject, template());\n</code></pre>\n\n<p>But the above copy step is not necessary. All you need to do is this:</p>\n\n<pre><code>var newObject = template();\n</code></pre>\n\n<p>Now that you have a new object, test to see what its properties are:</p>\n\n<pre><code>console.log(Object.keys(newObject));\n</code></pre>\n\n<p>This displays:</p>\n\n<pre><code>[\"values\", \"nest\"]\n</code></pre>\n\n<p>Yes, those are the newObject's own properties, not references to properties on another object.\nLet's just check:</p>\n\n<pre><code>console.log(newObject.nest.x.b);\n</code></pre>\n\n<p>This displays:</p>\n\n<pre><code>\"b\"\n</code></pre>\n\n<p>The newObject has acquired all of the template object's properties, but is free of any dependency chain.</p>\n\n<p><a href=\"http://jsbin.com/ISUTIpoC/1/edit?js,console\" rel=\"nofollow\">http://jsbin.com/ISUTIpoC/1/edit?js,console</a></p>\n\n<p>I added this example to encourage some debate, so please add some comments :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The problem with copying an object that, eventually, may point at itself, can be solved with a simple check. Add this check, every time there is a copy action. It may be <strong>slow</strong>, but it <em>should</em> work.</p>\n\n<p>I use a <strong>toType()</strong> function to return the object type, explicitly. I also have my own <strong>copyObj()</strong> function, which is rather similar in logic, which answers all three Object(), Array(), and Date() cases.</p>\n\n<p>I run it in NodeJS.</p>\n\n<p><strong>NOT TESTED, YET.</strong></p>\n\n<pre><code>// Returns true, if one of the parent's children is the target.\n// This is useful, for avoiding copyObj() through an infinite loop!\nfunction isChild(target, parent) {\n  if (toType(parent) == '[object Object]') {\n    for (var name in parent) {\n      var curProperty = parent[name];\n\n      // Direct child.\n      if (curProperty = target) return true;\n\n      // Check if target is a child of this property, and so on, recursively.\n      if (toType(curProperty) == '[object Object]' || toType(curProperty) == '[object Array]') {\n        if (isChild(target, curProperty)) return true;\n      }\n    }\n  } else if (toType(parent) == '[object Array]') {\n    for (var i=0; i &lt; parent.length; i++) {\n      var curItem = parent[i];\n\n      // Direct child.\n      if (curItem = target) return true;\n\n      // Check if target is a child of this property, and so on, recursively.\n      if (toType(curItem) == '[object Object]' || toType(curItem) == '[object Array]') {\n        if (isChild(target, curItem)) return true;\n      }\n    }\n  }\n\n  return false;     // Not the target.\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are several issues with most solutions on the internet. So I decided to make a follow-up, which includes, why the accepted answer shouldn't be accepted.</p>\n\n<h2>starting situation</h2>\n\n<p>I want to <strong>deep-copy</strong> a Javascript <code>Object</code> with all of its children and their children and so on. But since I'm not kind of a normal developer, my <code>Object</code> has <em>normal</em> <code>properties</code>, <code>circular structures</code> and even <code>nested objects</code>.</p>\n\n<p>So let's create a <code>circular structure</code> and a <code>nested object</code> first.</p>\n\n<pre><code>function Circ() {\n    this.me = this;\n}\n\nfunction Nested(y) {\n    this.y = y;\n}\n</code></pre>\n\n<p>Let's bring everything together in an <code>Object</code> named <code>a</code>.</p>\n\n<pre><code>var a = {\n    x: 'a',\n    circ: new Circ(),\n    nested: new Nested('a')\n};\n</code></pre>\n\n<p>Next we want to copy <code>a</code> into a variable named <code>b</code> and mutate it.</p>\n\n<pre><code>var b = a;\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>You know what happened here, because if not you wouldn't even landed on this great question.</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nb --&gt; Object {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n</code></pre>\n\n<p>Now let's find a solution.</p>\n\n<h2>JSON</h2>\n\n<p>The first attempt I tried was using <code>JSON</code>.</p>\n\n<pre><code>var b = JSON.parse( JSON.stringify( a ) );\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>Don't waste too much time on it, you'll get <code>TypeError: Converting circular structure to JSON</code>.</p>\n\n<h2>Recursive copy <em>(the accepted \"answer\")</em></h2>\n\n<p>Let's have a look at the accepted answer.</p>\n\n<pre><code>function cloneSO(obj) {\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        var copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        var copy = [];\n        for (var i = 0, len = obj.length; i &lt; len; i++) {\n            copy[i] = cloneSO(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        var copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = cloneSO(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n</code></pre>\n\n<p>Looks good, heh? It's a recursive copy of the object and handles other types as well, like <code>Date</code>, but that wasn't a requirement.</p>\n\n<pre><code>var b = cloneSO(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>Recursion and <code>circular structures</code> doesn't work well together... <code>RangeError: Maximum call stack size exceeded</code></p>\n\n<h2>native solution</h2>\n\n<p>After arguing with my co-worker, my boss asked us what happend, and he found a simple <em>solution</em> after some googling. It's called <code>Object.create</code>.</p>\n\n<pre><code>var b = Object.create(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>This solution was added to Javascript some time ago and even handles <code>circular structure</code>.</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"a\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nb --&gt; Object {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n</code></pre>\n\n<p>... and you see, it didn't work with the nested structure inside.</p>\n\n<h2>polyfill for the native solution</h2>\n\n<p>There's a polyfill for <code>Object.create</code> in older browser just like the IE 8. It's something like recommended by Mozilla, and of course it's not perfect and results in the same problem as the <em>native solution</em>.</p>\n\n<pre><code>function F() {};\nfunction clonePF(o) {\n    F.prototype = o;\n    return new F();\n}\n\nvar b = clonePF(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>I've put <code>F</code> outside the scope so we can have a look at what <code>instanceof</code> tells us.</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"a\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nb --&gt; F {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nconsole.log(typeof a, typeof b);\n\na --&gt; object\nb --&gt; object\n\nconsole.log(a instanceof Object, b instanceof Object);\n\na --&gt; true\nb --&gt; true\n\nconsole.log(a instanceof F, b instanceof F);\n\na --&gt; false\nb --&gt; true\n</code></pre>\n\n<p>Same problem as the <em>native solution</em>, but a little bit worse output.</p>\n\n<h2>the better (but not perfect) solution</h2>\n\n<p>When digging around, I found a similiar question (<a href=\"http://stackoverflow.com/questions/10728412/in-javascript-when-performing-a-deep-copy-how-do-i-avoid-a-cycle-due-to-a-pro\">In Javascript, when performing a deep copy, how do I avoid a cycle, due to a property being &quot;this&quot;?</a>) to this one, but with a way better solution.</p>\n\n<pre><code>function cloneDR(o) {\n    const gdcc = \"__getDeepCircularCopy__\";\n    if (o !== Object(o)) {\n        return o; // primitive value\n    }\n\n    var set = gdcc in o,\n        cache = o[gdcc],\n        result;\n    if (set &amp;&amp; typeof cache == \"function\") {\n        return cache();\n    }\n    // else\n    o[gdcc] = function() { return result; }; // overwrite\n    if (o instanceof Array) {\n        result = [];\n        for (var i=0; i&lt;o.length; i++) {\n            result[i] = cloneDR(o[i]);\n        }\n    } else {\n        result = {};\n        for (var prop in o)\n            if (prop != gdcc)\n                result[prop] = cloneDR(o[prop]);\n            else if (set)\n                result[prop] = cloneDR(cache);\n    }\n    if (set) {\n        o[gdcc] = cache; // reset\n    } else {\n        delete o[gdcc]; // unset again\n    }\n    return result;\n}\n\nvar b = cloneDR(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>And let's have a look at the output...</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"a\",\n    circ: Object {\n        me: Object { ... }\n    },\n    nested: Object {\n        y: \"a\"\n    }\n}\n\nb --&gt; Object {\n    x: \"b\",\n    circ: Object {\n        me: Object { ... }\n    },\n    nested: Object {\n        y: \"b\"\n    }\n}\n\nconsole.log(typeof a, typeof b);\n\na --&gt; object\nb --&gt; object\n\nconsole.log(a instanceof Object, b instanceof Object);\n\na --&gt; true\nb --&gt; true\n\nconsole.log(a instanceof F, b instanceof F);\n\na --&gt; false\nb --&gt; false\n</code></pre>\n\n<p>The requirements are matched, but there are still some smaller issues, including changing the <code>instance</code> of <code>nested</code> and<code>circ</code> to <code>Object</code>.</p>\n\n<blockquote>\n  <p>The structure of trees that share a leaf won't be copied, they will become two independent leafes:</p>\n</blockquote>\n\n<pre><code>        [Object]                     [Object]\n         /    \\                       /    \\\n        /      \\                     /      \\\n      |/_      _\\|                 |/_      _\\|  \n  [Object]    [Object]   ===&gt;  [Object]    [Object]\n       \\        /                 |           |\n        \\      /                  |           |\n        _\\|  |/_                 \\|/         \\|/\n        [Object]               [Object]    [Object]\n</code></pre>\n\n<h2>conclusion</h2>\n\n<p>The last solution using recursion and a cache, may not be the best, but it's a <strong>real</strong> deep-copy of the object. It handles simple <code>properties</code>, <code>circular structures</code> and <code>nested object</code>, but it will mess up the instance of them while cloning.</p>\n\n<p><a href=\"http://jsfiddle.net/einfallstoll/N4mr2/\">http://jsfiddle.net/einfallstoll/N4mr2/</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>For those using AngularJS, there is also direct method for cloning or extending of the objects in this library.</p>\n\n<pre><code>var destination = angular.copy(source);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>angular.copy(source, destination);\n</code></pre>\n\n<p>More in angular.copy <a href=\"https://docs.angularjs.org/api/ng/function/angular.copy\">documentation</a>...</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I've tried this in the case of a scalar object and it works for me:</p>\n\n<pre><code>function binder(i) {\n  return function () {\n    return i;\n  };\n}\n\na=1;\nb=binder(a)(); // copy value of a into b\n\nalert(++a); // 2\nalert(b); // still 1\n</code></pre>\n\n<p>Regards.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've written my own implementation. Not sure if it counts as a better solution:</p>\n\n<pre><code>/*\n    a function for deep cloning objects that contains other nested objects and circular structures.\n    objects are stored in a 3D array, according to their length (number of properties) and their depth in the original object.\n                                    index (z)\n                                         |\n                                         |\n                                         |\n                                         |\n                                         |\n                                         |                      depth (x)\n                                         |_ _ _ _ _ _ _ _ _ _ _ _\n                                        /_/_/_/_/_/_/_/_/_/\n                                       /_/_/_/_/_/_/_/_/_/\n                                      /_/_/_/_/_/_/...../\n                                     /................./\n                                    /.....            /\n                                   /                 /\n                                  /------------------\n            object length (y)    /\n*/\n\n\nfunction deepClone(obj) {\n    var i = -1, //depth of the current object relative to the passed 'obj'\n        j = 0;  //number of the object's properties\n    var arr = new Array(); //3D array to store the references to objects\n    return clone(obj, arr, i, j);\n}\n\nfunction clone(obj, arr, i ,j){\n    if (typeof obj !== \"object\") {\n        return obj;\n    }\n\n    var result = Object.create(Object.getPrototypeOf(obj)); //inherit the prototype of the original object\n    if(result instanceof Array){\n        result.length = Object.keys(obj).length;\n    }\n\n    i++; //depth is increased because we entered an object here\n    j = Object.keys(obj).length; //native method to get the number of properties in 'obj'\n    arr[i] = new Array(); //this is the x-axis, each index here is the depth\n    arr[i][j] = new Array(); //this is the y-axis, each index is the length of the object (aka number of props)\n    //start the depth at current and go down, cyclic structures won't form on depths more than the current one\n    for(var depth = i; depth &gt;= 0; depth--){\n        //loop only if the array at this depth and length already have elements\n        if(arr[depth][j]){\n            for(var index = 0; index &lt; arr[depth][j].length; index++){\n                if(obj === arr[depth][j][index]){\n                    return obj;\n                }\n            } \n        }\n    }\n\n    arr[i][j].push(obj); //store the object in the array at the current depth and length\n    for (var prop in obj) {\n        result[prop] = clone(obj[prop], arr, i, j);\n    }\n\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For versatile cloning of objects with various contents, in Node.js or the browser, try <a href=\"https://github.com/imbcmdth/UltraDeepClone\" rel=\"nofollow\">UltraDeepClone</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Clone an object based on a 'template'. What do you do if you don't want an exact copy, but you do want the robustness of some kind of reliable clone operation but you only want bits cloned or you want to make sure you can control the existence or format of each attribute value cloned?</p>\n\n<p>I am contributing this because it's useful for us and we created it because we could not find something similar. You can use it to clone an object based on a 'template' object which specifies what attributes of the object I want to clone, and the template allows for functions to transform those attributes into something different if they don't exist on the source object or however you want to handle the clone. If it's not useful I am sure someone can delete this answer.</p>\n\n<pre><code>   function isFunction(functionToCheck) {\n       var getType = {};\n       return functionToCheck &amp;&amp; getType.toString.call(functionToCheck) === '[object Function]';\n   }\n\n   function cloneObjectByTemplate(obj, tpl, cloneConstructor) {\n       if (typeof cloneConstructor === \"undefined\") {\n           cloneConstructor = false;\n       }\n       if (obj == null || typeof (obj) != 'object') return obj;\n\n       //if we have an array, work through it's contents and apply the template to each item...\n       if (Array.isArray(obj)) {\n           var ret = [];\n           for (var i = 0; i &lt; obj.length; i++) {\n               ret.push(cloneObjectByTemplate(obj[i], tpl, cloneConstructor));\n           }\n           return ret;\n       }\n\n       //otherwise we have an object...\n       //var temp:any = {}; // obj.constructor(); // we can't call obj.constructor because typescript defines this, so if we are dealing with a typescript object it might reset values.\n       var temp = cloneConstructor ? new obj.constructor() : {};\n\n       for (var key in tpl) {\n           //if we are provided with a function to determine the value of this property, call it...\n           if (isFunction(tpl[key])) {\n               temp[key] = tpl[key](obj); //assign the result of the function call, passing in the value\n           } else {\n               //if our object has this property...\n               if (obj[key] != undefined) {\n                   if (Array.isArray(obj[key])) {\n                       temp[key] = [];\n                       for (var i = 0; i &lt; obj[key].length; i++) {\n                           temp[key].push(cloneObjectByTemplate(obj[key][i], tpl[key], cloneConstructor));\n                       }\n                   } else {\n                       temp[key] = cloneObjectByTemplate(obj[key], tpl[key], cloneConstructor);\n                   }\n               }\n           }\n       }\n\n       return temp;\n   }\n</code></pre>\n\n<p>A simple way to call it would be like this:</p>\n\n<pre><code>var source = {\n       a: \"whatever\",\n       b: {\n           x: \"yeah\",\n           y: \"haha\"\n       }\n   };\n   var template = {\n       a: true, //we want to clone \"a\"\n       b: {\n           x: true //we want to clone \"b.x\" too\n       }\n   }; \n   var destination = cloneObjectByTemplate(source, template);\n</code></pre>\n\n<p>If you wanted to use a function to make sure an attribute is returned or to make sure it's a particular type, use a template like this. Instead of using { ID: true } we are providing a function which still just copies the ID attribute of the source object but it makes sure that it's a number even if it does not exist on the source object.</p>\n\n<pre><code> var template = {\n    ID: function (srcObj) {\n        if(srcObj.ID == undefined){ return -1; }\n        return parseInt(srcObj.ID.toString());\n    }\n}\n</code></pre>\n\n<p>Arrays will clone fine but if you want to you can have your own function handle those individual attributes too, and do something special like this:</p>\n\n<pre><code> var template = {\n    tags: function (srcObj) {\n        var tags = [];\n        if (process.tags != undefined) {\n            for (var i = 0; i &lt; process.tags.length; i++) {\n\n                tags.push(cloneObjectByTemplate(\n                  srcObj.tags[i],\n                  { a : true, b : true } //another template for each item in the array\n                );\n            }\n        }\n        return tags;\n    }\n }\n</code></pre>\n\n<p>So in the above, our template just copies the 'tags' attribute of the source object if it exists, (it's assumed to be an array), and for each element in that array the clone function is called to individually clone it based on a second template which just copies the 'a' and 'b' attributes of each of those tag elements. </p>\n\n<p>If you are taking objects in and out of node and you want to control which attributes of those objects are cloned then this is a great way of controlling that in node.js and the code works in the browser too.</p>\n\n<p>Here is an example of it's use: <a href=\"http://jsfiddle.net/hjchyLt1/\" rel=\"nofollow\">http://jsfiddle.net/hjchyLt1/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have an object <code>x</code>. I'd like to copy it as object <code>y</code>, such that changes to <code>y</code> do not modify <code>x</code>.</p>\n\n<p>What's the most elegant way of doing this in JavaScript?</p>\n\n<p>Edit: I realize that copying objects derived from built-in JavaScript objects will result in extra, unwanted properties. This isn't a problem, since I'm copying one of my own, literal-constructed objects.</p>\n",
            "last_activity_date": 1425886876,
            "question_id": 728360,
            "score": 744,
            "tags": [
                "javascript",
                "object",
                "clone"
            ],
            "title": "Most elegant way to clone a JavaScript object"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p>This is easiest with a library like jQuery:</p>\n\n<pre><code>&lt;input type=\"button\" onClick=\"javascript:test_byid();\" value=\"id='second'\" /&gt;\n\n&lt;script&gt;\nfunction test_byid()\n{\n    $(\"#second\").toggleClass(\"highlight\");\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -14
                },
                {
                    "body": "<p>No offense, but it's unclever to change class on-the-fly as it forces the CSS interpreter to recalculate the visual presentation of the entire web page.</p>\n\n<p>The reason is that it is nearly impossible for the CSS interpreter to know if any inheritance or cascading could be changed, so the short answer is:</p>\n\n<p>Never ever change className on-the-fly !-)</p>\n\n<p>But usually you'll only need to change a property or two, and that is easily implemented:</p>\n\n<pre><code>function highlight(elm){\n    elm.style.backgroundColor =\"#345\";\n    elm.style.color = \"#fff\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -41
                },
                {
                    "body": "<p>You can use <code>node.className</code> like so:</p>\n\n<pre><code>document.getElementById('foo').className = 'bar';\n</code></pre>\n\n<p>This should work in IE5.5 and up according to <a href=\"http://quirksmode.org/dom/w3c_html.html\">PPK</a>.</p>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<h2>Adding and Removing Classes, with simple cross-browser JavaScript</h2>\n\n<p>The standard JavaScript way to select an element is using <a href=\"https://developer.mozilla.org/en-US/docs/DOM/document.getElementById\"><code>document.getElementById(\"Id\")</code></a>, which is what the following examples use - you can of course obtain elements in other ways, and in the right situation may simply use <code>this</code> instead - however, going into detail on this is beyond the scope of the answer.</p>\n\n<h3>To change all classes for an element:</h3>\n\n<p>To replace all existing classes with one or more new classes, set the className attribute:</p>\n\n<pre><code>document.getElementById(\"MyElement\").className = \"MyClass\";\n</code></pre>\n\n<p>(You can use a space-delimited list to apply multiple classes.)</p>\n\n<h3>To add an additional class to an element:</h3>\n\n<p>To add a class to an element, without removing/affecting existing values, append a space and the new classname, like so:</p>\n\n<pre><code>document.getElementById(\"MyElement\").className += \" MyClass\";\n</code></pre>\n\n<h3>To remove a class from an element:</h3>\n\n<p>To remove a single class to an element, without affecting other potential classes, a simple regex replace is required:</p>\n\n<pre><code>document.getElementById(\"MyElement\").className =\n   document.getElementById(\"MyElement\").className.replace\n      ( /(?:^|\\s)MyClass(?!\\S)/g , '' )\n/* code wrapped for readability - above is all one statement */\n</code></pre>\n\n<p>An explanation of this regex is as follows:</p>\n\n<pre><code>(?:^|\\s) # match the start of the string, or any single whitespace character\n\nMyClass  # the literal text for the classname to remove\n\n(?!\\S)   # negative lookahead to verify the above is the whole classname\n         # ensures there is no non-space character following\n         # (i.e. must be end of string or a space)\n</code></pre>\n\n<p>The <code>g</code> flag tells the replace to repeat as required, in case the class name has been added multiple times.</p>\n\n<h3>To check if a class is already applied to an element:</h3>\n\n<p>The same regex used above for removing a class can also be used as a check as to whether a particular class exists:</p>\n\n<pre><code>if ( document.getElementById(\"MyElement\").className.match(/(?:^|\\s)MyClass(?!\\S)/) )\n</code></pre>\n\n<p><br/></p>\n\n<h3>Assigning these actions to onclick events:</h3>\n\n<p>Whilst it is possible to write JavaScript directly inside the HTML event attributes (such as <code>onclick=\"this.className+=' MyClass'\"</code>) this is not recommended behaviour. Especially on larger applications, more maintainable code is achieved by separating HTML markup from JS interaction logic.</p>\n\n<p>The first step to achieving this is by creating a function, and calling the function in the onclick attribute, for example:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function changeClass()\n    {\n        // code examples from above\n    }\n&lt;/script&gt;\n...\n&lt;button onclick=\"changeClass()\"&gt;My Button&lt;/button&gt;\n</code></pre>\n\n<p><sub><em>(It is not required to have this code in script tags, this is simply for brevity of example, and including the JS in a distinct file may be more appropriate.)</em></sub></p>\n\n<p>The second step is to move the onclick event out of the HTML and into JavaScript, for example using <a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener\">addEventListener</a></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function changeClass()\n    {\n        // code examples from above\n    }\n\n    window.onload = function()\n    {\n        document.getElementById(\"MyElement\").addEventListener( 'click' , changeClass );\n    }\n&lt;/script&gt;\n...\n&lt;button id=\"MyElement\"&gt;My Button&lt;/button&gt;\n</code></pre>\n\n<p>(Note that the window.onload part is required so that the contents of that function are executed <em>after</em> the HTML has finished loading - without this, the MyElement might not exist when the JS is called, so that line would fail.)</p>\n\n<p><br/></p>\n\n<h2>JavaScript Frameworks and Libraries</h2>\n\n<p>The above code is all in standard JavaScript, however it is common practise to use either a framework or a library to simplify common tasks, as well as benefit from fixed bugs and edge cases that you might not think of when writing your code.</p>\n\n<p>Whilst some people consider it overkill to add a ~50KB framework for simply changing a class, if you are doing any substantial amount of JavaScript work, or anything that might have unusual cross-browser behaviour, it is well worth considering.</p>\n\n<p><em>(Very roughly, a library is a set of tools designed for a specific task, whilst a framework generally contains multiple libraries and performs a complete set of duties.)</em></p>\n\n<p>The examples above have been reproduced below using <a href=\"http://jquery.com\">jQuery</a>, probably the most commonly used JavaScript library (though there are others worth investigating too).</p>\n\n<p>(Note that <code>$</code> here is the jQuery object.)</p>\n\n<h3>Changing Classes with jQuery:</h3>\n\n<pre><code>$('#MyElement').addClass('MyClass');\n\n$('#MyElement').removeClass('MyClass');\n\nif ( $('#MyElement').hasClass('MyClass') )\n</code></pre>\n\n<p>In addition, jQuery provides a shortcut for adding a class if it doesn't apply, or removing a class that does:</p>\n\n<pre><code>$('#MyElement').toggleClass('MyClass');\n</code></pre>\n\n<p><br/></p>\n\n<h3>Assigning a function to a click event with jQuery:</h3>\n\n<pre><code>$('#MyElement').click(changeClass);\n</code></pre>\n\n<p>or, without needing an id:</p>\n\n<pre><code>$(':button:contains(My Button)').click(changeClass);\n</code></pre>\n\n<p><br/></p>\n\n<h2>HTML5 Techniques for changing classes</h2>\n\n<p>Modern browsers have added <a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.classList\"><strong>classList</strong></a> which provides methods to make it easier to manipulate classes without needing a library:</p>\n\n<pre><code>document.getElementById(\"MyElement\").classList.add('class');\n\ndocument.getElementById(\"MyElement\").classList.remove('class');\n\nif ( document.getElementById(\"MyElement\").classList.contains('class') )\n\ndocument.getElementById(\"MyElement\").classList.toggle('class');\n</code></pre>\n\n<p>Unfortunately, these do not work in Internet Explorer prior to v10, though there is a <a href=\"http://en.wikipedia.org/wiki/Shim_%28computing%29\">shim</a> to add support for it to IE8 and IE9, available from <a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.classList\">this page</a>.</p>\n",
                    "is_accepted": true,
                    "score": 1617
                },
                {
                    "body": "<p>The line</p>\n\n<pre><code>document.getElementById(\"MyElement\").className = document.getElementById(\"MyElement\").className.replace(/\\bMyClass\\b/','')\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>document.getElementById(\"MyElement\").className = document.getElementById(\"MyElement\").className.replace('/\\bMyClass\\b/','');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Change an element's CSS class with JavaScript in <a href=\"http://en.wikipedia.org/wiki/ASP.NET\" rel=\"nofollow\">ASP.NET</a>:</p>\n\n<pre><code>Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load\n    If Not Page.IsPostBack Then\n        lbSave.Attributes.Add(\"onmouseover\", \"this.className = 'LinkButtonStyle1'\")\n        lbSave.Attributes.Add(\"onmouseout\", \"this.className = 'LinkButtonStyle'\")\n        lbCancel.Attributes.Add(\"onmouseover\", \"this.className = 'LinkButtonStyle1'\")\n        lbCancel.Attributes.Add(\"onmouseout\", \"this.className = 'LinkButtonStyle'\")\n    End If\nEnd Sub\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In one of my old projects that did not use jQuery, I built the following functions for adding, removing, and checking if element has class:</p>\n\n<pre><code>function hasClass(ele, cls) {\n    return ele.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\n}\nfunction addClass(ele, cls) {\n    if (!hasClass(ele, cls)) ele.className += \" \" + cls;\n}\nfunction removeClass(ele, cls) {\n    if (hasClass(ele, cls)) {\n        var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n        ele.className = ele.className.replace(reg, ' ');\n    }\n}\n</code></pre>\n\n<p>So, for example, if I want onclick to add some class the the button I can use this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function changeClass(btn, cls) {\n        if(!hasClass(btn, cls)) {\n            addClass(btn, cls);\n        }\n    }\n&lt;/script&gt;\n...\n&lt;button onclick=\"changeClass(this, \"someClass\")\"&gt;My Button&lt;/button&gt;\n</code></pre>\n\n<p>By now for sure it would just better to use jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>You could also just do:</p>\n\n<pre>\ndocument.getElementById('id').classList.add('class');\ndocument.getElementById('id').classList.remove('class');\n</pre>\n\n<p>And to toggle a class (remove if exists else add it):</p>\n\n<pre>\ndocument.getElementById('id').classList.toggle('class');\n</pre>\n",
                    "is_accepted": false,
                    "score": 231
                },
                {
                    "body": "<p>Using pure JavaScript code:</p>\n\n<pre><code>function hasClass(ele, cls) {\n    return ele.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\n}\n\nfunction addClass(ele, cls) {\n    if (!this.hasClass(ele, cls)) ele.className += \" \" + cls;\n}\n\nfunction removeClass(ele, cls) {\n    if (hasClass(ele, cls)) {\n        var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n        ele.className = ele.className.replace(reg, ' ');\n    }\n}\n\nfunction replaceClass(ele, oldClass, newClass){\n    if(hasClass(ele, oldClass)){\n        removeClass(ele, oldClass);\n        addClass(ele, newClass);\n    }\n    return;\n}\n\nfunction toggleClass(ele, cls1, cls2){\n    if(hasClass(ele, cls1)){\n        replaceClass(ele, cls1, cls2);\n    }else if(hasClass(ele, cls2)){\n        replaceClass(ele, cls2, cls1);\n    }else{\n        addClass(ele, cls1);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Just to add on information from another popular framework, Google Closures, see their <a href=\"http://closure-library.googlecode.com/svn/docs/closure_goog_dom_classes.js.html\">dom/classes</a> class:</p>\n\n<pre><code>goog.dom.classes.add(element, var_args)\n\ngoog.dom.classes.addRemove(element, classesToRemove, classesToAdd)\n\ngoog.dom.classes.remove(element, var_args)\n</code></pre>\n\n<p>One option for selecting the element is using <a href=\"http://closure-library.googlecode.com/svn/docs/closure_third_party_closure_goog_dojo_dom_query.js.html\">goog.dom.query</a> with a CSS3 selector:</p>\n\n<pre><code>var myElement = goog.dom.query(\"#MyElement\")[0];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This is working for me:</p>\n\n<pre><code>function setCSS(eleID) {\n    var currTabElem = document.getElementById(eleID);\n\n    currTabElem.setAttribute(\"class\", \"some_class_name\");\n    currTabElem.setAttribute(\"className\", \"some_class_name\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Wow, surprised there are so many overkill answers here...</p>\n\n<pre><code>&lt;div class=\"firstClass\" onclick=\"this.className='secondClass'\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Couple of minor notes and tweaks on the regex from above:</p>\n\n<p>You'll want to do it globally in case the class list has the class name more than once. And, you'll probably want to strip spaces from the ends of the class list and convert multiple spaces to one space to keep from getting runs of spaces. None of these things should be a problem if the only code dinking with the class names uses the regex below and removes a name before adding it. But. Well, who knows who might be dinking with the class name list.</p>\n\n<p>This regex is case insensitive so that bugs in class names may show up before the code is used on a browser that doesn't care about case in class names.</p>\n\n<pre><code>var s = \"testing   one   four  one  two\";\nvar cls = \"one\";\nvar rg          = new RegExp(\"(^|\\\\s+)\" + cls + \"(\\\\s+|$)\", 'ig');\nalert(\"[\" + s.replace(rg, ' ') + \"]\");\nvar cls = \"test\";\nvar rg          = new RegExp(\"(^|\\\\s+)\" + cls + \"(\\\\s+|$)\", 'ig');\nalert(\"[\" + s.replace(rg, ' ') + \"]\");\nvar cls = \"testing\";\nvar rg          = new RegExp(\"(^|\\\\s+)\" + cls + \"(\\\\s+|$)\", 'ig');\nalert(\"[\" + s.replace(rg, ' ') + \"]\");\nvar cls = \"tWo\";\nvar rg          = new RegExp(\"(^|\\\\s+)\" + cls + \"(\\\\s+|$)\", 'ig');\nalert(\"[\" + s.replace(rg, ' ') + \"]\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I would use jQuery and write something like this:</p>\n\n<pre><code>jQuery(function($) {\n    $(\"#some-element\").click(function() {\n        $(this).toggleClass(\"clicked\");\n    });\n});\n</code></pre>\n\n<p>This code adds a function to be called when an element of the id <strong>some-element</strong> is clicked. The function appends <strong>clicked</strong> to the element's class attribute if it's not already part of it, and removes it if it's there.</p>\n\n<p>Yes you do need to add a reference to the jQuery library in your page to use this code, but at least you can feel confident the most functions in the library would work on pretty much all the modern browsers, and it will save you time implementing your own code to do the same.</p>\n\n<p>Thanks</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here's my version, fully working:</p>\n\n<pre><code>function addHTMLClass(item, classname) {\n    var obj = item\n    if (typeof item==\"string\") {\n        obj = document.getElementById(item)\n    }\n    obj.className += \" \" + classname\n}\n\nfunction removeHTMLClass(item, classname) {\n    var obj = item\n    if (typeof item==\"string\") {\n        obj = document.getElementById(item)\n    }\n    var classes = \"\"+obj.className\n    while (classes.indexOf(classname)&gt;-1) {\n        classes = classes.replace (classname, \"\")\n    }\n    obj.className = classes\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;tr onmouseover='addHTMLClass(this,\"clsSelected\")'\nonmouseout='removeHTMLClass(this,\"clsSelected\")' &gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As well you could extend HTMLElement object, in order to add methods to add, remove, toggle and check classes (<a href=\"https://gist.github.com/Maksims/5356227\">gist</a>):</p>\n\n<pre><code>HTMLElement = typeof(HTMLElement) != 'undefiend' ? HTMLElement : Element;\n\nHTMLElement.prototype.addClass = function(string) {\n  if (!(string instanceof Array)) {\n    string = string.split(' ');\n  }\n  for(var i = 0, len = string.length; i &lt; len; ++i) {\n    if (string[i] &amp;&amp; !new RegExp('(\\\\s+|^)' + string[i] + '(\\\\s+|$)').test(this.className)) {\n      this.className = this.className.trim() + ' ' + string[i];\n    }\n  }\n}\n\nHTMLElement.prototype.removeClass = function(string) {\n  if (!(string instanceof Array)) {\n    string = string.split(' ');\n  }\n  for(var i = 0, len = string.length; i &lt; len; ++i) {\n    this.className = this.className.replace(new RegExp('(\\\\s+|^)' + string[i] + '(\\\\s+|$)'), ' ').trim();\n  }\n}\n\nHTMLElement.prototype.toggleClass = function(string) {\n  if (string) {\n    if (new RegExp('(\\\\s+|^)' + string + '(\\\\s+|$)').test(this.className)) {\n      this.className = this.className.replace(new RegExp('(\\\\s+|^)' + string + '(\\\\s+|$)'), ' ').trim();\n    } else {\n      this.className = this.className.trim() + ' ' + string;\n    }\n  }\n}\n\nHTMLElement.prototype.hasClass = function(string) {\n  return string &amp;&amp; new RegExp('(\\\\s+|^)' + string + '(\\\\s+|$)').test(this.className);\n}\n</code></pre>\n\n<p>And then just use like this (on click will add or remove class):</p>\n\n<pre><code>document.getElementById('yourElementId').onclick = function() {\n  this.toggleClass('active');\n}\n</code></pre>\n\n<p>Here is <a href=\"http://jsfiddle.net/5QMgR/\">demo</a>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I use the following vanilla JavaScript functions in my code. They use regular expressions and <code>indexOf</code> but do not require quoting special characters in regular expressions.</p>\n\n<pre><code>function addClass(el, cn) {\n    var c0 = (\" \" + el.className + \" \").replace(/\\s+/g, \" \"),\n        c1 = (\" \" + cn + \" \").replace(/\\s+/g, \" \");\n    if (c0.indexOf(c1) &lt; 0) {\n        el.className = (c0 + c1).replace(/\\s+/g, \" \").replace(/^ | $/g, \"\");\n    }\n}\n\nfunction delClass(el, cn) {\n    var c0 = (\" \" + el.className + \" \").replace(/\\s+/g, \" \"),\n        c1 = (\" \" + cn + \" \").replace(/\\s+/g, \" \");\n    if (c0.indexOf(c1) &gt;= 0) {\n        el.className = c0.replace(c1, \" \").replace(/\\s+/g, \" \").replace(/^ | $/g, \"\");\n    }\n}\n</code></pre>\n\n<p>You can also use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element.classList\" rel=\"nofollow\">element.classList</a> in modern browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is simple jQuery code to do that.</p>\n\n<pre><code>$(\".class1\").click(function(argument) {\n    $(\".parentclass\").removeClass(\"classtoremove\");\n    setTimeout(function (argument) {\n        $(\".parentclass\").addClass(\"classtoadd\");\n    }, 100);\n});\n</code></pre>\n\n<p>Here,</p>\n\n<ul>\n<li>Class1 is a listener for an event.</li>\n<li>The parent class is the class which hosts the class you want to change</li>\n<li>Classtoremove is the old class you have.</li>\n<li>Class to add is the new class that you want to add.</li>\n<li>100 is the timeout delay during which the class is changed.</li>\n</ul>\n\n<p>Good Luck.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>How can I change a CSS class of an HTML element in response to an <code>onClick</code> event using JavaScript?</p>\n",
            "last_activity_date": 1413762466,
            "question_id": 195951,
            "score": 1008,
            "tags": [
                "javascript",
                "css",
                "dom"
            ],
            "title": "Change an element&#39;s CSS class with JavaScript"
        },
        {
            "answer_count": 21,
            "answers": [
                {
                    "body": "<p>There's some discussion about the use of the term \"pass by reference\" in JS <a href=\"https://developer.mozilla.org/en-US/docs/Talk%3aJavaScript/Guide/Obsolete_Pages/Defining_Functions\" rel=\"nofollow\">here</a>, but to answer your question:</p>\n\n<blockquote>\n  <p>A object is automatically passed by reference, without the need to specifically state it</p>\n</blockquote>\n\n<p>(From the article mentioned above.)</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The variable doesn't \"hold\" the object, it holds a reference. You can assign that reference to another variable, now both reference the same object. It's always pass by value (even when that value is a reference...). </p>\n\n<p>There's no way to alter the value held by a variable passed as a parameter, which would be possible if JS supported passing by reference. </p>\n",
                    "is_accepted": false,
                    "score": 84
                },
                {
                    "body": "<p>Javascript is always pass-by-value, everything is a value type. Objects are values, passed as arguments, member functions of objects are values themselves and are passed by value, remember that functions are first-class objects in Javascript. Also, regarding the concept that everything in Javascript is an object, this is wrong, strings, numerics, bools, nulls, undefineds are primitives, on occasion they can leverage some the member functions and properties inherited from their base prototypes but this is only for convenience, it does not mean that they are objects themselves. Try the following for reference</p>\n\n<pre><code>x = \"test\";\nalert( x.foo );\nx.foo = 12;\nalert( x.foo );\n</code></pre>\n\n<p>In both alerts you will find the value to be undefined.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>An easy way to determine whether something is \"pass by reference\" is whether you can write a \"swap\" function. For example, in C, you can do:</p>\n\n<pre><code>void swap(int *i, int *j)\n{\n    int t;\n    t = *i;\n    *i = *j;\n    *j = t;\n}\n</code></pre>\n\n<p>If you can't do the equivalent of that in Javascript, it is not \"pass by reference\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Primitives are passed by value and objects are passed by reference. This is quite different from other languages like C, VB or Delphi. I can't say how they handle objects and primitives exactly, but I know of VB and Delphi that it can (and should) be specified.</p>\n\n<p>php does something similar since version 5: all objects are passed by reference, but all primitives <em>may</em> be passed by reference, if preceeded by an ampersand (&amp;). Otherwise primitives are passed by value.</p>\n\n<p>So in javascript, if I pass an object X into a function via a parameter, it will still be X. If you are changing data <em>inside</em> the function (or any other object, but that's not important) that new value is also available outside the function.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>It's interesting in Javascript. Consider this example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeStuff(num, obj1, obj2)\r\n{\r\n  num = num * 10;\r\n  obj1.item = \"changed\";\r\n  obj2 = {item: \"changed\"};\r\n}\r\n\r\nvar num = 10;\r\nvar obj1 = {item: \"unchanged\"};\r\nvar obj2 = {item: \"unchanged\"};\r\n\r\nchangeStuff(num, obj1, obj2);\r\n\r\nconsole.log(num);\r\nconsole.log(obj1.item);    \r\nconsole.log(obj2.item);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This produces the output:</p>\n\n<pre><code>10\nchanged\nunchanged\n</code></pre>\n\n<p>If it was pure pass by value, then changing <code>obj1.item</code> would have no effect on the <code>obj1</code> outside of the function.\nIf it was pure pass by reference, then everything would have changed. <code>num</code> would be <code>100</code>, and <code>obj2.item</code> would read <code>\"changed\"</code>.</p>\n\n<p>Instead, the situation is that the item passed in is passed by value. But the item that is passed by value is <em>itself</em> a reference.\nTechnically, this is called <a href=\"http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\">call-by-sharing</a>.</p>\n\n<p>In practical terms, this means that if you change the parameter itself (as with <code>num</code> and <code>obj2</code>), that won't affect the item that was fed into the parameter.\nBut if you change the INTERNALS of the parameter, that will propagate back up (as with <code>obj1</code>).</p>\n",
                    "is_accepted": false,
                    "score": 678
                },
                {
                    "body": "<p>It's call by sharing. Read Michael L. Scott's \"Programming Language Pragmatics\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's always pass by value, but for objects the value of the variable is a reference.  Because of this, when you pass an object and change its <em>members</em>, those changes persist outside of the function.  This makes it <em>look</em> like pass by reference.  But if you actually change the value of the object variable you will see that the change does not persist, proving it's really pass by value.</p>\n\n<p>Example:</p>\n\n<pre><code>function changeObject(x) {\n  x = {member:\"bar\"};\n  alert(\"in changeObject: \" + x.member);\n}\n\nfunction changeMember(x) {\n  x.member = \"bar\";\n  alert(\"in changeMember: \" + x.member);\n}\n\nvar x = {member:\"foo\"};\n\nalert(\"before changeObject: \" + x.member);\nchangeObject(x);\nalert(\"after changeObject: \" + x.member); /* change did not persist */\n\nalert(\"before changeMember: \" + x.member);\nchangeMember(x);\nalert(\"after changeMember: \" + x.member); /* change persists */\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>before changeObject: foo\nin changeObject: bar\nafter changeObject: foo\n\nbefore changeMember: foo\nin changeMember: bar\nafter changeMember: bar\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 163
                },
                {
                    "body": "<p>A very detailed explanation about copying, passing and comparing by value and by reference is in <a href=\"http://docstore.mik.ua/orelly/webprog/jscript/ch11_02.htm\">this chapter</a> of \"JavaScript: The Definitive Guide\" book.</p>\n\n<blockquote>\n  <p>Before we leave the topic of\n  manipulating objects and arrays by\n  reference, we need to clear up a point\n  of nomenclature. The phrase \"pass by\n  reference\" can have several meanings.\n  To some readers, the phrase refers to\n  a function invocation technique that\n  allows a function to assign new values\n  to its arguments and to have those\n  modified values visible outside the\n  function. This is not the way the term\n  is used in this book. Here, we mean\n  simply that a reference to an object\n  or array -- not the object itself --\n  is passed to a function. A function\n  can use the reference to modify\n  properties of the object or elements\n  of the array. But if the function\n  overwrites the reference with a\n  reference to a new object or array,\n  that modification is not visible\n  outside of the function. Readers\n  familiar with the other meaning of\n  this term may prefer to say that\n  objects and arrays are passed by\n  value, but the value that is passed is\n  actually a reference rather than the\n  object itself.</p>\n</blockquote>\n\n<p>One thing I still cannot figure out. Check code below. Any thoughts?</p>\n\n<pre><code>function A() {}\nA.prototype.foo = function() {\n    return 'initial value';\n}\n\n\nfunction B() {}\nB.prototype.bar = A.prototype.foo;\n\nconsole.log(A.prototype.foo()); //initial value\nconsole.log(B.prototype.bar()); //initial value\n\nA.prototype.foo = function() {\n    return 'changed now';\n}\n\nconsole.log(A.prototype.foo()); //changed now\nconsole.log(B.prototype.bar()); //Why still 'initial value'???\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Object outside a function  is passed into a function by giving a reference to the outside obejct. When you use that reference to manipulate its object, the object outside is thus affected. However, if inside the function you decided to point the reference to something else, you did not affect the object outside at all, because all you did was re-direct the reference to something else. </p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I have found the <a href=\"http://documentcloud.github.com/underscore/#extend\" rel=\"nofollow\">extend method</a> of the <a href=\"http://documentcloud.github.com/underscore\" rel=\"nofollow\">Underscore.js library</a> very useful when I want to pass in an object as a parameter which may either be modified or replaced entirely.</p>\n\n<pre><code>function replaceOrModify(aObj) {\n  if (modify) {\n\n    aObj.setNewValue('foo');\n\n  } else {\n\n   var newObj = new MyObject();\n   // _.extend(destination, *sources) \n   _.extend(newObj, aObj);\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<ol>\n<li>Primitives (Number, Boolean) are passed by value.\n<ul>\n<li>Strings are immutable, so it doesn't really matter for them.</li>\n</ul></li>\n<li>Objects are passed by reference ( the reference is passed by value)</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Simple values inside functions will not change those values outside of the function (they are passed by value), whereas complex ones will (they are passed by reference).</p>\n\n<pre><code>function willNotChange(x) {\n\nx = 1;\n\n}\n\nvar x = 1000;\n\nwillNotChange(x);\n\ndocument.write('After function call, x = ' + x + '&lt;br&gt;'); //still 1000\n\nfunction willChange(y) {\n\ny.num = 2;\n\n}\n\nvar y = {num: 2000}; \n\nwillChange(y);\ndocument.write('After function call y.num = ' + y.num + '&lt;br&gt;'); //now 2, not 2000\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>In some case, this may be helpful to alter <code>anArg</code>:</p>\n\n<pre><code>function alterMyArg(func) {\n    // process some data\n    // ...\n    func(data);\n}\n\nalertMyArg(function(d) {anArg = d;});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The most succinct explanation I found was in the <a href=\"https://github.com/airbnb/javascript#types\" rel=\"nofollow\">AirBNB style guide</a>:</p>\n\n<ul>\n<li><p><strong>Primitives</strong>: When you access a primitive type you work directly on its\nvalue</p>\n\n<ul>\n<li>string</li>\n<li>number</li>\n<li>boolean</li>\n<li>null</li>\n<li>undefined</li>\n</ul></li>\n</ul>\n\n<p>E.g.:</p>\n\n<pre><code>var foo = 1,\n    bar = foo;\n\nbar = 9;\n\nconsole.log(foo, bar); // =&gt; 1, 9\n</code></pre>\n\n<ul>\n<li><p><strong>Complex</strong>: When you access a complex type you work on a reference to its value</p>\n\n<ul>\n<li>object</li>\n<li>array</li>\n<li>function</li>\n</ul></li>\n</ul>\n\n<p>E.g.:</p>\n\n<pre><code>var foo = [1, 2],\n    bar = foo;\n\nbar[0] = 9;\n\nconsole.log(foo[0], bar[0]); // =&gt; 9, 9\n</code></pre>\n\n<p>I.e. effectively primitive types are passed by value, and complex types are passed by reference.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>My 2 Cents.... This is the way I understand it. (Feel free to correct me if I'm wrong)</p>\n\n<p>It's time to throw out everything you know about pass by value / reference. Because in Javascript, it doesn't matter whether it's passed by value or by reference or whatever.</p>\n\n<p>What matters is mutation vs assignment of the parameters passed into a function.</p>\n\n<p>OK, let me do my best to explain what I mean. Let's say you have a few objects.</p>\n\n<pre><code>var object1 = {};\nvar object2 = {};\n</code></pre>\n\n<p>What we have done is \"assignment\"... We've assigned 2 separate empty objects to the variables \"object1\" and \"object2\".</p>\n\n<p>Now, let's say that we like object1 better... So, we \"assign\" a new variable.</p>\n\n<pre><code>var favoriteObject = object1;\n</code></pre>\n\n<p>Next, for whatever reason, we decide that we like object 2 better. So, we simply do a little re-assignment.</p>\n\n<pre><code>favoriteObject = object2;\n</code></pre>\n\n<p>Nothing happened to object1 or to object2. We haven't changed any data at all. All we did was re-assign what our favorite object is. It is important to know that object2 and favoriteObject are both assigned to the same object. We can change that object via either of those variables.</p>\n\n<pre><code>object2.name = 'Fred';\nconsole.log(favoriteObject.name) // logs Fred\nfavoriteObject.name = 'Joe';\nconsole.log(object2.name); // logs Joe \n</code></pre>\n\n<p>OK, now let's look at primitives like strings for example</p>\n\n<pre><code>var string1 = 'Hello world';\nvar string2 = 'Goodbye world';\n</code></pre>\n\n<p>Again, we pick a favorite.</p>\n\n<pre><code>var favoriteString = string1;\n</code></pre>\n\n<p>Both our favoriteString and string1 variables are assigned to 'Hello world'. Now, what if we want to change our favoriteString??? What will happen???</p>\n\n<pre><code>favoriteString = 'Hello everyone';\nconsole.log(favoriteString); // Logs 'Hello everyone'\nconsole.log(string1); // Logs 'Hello world'\n</code></pre>\n\n<p>Uh oh.... What has happened. We couldn't change string1 by changing favoriteString... Why?? because strings are immutable and we didn't mutate it. All we did was \"RE ASSIGN\" favoriteString to a new string. This essentially disconnected it from string1. In the previous example, when we renamed our object, we didn't assign anything. (Well, actually... we did, we assigned the name property to a new string.) Instead, we simply mutated the object which keeps the connections between the 2 variables and the underlying objects.</p>\n\n<p>Now, on to functions and passing parameters.... When you call a function, and pass a parameter, what you are essentially doing is \"assignment\" to a new variable, and it works exactly the same as if you simply assigned using the equal (=) sign.</p>\n\n<p>Take these examples.</p>\n\n<pre><code>var myString = 'hello';\n\n// Assign to a new variable (just like when you pass to a function)\nvar param1 = myString; \nparam1 = 'world'; // Re assignment\n\nconsole.log(myString); // logs 'hello'\nconsole.log(param1);   // logs 'world'\n</code></pre>\n\n<p>Now, the same thing, but with a function</p>\n\n<pre><code>function myFunc(param1) {\n    param1 = 'world';\n\n    console.log(param1);   // logs 'world'\n}\n\nvar myString = 'hello';\n// Calls myFunc and assigns param1 to myString just like param1 = myString\nmyFunc(myString); \n\nconsole.log(myString); // logs 'hello'\n</code></pre>\n\n<p>OK, now lets give a few examples using objects instead... first, without the function.</p>\n\n<pre><code>var myObject = {\n    firstName: 'Joe',\n    lastName: 'Smith'\n};\n\n// Assign to a new variable (just like when you pass to a function)\nvar otherObj = myObject;\n\n// Let's mutate our object\notherObj.firstName = 'Sue'; // I guess Joe decided to be a girl\n\nconsole.log(myObject.firstName); // Logs 'Sue'\nconsole.log(otherObj.firstName); // Logs 'Sue'\n\n// Now, let's reassign\notherObj = {\n    firstName: 'Jack',\n    lastName: 'Frost'\n};\n\n// Now, otherObj and myObject are assigned to 2 very different objects\n// And mutating one object no longer mutates the other\nconsole.log(myObject.firstName); // Logs 'Sue'\nconsole.log(otherObj.firstName); // Logs 'Jack';\n</code></pre>\n\n<p>Now, the same thing, but with a function call</p>\n\n<pre><code>function myFunc(otherObj) {\n\n    // Let's mutate our object\n    otherObj.firstName = 'Sue';\n    console.log(otherObj.firstName); // Logs 'Sue'\n\n    // Now let's re-assign\n    otherObj = {\n        firstName: 'Jack',\n        lastName: 'Frost'\n    };\n    console.log(otherObj.firstName); // Logs 'Jack'\n\n    // Again, otherObj and myObject are assigned to 2 very different objects\n    // And mutating one object no longer mutates the other\n}\n\nvar myObject = {\n    firstName: 'Joe',\n    lastName: 'Smith'\n};\n\n// Calls myFunc and assigns otherObj to myObject just like otherObj = myObject\nmyFunc(myObject);\n\nconsole.log(myObject.firstName); // Logs 'Sue', just like before\n</code></pre>\n\n<p>OK, if you read through this entire post, perhaps you now have a better understanding of how function calls work in javascript. It doesn't matter whether something is passed by reference or by value... What matters is assignment vs mutation. </p>\n\n<p>Every time you pass a variable to a function, you are \"Assigning\" to whatever the name of the parameter variable is, just like if you used the equal (=) sign.</p>\n\n<p>Always remember that the equals sign (=) means assignment.\nAlways remember that passing a parameter to a function also means assignment.\nThey are the same and the 2 variables are connected in exactly the same way.</p>\n\n<p>The only time that modifying a variable affects a different variable is when the underlying object is mutated.</p>\n\n<p>There is no point in making a distinction between objects and primitives, because it works the same exact way as if you didn't have a function and just used the equal sign to assign to a new variable.</p>\n\n<p>The only gotcha is when the name of the variable you pass into the function is the same as the name of the function parameter. When this happens, you have to treat the parameter inside the function as if it was a whole new variable private to the function (because it is)</p>\n\n<pre><code>function myFunc(myString) {\n    // myString is private and does not affect the outer variable\n    myString = 'hello';\n}\n\nvar myString = 'test';\nmyString = myString; // Does nothing, myString is still 'test';\n\nmyFunc(myString);\nconsole.log(myString); // logs 'test'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>My simple way to understand this...</p>\n\n<ul>\n<li><p>When calling a function, you are passing the content (reference or\nvalue) of the argument variables, not the the variables themselves.</p>\n\n<pre><code>var var1 = 13;\nvar var2 = { prop: 2 };\n\n//13 and var2's content (reference) are being passed here\nfoo(var1, var2); \n</code></pre></li>\n<li><p>Inside the function, parameter variables, <code>inVar1</code> and <code>inVar2</code>, receive the contents being passed.</p>\n\n<pre><code>function foo(inVar1, inVar2){\n    //changing contents of inVar1 and inVar2 won't affect variables outside\n    inVar1 = 20;\n    inVar2 = { prop: 7 };\n}\n</code></pre></li>\n<li><p>Since <code>inVar2</code> received the reference of <code>{ prop: 2 }</code>, you can change the value of the object's property.</p>\n\n<pre><code>function foo(inVar1, inVar2){\n    inVar2.prop = 7; \n}\n</code></pre></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<ol>\n<li>primitive type variable like string,number are always pass as  pass\nby value.</li>\n<li><p>Array and Object is passed as  pass by reference or  pass by value based on these two condition.</p>\n\n<ul>\n<li><p>if you are changing value of that Object or array with new Object or Array then it is pass by Value.</p>\n\n<p><code>object1 = {item: \"car\"};\n  array1=[1,2,3];</code></p></li>\n</ul>\n\n<p>here you are assigning new object or array to old one.you are not changing the value of property \nof old object.so it is pass by value.</p>\n\n<ul>\n<li><p>if you are changing a property value of an object or array then it is pass by Reference.</p>\n\n<p><code>object1.key1= \"car\";\n  array1[0]=9;</code></p></li>\n</ul>\n\n<p>here you are changing a property value of old object.you are not assigning new object or array to old one.so it is pass by reference.</p></li>\n</ol>\n\n<p><strong>Code</strong></p>\n\n<pre><code>    function passVar(object1, object2, number1) {\n\n        object1.key1= \"laptop\";\n        object2 = {\n            key2: \"computer\"\n        };\n        number1 = number1 + 1;\n    }\n\n    var object1 = {\n        key1: \"car\"\n    };\n    var object2 = {\n        key2: \"bike\"\n    };\n    var number1 = 10;\n\n    passVar(object1, object2, number1);\n    console.log(object1.key1);\n    console.log(object2.key2);\n    console.log(number1);\n\nOutput: -\n    laptop\n    bike\n    10\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Passing arguments to a function in JavaScript is analogous to passing\nparameters by pointer value in C:</p>\n\n<pre><code>/*\nThe following C program demonstrates how arguments\nto JavaScript functions are passed in a way analogous\nto pass-by-pointer-value in C. The original JavaScript\ntest case by @Shog9 follows with the translation of\nthe code into C. This should make things clear to\nthose transitioning from C to JavaScript.\n\nfunction changeStuff(num, obj1, obj2)\n{\n    num = num * 10;\n    obj1.item = \"changed\";\n    obj2 = {item: \"changed\"};\n}\n\nvar num = 10;\nvar obj1 = {item: \"unchanged\"};\nvar obj2 = {item: \"unchanged\"};\nchangeStuff(num, obj1, obj2);\nconsole.log(num);\nconsole.log(obj1.item);    \nconsole.log(obj2.item);\n\nThis produces the output:\n\n10\nchanged\nunchanged\n*/\n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nstruct obj {\n    char *item;\n};\n\nvoid changeStuff(int *num, struct obj *obj1, struct obj *obj2)\n{\n    // make pointer point to a new memory location\n    // holding the new integer value\n    int *old_num = num;\n    num = malloc(sizeof(int));\n    *num = *old_num * 10;\n    // make property of structure pointed to by pointer\n    // point to the new value\n    obj1-&gt;item = \"changed\";\n    // make pointer point to a new memory location\n    // holding the new structure value\n    obj2 = malloc(sizeof(struct obj));\n    obj2-&gt;item = \"changed\";\n    free(num); // end of scope\n    free(obj2); // end of scope\n}\n\nint num = 10;\nstruct obj obj1 = { \"unchanged\" };\nstruct obj obj2 = { \"unchanged\" };\n\nint main()\n{\n    // pass pointers by value: the pointers\n    // will be copied into the argument list\n    // of the called function and the copied\n    // pointers will point to the same values\n    // as the original pointers\n    changeStuff(&amp;num, &amp;obj1, &amp;obj2);\n    printf(\"%d\\n\", num);\n    puts(obj1.item);\n    puts(obj2.item);\n    return 0;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I would say it is pass-by-copy -</p>\n\n<p>Consider arguments and variable objects are objects created during the execution context created in the beginning of function invocation - and your actual value/reference passed into the function just get stored in this arguments + variable objects.</p>\n\n<p>Simply speaking, for primitive types, the values get copied in the beginning of function call, for object type, the reference get copied.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Think of it like this: Its always pass by value. However, the value of an object is not the object itself, but a reference to that object. </p>\n\n<p>Here is an example, passing a number (a primitive type)</p>\n\n<pre><code>function changePrimitive(val) {\n    //at this point there are two '10's in memory. Changing one won't affect the other\n    val = val * 10;\n}\nvar x = 10;\nchangePrimitive(x);\n//x === 10\n</code></pre>\n\n<p>Repeating this with an object yields different results:</p>\n\n<pre><code>function changeObject(obj) {\n    //at this point there are two references (x and obj) in memory, but these both point to the same object.\n    //changing the object will change the underlying object x and obj both hold a reference to\n    obj.val = obj.val * 10;\n}\nvar x = { val: 10 };\nchangeObject(x);\n//x === { val: 100 }\n</code></pre>\n\n<p>One more example:</p>\n\n<pre><code>function changeObject(obj) {\n    //again, there are two references (x and obj) in memory, these both point to the same object.\n    //now we create a completely new object and assign it. \n    //obj's reference now points to the new object. x's reference doesn't change\n    obj = { val: 100 };\n}\nvar x = { val: 10 };\nchangeObject(x);\n//x === { val: 10}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The primitive types (Number, String, etc.) are passed by value, but Objects are unknown, because they can be both passed-by-value (in case we consider that a variable holding an object is in fact a reference to the object) and passed-by-reference (when we consider that the variable to the object holds the object itself).</p>\n\n<p>Although it doesn't really matter at the end, I want to know what is the correct way to present the arguments passing conventions. Is there an excerpt from JavaScript specification, which defines what should be the semantics regarding this?</p>\n",
            "last_activity_date": 1423825224,
            "question_id": 518000,
            "score": 448,
            "tags": [
                "javascript",
                "pass-by-reference",
                "pass-by-value"
            ],
            "title": "Is JavaScript a pass-by-reference or pass-by-value language?"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>You can't recall the request but you can set a timeout value after which the response will be ignored.  See this <a href=\"http://docs.jquery.com/Ajax/jQuery.ajax#options\">page</a> for jquery AJAX options.  I believe that your error callback will be called if the timeout period is exceeded.  There is already a default timeout on every AJAX request.</p>\n\n<p>You can also use the <a href=\"https://developer.mozilla.org/en/DOM/XMLHttpRequest#abort%28%29\">abort()</a> method on the request object but, while it will cause the client to stop listening for the event, it <strike>may</strike> probably will not stop the server from processing it.</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<p>It's an <strong>asynchronous</strong> request, meaning once it's sent it's out there.</p>\n\n<p>In case your server is starting a very expensive operation due to the AJAX request, the best you can do is open your server to listen for cancel requests, and send a separate AJAX request notifying the server to stop whatever it's doing.</p>\n\n<p>Otherwise, simply ignore the AJAX response.</p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>Most of the jQuery Ajax methods return an XMLHttpRequest (or the equivalent) object, so you can just use <code>abort()</code>.</p>\n\n<p>See the documentation:</p>\n\n<ul>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms535920%28VS.85%29.aspx\">abort Method</a> (<a href=\"http://en.wikipedia.org/wiki/Microsoft%5fDeveloper%5fNetwork\">MSDN</a>). Cancels the current HTTP request.</li>\n<li><a href=\"https://developer.mozilla.org/en/XMLHttpRequest#abort%28%29\">abort()</a> (<a href=\"http://en.wikipedia.org/wiki/Mozilla%5fDeveloper%5fNetwork\">MDN</a>). If the request has been sent already, this method will abort the request.</li>\n</ul>\n\n\n\n<pre><code>var xhr = $.ajax({\n    type: \"POST\",\n    url: \"some.php\",\n    data: \"name=John&amp;location=Boston\",\n    success: function(msg){\n       alert( \"Data Saved: \" + msg );\n    }\n});\n\n//kill the request\nxhr.abort()\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nAs of jQuery 1.5 the returned object is a wrapper for the native XMLHttpRequest object called jqXHR. This object appears to expose all of the native properties and methods so the above example still works. See <em><a href=\"http://api.jquery.com/jQuery.ajax/#jqXHR\">The jqXHR Object</a></em> (jQuery API documentation).</p>\n",
                    "is_accepted": true,
                    "score": 946
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/446594/kill-ajax-requests-using-javascript-using-jquery/446626#446626\">meouw's solution</a> is correct, but if you're are interested in more control then you could try the <a href=\"http://archive.plugins.jquery.com/project/AjaxManager\">Ajax Manager plugin</a> for jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Save the calls you make in an array, then call xhr.abort() on each.</p>\n\n<p>HUGE CAVEAT: You can abort a request, but that's only the client side. The server side could still be processing the request. If you are using something like PHP or ASP with session data, the session data is locked until the ajax has finished. So, to allow the user to continue browsing the website, you have to call <strong>session_write_close</strong>(). This saves the session and unlocks it so that other pages waiting to continue will proceed. Without this, several pages can be waiting for the lock to be removed.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>We just had to work around this problem and tested three different solution approaches.</p>\n\n<ol>\n<li>does cancel the request as suggested by @meouw</li>\n<li>execute all request but only processes the result of the last submit</li>\n<li>prevents new requests as long as another one is still pending</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;AJAX Test&lt;/title&gt;\n    &lt;script src=\"http://code.jquery.com/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var Ajax1 = {\n            call: function () {\n                if (typeof this.xhr !== 'undefined')\n                    this.xhr.abort();\n                this.xhr = $.ajax({\n                    url: 'your/long/running/request/path',\n                    type: 'GET',\n                    success: function (data) {\n                        //process response\n                    }\n                });\n            }\n        };\n        var Ajax2 = {\n            counter: 0,\n            call: function () {\n                var self = this,\n                    seq = ++this.counter;\n                $.ajax({\n                    url: 'your/long/running/request/path',\n                    type: 'GET',\n                    success: function (data) {\n                        if (seq === self.counter) {\n                            //process response\n                        }\n                    }\n                });\n            }\n        };\n        var Ajax3 = {\n            active: false,\n            call: function () {\n                if (this.active === false) {\n                    this.active = true;\n                    var self = this;\n                    $.ajax({\n                        url: 'your/long/running/request/path',\n                        type: 'GET',\n                        success: function (data) {\n                            //process response\n                        },\n                        complete: function () {\n                            self.active = false;\n                        }\n                    });\n                }\n            }\n        };\n        $(function () {\n            $('#button').click(function (e) {\n                Ajax3.call();\n            });\n        })\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;input id=\"button\" type=\"button\" value=\"click\" /&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>In our case we decided to use approach #3 as it produces less load for the server. But I am not 100% sure if jQuery guarantees the call of the .complete()-method, this could produce a deadlock situation. In our tests we could not reproduce such a situation.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I had the problem of polling and once the page was closed the poll continued so in my cause  a user would miss an update as a mysql value was being set for the next 50 seconds after page closing, even though I killed the ajax request, I figured away around, using $_SESSION to set a var won't update in the poll its self until its ended and a new one has started, so what I did was set a value in my database as 0 = offpage , while I'm polling I query that row and return false; when it's 0 as querying in polling will get you current values obviously...</p>\n\n<p>I hope this helped </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just use ajax.abort() for example you could abort any pending ajax request before sending another one like this</p>\n\n<pre><code>//check for existing ajax request\nif(ajax){ \n ajax.abort();\n }\n//then you make another ajax request\n$.ajax(\n //your code here\n  );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I was doing a live search solution and needed to cancel pending requests that may have taken longer than the latest/most current request. </p>\n\n<p>In my case I used something like this:</p>\n\n<pre><code>//On document ready\nvar ajax_inprocess = false;\n\n$(document).ajaxStart(function() {\najax_inprocess = true;\n});\n\n$(document).ajaxStop(function() {\najax_inprocess = false;\n});\n\n//Snippet from live search function\nif (ajax_inprocess == true)\n{\n    request.abort();\n}\n//Call for new request \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>AJAX requests may not complete in the order they were started. Instead of aborting, you can choose to <em>ignore</em> all AJAX responses except for the most recent one:</p>\n\n<ul>\n<li>Create a counter</li>\n<li>Increment the counter when you initiate AJAX request</li>\n<li>Use the value of counter to \"stamp\" the request</li>\n<li>In the success callback compare the stamp with the counter to if it was the most recent request</li>\n</ul>\n\n<p>Rough outline of code:</p>\n\n<pre><code>var xhrCount = 0;\n(function () {\n    var seqNumber = ++xhrCount;\n    $.post(\"/echo/json/\", { delay: 5 }, function () {\n        if (seqNumber === xhrCount) {\n            console.log(\"Process the response\");\n        } else {\n            console.log(\"Ignore the response\");\n        }\n    });\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>As many people on the thread have noted, just because the request is aborted on the client-side, the server will still process the request. This creates unnecessary load on the server because it's doing work that we've quit listening to on the front-end.</p>\n\n<p>The problem I was trying to solve (that others may run in to as well) is that when the user entered information in an input field, I wanted to fire off a request for a Google Instant type of feel.</p>\n\n<p>To avoid firing unnecessary requests and to maintain the snappiness of the front-end, I did the following:</p>\n\n<pre><code>var xhrQueue = [];\nvar xhrCount = 0;\n\n$('#search_q').keyup(function(){\n\n    xhrQueue.push(xhrCount);\n\n    setTimeout(function(){\n\n        xhrCount = ++xhrCount;\n\n        if (xhrCount === xhrQueue.length) {\n            // Fire Your XHR //\n        }\n\n    }, 150);\n\n});\n</code></pre>\n\n<p>This will essentially send one request every 150ms (a variable that you can customize for your own needs). If you're having trouble understanding what exactly is happening here, log <code>xhrCount</code> and <code>xhrQueue</code> to the console just before the if block.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is always best practice to do something like this.</p>\n\n<pre><code>var $request;\nif ($request != null){ \n    $request.abort();\n    $request = null;\n}\n\n$request = $.ajax({\n    type : \"POST\", //TODO: Must be changed to POST\n    url : \"yourfile.php\",\n    data : \"data\"\n    }).done(function(msg) {\n        alert(msg);\n    });\n</code></pre>\n\n<p>But it is much better if you check an if statement to check whether the ajax request is null or not.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Using jQuery, how can I <strong>cancel/abort an Ajax request</strong> that I have not yet received the response from?</p>\n",
            "last_activity_date": 1413364467,
            "question_id": 446594,
            "score": 842,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Abort Ajax requests using jQuery"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>encode it with JSON</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>If you use a templating engine to construct your HTML then you can fill it with what ever you want!</p>\n\n<p>Check out <a href=\"http://www.phpxtemplate.org\" rel=\"nofollow\">XTemplates</a>.\nIt's a nice, open source, lightweight, template engine.</p>\n\n<p>Your HTML/JS there would look like this:</p>\n\n<pre><code>&lt;script&gt;\n    var myvar = {$MyVarValue};\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>htmlspecialchars</p>\n\n<p>Description</p>\n\n<pre><code>string htmlspecialchars ( string $string [, int $quote_style [, string $charset [, bool $double_encode ]]] )\n</code></pre>\n\n<p>Certain characters have special significance in HTML, and should be represented by HTML entities if they are to preserve their meanings. This function returns a string with some of these conversions made; the translations made are those most useful for everyday web programming. If you require all HTML character entities to be translated, use htmlentities() instead.</p>\n\n<p>This function is useful in preventing user-supplied text from containing HTML markup, such as in a message board or guest book application.</p>\n\n<p>The translations performed are:</p>\n\n<pre><code>* '&amp;' (ampersand) becomes '&amp;amp;'\n* '\"' (double quote) becomes '&amp;quot;' when ENT_NOQUOTES is not set.\n* ''' (single quote) becomes '&amp;#039;' only when ENT_QUOTES is set.\n* '&lt;' (less than) becomes '&amp;lt;'\n* '&gt;' (greater than) becomes '&amp;gt;'\n</code></pre>\n\n<p><a href=\"http://ca.php.net/htmlspecialchars\" rel=\"nofollow\">http://ca.php.net/htmlspecialchars</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function escapeJavaScriptText($string)\n{\n    return str_replace(\"\\n\", '\\n', str_replace('\"', '\\\"', addcslashes(str_replace(\"\\r\", '', (string)$string), \"\\0..\\37'\\\\\")));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You can insert it into a hidden DIV, then assign the innerHTML of the DIV to your JavaScript variable. You don't have to worry about escaping anything. Just be sure not to put broken HTML in there.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could try</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    myvar = unescape('&lt;?=rawurlencode($myvar)?&gt;');\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Expanding on someone else's answer:</p>\n\n<pre><code>&lt;script&gt;\n  var myvar = &lt;?php echo json_encode($myVarValue); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>Using <a href=\"http://php.net/json_encode\">json_encode()</a> requires:</p>\n\n<ul>\n<li>PHP 5.2.0 or greater</li>\n<li><code>$myVarValue</code> encoded as UTF-8 (or US-ASCII, of course)</li>\n</ul>\n\n<p>Since UTF-8 supports full Unicode, it should be safe to convert on the fly.</p>\n",
                    "is_accepted": true,
                    "score": 310
                },
                {
                    "body": "<p>I have had a similar issue and understand that the following is the best solution:</p>\n\n<pre><code>&lt;script&gt;\n    var myvar = decodeURIComponent(\"&lt;?php echo rawurlencode($myVarValue); ?&gt;\");\n&lt;/script&gt;\n</code></pre>\n\n<p>However, the <a href=\"http://www.the-art-of-web.com/javascript/escape/\">link</a> that micahwittman posted suggests that there are some minor encoding differences. PHP's <code>rawurlencode()</code> function is supposed to comply with <a href=\"http://www.faqs.org/rfcs/rfc1738\">RFC 1738</a>, while there appear to have been no such effort with Javascript's <code>decodeURIComponent()</code>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Micah's solution below worked for me as the site I had to customise was not in UTF-8, so I could not use json; I'd vote it up but my rep isn't high enough.</p>\n\n<pre><code>function escapeJavaScriptText($string) \n{ \n    return str_replace(\"\\n\", '\\n', str_replace('\"', '\\\"', addcslashes(str_replace(\"\\r\", '', (string)$string), \"\\0..\\37'\\\\\"))); \n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm not sure if this is bad practice or no, but my team and I have been using a mixed html, JS, and php solution. We start with the PHP string we want to pull into a JS variable, lets call it:</p>\n\n<pre><code>$someString\n</code></pre>\n\n<p>Next we use in-page hidden form elements, and have their value set as the string:</p>\n\n<pre><code>&lt;form id=\"pagePhpVars\" method=\"post\"&gt;\n&lt;input type=\"hidden\" name=\"phpString1\" id=\"phpString1\" value=\"'.$someString.'\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Then its a simple matter of defining a JS var through document.getElementById:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"UTF-8\"&gt;\n    var moonUnitAlpha = document.getElementById('phpString1').value;\n&lt;/script&gt;\n</code></pre>\n\n<p>Now you can use the JS variable \"moonUnitAlpha\" anywhere you want to grab that PHP string value.\nThis seems to work really well for us. We'll see if it holds up to heavy use.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The paranoid version: <a href=\"http://sixohthree.com/241/escaping\" rel=\"nofollow\">Escaping every single character</a>.</p>\n\n<pre><code>function javascript_escape($str) {\n  $new_str = '';\n\n  $str_len = strlen($str);\n  for($i = 0; $i &lt; $str_len; $i++) {\n    $new_str .= '\\\\x' . dechex(ord(substr($str, $i, 1)));\n  }\n\n  return $new_str;\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> The reason why <code>json_encode()</code> may not be appropriate is that sometimes, you need to prevent <code>\"</code> to be generated, e.g. </p>\n\n<pre><code>&lt;div onclick=\"alert(???)\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Don't run it though <code>addslashes()</code>; if you're in the context of the HTML page, the HTML parser can still see the <code>&lt;/script&gt;</code> tag, even mid-string, and assume it's the end of the JavaScript:</p>\n\n<pre><code>&lt;?php\n    $value = 'XXX&lt;/script&gt;&lt;script&gt;alert(document.cookie);&lt;/script&gt;';\n?&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var foo = &lt;?= json_encode($value) ?&gt;; // Use this\n    var foo = '&lt;?= addslashes($value) ?&gt;'; // Avoid, allows XSS!\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>&lt;script&gt;\nvar myVar = &lt;?php echo json_encode($myVarValue); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;script&gt;\nvar myVar = &lt;?= json_encode($myVarValue) ?&gt;;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<ol>\n<li><p>Don\u2019t. Use Ajax, put it in <code>data-*</code> attributes in your HTML, or something else meaningful. Using inline scripts makes your pages bigger, and <a href=\"http://codepad.org/jQopjG0k\" rel=\"nofollow\">could be insecure or still allow users to ruin layout</a>, unless\u2026</p></li>\n<li><p>\u2026 you make a safer function:</p>\n\n<pre><code>function inline_json_encode($obj) {\n    return str_replace('&lt;!--', '&lt;\\!--', json_encode($obj));\n}\n</code></pre></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What is the easiest way to encode a PHP string for output to a JavaScript variable?</p>\n\n<p>I have a PHP string which includes quotes and newlines.  I need the contents of this string to be put into a JavaScript variable.</p>\n\n<p>Normally, I would just construct my JavaScript in a PHP file, \u00e0 la:</p>\n\n<pre><code>&lt;script&gt;\n  var myvar = \"&lt;?php echo $myVarValue;?&gt;\";\n&lt;/script&gt;\n</code></pre>\n\n<p>However, this doesn't work when <code>$myVarValue</code> contains quotes or newlines.</p>\n",
            "last_activity_date": 1408527294,
            "question_id": 168214,
            "score": 221,
            "tags": [
                "php",
                "javascript",
                "escaping",
                "newline"
            ],
            "title": "Pass a PHP string to a JavaScript variable (and escape newlines)"
        },
        {
            "answer_count": 45,
            "answers": [
                {
                    "body": "<p>'#' will take the user back to the top of the page, so I usually go with void(0).</p>\n",
                    "is_accepted": false,
                    "score": 93
                },
                {
                    "body": "<p>The first one, ideally with a real link to follow in case the user has JavaScript disabled. Just make sure to return false to prevent the click event from firing if the JavaScript executes.</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"myJsFunc(); return false;\"&gt;Link&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 73
                },
                {
                    "body": "<p>Don't lose sight of the fact that your URL may be necessary -- onclick is fired before the reference is followed, so sometimes you will need to process something clientside before navigating off the page.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Unless you're writing out the link using JavaScript (so that you know it's enabled in the browser), you should ideally be providing a proper link for people who are browsing with JavaScript disabled and then prevent the default action of the link in your onclick event handler. This way those with JavaScript enabled will run the function and those with JavaScript disabled will jump to an appropriate page (or location within the same page) rather than just clicking on the link and having nothing happen.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Neither.  </p>\n\n<p>If you can have an actual URL that makes sense use that as the HREF.  The onclick won't fire if someone middle-clicks on your link to open a new tab or if they have JavaScript disabled.</p>\n\n<p>If that is not possible, then you should at least inject the anchor tag into the document with JavaScript and the appropriate click event handlers.  </p>\n\n<p>I realize this isn't always possible, but in my opinion it should be striven for in developing any public website.</p>\n\n<p>Check out <em><a href=\"http://en.wikipedia.org/wiki/Unobtrusive_JavaScript\">Unobtrusive JavaScript</a></em> and <em><a href=\"http://en.wikipedia.org/wiki/Progressive_enhancement\">Progressive enhancement</a></em> (both Wikipedia).</p>\n",
                    "is_accepted": false,
                    "score": 750
                },
                {
                    "body": "<p>Ideally you'd do this:</p>\n\n<pre><code>&lt;a href=\"javascriptlessDestination.html\" onclick=\"myJSFunc(); return false;\"&gt;Link text&lt;/a&gt;\n</code></pre>\n\n<p>Or, even better, you'd have the default action link in the HTML, and you'd add the onclick event to the element unobtrusively via JavaScript after the DOM renders, thus ensuring that if JavaScript is not present/utilized you don't have useless event handlers riddling your code and potentially obfuscating (or at least distracting from) your actual content.</p>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>It's nice to have your site be accessible by users with JavaScript disabled, in which case the href points to a page that performs the same action as the JavaScript being executed. Otherwise I use \"<strong>#</strong>\" with a \"<code>return false;</code>\" to prevent the default action (scroll to top of the page) as others have mentioned.</p>\n\n<p>Googling for \"<code>javascript:void(0)</code>\" provides a lot of information on this topic. Some of them, like <a href=\"http://blog.reindel.com/2006/08/11/a-hrefjavascriptvoid0-avoid-the-void/\">this one</a> mention reasons to <strong>NOT use void(0)</strong>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Ideally you should have a real URL as fallback for non-JavaScript users.</p>\n\n<p>If this doesn't make sense, use <code>#</code> as the <code>href</code> attribute.  I don't like using the <code>onclick</code> attribute since it embeds JavaScript directly in the HTML.  A better idea would be to use an external JS file and then add the event handler to that link.  You can then prevent the default event so that the URL doesn't change to append the <code>#</code> after the user clicks it.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Neither if you ask me;</p>\n\n<p>If your \"link\" has the sole purpose of running some JavaScript code it doesn't qualify as a link; rather a piece of text with a JavaScript function coupled to it. I would recommend to use a &lt;span&gt; tag with an onclick handler attached to it and some basic CSS to immitate a link. Links are made for navigation, and if your JavaScript code isn't for navigation it should not be an &lt;a&gt; tag.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    .jsAction {\n        cursor: pointer;\n        color: #00f;\n        text-decoration: underline;\n    }\n&lt;/style&gt;\n\n&lt;p&gt;I want to call a JavaScript function &lt;span class=\"jsAction\" onclick=\"callFunction();\"&gt;here&lt;/span&gt;.&lt;/p&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>Depending on what you want to accomplish, you could forget the onclick and just use the href:</p>\n\n<pre><code>&lt;a href=\"javascript:myJsFunc()\"&gt;Link Text&lt;/a&gt;\n</code></pre>\n\n<p>It gets around the need to return false. I don't like the <code>#</code> option because, as mentioned, it will take the user to the top of the page. If you have somewhere else to send the user if they don't have JavaScript enabled (which is rare where I work, but a very good idea), then Steve's proposed method works great. </p>\n\n<pre><code>&lt;a href=\"javascriptlessDestination.html\" onclick=\"myJSFunc(); return false;\"&gt;Link text&lt;/a&gt;\n</code></pre>\n\n<p>Lastly, you can use <code>javascript:void(0)</code> if you do not want anyone to go anywhere and if you don't want to call a JavaScript function. It works great if you have an image you want a mouseover event to happen with, but there's not anything for the user to click on.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I believe you are presenting a false dichotomy. These are not the only two options. </p>\n\n<p>I agree with Mr. D4V360 who suggested that, even though you are using the anchor tag, you do not truly have an anchor here. All you have is a special section of a document that should behave slightly different. A  tag is far more appropriate.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>If</strong> you use a link as a way to <strong>just</strong> execute some JavaScript code (instead of using a span like D4V360 greatly suggested), just do:</p>\n\n<pre><code>&lt;a href=\"javascript:(function()%7Balert(%22test%22)%3B%7D)()%3B\"&gt;test&lt;/a&gt;\n</code></pre>\n\n<p>If you're using a link with onclick for navigation, don't use href=\"#\" as the fallback when JavaScript is off. It's usually very annoying when the user clicks on the link. Instead, provide the same link the onclick handler would provide if possible. If you can't do that, skip the onclick and just use a JavaScript URI in the href.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I use <code>javascript:void(0)</code>.</p>\n\n<p>Three reasons. Encouraging the use of # amongst a team of developers inevitably leads to some using the return value of the function called like this:</p>\n\n<pre><code>function doSomething() {\n    //Some code\n    return false;\n}\n</code></pre>\n\n<p>But then they forget to use <code>return doSomething()</code> in the onclick and just use <code>doSomething()</code>.</p>\n\n<p>A second reason for avoiding <code>#</code> is that the final <code>return false;</code> will not execute if the called function throws an error. Hence the developers have to also remember to handle any error appropriately in the called function.</p>\n\n<p>A third reason is that there are cases where the <code>onclick</code> event property is assigned dynamically.  I prefer to be able to call a function or assign it dynamically without having to code the function specifically for one method of attachment or another. Hence my <code>onclick</code> (or on anything) in HTML markup look like this:</p>\n\n<pre><code>onclick=\"someFunc.call(this)\"\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>onclick=\"someFunc.apply(this, arguments)\"\n</code></pre>\n\n<p>Using <code>javascript:void(0)</code> avoids all of the above headaches, and I haven't found any examples of a downside.</p>\n\n<p>So if you're a lone developer then you can clearly make your own choice, but if you work as a team you have to either state:</p>\n\n<p>Use <code>href=\"#\"</code>, make sure <code>onclick</code> always contains <code>return false;</code> at the end, that any called function does not throw an error and if you attach a function dynamically to the <code>onclick</code> property make sure that as well as not throwing an error it returns <code>false</code>.</p>\n\n<p>OR</p>\n\n<p>Use <code>href=\"javascript:void(0)\"</code></p>\n\n<p>The second is clearly much easier to communicate.</p>\n",
                    "is_accepted": false,
                    "score": 1273
                },
                {
                    "body": "<p>If you are using an <code>&lt;a&gt;</code> element, just use this:</p>\n\n<pre><code>&lt;a href=\"javascript:myJSFunc();\" /&gt;myLink&lt;/a&gt;\n</code></pre>\n\n<p>Personally I'd attach an event handler with JavaScript later on instead (using <code>attachEvent</code> or <code>addEventListener</code> or maybe &lt;put your favorite JavaScript framework here &gt; also).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I agree with suggestions elsewhere stating that you should use regular URL in <code>href</code> attribute, then call some JavaScript function in onclick. The flaw is, that they automaticaly add <code>return false</code> after the call.</p>\n\n<p>The problem with this approach is, that if the function will not work or if there will be any problem, the link will become unclickable. Onclick event will always return <code>false</code>, so the normal URL will not be called.</p>\n\n<p>There's very simple solution. Let function return <code>true</code> if it works correctly. Then use the returned value to determine if the click should be cancelled or not:</p>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>function doSomething() {\n    alert( 'you clicked on the link' );\n    return true;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;a href=\"path/to/some/url\" onclick=\"return !doSomething();\"&gt;link text&lt;/a&gt;\n</code></pre>\n\n<hr>\n\n<p>Note, that I negate the result of the <code>doSomething()</code> function. If it works, it will return <code>true</code>, so it will be negated (<code>false</code>) and the <code>path/to/some/URL</code> will not be called. If the function will return <code>false</code> (for example, the browser doesn't support something used within the function or anything else goes wrong), it is negated to <code>true</code> and the <code>path/to/some/URL</code> is called.</p>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>I recommend using a <code>&lt;button&gt;</code> element instead, <em>especially</em> if the control is supposed to produce a change in the data. (Something like a POST.)</p>\n\n<p>It's even better if you inject the elements unobtrusively, a type of progressive enhancement. (See <a href=\"http://stackoverflow.com/questions/134845/href-for-javascript-links-or-javascriptvoid0#134957\">this comment</a>.)</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Usually, you should always have a fall back link to make sure that clients with JavaScript disabled still has some functionality. This concept is called unobtrusive JavaScript. Example... Let's say you have the following search link:</p>\n\n<pre><code>&lt;a href=\"search.php\" id=\"searchLink\"&gt;Search&lt;/a&gt;\n</code></pre>\n\n<p>You can always do the following:</p>\n\n<pre><code>var link = document.getElementById('searchLink');\n\nlink.onclick = function() {\n    try {\n        // Do Stuff Here        \n    } finally {\n        return false;\n    }\n};\n</code></pre>\n\n<p>That way, people with JavaScript disabled are directed to <code>search.php</code> while your viewers with JavaScript view your enhanced functionality.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>It would be better to use jQuery,</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"a\").css(\"cursor\", \"pointer\");\n});\n</code></pre>\n\n<p>and omit both <code>href=\"#\"</code> and <code>href=\"javascript:void(0)\"</code>.</p>\n\n<p>The anchor tag markup will be like </p>\n\n<pre><code>&lt;a onclick=\"hello()\"&gt;Hello&lt;/a&gt;\n</code></pre>\n\n<p>Simple enough!</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Just to pick up the point some of the other have mentioned.</p>\n\n<p>It's much better to bind the event 'onload'a or $('document').ready{}; then to put JavaScript directly into the click event.</p>\n\n<p>In the case that JavaScript isn't available, I would use a href to the current URL, and perhaps an anchor to the position of the link. The page is still be usable for the people without JavaScript those who have won't notice any difference.</p>\n\n<p>As I have it to hand, here is some jQuery which might help:</p>\n\n<pre><code>var [functionName] = function() {\n};\n\njQuery(\"[link id or other selector]\").bind(\"click\", [functionName]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can also write a hint in an anchor like this:</p>\n\n<pre><code>&lt;a href=\"javascript:void('open popup image')\" onclick=\"return f()\"&gt;...&lt;/a&gt;\n</code></pre>\n\n<p>so the user will know what this link does.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I use the following</p>\n\n<pre><code>&lt;a href=\"javascript:;\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p>instead</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>Definitely hash (<code>#</code>) is better because in JavaScript it is a pseudoscheme:</p>\n\n<ol>\n<li>pollutes history </li>\n<li>instantiates new copy of engine </li>\n<li>runs in global scope and doesn't respect event system. </li>\n</ol>\n\n<p>Of course \"#\" with an onclick handler which prevents default action is [much] better. Moreover, a link that has the sole purpose to run JavaScript is not really \"a link\" unless you are sending user to some sensible anchor on the page (just # will send to top) when something goes wrong. You can simply simulate look and feel of link with stylesheet and forget about href at all.</p>\n\n<p>In addition, regarding cowgod's suggestion, particularly this: ...href=\"javascript_required.html\" onclick=\"... This is good approach, but it doesn't distinguish between \"JavaScript disabled\" and \"onclick fails\" scenarios.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p><code>#</code> is better than <code>javascript:anything</code>, but the following is even better:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;a href=\"/gracefully/degrading/url/with/same/functionality.ext\" class=\"some-selector\"&gt;For great justice&lt;/a&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>$(function() {\n    $(\".some-selector\").click(myJsFunc);\n});\n</code></pre>\n\n<p>You should always strive for graceful degradation (in the event that the user doesn't have JavaScript enabled...and when it is with specs. and budget).  Also, it is considered bad form to use JavaScript attributes and protocol directly in HTML.</p>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>In total agreement with the overall sentiment, use <code>void(0)</code> when you need it, and use a valid URL when you need it.</p>\n\n<p>Using <a href=\"http://en.wikipedia.org/wiki/Rewrite_engine\">URL rewriting</a> you can make URLs that not only do what you want to do with JavaScript disabled, but also tell you exactly what its going to do.</p>\n\n<pre><code>&lt;a href=\"./Readable/Text/URL/Pointing/To/Server-Side/Script\" id=\"theLinkId\"&gt;WhyClickHere&lt;/a&gt;\n</code></pre>\n\n<p>On the server side, you just have to parse the URL and query string and do what you want. If you are clever, you can allow the server side script to respond to both Ajax and standard requests differently. Allowing you to have concise centralized code that handles all the links on your page.</p>\n\n<p><a href=\"http://www.easymodrewrite.com/\">URL rewriting tutorials</a></p>\n\n<p>Pros</p>\n\n<ul>\n<li>Shows up in status bar</li>\n<li>Easily upgraded to Ajax via onclick handler in JavaScript</li>\n<li>Practically comments itself</li>\n<li>Keeps your directories from becoming littered with single use HTML files</li>\n</ul>\n\n<p>Cons</p>\n\n<ul>\n<li>Should still use event.preventDefault() in JavaScript</li>\n<li>Fairly complex path handling and URL parsing on the server side.</li>\n</ul>\n\n<p>I am sure there are tons more cons out there. Feel free to discuss them.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>There is one more important thing to remember here. <a href=\"http://en.wikipedia.org/wiki/Section_508_Amendment_to_the_Rehabilitation_Act_of_1973\">Section 508</a> compliance.\nBecause of it, I feel it's necessary to point out that you need the anchor tag for screen readers such as <a href=\"http://en.wikipedia.org/wiki/JAWS_%28screen_reader%29\">JAWS</a> to be able to focus it through tabbing. So the solution \"just use JavaScript and forget the anchor to begin with\" is not an option for some of this. Firing the JavaScript inside the href is only necessary if you can't afford for the screen to jump back up to the top. You can use a settimeout for 0 seconds and have JavaScript fire to where you need focus but even the apage will jump to the top and then back. </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I choose use javascript:void(0), because use this could prevent right click to open the content menu.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Using just \"#\" makes some funny movements, so I would recommend to use \"#self\" if you would like to save on typing efforts of \"JavaScript bla, bla,\".</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>I strongly prefer to keep my JavaScript out of my HTML markup as much as possible. If I'm using <code>&lt;a&gt;</code> as click event handlers then I'd recommend using <code>&lt;a class=\"trigger\" href=\"#\"&gt;Click me!&lt;/a&gt;</code>.</p>\n\n<pre><code>$('.trigger').click(function (e) {\n    e.preventDefault();\n    // Do stuff...\n});\n</code></pre>\n\n<p>It's very important to note that many developers out there believe that using anchor tags for click-event handlers isn't good. They'd prefer you to use a <code>&lt;span&gt;</code> or <code>&lt;div&gt;</code> with some CSS that adds <code>cursor: pointer;</code> to it. This is a matter if much debate.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I'm basically paraphrasing from <a href=\"http://www.matthidinger.com/archive/2011/02/22/Progressive-enhancement-tutorial-with-ASP-NET-MVC-3-and-jQuery.aspx\">this practical article using progressive enhancement</a>. <strong>The short answer is that you never use <code>javascript:void(0);</code> or <code>#</code> unless your user interface has already inferred that JavaScript is enabled, in which case you should use <code>javascript:void(0);</code></strong>. Also, do not use span as links, since that is semantically false to begin with.</p>\n\n<p>Using <a href=\"http://en.wikipedia.org/wiki/Search_engine_optimization\">SEO</a> friendly URL routes in your application, such as /Home/Action/Parameters is a good practice as well. If you have a link to a page that works without JavaScript first, you can enhance the experience afterward. Use a real link to a working page, then add an onlick event to enhance the presentation.</p>\n\n<p>Here is a sample. Home/ChangePicture is a working link to a form on a page complete with user interface and standard HTML submit buttons, but it looks nicer injected into a modal dialog with jQueryUI buttons. Either way works, depending on the browser, which satisfies mobile first development.</p>\n\n<pre><code>&lt;p&gt;&lt;a href=\"Home/ChangePicture\" onclick=\"return ChangePicture_onClick();\" title=\"Change Picture\"&gt;Change Picture&lt;/a&gt;&lt;/p&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function ChangePicture_onClick() {\n        $.get('Home/ChangePicture',\n              function (htmlResult) {\n                  $(\"#ModalViewDiv\").remove(); //Prevent duplicate dialogs\n                  $(\"#modalContainer\").append(htmlResult);\n                  $(\"#ModalViewDiv\").dialog({\n                      width: 400,\n                      modal: true,\n                      buttons: {\n                          \"Upload\": function () {\n                              if(!ValidateUpload()) return false;\n                              $(\"#ModalViewDiv\").find(\"form\").submit();\n                          },\n                          Cancel: function () { $(this).dialog(\"close\"); }\n                      },\n                      close: function () { }\n                  });\n              }\n        );\n        return false;\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>What I understand from your words is that you want to create a link just to run JavaScript code.</p>\n\n<p>Then you should consider that there are people who blocks JavaScript out there in their browsers.</p>\n\n<p>So if you are really going to use that link only for running a JavaScript function then you should add it dynamically so it won't be even seen if the users didn't enable their JavaScript in the browser and you are using that link just to trigger a JavaScript function which makes no sense to use a link like that when JavaScript is disabled in the browser.</p>\n\n<p>For that reason neither of them is good when JavaScript is disabled.</p>\n\n<p>Aand if JavaScript is enabled and you only want to use that link to invoke a JavaScript function then</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p>is far better way than using</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p>because href=\"#\" is going to cause the page to do actions that are not needed.</p>\n\n<p>Also, another reason why <code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;</code> is better than <code>&lt;a href=\"#\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;</code> is that JavaScript is used as the default scripting language for most of the browsers. As an example Internet&nbsp;Explorer, uses an onclick attribute to define the type of scripting language that would be used. Unless another good scripting language pops up, JavaScript will be used by Internet&nbsp;Explorer as the default too, but if another scripting language used <code>javascript:</code>, it would let Internet&nbsp;Explorer to understand which scripting language is being used.</p>\n\n<p>Considering this, I would prefer using and exercising on</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p>enough to make it a habit and to be more user friendly please add that kind of links within the JavaScript code:</p>\n\n<pre><code>$(document).ready(function(){\n    $(\".blabla\").append('&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;')\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I would honestly suggest neither.  I would use a stylized <code>&lt;button&gt;&lt;/button&gt;</code> for that behavior.</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>button.link {\n    display:inline-block;\n    position:relative;\n    background-color: transparent;\n    cursor: pointer;\n    border:0;\n    padding:0;\n    color:#00f;\n    text-decoration:underline;\n}\n</code></pre>\n\n<p>This way you can assign your onclick.  I also suggest binding via script, not using the <code>onclick</code> attribute on the element tag.  The only gotcha is the psuedo 3d text effect in older IEs that cannot be disabled.</p>\n\n<hr>\n\n<p>If you <em>MUST</em> use an A element, use <code>javascript:void(0);</code> for reasons already mentioned.</p>\n\n<ul>\n<li>Will always intercept in case your onclick event fails.</li>\n<li>Will not have errant load calls happen, or trigger other events based on a hash change</li>\n<li>The hash tag can cause unexpected behavior if the click falls through (onclick throws), avoid it unless it's an appropriate fall-through behavior, and you want to change the navigation history.</li>\n</ul>\n\n<p>NOTE: You can replace the <code>0</code> with a string such as <code>javascript:void('Delete record 123')</code> which can serve as an extra indicator that will show what the click will actually do.</p>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>I would use:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"myJsFunc();return false;\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p><strong>Reasons:</strong></p>\n\n<ol>\n<li>This makes the <code>href</code> simple, search engines need it. If you use anything else ( such as a string), it may cause a <code>404 not found</code> error.</li>\n<li>When mouse hovers over the link, it doesn't show that it is a script.</li>\n<li>By using <code>return false;</code>, the page doesn't jump to the top or break the <code>back</code> button.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Doing <code>&lt;a href=\"#\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;</code> or <code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Link&lt;/a&gt;</code> or whatever else that contains an <code>onclick</code> attribute - was okay back five years ago, though now it can be a bad practice. Here's why:</p>\n\n<ol>\n<li><p>It promotes the practice of obtrusive JavaScript - which has turned out to be difficult to maintain and difficult to scale. More on this in <em><a href=\"http://en.wikipedia.org/wiki/Unobtrusive_JavaScript\">Unobtrusive JavaScript</a></em>.</p></li>\n<li><p>You're spending your time writing incredibly overly verbose code - which has very little (if any) benefit to your codebase.</p></li>\n<li><p>There are now better, easier, and more maintainable and scalable ways of accomplishing the desired result.</p></li>\n</ol>\n\n<h2>The unobtrusive JavaScript way</h2>\n\n<p>Just don't have a <code>href</code> attribute at all! Any good CSS reset would take care of the missing default cursor style, so that is a non-issue. Then attach your JavaScript functionality using graceful and unobtrusive  best practices - which are more maintainable as your JavaScript logic stays in JavaScript, instead of in your markup - which is essential when you start developing large scale JavaScript applications which require your logic to be split up into blackboxed components and templates. More on this in <em><a href=\"http://speakerdeck.com/u/addyosmani/p/large-scale-javascript-application-architecture\">Large-scale JavaScript Application Architecture</a></em>)</p>\n\n<h2>Simple code example</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Cancel click event\r\n$('.cancel-action').click(function(){\r\n    alert('Cancel action occurs!');\r\n});\r\n\r\n// Hover shim for Internet Explorer 6 and Internet Explorer 7.\r\n$(document.body).on('hover','a',function(){\r\n    $(this).toggleClass('hover');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>a { cursor: pointer; color: blue; }\r\na:hover,a.hover { text-decoration: underline; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;a class=\"cancel-action\"&gt;Cancel this action&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n    </p>\n\n<h2>A blackboxed <em><a href=\"http://documentcloud.github.com/backbone/\">Backbone.js</a></em> example</h2>\n\n<p>For a scalable, blackboxed, Backbone.js component example - <em><a href=\"http://jsfiddle.net/balupton/sTzdD/\">see this working jsfiddle example here</a></em>. Notice how we utilize unobtrusive JavaScript practices, and in a tiny amount of code have a component that can be repeated across the page multiple times without side-effects or conflicts between the different component instances. Amazing!</p>\n\n<h2>Notes</h2>\n\n<ul>\n<li><p>Omitting the <code>href</code> attribute on the <code>a</code> element will cause the element to not be accessible using <code>tab</code> key navigation. If you wish for those elements to be accessible via the <code>tab</code> key, you can set the <code>tabindex</code> attribute, or use <code>button</code> elements instead. You can easily style button elements to look like normal links as mentioned in <em><a href=\"http://stackoverflow.com/a/8525002/130638\">Tracker1's answer</a></em>.</p></li>\n<li><p>Omitting the <code>href</code> attribute on the <code>a</code> element will cause <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_6\">Internet&nbsp;Explorer&nbsp;6</a> and <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_7\">Internet&nbsp;Explorer&nbsp;7</a> to not take on the <code>a:hover</code> styling, which is why we have added a simple JavaScript shim to accomplish this via <code>a.hover</code> instead. Which is perfectly okay, as if you don't have a href attribute and no graceful degradation then your link won't work anyway - and you'll have bigger issues to worry about.</p></li>\n<li><p>If you want your action to still work with JavaScript disabled, then using an <code>a</code> element with a <code>href</code> attribute that goes to some URL that will perform the action manually instead of via an Ajax request or whatever should be the way to go. If you are doing this, then you want to ensure you do an <code>event.preventDefault()</code> on your click call to make sure when the button is clicked it does not follow the link. This option is called graceful degradation.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 421
                },
                {
                    "body": "<p>Here is one more option for completeness sake, that prevents the link from doing anything even if JavaScript is disabled, and it's short :)</p>\n\n<pre><code>&lt;a href=\"#void\" onclick=\"myJsFunc()\"&gt;Run JavaScript function&lt;/a&gt;\n</code></pre>\n\n<p>If the id is not present on the page, then the link will do nothing.</p>\n\n<p>Generally, I agree with the Aaron Wagner's answer, the JavaScript link should be injected with JavaScript code into the document.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I see a lot of answers by people who want to keep using <code>#</code> values for <code>href</code>, hence, here is an answer hopefully satisfying both camps:</p>\n\n<p><strong>A)</strong> I'm happy to have <code>javascript:void(0)</code> as my <code>href</code> value:</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"someFunc.call(this)\"&gt;Link Text&lt;/a&gt;\n</code></pre>\n\n<p><strong>B)</strong> I am using jQuery, and want <code>#</code> as my <code>href</code> value:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"someFunc.call(this)\"&gt;Link Text&lt;/a&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    /* Stop page jumping when javascript links are clicked.\n       Only select links where the href value is a #. */\n    $('a[href=\"#\"]').live(\"click\", function(e) {\n         return false; // prevent default click action from happening!\n         e.preventDefault(); // same thing as above\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Note, if you know links won't be created dynamically, use the <code>click</code> function instead: </p>\n\n<p><code>$('a[href=\"#\"]').click(function(e) {</code></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>When I've got several faux-links, I prefer to give them a class of 'no-link'.</p>\n\n<p>Then in jQuery, I add the following code:</p>\n\n<pre><code>$(function(){\n   $('.no-link').click(function(e){\n       e.preventDefault();\n   });\n});\n</code></pre>\n\n<p>And for the HTML, the link is simply</p>\n\n<pre><code>&lt;a href=\"/\" class=\"no-link\"&gt;Faux-Link&lt;/a&gt;\n</code></pre>\n\n<p>I don't like using Hash-Tags unless they're used for anchors, and I only do the above when I've got more than two faux-links, otherwise I go with javascript:void(0).</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" class=\"no-link\"&gt;Faux-Link&lt;/a&gt;\n</code></pre>\n\n<p>Typically, I like to just avoid using a link at all and just wrap something around in a span and use that as a way to active some JavaScript code, like a pop-up or a content-reveal.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You could use the href and remove all links that have only hashes:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"run_foo()\"&gt; foo &lt;/a&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$(document).ready(function(){         // on DOM ready or some other event\n\n   $('a[href=#]').attr('href','');    // set all reference handles to blank strings\n                                      //  for anchors that have only hashes\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You <strong>should not use</strong> inline <code>onclick=\"something();\"</code> in your HTML to not polluate it with meaningless code; all click bindings must be set in Javascript files (*.js).</p>\n\n<p>Set binding like this : <code>$('#myAnchor').click(function(){... **return false**;});</code>  or  <code>$('#myAnchor').bind('click', function(){... **return false**;});</code></p>\n\n<p>Then you have a clean HTML file easy to load (and seo friendly) without thousands of <code>href=\"javascript:void(0);\"</code> and just <code>href=\"#\"</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If there is no <code>href</code> maybe there is no reason to use an anchor tag.</p>\n\n<p>You can attach events (click, hover, etc.) on almost every element, so why not just use a <code>span</code>or a <code>div</code>?</p>\n\n<p>And for users with JavaScript disabled: if there isn't a fallback (for example, an alternative <code>href</code>), they should at least not be able to see and interact with that element at all, whatever it is an <code>&lt;a&gt;</code> or a <code>&lt;span&gt;</code> tag.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>If you happen to be using <a href=\"http://angularjs.org/\"><strong>AngularJS</strong></a>, you can use the following:</p>\n\n<pre><code>&lt;a href=\"\"&gt;Do some fancy JavaScript&lt;/a&gt;\n</code></pre>\n\n<p>Which will not do anything.</p>\n\n<p>In addition</p>\n\n<ul>\n<li>It will not take you to the top of the page, as with (#)\n<ul>\n<li>Therefore, you don't need to explicitly return <code>false</code> with JavaScript</li>\n</ul></li>\n<li>It is short an concise</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>So, when you are doing some JavaScript things with an <code>&lt;a /&gt;</code> tag and if you put <code>href=\"#\"</code> as well, you can add <strong>return false</strong> at the end of the event <em>(in case of inline event binding)</em> like:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"myJsFunc(); return false;\"&gt;Run JavaScript Code&lt;/a&gt;\n</code></pre>\n\n<p><em>Or you can change the <strong>href</strong> attribute with JavaScript like:</em></p>\n\n<pre><code>&lt;a href=\"javascript://\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/a&gt;\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/a&gt;\n</code></pre>\n\n<hr>\n\n<p>But semantically, all the above ways to achieve this are wrong <em>(it works fine though)</em>. If any element is not created to navigate the page and that have some JavaScript things associated with it, then it should not be a <code>&lt;a&gt;</code> tag. </p>\n\n<p>You can simply use a <code>&lt;button /&gt;</code> instead to do things or any other element like b, span or whatever fits there as per your need, because you are allowed to add events on all the elements.</p>\n\n<hr>\n\n<p>So, <strong>there is one benefit</strong> to use <code>&lt;a href=\"#\"&gt;</code>. You get the cursor pointer by default on that element when you do <code>a href=\"#\"</code>. For that, I think you can use CSS for this like <code>cursor:pointer;</code> which solves this problem also.</p>\n\n<p>And at the end, if you are binding the event from the JavaScript code itself, there you can do <code>event.preventDefault()</code> to achieve this if you are using <code>&lt;a&gt;</code> tag, but if you are not using a <code>&lt;a&gt;</code> tag for this, there you get an advantage, you don't need to do this.</p>\n\n<p>So, if you see, it's better not to use a tag for this kind of stuff.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I use href=\"#\" for links that I want a dummy behaviour for. Then I use this code:</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"a[href='#']\").click(function(event) {\n        event.preventDefault();\n    });\n});\n</code></pre>\n\n<p>Meaning if the href equals to a hash (*=\"#\") it prevents the default link behaviour, thus still allowing you to write functionality for it, and it doesn't affect anchor clicks.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'd say the best way is to make an href anchor to an ID you'd never use, like #Do1Not2Use3This4Id5 or a similar ID, that you are 100% sure no one will use and won't offend people.</p>\n\n<ol>\n<li><code>Javascript:void(0)</code> is a bad idea and violates Content Security Policy on CSP-enabled HTTPS pages <a href=\"https://developer.mozilla.org/en/docs/Security/CSP\" rel=\"nofollow\">https://developer.mozilla.org/en/docs/Security/CSP</a> (thanks to @jakub.g)</li>\n<li>Using just <code>#</code> will have the user jump back to the top when pressed</li>\n<li>Won't ruin the page if JavaScript isn't enabled (unless you have JavaScript  detecting code</li>\n<li>If JavaScript is enabled you can disable the default event</li>\n<li>You have to use href unless you know how to prevent your browser from selecting some text, (don't know if using 4 will remove the thing that stops the browser from selecting text)</li>\n</ol>\n\n<p>Basically no one mentioned 5 in this article which I think is important as your site comes off as unprofessional if it suddenly starts selecting things around the link.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I personally use them in combination. For example:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;a href=\"#\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<hr>\n\n<p>with little bit of jQuery</p>\n\n<pre><code>$('a[href=\"#\"]').attr('href','javascript:void(0);');\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$('a[href=\"#\"]').click(function(e) {\n   e.preventDefault();\n});\n</code></pre>\n\n<p>But I'm using that just for preventing the page jumping to the top when the user clicks on an empty anchor. I'm rarely using onClick and other <code>on</code> events directly in HTML.</p>\n\n<p>My suggestion would be to use <code>&lt;span&gt;</code> element with the <code>class</code> attribute instead of\nan anchor. For example:</p>\n\n<pre><code>&lt;span class=\"link\"&gt;Link&lt;/span&gt;\n</code></pre>\n\n<hr>\n\n<p>Then assign the function to <code>.link</code> with a script wrapped in the body and just before the <code>&lt;/body&gt;</code> tag or in an external JavaScript document.</p>\n\n<pre><code>&lt;script&gt;\n    (function($) {\n        $('.link').click(function() {\n            ... code to execute ...\n        });\n    })(jQuery);\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>*Note:</strong> For dynamically created elements, use:</p>\n\n<pre><code>$('.link').on('click', function() {\n    ... code to execute ...\n});\n</code></pre>\n\n<p>And for dynamically created elements which are created with dynamically created elements, use:</p>\n\n<pre><code>$(document).on('click','.link', function() {\n    ... code to execute ...\n});\n</code></pre>\n\n<hr>\n\n<p>Then you can style the span element to look like an anchor with a little CSS:</p>\n\n<pre><code>.link {\n    color: #0000ee;\n    text-decoration: underline;\n    cursor: pointer;\n}\n.link:active {\n    color: red;\n}\n</code></pre>\n\n<p>Here's <strong><a href=\"http://jsFiddle.net/mdesdev/Dn8YT/\" rel=\"nofollow\">a jsFiddle</a></strong> example of above aforementioned.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Why not using this? This doesn't scroll page up.</p>\n\n<pre><code>&lt;span role=\"button\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/span&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>When building a link that has the sole purpose to run JavaScript code, there are two ways to write the code. Which of the following is better, in terms of functionality, page load speed, validation purposes, etc.?</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/a&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/a&gt;\n</code></pre>\n",
            "last_activity_date": 1419442385,
            "question_id": 134845,
            "score": 2062,
            "tags": [
                "javascript",
                "html",
                "performance",
                "optimization",
                "href"
            ],
            "title": "Href attribute for JavaScript links: &quot;#&quot; or &quot;javascript:void(0)&quot;?"
        },
        {
            "answer_count": 19,
            "answers": [
                {
                    "body": "<p>Quick <em>and</em> easy:</p>\n\n<pre><code>function preload(arrayOfImages) {\n    $(arrayOfImages).each(function(){\n        $('&lt;img/&gt;')[0].src = this;\n        // Alternatively you could use:\n        // (new Image()).src = this;\n    });\n}\n\n// Usage:\n\npreload([\n    'img/imageName.jpg',\n    'img/anotherOne.jpg',\n    'img/blahblahblah.jpg'\n]);\n</code></pre>\n\n<p>Or, if you want a jQuery plugin:</p>\n\n<pre><code>$.fn.preload = function() {\n    this.each(function(){\n        $('&lt;img/&gt;')[0].src = this;\n    });\n}\n\n// Usage:\n\n$(['img1.jpg','img2.jpg','img3.jpg']).preload();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 809
                },
                {
                    "body": "<p>JP, After checking your solution, I was still having issues in Firefox where it wouldn't preload the images before moving along with loading the page. I discovered this by putting some <code>sleep(5)</code> in my server side script. I implemented the following solution based off yours which seems to solve this.</p>\n\n<p>Basically I added a callback to your jQuery preload plugin, so that it gets called after all the images are properly loaded.</p>\n\n<pre><code>// Helper function, used below.\n// Usage: ['img1.jpg','img2.jpg'].remove('img1.jpg');\nArray.prototype.remove = function(element) {\n  for (var i = 0; i &lt; this.length; i++) {\n    if (this[i] == element) { this.splice(i,1); }\n  }\n};\n\n// Usage: $(['img1.jpg','img2.jpg']).preloadImages(function(){ ... });\n// Callback function gets called after all images are preloaded\n$.fn.preloadImages = function(callback) {\n  checklist = this.toArray();\n  this.each(function() {\n    $('&lt;img&gt;').attr({ src: this }).load(function() {\n      checklist.remove($(this).attr('src'));\n      if (checklist.length == 0) { callback(); }\n    });\n  });\n};\n</code></pre>\n\n<p>Out of interest, in my context, I'm using this as follows:</p>\n\n<pre><code>$.post('/submit_stuff', { id: 123 }, function(response) {\n  $([response.imgsrc1, response.imgsrc2]).preloadImages(function(){\n    // Update page with response data\n  });\n});\n</code></pre>\n\n<p>Hopefully this helps someone who comes to this page from Google (as I did) looking for a solution to preloading images on Ajax calls.</p>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>this jquery <a href=\"http://alz.so/imageloader\">imageLoader</a> plugin is just 1.39kb</p>\n\n<p>usage:</p>\n\n<pre><code>$({}).imageLoader({\n    images: [src1,src2,src3...],\n    allcomplete:function(e,ui){\n        //images are ready here\n        $(document).ready(function(){\n            //your code - site.fadeIn() or something like that\n        });\n    }\n});\n</code></pre>\n\n<p>there are also other options like whether you want to load the images synchronously or asychronously and a complete event for each individual image.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I have a small plugin that handles this.</p>\n\n<p>It's called <a href=\"https://github.com/alexanderdickson/waitForImages\">waitForImages</a> and it can handle <code>img</code> elements or any element with a reference to an image in the CSS, e.g. <code>div { background: url(img.png) }</code>.</p>\n\n<p>If you simply wanted to load <em>all</em> images, including ones referenced in the CSS, here is how you would do it :)</p>\n\n<pre><code>$('body').waitForImages({\n    waitForAll: true,\n    finished: function() {\n       // All images have loaded.\n    }  \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Thanks for this! I'd liek to add a little riff on the J-P's answer - I don't know if this will help anyone, but this way you don't have to create an array of images, and you can preload all your large images if you name your thumbs correctly. This is handy because I have someone who is writing all the pages in html, and it ensures one less step for them to do - eliminating the need to create the image array, and another step where things could get screwed up.</p>\n\n<pre><code>$(\"img\").each(function(){\n    var imgsrc = $(this).attr('src');\n    if(imgsrc.match('_th.jpg') || imgsrc.match('_home.jpg')){\n      imgsrc = thumbToLarge(imgsrc);\n      (new Image()).src = imgsrc;   \n    }\n});\n</code></pre>\n\n<p>Basically, for each image on the page it grabs the src of each image, if it matches certain criteria (is a thumb, or home page image) it changes the name(a basic string replace in the image src), then loads the images.</p>\n\n<p>In my case the page was full of thumb images all named something like image_th.jpg, and all the corresponding large images are named image_lg.jpg. The thumb to large just replaces the _th.jpg with _lg.jpg and then preloads all the large images.</p>\n\n<p>Hope this helps someone.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Here's a tweaked version of the first response that actually loads the images into DOM and hides it by default.</p>\n\n<pre><code>function preload(arrayOfImages) {\n    $(arrayOfImages).each(function () {\n        $('&lt;img /&gt;').attr('src',this).appendTo('body').css('display','none');\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 67
                },
                {
                    "body": "<p>This one line jQuery code creates (and loads) a DOM element img without showing it:</p>\n\n<pre><code>$('&lt;img src=\"img/1.jpg\"/&gt;');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>you can load images in your html somewhere using css <code>display:none;</code> rule, then show them when you want with js or jquery</p>\n\n<p>don't use js or jquery functions to preload is just a css rule Vs many lines of js to be executed</p>\n\n<p>example: Html</p>\n\n<pre><code>&lt;img src=\"someimg.png\" class=\"hide\" alt=\"\"/&gt;\n</code></pre>\n\n<p>Css:</p>\n\n<pre><code>.hide{\ndisplay:none;\n}\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>//if want to show img \n$('.hide').show();\n//if want to hide\n$('.hide').hide();\n</code></pre>\n\n<p>Preloading images by jquery/javascript is not good cause images takes few milliseconds to load in page + you have milliseconds for the script to be parsed and executed, expecially then if they are big images, so hiding them in hml is better also for performance, cause image is really preloaded without beeing visible at all, until you show that!</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<pre><code>function preload(imgs) {\n$(imgs).each(function(index, value){\n        $('&lt;img /&gt;').attr('src',value).appendTo('body').css('display','none');\n    });\n}\n</code></pre>\n\n<p><code>.attr('src',value)</code></p>\n\n<p>not</p>\n\n<p><code>.attr('src',this)</code></p>\n\n<p>just to point it out :)</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>All hipsters wrote there own version, so here's mine. It appends a hidden div to the body and fills it with the required images. I wrote it in Coffee Script. Here's the Coffee, the normal js, and the compressed js.</p>\n\n<p>Coffee:</p>\n\n<pre><code>$.fn.preload = () -&gt;\n    domHolder = $( '&lt;div/&gt;' ).hide()\n    $( 'body' ).append domHolder\n    this.each ( i, e) =&gt;\n        domHolder.append( $('&lt;img/&gt;').attr('src', e) )\n</code></pre>\n\n<p>Normal:</p>\n\n<pre><code>(function() {\n\n  $.fn.preload = function() {\n    var domHolder,\n      _this = this;\n    domHolder = $('&lt;div&gt;&lt;/div&gt;').css('display', 'none');\n    $('body').append(domHolder);\n    return this.each(function(i, e) {\n      return domHolder.append($('&lt;img/&gt;').attr('src', e));\n    });\n  };\n\n}).call(this);\n</code></pre>\n\n<p>Compressed:</p>\n\n<pre><code>function(){$.fn.preload=function(){var a,b=this;return a=$(\"&lt;div&gt;&lt;/div&gt;\").css(\"display\",\"none\"),$(\"body\").append(a),this.each(function(b,c){return a.append($(\"&lt;img/&gt;\").attr(\"src\",c))})}}.call(this);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -6
                },
                {
                    "body": "<p>A quick, plugin-free way to preload images in jQuery and get a callback function is to create multiple <code>img</code> tags at once and count the responses, e.g.</p>\n\n<pre><code>function preload(files, cb) {\n    var len = files.length;\n    $(files.map(function(f) {\n        return '&lt;img src=\"'+f+'\" /&gt;';\n    }).join('')).load(function () {\n        if(--len===0) {\n            cb();\n        }\n    });\n}\n\npreload([\"one.jpg\", \"two.png\", \"three.png\"], function() {\n    /* Code here is called once all files are loaded. */\n});\n\u200b    \u200b\n</code></pre>\n\n<p>Note that if you want to support IE7, you'll need to use this slightly less pretty version (Which also works in other browsers):</p>\n\n<pre><code>function preload(files, cb) {\n    var len = files.length;\n    $($.map(files, function(f) {\n        return '&lt;img src=\"'+f+'\" /&gt;';\n    }).join('')).load(function () {\n        if(--len===0) {\n            cb();\n        }\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Use JavaScript <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Canvas_tutorial/Using_images\" rel=\"nofollow\">Image object</a>.</p>\n\n<p>This function allows you to trigger a callback upon loading all pictures. However, note that it will never trigger a callback if at least one resource is not loaded. This can be easily fixed by implementing <code>onerror</code> callback and incrementing <code>loaded</code> value or handling the error.</p>\n\n<pre><code>var preloadPictures = function(pictureUrls, callback) {\n    var i,\n        j,\n        loaded = 0;\n\n    for (i = 0, j = pictureUrls.length; i &lt; j; i++) {\n        (function (img, src) {\n            img.onload = function () {                               \n                if (++loaded == pictureUrls.length &amp;&amp; callback) {\n                    callback();\n                }\n            };\n\n            // Use the following callback methods to debug\n            // in case of an unexpected behavior.\n            img.onerror = function () {};\n            img.onabort = function () {};\n\n            img.src = src;\n        } (new Image(), pictureUrls[i]));\n    }\n};\n\npreloadPictures(['http://foo/picture.bar', 'http://foo/picture.bar', 'http://foo/picture.bar', 'http://foo/picture.bar'], function(){\n    console.log('a');\n});\n\npreloadPictures(['http://foo/picture.bar', 'http://foo/picture.bar', 'http://foo/picture.bar', 'http://foo/picture.bar'], function(){\n    console.log('b');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>This works for me even in IE9:</p>\n\n<pre><code>$('&lt;img src=\"' + imgURL + '\"/&gt;').on('load', function(){ doOnLoadStuff(); });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>    jQuery.preloadImage=function(src,onSuccess,onError)\n    {\n        var img = new Image()\n        img.src=src;\n        var error=false;\n        img.onerror=function(){\n            error=true;\n            if(onError)onError.call(img);\n        }\n        if(error==false)    \n        setTimeout(function(){\n            if(img.height&gt;0&amp;&amp;img.width&gt;0){ \n                if(onSuccess)onSuccess.call(img);\n                return img;\n            }   else {\n                setTimeout(arguments.callee,5);\n            }   \n        },0);\n        return img; \n    }\n\n    jQuery.preloadImages=function(arrayOfImages){\n        jQuery.each(arrayOfImages,function(){\n            jQuery.preloadImage(this);\n        })\n    }\n // example   \n    jQuery.preloadImage(\n        'img/someimage.jpg',\n        function(){\n            /*complete\n            this.width!=0 == true\n            */\n        },\n        function(){\n            /*error*/\n        }\n    )\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>$.fn.preload = function (callback) {\n  var length = this.length;\n  var iterator = 0;\n\n  return this.each(function () {\n    var self = this;\n    var tmp = new Image();\n\n    if (callback) tmp.onload = function () {\n      callback.call(self, 100 * ++iterator / length, iterator === length);\n    };\n\n    tmp.src = this.src;\n  });\n};\n</code></pre>\n\n<p>The usage is quite simple:</p>\n\n<pre><code>$('img').preload(function(perc, done) {\n  console.log(this, perc, done);\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/yckart/ACbTK/\" rel=\"nofollow\">http://jsfiddle.net/yckart/ACbTK/</a></p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I use the following code:</p>\n\n<pre><code>$(\"#myImage\").attr(\"src\",\"img/spinner.gif\");\n\nvar img = new Image();\n$(img).load(function() {\n    $(\"#myImage\").attr(\"src\",img.src);\n});\nimg.src = \"http://example.com/imageToPreload.jpg\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I wanted to do this with a Google Maps API custom overlay. Their sample code simply uses JS to insert IMG elements and the image placeholder box is displayed until the image is loaded. I found an answer here that worked for me : <a href=\"http://stackoverflow.com/a/10863680/2095698\">http://stackoverflow.com/a/10863680/2095698</a> .</p>\n\n<pre><code>$('&lt;img src=\"'+ imgPaht +'\"&gt;').load(function() {\n$(this).width(some).height(some).appendTo('#some_target');\n});\n</code></pre>\n\n<p>This preloads an image as suggested before, and then uses the handler to append the img object after the img URL is loaded. jQuery's documentation warns that cached images don't work well with this eventing/handler code, but it's working for me in FireFox and Chrome, and I don't have to worry about IE.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>5 lines in coffeescript</p>\n\n<pre><code>array = ['/img/movie1.png','/img/movie2.png','/img/movie3.png']\n\n$(document).ready -&gt;\n  for index, image of array\n    img[index] = new Image()\n    img[index].src = image\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I would use an Manifest file to tell (modern) web browsers to also load all relevant images and cache them. Use Grunt and grunt-manifest to do this automatically and never worry again about preload scripts, cache invalidators, CDN etc. </p>\n\n<p><a href=\"https://github.com/gunta/grunt-manifest\" rel=\"nofollow\">https://github.com/gunta/grunt-manifest</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm looking for a quick and easy way to preload images with JavaScript. I'm using jQuery if that's important.</p>\n\n<p>I saw this here (<a href=\"http://nettuts.com/tutorials/javascript-ajax/the-definitive-guide-to-creating-a-practical-jquery-plugin/\">http://nettuts.com...</a>):</p>\n\n<pre><code>function complexLoad(config, fileNames) {\n  for (var x = 0; x &lt; fileNames.length; x++) {\n    $(\"&lt;img&gt;\").attr({\n      id: fileNames[x],\n      src: config.imgDir + fileNames[x] + config.imgFormat,\n      title: \"The \" + fileNames[x] + \" nebula\"\n    }).appendTo(\"#\" + config.imgContainer).css({ display: \"none\" });\n  }\n};\n</code></pre>\n\n<p>But, it looks a bit over-the-top for what I want!</p>\n\n<p>I know there are jQuery plugins out there that do this but they all seem a bit big (in size); I just need a quick, easy and short way of preloading images!</p>\n",
            "last_activity_date": 1422187327,
            "question_id": 476679,
            "score": 497,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Preloading images with jQuery"
        },
        {
            "answer_count": 46,
            "answers": [
                {
                    "body": "<p>Check the window click event target (it should propagate to the window, as long as it's not captured anywhere else), and ensure that it's not any of the menu elements.  If it's not, then you're outside your menu.</p>\n\n<p>Or check the position of the click, and see if it's contained within the menu area.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Attach a click event to the document body which closes the window. Attach a separate click event to the window which stops propagation to the document body.</p>\n\n<pre><code>$('html').click(function() {\n//Hide the menus if visible\n});\n\n$('#menucontainer').click(function(event){\n    event.stopPropagation();\n});\n</code></pre>\n\n<p>Warning, if using this technique, be aware of <a href=\"http://css-tricks.com/dangers-stopping-event-propagation/\">the dangers of stopping propagation</a>.</p>\n",
                    "is_accepted": true,
                    "score": 998
                },
                {
                    "body": "<p>I have an application that works similarly to Eran's example, except I attach the click event to the body when I open the menu... Kinda like this:</p>\n\n<pre><code>$('#menucontainer').click(function(event) {\n  $('html').one('click',function() {\n    // Hide the menus\n  });\n\n  event.stopPropagation();\n});\n</code></pre>\n\n<p>More information on <a href=\"http://docs.jquery.com/Events/one\">jQuery's <code>one()</code> function</a></p>\n",
                    "is_accepted": false,
                    "score": 75
                },
                {
                    "body": "<p>The other solutions here didn't work for me so I had to use:</p>\n\n<pre><code>if(!$(event.target).is('#foo'))\n{\n\t// hide menu\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 52
                },
                {
                    "body": "<p>If you are scripting for IE and FF 3.* and you just want to know if the click occured within a certain box area, you could also use something like:</p>\n\n<pre><code>this.outsideElementClick = function(objEvent, objElement){   \nvar objCurrentElement = objEvent.target || objEvent.srcElement;\nvar blnInsideX = false;\nvar blnInsideY = false;\n\nif (objCurrentElement.getBoundingClientRect().left &gt;= objElement.getBoundingClientRect().left &amp;&amp; objCurrentElement.getBoundingClientRect().right &lt;= objElement.getBoundingClientRect().right)\n    blnInsideX = true;\n\nif (objCurrentElement.getBoundingClientRect().top &gt;= objElement.getBoundingClientRect().top &amp;&amp; objCurrentElement.getBoundingClientRect().bottom &lt;= objElement.getBoundingClientRect().bottom)\n    blnInsideY = true;\n\nif (blnInsideX &amp;&amp; blnInsideY)\n    return false;\nelse\n    return true;}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>$(\"#menuscontainer\").click(function() {\n    $(this).focus();\n});\n$(\"#menuscontainer\").blur(function(){\n    $(this).hide();\n});\n</code></pre>\n\n<p>Works for me just fine.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Attach a click event to the document which closes the window. Attaching it to the body only attaches an event to how far the page flows vertically. I used Eran's solution originally but it didn't work for me since my page was very short vertically. Attach a separate click event to the window which stops propagation to the document itself.</p>\n\n<pre><code> $(document).click(function() { \n //Hide the menus if visible \n }); \n\n $('#menucontainer').click(function(e){ \n     e.stopPropagation(); \n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Now there is a plugin for that: <a href=\"http://plugins.jquery.com/project/ba-jquery-outside-events-plugin\">outside events</a> (<a href=\"http://benalman.com/projects/jquery-outside-events-plugin/\">blog post</a>)</p>\n\n<p>The following happens when a <em>clickoutside</em> handler (WLOG) is bound to an element:</p>\n\n<ul>\n<li>the element is added to an array which holds all elements with <em>clickoutside</em> handlers</li>\n<li>a (<a href=\"http://docs.jquery.com/Namespaced_Events\">namespaced</a>) <em>click</em> handler is bound to the document (if not already there)</li>\n<li>on any <em>click</em> in the document, the <em>clickoutside</em> event is triggered for those elements in that array that are not equal to or a parent of the <em>click</em>-events target</li>\n<li>additionally, the event.target for the <em>clickoutside</em> event is set to the element the user clicked on (so you even know what the user clicked, not just that he clicked outside)</li>\n</ul>\n\n<p>So no events are stopped from propagation and additional <em>click</em> handlers may be used \"above\" the element with the outside-handler.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>This worked perfectly fine in time for me :</p>\n\n<pre><code>$('body').click(function() {\n    // Hide the menus if visible.\n});\n</code></pre>\n\n<p>Thanks very much!</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can hook up to the <strong>click</strong> event of <strong>document</strong> and then make sure <code>#menucontainer</code> is not an ancestor of the clicked element (<a href=\"http://api.jquery.com/closest/\">jQuery.closest()</a>).</p>\n\n<p>If it is not, then the clicked element is outside of the <code>#menucontainer</code> and you can safely hide it.</p>\n\n<pre><code>$(document).click(function(event) { \n    if(!$(event.target).closest('#menucontainer').length) {\n        if($('#menucontainer').is(\":visible\")) {\n            $('#menucontainer').hide()\n        }\n    }        \n})\n</code></pre>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 329
                },
                {
                    "body": "<p>function:</p>\n\n<pre><code>$(function() {\n    debugger;\n    $.fn.click_inout = function(clickin_handler, clickout_handler) {\n        var item = this;\n        var is_me = false;\n        item.click(function(event) {\n            clickin_handler(event);\n            is_me = true;\n        });\n        $(document).click(function(event) {\n            if (is_me) {\n                is_me = false;\n            } else {\n                clickout_handler(event);\n            }\n        });\n        return this;\n    }\n});\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>    this.input = $('&lt;input&gt;')\n        .click_inout(\n            function(event) { me.ShowTree(event); },\n            function() { me.Hide(); }\n        )\n        .appendTo(this.node);\n</code></pre>\n\n<p>and functions are very simple:</p>\n\n<pre><code>ShowTree: function(event) {\n    this.data_span.show();\n}\nHide: function() {\n    this.data_span.hide();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I've had success with something like this:</p>\n\n<pre><code>var $menuscontainer = ...;\n\n$('#trigger').click(function() {\n  $menuscontainer.show();\n\n  $('body').click(function(event) {\n    var $target = $(event.target);\n\n    if ($target.parents('#menuscontainer').length == 0) {\n      $menuscontainer.hide();\n    }\n  });\n});\n</code></pre>\n\n<p>The logic is: when #menuscontainer is shown, bind a click handler to body that hides #menuscontainer only if the target (of the click) isn't a child of #menuscontainer.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>var go=false;\n$(document).click(function(){\n   if(go){\n$('#divID').hide();go=false;} \n})\n$(\"#divID\").mouseover(function(){\n   go=false;\n});\n$(\"#divID\").mouseout(function (){\n   go=true;\n});\n\n$(\"btnID\").click( function(){\n   if($(\"#divID:visible\").length==1) $(\"#divID\").hide(); //toggle \n   $(\"#divID\").show();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I don't think what you really need is to close the menu when the user clicks outside; what you need is for the menu to close when the user clicks anywhere at all on the page. If you click on the menu, or off the menu it should close right? </p>\n\n<p>Finding no satisfactory answers above prompted me to write <a href=\"http://programming34m0.blogspot.com/2011/05/simplifying-javascript-jump-menu.html\">this blog post</a> the other day. For the more pedantic, there are a number of gotchas to take note of: </p>\n\n<ol>\n<li>If you attach a click event handler to the body element at click time be sure to wait for the 2nd click before closing the menu, and unbinding the event. Otherwise the click event that opened the menu will bubble up to the listener that has to close the menu.</li>\n<li>If you use event.stopPropogation() on a click event, no other elements in your page can have a click-anywhere-to-close feature.</li>\n<li>Attaching a click event handler to the body element indefinitely is not a performant solution</li>\n<li>Comparing the target of the event, and its parents to the handler's creator assumes that what you want is to close the menu when you click off it, when what you really want is to close it when you click anywhere on the page.</li>\n<li>Listening for events on the body element will make your code more brittle. Styling as innocent as this would break it: <code>body { margin-left:auto; margin-right: auto; width:960px;}</code></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Found this method in some jquery calendar plugin.</p>\n\n<pre><code>function ClickOutsideCheck(e)\n{\n  var el = e.target;\n  var popup = $('.popup:visible')[0];\n  if(popup==undefined) return true;\n\n  while (true){\n    if (el == popup ) {\n      return true;\n    } else if (el == document) {\n      $(\".popup\").hide();\n      return false;\n    } else {\n      el = $(el).parent()[0];\n    }\n  }\n};\n\n$(document).bind('mousedown.popup', ClickOutsideCheck);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>$(document).click(function() {\n    $(\".overlay-window\").hide();\n});\n$(\".overlay-window\").click(function() {\n    return false;\n});\n</code></pre>\n\n<p>If you click on the document, hide a given element, unless you click on that same element.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I did like this in YUI3:</p>\n\n<pre><code>// detect the click anywhere other than overlay element to close it.\nY.one(document).on('click', function (e) {\n    if (e.target.ancestor('#overlay') === null &amp;&amp; e.target.get('id') != 'show' &amp;&amp; overlay.get('visible') == true) {\n        overlay.hide();\n    }\n});\n</code></pre>\n\n<p>I am checking if ancestor is not the widget element container,<br />\nif target is not which open the widget/element,<br />\nif widget/element I want to close is already open (not that important).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As another poster said there are a lot of gotchas, especially if the element you are displaying (in this case a menu) has interactive elements.\nI've found the following method to be fairly robust:</p>\n\n<pre><code>$('#menuscontainer').click(function(event) {\n    //your code that shows the menus fully\n\n    //now set up an event listener so that clicking anywhere outside will close the menu\n    $('html').click(function(event) {\n        //check up the tree of the click target to check whether user has clicked outside of menu\n        if ($(event.target).parents('#menuscontainer').length==0) {\n            // your code to hide menu\n\n            //this event listener has done its job so we can unbind it.\n            $(this).unbind(event);\n        }\n\n    })\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here is my code:</p>\n\n<pre><code>// listen to every clicks\n$('html').click(function(event) {\n    if ( $('#mypopupmenu').is(':visible') ) {\n        if (event.target.id != 'click_this_to_show_mypopupmenu') {\n            $('#mypopupmenu').hide();\n        }\n    }\n});\n\n// listen to selector's clicks\n$('#click_this_to_show_mypopupmenu').click(function() {\n  // if the menu is visible, and you clicked the selector again we need to hide\n  if ( $('#mypopupmenu').is(':visible') {\n      $('#mypopupmenu').hide();\n      return true;\n  }\n\n  // else we need to show the popup menu\n  $('#mypopupmenu').show();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is my solution to this problem:</p>\n\n<pre><code>$(document).ready(function() {\n  $('#user-toggle').click(function(e) {\n    $('#user-nav').toggle();\n    e.stopPropagation();\n  });\n\n  $('body').click(function() {\n    $('#user-nav').hide(); \n  });\n\n  $('#user-nav').click(function(e){\n    e.stopPropagation();\n  });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>jQuery().ready(function(){\n    $('#nav').click(function (event) {\n        $(this).addClass('activ');\n        event.stopPropagation();\n    });\n\n    $('html').click(function () {\n        if( $('#nav').hasClass('activ') ){\n            $('#nav').removeClass('activ');\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hook a click event listener on the document. Inside the event listener, you can look at the <a href=\"http://api.jquery.com/category/events/event-object/\" rel=\"nofollow\">event object</a>, in particular, the <a href=\"http://api.jquery.com/event.target/\" rel=\"nofollow\">event.target</a> to see what element was clicked:</p>\n\n<pre><code>$(document).click(function(e){\n    if ($(e.target).closest(\"#menuscontainer\").length == 0) {\n        // .closest can help you determine if the element \n        // or one of its ancestors is #menuscontainer\n        console.log(\"hide\");\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This worked for me perfectly!!</p>\n\n<pre><code>$('html').click(function (e) {\n    if (e.target.id == 'YOUR-DIV-ID') {\n        //do something\n    } else {\n        //do something\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>To be honest, I didn't like any of the solutions above.</p>\n\n<p>The best way to do this, is binding the \"click\" event to the document, and comparing if that click is really outside the element (just like Art said in his suggestion).</p>\n\n<p>However, you'll have some problems there: You'll never be able to unbind it, and you cannot have an external button to open/close that element.</p>\n\n<p>That's why I wrote <a href=\"http://www.imaginacom.com/eval.php?exec=29\" rel=\"nofollow\">this small plugin (click here to link)</a>, to simplify these tasks. Could it be simpler?</p>\n\n<pre><code>&lt;a id='theButton' href=\"#\"&gt;Toggle the menu&lt;/a&gt;&lt;br /&gt;\n&lt;div id='theMenu'&gt;\n    I should be toggled when the above menu is clicked,\n    and hidden when user clicks outside.\n&lt;/div&gt;\n\n&lt;script&gt;\n$('#theButton').click(function(){\n    $('#theMenu').slideDown();\n});\n$(\"#theMenu\").dClickOutside({ ignoreList: $(\"#theButton\") }, function(clickedObj){\n    $(this).slideUp();\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I spend a lot of time making it to be reliable, hope you enjoy.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just a warning that using this:</p>\n\n<pre><code>$('html').click(function() {\n  //Hide the menus if visible\n});\n\n$('#menucontainer').click(function(event){\n  event.stopPropagation();\n});\n</code></pre>\n\n<p><strong>Prevents</strong> the Rails UJS driver from working properly. For example <code>link_to 'click', '/url', :method =&gt; :delete</code> will not work. </p>\n\n<p>This might be a workaround:</p>\n\n<pre><code>$('html').click(function() {\n  //Hide the menus if visible\n});\n\n$('#menucontainer').click(function(event){\n  if (!$(event.target).data('method')) {\n    event.stopPropagation();\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This should work:</p>\n\n<pre><code>$('body').click(function (event) {\n    var obj = $(event.target);\n    obj = obj['context']; // context : clicked element inside body\n    if ($(obj).attr('id') != \"menuscontainer\" &amp;&amp; $('#menuscontainer').is(':visible') == true) {\n        //hide menu\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if you are creating elements dynamically  and using 'live' function to capture the events, stopPropagation might not work , in that case you can try stopImmediatePropagation. Hope it helps someone </p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code> &lt;div class=\"feedbackCont\" onblur=\"hidefeedback();\"&gt;\n        &lt;div class=\"feedbackb\" onclick=\"showfeedback();\" &gt;&lt;/div&gt;\n        &lt;div class=\"feedbackhide\" tabindex=\"1\"&gt; &lt;/div&gt;\n &lt;/div&gt;\n\nfunction hidefeedback(){\n    $j(\".feedbackhide\").hide();\n}\n\nfunction showfeedback(){\n    $j(\".feedbackhide\").show();\n    $j(\".feedbackCont\").attr(\"tabindex\",1).focus();\n}\n</code></pre>\n\n<p>This is the simplest solution I came up with. </p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Might as well offer one more solution here:</p>\n\n<p><a href=\"http://jsfiddle.net/zR76D/\" rel=\"nofollow\">http://jsfiddle.net/zR76D/</a></p>\n\n<p>Usage:</p>\n\n<pre><code>&lt;div onClick=\"$('#menu').toggle();$('#menu').clickOutside(function() { $(this).hide(); $(this).clickOutside('disable'); });\"&gt;Open / Close Menu&lt;/div&gt;\n&lt;div id=\"menu\" style=\"display: none; border: 1px solid #000000; background: #660000;\"&gt;I am a menu, whoa is me.&lt;/div&gt;\n</code></pre>\n\n<p>Plugin:</p>\n\n<pre><code>(function($) {\n    var clickOutsideElements = [];\n    var clickListener = false;\n\n    $.fn.clickOutside = function(options, ignoreFirstClick) {\n        var that = this;\n        if (ignoreFirstClick == null) ignoreFirstClick = true;\n\n        if (options != \"disable\") {\n            for (var i in clickOutsideElements) {\n                if (clickOutsideElements[i].element[0] == $(this)[0]) return this;\n            }\n\n            clickOutsideElements.push({ element : this, clickDetected : ignoreFirstClick, fnc : (typeof(options) != \"function\") ? function() {} : options });\n\n            $(this).on(\"click.clickOutside\", function(event) {\n                for (var i in clickOutsideElements) {\n                    if (clickOutsideElements[i].element[0] == $(this)[0]) {\n                        clickOutsideElements[i].clickDetected = true;\n                    }\n                }\n            });\n\n            if (!clickListener) {\n                if (options != null &amp;&amp; typeof(options) == \"function\") {\n                    $('html').click(function() {\n                        for (var i in clickOutsideElements) {\n                            if (!clickOutsideElements[i].clickDetected) {\n                                clickOutsideElements[i].fnc.call(that);\n                            }\n                            if (clickOutsideElements[i] != null) clickOutsideElements[i].clickDetected = false;\n                        }\n                    });\n                    clickListener = true;\n                }\n            }\n        }\n        else {\n            $(this).off(\"click.clickoutside\");\n            for (var i = 0; i &lt; clickOutsideElements.length; ++i) {\n                if (clickOutsideElements[i].element[0] == $(this)[0]) {\n                    clickOutsideElements.splice(i, 1);\n                }\n            }\n        }\n\n        return this;\n    }\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The broadest way to do this is to select everything on the web page except the element where you don't want clicks detected and bind the click event those when the menu is opened. </p>\n\n<p>Then when the menu is closed remove the binding.</p>\n\n<p>Use .stopPropagation to prevent the event from affecting any part of the menuscontainer.</p>\n\n<pre><code>$(\"*\").not($(\"#menuscontainer\")).bind(\"click.OutsideMenus\", function ()\n{\n    // hide the menus\n\n    //then remove all of the handlers\n    $(\"*\").unbind(\".OutsideMenus\");\n});\n\n$(\"#menuscontainer\").bind(\"click.OutsideMenus\", function (event) \n{\n    event.stopPropagation(); \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Your solutions work fine <strong>when only one element is to be managed</strong>. If there are multiple elements, however, the problem is much more complicated. Trick with e.stopPropagation() and all the others will not work. </p>\n\n<p>I came up with a <strong>solution</strong>, maybe not so easy but it's better than nothing. Have a look:\n</p>\n\n<pre><code>$view.on(\"click\", function(e) {\n\n          if(model.isActivated()) return;\n\n            var watchUnclick = function() {\n                    rootView.one(\"mouseleave\", function() {\n                        $(document).one(\"click\", function() {\n                            model.deactivate();\n                        });\n                        rootView.one(\"mouseenter\", function() {\n                            watchUnclick();                             \n                        });\n                    });\n            };\n            watchUnclick();\n            model.activate();\n});\n</code></pre>\n\n<p>Hope it helps someone some day :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Instead using flow interruption, blur/focus event or any other tricky technics, simply match event flow with element's kinship:</p>\n\n<pre><code>$(document).on(\"click.menu-outside\", function(event){\n    // Test if target and it's parent aren't #menuscontainer\n    // That means the click event occur on other branch of document tree\n    if(!$(event.target).parents().andSelf().is(\"#menuscontainer\")){\n        // Click outisde #menuscontainer\n        // Hide the menus (but test if menus aren't already hidden)\n    }\n});\n</code></pre>\n\n<p>To remove click outside event listener, simply:</p>\n\n<pre><code>$(document).off(\"click.menu-outside\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The answer marked as answer does not take into account that you can have overlays over the element, like dialogs, popovers, datepickers etc. Clicks in these should not hide element.</p>\n\n<p>I have made a own version that does take this into account, its created as a Knockout binding, but can easily be converted to JQuery only</p>\n\n<p>It works by first query for all elements with either z-index or absolute position that are visible. It then hit tests those elements against the element I want to hide if click outside. If its a hit I calculate a new bound rectangle which takes into account the overlay bounds.</p>\n\n<pre><code>ko.bindingHandlers.clickedIn = (function () {\n    function getBounds(element) {\n        var pos = element.offset();\n        return {\n            x: pos.left,\n            x2: pos.left + element.outerWidth(),\n            y: pos.top,\n            y2: pos.top + element.outerHeight()\n        };\n    }\n\n    function hitTest(o, l) {\n        function getOffset(o) {\n            for (var r = { l: o.offsetLeft, t: o.offsetTop, r: o.offsetWidth, b: o.offsetHeight };\n                o = o.offsetParent; r.l += o.offsetLeft, r.t += o.offsetTop);\n            return r.r += r.l, r.b += r.t, r;\n        }\n\n        for (var b, s, r = [], a = getOffset(o), j = isNaN(l.length), i = (j ? l = [l] : l).length; i;\n            b = getOffset(l[--i]), (a.l == b.l || (a.l &gt; b.l ? a.l &lt;= b.r : b.l &lt;= a.r))\n                &amp;&amp; (a.t == b.t || (a.t &gt; b.t ? a.t &lt;= b.b : b.t &lt;= a.b)) &amp;&amp; (r[r.length] = l[i]));\n        return j ? !!r.length : r;\n    }\n\n    return {\n        init: function (element, valueAccessor) {\n            var target = valueAccessor();\n            $(document).click(function (e) {\n                if (element._clickedInElementShowing === false &amp;&amp; target()) {\n                    var $element = $(element);\n                    var bounds = getBounds($element);\n\n                    var possibleOverlays = $(\"[style*=z-index],[style*=absolute]\").not(\":hidden\");\n                    $.each(possibleOverlays, function () {\n                        if (hitTest(element, this)) {\n                            var b = getBounds($(this));\n                            bounds.x = Math.min(bounds.x, b.x);\n                            bounds.x2 = Math.max(bounds.x2, b.x2);\n                            bounds.y = Math.min(bounds.y, b.y);\n                            bounds.y2 = Math.max(bounds.y2, b.y2);\n                        }\n                    });\n\n\n                    if (e.clientX &lt; bounds.x || e.clientX &gt; bounds.x2 ||\n                        e.clientY &lt; bounds.y || e.clientY &gt; bounds.y2) {\n\n\n                        target(false);\n\n                    }\n                }\n                element._clickedInElementShowing = false;\n            });\n\n            $(element).click(function (e) {\n                e.stopPropagation();\n            });\n        },\n        update: function (element, valueAccessor) {\n            var showing = ko.utils.unwrapObservable(valueAccessor());\n            if (showing) {\n                element._clickedInElementShowing = true;\n            }\n        }\n    };\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is a more general solution that <strong>allows multiple elements to be watched, and dynamically adding and removing elements from the queue</strong>.</p>\n\n<p>It holds a global queue (<strong>autoCloseQueue</strong>) - an object container for elements that should be closed on outside clicks. </p>\n\n<p>Each queue object key should be the DOM Element id, and the value should be an object with 2 callback functions: </p>\n\n<pre><code> {onPress: someCallbackFunction, onOutsidePress: anotherCallbackFunction}\n</code></pre>\n\n<p>Put this in your document ready callback:</p>\n\n<pre><code>window.autoCloseQueue = {}  \n\n$(document).click(function(event) {\n    for (id in autoCloseQueue){\n        var element = autoCloseQueue[id];\n        if ( ($(e.target).parents('#' + id).length) &gt; 0) { // This is a click on the element (or its child element)\n            console.log('This is a click on an element (or its child element) with  id: ' + id);\n            if (typeof element.onPress == 'function') element.onPress(event, id);\n        } else { //This is a click outside the element\n            console.log('This is a click outside the element with id: ' + id);\n            if (typeof element.onOutsidePress == 'function') element.onOutsidePress(event, id); //call the outside callback\n            delete autoCloseQueue[id]; //remove the element from the queue\n        }\n    }\n});\n</code></pre>\n\n<p>Then, when the DOM element with id  '<strong>menuscontainer</strong>' is created, just add this object to the queue: </p>\n\n<pre><code>window.autoCloseQueue['menuscontainer'] = {onOutsidePress: clickOutsideThisElement}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I ended up doing something like this:</p>\n\n<pre><code>$(document).on('click', 'body, #msg_count_results .close',function() {\n    $(document).find('#msg_count_results').remove();\n});\n$(document).on('click','#msg_count_results',function(e) {\n    e.preventDefault();\n    return false;\n});\n</code></pre>\n\n<p>I have a close button within the new container for end users friendly UI purposes. I had to use return false in order to not go through. Of course, having an A HREF on there to take you somewhere would be nice, or you could call some ajax stuff instead. Either way, it works ok for me. Just what I wanted.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>try this code :</p>\n\n<pre><code>if ($(event.target).parents().index($('#searchFormEdit')) == -1 &amp;&amp; $(event.target).parents().index($('.DynarchCalendar-topCont')) == -1 &amp;&amp; (_x &lt; os.left || _x &gt; (os.left + 570) || _y &lt; os.top || _y &gt; (os.top + 155)) &amp;&amp; isShowEditForm) {\n    setVisibleEditForm(false);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can set a tabindex to the dom element. This will trigger a blur event when the user click outside the dom element</p>\n\n<p><a href=\"http://jsbin.com/fuloqixe/5\" rel=\"nofollow\">Demo</a></p>\n\n<pre><code>&lt;div tabindex=\"1\"&gt;\n focus me\n&lt;/div&gt;\n\ndocument.querySelector(\"div\").onblur = function(){\n   console.log('clicked outside')\n}\ndocument.querySelector(\"div\").onfocus = function(){\n   console.log('clicked inside')\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This will toggle the Nav menu when you click on/off the element.     </p>\n\n<pre><code>$(document).on('click', function(e) {\n    var elem = $(e.target).closest('#menu'),\n    box = $(e.target).closest('#nav');\n if (elem.length) {\n    e.preventDefault();\n    $('#nav').toggle();\n  } else if (!box.length) {\n    $('#nav').hide();\n }\n});\n\n\n\n&lt;li id=\"menu\"&gt;&lt;a&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;ul id=\"nav\" &gt;  //Nav will toggle when you Click on Menu(it can be an icon in this example)\n        &lt;li class=\"page\"&gt;&lt;a&gt;Page1&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"page\"&gt;&lt;a&gt;Pag2&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"page\"&gt;&lt;a&gt;Page3&lt;/a&gt;&lt;/li&gt;            \n        &lt;li class=\"page\"&gt;&lt;a&gt;Page4&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Standard-HTML:</p>\n\n<p>Surround the menus by a <code>&lt;label&gt;</code> and fetch focus state changes.</p>\n\n<p><a href=\"http://jsfiddle.net/bK3gL/\" rel=\"nofollow\">http://jsfiddle.net/bK3gL/</a></p>\n\n<p>plus: you can unfold the menu by <kbd>tab</kbd></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As a <a href=\"http://stackoverflow.com/a/3028037/1366033\">wrapper to this great answer from Art</a>, and to use the syntax originally requested by OP, here's a jQuery extension that can record wether a click occured outside of a set element.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$.fn.clickOutsideThisElement = function (callback) {\n    return this.each(function () {\n        var self = this;\n        $(document).click(function (e) {\n            if (!$(e.target).closest(self).length) {\n                callback.call(self, e)\n            }\n        })\n    });\n};\n</code></pre>\n\n<p>Then you can call like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\"#menuscontainer\").clickOutsideThisElement(function() {\n    // handle menu toggle\n});\n</code></pre>\n\n<h2><a href=\"http://jsfiddle.net/KyleMit/Fv2fY/\" rel=\"nofollow\">Here's a demo in fiddle</a></h2>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As variant:</p>\n\n<pre><code>var $menu = $('#menucontainer'); \n$(document).on('click', function (e) {\n    // if element is opened and click target is outside it, hide it \n    if ($menu.is(':visible') &amp;&amp; !$menu.is(e.target) &amp;&amp; !$menu.has(e.target).length) {\n        $menu.hide(); \n    }\n});\n</code></pre>\n\n<p>Has no problem with <a href=\"http://css-tricks.com/dangers-stopping-event-propagation/\" rel=\"nofollow\">stopping event propagation</a> and better supports multiple menus on the same page where clicking on a second menu while a first is open will leave the first open in the stopPropagation solution.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For Touch devices like IPAD and IPHONE we can use code</p>\n\n<pre><code>$(document).on('touchstart', function (event) {\nvar container = $(\"YOUR CONTAINER SELECTOR\");\n\nif (!container.is(e.target) // if the target of the click isn't the container...\n&amp;&amp; container.has(e.target).length === 0) // ... nor a descendant of the container\n    {\n        container.hide();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Has anyone tried using not()</p>\n\n<pre><code>$(\"#id\").not().click(function() {\n</code></pre>\n\n<p>alert('Clicked other that #id');\n});</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>$(\"body &gt; div:not(#dvid)\").click(function (e) {\n    //your code\n}); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$(\"html\").click(function(){\n    if($('#info').css(\"opacity\")&gt;0.9) {\n        $('#info').fadeOut('fast');\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Instead of using event.stopPropagation() which can have some side affects, just define a simple flag variable and add one if condition. I tested this and worked properly without any side affects of stopPropagation:</p>\n\n<pre><code>var flag = \"1\";\n$('#menucontainer').click(function(event){\n  flag = \"0\"; //flag 0 means click happened in the area where we should not do any action\n});\n\n$('html').click(function() {\n  if(flag != \"0\"){\n     //Hide the menus if visible\n   }\n  else{\n   flag = \"1\";\n   }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have some HTML menus, which I show completely when a user clicks on the head of these menus. I would like to hide these elements when the user clicks outside the menus' area.</p>\n\n<p>Is something like this possible with jQuery?</p>\n\n<pre><code>$(\"#menuscontainer\").clickOutsideThisElement(function() {\n    // hide the menus\n});\n</code></pre>\n",
            "last_activity_date": 1422465860,
            "question_id": 152975,
            "score": 810,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to detect a click outside an element?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Content scripts are executed in an <a href=\"https://developer.chrome.com/extensions/content_scripts#execution-environment\">isolated environment</a>. You have to inject the <code>state</code> method in the page itself.</p>\n\n<p>When you have to want to use one of the <code>chrome.*</code> APIs in the script, you have to implement a special event handler, as described in this answer: <a href=\"http://stackoverflow.com/a/9636008/938089?chrome-extension-retrieving-gmails-original-message\">Chrome extension - retrieving Gmail's original message</a>.</p>\n\n<p>Otherwise, if you don't have to use <code>chrome.*</code> APIs, I strongly recommend to inject all of your JS code in the page via a dynamic <code>&lt;script&gt;</code> tag:</p>\n\n<h1>Table of contents</h1>\n\n<ul>\n<li>Method 1: Inject another file</li>\n<li>Method 2: Inject embedded code</li>\n<li>Method 2b: Using a function</li>\n<li>Method 3: Using an inline event</li>\n<li>Dynamic values in the injected code</li>\n</ul>\n\n<h2>Method 1: Inject another file</h2>\n\n<p><em>This is the easiest/best method when you have lots of code.</em> Include your actual JS code in a file, say <code>script.js</code>. Then let your content script be as follows (explained here: <a href=\"http://stackoverflow.com/a/9310273/938089?google-chome-application-shortcut-custom-javascript\">Google Chome \u201cApplication Shortcut\u201d Custom Javascript</a>):</p>\n\n<pre><code>var s = document.createElement('script');\n// TODO: add \"script.js\" to web_accessible_resources in manifest.json\ns.src = chrome.extension.getURL('script.js');\ns.onload = function() {\n    this.parentNode.removeChild(this);\n};\n(document.head||document.documentElement).appendChild(s);\n</code></pre>\n\n<p><strong>Note: If you use this method, the injected <code>script.js</code> file has to be added to the <a href=\"https://developer.chrome.com/extensions/manifest/web_accessible_resources.html\"><code>\"web_accessible_resources\"</code></a> section</strong> (<a href=\"http://stackoverflow.com/a/10529675/938089?google-chrome-extension-script-injections\">example</a>). Without, Chrome will <strong>refuse</strong> to load your script, and display the following error in the console:</p>\n\n<blockquote>\n  <p>Denying load of chrome-extension://[EXTENSIONID]/script.js. Resources must be listed in the web_accessible_resources manifest key in order to be loaded by pages outside the extension. </p>\n</blockquote>\n\n<h2>Method 2: Inject embedded code</h2>\n\n<p>This method is useful when you want to quickly run a small piece of code. (See also: <a href=\"http://stackoverflow.com/a/8994454/938089?how-to-disable-facebook-hotkeys-with-chrome-extension\">How to disable facebook hotkeys with Chrome extension?</a>).</p>\n\n<pre><code>var actualCode = ['/* Code here. Example: */alert(0);',\n                  ' // Beware! This array have to be joined',\n                  ' // using a newline. Otherwise, missing semicolons',\n                  ' //  or single-line comments (//) will mess up your',\n                  ' //  code -----&gt;'].join('\\n');\n\nvar script = document.createElement('script');\nscript.textContent = actualCode;\n(document.head||document.documentElement).appendChild(script);\nscript.parentNode.removeChild(script);\n</code></pre>\n\n<h2>Method 2b: Using a function</h2>\n\n<p>For a big chunk of code, quoting the string is not feasible. Instead of using an array, a function can be used, and stringified:</p>\n\n<pre><code>var actualCode = '(' + function() {\n    // All code is executed in a local scope.\n    // For example, the following does NOT overwrite the global `alert` method\n    var alert = null;\n    // To overwrite a global variable, prefix `window`:\n    window.alert = null;\n} + ')();';\nvar script = document.createElement('script');\nscript.textContent = actualCode;\n(document.head||document.documentElement).appendChild(script);\nscript.parentNode.removeChild(script);\n</code></pre>\n\n<p>This method works, because the <code>+</code> operator on strings and a function converts all objects to a string. If you intend on using the code more than once, it's wise to create a function to avoid code repetition. An implementation might look like:</p>\n\n<pre><code>function injectScript(func) {\n    var actualCode = '(' + func + ')();'\n    ...\n}\ninjectScript(function() {\n   alert(\"Injected script\");\n});\n</code></pre>\n\n<p>Note: Since the function is serialized, the original scope, and all bound properties are lost!</p>\n\n<pre><code>var scriptToInject = function() {\n    console.log(typeof scriptToInject);\n};\ninjectScript(scriptToInject);\n// Console output:  \"undefined\"\n</code></pre>\n\n<h2>Method 3: Using an inline event</h2>\n\n<p>Sometimes, you want to run some code immediately, e.g. to run some code before the <code>&lt;head&gt;</code> element is created. You can \"synchronously\" execute JavaScript by using inline event listeners. The strings are generated in the same way as the previous method, so for brevity, I assume that the code string is already given as <code>actualCode</code> (see method 2/2b).</p>\n\n<pre><code>var actualCode = '// Some code example \\n' + \n                 'console.log(document.documentElement.outerHTML);';\n\ndocument.documentElement.setAttribute('onreset', actualCode);\ndocument.documentElement.dispatchEvent(new CustomEvent('reset'));\ndocument.documentElement.removeAttribute('onreset');\n</code></pre>\n\n<p>Note: This method assumes that there are no other global event listeners that handle the <code>reset</code> event. If there is, you can also pick one of the other global events. Just open the JavaScript console (F12), type <code>document.documentElement.on</code>, and pick on of the available events.</p>\n\n<h2>Dynamic values in the injected code</h2>\n\n<p>Ocasionally, you need to pass an arbitrary variable to the injected function. For example:</p>\n\n<pre><code>var GREETING = \"Hi, I'm \";\nvar NAME = \"Rob\";\nvar scriptToInject = function() {\n    alert(GREETING + NAME);\n};\n</code></pre>\n\n<p>To inject this code, you need to pass the variables as arguments to the anonymous function. Be sure to implement it correctly! The following will <strong>not</strong> work:</p>\n\n<pre><code>var scriptToInject = function (GREETING, NAME) { ... };\nvar actualCode = '(' + scriptToInject + ')(' + GREETING + ',' + NAME ')';\n// The previous will work for numbers and booleans, but not strings.\n// To see why, have a look at the resulting string:\nvar actualCode = \"(function(GREETING, NAME) {...})(Hi I'm,Rob)\";\n//                                                 ^^^^^^ ^^^ No string literals!\n</code></pre>\n\n<p>The solution is to use <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify</code></a> before passing the argument. Example:</p>\n\n<pre><code>var actualCode = '(' + function(greeting, name) { ...\n} + ')(' + JSON.stringify(GREETING) + ',' + JSON.stringify(NAME) + ')';\n</code></pre>\n\n<p>If you have many variables, it's worthwhile to use <code>JSON.stringify</code> once, to improve readability, as follows:</p>\n\n<pre><code>...\n} + ')(' + JSON.stringify([arg1, arg2, arg3, arg4]) + ')';\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 282
                },
                {
                    "body": "<p>The only thing <del>missing</del> hidden from Row W's excellent answer is how to call from the injected script to the content script and vice versa (especially if you have objects that can't be stringified).</p>\n\n<p>In either the injected or your content script add an event listener:</p>\n\n<pre><code>document.addEventListener('yourCustomEvent', function (e)\n{\n  var data=e.detail;\n  console.log(\"received \"+data);\n});\n</code></pre>\n\n<p>On the other side (content or injected script) call the event:</p>\n\n<pre><code>var data=\"anything\";\n\n// updated: this works with Chrome 30:\nvar evt=document.createEvent(\"CustomEvent\");\nevt.initCustomEvent(\"yourCustomEvent\", true, true, data);\ndocument.dispatchEvent(evt);\n\n// the following stopped working in Chrome 30 (Windows), detail was \n// not received in the listener:\n// document.dispatchEvent(new CustomEvent('yourCustomEvent', { detail: data }));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I'm learning how to create chrome extensions and I just started developing one to catch youtube events. I want to use it with youtube flash player (later i will try to make it compatible with html5).</p>\n\n<p><strong>manifest.json :</strong></p>\n\n<pre><code>{\n    \"name\": \"MyExtension\",\n    \"version\": \"1.0\",\n    \"description\": \"Gotta catch Youtube events!\",\n    \"permissions\": [\"tabs\", \"http://*/*\"],\n    \"content_scripts\" : [{\n        \"matches\" : [ \"www.youtube.com/*\"],\n        \"js\" : [\"myScript.js\"]\n    }]\n}\n</code></pre>\n\n<p><strong>myScript.js :</strong></p>\n\n<pre><code>function state() { console.log(\"State Changed!\"); }\nvar player = document.getElementById(\"movie_player\");\nplayer.addEventListener(\"onStateChange\", \"state\");\nconsole.log(\"Started!\");\n</code></pre>\n\n<p>The problem is that console gives me the <em>\"Started!\"</em>, but there is no <em>\"State Changed!\"</em> when I play/pause YouTube videos.</p>\n\n<p>When this code is put in the console, it worked. What am I doing wrong?</p>\n",
            "last_activity_date": 1424200295,
            "question_id": 9515704,
            "score": 135,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension",
                "youtube-api",
                "content-script"
            ],
            "title": "Building a Chrome Extension - Inject code in a page using a Content script"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>Nothing an author can do can choose to open in a new tab instead of a new window.</p>\n\n<p>CSS3 proposed <a href=\"http://www.w3.org/TR/2004/WD-css3-hyperlinks-20040224/#target-new\">target-new</a>, but <a href=\"http://www.w3.org/TR/2014/NOTE-css3-hyperlinks-20141014/\">the specification was abandoned</a>.</p>\n",
                    "is_accepted": true,
                    "score": 276
                },
                {
                    "body": "<p>I think that you can't control this. If the user had setup their browser to open links in a new window, you can't force this to open links in a new tab.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/726761/javascript-open-in-a-new-window-not-tab\">JavaScript open in a new window, not tab</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>To elaborate Steven Spielberg's answer, what I did in such case is:</p>\n\n<pre><code>$('a').click(function() {\n  $(this).attr('target', '_blank');\n}); \n</code></pre>\n\n<p>This way, just before the browser will follow the link I'm setting the target attribute, so it will make the link open in new tab or window (<strong>depends on user's settings</strong>).</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>This is a trick,  </p>\n\n<pre><code>function OpenInNewTab(url) {\n  var win = window.open(url, '_blank');\n  win.focus();\n}\n</code></pre>\n\n<p>In most cases, this should happen directly in the <code>onclick</code> handler for the link to prevent pop-up blockers, and the default \"new window\" behavior. You could do it this way, or by adding an event listener to your <code>DOM</code> object.  </p>\n\n<pre><code>&lt;div onclick=\"OpenInNewTab();\"&gt;Something To Click On&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 427
                },
                {
                    "body": "<p><code>window.open()</code> will not open in new tab if it is not happening on actual click event. In the example given the url is being opened on actual click event. <strong>This will work provided user has appropriate settings in the browser</strong>.</p>\n\n<pre><code>&lt;a class=\"link\"&gt;Link&lt;/a&gt;\n&lt;script  type=\"text/javascript\"&gt;\n     $(\"a.link\").on(\"click\",function(){\n         window.open('www.yourdomain.com','_blank');\n     });\n&lt;/script&gt;\n</code></pre>\n\n<p>Similarly, if you are trying to do an ajax call within the click function and want to open a window on success, ensure you are doing the ajax call with <code>async : false</code> option set.</p>\n",
                    "is_accepted": false,
                    "score": 189
                },
                {
                    "body": "<p>The browser will always open the link in a new tab if the link is on the same domain (on the same website). If the link is on some other domain it will open it in a new tab/window, depending on browser settings.</p>\n\n<p>So, according to this, we can use:</p>\n\n<pre><code>&lt;a class=\"my-link\" href=\"http://www.mywebsite.com\" rel=\"http://www.otherwebsite.com\"&gt;new tab&lt;/a&gt;\n</code></pre>\n\n<p>And add some jQuery code:</p>\n\n<pre><code>jQuery(document).ready(function () {\n    jQuery(\".my-link\").on(\"click\",function(){\n        var w = window.open('http://www.mywebsite.com','_blank');\n        w.focus();\n        w.location.href = jQuery(this).attr('rel');\n        return false;\n    });\n});\n</code></pre>\n\n<p>So, first open new window on same website with _blank target (it will open it in new tab), and then open your desired website inside that new window.</p>\n",
                    "is_accepted": false,
                    "score": -7
                },
                {
                    "body": "<p>If you only want to open the external links (links that go to other sites) then this bit of JavaScript/jQuery works well:</p>\n\n<pre><code>$(function(){\n    var hostname = window.location.hostname.replace('www.', '');\n    $('a').each(function(){\n        var link_host = $(this).attr('hostname').replace('www.', '');\n        if (link_host !== hostname) {\n            $(this).attr('target', '_blank');\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<pre><code>&lt;!-- Open external links in a new window --&gt;\n&lt;script src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js' type='text/javascript'/&gt;\n&lt;script type='text/javascript'&gt;\n//&lt;![CDATA[\njQuery('a').each(function() {\n    // Let's make external links open in a new window.\n    var href = jQuery(this).attr('href');\n\n    if (typeof href != 'undefined' &amp;&amp; href != \"\" &amp;&amp; (href.indexOf('http://') != -1 || href.indexOf('https://') != -1) &amp;&amp; href.indexOf(window.location.hostname) == -1) {\n        jQuery(this).attr(\"target\", \"_blank\");\n    }\n});\n//]]&gt;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>An interesting fact is that the new tab can not be opened if the action is not invoked by the user (clicking a button or something) or if it is asynchronous, for example, this will NOT open in new tab:</p>\n\n<pre><code>$.ajax({\n    url: \"url\",\n    type: \"POST\",\n    success: function() {\n        window.open('url', '_blank');              \n    }\n});\n</code></pre>\n\n<p>But this may open in a new tab, depending on browser settings:</p>\n\n<pre><code>$.ajax({\n    url: \"url\",\n    type: \"POST\",\n    async: false,\n    success: function() {\n        window.open('url', '_blank');              \n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<pre><code>(function(a){\ndocument.body.appendChild(a);\na.setAttribute('href', location.href);\na.dispatchEvent((function(e){\n    e.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, true, false, false, false, 0, null);\n    return e\n}(document.createEvent('MouseEvents'))))}(document.createElement('a')))\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Or you could just create a link element and click it...</p>\n\n<pre><code>var evLink = document.createElement('a');\nevLink.href = 'http://' + strUrl;\nevLink.target = '_blank';\ndocument.body.appendChild(evLink);\nevLink.click();\n// Now delete it\nevLink.parentNode.removeChild(evLink);\n</code></pre>\n\n<p>This shouldn't be blocked by any popup blockers... Hopefully.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>This has nothing to do with browser settings</strong> if you are trying to open a new tab from a custom function.</p>\n\n<p>In this page, open a JavaScript console and type:</p>\n\n<pre><code>document.getElementById(\"nav-questions\").setAttribute(\"target\", \"_blank\");\ndocument.getElementById(\"nav-questions\").click();\n</code></pre>\n\n<p>And it will try to open a popup regardless of your settings, because the 'click' comes from a custom action.</p>\n\n<p>In order to behave like an actual 'mouse click' on a link, you need to follow <a href=\"http://stackoverflow.com/a/19464494/676002\">@spirinvladimir's advice</a> and <em>really</em> create it:</p>\n\n<pre><code>document.getElementById(\"nav-questions\").setAttribute(\"target\", \"_blank\");\ndocument.getElementById(\"nav-questions\").dispatchEvent((function(e){\n  e.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0,\n                    false, false, false, false, 0, null);\n  return e\n}(document.createEvent('MouseEvents'))));\n</code></pre>\n\n<p>Here is a complete example (do not try it on <a href=\"http://jsfiddle.net/\" rel=\"nofollow\">jsFiddle</a> or similar online editors, as it will not let you redirect to external pages from there):</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;style&gt;\n    #firing_div {\n      margin-top: 15px;\n      width: 250px;\n      border: 1px solid blue;\n      text-align: center;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;a id=\"my_link\" href=\"http://www.google.com\"&gt; Go to Google &lt;/a&gt;\n  &lt;div id=\"firing_div\"&gt; Click me to trigger custom click &lt;/div&gt;\n&lt;/body&gt;\n&lt;script&gt;\n  function fire_custom_click() {\n    alert(\"firing click!\");\n    document.getElementById(\"my_link\").dispatchEvent((function(e){\n      e.initMouseEvent(\"click\", true, true, window, /* type, canBubble, cancelable, view */\n            0, 0, 0, 0, 0,              /* detail, screenX, screenY, clientX, clientY */\n            false, false, false, false, /* ctrlKey, altKey, shiftKey, metaKey */\n            0, null);                   /* button, relatedTarget */\n      return e\n    }(document.createEvent('MouseEvents'))));\n  }\n  document.getElementById(\"firing_div\").onclick = fire_custom_click;\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>How about creating an <code>&lt;a&gt;</code> with <code>_blank</code> as <code>target</code> attribute value and the <code>url</code> as <code>href</code>, with style display:hidden with a a children element. Then Add to the DOM and then trigger the click event on a children element.</p>\n\n<h2>UPDATE</h2>\n\n<p>That doesn't work. The browser prevent the default behaviour, it could be triggered programatically but doesn't follow the default behaviour.</p>\n\n<p>Check and see for yourself : <a href=\"http://jsfiddle.net/4S4ET/\" rel=\"nofollow\">http://jsfiddle.net/4S4ET/</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<h1><code>window.open</code> Cannot Reliably Open Popups in a New Tab in All Browsers</h1>\n\n<p><strong>Different browsers implement the behavior of</strong> <code>window.open</code> <strong>in different ways, especially with regard to a user's browser preferences.</strong> You cannot expect the same behavior for <code>window.open</code> to be true across all of Internet Explorer, Firefox, and Chrome, because of the different ways in which they handle a user's browser preferences.</p>\n\n<p>For example, IE (11) users can choose to open popups in a new window or a new tab, <strong>you cannot force IE 11 users to open popups in a certain way through</strong> <code>window.open</code>, as alluded to in <a href=\"http://stackoverflow.com/a/4907854/456814\">Quentin's answer</a>.</p>\n\n<p>As for Firefox (29) users, using <code>window.open(url, '_blank')</code> <strong>depends on their browser's tab preferences,</strong> though you can still force them to open popups in a new window by specifying a width and height (see \"What About Chrome?\" section below).</p>\n\n<h1>Demonstration</h1>\n\n<p>Go to your browser's settings and configure it to open popups in a new window.</p>\n\n<h2>Internet Explorer (11)</h2>\n\n<p><img src=\"http://i.stack.imgur.com/IYWRU.png\" alt=\"IE settings dialog 1\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/8j8Yu.png\" alt=\"IE tab settings dialog\"></p>\n\n<h2>Test Page</h2>\n\n<p>After setting up Internet Explorer (11) to open popups in a new window as demonstrated above, use the following test page to test <code>window.open</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button onclick=\"window.open('http://stackoverflow.com/q/4907843/456814');\"&gt;\n    &lt;code&gt;window.open(url)&lt;/code&gt;\n  &lt;/button&gt;\n  &lt;button onclick=\"window.open('http://stackoverflow.com/q/4907843/456814', '_blank');\"&gt;\n    &lt;code&gt;window.open(url, '_blank')&lt;/code&gt;\n  &lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Observe that the popups are opened <strong><em>in a new window, not a new tab.</em></strong></p>\n\n<p>You can also test those snippets above in Firefox (29) with its tab preference set to new windows, and see the same results.</p>\n\n<h1>What About Chrome? It Implements <code>window.open</code> Differently from IE (11) and Firefox (29)</h1>\n\n<p>I'm not 100% sure, but it looks like Chrome (version <code>34.0.1847.131 m</code>) does not appear to have any settings that the user can use to choose whether or not to open popups in a new window or a new tab (like Firefox and IE have). I checked <a href=\"https://support.google.com/chrome/answer/95472?hl=en\">the Chrome documentation for managing pop-ups</a>, but it didn't mention anything about that sort of thing.</p>\n\n<p>Also, <strong>once again, different browsers seem to implement the behavior of</strong> <code>window.open</code> <strong>differently.</strong> In Chrome and Firefox, <strong><em>specifying a width and height will force a popup,</em></strong> even when a user has set Firefox (29) to open new windows in a new tab (as mentioned in the answers to <a href=\"http://stackoverflow.com/q/726761/456814\">JavaScript open in a new window, not tab</a>):</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button onclick=\"window.open('http://stackoverflow.com/q/4907843/456814', 'test', 'width=400, height=400');\"&gt;\n    &lt;code&gt;window.open(url)&lt;/code&gt;\n  &lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>However, the same code snippet above <strong>will always open a new tab in IE 11 if users set tabs as their browser preferences,</strong> not even specifying a width and height will force a new window popup for them.</p>\n\n<p>So the behavior of <code>window.open</code> in Chrome seems to be to open popups in a new tab when used in an <code>onclick</code> event, to open them in new windows when used from the browser console (<a href=\"http://stackoverflow.com/questions/4907843/open-a-url-in-a-new-tab-using-javascript#comment22514382_13158856\">as noted by other people</a>), and to open them in new windows when specified with a width and a height.</p>\n\n<h1>Summary</h1>\n\n<p><strong>Different browsers implement the behavior of</strong> <code>window.open</code> <strong>differently with regard to users' browser preferences.</strong> You cannot expect the same behavior for <code>window.open</code> to be true across all of Internet Explorer, Firefox, and Chrome, because of the different ways in which they handle a user's browser preferences.</p>\n\n<h1>Additional Reading</h1>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window.open\"><code>window.open</code> documentation</a>.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 56
                },
                {
                    "body": "<p>I'm going to agree somewhat with the person who wrote (paraphrased here): \"For a link in an existing web page, the browser will always open the link in a new tab if the new page is part of the same web site as the existing web page.\"  For me, at least, this \"general rule\" works in Chrome, Firefox, Opera, IE, Safari, SeaMonkey, and Konqueror.</p>\n\n<p>Anyway, there is a less complicated way to take advantage of what the other person presented.  Assuming we are talking about your own web site (\"thissite.com\" below), where you want to control what the browser does, then, below, you want \"specialpage.htm\" to be EMPTY, no HTML at all in it (saves time sending data from the server!).</p>\n\n<pre><code> var wnd, URL;  //global variables\n\n //specifying \"_blank\" in window.open() is SUPPOSED to keep the new page from replacing the existing page\n wnd = window.open(\"http://www.thissite.com/specialpage.htm\", \"_blank\"); //get reference to just-opened page\n //if the \"general rule\" above is true, a new tab should have been opened.\n URL = \"http://www.someothersite.com/desiredpage.htm\";  //ultimate destination\n setTimeout(gotoURL(),200);  //wait 1/5 of a second; give browser time to create tab/window for empty page\n\n\n function gotoURL()\n { wnd.open(URL, \"_self\");  //replace the blank page, in the tab, with the desired page\n   wnd.focus();             //when browser not set to automatically show newly-opened page, this MAY work\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Somehow a <a href=\"http://www.wareztuga.tv/\" rel=\"nofollow\">website</a> can do it. (I don't have the time to extract it from this mess, but this is the code)</p>\n\n<pre><code>if (!Array.prototype.indexOf)\n    Array.prototype.indexOf = function(searchElement, fromIndex) {\n        if (this === undefined || this === null)\n            throw new TypeError('\"this\" is null or not defined');\n        var length = this.length &gt;&gt;&gt; 0;\n        fromIndex = +fromIndex || 0;\n        if (Math.abs(fromIndex) === Infinity)\n            fromIndex = 0;\n        if (fromIndex &lt; 0) {\n            fromIndex += length;\n            if (fromIndex &lt; 0)\n                fromIndex = 0\n        }\n        for (; fromIndex &lt; length; fromIndex++)\n            if (this[fromIndex] === searchElement)\n                return fromIndex;\n        return -1\n    };\n(function Popunder(options) {\n    var _parent, popunder, posX, posY, cookieName, cookie, browser, numberOfTimes, expires = -1,\n        wrapping, url = \"\",\n        size, frequency, mobilePopupDisabled = options.mobilePopupDisabled;\n    if (this instanceof Popunder === false)\n        return new Popunder(options);\n    try {\n        _parent = top != self &amp;&amp; typeof top.document.location.toString() === \"string\" ? top : self\n    } catch (e) {\n        _parent = self\n    }\n    cookieName = \"adk2_popunder\";\n    popunder = null;\n    browser = function() {\n        var n = navigator.userAgent.toLowerCase(),\n            b = {\n                webkit: /webkit/.test(n),\n                mozilla: /mozilla/.test(n) &amp;&amp; !/(compatible|webkit)/.test(n),\n                chrome: /chrome/.test(n),\n                msie: /msie/.test(n) &amp;&amp; !/opera/.test(n),\n                firefox: /firefox/.test(n),\n                safari: /safari/.test(n) &amp;&amp; !/chrome/.test(n),\n                opera: /opera/.test(n)\n            };\n        b.version = b.safari ? (n.match(/.+(?:ri)[\\/: ]([\\d.]+)/) || [])[1] : (n.match(/.+(?:ox|me|ra|ie)[\\/:]([\\d.]+)/) || [])[1];\n        return b\n    }();\n    initOptions(options);\n\n    function initOptions(options) {\n        options = options || {};\n        if (options.wrapping)\n            wrapping = options.wrapping;\n        else {\n            options.serverdomain = options.serverdomain || \"ads.adk2.com\";\n            options.size = options.size || \"800x600\";\n            options.ci = \"3\";\n            var arr = [],\n                excluded = [\"serverdomain\", \"numOfTimes\", \"duration\", \"period\"];\n            for (var p in options)\n                options.hasOwnProperty(p) &amp;&amp; options[p].toString() &amp;&amp; excluded.indexOf(p) === -1 &amp;&amp; arr.push(p + \"=\" + encodeURIComponent(options[p]));\n            url = \"http://\" + options.serverdomain + \"/player.html?rt=popunder&amp;\" + arr.join(\"&amp;\")\n        }\n        if (options.size) {\n            size = options.size.split(\"x\");\n            options.width = size[0];\n            options.height = size[1]\n        }\n        if (options.frequency) {\n            frequency = /([0-9]+)\\/([0-9]+)(\\w)/.exec(options.frequency);\n            options.numOfTimes = +frequency[1];\n            options.duration = +frequency[2];\n            options.period = ({\n                m: \"minute\",\n                h: \"hour\",\n                d: \"day\"\n            })[frequency[3].toLowerCase()]\n        }\n        if (options.period)\n            switch (options.period.toLowerCase()) {\n                case \"minute\":\n                    expires = options.duration * 60 * 1e3;\n                    break;\n                case \"hour\":\n                    expires = options.duration * 60 * 60 * 1e3;\n                    break;\n                case \"day\":\n                    expires = options.duration * 24 * 60 * 60 * 1e3\n            }\n        posX = typeof options.left != \"undefined\" ? options.left.toString() : window.screenX;\n        posY = typeof options.top != \"undefined\" ? options.top.toString() : window.screenY;\n        numberOfTimes = options.numOfTimes\n    }\n\n    function getCookie(name) {\n        try {\n            var parts = document.cookie.split(name + \"=\");\n            if (parts.length == 2)\n                return unescape(parts.pop().split(\";\").shift()).split(\"|\")\n        } catch (err) {}\n    }\n\n    function setCookie(value, expiresDate) {\n        expiresDate = cookie[1] || expiresDate.toGMTString();\n        document.cookie = cookieName + \"=\" + escape(value + \"|\" + expiresDate) + \";expires=\" + expiresDate + \";path=/\"\n    }\n\n    function addEvent(listenerEvent) {\n        if (document.addEventListener)\n            document.addEventListener(\"click\", listenerEvent, false);\n        else\n            document.attachEvent(\"onclick\", listenerEvent)\n    }\n\n    function removeEvent(listenerEvent) {\n        if (document.removeEventListener)\n            document.removeEventListener(\"click\", listenerEvent, false);\n        else\n            document.detachEvent(\"onclick\", listenerEvent)\n    }\n\n    function isCapped() {\n        cookie = getCookie(cookieName) || [];\n        return !!numberOfTimes &amp;&amp; +numberOfTimes &lt;= +cookie[0]\n    }\n\n    function pop() {\n        var features = \"type=fullWindow, fullscreen, scrollbars=yes\",\n            listenerEvent = function() {\n                var now, next;\n                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))\n                    if (mobilePopupDisabled)\n                        return;\n                if (isCapped())\n                    return;\n                if (browser.chrome &amp;&amp; parseInt(browser.version.split(\".\")[0], 10) &gt; 30 &amp;&amp; adParams.openNewTab) {\n                    now = new Date;\n                    next = new Date(now.setTime(now.getTime() + expires));\n                    setCookie((+cookie[0] || 0) + 1, next);\n                    removeEvent(listenerEvent);\n                    window.open(\"javascript:window.focus()\", \"_self\", \"\");\n                    simulateClick(url);\n                    popunder = null\n                } else\n                    popunder = _parent.window.open(url, Math.random().toString(36).substring(7), features);\n                if (wrapping) {\n                    popunder.document.write(\"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\" + unescape(wrapping || \"\") + \"&lt;/body&gt;&lt;/html&gt;\");\n                    popunder.document.body.style.margin = 0\n                }\n                if (popunder) {\n                    now = new Date;\n                    next = new Date(now.setTime(now.getTime() + expires));\n                    setCookie((+cookie[0] || 0) + 1, next);\n                    moveUnder();\n                    removeEvent(listenerEvent)\n                }\n            };\n        addEvent(listenerEvent)\n    }\n    var simulateClick = function(url) {\n        var a = document.createElement(\"a\"),\n            u = !url ? \"data:text/html,&lt;script&gt;window.close();&lt;\\/script&gt;;\" : url,\n            evt = document.createEvent(\"MouseEvents\");\n        a.href = u;\n        document.body.appendChild(a);\n        evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, true, false, false, true, 0, null);\n        a.dispatchEvent(evt);\n        a.parentNode.removeChild(a)\n    };\n\n    function moveUnder() {\n        try {\n            popunder.blur();\n            popunder.opener.window.focus();\n            window.self.window.focus();\n            window.focus();\n            if (browser.firefox)\n                openCloseWindow();\n            else if (browser.webkit)\n                openCloseTab();\n            else\n                browser.msie &amp;&amp; setTimeout(function() {\n                    popunder.blur();\n                    popunder.opener.window.focus();\n                    window.self.window.focus();\n                    window.focus()\n                }, 1e3)\n        } catch (e) {}\n    }\n\n    function openCloseWindow() {\n        var tmp = popunder.window.open(\"about:blank\");\n        tmp.focus();\n        tmp.close();\n        setTimeout(function() {\n            try {\n                tmp = popunder.window.open(\"about:blank\");\n                tmp.focus();\n                tmp.close()\n            } catch (e) {}\n        }, 1)\n    }\n\n    function openCloseTab() {\n        var ghost = document.createElement(\"a\"),\n            clk;\n        document.getElementsByTagName(\"body\")[0].appendChild(ghost);\n        clk = document.createEvent(\"MouseEvents\");\n        clk.initMouseEvent(\"click\", false, true, window, 0, 0, 0, 0, 0, true, false, false, true, 0, null);\n        ghost.dispatchEvent(clk);\n        ghost.parentNode.removeChild(ghost);\n        window.open(\"about:blank\", \"PopHelper\").close()\n    }\n    pop()\n})(adParams)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This might be a hack, but in FF if you specify a third parameter 'fullscreen=yes', it opens a fresh new window.</p>\n\n<p>e.g.\n<code>&lt;a href=\"#\" onclick=\"window.open('MyPDF.pdf', '_blank', 'fullscreen=yes'); return false;\"&gt;MyPDF&lt;/a&gt;</code></p>\n\n<p>It seems to actually override the browser settings.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Opening a new tab from within a Firefox (Mozilla) extension goes like this:</p>\n\n<pre><code>gBrowser.selectedTab = gBrowser.addTab(\"http://example.com\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just omit [strWindowFeatures] parameters will open new tab, UNLESS browser setting overrides (browser setting trumps JS).</p>\n\n<p>New window</p>\n\n<pre><code>var myWin = window.open(strUrl, strWindowName, [strWindowFeatures]);\n</code></pre>\n\n<p>New tab</p>\n\n<pre><code>var myWin = window.open(strUrl, strWindowName);\n</code></pre>\n\n<p>-- or --</p>\n\n<pre><code>var myWin = window.open(strUrl);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>With jQuery I'm using this one</p>\n\n<pre><code>var url = \"http://google.com\";\n$(\"&lt;a&gt;\").attr(\"href\", url).attr(\"target\", \"_blank\")[0].click();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to open a <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\">URL</a> in a new tab, as opposed to a popup window. I've seen related questions where the responses would look something like:</p>\n\n<pre><code>window.open(url,'_blank');\nwindow.open(url);\n</code></pre>\n\n<p>But none of them worked for me, the browser still tried to open a popup window.</p>\n",
            "last_activity_date": 1423254932,
            "question_id": 4907843,
            "score": 566,
            "tags": [
                "javascript"
            ],
            "title": "Open a URL in a new tab using JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It makes no sense to return values from a callback. Instead, do the \"foo()\" work you want to do <strong>inside</strong> your callback.</p>\n\n<p>Asynchronous callbacks are invoked by the browser or by some framework like the Google geocoding library when events happen.  There's no place for returned values to go.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This is impossible as you cannot use an asynchronous call inside a synchronous method.</p>\n\n<p>In this case you need to pass a callback to foo that will receive the return value</p>\n\n<pre><code>function foo(address, fn){\n  geocoder.geocode( { 'address': address}, function(results, status) {\n     fn(results[0].geometry.location); \n  });\n}\n\nfoo(\"address\", function(location){\n  alert(location); // this is where you get the return value\n});\n</code></pre>\n\n<p>The thing is, if an inner function call is asynchronous, then all the functions 'wrapping' this call must also be asynchronous in order to 'return' a response.</p>\n\n<p>If you have a lot of callbacks you might consider taking the plunge and use a <a href=\"https://github.com/kriskowal/q\">promise library like Q</a>.</p>\n",
                    "is_accepted": true,
                    "score": 108
                },
                {
                    "body": "<p>If you happen to be using jQuery, you might want to give this a shot:\n<a href=\"http://api.jquery.com/category/deferred-object/\">http://api.jquery.com/category/deferred-object/</a></p>\n\n<p>It allows you to defer the execution of your callback function until the ajax request (or any async operation) is completed. This can also be used to call a callback once several ajax requests have all completed.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>This question is asked many times in SO. But still I can't get stuff.</p>\n\n<p>I want to get some value from callback. Look at the script below for clarification. </p>\n\n<pre><code>function foo(address){\n\n      // google map stuff\n      geocoder.geocode( { 'address': address}, function(results, status) {\n          results[0].geometry.location; // I want to return this value\n      })\n\n    }\n    foo(); //result should be results[0].geometry.location; value\n</code></pre>\n\n<p>If I try to return that value just getting \"undefined\". I followed some ideas from SO, but \nstill fails. </p>\n\n<p>Those are:</p>\n\n<pre><code>function foo(address){\n    var returnvalue;    \n    geocoder.geocode( { 'address': address}, function(results, status) {\n        returnvalue = results[0].geometry.location; \n    })\n    return returnvalue; \n}\nfoo(); //still undefined\n</code></pre>\n",
            "last_activity_date": 1418735345,
            "question_id": 6847697,
            "score": 82,
            "tags": [
                "javascript",
                "asynchronous",
                "callback",
                "javascript-objects"
            ],
            "title": "How to return value from an asynchronous callback function?"
        },
        {
            "answer_count": 22,
            "answers": [
                {
                    "body": "<p>You can dynamically create a form, and then post that.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>You could dynamically add the form using DHTML and then submit.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could make an AJAX call (likely using a library such as using Prototype.js or JQuery). AJAX can handle both GET and POST options.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could use a library like jQuery and its <a href=\"http://docs.jquery.com/Ajax/jQuery.post\" rel=\"nofollow\">$.post method</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Three options here.</p>\n\n<ol>\n<li><p>Standard JavaScript answer: Use a framework! Most Ajax frameworks will have abstracted you an easy way to make an <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\" rel=\"nofollow\">XMLHTTPRequest</a> POST.</p></li>\n<li><p>Make the XMLHTTPRequest request yourself, passing post into the open method instead of get. (More information in <em><a href=\"http://www.openjs.com/articles/ajax_xmlhttp_using_post.php\" rel=\"nofollow\">Using POST method in XMLHTTPRequest (Ajax)</a></em>.)</p></li>\n<li><p>Via JavaScript, dynamically create a form, add an action, add your inputs, and submit that.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\" rel=\"nofollow\">Prototype</a> library includes a Hashtable object, with a \".toQueryString()\" method, which allows you to easily turn a JavaScript object/structure into a query-string style string. Since the post requires the \"body\" of the request to be a query-string formatted string, this allows your Ajax request to work properly as a post. Here's an example using Prototype:</p>\n\n<pre><code>$req = new Ajax.Request(\"http://foo.com/bar.php\",{\n    method: 'post',\n    parameters: $H({\n        name: 'Diodeus',\n        question: 'JavaScript posts a request like a form request',\n        ...\n    }).toQueryString();\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function post(path, params, method) {\n    method = method || \"post\"; // Set method to post by default if not specified.\n\n    // The rest of this code assumes you are not using a library.\n    // It can be made less wordy if you use one.\n    var form = document.createElement(\"form\");\n    form.setAttribute(\"method\", method);\n    form.setAttribute(\"action\", path);\n\n    for(var key in params) {\n        if(params.hasOwnProperty(key)) {\n            var hiddenField = document.createElement(\"input\");\n            hiddenField.setAttribute(\"type\", \"hidden\");\n            hiddenField.setAttribute(\"name\", key);\n            hiddenField.setAttribute(\"value\", params[key]);\n\n            form.appendChild(hiddenField);\n         }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>post('/contact/', {name: 'Johnny Bravo'});\n</code></pre>\n\n<p><strong>EDIT</strong>: Since this has gotten upvoted so much, I'm guessing people will be copy-pasting this a lot. So I added the <code>hasOwnProperty</code> check to fix any inadvertent bugs.</p>\n",
                    "is_accepted": true,
                    "score": 956
                },
                {
                    "body": "<p>Using the <code>createElement</code> function provided in <a href=\"http://stackoverflow.com/questions/118693/how-do-you-dynamically-create-a-radio-button-in-javascript-that-works-in-all-br#120372\">this answer</a>, which is necessary due to <a href=\"http://msdn.microsoft.com/en-us/library/ms534184%28VS.85%29.aspx\">IE's brokenness with the name attribute</a> on elements created normally with <code>document.createElement</code>:</p>\n\n<pre><code>function postToURL(url, values) {\n    values = values || {};\n\n    var form = createElement(\"form\", {action: url,\n                                      method: \"POST\",\n                                      style: \"display: none\"});\n    for (var property in values) {\n        if (values.hasOwnProperty(property)) {\n            var value = values[property];\n            if (value instanceof Array) {\n                for (var i = 0, l = value.length; i &lt; l; i++) {\n                    form.appendChild(createElement(\"input\", {type: \"hidden\",\n                                                             name: property,\n                                                             value: value[i]}));\n                }\n            }\n            else {\n                form.appendChild(createElement(\"input\", {type: \"hidden\",\n                                                         name: property,\n                                                         value: value}));\n            }\n        }\n    }\n    document.body.appendChild(form);\n    form.submit();\n    document.body.removeChild(form);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>A simple quick-and-dirty implementation of @Aaron answer:</p>\n\n<pre><code>document.body.innerHTML += '&lt;form id=\"dynForm\" action=\"http://example.com/\" method=\"post\"&gt;&lt;input type=\"hidden\" name=\"q\" value=\"a\"&gt;&lt;/form&gt;';\ndocument.getElementById(\"dynForm\").submit();\n</code></pre>\n\n<p>Of course, you should rather use a JavaScript framework such as <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\">Prototype</a> or <a href=\"http://en.wikipedia.org/wiki/JQuery\">jQuery</a>...</p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>I'd go down the Ajax route as others suggested with something like:</p>\n\n<pre><code>var xmlHttpReq = false;\n\nvar self = this;\n// Mozilla/Safari\nif (window.XMLHttpRequest) {\n    self.xmlHttpReq = new XMLHttpRequest();\n}\n// IE\nelse if (window.ActiveXObject) {\n    self.xmlHttpReq = new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\n\nself.xmlHttpReq.open(\"POST\", \"YourPageHere.asp\", true);\nself.xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n\nself.xmlHttpReq.setRequestHeader(\"Content-length\", QueryString.length);\n\n\n\nself.xmlHttpReq.send(\"?YourQueryString=Value\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is like Alan's option 2 (above). How to instantiate the httpobj is left as an excercise.</p>\n\n<pre><code>httpobj.open(\"POST\", url, true);\nhttpobj.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');\nhttpobj.onreadystatechange=handler;\nhttpobj.send(post);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One solution is to generate the form and submit it. One implementation is</p>\n\n<pre><code>function post_to_url(url, params) {\n    var form = document.createElement('form');\n    form.action = url;\n    form.method = 'POST';\n\n    for (var i in params) {\n        if (params.hasOwnProperty(i)) {\n            var input = document.createElement('input');\n            input.type = 'hidden';\n            input.name = i;\n            input.value = params[i];\n            form.appendChild(input);\n        }\n    }\n\n    form.submit();\n}\n</code></pre>\n\n<p>So I can implement a URL shortening bookmarklet with a simple</p>\n\n<pre><code>javascript:post_to_url('http://is.gd/create.php', {'URL': location.href});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>If you have <a href=\"http://prototypejs.org/\" rel=\"nofollow\">Prototype</a> installed, you can tighten up the code to generate and submit the hidden form like this:</p>\n\n<pre><code> var form = new Element('form',\n                        {method: 'post', action: 'http://example.com/'});\n form.insert(new Element('input',\n                         {name: 'q', value: 'a', type: 'hidden'}));\n $(document.body).insert(form);\n form.submit();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/133925/javascript-post-request-like-a-form-submit/133997#133997\">Rakesh Pai's answer</a> is amazing, but there is an issue that occurs for me (in <a href=\"http://en.wikipedia.org/wiki/Safari_%28web_browser%29\">Safari</a>) when you try to post a form with a field called <code>submit</code>. For example, <code>post_to_url(\"http://google.com/\",{ submit: \"submit\" } );</code>. I have patched the function slightly to walk around this variable space collision.</p>\n\n<pre><code>    function post_to_url(path, params, method) {\n        method = method || \"post\";\n\n        var form = document.createElement(\"form\");\n\n        //Move the submit function to another variable\n        //so that it doesn't get overwritten.\n        form._submit_function_ = form.submit;\n\n        form.setAttribute(\"method\", method);\n        form.setAttribute(\"action\", path);\n\n        for(var key in params) {\n            var hiddenField = document.createElement(\"input\");\n            hiddenField.setAttribute(\"type\", \"hidden\");\n            hiddenField.setAttribute(\"name\", key);\n            hiddenField.setAttribute(\"value\", params[key]);\n\n            form.appendChild(hiddenField);\n        }\n\n        document.body.appendChild(form);\n        form._submit_function_(); //Call the renamed function.\n    }\n    post_to_url(\"http://google.com/\", { submit: \"submit\" } ); //Works!\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Here is how I wrote it using jQuery. Tested in Firefox and Internet&nbsp;Explorer.</p>\n\n<pre><code>function postToUrl(url, params, newWindow)\n{\n    var form = $('&lt;form&gt;');\n    form.attr('action', url);\n    form.attr('method', 'POST');\n    if(newWindow){ form.attr('target', '_blank'); }\n\n    var addParam = function(paramName, paramValue){\n        var input = $('&lt;input type=\"hidden\"&gt;');\n        input.attr({ 'id':     paramName,\n                     'name':   paramName,\n                     'value':  paramValue });\n        form.append(input);\n    };\n\n    // Params is an Array.\n    if(params instanceof Array){\n        for(var i=0; i&lt;params.length; i++){\n            addParam(i, params[i]);\n        }\n    }\n\n    // Params is an Associative array or Object.\n    if(params instanceof Object){\n        for(var key in params){\n            addParam(key, params[key]);\n        }\n    }\n\n    // Submit the form, then remove it from the page\n    form.appendTo(document.body);\n    form.submit();\n    form.remove();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This would be a version of the selected answer using <a href=\"http://en.wikipedia.org/wiki/JQuery\">jQuery</a>.</p>\n\n<pre><code>// Post to the provided URL with the specified parameters.\nfunction post(path, parameters) {\n    var form = $('&lt;form&gt;&lt;/form&gt;');\n\n    form.attr(\"method\", \"post\");\n    form.attr(\"action\", path);\n\n    $.each(parameters, function(key, value) {\n        var field = $('&lt;input&gt;&lt;/input&gt;');\n\n        field.attr(\"type\", \"hidden\");\n        field.attr(\"name\", key);\n        field.attr(\"value\", value);\n\n        form.append(field);\n    });\n\n    // The form needs to be a part of the document in\n    // order for us to be able to submit it.\n    $(document.body).append(form);\n    form.submit();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>This is based on beauSD's code using jQuery. It is improved so it works recursively on objects.</p>\n\n<pre><code>function post(url, params, urlEncoded, newWindow) {\n    var form = $('&lt;form /&gt;').hide();\n    form.attr('action', url)\n        .attr('method', 'POST')\n        .attr('enctype', urlEncoded ? 'application/x-www-form-urlencoded' : 'multipart/form-data');\n    if(newWindow) form.attr('target', '_blank');\n\n    function addParam(name, value, parent) {\n        var fullname = (parent.length &gt; 0 ? (parent + '[' + name + ']') : name);\n        if(value instanceof Object) {\n            for(var i in value) {\n                addParam(i, value[i], fullname);\n            }\n        }\n        else $('&lt;input type=\"hidden\" /&gt;').attr({name: fullname, value: value}).appendTo(form);\n    };\n\n    addParam('', params, '');\n\n    $('body').append(form);\n    form.submit();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>this is the answer of rakesh, but with support for arrays (which is quite common in forms): </p>\n\n<p>plain javascript: </p>\n\n<pre><code>function post_to_url(path, params, method) {\n    method = method || \"post\"; // Set method to post by default, if not specified.\n\n    // The rest of this code assumes you are not using a library.\n    // It can be made less wordy if you use one.\n    var form = document.createElement(\"form\");\n    form.setAttribute(\"method\", method);\n    form.setAttribute(\"action\", path);\n\n    var addField = function( key, value ){\n        var hiddenField = document.createElement(\"input\");\n        hiddenField.setAttribute(\"type\", \"hidden\");\n        hiddenField.setAttribute(\"name\", key);\n        hiddenField.setAttribute(\"value\", value );\n\n        form.appendChild(hiddenField);\n    }; \n\n    for(var key in params) {\n        if(params.hasOwnProperty(key)) {\n            if( params[key] instanceof Array ){\n                for(var i = 0; i &lt; params[key].length; i++){\n                    addField( key, params[key][i] )\n                }\n            }\n            else{\n                addField( key, params[key] ); \n            }\n        }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n}\n</code></pre>\n\n<p>oh, and here's the jquery version: (slightly different code, but boils down to the same thing)</p>\n\n<pre><code>function post_to_url(path, params, method) {\n    method = method || \"post\"; // Set method to post by default, if not specified.\n\n    var form = $(document.createElement( \"form\" ))\n        .attr( {\"method\": method, \"action\": path} );\n\n    $.each( params, function(key,value){\n        $.each( value instanceof Array? value : [value], function(i,val){\n            $(document.createElement(\"input\"))\n                .attr({ \"type\": \"hidden\", \"name\": key, \"value\": val })\n                .appendTo( form );\n        }); \n    } ); \n\n    form.appendTo( document.body ).submit(); \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>document.getElementById(\"form1\").submit();\n</code></pre>\n\n<p>It works perfect in my case.</p>\n\n<p>you can use it in function also like,</p>\n\n<pre><code>function formSubmit()\n{\n     document.getElementById(\"frmUserList\").submit();\n} \n</code></pre>\n\n<p>Using this you can post all the values of inputs.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>And the answer is.....</strong></p>\n\n<p>no, you cant have the javascript post request like a form submit.</p>\n\n<p>What you can have is a form in html, then submit it with the javascript. (as explained many times on this page)</p>\n\n<p>You can create the html yourself, you don't need javascript to write the html. That would be silly if people suggested that.</p>\n\n<pre><code>&lt;form id=\"ninja\" action=\"http://example.com/\" method=\"POST\"&gt;\n  &lt;input id=\"donaldduck\" type=\"hidden\" name=\"q\" value=\"a\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Your function would just configure the form the way you want it.</p>\n\n<pre><code>function postToURL(a,b,c){\n   document.getElementById(\"ninja\").action     = a;\n   document.getElementById(\"donaldduck\").name  = b;\n   document.getElementById(\"donaldduck\").value = c;\n   document.getElementById(\"ninja\").submit();\n}\n</code></pre>\n\n<p>Then, use it like.</p>\n\n<pre><code>postToURL(\"http://example.com/\",\"q\",\"a\");\n</code></pre>\n\n<p>But I would just leave out the function and just do.</p>\n\n<pre><code>   document.getElementById('donaldduck').value = \"a\";\n   document.getElementById(\"ninja\").submit();\n</code></pre>\n\n<p>Finally, the style decision goes in the ccs file.</p>\n\n<pre><code>.ninja{ \n  display:none;\n}\n</code></pre>\n\n<p>Personally I think forms should be addressed by name but that is not important right now.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The easiest way is using Ajax Post Request:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: 'http://www.myrestserver.com/api',\n    data: data,\n    success: success,\n    dataType: dataType\n    });\n</code></pre>\n\n<p>where:</p>\n\n<ul>\n<li>data is an object</li>\n<li>dataType is the data expected by the server (xml,\njson, script, text, html) </li>\n<li>url is the address of your RESt server or any function on the server side that accept the HTTP-POST.</li>\n</ul>\n\n<p>Then in the success handler redirect the browser with something like window.location.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Well, wish I had read all the other posts so I didn't lose time creating this from Rakesh Pai's answer.  Here's a recursive solution that works with arrays and objects.  No dependency on jQuery.</p>\n\n<pre><code>function postToUrl(path, data, method) {\n\nmethod = method || \"post\"; // Set method to post by default if not specified.\n\nvar form = document.createElement(\"form\");\nform.setAttribute(\"method\", method);\nform.setAttribute(\"action\", path);\n\nfunction constructElements(item, parentString) {\n    for (var key in item) {\n        if (item.hasOwnProperty(key) &amp;&amp; item[key] != null) {\n            if (Object.prototype.toString.call(item[key]) === '[object Array]') {\n                for (var i = 0; i &lt; item[key].length; i++) {\n                    constructElements(item[key][i], parentString + key + \"[\" + i + \"].\");\n                }\n            } else if (Object.prototype.toString.call(item[key]) === '[object Object]') {\n                constructElements(item[key], parentString + key + \".\");\n            } else {\n                var hiddenField = document.createElement(\"input\");\n                hiddenField.setAttribute(\"type\", \"hidden\");\n                hiddenField.setAttribute(\"name\", parentString + key);\n                hiddenField.setAttribute(\"value\", item[key]);\n                form.appendChild(hiddenField);\n            }\n        }\n    }\n}\n\nconstructElements(data, \"\");\n\ndocument.body.appendChild(form);\nform.submit();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to direct a browser to a different page. If I wanted a GET request, I could say</p>\n\n<pre><code>document.location.href = 'http://example.com/?q=a';\n</code></pre>\n\n<p>But the resource I'm trying to access won't respond properly unless I use a POST request. If this were not dynamically generated, I might use the HTML</p>\n\n<pre><code>&lt;form action=\"http://example.com/\" method=\"POST\"&gt;\n  &lt;input type=\"hidden\" name=\"q\" value=\"a\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Then I would just submit the form from the DOM.</p>\n\n<p>But really I would like JavaScript code that allows me to say</p>\n\n<pre><code>post_to_url('http://example.com/', {'q':'a'});\n</code></pre>\n\n<p>What's the best cross browser implementation?</p>\n\n<p><strong>Edit</strong> </p>\n\n<p>I'm sorry I was not clear. I need a solution that changes the location of the browser, just like submitting a form. If this is possible with <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\">XMLHttpRequest</a>, it is not obvious. And this should not be asynchronous, nor use XML, so Ajax is not the answer.</p>\n",
            "last_activity_date": 1425014770,
            "question_id": 133925,
            "score": 628,
            "tags": [
                "javascript",
                "http",
                "post",
                "submit",
                "html-form"
            ],
            "title": "JavaScript post request like a form submit"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>To sort it you need to create a comparator function taking two arguments and then call the sort function with that comparator function as follows:</p>\n\n<pre><code>// a and b are object elements of your array\nfunction mycomparator(a,b) {\n  return parseInt(a.price) - parseInt(b.price);\n\n}\n</code></pre>\n\n<p>If you want to sort ascending change <code>parseInt(a.price) - parseInt(b.price)</code> to <code>parseInt(b.price) - parseInt(a.price)</code>. Note the change from a to b.</p>\n\n<p>To do the sort</p>\n\n<pre><code>homes.sort(mycomparator);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 81
                },
                {
                    "body": "<pre><code>homes.sort(function(a,b) { return parseFloat(a.price) - parseFloat(b.price) } );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 378
                },
                {
                    "body": "<p>You want to sort it in Javascript, right?  What you want is the <a href=\"http://www.javascriptkit.com/javatutors/arraysort.shtml\" rel=\"nofollow\"><code>sort()</code> function</a>.  In this case you need to write a comparator function and pass it to <code>sort()</code>, so something like this:</p>\n\n<pre><code>function comparator(a, b) {\n    return parseInt(a[\"price\"]) - parseInt(b[\"price\"]);\n}\n\nvar json = { \"homes\": [ /* your previous data */ ] };\nconsole.log(json[\"homes\"].sort(comparator));\n</code></pre>\n\n<p>Your comparator takes one of each of the nested hashes inside the array and decides which one is higher by checking the \"price\" field.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>You can use the JavaScript <code>sort</code> method with a callback function:</p>\n\n<pre><code>function compareASC(homeA, homeB)\n{\n    return parseFloat(homeA.price) - parseFloat(homeB.price);\n}\n\nfunction compareDESC(homeA, homeB)\n{\n    return parseFloat(homeB.price) - parseFloat(homeA.price);\n}\n\n// Sort ASC\nhomes.sort(compareASC);\n\n// Sort DESC\nhomes.sort(compareDESC);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a more flexible version, which allows you to create \nreusable sort functions, and sort by any field.</p>\n\n<pre><code>var sort_by = function(field, reverse, primer){\n\n   var key = primer ? \n       function(x) {return primer(x[field])} : \n       function(x) {return x[field]};\n\n   reverse = !reverse ? 1 : -1;\n\n   return function (a, b) {\n       return a = key(a), b = key(b), reverse * ((a &gt; b) - (b &gt; a));\n     } \n}\n</code></pre>\n\n<p>Now you can sort by any field at will...</p>\n\n<pre><code>var homes = [{\n\n   \"h_id\": \"3\",\n   \"city\": \"Dallas\",\n   \"state\": \"TX\",\n   \"zip\": \"75201\",\n   \"price\": \"162500\"\n\n}, {\n\n   \"h_id\": \"4\",\n   \"city\": \"Bevery Hills\",\n   \"state\": \"CA\",\n   \"zip\": \"90210\",\n   \"price\": \"319250\"\n\n}, {\n\n   \"h_id\": \"5\",\n   \"city\": \"New York\",\n   \"state\": \"NY\",\n   \"zip\": \"00010\",\n   \"price\": \"962500\"\n\n}];\n\n// Sort by price high to low\nhomes.sort(sort_by('price', true, parseInt));\n\n// Sort by city, case-insensitive, A-Z\nhomes.sort(sort_by('city', false, function(a){return a.toUpperCase()}));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 377
                },
                {
                    "body": "<p>This is a nice JQuery plug in:</p>\n\n<p><a href=\"http://web.archive.org/web/20100131090714/http://plugins.jquery.com/project/sort\" rel=\"nofollow\">http://plugins.jquery.com/project/sort (Wayback Machine Link)</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>for string sorting in case some one needs it,</p>\n\n<pre><code>var dataArr = {  \n\n    \"hello\": [{\n    \"id\": 114,\n    \"keyword\": \"zzzzzz\",\n    \"region\": \"Sri Lanka\",\n    \"supportGroup\": \"administrators\",\n    \"category\": \"Category2\"\n}, {\n    \"id\": 115,\n    \"keyword\": \"aaaaa\",\n    \"region\": \"Japan\",\n    \"supportGroup\": \"developers\",\n    \"category\": \"Category2\"\n}]\n\n};\nvar sortArray = dataArr['hello'];\nsortArray.sort(function(a,b) {\n    if ( a.region &lt; b.region )\n        return -1;\n    if ( a.region &gt; b.region )\n        return 1;\n    return 0;\n} );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>For sorting a array you must define a comparator function. This function always be different on your desired sorting pattern or order(i.e. ascending or descending).</p>\n\n<p>Let create some functions that sort an array ascending or descending and that contains object or string or numeric values.</p>\n\n<pre><code>function sorterAscending(a,b) {\n    return a-b;\n}\n\nfunction sorterDescending(a,b) {\n    return b-a;\n}\n\nfunction sorterPriceAsc(a,b) {\n    return parseInt(a['price']) - parseInt(b['price']);\n}\n\nfunction sorterPriceDes(a,b) {\n    return parseInt(b['price']) - parseInt(b['price']);\n}\n</code></pre>\n\n<p><strong>Sort numbers (alphabetically and ascending):</strong></p>\n\n<pre><code>var fruits = [\"Banana\", \"Orange\", \"Apple\", \"Mango\"];\nfruits.sort();\n</code></pre>\n\n<p><strong>Sort numbers (alphabetically and descending):</strong></p>\n\n<pre><code>var fruits = [\"Banana\", \"Orange\", \"Apple\", \"Mango\"];\nfruits.sort();\nfruits.reverse();\n</code></pre>\n\n<p><strong>Sort numbers (numerically and ascending):</strong></p>\n\n<pre><code>var points = [40,100,1,5,25,10];\npoints.sort(sorterAscending());\n</code></pre>\n\n<p><strong>Sort numbers (numerically and descending):</strong></p>\n\n<pre><code>var points = [40,100,1,5,25,10];\npoints.sort(sorterDescending());\n</code></pre>\n\n<p>As above use sorterPriceAsc and sorterPriceDes method with your array with desired key.</p>\n\n<pre><code>homes.sort(sorterPriceAsc()) or homes.sort(sorterPriceDes())\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a culmination of all answers above. </p>\n\n<p>Fiddle validation: <a href=\"http://jsfiddle.net/bobberino/4qqk3/\" rel=\"nofollow\">http://jsfiddle.net/bobberino/4qqk3/</a></p>\n\n<pre><code>var sortOn = function (arr, prop, reverse, numeric) {\n\n    // Ensure there's a property\n    if (!prop || !arr) {\n        return arr\n    }\n\n    // Set up sort function\n    var sort_by = function (field, rev, primer) {\n\n        // Return the required a,b function\n        return function (a, b) {\n\n            // Reset a, b to the field\n            a = primer(a[field]), b = primer(b[field]);\n\n            // Do actual sorting, reverse as needed\n            return ((a &lt; b) ? -1 : ((a &gt; b) ? 1 : 0)) * (rev ? -1 : 1);\n        }\n\n    }\n\n    // Distinguish between numeric and string to prevent 100's from coming before smaller\n    // e.g.\n    // 1\n    // 20\n    // 3\n    // 4000\n    // 50\n\n    if (numeric) {\n\n        // Do sort \"in place\" with sort_by function\n        arr.sort(sort_by(prop, reverse, function (a) {\n\n            // - Force value to a string.\n            // - Replace any non numeric characters.\n            // - Parse as float to allow 0.02 values.\n            return parseFloat(String(a).replace(/[^0-9.-]+/g, ''));\n\n        }));\n    } else {\n\n        // Do sort \"in place\" with sort_by function\n        arr.sort(sort_by(prop, reverse, function (a) {\n\n            // - Force value to string.\n            return String(a).toUpperCase();\n\n        }));\n    }\n\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I also worked with some kind of rating and multiple fields sort:</p>\n\n<pre><code>arr = [\n    {type:'C', note:834},\n    {type:'D', note:732},\n    {type:'D', note:008},\n    {type:'F', note:474},\n    {type:'P', note:283},\n    {type:'P', note:165},\n    {type:'X', note:173},\n    {type:'Z', note:239},\n];\n\narr.sort(function(a,b){        \n    var _a = ((a.type==='C')?'0':(a.type==='P')?'1':'2');\n    _a += (a.type.localeCompare(b.type)===-1)?'0':'1';\n    _a += (a.note&gt;b.note)?'1':'0';\n    var _b = ((b.type==='C')?'0':(b.type==='P')?'1':'2');\n    _b += (b.type.localeCompare(a.type)===-1)?'0':'1';\n    _b += (b.note&gt;a.note)?'1':'0';\n    return parseInt(_a) - parseInt(_b);\n});\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>[\n    {\"type\":\"C\",\"note\":834},\n    {\"type\":\"P\",\"note\":165},\n    {\"type\":\"P\",\"note\":283},\n    {\"type\":\"D\",\"note\":8},\n    {\"type\":\"D\",\"note\":732},\n    {\"type\":\"F\",\"note\":474},\n    {\"type\":\"X\",\"note\":173},\n    {\"type\":\"Z\",\"note\":239}\n]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I recently wrote a universal function to manage this for you if you want to use it.</p>\n\n<pre><code>/**\n * Sorts an object into an order\n *\n * @require jQuery\n *\n * @param object Our JSON object to sort\n * @param type Only alphabetical at the moment\n * @param identifier The array or object key to sort by\n * @param order Ascending or Descending\n *\n * @returns Array\n */\nfunction sortItems(object, type, identifier, order){\n\n    var returnedArray = [];\n    var emptiesArray = []; // An array for all of our empty cans\n\n    // Convert the given object to an array\n    $.each(object, function(key, object){\n\n        // Store all of our empty cans in their own array\n        // Store all other objects in our returned array\n        object[identifier] == null ? emptiesArray.push(object) : returnedArray.push(object);\n\n    });\n\n    // Sort the array based on the type given\n    switch(type){\n\n        case 'alphabetical':\n\n            returnedArray.sort(function(a, b){\n\n                return(a[identifier] == b[identifier]) ? 0 : (\n\n                    // Sort ascending or descending based on order given\n                    order == 'asc' ? a[identifier] &gt; b[identifier] : a[identifier] &lt; b[identifier]\n\n                ) ? 1 : -1;\n\n            });\n\n            break;\n\n        default:\n\n    }\n\n    // Return our sorted array along with the empties at the bottom depending on sort order\n    return order == 'asc' ? returnedArray.concat(emptiesArray) : emptiesArray.concat(returnedArray);\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Maybe <strong><a href=\"http://jsbin.com/pavina/edit?js,output\" rel=\"nofollow\">this approach</a></strong> can be useful:<br>\nWe are going to create a method to sort the array that be able to arrange objects by a property.</p>\n\n<h2>Creating the sorting function</h2>\n\n<pre><code>(function() {\n    var toString = Object.prototype.toString,\n        //default parser\n        parser = function (x) { return x; },\n        //gets the item to be sorted\n        getItem = function (x) {\n            return this.parser((toString.call(x) == \"[object Object]\" &amp;&amp; x[this.prop]) || x);\n        };\n    // Creates a sort method in the Array prototype\n    Object.defineProperty(Array.prototype, \"sortBy\", {\n        configurable: false,\n        enumerable: false,\n        // @o.prop: property name (if it is an Array of objects)\n        // @o.desc: determines descending sort\n        // @o.parser: function to parse the items to expected type\n        value: function (o) {\n            if (toString.call(o) != \"[object Object]\")\n                o = {};\n            if (toString.call(o.parser) != \"[object Function]\")\n                o.parser = parser;\n            o.desc = !!o.desc;\n            //if @o.desc is true: set -1, else 1\n            o.desc = [1, -1][+!!o.desc];\n            return this.sort(function (a, b) {\n                a = getItem.call(o, a);\n                b = getItem.call(o, b);\n                return o.desc * ((a &gt; b) - (b &gt; a));\n              //return o.desc * (a &gt; b ? 1 : (a &lt; b ? -1 : 0));\n            });\n        }\n    });\n})();\n</code></pre>\n\n<h2>Setting unsorted data</h2>\n\n<pre><code>var data = [\n  {date: \"2011-11-14T17:25:45Z\", quantity: 2, total: 200, tip: 0,   type: \"cash\"},\n  {date: \"2011-11-14T16:28:54Z\", quantity: 1, total: 300, tip: 200, type: \"visa\"},\n  {date: \"2011-11-14T16:30:43Z\", quantity: 2, total: 90,  tip: 0,   type: \"tab\"},\n  {date: \"2011-11-14T17:22:59Z\", quantity: 2, total: 90,  tip: 0,   type: \"tab\"},\n  {date: \"2011-11-14T16:53:41Z\", quantity: 2, total: 90,  tip: 0,   type: \"tab\"},\n  {date: \"2011-11-14T16:48:46Z\", quantity: 2, total: 90,  tip: 0,   type: \"tab\"},\n  {date: \"2011-11-31T17:29:52Z\", quantity: 1, total: 200, tip: 100, type: \"visa\"},\n  {date: \"2011-11-01T16:17:54Z\", quantity: 2, total: 190, tip: 100, type: \"tab\"},\n  {date: \"2011-11-14T16:58:03Z\", quantity: 2, total: 90,  tip: 0,   type: \"tab\"},\n  {date: \"2011-11-14T16:20:19Z\", quantity: 2, total: 190, tip: 100, type: \"tab\"},\n  {date: \"2011-11-14T17:07:21Z\", quantity: 2, total: 90,  tip: 0,   type: \"tab\"},\n  {date: \"2011-11-14T16:54:06Z\", quantity: 1, total: 100, tip: 0,   type: \"cash\"}\n];\n</code></pre>\n\n<h2>Using it</h2>\n\n<p>Finally, we arrange the array, by <code>\"date\"</code> property as <code>string</code></p>\n\n<pre><code>//sort the object by a property (ascending)\n//sorting takes into account uppercase and lowercase\ndata.sortBy({ prop: \"date\" });\n</code></pre>\n\n<p>If you want to ignore letter case, set the <code>\"parser\"</code> callback:</p>\n\n<pre><code>//sort the object by a property (descending)\n//sorting ignores uppercase and lowercase\ndata.sortBy({\n    prop: \"date\",\n    desc: true,\n    parser: function (item) {\n        return item.toUpperCase();\n    }\n});\n</code></pre>\n\n<p>If you want to treat the \"date\" field as <code>Date</code> type:</p>\n\n<pre><code>//sort the object by a property (ascending)\n//sorting parses each item to Date type\ndata.sortBy({\n    prop: \"date\",\n    parser: function (item) {\n        return new Date(item);\n    }\n});\n</code></pre>\n\n<p>Here you can play with the above example:<br>\n<strong><a href=\"http://jsbin.com/pavina/edit?js,output\" rel=\"nofollow\">http://jsbin.com/pavina/edit?js,output</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>homes.sort(function(a, b){\n  var nameA=a.prices.toLowerCase(), nameB=b.prices.toLowerCase()\n  if (nameA &lt; nameB) //sort string ascending\n    return -1 \n  if (nameA &gt; nameB)\n    return 1\n  return 0 //default return value (no sorting)\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I read the following objects using Ajax and stored them in an array:</p>\n\n<pre><code>var homes = [\n    {\n        \"h_id\": \"3\",\n        \"city\": \"Dallas\",\n        \"state\": \"TX\",\n        \"zip\": \"75201\",\n        \"price\": \"162500\"\n    }, {\n        \"h_id\": \"4\",\n        \"city\": \"Bevery Hills\",\n        \"state\": \"CA\",\n        \"zip\": \"90210\",\n        \"price\": \"319250\"\n    }, {\n        \"h_id\": \"5\",\n        \"city\": \"New York\",\n        \"state\": \"NY\",\n        \"zip\": \"00010\",\n        \"price\": \"962500\"\n    }];\n</code></pre>\n\n<p>How do I create a function to sort the <code>price</code> field in <em>ascending</em> order, and also be able to sort it in <em>descending</em> order using only JavaScript?</p>\n",
            "last_activity_date": 1424462670,
            "question_id": 979256,
            "score": 336,
            "tags": [
                "javascript",
                "arrays",
                "sorting"
            ],
            "title": "Sorting an array of JavaScript objects"
        },
        {
            "answer_count": 28,
            "answers": [
                {
                    "body": "<p>You can do this...</p>\n\n<pre><code>var string = 'This is\\n' +\n'a multiline\\n' + \n'string';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 148
                },
                {
                    "body": "<p>Javascript doesn't have a here-document syntax. You can escape the literal newline, however, which comes close:</p>\n\n<pre><code>\"foo \\\nbar\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 710
                },
                {
                    "body": "<p>the pattern <code>text = &lt;&lt;\"HERE\" This Is A Multiline String HERE</code> is not available in js (I remember using it much in my good old Perl days).</p>\n\n<p>To keep oversight with complex or long multiline strings I sometimes use an array pattern:</p>\n\n<pre><code>var myString = \n   ['&lt;div id=\"someId\"&gt;',\n    'some content&lt;br /&gt;',\n    '&lt;a href=\"#someRef\"&gt;someRefTxt&lt;/a&gt;',\n    '&lt;/div&gt;'\n   ].join('\\n');\n</code></pre>\n\n<p>or the pattern anonymous already showed (escape newline), which can be an ugly block in your code:</p>\n\n<pre><code>    var myString = \n       '&lt;div id=\"someId\"&gt; \\\nsome content&lt;br /&gt; \\\n&lt;a href=\"#someRef\"&gt;someRefTxt&lt;/a&gt; \\\n&lt;/div&gt;';\n</code></pre>\n\n<p>Here's another weird but working 'trick'<sup><b>1</b></sup>:</p>\n\n<pre><code>var myString = (function () {/*\n   &lt;div id=\"someId\"&gt;\n     some content&lt;br /&gt;\n     &lt;a href=\"#someRef\"&gt;someRefTxt&lt;/a&gt;\n    &lt;/div&gt;        \n*/}).toString().match(/[^]*\\/\\*([^]*)\\*\\/\\}$/)[1];\n</code></pre>\n\n<p>[<b>addition 2015</b>]<br>\nES6 supports spanning strings over multiple lines using <a href=\"http://www.2ality.com/2011/09/quasi-literals.html\">template strings</a>:</p>\n\n<pre><code>let str = `This is a text\n    with multiple lines.\n    Escapes are interpreted,\n    \\n is a newline.`;\nlet str = String.raw`This is a text\n    with multiple lines.\n    Escapes are not interpreted,\n    \\n is not a newline.`;\n</code></pre>\n\n<p><sup><b>1</b></sup> Note: this will be lost after minifying/obfuscating your code</p>\n",
                    "is_accepted": false,
                    "score": 455
                },
                {
                    "body": "<p>This works in IE, Safari, Chrome and Firefox:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div class=\"crazy_idea\" thorn_in_my_side='&lt;table  border=\"0\"&gt;\n                        &lt;tr&gt;\n                            &lt;td &gt;&lt;span class=\"mlayouttablecellsdynamic\"&gt;PACKAGE price $65.00&lt;/span&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;'&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n    alert($(\".crazy_idea\").attr(\"thorn_in_my_side\"));\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You <em>can</em> have multiline strings in pure JavaScript.</p>\n\n<p>This method is based on the serialization of functions, which is <a href=\"http://es5.github.io/#x15.3.4.2\">defined to be implementation-dependent</a>. It does work in the most browsers (see below), but there's no guarantee that it will still work in the future, so do not rely on it.</p>\n\n<p>Using the following function:</p>\n\n<pre><code>function hereDoc(f) {\n  return f.toString().\n      replace(/^[^\\/]+\\/\\*!?/, '').\n      replace(/\\*\\/[^\\/]+$/, '');\n}\n</code></pre>\n\n<p>You can have here-documents like this:</p>\n\n<pre><code>var tennysonQuote = hereDoc(function() {/*!\n  Theirs not to make reply,\n  Theirs not to reason why,\n  Theirs but to do and die\n*/});\n</code></pre>\n\n<p>The method has successfully been tested in the following browsers (not mentioned = not tested):</p>\n\n<ul>\n<li>IE 4 - 10</li>\n<li>Opera 9.50 - 12 (not in 9-)</li>\n<li>Safari 4 - 6 (not in 3-)</li>\n<li>Chrome 1 - 27</li>\n<li>Firefox 17 - 21 (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString#Notes\">not in 16-</a>)</li>\n<li>Rekonq 0.7.0 - 0.8.0</li>\n<li><em>Not supported in Konqueror 4.7.4</em></li>\n</ul>\n\n<p>Be careful with your minifier, though. It tends to remove comments. For the <a href=\"http://www.julienlecomte.net/yuicompressor/README\">YUI compressor</a>, a comment starting with <code>/*!</code> (like the one I used) will be preserved. </p>\n\n<p>I think a <em>real</em> solution would be to use <a href=\"http://coffeescript.org/#strings\">CoffeeScript</a>.</p>\n",
                    "is_accepted": false,
                    "score": 254
                },
                {
                    "body": "<p>to sum up, I have tried 2 approaches listed here in user javascript programming (Opera 11.01):</p>\n\n<ul>\n<li>this one didn't work: <a href=\"http://stackoverflow.com/questions/805107/multiline-strings-in-javascript/805111#805111\">Multiline strings in Javascript</a></li>\n<li>this worked fairly well, I have also figured out how to make it look good in Notepad++ source view: <a href=\"http://stackoverflow.com/questions/805107/multiline-strings-in-javascript/5571069#5571069\">Multiline strings in Javascript</a></li>\n</ul>\n\n<p>So I recommend the working approach for Opera user JS users. Unlike what the author was saying: </p>\n\n<blockquote>\n  <p>It doesn't work on firefox or opera; only on IE, chrome and safari. </p>\n</blockquote>\n\n<p>It DOES work in Opera 11. At least in user JS scripts. Too bad I can't comment on individual answers or upvote the answer, I'd do it immediately. If possible, someone with higher privileges please do it for me.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p><a href=\"http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml?showone=Multiline_string_literals#Multiline_string_literals\">Google's JavaScript style guide</a> recommends to use string concatenation instead of escaping newlines because the latter isn't a part of ECMAScript:</p>\n\n<blockquote>\n  <p><strong>Do not do this:</strong></p>\n  \n  <p><code>var myString = 'A rather long string of English text, an error message \\\n                  actually that just keeps going and going -- an error \\\n                  message to make the Energizer bunny blush (right through \\\n                  those Schwarzenegger shades)! Where was I? Oh yes, \\\n                  you\\'ve got an error and all the extraneous whitespace is \\\n                  just gravy.  Have a nice day.';</code></p>\n  \n  <p>The whitespace at the beginning of each line can't be safely stripped at compile time; whitespace after the slash will result in tricky errors; and while most script engines support this, it is not part of ECMAScript.</p>\n  \n  <p><strong>Use string concatenation instead:</strong></p>\n  \n  <p><code>var myString = 'A rather long string of English text, an error message ' +\n      'actually that just keeps going and going -- an error ' +\n      'message to make the Energizer bunny blush (right through ' +\n      'those Schwarzenegger shades)! Where was I? Oh yes, ' +\n      'you\\'ve got an error and all the extraneous whitespace is ' +\n      'just gravy.  Have a nice day.';</code></p>\n</blockquote>\n\n<h2>Update</h2>\n\n<p>In EcmaScript 6, you'll be able to use backticks for Template Strings, known in the spec as a <em>NoSubstitutionTemplate</em>:</p>\n\n<pre><code>var htmlString = `Say hello to \nmulti-line\nstrings!`;\n</code></pre>\n\n<p>I think you can try this and <a href=\"http://kishorelive.com/2011/11/22/ecmascript-6-looks-promising/\">other features</a> by first downloading <a href=\"http://tools.google.com/dlpage/chromesxs\">canary chrome</a> and then turning on <code>Enable Experimental JavaScript</code></p>\n",
                    "is_accepted": false,
                    "score": 496
                },
                {
                    "body": "<p>I like this syntax and indendation:</p>\n\n<pre><code>string = 'my long string...\\n'\n       + 'continue here\\n'\n       + 'and here.';\n</code></pre>\n\n<p>(but actually can't be considered as multiline string)</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>I'm surprised I didn't see this, because it works everywhere I've tested it and is very useful for e.g. templates:</p>\n\n<pre><code>&lt;script type=\"bogus\" id=\"multi\"&gt;\n    My\n    multiline\n    string\n&lt;/script&gt;\n&lt;script&gt;\n    alert($('#multi').html());\n&lt;/script&gt;\n</code></pre>\n\n<p>Does anybody know of an environment where there is HTML but it doesn't work?</p>\n",
                    "is_accepted": false,
                    "score": 56
                },
                {
                    "body": "<p>I solved this by outputting a div, making it hidden, and calling the div id by jQuery when i needed it.</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;div id=\"UniqueID\" style=\"display:none;\"&gt;\n     Strings\n     On\n     Multiple\n     Lines\n     Here\n&lt;/div&gt;\n</code></pre>\n\n<p>Then when i need to get the string, i just use the following jQuery:</p>\n\n<pre><code>$('#UniqueID').html();\n</code></pre>\n\n<p>Which returns my text on multiple lines. If i call </p>\n\n<pre><code>alert($('#UniqueID').html();\n</code></pre>\n\n<p>I get:</p>\n\n<p><img src=\"http://i.stack.imgur.com/vIVFc.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Using script tags:</p>\n\n<ul>\n<li>add a <code>&lt;script&gt;...&lt;/script&gt;</code> block containing your multiline text into <code>head</code> tag;</li>\n<li><p>get your multiline text as is... (watch out for text encoding: UTF-8, ASCII)</p>\n\n<pre><code>&lt;script&gt;\n\n    // pure javascript\n    var text = document.getElementById(\"mySoapMessage\").innerHTML ;\n\n    // using JQuery's document ready for safety\n    $(document).ready(function() {\n\n        var text = $(\"#mySoapMessage\").html(); \n\n    });\n\n&lt;/script&gt;\n\n&lt;script id=\"mySoapMessage\"&gt;\n\n    &lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:typ=\"...\"&gt;\n       &lt;soapenv:Header/&gt;\n       &lt;soapenv:Body&gt;\n          &lt;typ:getConvocadosElement&gt;\n             ...\n          &lt;/typ:getConvocadosElement&gt;\n       &lt;/soapenv:Body&gt;\n    &lt;/soapenv:Envelope&gt;\n\n    &lt;!-- this comment will be present on your string --&gt;\n    //uh-oh, javascript comments...  SOAP request will fail \n\n\n&lt;/script&gt;\n</code></pre></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Just tried the Anonymous answer and found there's a little trick here, it doesn't work if there's a space after backslash <code>\\</code> <br />\nSo the following solution doesn't work -</p>\n\n<pre><code>var x = { test:'&lt;?xml version=\"1.0\"?&gt;\\ &lt;-- One space here\n            &lt;?mso-application progid=\"Excel.Sheet\"?&gt;' \n};\n</code></pre>\n\n<p>But when space is removed it works - </p>\n\n<pre><code>var x = { test:'&lt;?xml version=\"1.0\"?&gt;\\&lt;-- No space here now\n          &lt;?mso-application progid=\"Excel.Sheet\"?&gt;' \n};\n\nalert(x.test);\u200b\n</code></pre>\n\n<p>Hope it helps !!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think this workaround should work in IE, Chrome, Firefox, Safari, Opera -</p>\n\n<p><strong>Using jQuery</strong> :</p>\n\n<pre><code>&lt;xmp id=\"unique_id\" style=\"display:none;\"&gt;\n  Some plain text\n  Both type of quotes :  \" ' \" And  ' \" '\n  JS Code : alert(\"Hello World\");\n  HTML Code : &lt;div class=\"some_class\"&gt;&lt;/div&gt;\n&lt;/xmp&gt;\n&lt;script&gt;\n   alert($('#unique_id').html());\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Using Pure Javascript :</strong></p>\n\n<pre><code>&lt;xmp id=\"unique_id\" style=\"display:none;\"&gt;\n  Some plain text\n  Both type of quotes :  \" ' \" And  ' \" '\n  JS Code : alert(\"Hello World\");\n  HTML Code : &lt;div class=\"some_class\"&gt;&lt;/div&gt;\n&lt;/xmp&gt;\n&lt;script&gt;\n   alert(document.getElementById('unique_id').innerHTML);\n&lt;/script&gt;\n</code></pre>\n\n<p>Cheers!!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This seems to work in Fx 19 and Chrome 24 on Mac</p>\n\n<p><a href=\"http://jsfiddle.net/mplungjan/pMSc8/\" rel=\"nofollow\">DEMO</a></p>\n\n<pre><code>var new_comment; /*&lt;&lt;&lt;EOF \n    &lt;li class=\"photobooth-comment\"&gt;\n       &lt;span class=\"username\"&gt;\n          &lt;a href=\"#\"&gt;You&lt;/a&gt;\n       &lt;/span&gt;\n       &lt;span class=\"comment-text\"&gt;\n          $text\n       &lt;/span&gt;\n       &lt;span class=\"comment-time\"&gt;\n          2d\n       &lt;/span&gt;\n    &lt;/li&gt;\nEOF*/\n// note the script tag here is hardcoded as the FIRST tag \nnew_comment=document.getElementsByTagName('script')[0].innerHTML.split(\"EOF\")[1]; \nalert(new_comment.replace('$text','Here goes some text'));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's not extremely elegant but it's clean enough for me:</p>\n\n<pre><code>var myString = \"First line\" + \"\\n\";\nvar myString = myString + \"Second line\" + \"\\n\";\nvar myString = myString + \"Third line\" + \"\\n\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -8
                },
                {
                    "body": "<p>This is one fairly economical approach, at least in terms of the source code:</p>\n\n<pre><code>function s() {\n    var args = [],index;\n    for (index = 0; index&lt; arguments.length; index++) {\n        args.push (arguments [index]);\n    }\n    return args.join (\"\\n\");\n}\nconsole.log (s (\n    \"This is the first line\",\n    \"and this is the second\",\n    \"finally a third\"\n));\n\nfunction s() {return arguments.join (\"\\n\")} \n</code></pre>\n\n<p>would be nicer of course if the \"arguments\" property were a proper array.</p>\n\n<p>A second version might use \"\" to do the join for cases when you want to control the line breaks in a very long string.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I came up with this very jimmy rigged method of a multi lined string. Since converting a function into a string also returns any comments inside the function you can use the comments as your string using a multilined comment /**/. You just have to trim off the ends and you have your string.</p>\n\n<pre><code>var myString = function(){/*\n    This is some\n    awesome multi-lined\n    string using a comment \n    inside a function \n    returned as a string.\n    Enjoy the jimmy rigged code.\n*/}.toString().slice(14,-3)\n\nalert(myString)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 67
                },
                {
                    "body": "<p>I program this way:</p>\n\n<pre><code>sys = {\n    layout: null,\n    makeLayout: function (obCLS) {\n        this.layout = $('&lt;div /&gt;').addClass('editor').appendTo($(obCLS)).append(\n\n            /* Cargador */\n            /* @this.layout.find('&gt; div:nth-of-child(1)'); */\n            '&lt;div&gt;' +\n            '   &lt;p&gt;Seleccione la imagen que desea procesar.&lt;/p&gt;' +\n            '   &lt;input type=\"button\" value=\"Seleccionar\" class=\"btn btn-xlarge btn-success\" /&gt;' +\n            '   &lt;span&gt;&lt;/span&gt;' +\n            '&lt;/div&gt;' +\n\n            /* Cargador - Progreso */\n            /* @this.layout.find('&gt; div:nth-of-child(2)'); */\n            '&lt;div&gt;' +\n            '   &lt;div&gt;' +\n            '       &lt;div&gt;&lt;/div&gt;' +\n            '       &lt;div&gt;' +\n            '           &lt;div&gt;&lt;/div&gt;' +\n            '       &lt;/div&gt;' +\n            '   &lt;/div&gt;' +\n            '&lt;/div&gt;' +\n\n            /* Editor */\n            /* @this.layout.find('&gt; div:nth-of-child(3)');\n             * @sidebar = this.layout.find('&gt; div:nth-of-child(3) &gt; div &gt; div &gt; div:nth-of-type(1)');\n             * @body    = this.layout.find('&gt; div:nth-of-child(3) &gt; div &gt; div &gt; div:nth-of-type(2) &gt; div'); */\n            '&lt;div&gt;' +\n            '   &lt;div&gt;' +\n            '       &lt;div&gt;' +\n            '           &lt;div&gt;&lt;/div&gt;' +\n            '           &lt;div&gt;' +\n            '               &lt;div&gt;&lt;/div&gt;' +\n            '           &lt;/div&gt;' +\n            '       &lt;/div&gt;' +\n            '   &lt;/div&gt;' +\n            '&lt;/div&gt;'\n        );\n    }\n}\n\nsys.makeLayout('#div');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I think I discovered another way to do it inline without any invasive syntax on every line. Use Javascript's ability to convert a function to string and create a multiline comment with the <code>/**/</code> syntax then remove the \"function() {/*\\n\" and \"\\n*/}\".</p>\n\n<pre><code>var multiline = function(string) { return string.toString().replace(/(^[^\\n]*\\n)|(\\n\\*\\/\\})/g, \"\"); };\n\nconsole.log(multiline(function() {/*\nHello world!\nI'm a multiline string!\n\nTada!\n*/}));\n</code></pre>\n\n<p>The only pitfall I can see in this is the syntax highlighting.</p>\n\n<p>EDIT: Had I scrolled down a little more, I would have seen this answer doing exactly the same thing: <a href=\"http://stackoverflow.com/a/5571069/916553\">http://stackoverflow.com/a/5571069/916553</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My version of array-based join for string concat:</p>\n\n<pre><code>var c = []; //c stands for content\nc.push(\"&lt;div id='thisDiv' style='left:10px'&gt;&lt;/div&gt;\");\nc.push(\"&lt;div onclick='showDo(\\'something\\');'&gt;&lt;/div&gt;\");\n$(body).append(c.join('\\n'));\n</code></pre>\n\n<p>This has worked well for me, especially as I often insert values into the html constructed this way. But it has lots of limitations. Indentation would be nice. Not having to deal with nested quotation marks would be really nice, and just the bulkyness of it bothers me.</p>\n\n<p>Is the .push() to add to the array taking up a lot of time? See this related answer:</p>\n\n<p>(<a href=\"http://stackoverflow.com/questions/15649899/is-there-a-reason-javascript-developers-dont-use-array-push\">Is there a reason JavaScript developers don&#39;t use Array.push()?</a>) </p>\n\n<p>After looking at these (opposing) test runs, it looks like .push() is fine for string arrays which will not likely grow over 100 items - I will avoid it in favor of indexed adds for larger arrays.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i found a more elegant solution, maybe a little non-topic related because it uses PHP, but im sure it will be useful and cuteness* for some of yours...</p>\n\n<p>this <strong>javascript code</strong> should stay inside script tags</p>\n\n<pre><code>var html=&lt;?php echo json_encode(\"\n\n        &lt;div class=container&gt;\n            &lt;div class=area1&gt;\n                xxx\n            &lt;/div&gt;\n            &lt;div class=area2&gt;\n                \".$someVar.\"\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\"); ?&gt;\n</code></pre>\n\n<p>in your <strong>output html</strong> you will see something like</p>\n\n<pre><code>var html=\"\\r\\n\\r\\n\\t\\t\\t&lt;div class=container&gt;\\r\\n\\t\\t\\t\\t&lt;div class=area1&gt;\\r\\n\\t\\t\\t\\t\\txxx\\r\\n\\t\\t\\t\\t&lt;\\/div&gt;\\r\\n\\t\\t\\t\\t&lt;div class=area2&gt;\\r\\n\\t\\t\\t\\t\\t44\\r\\n\\t\\t\\t\\t&lt;\\/div&gt;\\r\\n\\t\\t\\t&lt;\\/div&gt;\\r\\n\\r\\n\\t\\t\";  \n</code></pre>\n\n<p>&nbsp;</p>\n\n<hr>\n\n<p>and <em>et voil\u00e0!</em>, it gives you code readability in your file.</p>\n\n<p>pD: this sample uses json_encode() PHP function, but certainly there are function equivalents for ASP, Ruby and JSP langs.</p>\n\n<p>pD: however, this solution have his limitations too, one of them is you cannot use javascript variables inside the encapsulated code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My extension to <a href=\"http://stackoverflow.com/a/15558082/80404\">http://stackoverflow.com/a/15558082/80404</a>.\nIt expects comment in a form <code>/*! any multiline comment */</code> where symbol ! is used to prevent removing by minification (at least for YUI compressor)</p>\n\n<pre><code>Function.prototype.extractComment = function() {\n    var startComment = \"/*!\";\n    var endComment = \"*/\";\n    var str = this.toString();\n\n    var start = str.indexOf(startComment);\n    var end = str.lastIndexOf(endComment);\n\n    return str.slice(start + startComment.length, -(str.length - end));\n};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var tmpl = function() { /*!\n &lt;div class=\"navbar-collapse collapse\"&gt;\n    &lt;ul class=\"nav navbar-nav\"&gt;\n    &lt;/ul&gt;\n &lt;/div&gt;\n*/}.extractComment();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can use <code>+=</code> to concatenate your string, seems like no one answered that, which will be readable, and also neat... something like this</p>\n\n<pre><code>var hello = 'hello' +\n            'world' +\n            'blah';\n</code></pre>\n\n<p>can be also written as</p>\n\n<pre><code>var hello = 'hello';\n    hello += ' world';\n    hello += ' blah';\n\nconsole.log(hello);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Updated for 2015</strong>: it's six years later now:  most people use a module loader, and the main module systems each have ways of loading templates. It's not inline, but the most common type of multiline string are templates, and <strong>templates should generally be kept out of JS anyway</strong>.</p>\n\n<h2>require.js: 'require text'.</h2>\n\n<p>Using <a href=\"https://github.com/requirejs/text\" rel=\"nofollow\">require.js 'text' plugin</a>, with a multiline template in <strong>template.html</strong></p>\n\n<pre><code>var template = require('text!template.html')\n</code></pre>\n\n<h2>NPM/browserify: the 'brfs' module</h2>\n\n<p>Browserify <a href=\"https://www.npmjs.com/package/brfs\" rel=\"nofollow\">uses a 'brfs' module</a> to load text files. This will actually build your template into your bundled HTML.</p>\n\n<pre><code>var fs = require(\"fs\");\nvar template = fs.readFileSync(template.html', 'utf8');\n</code></pre>\n\n<p>Easy. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There's this library that makes it beautiful:</p>\n\n<p><a href=\"https://github.com/sindresorhus/multiline\">https://github.com/sindresorhus/multiline</a></p>\n\n<h3>Before</h3>\n\n<pre><code>var str = '' +\n'&lt;!doctype html&gt;' +\n'&lt;html&gt;' +\n'   &lt;body&gt;' +\n'       &lt;h1&gt;\u2764 unicorns&lt;/h1&gt;' +\n'   &lt;/body&gt;' +\n'&lt;/html&gt;' +\n'';\n</code></pre>\n\n<h3>After</h3>\n\n<pre><code>var str = multiline(function(){/*\n&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\u2764 unicorns&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n*/});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>There are multiple ways to achieve this</p>\n\n<p><strong>1. Slash concatenation</strong></p>\n\n<pre><code>  var MultiLine=  '1\\\n    2\\\n    3\\\n    4\\\n    5\\\n    6\\\n    7\\\n    8\\\n    9';\n</code></pre>\n\n<p><strong>2. regular concatenation</strong></p>\n\n<pre><code>var MultiLine = '1'\n+'2'\n+'3'\n+'4'\n+'5';\n</code></pre>\n\n<p><strong>3. Array Join concatenation</strong></p>\n\n<pre><code>var MultiLine = [\n'1',\n'2',\n'3',\n'4',\n'5'\n].join('');\n</code></pre>\n\n<p>Performance wise, <strong>Slash concatenation</strong> (first one) is the fastest.</p>\n\n<p><strong>Refer</strong> <a href=\"http://jsperf.com/zp-string-concatenation/6\">this test case</a> for more details regarding the performance </p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>If you happen to be running in Node only, you could use the fs module to read in the multi-line string from a file:</p>\n\n<pre><code>var diagram;\nvar fs = require('fs');\nfs.readFile( __dirname + '/diagram.txt', function (err, data) {\n  if (err) {\n    throw err; \n  }\n  diagram = data.toString();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>ECMAScript 6 (ES6) introduces a new, powerful type of string literal, namely <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings\" rel=\"nofollow\"><strong>template strings</strong></a>. They have many features, variable interpolation among others, but most importantly for this question, they can be multiline.</p>\n\n<p>A template string is delimited by <em>backticks</em>:</p>\n\n<pre><code>var html = `\n  &lt;div&gt;\n    &lt;span&gt;Some HTML here&lt;/span&gt;\n  &lt;/div&gt;\n`;\n</code></pre>\n\n<p>(Note: I'm not advocating to use HTML in strings)</p>\n\n<p><a href=\"https://kangax.github.io/compat-table/es6/#template_strings\" rel=\"nofollow\">Browser support isn't great yet</a>, but one can use <a href=\"https://github.com/esnext/es6-templates\" rel=\"nofollow\">transpilers</a> to use it today.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have the following code in Ruby. I want to convert this code into JavaScript. what's the equivalent code in JS?</p>\n\n<pre><code>text = &lt;&lt;\"HERE\"\nThis\nIs\nA\nMultiline\nString\nHERE\n</code></pre>\n",
            "last_activity_date": 1423909195,
            "question_id": 805107,
            "score": 717,
            "tags": [
                "javascript",
                "string",
                "multiline",
                "heredoc"
            ],
            "title": "Creating multiline strings in JavaScript"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>PHP runs on the server before the page is sent to the user, JavaScript is run on the user's computer once it is received, so the PHP script has already executed.</p>\n\n<p>If you want to pass a JavaScript value to a PHP script, you'd have to do an XMLHttpRequest to send the data back to the server.</p>\n\n<p>Here's a previous question that you can follow for more information: <a href=\"http://stackoverflow.com/questions/257110/ajax-tutorial\">Ajax Tutorial</a></p>\n\n<p>Now if you just need to pass a form value to the server, you can also just do a normal form post, that does the same thing, but the whole page has to be refreshed.</p>\n\n<pre><code>&lt;?php\nif(isset($_POST))\n{\n  print_r($_POST);\n}\n?&gt;\n&lt;form action=\"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;\" method=\"post\"&gt;\n  &lt;input type=\"text\" name=\"data\" value=\"1\" /&gt;\n  &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Clicking submit will submit the page, and print out the submitted data.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You cannot pass variable values from the current page javascript to the current page PHP code... PHP code runs at the server side and it doesn't know anything about what is going on on the client side.</p>\n\n<p>You need to pass variables to PHP code from html-form using another mechanism, such as submitting form on GET or POST methods.</p>\n\n<pre><code>&lt;DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;My Test Form&lt;/title&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;form method=\"POST\"&gt;\n      &lt;p&gt;Please, choose the salary id to proceed result:&lt;/p&gt;\n      &lt;p&gt;\n        &lt;label for=\"salarieids\"&gt;SalarieID:&lt;/label&gt;\n        &lt;?php\n          $query = \"SELECT * FROM salarie\";\n          $result = mysql_query($query);\n          if ($result) :\n        ?&gt;\n        &lt;select id=\"salarieids\" name=\"salarieid\"&gt;\n          &lt;?php\n            while ($row = mysql_fetch_assoc($result)) {\n              echo '&lt;option value=\"', $row['salaried'], '\"&gt;', $row['salaried'], '&lt;/option&gt;'; //between &lt;option&gt;&lt;/option&gt; tags you can output something more human-friendly (like $row['name'], if table \"salaried\" have one) \n            }\n          ?&gt;\n        &lt;/select&gt;\n        &lt;?php endif ?&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;input type=\"submit\" value=\"Sumbit my choice\"/&gt;\n      &lt;/p&gt;\n    &lt;/form&gt;\n\n    &lt;?php if isset($_POST['salaried']) : ?&gt;\n      &lt;?php\n        $query = \"SELECT * FROM salarie WHERE salarieid = \" . $_POST['salarieid'];\n        $result = mysql_query($query);\n        if ($result) :\n      ?&gt;\n        &lt;table&gt;\n          &lt;?php\n            while ($row = mysql_fetch_assoc($result)) {\n              echo '&lt;tr&gt;';\n              echo '&lt;td&gt;', $row['salaried'], '&lt;/td&gt;&lt;td&gt;', $row['bla-bla-bla'], '&lt;/td&gt;' ...; // and others\n              echo '&lt;/tr&gt;';\n            }\n          ?&gt;\n        &lt;/table&gt;\n      &lt;?php endif?&gt;\n    &lt;?php endif ?&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Is your function, which sets the hidden form value, being called? It is not in this example. You should have no problem modifying a hidden value <em>before</em> posting the form back to the server.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I was trying to figure this out myself and then realized that the problem is that this is kind of a backwards way of looking at the situation.  Rather than trying to pass things from java to php, maybe it's best to go the other way around, in most cases.  PHP code executes on the server and creates the html code (and possibly java script as well).  Then the browser loads the page and executes the html and java script.</p>\n\n<p>It seems like the sensible way to approach situations like this is to use the PHP to create the java script and the html you want and then to use the java script in the page to do whatever PHP can't do.  It seems like this would give you the benefits of both PHP and java script in a fairly simple and straight forward way.</p>\n\n<p>One thing I've done that gives the appearance of passing things to PHP from your page on the fly is using the html image tag to call on PHP code.  Something like this:</p>\n\n<p>&lt;img src=\"pic.php\"&gt;</p>\n\n<p>The PHP code in pic.php would actually create html code before your web page was even loaded, but that html code is basically called upon on the fly.  The php code here can be used to create a picture on your page, but it can have any commands you like besides that in it.  Maybe it changes the contents of some files on your server, etc.  The upside of this is that the php code can be executed from html and I assume java script, but the down side is that the only output it can put on your page is an image.  You also have the option of passing variables to the php code through parameters in the url.  Page counters will use this technique in many cases.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There are several ways of passing variables from javascript to php (not the current page, of course)</p>\n\n<p>You could: </p>\n\n<ol>\n<li>send the information in a form as stated here, (will result in a page refresh)</li>\n<li>pass it in ajax (several posts on here about that) (without a page refresh)</li>\n<li>make a http request via a XMLHttpRequest request (without a page refresh) like this:</li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;script&gt;\nif (window.XMLHttpRequest){\n    xmlhttp=new XMLHttpRequest();\n}\n\nelse{\n    xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\n\nvar PageToSendTo = \"nowitworks.php?\";\nvar MyVariable = \"variableData\";\nvar VariablePlaceholder = \"variableName=\";\nvar UrlToSend = PageToSendTo + VariablePlaceholder + VariablePlaceholder;\n\nxmlhttp.open(\"GET\", UrlToSend, false);\nxmlhttp.send();\n&lt;/script&gt;\n</code></pre>\n</blockquote>\n\n<p>I'm sure this could be made to look fancier and loop through all the variables and whatnot - but I've kept it basic as to make it easier to understand for the novices.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>just save it in a cookie:</p>\n\n<pre><code>&lt;script&gt;\n $(document).ready(function () {\n createCookie(\"height\", $(window).height(), \"10\");\n });\n\n function createCookie(name, value, days) {\n var expires;\n if (days) {\n  var date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  expires = \"; expires=\" + date.toGMTString();\n } else {\n  expires = \"\";\n }\n  document.cookie = escape(name) + \"=\" + escape(value) + expires + \"; path=/\";\n }\n&lt;/script&gt; \n</code></pre>\n\n<p>and then read it with php</p>\n\n<pre><code>&lt; ? PHP\n   $_COOKIE[\"height\"];\n?&gt;\n</code></pre>\n\n<p>its not a pretty solution, but it works.\nCheers.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>AJAX</code> can help in this case. But if you don't want async page, then use hidden fields in form.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's how I did it (needed to insert a local timezone into php:</p>\n\n<pre><code>&lt;?php\n\nob_start();\n?&gt;\n&lt;script type=\"text/javascript\"&gt;\n\nvar d = new Date(); \ndocument.write(d.getTimezoneOffset());     \n&lt;/script&gt;\n&lt;?php\n\n$offset = ob_get_clean();\n\nprint_r($offset);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Your code has a few things wrong with it.</p>\n\n<ul>\n<li>You define a JavaScript function, func_load3(), but do not call it.</li>\n<li>Your function is defined in the wrong place. When it is defined in your page, the HTML objects it refers to have not yet been loaded. Most JavaScript code checks whether the document is fully loaded before executing, or you can just move your code past the elements it refers to in the page.</li>\n<li>Your form has no means to submit it. It needs a submit button.</li>\n<li>You do not check whether your form has been submitted.</li>\n</ul>\n\n<p>It is possible to set a JavaScript variable in a hidden variable in a form, then submit it, and read the value back in PHP. Here is a simple example that shows this:</p>\n\n<pre><code>&lt;?php\nif (isset($_POST['hidden1'])) {\n   echo \"You submitted {$_POST['hidden1']}\";\n   die;\n}\n\necho &lt;&lt;&lt;HTML\n   &lt;form name=\"myform\" action=\"{$_SERVER['PHP_SELF']}\" method=\"post\" id=\"myform\"&gt;\n      &lt;input type=\"submit\" name=\"submit\" value=\"Test this mess!\" /&gt;\n      &lt;input type=\"hidden\" name=\"hidden1\" id=\"hidden1\" /&gt;\n   &lt;/form&gt;\n\n   &lt;script type=\"text/javascript\"&gt;\n      document.getElementById(\"hidden1\").value = \"This is an example\";\n   &lt;/script&gt;\nHTML;\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is the Working example: Get javascript variable value on the same page in php.</p>\n\n<pre><code>&lt;script&gt;\nvar p1 = \"success\";\n&lt;/script&gt;\n\n&lt;?php\necho \"&lt;script&gt;document.writeln(p1);&lt;/script&gt;\";\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to pass JavaScript variables to PHP using a hidden input in a form. </p>\n\n<p>But I can't get the value of <code>$_POST['hidden1']</code> into <code>$salarieid</code>. Is there something wrong? </p>\n\n<p>Here is the code: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n// view which the user has chosen\nfunction func_load3(name){\n    var oForm = document.forms[\"myform\"];\n    var oSelectBox = oForm.select3;\n    var iChoice = oSelectBox.selectedIndex;\n    //alert(\"you have choosen: \" + oSelectBox.options[iChoice].text );\n    //document.write(oSelectBox.options[iChoice].text);\n    var sa = oSelectBox.options[iChoice].text;\n    document.getElementById(\"hidden1\").value = sa;\n}\n&lt;/script&gt;\n\n&lt;form name=\"myform\" action=\"&lt;?php echo $_SERVER['$PHP_SELF']; ?&gt;\" method=\"POST\"&gt;\n        &lt;input type=\"hidden\" name=\"hidden1\" id=\"hidden1\"  /&gt;\n&lt;/form&gt;\n\n&lt;?php\n   $salarieid = $_POST['hidden1'];\n   $query = \"select * from salarie where salarieid = \".$salarieid;\n   echo $query;\n   $result = mysql_query($query);\n?&gt;\n\n&lt;table&gt;\n   code for display the query result. \n&lt;/table&gt;\n</code></pre>\n\n<p>Thanks for your advice. </p>\n",
            "last_activity_date": 1406273116,
            "question_id": 1917576,
            "score": 34,
            "tags": [
                "php",
                "javascript",
                "variables"
            ],
            "title": "How to pass JavaScript variables to PHP?"
        },
        {
            "answer_count": 27,
            "answers": [
                {
                    "body": "<p>Have a look at <a href=\"http://en.wikipedia.org/wiki/Fixed-point%5Farithmetic\" rel=\"nofollow\">Fixed-point arithmetic</a>. It will probably solve your problem, if the range of numbers you want to operate on is small (eg, currency). I would round it off to a few decimal values, which is the simplest solution. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use </p>\n\n<pre><code>var x = 0.1*0.2;\n x =Math.round(x*Math.pow(10,2))/Math.pow(10,2);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>not elegant but does the job (removes trailing zeros)</p>\n\n<pre><code>var num = 0.1*0.2;\nalert(parseFloat(num.toFixed(10))); // shows 0.02\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try my chiliadic arithmetic library, which you can see <a href=\"http://www.daniweb.com/forums/thread222006.html\" rel=\"nofollow\">here</a>.\nIf you want a later version, I can get you one.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can't represent most decimal fractions exactly with binary floating point types (which is what ECMAScript uses to represent floating point values). So there isn't an elegant solution unless you use arbitrary precision arithmetic types or a decimal based floating point type. For example, <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2004/05/25/141253.aspx\" rel=\"nofollow\">the Calculator app that ships with Windows now uses arbitrary precision arithmetic to solve this problem</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You just have to make up your mind on how many decimal digits you actually want - can't have the cake and eat it too :-)</p>\n\n<p>Numerical errors accumulate with every further operation and if you don't cut it off early it's just going to grow. Numerical libraries which present results that look clean simply cut off the last 2 digits at every step, numerical co-processors also have a \"normal\" and \"full\" lenght for the same reason. Cuf-offs are cheap for a processor but very expensive for you in a script (multiplying and dividing and using pov(...)). Good math lib would provide floor(x,n) to do the cut-off for you.</p>\n\n<p>So at the very least you should make global var/constant with pov(10,n) - meaning that you decided on the precision you need :-) Then do:</p>\n\n<pre><code>Math.floor(x*PREC_LIM)/PREC_LIM  // floor - you are cutting off, not rounding\n</code></pre>\n\n<p>You could also keep doing math and only cut-off at the end - assuming that you are only displaying and not doing if-s with results. If you can do that, then .toFixed(...) might be more efficient.</p>\n\n<p>If you are doing if-s/comparisons and don't want to cut of then you also need a small constant, usually called eps, which is one decimal place higher than max expected error. Say that your cut-off is last two decimals - then your eps has 1 at the 3rd place from the last (3rd least significant) and you can use it to compare whether the result is within eps range of expected (0.02 -eps &lt; 0.1*0.2 &lt; 0.02 +eps).</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You are looking for an <code>sprintf</code> implementation for JavaScript, so that you can write out floats with small errors in them (since they are stored in binary format) in a format that you expect.</p>\n\n<p>Try <a href=\"http://www.diveintojavascript.com/projects/javascript-sprintf\">javascript-sprintf</a>, you would call it like this:</p>\n\n<pre><code>var yourString = sprintf(\"%.2f\", yourNumber);\n</code></pre>\n\n<p>to print out your number as a float with two decimal places.</p>\n\n<p>You may also use  <a href=\"http://www.w3schools.com/jsref/jsref_tofixed.asp\">Number.toFixed()</a>  for display purposes, if you'd rather not include  more files merely for floating point rounding to a given precision.  </p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>You are right, the reason for that is limited precision of floating point numbers. Store your rational numbers as a division of two integer numbers and in most situations you'll be able to store numbers without any precision loss. When it comes to printing, you may want to display the result as fraction. With representation I proposed, it becomes trivial.</p>\n\n<p>Of course that won't help much with irrational numbers. But you may want to optimize your computations in the way they will cause the least problem (e.g. detecting situations like <code>sqrt(3)^2)</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>var times = function (a, b) {\n    return Math.round((a * b) * 100)/100;\n};\n</code></pre>\n\n<p>---or---</p>\n\n<pre><code>var fpFix = function (n) {\n    return Math.round(n * 100)/100;\n};\n\nfpFix(0.1*0.2); // -&gt; 0.02\n</code></pre>\n\n<p>---also---</p>\n\n<pre><code>var fpArithmetic = function (op, x, y) {\n    var n = {\n            '*': x * y,\n            '-': x - y,\n            '+': x + y,\n            '/': x / y\n        }[op];        \n\n    return Math.round(n * 100)/100;\n};\n</code></pre>\n\n<p>--- as in ---</p>\n\n<pre><code>fpArithmetic('*', 0.1, 0.2);\n// 0.02\n\nfpArithmetic('+', 0.1, 0.2);\n// 0.3\n\nfpArithmetic('-', 0.1, 0.2);\n// -0.1\n\nfpArithmetic('/', 0.2, 0.1);\n// 2\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This function will determine the needed precision from the multiplication of two floating point numbers and return a result with the appropriate precision. Elegant though it is not.</p>\n\n<pre><code>function multFloats(a,b){\n  var atens = Math.pow(10,String(a).length - String(a).indexOf('.') - 1), \n      btens = Math.pow(10,String(b).length - String(b).indexOf('.') - 1); \n  var result = (a * atens) * (b * btens) / (atens * btens); \n  return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The result you've got is correct and fairly consistent across floating point implementations in different languages, processors and operating systems - the only thing that changes is the level of the inaccuracy when the float is actually a double (or higher).</p>\n\n<p>0.1 in binary floating points is like 1/3 in decimal (i.e. 0.3333333333333... forever), there's just no accurate way to handle it. </p>\n\n<p>If you're dealing with floats <em>always</em> expect small rounding errors, so you'll also always have to round the displayed result to something sensible. In return you get very very fast and powerful arithmetic because all the computations are in the native binary of the processor.</p>\n\n<p>Most of the time the solution is not to switch to fixed-point arithmetic, mainly because it's much slower and 99% of the time you just don't need the accuracy. If you're dealing with stuff that does need that level of accuracy (for instance financial transactions) Javascript probably isn't the best tool to use anyway (as you've want to enforce the fixed-point types a static language is probably better).</p>\n\n<p>You're looking for the elegant solution then I'm afraid this is it: floats are quick but have small rounding errors - always round to something sensible when displaying their results.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>To avoid this you should work with integer values instead of floating points. So when you want to have 2 positions precision work with the values * 100, for 3 positions use 1000. When displaying you use a formatter to put in the separator.</p>\n\n<p>Many systems omit working with decimals this way. That is the reason why many systems work with cents (as integer) instead of dollars/euro's (as floating point).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>From the <a href=\"http://floating-point-gui.de/\">Floating-Point Guide</a>:</p>\n\n<blockquote>\n  <p><strong>What can I do to avoid this problem?</strong></p>\n  \n  <p>That depends on what kind of\n  calculations you\u2019re doing.</p>\n  \n  <ul>\n  <li>If you really need your results to add up exactly, especially when you\n  work with money: use a special decimal\n  datatype.</li>\n  <li>If you just don\u2019t want to see all those extra decimal places: simply\n  format your result rounded to a fixed\n  number of decimal places when\n  displaying it.</li>\n  <li>If you have no decimal datatype available, an alternative is to work\n  with integers, e.g. do money\n  calculations entirely in cents. But\n  this is more work and has some\n  drawbacks.</li>\n  </ul>\n</blockquote>\n\n<p>Note that the first point only applies if you really need specific precise <em>decimal</em> behaviour. Most people don't need that, they're just irritated that their programs don't work correctly with numbers like 1/10 without realizing that they wouldn't even blink at the same error if it occurred with 1/3.</p>\n\n<p>If the first point really applies to you, use <a href=\"https://github.com/dtrebbien/BigDecimal.js\">BigDecimal for JavaScript</a>, which is not elegant at all, but actually solves the problem rather than providing an imperfect workaround.</p>\n",
                    "is_accepted": true,
                    "score": 165
                },
                {
                    "body": "<p>Are you only performing multiplication?  If so then you can use to your advantage a neat secret about decimal arithmetic.  That is that <code>NumberOfDecimals(X) + NumberOfDecimals(Y) = ExpectedNumberOfDecimals</code> That is to say that if we have <code>0.123 * 0.12</code> then we know that there will be 5 decimal places because <code>0.123</code> has 3 decimal places and <code>0.12</code> has two. Thus if JavaScript gave us a number like <code>0.014760000002</code> we can safely truncate to the 5th decimal place without fear of loosing precision.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>I like Pedro Ladaria's solution and use something similar.</p>\n\n<pre><code>function strip(number) {\nreturn (parseFloat(number.toPrecision(12)));\n}\n</code></pre>\n\n<p>Unlike Pedros solution this will round up 0.999...repeating and is accurate to plus/minus one on the least significant digit.</p>\n",
                    "is_accepted": false,
                    "score": 46
                },
                {
                    "body": "<p>The round() function at phpjs.org works nicely: <a href=\"http://phpjs.org/functions/round\">http://phpjs.org/functions/round</a> </p>\n\n<pre><code>num = .01 + .06;  // yields 0.0699999999999\nrnum = round(num,12); // yields 0.07\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I have a workaround here. Just multiplying with 10E^x doesn't work with 1.1 for example.</p>\n\n<pre><code>function sum(a,b){\n    var tabA = (a + \"\").split(\".\");\n    var tabB = (b + \"\").split(\".\");\n    decA = tabA.length&gt;1?tabA[1].length:0;\n    decB = tabB.length&gt;1?tabB[1].length:0;\n    a = (tabA[0]+tabA[1])*1.0;\n    b = (tabB[0]+tabB[1])*1.0;\n    var diff = decA-decB;\n    if(diff &gt;0){\n        //a has more decimals than b\n        b=b*Math.pow(10,diff);\n        return (a+b)/Math.pow(10,decA);\n    }else if (diff&lt;0){\n        //a has more decimals than b\n        a=a*Math.pow(10,-diff);\n                return (a+b)/Math.pow(10,decB);\n    }else{\n        return (a+b)/Math.pow(10,decA);\n    }       \n}\n</code></pre>\n\n<p>scary but working :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could use a regex to check if the number ends with a long string of 0s followed by a small remainder:</p>\n\n<pre><code>// using max number of 0s = 8, maximum remainder = 4 digits\nx = 0.1048000000000051\nparseFloat(x.toString().replace(/(\\.[\\d]+[1-9])0{8,}[1-9]{0,4}/, '$1'), 10)\n// = 0.1048\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>For the mathematically inclined: <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\">http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a></p>\n\n<p>The recommended approach is to use correction factors (multiply by a suitable power of 10 so that the arithmetic happens between integers).  For example, in the case of <code>0.1 * 0.2</code>, the correction factor is <code>10</code>, and you are performing the calculation:</p>\n\n<pre><code>&gt; var x = 0.1\n&gt; var y = 0.2\n&gt; var cf = 10\n&gt; x * y\n0.020000000000000004\n&gt; (x * cf) * (y * cf) / (cf * cf)\n0.02\n</code></pre>\n\n<p>A (very quick) solution looks something like:</p>\n\n<pre><code>var _cf = (function() {\n  function _shift(x) {\n    var parts = x.toString().split('.');\n    return (parts.length &lt; 2) ? 1 : Math.pow(10, parts[1].length);\n  }\n  return function() { \n    return Array.prototype.reduce.call(arguments, function (prev, next) { return prev === undefined || next === undefined ? undefined : Math.max(prev, _shift (next)); }, -Infinity);\n  };\n})();\n\nMath.a = function () {\n  var f = _cf.apply(null, arguments); if(f === undefined) return undefined;\n  function cb(x, y, i, o) { return x + f * y; }\n  return Array.prototype.reduce.call(arguments, cb, 0) / f;\n};\n\nMath.s = function (l,r) { var f = _cf(l,r); return (l * f - r * f) / f; };\n\nMath.m = function () {\n  var f = _cf.apply(null, arguments);\n  function cb(x, y, i, o) { return (x*f) * (y*f) / (f * f); }\n  return Array.prototype.reduce.call(arguments, cb, 1);\n};\n\nMath.d = function (l,r) { var f = _cf(l,r); return (l * f) / (r * f); };\n</code></pre>\n\n<p>In this case:</p>\n\n<pre><code>&gt; Math.m(0.1, 0.2)\n0.02\n</code></pre>\n\n<p>I definitely recommend using a tested library like <a href=\"https://github.com/guipn/sinful.js/blob/master/sinful.js\">SinfulJS</a></p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>To multiply <strong>a * b</strong>, where <strong>a = 5</strong> and <strong>b = 0.0001</strong>:</p>\n\n<ol>\n<li>Shift decimal point of <strong>a</strong> right until number becomes int: <strong>0.0001</strong> -> <strong>1</strong></li>\n<li>Shift decimal point of <strong>b</strong> right by the same number of places: <strong>5</strong> -> <strong>50000</strong></li>\n<li>Multiply: <strong>1 * 50000</strong></li>\n<li><p>Shift decimal point of result left by same number of places: <strong>0.0005</strong></p>\n\n<pre>\nfunction multiply (a, b) {\n    // get number of decimal places to shift\n    exp = b.toString().length - 2;\n\n<pre><code>   function makeInt (num) {\n       return num * Math.pow(10, exp);\n   }\n\n   function makeFloat(num) {\n       return num / Math.pow(100, exp);\n   }\n\n   return makeFloat(makeInt(a) * makeInt(b));\n} \n\nmultiply (5, 0.0001);\n</code></pre>\n\n</pre></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This works for me:</p>\n\n<pre><code>function round_up( value, precision ) { \n    var pow = Math.pow ( 10, precision ); \n    return ( Math.ceil ( pow * value ) + Math.ceil ( pow * value - Math.ceil ( pow * value ) ) ) / pow; \n}\n\nround_up(341.536, 2); // 341.54\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Output using the following function:</p>\n\n<pre><code>var toFixedCurrency = function(num){\n    var num = (num).toString();\n    var one = new RegExp(/\\.\\d{1}$/).test(num);\n    var two = new RegExp(/\\.\\d{2,}/).test(num);\n    var result = null;\n\n    if(one){ result = num.replace(/\\.(\\d{1})$/, '.$10');\n    } else if(two){ result = num.replace(/\\.(\\d{2})\\d*/, '.$1');\n    } else { result = num*100; }\n\n    return result;\n}\n\nfunction test(){\n    var x = 0.1 * 0.2;\n    document.write(toFixedCurrency(x));\n}\n\ntest();\n</code></pre>\n\n<p>Pay attention to the output <code>toFixedCurrency(x)</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use Number(1.234443).toFixed(2); it will print 1.23</p>\n\n<pre><code>function test(){\n    var x = 0.1 * 0.2;\n    document.write(Number(x).toFixed(2));\n}\ntest();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm finding <a href=\"https://github.com/MikeMcl/bignumber.js/\" rel=\"nofollow\">BigNumber.js</a> meets my needs.</p>\n\n<blockquote>\n  <blockquote>\n    <p>A JavaScript library for arbitrary-precision decimal and non-decimal arithmetic.</p>\n  </blockquote>\n</blockquote>\n\n<p>It has good <a href=\"http://mikemcl.github.io/bignumber.js/\" rel=\"nofollow\">documentation</a> and the author is very diligent responding to feedback.</p>\n\n<p>The same author has 2 other similar libraries:</p>\n\n<p><a href=\"https://github.com/MikeMcl/big.js/\" rel=\"nofollow\">Big.js</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>A small, fast JavaScript library for arbitrary-precision decimal arithmetic. The little sister to bignumber.js.</p>\n  </blockquote>\n</blockquote>\n\n<p>and <a href=\"https://github.com/MikeMcl/decimal.js/\" rel=\"nofollow\">Decimal.js</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>An arbitrary-precision Decimal type for JavaScript.</p>\n  </blockquote>\n</blockquote>\n\n<p>Here's some code using BigNumber:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n\r\n  \r\n  var product = BigNumber(.1).times(.2);  \r\n  $('#product').text(product);\r\n\r\n  var sum = BigNumber(.1).plus(.2);  \r\n  $('#sum').text(sum);\r\n\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;!-- 1.4.1 is not the current version, but works for this example. --&gt;\r\n&lt;script src=\"http://cdn.bootcss.com/bignumber.js/1.4.1/bignumber.min.js\"&gt;&lt;/script&gt;\r\n\r\n.1 &amp;times; .2 = &lt;span id=\"product\"&gt;&lt;/span&gt;&lt;br&gt;\r\n.1 &amp;plus; .2 = &lt;span id=\"sum\"&gt;&lt;/span&gt;&lt;br&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had a nasty rounding error problem with mod 3. Sometimes when I should get 0 I would get .000...01. That's easy enough to handle, just test for &lt;= .01. But then sometimes I would get 2.99999999999998. OUCH!</p>\n\n<p><a href=\"https://github.com/MikeMcl/bignumber.js\" rel=\"nofollow\">BigNumbers</a> solved the problem, but introduced another, somewhat ironic, problem. When trying to load 8.5 into BigNumbers I was informed that it was really 8.4999\u2026 and had more than 15 significant digits. This meant BigNumbers could not accept it (I believe I mentioned this problem was somewhat ironic).</p>\n\n<p>Simple solution to ironic problem:</p>\n\n<pre><code>x = Math.round(x*100);\n// I only need 2 decimal places, if i needed 3 I would use 1,000, etc.\nx = x / 100;\nxB = new BigNumber(x);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>0.6 * 3 it's awesome!))\nFor me this works fine:</p>\n\n<pre><code>function dec( num )\n{\n    var p = 100;\n    return Math.round( num * p ) / p;\n}\n</code></pre>\n\n<p>Very very simple))</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code> U may use parseFloat and toFixed() if you want to bypass this for a small   operation.\n\n  Ex: \n    a = 0.1;\n    b = 0.2;\n\n    a + b = 0.30000000000000004;\n\n    c = parseFloat((a+b).toFixed(2));\n\n    c = 0.3;\n\n    a = 0.3;\n    b = 0.2;\n\n    a - b = 0.09999999999999998;\n\n    c = parseFloat((a-b).toFixed(2));\n\n    c = 0.1;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the following dummy test script:</p>\n\n<pre><code>function test(){\n    var x = 0.1 * 0.2;\n    document.write(x);\n}\ntest();\n</code></pre>\n\n<p>This will print the result <code>0.020000000000000004</code> while it should just print <code>0.02</code> (if you use your calculator). As far as I understood this is due to errors in the floating point multiplication precision.</p>\n\n<p>Does anyone have a good solution so that in such case I get the correct result <code>0.02</code>? I know there are functions like <code>toFixed</code> or rounding would be another possibility, but I'd like is to really have the whole number printed without any cutting and rounding. Just wanted to know whether one of you has some nice, elegant solution.</p>\n\n<p>Of course, otherwise I'll round to some 10 digits or so.</p>\n",
            "last_activity_date": 1425476967,
            "question_id": 1458633,
            "score": 130,
            "tags": [
                "javascript",
                "floating-point"
            ],
            "title": "How to deal with floating point number precision in JavaScript?"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>From <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/MAX_VALUE\">the reference</a>:</p>\n\n<pre><code>alert([Number.MAX_VALUE, Number.MIN_VALUE]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 284
                },
                {
                    "body": "<p><strong>+/- 9007199254740992</strong></p>\n\n<p><a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_8.5\">ECMA Section 8.5 - Numbers</a></p>\n\n<blockquote>\n  <p>Note that all the positive and negative integers whose magnitude is no greater than 2<sup>53</sup> are representable in the Number type (indeed, the integer 0 has two representations, +0 and \u22120). </p>\n</blockquote>\n\n<p>They are 64-bit floating point values, the largest exact integral value is 2<sup>53</sup>, or <code>9007199254740992</code>.</p>\n\n<p>Note that the bitwise operators and shift operators operate on 32-bit ints. </p>\n\n<p><hr>\nTest it out!</p>\n\n<pre><code>var x = 9007199254740992;\nvar y = -x;\nx == x + 1; // true !\ny == y - 1; // also true !\n// Arithmetic operators work, but bitwise/shifts only operate on int32:\nx / 2;      // 4503599627370496\nx &gt;&gt; 1;     // 0\nx | 1;      // 1\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 380
                },
                {
                    "body": "<p>Firefox 3 doesnt seem to have a problem with huge numbers. </p>\n\n<p>1e+200 * 1e+100 will calculate fine to 1e+300.</p>\n\n<p>Safari seem to have no problem with it aswell.\n(For the record, this is on a Mac if anyone else decides to test this)</p>\n\n<p>Unless I lost my brain at this time of day, this is way bigger than a 64-bit integer.</p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>I did a simple test with a formula X-(X+1)=-1 and the largest value of X I can get to work on Safari, Opera and Firefox (tested on OSX) is 9e15. Here is the code I used for testing:</p>\n\n<pre><code>javascript: alert(9e15-(9e15+1));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>maxInt = -1 >>> 1</p>\n\n<p>in Firefox 3.6 it's 2^31 - 1.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>It is 2<sup>53</sup> == 9 007 199 254 740 992. This is because <code>Number</code>s are stored as floating-point in a 52-bit mantissa.</p>\n\n<p>The min value is -2<sup>53</sup>.</p>\n\n<p>This makes some fun things happening</p>\n\n<pre><code>Math.pow(2, 53) == Math.pow(2, 53) + 1\n&gt;&gt; true\n</code></pre>\n\n<p>And can also be dangerous :)</p>\n\n<pre><code>var MAX_INT = Math.pow(2, 53); // 9 007 199 254 740 992\nfor (var i = MAX_INT; i &lt; MAX_INT + 2; ++i) {\n    // infinite loop\n}\n</code></pre>\n\n<p><sub>Further reading: <a href=\"http://blog.vjeux.com/2010/javascript/javascript-max_int-number-limits.html\">http://blog.vjeux.com/2010/javascript/javascript-max_int-number-limits.html</a></sub></p>\n",
                    "is_accepted": false,
                    "score": 65
                },
                {
                    "body": "<p>The short answer is \u201cit depends.\u201d</p>\n\n<p>If you\u2019re using bitwise operators anywhere (or if you\u2019re referring to the length of an Array), the ranges are:</p>\n\n<p>Unsigned: <code>0\u2026(-1&gt;&gt;&gt;0)</code></p>\n\n<p>Signed: <code>(-(-1&gt;&gt;&gt;1)-1)\u2026(-1&gt;&gt;&gt;1)</code></p>\n\n<p>(It so happens that the bitwise operators and the maximum length of an array are restricted to 32-bit integers.)</p>\n\n<p>If you\u2019re not using bitwise operators or working with array lengths:</p>\n\n<p>Signed: <code>(-Math.pow(2,53))\u2026(+Math.pow(2,53))</code></p>\n\n<p>These limitations are imposed by the internal representation of the \u201cNumber\u201d type, which generally corresponds to IEEE 754 double-precision floating-point representation. (Note that unlike typical signed integers, the magnitude of the negative limit is the same as the magnitude of the positive limit, due to characteristics of the internal representation, which actually includes a <em>negative</em> 0!)</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<h1>To be safe</h1>\n\n<pre><code>var MAX_INT = 4294967295;\n</code></pre>\n\n<h1>Reasoning</h1>\n\n<p>I thought I'd be clever and find the value at which <code>x + 1 === x</code> with a more pragmatic approach.</p>\n\n<p>My machine can only count 10 million per second or so... so I'll post back with the definitive answer in 28.56 years.</p>\n\n<p>If you can't wait that long, I'm willing to bet that</p>\n\n<ul>\n<li>Most of your loops don't run for 28.56 years</li>\n<li><code>9007199254740992 === Math.pow(2, 53) + 1</code> is proof enough</li>\n<li>You should stick to <code>4294967295</code> which is <code>Math.pow(2,32) - 1</code> as to avoid expected issues with bit-shifting</li>\n</ul>\n\n<p>Finding <code>x + 1 === x</code>:</p>\n\n<pre><code>(function () {\n  \"use strict\";\n\n  var x = 0\n    , start = new Date().valueOf()\n    ;\n\n  while (x + 1 != x) {\n    if (!(x % 10000000)) {\n      console.log(x);\n    }\n\n    x += 1\n  }\n\n  console.log(x, new Date().valueOf() - start);\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>In the Google Chrome built-in javascript, you can go to approximately 2^1024 before the number is called infinity.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In javascript, there is a number called Infinity</p>\n\n<p>examples:</p>\n\n<pre><code>(Infinity&gt;100)\n=&gt; true\n\n//also worth noting\nInfinity - 1 == Infinity\n=&gt; true\n\nMath.pow(2,1024) === Infinity\n=&gt; true\n</code></pre>\n\n<p>This may be sufficient for some questions regarding this topic.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>anything you want to use for bitwise operations must be between 0x80000000 (-2147483648 or -2^31) and 0x7fffffff (2147483647 or 2^31 - 1).</p>\n\n<p>the console will tell you that 0x80000000 equals +2147483648, but 0x80000000 &amp; 0x80000000 equals -2147483648</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/a/307200/508537\">Jimmy's answer</a> correctly represents the continuous JavaScript integer spectrum as <strong>-9007199254740992</strong> to <strong>9007199254740992</strong> inclusive (sorry 9007199254740993, you might think you are 9007199254740993, but <a href=\"http://jsfiddle.net/briguy37/LRY3u/\">you are wrong!</a>).  </p>\n\n<p>However, there is no answer that finds/proves this programatically (other than the one CoolAJ86 alluded to in <a href=\"http://stackoverflow.com/a/7179733/508537\">his answer</a> that would finish in 28.56 years ;), so here's a slightly more efficient way to do that (to be precise, it's more efficient by about 28.559999999968312 years :), along with a <a href=\"http://jsfiddle.net/briguy37/P4twR/\">test fiddle</a>:</p>\n\n<pre><code>/**\n * Checks if adding/subtracting one to/from a number yields the correct result.\n *\n * @param number The number to test\n * @return true if you can add/subtract 1, false otherwise.\n */\nvar canAddSubtractOneFromNumber = function(number){\n    var numMinusOne = number - 1;\n    var numPlusOne = number + 1;\n\n    return ((number - numMinusOne) == 1) &amp;&amp; ((number - numPlusOne) == -1);\n}\n\n//Find the highest number\nvar highestNumber = 3;//Start with an integer 1 or higher\n\n//Get a number higher than the valid integer range\nwhile(canAddSubtractOneFromNumber(highestNumber)){\n    highestNumber *= 2;\n}\n\n//Find the lowest number you can't add/subtract 1 from\nvar numToSubtract = highestNumber / 4;\nwhile(numToSubtract &gt;= 1){\n    while(!canAddSubtractOneFromNumber(highestNumber - numToSubtract)){\n        highestNumber = highestNumber - numToSubtract;\n    }\n\n    numToSubtract /= 2;\n}        \n\n//And there was much rejoicing.  Yay.    \nconsole.log('HighestNumber = ' + highestNumber);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>UPDATE: Node.js and google Chrome seem to both be using 1024 bit floating point values so:</p>\n\n<p><code>Number.MAX_VALUE = 1.7976931348623157e+308</code></p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>Other may have already given the generic answer, but I thought it would be a good idea to give a fast way of determining it :</p>\n\n<pre><code>for (var x = 2; x + 1 !== x; x *= 2);\nconsole.log(x);\n</code></pre>\n\n<p>Which gives me 9007199254740992 within less than a millisecond in Chrome 30.</p>\n\n<p>It will test powers of 2 to find which one, when 'added' 1, equals himself.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>ECMAScript 6:</p>\n\n<pre><code>Number.MAX_SAFE_INTEGER = Math.pow(2, 53)-1;\nNumber.MIN_SAFE_INTEGER = -Number.MAX_SAFE_INTEGER;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>I write it like this:</p>\n\n<pre><code>var max_int = 0x20000000000000;\nvar min_int = -0x20000000000000;\n(max_int + 1) === 0x20000000000000;  //true\n(max_int - 1) &lt; 0x20000000000000;    //true\n</code></pre>\n\n<p>Same for int32</p>\n\n<pre><code>var max_int32 =  0x80000000;\nvar min_int32 = -0x80000000;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is this defined by the language? Is there a defined maximum? Is it different in different browsers?</p>\n",
            "last_activity_date": 1413489992,
            "question_id": 307179,
            "score": 412,
            "tags": [
                "javascript",
                "math",
                "browser",
                "cross-browser"
            ],
            "title": "What is JavaScript&#39;s highest integer value that a Number can go to without losing precision?"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>Looking at the <a href=\"http://developer.apple.com/safari/library/documentation/iPhone/Conceptual/SafariJSDatabaseGuide/Name-ValueStorage/Name-ValueStorage.html#//apple_ref/doc/uid/TP40007256-CH6-SW1\">Apple</a>, <a href=\"https://developer.mozilla.org/en/DOM/Storage\">Mozilla</a> and <a href=\"http://msdn.microsoft.com/en-us/library/cc197050%28VS.85%29.aspx\">Microsoft</a> documentation, the functionality seems to be limited to handle only string key/value pairs.</p>\n\n<p>A workaround can be to <a href=\"http://www.json.org/js.html\"><em>stringify</em></a> your object before storing it, and later parse it when you retrieve it:</p>\n\n<pre><code>var testObject = { 'one': 1, 'two': 2, 'three': 3 };\n\n// Put the object into storage\nlocalStorage.setItem('testObject', JSON.stringify(testObject));\n\n// Retrieve the object from storage\nvar retrievedObject = localStorage.getItem('testObject');\n\nconsole.log('retrievedObject: ', JSON.parse(retrievedObject));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1232
                },
                {
                    "body": "<p>You might find it useful to extend the Storage object with these handy methods:</p>\n\n<pre><code>Storage.prototype.setObject = function(key, value) {\n    this.setItem(key, JSON.stringify(value));\n}\n\nStorage.prototype.getObject = function(key) {\n    return JSON.parse(this.getItem(key));\n}\n</code></pre>\n\n<p>This way you get the functionality that you really wanted even though underneath the API only supports strings.</p>\n",
                    "is_accepted": false,
                    "score": 128
                },
                {
                    "body": "<p>A little improve to Justin's variant:</p>\n\n<pre><code>Storage.prototype.setObject = function(key, value) {\n    this.setItem(key, JSON.stringify(value));\n}\n\nStorage.prototype.getObject = function(key) {\n    var value = this.getItem(key);\n    return value &amp;&amp; JSON.parse(value);\n}\n</code></pre>\n\n<p>Because of <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\">short-circuit evaluation</a>, <code>getObject()</code> will <em>immediately</em> return <code>null</code> if <code>key</code> is not in Storage. It also will not throw a <code>SyntaxError</code> exception if <code>value</code> is <code>\"\"</code> (the empty string; <code>JSON.parse()</code> cannot handle that).</p>\n\n<p>UPD. Added variable that Mark Storer mentioned in comment</p>\n",
                    "is_accepted": false,
                    "score": 321
                },
                {
                    "body": "<p>Extending the Storage object is an awesome solution. For my API, I have created a facade for localStorage and then check if it is an object or not while setting and getting.</p>\n\n<pre><code>var data = {\n  set: function(key, value) {\n    if (!key || !value) {return;}\n\n    if (typeof value === \"object\") {\n      value = JSON.stringify(value);\n    }\n    localStorage.setItem(key, value);\n  },\n  get: function(key) {\n    var value = localStorage.getItem(key);\n\n    if (!value) {return;}\n\n    // assume it is an object that has been stringified\n    if (value[0] === \"{\") {\n      value = JSON.parse(value);\n    }\n\n    return value;\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>In theory, it is possible to store objects with functions:</p>\n\n<pre><code>function store (a)\n{\n  var c = {f: {}, d: {}};\n  for (var k in a)\n  {\n    if (a.hasOwnProperty(k) &amp;&amp; typeof a[k] === 'function')\n    {\n      c.f[k] = encodeURIComponent(a[k]);\n    }\n  }\n\n  c.d = a;\n  var data = JSON.stringify(c);\n  window.localStorage.setItem('CODE', data);\n}\n\nfunction restore ()\n{\n  var data = window.localStorage.getItem('CODE');\n  data = JSON.parse(data);\n  var b = data.d;\n\n  for (var k in data.f)\n  {\n    if (data.f.hasOwnProperty(k))\n    {\n      b[k] = eval(\"(\" + decodeURIComponent(data.f[k]) + \")\");\n    }\n  }\n\n  return b;\n}\n</code></pre>\n\n<p><strong>However, Function serialization/deserialization is unreliable because <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.3.4\">it is implementation-dependent</a>.</strong></p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>You could also override the default Storage <code>setItem(key,value)</code> and <code>getItem(key)</code> methods to handle objects/arrays like any other data type. That way, you can simply call <code>localStorage.setItem(key,value)</code> and <code>localStorage.getItem(key)</code> as you normally would.</p>\n\n<p>I haven't tested this extensively, but it has appeared to work without problems for a small project I've been tinkering with.</p>\n\n<pre><code>Storage.prototype._setItem = Storage.prototype.setItem;\nStorage.prototype.setItem = function(key, value)\n{\n  this._setItem(key, JSON.stringify(value));\n}\n\nStorage.prototype._getItem = Storage.prototype.getItem;\nStorage.prototype.getItem = function(key)\n{  \n  try\n  {\n    return JSON.parse(this._getItem(key));\n  }\n  catch(e)\n  {\n    return this._getItem(key);\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>There is a great library that wraps many solutions so it even supports older browsers called <a href=\"http://www.jstorage.info/\">jStorage</a></p>\n\n<p>You can set an object</p>\n\n<pre><code>$.jStorage.set(key, value)\n</code></pre>\n\n<p>And retrieve it easily</p>\n\n<pre><code>value = $.jStorage.get(key)\nvalue = $.jStorage.get(key, \"default value\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>Hi i did a comment at the at another topic ( <a href=\"http://stackoverflow.com/questions/3357553/how-to-store-an-array-in-localstorage\">how to store an Array in localStorage?</a> but doing that again here: )</p>\n\n<p>Just created this:</p>\n\n<p><a href=\"https://gist.github.com/3854049\">https://gist.github.com/3854049</a></p>\n\n<pre><code>//Setter\nStorage.setObj('users.albums.sexPistols',\"blah\");\nStorage.setObj('users.albums.sexPistols',{ sid : \"My Way\", nancy : \"Bitch\" });\nStorage.setObj('users.albums.sexPistols.sid',\"Other songs\");\n\n//Getters\nStorage.getObj('users');\nStorage.getObj('users.albums');\nStorage.getObj('users.albums.sexPistols');\nStorage.getObj('users.albums.sexPistols.sid');\nStorage.getObj('users.albums.sexPistols.nancy');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I arrived at this post after hitting on another post that has been closed as a duplicate of this - titled 'how to store an array in localstorage?'.  Which is fine except neither thread actually provides a full answer as to how you can maintain an array in localStorage - however I have managed to craft a solution based on information contained in both threads.</p>\n\n<p>So if anyone else is wanting to be able to push/pop/shift items within an array, and they want that array stored in localStorage or indeed sessionStorage, here you go:</p>\n\n<pre><code>Storage.prototype.getArray = function(arrayName) {\n  var thisArray = [];\n  var fetchArrayObject = this.getItem(arrayName);\n  if (typeof fetchArrayObject !== 'undefined') {\n    if (fetchArrayObject !== null) { thisArray = JSON.parse(fetchArrayObject); }\n  }\n  return thisArray;\n}\n\nStorage.prototype.pushArrayItem = function(arrayName,arrayItem) {\n  var existingArray = this.getArray(arrayName);\n  existingArray.push(arrayItem);\n  this.setItem(arrayName,JSON.stringify(existingArray));\n}\n\nStorage.prototype.popArrayItem = function(arrayName) {\n  var arrayItem = {};\n  var existingArray = this.getArray(arrayName);\n  if (existingArray.length &gt; 0) {\n    arrayItem = existingArray.pop();\n    this.setItem(arrayName,JSON.stringify(existingArray));\n  }\n  return arrayItem;\n}\n\nStorage.prototype.shiftArrayItem = function(arrayName) {\n  var arrayItem = {};\n  var existingArray = this.getArray(arrayName);\n  if (existingArray.length &gt; 0) {\n    arrayItem = existingArray.shift();\n    this.setItem(arrayName,JSON.stringify(existingArray));\n  }\n  return arrayItem;\n}\n\nStorage.prototype.unshiftArrayItem = function(arrayName,arrayItem) {\n  var existingArray = this.getArray(arrayName);\n  existingArray.unshift(arrayItem);\n  this.setItem(arrayName,JSON.stringify(existingArray));\n}\n\nStorage.prototype.deleteArray = function(arrayName) {\n  this.removeItem(arrayName);\n}\n</code></pre>\n\n<p>example usage - storing simple strings in localStorage array:</p>\n\n<pre><code>localStorage.pushArrayItem('myArray','item one');\nlocalStorage.pushArrayItem('myArray','item two');\n</code></pre>\n\n<p>example usage - storing objects in sessionStorage array:</p>\n\n<pre><code>var item1 = {}; item1.name = 'fred'; item1.age = 48;\nsessionStorage.pushArrayItem('myArray',item1);\n\nvar item2 = {}; item2.name = 'dave'; item2.age = 22;\nsessionStorage.pushArrayItem('myArray',item2);\n</code></pre>\n\n<p>common methods to manipulate arrays:</p>\n\n<pre><code>.pushArrayItem(arrayName,arrayItem); -&gt; adds an element onto end of named array\n.unshiftArrayItem(arrayName,arrayItem); -&gt; adds an element onto front of named array\n.popArrayItem(arrayName); -&gt; removes &amp; returns last array element\n.shiftArrayItem(arrayName); -&gt; removes &amp; returns first array element\n.getArray(arrayName); -&gt; returns entire array\n.deleteArray(arrayName); -&gt; removes entire array from storage\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A small example of a library that use localStorage for keeping track of received messages from contacts :</p>\n\n<pre><code>//This class is supposed to be used to keep a track of received message per contacts.\n//You have only 4 methods :\n\n// 1 - Tells you if you can use this library or not...\nfunction isLocalStorageSupported(){\n    if(typeof(Storage) !== \"undefined\" &amp;&amp; window['localStorage'] != null ) {\n         return true;\n     } else {\n         return false;\n     }\n }\n\n// 2 - Give the list of contacts, a contact is created when you store the first message\n function getContacts(){ \n    var result = new Array();   \n    for ( var i = 0, len = localStorage.length; i &lt; len; ++i ) {\n        result.push(localStorage.key(i));\n    }\n    return result;\n }\n // 3 - store a message for a contact\n function storeMessage(contact, message){\n    var allMessages;\n    var currentMessages = localStorage.getItem(contact);\n    if(currentMessages == null){\n        var newList = new Array();\n        newList.push(message);\n        currentMessages = JSON.stringify(newList);\n    }\n    else\n    {\n        var currentList =JSON.parse(currentMessages);\n        currentList.push(message);\n        currentMessages = JSON.stringify(currentList);\n    }   \n    localStorage.setItem(contact, currentMessages);\n }\n  // 4 -read the messages of a contact\n function readMessages(contact){\n\n    var result = new Array();   \n    var currentMessages = localStorage.getItem(contact);\n\n    if(currentMessages != null){\n        result =JSON.parse(currentMessages);        \n    }\n    return result;\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Improvement on @Guria 's answer:</p>\n\n<pre><code>Storage.prototype.setObject = function (key, value) {\n    this.setItem(key, JSON.stringify(value));\n};\n\n\nStorage.prototype.getObject = function (key) {\n    var value = this.getItem(key);\n    try {\n        return JSON.parse(value);\n    }\n    catch(err) {\n        console.log(\"JSON parse failed for lookup of \", key, \"\\n error was: \", err);\n        return null;\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://rhaboo.org\" rel=\"nofollow\">http://rhaboo.org</a> is a localStorage sugar layer that lets you write things like this:</p>\n\n<pre><code>var store = Rhaboo.persistent('Some name');\nstore.write('count', store.count ? store.count+1 : 1);\nstore.write('somethingfancy', {\n  one: ['man', 'went'],\n  2: 'mow',\n  went: [  2, { mow: ['a', 'meadow' ] }, {}  ]\n});\nstore.somethingfancy.went[1].mow.write(1, 'lawn');\n</code></pre>\n\n<p>It doesn't use JSON.stringify/parse because that would be inaccurate and slow on big objects. Instead, each terminal value has its own localStorage entry.</p>\n\n<p>You can probably guess that I might have something to do with rhaboo ;-)</p>\n\n<p>Adrian.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h2>Stringify doesn't solve all problems</h2>\n\n<p>It seems that the answers here don't cover all types that are possible in JavaScript, so here are some short examples on how to deal with them correctly: </p>\n\n<pre><code>//Objects and Arrays:\n    var obj = {key: \"value\"};\n    localStorage.object = JSON.stringify(obj);  //Will ignore private members\n    obj = JSON.parse(localStorage.object);\n//Boolean:\n    var bool = false;\n    localStorage.bool = bool;\n    bool = (localStorage.bool === \"true\");\n//Numbers:\n    var num = 42;\n    localStorage.num = num;\n    num = +localStorage.num;    //short for \"num = parseFloat(localStorage.num);\"\n//Dates:\n    var date = Date.now();\n    localStorage.date = date;\n    date = new Date(parseInt(localStorage.date));\n//Regular expressions:\n    var regex = /^No\\.[\\d]*$/i;     //usage example: \"No.42\".match(regex);\n    localStorage.regex = regex;\n    var components = localStorage.regex.match(\"^/(.*)/([a-z]*)$\");\n    regex = new RegExp(components[1], components[2]);\n//Functions (not recommended):\n    function func(){}\n    localStorage.func = func;\n    eval( localStorage.func );      //recreates the function with the name \"func\"\n</code></pre>\n\n<p><strong>I do not recommend</strong> to store functions because <code>eval()</code> is evil can lead to issues regarding security, optimisation and debugging.\n        In general, <code>eval()</code> should never be used in JavaScript code.</p>\n\n<h2>Private members</h2>\n\n<p>The problem with using <code>JSON.stringify()</code> for storing objects is, that this function can not serialise private members.\nThis issue can be solved by overwriting the <code>.toString()</code> method (which is called implicitly when storing data in web storage):</p>\n\n<pre><code>//Object with private and public members:\n    function MyClass(privateContent, publicContent){\n        var privateMember = privateContent || \"defaultPrivateValue\";\n        this.publicMember = publicContent  || \"defaultPublicValue\";\n\n        this.toString = function(){\n            return '{\"private\": \"' + privateMember + '\", \"public\": \"' + this.publicMember + '\"}';\n        };\n    }\n    MyClass.fromString = function(serialisedString){\n        var properties = JSON.parse(serialisedString || \"{}\");\n        return new MyClass( properties.private, properties.public );\n    };\n//Storing:\n    var obj = new MyClass(\"invisible\", \"visible\");\n    localStorage.object = obj;\n//Loading:\n    obj = MyClass.fromString(localStorage.object);\n</code></pre>\n\n<h2>Circular references</h2>\n\n<p>Another problem <code>stringify</code> can't deal with are circular references:</p>\n\n<pre><code>var obj = {};\nobj[\"circular\"] = obj;\nlocalStorage.object = JSON.stringify(obj);  //Fails\n</code></pre>\n\n<p>In this example, <code>JSON.stringify()</code> will throw a <code>TypeError</code> <em>\"Converting circular structure to JSON\"</em>.\n        If storing circular references should be supported, the second parameter of <code>JSON.stringify()</code> might be used:</p>\n\n<pre><code>var obj = {id: 1, sub: {}};\nobj.sub[\"circular\"] = obj;\nlocalStorage.object = JSON.stringify( obj, function( key, value) {\n    if( key == 'circular') {\n        return \"$ref\"+value.id+\"$\";\n    } else {\n        return value;\n    }\n});\n</code></pre>\n\n<p>However, finding an efficient solution for storing circular references highly depends on the tasks that need to be solved, and restoring such data is not trivial either.</p>\n\n<p>There are already some question on SO dealing with this problem: <a href=\"http://stackoverflow.com/questions/10392293/stringify-javascript-object-with-circular-reference/12659424#12659424\">Stringify javascript object with circular reference</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>using JSON objects for Local Storage</p>\n\n<p>//SET</p>\n\n<pre><code>&gt; var m={name:'Hero',Title:'developer'};\n&gt; localStorage.setItem('us',JSON.stringify(m));\n</code></pre>\n\n<p>//GET</p>\n\n<pre><code>&gt; var gm =JSON.parse(localStorage.getItem('us'));\n&gt;  console.log(gm.name);\n</code></pre>\n\n<p>// Iteration of All Local Storage Keys and values</p>\n\n<pre><code>for ( var i = 0, len = localStorage.length; i &lt; len; ++i ) {\n  console.log( localStorage.getItem( localStorage.key( i ) ) );\n}\n</code></pre>\n\n<p>// DELETE</p>\n\n<pre><code>localStorage.removeItem('us');\ndelete window.localStorage[\"us\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here some extented version of the code posted by @danott</p>\n\n<p>It'll also implement <strong>delete</strong> value from localstorage \nand shows how to adds a Getter and Setter layer so instead of</p>\n\n<p><code>localstorage.setItem(preview, true)</code> </p>\n\n<p>you can write</p>\n\n<p><code>config.preview = true</code></p>\n\n<p>Okay here were go:</p>\n\n<pre><code>var PT=Storage.prototype\n\nif (typeof PT._setItem &gt;='u') PT._setItem = PT.setItem;\nPT.setItem = function(key, value)\n{\n  if (typeof value &gt;='u')//..ndefined\n    this.removeItem(key)\n  else\n    this._setItem(key, JSON.stringify(value));\n}\n\nif (typeof PT._getItem &gt;='u') PT._getItem = PT.getItem;\nPT.getItem = function(key)\n{  \n  var ItemData = this._getItem(key)\n  try\n  {\n    return JSON.parse(ItemData);\n  }\n  catch(e)\n  {\n    return ItemData;\n  }\n}\n\n// Aliases for localStorage.set/getItem \nget =   localStorage.getItem.bind(localStorage)\nset =   localStorage.setItem.bind(localStorage)\n\n// Create ConfigWrapperObject\nvar config = {}\n\n// Helper to create getter &amp; setter\nfunction configCreate(PropToAdd){\n    Object.defineProperty( config, PropToAdd, {\n      get: function ()      { return (  get(PropToAdd)      ) },\n      set: function (val)   {           set(PropToAdd,  val ) }\n    })\n}\n//------------------------------\n\n// Usage Part\n// Create properties\nconfigCreate('preview')\nconfigCreate('notification')\n//...\n\n// Config Data transfer\n//set\nconfig.preview = true\n\n//get\nconfig.preview\n\n// delete\nconfig.preview = undefined\n</code></pre>\n\n<p>Well you may strip the aliases part with <code>.bind(...)</code>. However I just put it in since it's really good to know about this. I tooked me hours to find out why a simple <code>get = localStorage.getItem;</code> don't work</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Recommend using an abstraction library for many of the features discussed here as well as better compatibility. Lots of options:</p>\n\n<ul>\n<li><a href=\"https://github.com/andris9/jStorage\" rel=\"nofollow\">jStorage</a> or <a href=\"https://github.com/andris9/simpleStorage\" rel=\"nofollow\">simpleStorage</a></li>\n<li><a href=\"https://github.com/mozilla/localForage\" rel=\"nofollow\">localForage</a></li>\n<li><a href=\"https://github.com/alekseykulikov/storage\" rel=\"nofollow\">alekseykulikov/storage</a></li>\n<li><a href=\"https://github.com/brianleroux/lawnchair\" rel=\"nofollow\">Lawnchair</a></li>\n<li><a href=\"https://github.com/marcuswestin/store.js\" rel=\"nofollow\">Store.js</a></li>\n<li><a href=\"https://github.com/aaronagray/omg\" rel=\"nofollow\">OMG</a> (OO)</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'd like to store a JavaScript object in HTML5 <code>localStorage</code>, but my object is apparently being converted to a string.</p>\n\n<p>I can store and retrieve primitive JavaScript types and arrays using <code>localStorage</code>, but objects don't seem to work.  Should they? </p>\n\n<p>Here's my code:</p>\n\n<pre><code>var testObject = { 'one': 1, 'two': 2, 'three': 3 };\nconsole.log('typeof testObject: ' + typeof testObject);\nconsole.log('testObject properties:');\nfor (var prop in testObject) {\n    console.log('  ' + prop + ': ' + testObject[prop]);\n}\n\n// Put the object into storage\nlocalStorage.setItem('testObject', testObject);\n\n// Retrieve the object from storage\nvar retrievedObject = localStorage.getItem('testObject');\n\nconsole.log('typeof retrievedObject: ' + typeof retrievedObject);\nconsole.log('Value of retrievedObject: ' + retrievedObject);\n</code></pre>\n\n<p>The console output is</p>\n\n<pre><code>typeof testObject: object\ntestObject properties:\n  one: 1\n  two: 2\n  three: 3\ntypeof retrievedObject: string\nValue of retrievedObject: [object Object]\n</code></pre>\n\n<p>It looks to me like the <code>setItem</code> method is converting the input to a string before storing it.</p>\n\n<p>I see this behavior in Safari, Chrome, and Firefox, so I assume it's my misunderstanding of the <a href=\"http://www.w3.org/TR/webstorage/\">HTML5 Web Storage</a> spec, not a browser-specific bug or limitation.</p>\n\n<p>I've tried to make sense of the <em>structured clone</em> algorithm described in <a href=\"http://www.w3.org/TR/html5/infrastructure.html\">http://www.w3.org/TR/html5/infrastructure.html</a>.  I don't fully understand what it's saying, but maybe my problem has to do with my object's properties not being enumerable (???)  </p>\n\n<p>Is there an easy workaround?</p>\n",
            "last_activity_date": 1426147179,
            "question_id": 2010892,
            "score": 873,
            "tags": [
                "javascript",
                "html5",
                "local-storage"
            ],
            "title": "Storing Objects in HTML5 localStorage"
        },
        {
            "answer_count": 26,
            "answers": [
                {
                    "body": "<pre><code>var date = new Date(); // will give you todays date.\n\n// following calls, will let you set new dates.\nsetDate()   \nsetFullYear()   \nsetHours()  \nsetMilliseconds()   \nsetMinutes()    \nsetMonth()  \nsetSeconds()    \nsetTime()\n\nvar yesterday = new Date();\nyesterday.setDate(...date info here);\n\nif(date&gt;yesterday)  // will compare dates\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>what format?</p>\n\n<p>If you construct a Javascript <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date\">Date object</a>, you can just subtract them to get a milliseconds difference (edit: or just compare them) :</p>\n\n<pre><code>js&gt;t1 = new Date()\nThu Jan 29 2009 14:19:28 GMT-0500 (Eastern Standard Time)\njs&gt;t2 = new Date()\nThu Jan 29 2009 14:19:31 GMT-0500 (Eastern Standard Time)\njs&gt;t2-t1\n2672\njs&gt;t3 = new Date('2009 Jan 1')\nThu Jan 01 2009 00:00:00 GMT-0500 (Eastern Standard Time)\njs&gt;t1-t3\n2470768442\njs&gt;t1&gt;t3\ntrue\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>The <a href=\"http://www.comptechdoc.org/independent/web/cgi/javamanual/javadate.html\">Date object</a> will do what you want - construct one for each date, then just compare them using the usual operators.</p>\n\n<p>I suggest you use drop-downs or some similar constrained form of date entry rather than text boxes, though, lest you find yourself in input validation hell.</p>\n",
                    "is_accepted": true,
                    "score": 366
                },
                {
                    "body": "<p>In order to create dates from free text in Javascript you need to parse it into the Date() object.</p>\n\n<p>You could use Date.parse() which takes free text tries to convert it into a new date but if you have control over the page I would recommend using HTML select boxes instead or a date picker such as the <a href=\"http://developer.yahoo.com/yui/calendar/\" rel=\"nofollow\">YUI calendar control</a> or the <a href=\"http://docs.jquery.com/UI/Datepicker\" rel=\"nofollow\">jQuery UI Datepicker</a>.</p>\n\n<p>Once you have a date as other people have pointed out you can use simple arithmetic to subtract the dates and convert it back into a number of days by dividing the number (in seconds) by the number of seconds in a day (60*60*24 = 86400).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The easiest way to compare dates in javascript is to first convert it to a Date object and then compare these date-objects.</p>\n\n<p>Below you find an object with three functions:</p>\n\n<ul>\n<li><p><strong>dates.compare(a,b)</strong></p>\n\n<p>Returns a number:</p>\n\n<ul>\n<li>-1 if a &lt; b</li>\n<li>0 if a = b</li>\n<li>1 if a &gt; b</li>\n<li>NaN if a or b is an illegal date</li>\n</ul></li>\n<li><p><strong>dates.inRange</strong> (d,start,end)</p>\n\n<p>Returns a boolean or NaN:</p>\n\n<ul>\n<li><em>true</em> if <em>d</em> is between the <em>start</em> and <em>end</em> (inclusive)</li>\n<li><em>false</em> if <em>d</em> is before <em>start</em> or after <em>end</em>.</li>\n<li>NaN if one or more of the dates are illegal.</li>\n</ul></li>\n<li><p><strong>dates.convert</strong></p>\n\n<p>Used by the other functions to convert their input to a date object. The input can be</p>\n\n<ul>\n<li>a <strong>date</strong>-object : The input is returned as is.</li>\n<li>an <strong>array</strong>: Interpreted as [year,month,day]. <strong>NOTE</strong> month is 0-11.</li>\n<li>a <strong>number</strong> : Interpreted as number of milliseconds since 1 Jan 1970 (a timestamp) </li>\n<li>a <strong>string</strong> : Several different formats is supported, like \"YYYY/MM/DD\", \"MM/DD/YYYY\", \"Jan 31 2009\" etc.</li>\n<li>an <strong>object</strong>: Interpreted as an object with year, month and date attributes.  <strong>NOTE</strong> month is 0-11.</li>\n</ul></li>\n</ul>\n\n<p>.</p>\n\n<pre><code>// Source: http://stackoverflow.com/questions/497790\nvar dates = {\n    convert:function(d) {\n        // Converts the date in d to a date-object. The input can be:\n        //   a date object: returned without modification\n        //  an array      : Interpreted as [year,month,day]. NOTE: month is 0-11.\n        //   a number     : Interpreted as number of milliseconds\n        //                  since 1 Jan 1970 (a timestamp) \n        //   a string     : Any format supported by the javascript engine, like\n        //                  \"YYYY/MM/DD\", \"MM/DD/YYYY\", \"Jan 31 2009\" etc.\n        //  an object     : Interpreted as an object with year, month and date\n        //                  attributes.  **NOTE** month is 0-11.\n        return (\n            d.constructor === Date ? d :\n            d.constructor === Array ? new Date(d[0],d[1],d[2]) :\n            d.constructor === Number ? new Date(d) :\n            d.constructor === String ? new Date(d) :\n            typeof d === \"object\" ? new Date(d.year,d.month,d.date) :\n            NaN\n        );\n    },\n    compare:function(a,b) {\n        // Compare two dates (could be of any type supported by the convert\n        // function above) and returns:\n        //  -1 : if a &lt; b\n        //   0 : if a = b\n        //   1 : if a &gt; b\n        // NaN : if a or b is an illegal date\n        // NOTE: The code inside isFinite does an assignment (=).\n        return (\n            isFinite(a=this.convert(a).valueOf()) &amp;&amp;\n            isFinite(b=this.convert(b).valueOf()) ?\n            (a&gt;b)-(a&lt;b) :\n            NaN\n        );\n    },\n    inRange:function(d,start,end) {\n        // Checks if date in d is between dates in start and end.\n        // Returns a boolean or NaN:\n        //    true  : if d is between start and end (inclusive)\n        //    false : if d is before start or after end\n        //    NaN   : if one or more of the dates is illegal.\n        // NOTE: The code inside isFinite does an assignment (=).\n       return (\n            isFinite(d=this.convert(d).valueOf()) &amp;&amp;\n            isFinite(start=this.convert(start).valueOf()) &amp;&amp;\n            isFinite(end=this.convert(end).valueOf()) ?\n            start &lt;= d &amp;&amp; d &lt;= end :\n            NaN\n        );\n    }\n}\n</code></pre>\n\n<p>Updated 26 Februari 2011 with documentation in the code (the code is unaltered).</p>\n",
                    "is_accepted": false,
                    "score": 244
                },
                {
                    "body": "<pre><code>function datesEqual(a, b)\n{\n   return (!(a&gt;b || b&gt;a))\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Dates comparison:</p>\n\n<pre><code>var str1  = document.getElementById(\"Fromdate\").value;\nvar str2  = document.getElementById(\"Todate\").value;\nvar dt1   = parseInt(str1.substring(0,2),10); \nvar mon1  = parseInt(str1.substring(3,5),10);\nvar yr1   = parseInt(str1.substring(6,10),10); \nvar dt2   = parseInt(str2.substring(0,2),10); \nvar mon2  = parseInt(str2.substring(3,5),10); \nvar yr2   = parseInt(str2.substring(6,10),10); \nvar date1 = new Date(yr1, mon1, dt1); \nvar date2 = new Date(yr2, mon2, dt2); \n\nif(date2 &lt; date1)\n{\n   alert(\"To date cannot be greater than from date\");\n   return false; \n} \nelse \n{ \n   alert(\"Submitting ...\");\n   document.form1.submit(); \n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Say you got the date objects A and B, get their EPOC time value, then subtract to get the difference in milliseconds.</p>\n\n<pre><code>var diff = +A - +B;\n</code></pre>\n\n<p>That's all.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>An Improved version of the code posted by \"some\" </p>\n\n<pre><code>/* Compare the current date against another date.\n *\n * @param b  {Date} the other date\n * @returns   -1 : if this &lt; b\n *             0 : if this === b\n *             1 : if this &gt; b\n *            NaN : if a or b is an illegal date\n*/ \nDate.prototype.compare = function(b) {\n  if (b.constructor !== Date) {\n    throw \"invalid_date\";\n  }\n\n return (isFinite(this.valueOf()) &amp;&amp; isFinite(b.valueOf()) ? \n          (this&gt;b)-(this&lt;b) : NaN \n        );\n};\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>  var a = new Date(2011, 1-1, 1);\n  var b = new Date(2011, 1-1, 1);\n  var c = new Date(2011, 1-1, 31);\n  var d = new Date(2011, 1-1, 31);\n\n  assertEquals( 0, a.compare(b));\n  assertEquals( 0, b.compare(a));\n  assertEquals(-1, a.compare(c));\n  assertEquals( 1, c.compare(a));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>By far the easiest method is to subtract one date from the other and compare the result.</p>\n\n<pre><code>var oDateOne = new Date();\nvar oDateTwo = new Date();\n\nalert(oDateOne - oDateTwo === 0);\nalert(oDateOne - oDateTwo &lt; 0);\nalert(oDateOne - oDateTwo &gt; 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 48
                },
                {
                    "body": "<p>If following is your date format, you can use this code:</p>\n\n<pre><code>var first = '2012-11-21';\nvar second = '2012-11-03';\nif(parseInt(first.replace(/-/g,\"\"),10) &gt; parseInt(second.replace(/-/g,\"\"),10)){\n   //...\n}\n</code></pre>\n\n<p>It will check whether <code>20121121</code> number is bigger than <code>20121103</code> or not.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>        from_date ='10-07-2012';\n        to_date = '05-05-2012';\n        var fromdate = from_date.split('-');\n        from_date = new Date();\n        from_date.setFullYear(fromdate[2],fromdate[1]-1,fromdate[0]);\n        var todate = to_date.split('-');\n        to_date = new Date();\n        to_date.setFullYear(todate[2],todate[1]-1,todate[0]);\n        if (from_date &gt; to_date ) \n        {\n            alert(\"Invalid Date Range!\\nStart Date cannot be after End Date!\")\n\n            return false;\n        }\n</code></pre>\n\n<p>Use this code to compare the date using javascript.</p>\n\n<p>Thanks\nD.Jeeva</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>you use this code,   </p>\n\n<pre><code>var firstValue = \"2012-05-12\".split('-');\nvar secondValue = \"2014-07-12\".split('-');\n\n var firstDate=new Date();\n firstDate.setFullYear(firstValue[0],(firstValue[1] - 1 ),firstValue[2]);\n\n var secondDate=new Date();\n secondDate.setFullYear(secondValue[0],(secondValue[1] - 1 ),secondValue[2]);     \n\n  if (firstDate &gt; secondDate)\n  {\n   alert(\"First Date  is greater than Second Date\");\n  }\n else\n  {\n    alert(\"Second Date  is greater than First Date\");\n  }\n</code></pre>\n\n<p>And also check this link\n<a href=\"http://www.w3schools.com/js/js_obj_date.asp\" rel=\"nofollow\">http://www.w3schools.com/js/js_obj_date.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I usually store <code>Dates</code> as <code>timestamps(Number)</code> in databases.</p>\n\n<p>When I need to compare, I simply compare among those timestamps or</p>\n\n<p>convert it to Date Object and then compare with <code>&gt; &lt;</code>if necessary.</p>\n\n<p><strong>Note that == or === does not work properly unless your variables are references of the same Date Object.</strong></p>\n\n<p><strong>Convert those Date objects to timestamp(number) first and then compare equality of them.</strong></p>\n\n<hr>\n\n<h2>Date to Timestamp</h2>\n\n<pre><code>var timestamp_1970 = new Date(0).getTime(); // 1970-01-01 00:00:00\nvar timestamp = new Date().getTime(); // Current Timestamp\n</code></pre>\n\n<h2>Timestamp to Date</h2>\n\n<pre><code>var timestamp = 0; // 1970-01-01 00:00:00\nvar DateObject = new Date(timestamp);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Subtract 2 date get the difference in millisecond, if you get <code>0</code> it's the same date</p>\n\n\n\n<pre><code>function areSameDate(d1,d2){\n    return d1 - d2 == 0;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Two JavaScript Date objects can be compared using <code>&lt;</code> and <code>&gt;</code>:</p>\n\n<pre><code>var d1 = new Date(2013, 0, 1);\nvar d2 = new Date(2013, 0, 2);\nd1 &lt; d2; // true\n</code></pre>\n\n<p>But you cannot use <code>==</code> and <code>===</code> because:</p>\n\n<blockquote>\n  <ul>\n  <li>Two distinct objects are never equal for either strictly or abstract comparisons</li>\n  <li>An expression comparing Objects is only true if the operands reference the same Object</li>\n  </ul>\n</blockquote>\n\n<p>However, the values contained within JavaScript Dates can be compared for equality:</p>\n\n<pre><code>var d1 = new Date(2013, 0, 1);\nvar d2 = new Date(2013, 0, 1);\nd1 == d2;                     // false\nd1 === d2;                    // false\nd1.getTime() == d2.getTime(); // true\nd1.valueOf() == d2.valueOf(); // true\nNumber(d1) == Number(d2);     // true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<pre><code>var curDate=new Date();\nvar startDate=document.forms[0].m_strStartDate;\n\nvar endDate=document.forms[0].m_strEndDate;\nvar startDateVal=startDate.value.split('-');\nvar endDateVal=endDate.value.split('-');\nvar firstDate=new Date();\nfirstDate.setFullYear(startDateVal[2], (startDateVal[1] - 1), startDateVal[0]);\n\nvar secondDate=new Date();\nsecondDate.setFullYear(endDateVal[2], (endDateVal[1] - 1), endDateVal[0]);\nif(firstDate &gt; curDate) {\n    alert(\"Start date cannot be greater than current date!\");\n    return false;\n}\nif (firstDate &gt; secondDate) {\n    alert(\"Start date cannot be greater!\");\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Compare <code>&lt;</code> and <code>&gt;</code> just as usual, but anything involving <code>=</code> should use a <code>+</code> prefix. Like so:</p>\n\n<pre><code>var x = new Date('2013-05-23');\nvar y = new Date('2013-05-23');\n\n// less than, greater than is fine:\nx &lt; y; =&gt; false\nx &gt; y; =&gt; false\nx === y; =&gt; false, oops!\n\n// anything involving '=' should use the '+' prefix\n// it will then compare the dates' millisecond values\n+x &lt;= +y;  =&gt; true\n+x &gt;= +y;  =&gt; true\n+x === +y; =&gt; true\n</code></pre>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 110
                },
                {
                    "body": "<p><strong>SHORT ANSWER</strong></p>\n\n<p>Here is a function that return {boolean} if the from dateTime > to dateTime <a href=\"http://jsfiddle.net/NTghK/\" rel=\"nofollow\">Demo in action</a></p>\n\n<pre><code>var from = '08/19/2013 00:00'\nvar to = '08/12/2013 00:00 '\n\nfunction isFromBiggerThanTo(dtmfrom, dtmto){\n   return new Date(dtmfrom).getTime() &gt;=  new Date(dtmto).getTime() ;\n}\nconsole.log(isFromBiggerThanTo(from, to)); //true\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p><a href=\"http://jsfiddle.net/minagabriel/Fu7Ag/1/\" rel=\"nofollow\">jsFiddle </a></p>\n\n<pre><code>var date_one = '2013-07-29 01:50:00',\ndate_two = '2013-07-29 02:50:00';\n//getTime() returns the number of milliseconds since 01.01.1970.\nvar timeStamp_date_one = new Date(date_one).getTime() ; //1375077000000 \nconsole.log(typeof timeStamp_date_one);//number \nvar timeStamp_date_two = new Date(date_two).getTime() ;//1375080600000 \nconsole.log(typeof timeStamp_date_two);//number \n</code></pre>\n\n<p>since you are now having both datetime in number type\nyou can compare them with any logical operation </p>\n\n<p>( >, &lt; ,= ,!= ,== ,!== ,>= AND &lt;=) </p>\n\n<p><strong>Then</strong></p>\n\n<p>if you are familiar with <code>C#</code> Custom Date and Time Format String this library should do the exact same thing and help you format your date and time <a href=\"https://rawgithub.com/minagabriel/dtmFRM/master/dtmFRM.js\" rel=\"nofollow\">dtmFRM</a> whether you are passing in date time string or unix format </p>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>var myDateTime = new dtmFRM();\n\nalert(myDateTime.ToString(1375077000000, \"MM/dd/yyyy hh:mm:ss ampm\"));\n//07/29/2013 01:50:00 AM\n\nalert(myDateTime.ToString(1375077000000,\"the year is yyyy and the day is dddd\"));\n//this year is 2013 and the day is Monday\n\nalert(myDateTime.ToString('1/21/2014', \"this month is MMMM and the day is dd\"));\n//this month is january and the day is 21\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/minagabriel/8fPtd/2/\" rel=\"nofollow\">DEMO</a></p>\n\n<p>all you have to do is passing any of these format pacified in the library <code>js</code> file </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here is what I did in one of my projects,</p>\n\n<pre><code>function CompareDate(tform){\n     var startDate = new Date(document.getElementById(\"START_DATE\").value.substring(0,10));\n     var endDate = new Date(document.getElementById(\"END_DATE\").value.substring(0,10));\n\n     if(tform.START_DATE.value!=\"\"){\n         var estStartDate = tform.START_DATE.value;\n         //format for Oracle\n         tform.START_DATE.value = estStartDate + \" 00:00:00\";\n     }\n\n     if(tform.END_DATE.value!=\"\"){\n         var estEndDate = tform.END_DATE.value;\n         //format for Oracle\n         tform.END_DATE.value = estEndDate + \" 00:00:00\";\n     }\n\n     if(endDate &lt;= startDate){\n         alert(\"End date cannot be smaller than or equal to Start date, please review you selection.\");\n         tform.START_DATE.value = document.getElementById(\"START_DATE\").value.substring(0,10);\n         tform.END_DATE.value = document.getElementById(\"END_DATE\").value.substring(0,10);\n         return false;\n     }\n}\n</code></pre>\n\n<p>calling this on form onsubmit.\nhope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>When it comes to DateTime and manipulation in JS, I look no further than <a href=\"http://momentjs.com/\">momentjs</a> :)</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Compare day only (ignoring time component):</p>\n\n<pre><code>Date.prototype.sameDay = function(d) {\n  return this.getFullYear() === d.getFullYear()\n    &amp;&amp; this.getDate() === d.getDate()\n    &amp;&amp; this.getMonth() === d.getMonth();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Before comparing the <code>Dates</code> object, try setting both of their milliseconds to zero like <code>Date.setMilliseconds(0);</code>.</p>\n\n<p>In some cases where the <code>Date</code> object is dynamically created in javascript, if you keep printing the <code>Date.getTime()</code>, you'll see the milliseconds changing, which will prevent the equality of both dates.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try using this code    </p>\n\n<pre><code>var f =date1.split(\"/\");\n\nvar t =date2.split(\"/\");\n\nvar x =parseInt(f[2]+f[1]+f[0]);\n\nvar y =parseInt(t[2]+t[1]+t[0]);\n\nif(x &gt; y){\n    alert(\"date1 is after date2\");\n}\n\nelse if(x &lt; y){\n    alert(\"date1 is before date2\");\n}\n\nelse{\n    alert(\"both date are same\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Just to add yet another possibility to the many existing options, you could try:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (date1.valueOf()==date2.valueOf()) .....\n</code></pre>\n\n<p>...which seems to work for me.  Of course you do have to ensure that both dates are not undefined...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if ((date1?date1.valueOf():0)==(date2?date2.valueOf():0) .....\n</code></pre>\n\n<p>This way we can ensure that a positive comparison is made if both are undefined also, or...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if ((date1?date1.valueOf():0)==(date2?date2.valueOf():-1) .....\n</code></pre>\n\n<p>...if you prefer them not to be equal.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Let's suppose that you deal with this <code>2014[:-/.]06[:-/.]06</code> or this <code>06[:-/.]06[:-/.]2014</code> date format, then you may compare dates this way </p>\n\n<pre><code>var a = '2014.06/07', b = '2014-06.07', c = '07-06/2014', d = '07/06.2014';\n\nparseInt(a.replace(/[:\\s\\/\\.-]/g, '')) == parseInt(b.replace(/[:\\s\\/\\.-]/g, '')); // true\nparseInt(c.replace(/[:\\s\\/\\.-]/g, '')) == parseInt(d.replace(/[:\\s\\/\\.-]/g, '')); // true\nparseInt(a.replace(/[:\\s\\/\\.-]/g, '')) &lt; parseInt(b.replace(/[:\\s\\/\\.-]/g, '')); // false\nparseInt(c.replace(/[:\\s\\/\\.-]/g, '')) &gt; parseInt(d.replace(/[:\\s\\/\\.-]/g, '')); // false\n</code></pre>\n\n<p>As you can see, we strip separator(s) and then compare integers.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can someone suggest a way to compare the values of two dates greater than, less than, and not in the past using javascript? The values will be coming from text boxes.</p>\n",
            "last_activity_date": 1418930837,
            "question_id": 492994,
            "score": 385,
            "tags": [
                "javascript",
                "date",
                "compare"
            ],
            "title": "Compare dates with JavaScript"
        },
        {
            "answer_count": 33,
            "answers": [
                {
                    "body": "<p>There have been a couple attempts at this. The question is: do you want actual GUIDs, or just random numbers that <em>look</em> like GUIDs? It's easy enough to generate random numbers. From <a href=\"http://note19.com/2007/05/27/javascript-guid-generator/\">http://note19.com/2007/05/27/javascript-guid-generator/</a> (after some clean-up for clarity's sake):</p>\n\n<pre><code>function guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n    s4() + '-' + s4() + s4() + s4();\n}\n</code></pre>\n\n<p><strike>\nHowever, note in the comments that such values are not genuine GUIDs. There's no way to generate real GUIDs in Javascript, because they depend on properties of the local computer that browsers do not expose. You'll need to use OS-specific services like ActiveX: <a href=\"http://p2p.wrox.com/topicindex/20339.htm\">http://p2p.wrox.com/topicindex/20339.htm</a>\n</strike> Edit: not correct - RFC4122 allows random (\"version 4\") ids.  See other answers for specifics.</p>\n\n<p>Use:</p>\n\n<pre><code>var uuid = guid();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 712
                },
                {
                    "body": "<p>From <a href=\"http://blog.shkedy.com/2007/01/createing-guids-with-client-side.html\">sagi shkedy's technical blog</a>:</p>\n\n<pre><code>function generateGuid() {\n  var result, i, j;\n  result = '';\n  for(j=0; j&lt;32; j++) {\n    if( j == 8 || j == 12|| j == 16|| j == 20) \n      result = result + '-';\n    i = Math.floor(Math.random()*16).toString(16).toUpperCase();\n    result = result + i;\n  }\n  return result;\n}\n</code></pre>\n\n<p>There are other methods that involve using an ActiveX control, but stay away from these!</p>\n\n<p>EDIT:  I thought it was worth pointing out that no GUID generator can guarantee unique keys (check the <a href=\"http://en.wikipedia.org/wiki/Globally_Unique_Identifier\">wikipedia article</a>).  There is always a chance of collisions.  A GUID simply offers a large enough universe of keys to reduce the change of collisions to almost nil.</p>\n\n<p>That being said, I think that the <a href=\"http://note19.com/2007/05/27/javascript-guid-generator/\">note19 solution</a> posted by John Millikin is much more elegant that the one I found.  Go with that.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>A web service would be useful.  </p>\n\n<p>Quick Google found: <a href=\"http://www.hoskinson.net/GuidGenerator/\">http://www.hoskinson.net/GuidGenerator/</a></p>\n\n<p>Can't vouch for this implementation, but SOMEONE must publish a bonafide GUID generator.</p>\n\n<p>With such a web service, you could develop a REST web interface that consumes the GUID web service, and serves it through AJAX to javascript in a browser.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>From <a href=\"http://en.wikipedia.org/wiki/Universally_Unique_Identifier\">good ol' wikipedia</a> there's a link to a javascript implementation of UUID.</p>\n\n<p>It looks fairly elegant, and could perhaps be improved by salting with a hash of the client's IP address. This hash could perhaps be inserted into the html document server-side for use by the client-side javascript.</p>\n\n<p>UPDATE : The original site has had a shuffle, here is the <a href=\"http://af-design.com/blog/2008/09/05/updated-javascript-uuid-generator-v03/\">updated version</a></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Here's some code based on <a href=\"http://www.ietf.org/rfc/rfc4122.txt\">RFC 4122</a>, section 4.4 (Algorithms for Creating a UUID from Truly Random or Pseudo-Random Number).</p>\n\n<pre><code>function createUUID() {\n    // http://www.ietf.org/rfc/rfc4122.txt\n    var s = [];\n    var hexDigits = \"0123456789abcdef\";\n    for (var i = 0; i &lt; 36; i++) {\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr((s[19] &amp; 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = \"-\";\n\n    var uuid = s.join(\"\");\n    return uuid;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 94
                },
                {
                    "body": "<p>This create version 4 UUID (created from pseudo random numbers) :</p>\n\n<pre><code>function uuid()\n{\n   var chars = '0123456789abcdef'.split('');\n\n   var uuid = [], rnd = Math.random, r;\n   uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n   uuid[14] = '4'; // version 4\n\n   for (var i = 0; i &lt; 36; i++)\n   {\n      if (!uuid[i])\n      {\n         r = 0 | rnd()*16;\n\n         uuid[i] = chars[(i == 19) ? (r &amp; 0x3) | 0x8 : r &amp; 0xf];\n      }\n   }\n\n   return uuid.join('');\n}\n</code></pre>\n\n<p>Here is a sample of the UUIDs generated :</p>\n\n<pre><code>682db637-0f31-4847-9cdf-25ba9613a75c\n97d19478-3ab2-4aa1-b8cc-a1c3540f54aa\n2eed04c9-2692-456d-a0fd-51012f947136\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>There's a nice compact function for creating rfc4122-compliant random UUIDs posted on my blog at:</p>\n\n<p><a href=\"http://www.broofa.com/2008/09/javascript-uuid-function/\">http://www.broofa.com/2008/09/javascript-uuid-function/</a></p>\n\n<p>Math.uuid.js is small (~400bytes), and has no dependencies on other libs, so can drop into just about any JS project.  It can be used to produce either RFC4122-compliant v4 (random) uuids, or more compact, non-standard IDs of arbitrary length and base.  For example:</p>\n\n<pre>\n>>> Math.uuid() // RFC4122 v4 UUID\n\"4FAC90E7-8CF1-4180-B47B-09C3A246CB67\"\n\n>>> Math.uuid(17) // 17 digits, base 62 (0-9,a-Z,A-Z)\n\"GaohlDbGYvOKd11p2\"\n\n>>> Math.uuid(5, 10) // 5 digits, base 10\n\"84274\"\n\n>>> Math.uuid(8, 16) // 8 digits, base 16\n\"19D954C3\"\n</pre>\n\n<p>P.S. That blog post also links to a test page that shows the number of possible UUIDs there are for a variety of arguments, and that includes a performance test for those that care about that sort of thing.</p>\n",
                    "is_accepted": false,
                    "score": 78
                },
                {
                    "body": "<p>For an rfc4122 version 4 compliant solution, this one-liner(ish) solution is the most compact I could come up with.:</p>\n\n<pre><code>'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random()*16|0, v = c == 'x' ? r : (r&amp;0x3|0x8);\n    return v.toString(16);\n});\n</code></pre>\n\n<p>E.g:</p>\n\n<pre><code>&gt;&gt;&gt; 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {var r = Math.random()*16|0,v=c=='x'?r:r&amp;0x3|0x8;return v.toString(16);});\n\"3bce4931-6c75-41ab-afe0-2ec108a30860\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1647
                },
                {
                    "body": "<p>It's just a simple AJAX call...</p>\n\n<p>If anyone is still interested, here's my solution.</p>\n\n<p>On the server side:</p>\n\n<pre><code>[WebMethod()]\npublic static string GenerateGuid()\n{\n    return Guid.NewGuid().ToString();\n}\n</code></pre>\n\n<p>On the client side:</p>\n\n<pre><code>var myNewGuid = null;\nPageMethods.GenerateGuid(\n    function(result, userContext, methodName)\n    {\n        myNewGuid = result;\n    },\n    function()\n    {\n        alert(\"WebService call failed.\");\n    }\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>  // RFC 4122\n  //\n  // A UUID is 128 bits long\n  //\n  // String representation is five fields of 4, 2, 2, 2, and 6 bytes.\n  // Fields represented as lowercase, zero-filled, hexadecimal strings, and\n  // are separated by dash characters\n  //\n  // A version 4 UUID is generated by setting all but six bits to randomly\n  // chosen values\n  var uuid = [\n    Math.random().toString(16).slice(2, 10),\n    Math.random().toString(16).slice(2, 6),\n\n    // Set the four most significant bits (bits 12 through 15) of the\n    // time_hi_and_version field to the 4-bit version number from Section\n    // 4.1.3\n    (Math.random() * .0625 /* 0x.1 */ + .25 /* 0x.4 */).toString(16).slice(2, 6),\n\n    // Set the two most significant bits (bits 6 and 7) of the\n    // clock_seq_hi_and_reserved to zero and one, respectively\n    (Math.random() * .25 /* 0x.4 */ + .5 /* 0x.8 */).toString(16).slice(2, 6),\n\n    Math.random().toString(16).slice(2, 14)].join('-');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I know this topic is old but if you really wanted to create a GUID you could obvioulsy do it without straight javascript.  You could cause a page expiration every load and create a GUID on the server side then populate that into a javascript variable at page run time.  Just an idea.</p>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>Here's a solution dated Oct. 9, 2011 from a comment by user <em>jed</em> at <a href=\"https://gist.github.com/982883\">https://gist.github.com/982883</a>:</p>\n\n<pre><code>UUIDv4 = function b(a){return a?(a^Math.random()*16&gt;&gt;a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)}\n</code></pre>\n\n<p>This accomplishes the same goal as the <a href=\"http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\">current highest-rated answer</a>, but in 50+ fewer bytes by exploiting coercion, recursion, and exponential notation. For those curious how it works, here's the annotated form of an older version of the function:</p>\n\n<pre><code>UUIDv4 =\n\nfunction b(\n  a // placeholder\n){\n  return a // if the placeholder was passed, return\n    ? ( // a random number from 0 to 15\n      a ^ // unless b is 8,\n      Math.random() // in which case\n      * 16 // a random number from\n      &gt;&gt; a/4 // 8 to 11\n      ).toString(16) // in hexadecimal\n    : ( // or otherwise a concatenated string:\n      [1e7] + // 10000000 +\n      -1e3 + // -1000 +\n      -4e3 + // -4000 +\n      -8e3 + // -80000000 +\n      -1e11 // -100000000000,\n      ).replace( // replacing\n        /[018]/g, // zeroes, ones, and eights with\n        b // random hex digits\n      )\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>Check this out if you are generating random GUIDs in Google Chrome <a href=\"http://devoluk.com/google-chrome-math-random-issue.html\" rel=\"nofollow\">http://devoluk.com/google-chrome-math-random-issue.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function guidGenerator() {\n  var buf = new Uint16Array(8);\n   window.crypto.getRandomValues(buf);\n   var S4 = function(num) {\n     var ret = num.toString(16);\n     while(ret.length &lt; 4){\n       ret = \"0\"+ret;\n     };\n     return ret;\n   };\n  return (S4(buf[0])+S4(buf[1])+\"-\"+S4(buf[2])+\"-4\"+S4(buf[3]).substring(1)+\"-y\"+S4(buf[4]).substring(1)+\"-\"+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n}\n</code></pre>\n\n<p>Done with the proposed, and in Chrome, Firefox available, API for secure random numbers. I have not read the RFC, korpus taken from John Millikin.</p>\n\n<p>EDIT: fixed so it adheres xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx format in the rfc.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>There is a jQuery plugin that handles Guid's nicely @ <a href=\"http://plugins.jquery.com/project/GUID_Helper\" rel=\"nofollow\">http://plugins.jquery.com/project/GUID_Helper</a></p>\n\n<pre><code>jQuery.Guid.Value()\n</code></pre>\n\n<p>Returns value of internal Guid. If no guid has been specified, returns a new one (value is then stored internally).</p>\n\n<hr>\n\n<pre><code>jQuery.Guid.New()\n</code></pre>\n\n<p>Returns a new Guid and sets it's value internally.</p>\n\n<hr>\n\n<pre><code>jQuery.Guid.Empty()\n</code></pre>\n\n<p>Returns an empty Guid 00000000-0000-0000-0000-000000000000.</p>\n\n<hr>\n\n<pre><code>jQuery.Guid.IsEmpty()\n</code></pre>\n\n<p>Returns boolean. True if empty/undefined/blank/null.</p>\n\n<hr>\n\n<pre><code>jQuery.Guid.IsValid()\n</code></pre>\n\n<p>Returns boolean. True valid guid, false if not.</p>\n\n<hr>\n\n<pre><code>jQuery.Guid.Set()\n</code></pre>\n\n<p>Retrns Guid. Sets Guid to user specified Guid, if invalid, returns an empty guid.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here is a combination of the <a href=\"http://stackoverflow.com/a/2117523/11236\">top voted answer</a>, with a workaround for <a href=\"http://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\">Chrome's collisions</a>:</p>\n\n<pre><code>generateGUID = (typeof(window.crypto) != 'undefined' &amp;&amp; \n                typeof(window.crypto.getRandomValues) != 'undefined') ?\n    function() {\n        // If we have a cryptographically secure PRNG, use that\n        // http://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\n        var buf = new Uint16Array(8);\n        window.crypto.getRandomValues(buf);\n        var S4 = function(num) {\n            var ret = num.toString(16);\n            while(ret.length &lt; 4){\n                ret = \"0\"+ret;\n            }\n            return ret;\n        };\n        return (S4(buf[0])+S4(buf[1])+\"-\"+S4(buf[2])+\"-\"+S4(buf[3])+\"-\"+S4(buf[4])+\"-\"+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n    }\n\n    :\n\n    function() {\n        // Otherwise, just use Math.random\n        // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            var r = Math.random()*16|0, v = c == 'x' ? r : (r&amp;0x3|0x8);\n            return v.toString(16);\n        });\n    };\n</code></pre>\n\n<p><a href=\"http://jsbin.com/uqives/3\">On jsbin</a> if you want to test it.</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>I really like how clean <a href=\"http://stackoverflow.com/a/2117523/508537\">Broofa's answer</a> is, but it's unfortunate that poor implementations of <code>Math.random</code> leave the chance for collision.  </p>\n\n<p>Here's a similar <a href=\"http://www.ietf.org/rfc/rfc4122.txt\">RFC4122</a> version 4 compliant solution that solves that issue by offsetting the first 13 hex numbers by a hex portion of the timestamp.  That way, even if <code>Math.random</code> is on the same seed, both clients would have to generate the UUID at the exact same millisecond (or 10,000+ years later) to get the same UUID:   </p>\n\n<pre><code>function generateUUID(){\n    var d = new Date().getTime();\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = (d + Math.random()*16)%16 | 0;\n        d = Math.floor(d/16);\n        return (c=='x' ? r : (r&amp;0x3|0x8)).toString(16);\n    });\n    return uuid;\n};\n</code></pre>\n\n<p><br/>\n<a href=\"http://jsfiddle.net/briguy37/2MVFd/\">Here's a fiddle to test.</a></p>\n",
                    "is_accepted": false,
                    "score": 224
                },
                {
                    "body": "<p>Adjusted my own UUID/GUID generator with some extras <a href=\"http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx\">here</a>.</p>\n\n<p>I'm using <a href=\"http://baagoe.com/en/RandomMusings/javascript/\">the following Kybos</a> random number generator to be a bit more cryptographically sound.</p>\n\n<p>Below is my script with the Mash and Kybos methods from baagoe.com excluded.</p>\n\n<pre><code>//UUID/Guid Generator\n// use: UUID.create() or UUID.createSequential()\n// convenience:  UUID.empty, UUID.tryParse(string)\n(function(w){\n  // From http://baagoe.com/en/RandomMusings/javascript/\n  // Johannes Baag\u00c3\u00b8e &lt;baagoe@baagoe.com&gt;, 2010\n  //function Mash() {...};\n\n  // From http://baagoe.com/en/RandomMusings/javascript/\n  //function Kybos() {...};\n\n  var rnd = Kybos();\n\n  //UUID/GUID Implementation from http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx\n  var UUID = {\n    \"empty\": \"00000000-0000-0000-0000-000000000000\"\n    ,\"parse\": function(input) {\n      var ret = input.toString().trim().toLowerCase().replace(/^[\\s\\r\\n]+|[\\{\\}]|[\\s\\r\\n]+$/g, \"\");\n      if ((/[a-f0-9]{8}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{12}/).test(ret))\n        return ret;\n      else\n        throw new Error(\"Unable to parse UUID\");\n    }\n    ,\"createSequential\": function() {\n      var ret = new Date().valueOf().toString(16).replace(\"-\",\"\")\n      for (;ret.length &lt; 12; ret = \"0\" + ret);\n      ret = ret.substr(ret.length-12,12); //only least significant part\n      for (;ret.length &lt; 32;ret += Math.floor(rnd() * 0xffffffff).toString(16));\n      return [ret.substr(0,8), ret.substr(8,4), \"4\" + ret.substr(12,3), \"89AB\"[Math.floor(Math.random()*4)] + ret.substr(16,3),  ret.substr(20,12)].join(\"-\");\n    }\n    ,\"create\": function() {\n      var ret = \"\";\n      for (;ret.length &lt; 32;ret += Math.floor(rnd() * 0xffffffff).toString(16));\n      return [ret.substr(0,8), ret.substr(8,4), \"4\" + ret.substr(12,3), \"89AB\"[Math.floor(Math.random()*4)] + ret.substr(16,3),  ret.substr(20,12)].join(\"-\");\n    }\n    ,\"random\": function() {\n      return rnd();\n    }\n    ,\"tryParse\": function(input) {\n      try {\n        return UUID.parse(input);\n      } catch(ex) {\n        return UUID.empty;\n      }\n    }\n  };\n  UUID[\"new\"] = UUID.create;\n\n  w.UUID = w.Guid = UUID;\n}(window || this));</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The better way:</p>\n\n<pre><code>function(\n  a,b                // placeholders\n){\n  for(               // loop :)\n      b=a='';        // b - result , a - numeric variable\n      a++&lt;36;        // \n      b+=a*51&amp;52  // if \"a\" is not 9 or 14 or 19 or 24\n                  ?  //  return a random number or 4\n         (\n           a^15      // if \"a\" is not 15\n              ?      // genetate a random number from 0 to 15\n           8^Math.random()*\n           (a^20?16:4)  // unless \"a\" is 20, in which case a random number from 8 to 11\n              :\n           4            //  otherwise 4\n           ).toString(16)\n                  :\n         '-'            //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\n      );\n  return b\n }\n</code></pre>\n\n<p>Minimized:</p>\n\n<pre><code>function(a,b){for(b=a='';a++&lt;36;b+=a*51&amp;52?(a^15?8^Math.random()*(a^20?16:4):4).toString(16):'-');return b}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>JavaScript project on GitHub - <a href=\"https://github.com/LiosK/UUID.js\">https://github.com/LiosK/UUID.js</a></p>\n\n<blockquote>\n  <p><strong>UUID.js The RFC-compliant UUID generator for JavaScript.</strong></p>\n  \n  <p>See RFC 4122 <a href=\"http://www.ietf.org/rfc/rfc4122.txt\">http://www.ietf.org/rfc/rfc4122.txt</a>.</p>\n  \n  <p><strong>Features Generates RFC 4122 compliant UUIDs.</strong></p>\n  \n  <p>Version 4 UUIDs (UUIDs from random numbers) and version 1 UUIDs\n  (time-based UUIDs) are available.</p>\n  \n  <p>UUID object allows a variety of access to the UUID including access to\n  the UUID fields.</p>\n  \n  <p>Low timestamp resolution of JavaScript is compensated by random\n  numbers.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Here is a totally non-compliant but very performant implementation to generate an ASCII-safe GUID-like unique identifier.</p>\n\n<pre><code>function generateQuickGuid() {\n    return Math.random().toString(36).substring(2, 15) +\n        Math.random().toString(36).substring(2, 15);\n}\n</code></pre>\n\n<p>Generates 26 [a-z0-9] characters, yielding a UID that is both shorter and more unique than RFC compliant GUIDs. Dashes can be trivially added if human-readability matters.</p>\n\n<p>Here are usage examples and timings for this function and several of this question's other answers. The timing was performed under Chrome m25, 10 million iterations each.</p>\n\n<pre><code>&gt;&gt;&gt; generateQuickGuid()\n\"nvcjf1hs7tf8yyk4lmlijqkuo9\"\n\"yq6gipxqta4kui8z05tgh9qeel\"\n\"36dh5sec7zdj90sk2rx7pjswi2\"\nruntime: 32.5s\n\n&gt;&gt;&gt; GUID() // John Millikin\n\"7a342ca2-e79f-528e-6302-8f901b0b6888\"\nruntime: 57.8s\n\n&gt;&gt;&gt; regexGuid() // broofa\n\"396e0c46-09e4-4b19-97db-bd423774a4b3\"\nruntime: 91.2s\n\n&gt;&gt;&gt; createUUID() // Kevin Hakanson\n\"403aa1ab-9f70-44ec-bc08-5d5ac56bd8a5\"\nruntime: 65.9s\n\n&gt;&gt;&gt; UUIDv4() // Jed Schmidt\n\"f4d7d31f-fa83-431a-b30c-3e6cc37cc6ee\"\nruntime: 282.4s\n\n&gt;&gt;&gt; Math.uuid() // broofa\n\"5BD52F55-E68F-40FC-93C2-90EE069CE545\"\nruntime: 225.8s\n\n&gt;&gt;&gt; Math.uuidFast() // broofa\n\"6CB97A68-23A2-473E-B75B-11263781BBE6\"\nruntime: 92.0s\n\n&gt;&gt;&gt; Math.uuidCompact() // broofa\n\"3d7b7a06-0a67-4b67-825c-e5c43ff8c1e8\"\nruntime: 229.0s\n\n&gt;&gt;&gt; bitwiseGUID() // jablko\n\"baeaa2f-7587-4ff1-af23-eeab3e92\"\nruntime: 79.6s\n\n&gt;&gt;&gt;&gt; betterWayGUID() // Andrea Turri\n\"383585b0-9753-498d-99c3-416582e9662c\"\nruntime: 60.0s\n\n&gt;&gt;&gt;&gt; UUID() // John Fowler\n\"855f997b-4369-4cdb-b7c9-7142ceaf39e8\"\nruntime: 62.2s\n</code></pre>\n\n<p>Here is the timing code.</p>\n\n<pre><code>var r;\nconsole.time('t'); \nfor (var i = 0; i &lt; 10000000; i++) { \n    r = FuncToTest(); \n};\nconsole.timeEnd('t');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>For those wanting an rfc4122 version 4 compliant solution with speed considerations (few calls to Math.random()):</p>\n\n<pre><code>function UUID() {\n    var nbr, randStr = \"\";\n    do {\n        randStr += (nbr = Math.random()).toString(16).substr(2);\n    } while (randStr.length &lt; 30);\n    return [\n        randStr.substr(0, 8), \"-\",\n        randStr.substr(8, 4), \"-4\",\n        randStr.substr(12, 3), \"-\",\n        ((nbr*4|0)+8).toString(16), // [89ab]\n        randStr.substr(15, 3), \"-\",\n        randStr.substr(18, 12)\n        ].join(\"\");\n}\n</code></pre>\n\n<p>The above function should have a decent balance between speed and randomness.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Simple JavaScript module as a combination of best answers in this thread.</p>\n\n<pre><code>var Guid = Guid || (function () {\n\nvar EMPTY = '00000000-0000-0000-0000-000000000000';\n\nvar _padLeft = function (paddingString, width, replacementChar) {\n    return paddingString.length &gt;= width ? paddingString : _padLeft(replacementChar + paddingString, width, replacementChar || ' ');\n};\n\nvar _s4 = function (number) {\n    var hexadecimalResult = number.toString(16);\n    return _padLeft(hexadecimalResult, 4, '0');\n};\n\nvar _cryptoGuid = function () {\n    var buffer = new window.Uint16Array(8);\n    window.crypto.getRandomValues(buffer);\n    return [_s4(buffer[0]) + _s4(buffer[1]), _s4(buffer[2]), _s4(buffer[3]), _s4(buffer[4]), _s4(buffer[5]) + _s4(buffer[6]) + _s4(buffer[7])].join('-');\n};\n\nvar _guid = function () {\n    var currentDateMilliseconds = new Date().getTime();\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (currentChar) {\n        var randomChar = (currentDateMilliseconds + Math.random() * 16) % 16 | 0;\n        currentDateMilliseconds = Math.floor(currentDateMilliseconds / 16);\n        return (currentChar === 'x' ? randomChar : (randomChar &amp; 0x7 | 0x8)).toString(16);\n    });\n};\n\nvar create = function () {\n    var hasCrypto = typeof (window.crypto) != 'undefined',\n        hasRandomValues = typeof (window.crypto.getRandomValues) != 'undefined';\n    return (hasCrypto &amp;&amp; hasRandomValues) ? _cryptoGuid() : _guid();\n};\n\nreturn {\n    newGuid: create,\n    empty: EMPTY\n};})();\n</code></pre>\n\n<p>Usage: </p>\n\n<blockquote>\n  <blockquote>\n    <p><strong>Guid.newGuid()</strong></p>\n    \n    <p>\"c6c2d12f-d76b-5739-e551-07e6de5b0807\"</p>\n    \n    <p><strong>Guid.empty</strong></p>\n    \n    <p>\"00000000-0000-0000-0000-000000000000\"</p>\n  </blockquote>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Fastest GUID generator method in the format <code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code>.</p>\n\n<p>Ten million executions of this implementation takes just 32.5 seconds, which is the fastest i've ever seen in a browser (the only solution without loops/iterations).</p>\n\n<p>The function is as simple as:</p>\n\n<pre><code>/**\n * Generates a GUID string.\n * @returns {String} The generated GUID.\n * @example af8a8416-6e18-a307-bd9c-f2c947bbb3aa\n * @author Slavik Meltser (slavik@meltser.info).\n * @link http://slavik.meltser.info/?p=142\n */\nfunction guid() {\n    function _p8(s) {\n        var p = (Math.random().toString(16)+\"000000000\").substr(2,8);\n        return s ? \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) : p ;\n    }\n    return _p8() + _p8(true) + _p8(true) + _p8();\n}\n</code></pre>\n\n<p>To test the performance, you can run this code:</p>\n\n<pre><code>console.time('t'); \nfor (var i = 0; i &lt; 10000000; i++) { \n    guid(); \n};\nconsole.timeEnd('t');\n</code></pre>\n\n<p>I'm sure most of you will understand what I did there, but maybe there is at least one person that will need an explanation:</p>\n\n<p><strong>The algorithm:</strong></p>\n\n<ul>\n<li>The <code>Math.random()</code> function returns a decimal number between 0 and 1 with 16 digits after the decimal fraction point (for\nexample <code>0.4363923368509859</code>).</li>\n<li>Then we take this number and convert\nit to a string with base 16 (from the example above we'll get\n<code>0.6fb7687f</code>).<br>\n<code>Math.random().toString(16)</code>.</li>\n<li>Then we cut off the <code>0.</code> prefix (<code>0.6fb7687f</code> =>\n<code>6fb7687f</code>) and get a string with eight hexadecimal\ncharacters long.<br>\n<code>(Math.random().toString(16).substr(2,8)</code>.</li>\n<li>Sometimes the <code>Math.random()</code> function will return\nshorter number (for example <code>0.4363</code>), due to zeros at the end (from the example above, actually the number is <code>0.4363000000000000</code>). That's why i'm appending to this string <code>\"000000000\"</code> (a string with nine zeros) and then cutting it off with <code>substr()</code> function to make it nine characters exactly (filling zeros to the right).</li>\n<li>The reason of adding exactly nine zeros is because of the worse case scenario, which is when the <code>Math.random()</code> function will return exactly 0 or 1 (probability of 1/10^16 for each one of them). That's why we needed to add nine zeros to it (<code>\"0\"+\"000000000\"</code> or <code>\"1\"+\"000000000\"</code>), and then cutting it off from the second index (3rd character) with a length of eight characters. For the rest of the cases, the addition of zeros will not harm the result because it is cutting it off anyway.<br>\n<code>Math.random().toString(16)+\"000000000\").substr(2,8)</code>.</li>\n</ul>\n\n<p><strong>The assembly:</strong></p>\n\n<ul>\n<li>The GUID is in the following format <code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code>.</li>\n<li>I divided the GUID into 4 pieces, each piece divided into 2 types (or formats): <code>XXXXXXXX</code> and <code>-XXXX-XXXX</code>.</li>\n<li>Now I'm building the GUID using these 2 types to assemble the GUID with call 4 pieces, as follows: <code>XXXXXXXX</code> <code>-XXXX-XXXX</code> <code>-XXXX-XXXX</code> <code>XXXXXXXX</code>.</li>\n<li>To differ between these two types, I added a flag parameter to a pair creator function <code>_p8(s)</code>, the <code>s</code> parameter tells the function whether to add dashes or not.</li>\n<li>Eventually we build the GUID with the following chaining: <code>_p8() + _p8(true) + _p8(true) + _p8()</code>, and return it.</li>\n</ul>\n\n<p><a href=\"http://slavik.meltser.info/the-efficient-way-to-create-guid-uuid-in-javascript/\">Link to this post on my blog</a></p>\n\n<p><strong>Enjoy! :-)</strong></p>\n",
                    "is_accepted": false,
                    "score": 51
                },
                {
                    "body": "<p>I know, it is an old question. Just for completeness, if your environment is SharePoint, there is a utility function called <code>SP.Guid.newGuid</code> (<a href=\"http://msdn.microsoft.com/en-us/library/ee659495%28v=office.14%29.aspx\">msdn link</a>) which creates a new guid. This function is inside the sp.init.js file. If you rewrite this function (to remove some other dependencies from other private functions), it looks like this:</p>\n\n<pre><code>var newGuid = function () {\n    var result = '';\n    var hexcodes = \"0123456789abcdef\".split(\"\");\n\n    for (var index = 0; index &lt; 32; index++) {\n        var value = Math.floor(Math.random() * 16);\n\n        switch (index) {\n        case 8:\n            result += '-';\n            break;\n        case 12:\n            value = 4;\n            result += '-';\n            break;\n        case 16:\n            value = value &amp; 3 | 8;\n            result += '-';\n            break;\n        case 20:\n            result += '-';\n            break;\n        }\n        result += hexcodes[value];\n    }\n    return result;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It is important that to use well tested code that is maintained by more than 1 contributors instead of whipping your own stuff for this. This is one of the places where you probably want to prefer most stable code than shortest possible clever version that works in X browser but doesn't take in to account idiosyncrasies of Y which would often lead to very hard to investigate bugs than manifests only randomly for some users. Personally I use uuid-js at <a href=\"https://github.com/aurigadl/uuid-js\" rel=\"nofollow\">https://github.com/aurigadl/uuid-js</a> which bower enabled so I can take updates easily.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Weird that no one has mentioned this yet but for completeness, there's a plethora of <a href=\"https://npmjs.org/search?q=guid\" rel=\"nofollow\">guid generators on npm</a> I'm willing to bet most of them work in browser too.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>broofa's answer is pretty slick, indeed - impressively clever, really...  rfc4122 compliant, somewhat readable, and compact.  Awesome!</p>\n\n<p>But if you're looking at that regular expression, those many <code>replace()</code> callbacks, <code>toString()</code>'s and <code>Math.random()</code> function calls (where he's only using 4 bits of the result and wasting the rest), you may start to wonder about performance.  Indeed, joelpt even decided to toss out rfc for generic GUID speed with <code>generateQuickGUID</code>.</p>\n\n<p><strong>But, can we get speed <em>and</em> rfc compliance?  I say, YES!</strong>  Can we maintain readability?  Well...  Not really, but it's easy if you follow along.</p>\n\n<p>But first, my results, compared to broofa, <code>guid</code> (the accepted answer), and the non-rfc-compliant <code>generateQuickGuid</code>:</p>\n\n<pre><code>                  Desktop   Android\n           broofa: 1617ms   12869ms\n               e1:  636ms    5778ms\n               e2:  606ms    4754ms\n               e3:  364ms    3003ms\n               e4:  329ms    2015ms\n               e5:  147ms    1156ms\n               e6:  146ms    1035ms\n               e7:  105ms     726ms\n             guid:  962ms   10762ms\ngenerateQuickGuid:  292ms    2961ms\n  - Note that results will vary by browser/cpu.\n</code></pre>\n\n<p>So by my 6th iteration of optimizations, I beat the most popular answer by over <strong>12X</strong>, the accepted answer by over <strong>9X</strong>, and the fast-non-compliant answer by <strong>2-3X</strong>.  And I'm still rfc4122 compliant.</p>\n\n<p>Interested in how?  I've put the full source on <a href=\"http://jsfiddle.net/jcward/7hyaC/3/\">http://jsfiddle.net/jcward/7hyaC/3/</a> and on <a href=\"http://jsperf.com/uuid-generator-opt/4\">http://jsperf.com/uuid-generator-opt/4</a></p>\n\n<p>For an explanation, let's start with broofa's code:</p>\n\n<pre><code>'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n  var r = Math.random()*16|0, v = c == 'x' ? r : (r&amp;0x3|0x8);\n  return v.toString(16);\n});\n</code></pre>\n\n<p>So it replaces <code>x</code> with any random hex digit, <code>y</code> with random data (except forcing the top 2 bits to <code>10</code> per the rfc spec), and the regex doesn't match the <code>-</code> or <code>4</code> characters, so he doesn't have to deal with them.  Very, very slick.</p>\n\n<p>The first thing to know is that function calls are expensive, as are regular expressions (though he only uses 1, but it has 32 callbacks, one for each match, and in each of the 32 callbacks it calls Math.random() and v.toString(16)).</p>\n\n<p>The first step toward performance is to eliminate the RegEx and its callback functions, and use a simple loop instead.  This means we have to deal with the <code>-</code> and <code>4</code> characters whereas broofa did not.  Also note that we can use String Array indexing to keep his slick String template architecture:</p>\n\n<pre><code>function e1() {\n  var u='',i=0;\n  while(i++&lt;36) {\n    var c='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'[i-1],r=Math.random()*16|0,v=c=='x'?r:(r&amp;0x3|0x8);\n    u+=(c=='-'||c=='4')?c:v.toString(16)\n  }\n  return u;\n}\n</code></pre>\n\n<p>Basically the same inner logic, except we check for <code>-</code> or <code>4</code>, and the loop structure (instead of replace callbacks) gets us an almost 3X improvement!</p>\n\n<p>The next step is a small one on desktop, but makes a decent difference on mobile.  Lets make fewer Math.random() calls and utilize all those random bits instead of throwing 87% of them away with a random buffer that gets shifted out each iteration.  Let's also move that template definition out of the loop, just in case it helps:</p>\n\n<pre><code>function e2() {\n  var u='',m='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx',i=0,rb=Math.random()*0xffffffff|0;\n  while(i++&lt;36) {\n    var c=m[i-1],r=rb&amp;0xf,v=c=='x'?r:(r&amp;0x3|0x8);\n    u+=(c=='-'||c=='4')?c:v.toString(16);rb=i%8==0?Math.random()*0xffffffff|0:rb&gt;&gt;4\n  }\n  return u\n}\n</code></pre>\n\n<p>This saves us 10-30% depending on platform.  Not bad.  But the next big step gets rid of the toString function calls altogether with an optimization classic - the look-up table.  A simple 16-element lookup table will perform the job of toString(16) in much less time:</p>\n\n<pre><code>function e3() {\n  var h='0123456789abcdef';\n  var k='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n  /* same as e4() below */\n}\nfunction e4() {\n  var h=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];\n  var k=['x','x','x','x','x','x','x','x','-','x','x','x','x','-','4','x','x','x','-','y','x','x','x','-','x','x','x','x','x','x','x','x','x','x','x','x'];\n  var u='',i=0,rb=Math.random()*0xffffffff|0;\n  while(i++&lt;36) {\n    var c=k[i-1],r=rb&amp;0xf,v=c=='x'?r:(r&amp;0x3|0x8);\n    u+=(c=='-'||c=='4')?c:h[v];rb=i%8==0?Math.random()*0xffffffff|0:rb&gt;&gt;4\n  }\n  return u\n}\n</code></pre>\n\n<p>The next optimization is another classic.  Since we're only handling 4-bits of output in each loop iteration, let's cut the number of loops in half and process 8-bits each iteration.  This is tricky since we still have to handle the rfc compliant bit positions, but it's not too hard.  We then have to make a larger lookup table (16x16, or 256) to store 0x00 - 0xff, and we build it only once, outside the e5() function.</p>\n\n<pre><code>var lut = []; for (var i=0; i&lt;256; i++) { lut[i] = (i&lt;16?'0':'')+(i).toString(16); }\nfunction e5() {\n  var k=['x','x','x','x','-','x','x','-','4','x','-','y','x','-','x','x','x','x','x','x'];\n  var u='',i=0,rb=Math.random()*0xffffffff|0;\n  while(i++&lt;20) {\n    var c=k[i-1],r=rb&amp;0xff,v=c=='x'?r:(c=='y'?(r&amp;0x3f|0x80):(r&amp;0xf|0x40));\n    u+=(c=='-')?c:lut[v];rb=i%4==0?Math.random()*0xffffffff|0:rb&gt;&gt;8\n  }\n  return u\n}\n</code></pre>\n\n<p>I tried an e6() that processes 16-bits at a time, still using the 256-element LUT, and it showed the diminishing returns of optimization.  Though it had fewer iterations, the inner logic was complicated by the increased processing, and it performed the same on desktop, and only ~10% faster on mobile.</p>\n\n<p>The final optimization technique to apply - unroll the loop.  Since we're looping a fixed number of times, we can technically write this all out by hand.  I tried this once with a single random variable r that I kept re-assigning, and performance tanked.  But with four variables assigned random data up front, then using the lookup table, and applying the proper rfc bits, this version smokes them all:</p>\n\n<pre><code>var lut = []; for (var i=0; i&lt;256; i++) { lut[i] = (i&lt;16?'0':'')+(i).toString(16); }\nfunction e7()\n{\n  var d0 = Math.random()*0xffffffff|0;\n  var d1 = Math.random()*0xffffffff|0;\n  var d2 = Math.random()*0xffffffff|0;\n  var d3 = Math.random()*0xffffffff|0;\n  return lut[d0&amp;0xff]+lut[d0&gt;&gt;8&amp;0xff]+lut[d0&gt;&gt;16&amp;0xff]+lut[d0&gt;&gt;24&amp;0xff]+'-'+\n    lut[d1&amp;0xff]+lut[d1&gt;&gt;8&amp;0xff]+'-'+lut[d1&gt;&gt;16&amp;0x0f|0x40]+lut[d1&gt;&gt;24&amp;0xff]+'-'+\n    lut[d2&amp;0x3f|0x80]+lut[d2&gt;&gt;8&amp;0xff]+'-'+lut[d2&gt;&gt;16&amp;0xff]+lut[d2&gt;&gt;24&amp;0xff]+\n    lut[d3&amp;0xff]+lut[d3&gt;&gt;8&amp;0xff]+lut[d3&gt;&gt;16&amp;0xff]+lut[d3&gt;&gt;24&amp;0xff];\n}\n</code></pre>\n\n<p>Modualized:  <a href=\"http://jcward.com/UUID.js\">http://jcward.com/UUID.js</a> - <code>UUID.generate()</code></p>\n\n<p>The funny thing is, generating 16 bytes of random data is the easy part.  The whole trick is expressing it in String format with RFC compliance, and it's most tightly accomplished with 16 bytes of random data, an unrolled loop and lookup table.</p>\n\n<p>I hope my logic is correct -- it's very easy to make a mistake in this kind of tedious bit-work.  But the outputs look good to me.  I hope you enjoyed this mad ride through code optimization!</p>\n\n<p><strong>Be advised:</strong> my primary goal was to show and teach potential optimization strategies.  Other answers cover important topics such as collisions and truly random numbers, which are important for generating good UUIDs.</p>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>This one is based on date, and add a random suffix to \"ensure\" uniqueness.\nWorks well for css identifiers.\nIt always returns something like and is easy to hack:</p>\n\n<p>uid-139410573297741</p>\n\n<pre><code>var getUniqueId = function (prefix) {\n            var d = new Date().getTime();\n            d += (parseInt(Math.random() * 100)).toString();\n            if (undefined === prefix) {\n                prefix = 'uid-';\n            }\n            d = prefix + d;\n            return d;\n        };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I'm using this below function, hope it may be useful.</p>\n\n<pre><code>    function NewGuid()\n         {\n           var sGuid=\"\";\n           for (var i=0; i&lt;32; i++)\n            {\n              sGuid+=Math.floor(Math.random()*0xF).toString(0xF);\n            }\n           return sGuid;\n         }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For my use-case, I required id generation that was guaranteed to be unique globally; without exception. I struggled with the problem for a while, and came up with a solution called tuid (Truly Unique ID). It generates an id with the first 32 characters being system-generated and the remaining digits representing milliseconds since epoch. In situations where I need to generate id's on client-side javascript, it works well. Have a look:</p>\n\n<p><a href=\"https://github.com/mongoh/tuid\" rel=\"nofollow\">https://github.com/mongoh/tuid</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Well, this has a bunch of answers already, but unfortunately there's not a \"true\" random in the bunch. The version below is an adaptation of broofa's answer, but updated to include a \"true\" random function that uses crypto libraries where available, and the Alea() function as a fallback.</p>\n\n<pre><code>Math.trueRandom = (function() {\n    if (window.crypto &amp;&amp; crypto.getRandomValues) {\n        // if we have a crypto library, use it\n        var random = function(min, max) {\n            var rval = 0;\n            var range = max - min;\n\n            var bits_needed = Math.ceil(Math.log2(range));\n            if (bits_needed &gt; 53) {\n                throw new Exception(\"We cannot generate numbers larger than 53 bits.\");\n            }\n            var bytes_needed = Math.ceil(bits_needed / 8);\n            var mask = Math.pow(2, bits_needed) - 1;\n            // 7776 -&gt; (2^13 = 8192) -1 == 8191 or 0x00001111 11111111\n\n            // Create byte array and fill with N random numbers\n            var byteArray = new Uint8Array(bytes_needed);\n            window.crypto.getRandomValues(byteArray);\n\n            var p = (bytes_needed - 1) * 8;\n            for (var i = 0; i &lt; bytes_needed; i++) {\n                rval += byteArray[i] * Math.pow(2, p);\n                p -= 8;\n            }\n\n            // Use &amp; to apply the mask and reduce the number of recursive lookups\n            rval = rval &amp; mask;\n\n            if (rval &gt;= range) {\n                // Integer out of acceptable range\n                return random(min, max);\n            }\n            // Return an integer that falls within the range\n            return min + rval;\n        }\n        return function() {\n            return random(0, 1000000000) / 1000000000;\n        };\n    } else {\n        // From http://baagoe.com/en/RandomMusings/javascript/\n        // Johannes Baag\u00c3\u00b8e &lt;baagoe@baagoe.com&gt;, 2010\n        function Mash() {\n            var n = 0xefc8249d;\n\n            var mash = function(data) {\n                data = data.toString();\n                for (var i = 0; i &lt; data.length; i++) {\n                    n += data.charCodeAt(i);\n                    var h = 0.02519603282416938 * n;\n                    n = h &gt;&gt;&gt; 0;\n                    h -= n;\n                    h *= n;\n                    n = h &gt;&gt;&gt; 0;\n                    h -= n;\n                    n += h * 0x100000000; // 2^32\n                }\n                return (n &gt;&gt;&gt; 0) * 2.3283064365386963e-10; // 2^-32\n            };\n\n            mash.version = 'Mash 0.9';\n            return mash;\n        }\n\n        // From http://baagoe.com/en/RandomMusings/javascript/\n        function Alea() {\n            return (function(args) {\n                // Johannes Baag\u00c3\u00b8e &lt;baagoe@baagoe.com&gt;, 2010\n                var s0 = 0;\n                var s1 = 0;\n                var s2 = 0;\n                var c = 1;\n\n                if (args.length == 0) {\n                    args = [+new Date()];\n                }\n                var mash = Mash();\n                s0 = mash(' ');\n                s1 = mash(' ');\n                s2 = mash(' ');\n\n                for (var i = 0; i &lt; args.length; i++) {\n                    s0 -= mash(args[i]);\n                    if (s0 &lt; 0) {\n                        s0 += 1;\n                    }\n                    s1 -= mash(args[i]);\n                    if (s1 &lt; 0) {\n                        s1 += 1;\n                    }\n                    s2 -= mash(args[i]);\n                    if (s2 &lt; 0) {\n                        s2 += 1;\n                    }\n                }\n                mash = null;\n\n                var random = function() {\n                    var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n                    s0 = s1;\n                    s1 = s2;\n                    return s2 = t - (c = t | 0);\n                };\n                random.uint32 = function() {\n                    return random() * 0x100000000; // 2^32\n                };\n                random.fract53 = function() {\n                    return random() +\n                        (random() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n                };\n                random.version = 'Alea 0.9';\n                random.args = args;\n                return random;\n\n            }(Array.prototype.slice.call(arguments)));\n        };\n        return Alea();\n    }\n}());\n\nMath.guid = function() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.trueRandom() * 16 | 0,\n            v = c == 'x' ? r : (r &amp; 0x3 | 0x8);\n        return v.toString(16);\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I wanted to understand broofa's answer, so I expanded it and added comments:</p>\n\n<pre><code>var uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n        /[xy]/g,\n        function (match) {\n            /*\n            * Create a random nibble. The two clever bits of this code:\n            *\n            * - Bitwise operations will truncate floating point numbers\n            * - For a bitwise OR of any x, x | 0 = x\n            *\n            * So:\n            *\n            * Math.random * 16\n            *\n            * creates a random floating point number\n            * between 0 (inclusive) and 16 (exclusive) and\n            *\n            * | 0\n            *\n            * truncates the floating point number into an integer.\n            */\n            var randomNibble = Math.random() * 16 | 0;\n\n            /*\n            * Resolves the variant field. If the variant field (delineated\n            * as y in the initial string) is matched, the nibble must\n            * match the mask (where x is a do-not-care bit):\n            *\n            * 10xx\n            *\n            * This is achieved by performing (where x is an intermediate\n            * result):\n            *\n            * - x &amp; 0x3, which is equivalent to x % 3\n            * - x | 0x8, which is equivalent to x + 8\n            *\n            * This results in a number between 8 and 11, exclusive, all which\n            * satisfy the variant field mask in binary.\n            */\n            var nibble = (match == 'y') ?\n                (randomNibble &amp; 0x3 | 0x8) :\n                randomNibble;\n\n            return nibble.toString(16);\n        }\n    );\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to create globally-unique identifiers in JavaScript.  I'm not sure what routines are available on all browsers, how \"random\" and seeded the built-in random number generator is, etc..</p>\n\n<p>The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.</p>\n",
            "last_activity_date": 1425777091,
            "question_id": 105034,
            "score": 1380,
            "tags": [
                "javascript",
                "guid",
                "uuid"
            ],
            "title": "Create GUID / UUID in JavaScript?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>It\u2019s an <a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/\">Immediately-Invoked Function Expression</a>, or shorter: <a href=\"https://en.wikipedia.org/wiki/Immediately-invoked_function_expression\"><strong>IIFE</strong></a>. It executes immediately after it\u2019s created.</p>\n\n<p>It has nothing to do with any event-handler for any events (such as <code>document.onload</code>).<br>\nThe first pair of parentheses (<code>(function(){/*...*/})</code>) makes the function an expression and the second (<code>(function(){/<em>...</em>/})<b>()</b></code>) calls the function that results from that evaluated expression.</p>\n\n<p>This pattern is often used when trying to avoid polluting the global namespace, because all the variables used in the function are not visible outside its scope.<br>\nThis is why, maybe, you confused this construction with an event-handler for <code>window.onload</code>, because it\u2019s often used as this:  </p>\n\n<pre><code>(function(){\n    // all your code here\n    var foo = function() {};\n    window.onload = foo;\n    // ...\n})();\n// foo is unreachable here (it\u2019s undefined)\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 106
                },
                {
                    "body": "<p>That is saying execute immediately.</p>\n\n<p>so if I do:</p>\n\n<pre><code>var val = (function(){\n     var a = 0;  // in the scope of this function\n     return function(x){\n         a += x;\n         return a;\n     };\n})();\n\nalert(val(10)); //10\nalert(val(11)); //21\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/maniator/LqvpQ/\">http://jsfiddle.net/maniator/LqvpQ/</a></p>\n\n<hr>\n\n<h3>Second Example:</h3>\n\n<pre><code>var val = (function(){\n     return 13 + 5;\n})();\n\nalert(val); //18\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>It declares an anonymous function, then calls it:</p>\n\n<pre><code>(function () {\n   // anonymous function\n})(arguments);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>That is a <strong>self-invoking anonymous function</strong>.</p>\n\n<p>Check out the <a href=\"http://www.w3schools.com/js/js_function_definition.asp\" rel=\"nofollow\">W3C's explanation of a self-invoking function</a>.</p>\n\n<blockquote>\n  <p>Function expressions can be made \"self-invoking\".</p>\n  \n  <p>A self-invoking expression is invoked (started) automatically, without\n  being called.</p>\n  \n  <p>Function expressions will execute automatically if the expression is\n  followed by ().</p>\n  \n  <p>You cannot self-invoke a function declaration.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>No, this construct just creates a scope for naming. If you break it in parts you can see that you have an external</p>\n\n<pre><code>(...)();\n</code></pre>\n\n<p>That is a function invocation. Inside the parenthesis you have:</p>\n\n<pre><code>function() {}\n</code></pre>\n\n<p>That is an anonymous function. Everything that is declared with <strong>var</strong> inside the construct will be visible only inside the same construct and will not pollute the global namespace.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This an <a href=\"http://helephant.com/2008/08/23/javascript-anonymous-functions/\" rel=\"nofollow\">anonymous function</a> which is <a href=\"http://stackoverflow.com/questions/606897/self-invoking-functions\">self invoking</a>. Commonly known as an Immediatly invoked Function Expression (IIFE).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Self-executing anonymous function. It's executed as soon as it is created.</p>\n\n<p>One short and dummy example where this is useful is:</p>\n\n<pre><code>function prepareList(el){\n  var list = (function(){\n    var l = []; \n    for(var i = 0; i &lt; 9; i++){\n     l.push(i);\n    }\n    return l;\n  })();\n\n  return function (el){\n    for(var i = 0, l = list.length; i &lt; l; i++){\n      if(list[i] == el) return list[i];\n    }\n    return null;\n  }; \n} \n\nvar search = prepareList();\nsearch(2);\nsearch(3);\n</code></pre>\n\n<p>So instead of creating a list each time, you create it only once (less overhead).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's just an anonymous function that is executed right after it's created.</p>\n\n<p>It's just as if you assigned it to a variable, and used it right after, only without the variable:</p>\n\n<pre><code>var f = function () {\n};\nf();\n</code></pre>\n\n<p>In jQuery there is a similar construct that you might be thinking of:</p>\n\n<pre><code>$(function(){\n});\n</code></pre>\n\n<p>That is the short form of binding the <code>ready</code> event:</p>\n\n<pre><code>$(document).ready(function(){\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Self executing functions are typically used to encapsulate context and avoid name collusions. Any variable that you define inside the (function(){..})() are not global.</p>\n\n<p>The following code:</p>\n\n<pre><code>var same_name = 1;\n\nvar myVar = (function() {\n    var same_name = 2;\n    console.log(same_name);\n})();\n\nconsole.log(same_name);\n</code></pre>\n\n<p>produces this output:</p>\n\n<pre><code>1\n2\n</code></pre>\n\n<p>By using this syntax you avoid colliding with global variables declared elsewhere in you javascript code.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Immediately-invoked Function Expression(IIFE\uff0cImmediately call a function)\uff0cThis simply means that the function is executed immediately after the completion of the definition.</p>\n\n<p>Three more common wording</p>\n\n<pre><code>// Crockford's preference - parens on the inside\n(function() {\n  console.log('Welcome to the Internet. Please follow me.');\n}());\n\n(function() {\n  console.log('Welcome to the Internet. Please follow me.');\n})();\n\n!function() {\n  console.log('Welcome to the Internet. Please follow me.');\n}();\n</code></pre>\n\n<p>If no special requirements for its return value, then we can write:</p>\n\n<pre><code>!function(){}();  // =&gt; true\n~function(){}(); // =&gt; -1\n+function(){}(); // =&gt; NaN\n-function(){}();  // =&gt; NaN\n</code></pre>\n\n<p>Alternatively, it can be:</p>\n\n<pre><code>~(function(){})();\nvoid function(){}();\ntrue &amp;&amp; function(){ /* code */ }();\n15.0, function(){ /* code */ }();\n</code></pre>\n\n<p>Even, you can also write:</p>\n\n<pre><code>new function(){ /* code */ }\n31.new function(){ /* code */ }() //If no parameters, the last () is not required\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I used to know what this meant but im struggling now...</p>\n\n<p>Is this basically saying <code>document.onload</code>?</p>\n\n<pre><code>(function () {\n\n})();\n</code></pre>\n",
            "last_activity_date": 1422860144,
            "question_id": 8228281,
            "score": 84,
            "tags": [
                "javascript",
                "iife"
            ],
            "title": "What is the (function() { } )() construct in javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This is happening because you're adding the input element <em>after</em> you wired up the event.  Try <a href=\"http://api.jquery.com/on/\" rel=\"nofollow\">.on</a>:</p>\n\n<pre><code>$('body').on('keyup', 'input', function() {\n    handler = $(this).val();\n    name = $(this).attr('name');\n});\n</code></pre>\n\n<p>Using <code>.on</code> will make sure the <code>keyup</code> event is wired up to inputs that are on the page originally, as well as any that are added later dynamically.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>When you dynamically change the DOM, jQuery won't attach event handlers to them.  You need to use <a href=\"http://api.jquery.com/on/\" rel=\"nofollow\">on() and delegated events</a></p>\n\n<p>For your input items, you'll need something like:</p>\n\n<pre><code>$(\"&lt;parentSelector&gt;\").on(\"keyup\", \"input\", function() { \n    handler = $(this).val();\n    name = $(this).attr('name');\n})\n</code></pre>\n\n<p>Where the parentSelector is something higher in the DOM than the input element, and an element that exists at page load, maybe the form ID or something.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Function binds are made \u200b\u200bin page load. To work on elements created dynamically using the function live (). Example:</p>\n\n<pre><code>$ (\"p\"). live (\"click\", function () {\n    // Your function\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You need to <a href=\"http://api.jquery.com/on#direct-and-delegated-events\">delegate the event</a> to the closest static ancestor element within the page (see also <a href=\"http://learn.jquery.com/events/event-delegation/\">\"Understanding Event Delegation\"</a>). This simply means, the element where you bind your event handler must <em>already exist</em> at the time the handler is bound, so for dynamically generated elements you must allow the event to bubble up and handle it further up.</p>\n\n<p>The jQuery <a href=\"http://api.jquery.com/on\"><code>.on</code></a> method is the way to do this (or <a href=\"http://api.jquery.com/delegate\"><code>.delegate</code></a> for older versions of jQuery.)</p>\n\n<pre><code>// If version 1.7 or above\n\n$('#modal').on('keyup', 'input', function() {\n    handler = $(this).val();\n    name = $(this).attr('name');\n});\n</code></pre>\n\n<p>Or in older versions</p>\n\n<pre><code>// If version 1.6 or below\n\n// note the selector and event are in a different order than above\n$('#modal').delegate('input', 'keyup', function()\n{\n    handler = $(this).val();\n    name = $(this).attr('name');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>I have a <code>&lt;div&gt;</code> with <code>id=\"modal\"</code> generated dynamically with the jQuery <code>load()</code> method:</p>\n\n<pre><code>$('#modal').load('handlers/word.edit.php');\n</code></pre>\n\n<p><code>word.edit.php</code> contains a few input element, which are loaded into a modal <code>&lt;div&gt;</code>.</p>\n\n<p>Using jQuery's <code>keyup</code> method I can capture the input values after an event fires, but\nwhen the elements are added dynamically to the modal div, the event no llonger fires when the user enters their text.</p>\n\n<p>Which jQuery method supports handling events triggered by dynamically created elements?</p>\n\n<p>The code for creating the new input elements is:</p>\n\n<pre><code>$('#add').click(function() {\n    $('&lt;input id=\"'+i+'\" type=\"text\" name=\"translations' + i + '\"  /&gt;')\n      .appendTo('#modal');\n</code></pre>\n\n<p>The code for capturing the user's values is:</p>\n\n<pre><code>$('input').keyup(function() {\n    handler = $(this).val();\n    name = $(this).attr('name');\n</code></pre>\n\n<p>This second code block seems to work for the original elements, but it is not fired by the new dynamically generated elements.</p>\n",
            "last_activity_date": 1408728636,
            "question_id": 12829963,
            "score": 23,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Events triggered by dynamically generated element are not captured by event handler"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>Works for me on Google Chrome v5.0.375.127 (I get the alert):</p>\n\n<pre><code>$.get('http://www.panoramio.com/wapi/data/get_photos?v=1&amp;key=dummykey&amp;tag=test&amp;offset=0&amp;length=20&amp;callback=?&amp;minx=-30&amp;miny=0&amp;maxx=0&amp;maxy=150',\nfunction(json) {\n    alert(json.photos[1].photoUrl);\n});\n</code></pre>\n\n<p>Also I would recommend you using the <a href=\"http://api.jquery.com/jQuery.getJSON/\"><code>$.getJSON()</code></a> method instead as the previous doesn't work on IE8 (at least on my machine):</p>\n\n<pre><code>$.getJSON('http://www.panoramio.com/wapi/data/get_photos?v=1&amp;key=dummykey&amp;tag=test&amp;offset=0&amp;length=20&amp;callback=?&amp;minx=-30&amp;miny=0&amp;maxx=0&amp;maxy=150', \nfunction(json) {\n    alert(json.photos[1].photoUrl);\n});\n</code></pre>\n\n<p>You may try it <a href=\"http://jsfiddle.net/ZfvKm/2/\">online from here</a>.</p>\n\n<hr>\n\n<p>UPDATE:</p>\n\n<p>Now that you have shown your code I can see the problem with it. You are having both an anonymous function and inline function but both will be called <code>processImages</code>. That's how jQuery's JSONP support works. Notice how I am defining the <code>callback=?</code> so that you can use an anonymous function. You may read more <a href=\"http://api.jquery.com/jQuery.getJSON/\">about it in the documentation</a>.</p>\n\n<p>Another remark is that you shouldn't call eval. The parameter passed to your anonymous function will already be parsed into JSON by jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>It's the <a href=\"https://developer.mozilla.org/En/Same_origin_policy_for_JavaScript\" rel=\"nofollow\">same origin policy</a>, you have to use a JSON-P interface or a proxy running on the same host.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>For the record, as far as I can tell, you had two problems:</p>\n\n<ol>\n<li><p>You weren't passing a \"jsonp\" type specifier to your <code>$.get</code>, so it was using an ordinary XMLHttpRequest. However, your browser supported CORS (Cross-Origin Resource Sharing) to allow cross-domain XMLHttpRequest if the server OKed it. That's where the <code>Access-Control-Allow-Origin</code> header came in.</p></li>\n<li><p>I believe you mentioned you were running it from a file:// URL. There are two ways for CORS headers to signal that a cross-domain XHR is OK. One is to send <code>Access-Control-Allow-Origin: *</code> (which, if you were reaching Flickr via <code>$.get</code>, they must have been doing) while the other was to echo back the contents of the <code>Origin</code> header. However, <code>file://</code> URLs produce a null <code>Origin</code> which can't be authorized via echo-back.</p></li>\n</ol>\n\n<p>The first was solved in a roundabout way by Darin's suggestion to use <code>$.getJSON</code>. It does a little magic to change the request type from its default of \"json\" to \"jsonp\" if it sees the substring <code>callback=?</code> in the URL.</p>\n\n<p>That solved the second by no longer trying to perform a CORS request from a <code>file://</code> URL.</p>\n\n<p>To clarify for other people, here are the simple troubleshooting instructions:</p>\n\n<ol>\n<li>If you're trying to use JSONP, make sure one of the following is the case:\n<ul>\n<li>You're using <code>$.get</code> and set <a href=\"http://api.jquery.com/jQuery.get/\"><code>dataType</code></a> to <code>jsonp</code>.</li>\n<li>You're using <code>$.getJSON</code> and included <code>callback=?</code> in the URL.</li>\n</ul></li>\n<li>If you're trying to do a cross-domain XMLHttpRequest via CORS...\n<ol>\n<li>Make sure you're testing via <code>http://</code>. Scripts running via <code>file://</code> have limited support for CORS.</li>\n<li>Make sure the browser <a href=\"http://caniuse.com/cors\">actually supports CORS</a>. (Opera and Internet Explorer are late to the party)</li>\n</ol></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 345
                },
                {
                    "body": "<p>You need to maybe add a HEADER in your called script, here is what I had to do in PHP:</p>\n\n<pre><code>header('Access-Control-Allow-Origin: *');\n</code></pre>\n\n<p>More details in <em><a href=\"http://blog.ebuildy.com/2011/02/11/cross-domain-ajax-ou-services-web.html\">Cross domain AJAX ou services WEB</a></em> (in French).</p>\n",
                    "is_accepted": false,
                    "score": 69
                },
                {
                    "body": "<p>As long as the requested server supports the JSON data format, use the JSONP (JSON Padding) interface. It allows you to make external domain requests without proxy servers or fancy header stuff.</p>\n\n<p>You can read more in <em><a href=\"http://usejquery.com/posts/9/the-jquery-cross-domain-ajax-guide\">The jQuery Cross-Domain Ajax Guide</a></em>.</p>\n\n<p>I've been getting the same error!</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>We managed it via the <code>http.conf</code> file (edited and then restarted the HTTP service):</p>\n\n<pre><code>&lt;Directory \"/home/the directory_where_your_serverside_pages_is\"&gt;\n    Header set Access-Control-Allow-Origin \"*\"\n    AllowOverride all\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>In the <code>Header set Access-Control-Allow-Origin \"*\"</code>, you can put a precise URL.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>In my case, same code worked fine on Firefox, but not on Google Chrome. Google Chrome's JavaScript console said:</p>\n\n<pre><code>XMLHttpRequest cannot load http://www.xyz.com/getZipInfo.php?zip=11234. \nOrigin http://xyz.com is not allowed by Access-Control-Allow-Origin.\nRefused to get unsafe header \"X-JSON\"\n</code></pre>\n\n<p>I had to drop the www part of the Ajax URL for it to match correctly with the origin URL and it worked fine then.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For a simple HTML project:</p>\n\n<pre><code>cd project\npython -m SimpleHTTPServer 8000\n</code></pre>\n\n<p>Then browse your file.</p>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>I use Apache server, so I've used mod_proxy module. Enable modules:</p>\n\n<pre><code>LoadModule proxy_module modules/mod_proxy.so\nLoadModule proxy_http_module modules/mod_proxy_http.so\n</code></pre>\n\n<p>Then add:</p>\n\n<pre><code>ProxyPass /your-proxy-url/ http://service-url:serviceport/\n</code></pre>\n\n<p>Finally, pass proxy-url to your script.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is a small problem in the solution posted here: <a href=\"http://stackoverflow.com/a/9604662/999400\">http://stackoverflow.com/a/9604662/999400</a>, where if you change a file, you'll have to restart the server to actually use the updated file (at least, in my case).</p>\n\n<p>So searching a bit, I found this one: <a href=\"https://github.com/andrewpthorp/simple-http-server\" rel=\"nofollow\">https://github.com/andrewpthorp/simple-http-server</a>. To use:</p>\n\n<pre><code>sudo npm -g install simple-http-server # to install\nnserver # to use\n</code></pre>\n\n<p>And then it will serve at <code>http://localhost:8000</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As final note the <a href=\"https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS?redirectlocale=en-US&amp;redirectslug=HTTP_access_control\" rel=\"nofollow\">Mozilla documentation explicitly says</a> that</p>\n\n<blockquote>\n  <p>The above example would fail if the header was wildcarded as: \n  <strong>Access-Control-Allow-Origin: *.</strong>   Since the Access-Control-Allow-Origin explicitly mentions <a href=\"http://foo.example\" rel=\"nofollow\">http://foo.example</a>,\n  the credential-cognizant content is returned to the invoking web\n  content.</p>\n</blockquote>\n\n<p>As consequence is a not simply a bad practice to use '*'. Simply does not work :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are doing local testing or calling the file from something like <code>file://</code> then you need to disable browser security.</p>\n\n<p>On MAC:\n<code>open -a Google\\ Chrome --args --disable-web-security</code></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I also got the same error in Chrome (I didn't test other browers). It was due to the fact that I was navigating on domain.com instead of www.domain.com. A bit strange, but I could solve the problem by adding the following lines to .htaccess. It redirects domain.com to www.domain.com and the problem was solved. I am a lazy web visitor so I almost never type the www but apparently in some cases it is required.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^domain\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.domain.com/$1 [R=301,L]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Not all servers support jsonp. It requires the server to set the callback function in it's results. I use this to get json responses from sites that return pure json but don't support jsonp:</p>\n\n<pre><code>function AjaxFeed(){\n\n    return $.ajax({\n        url:            'http://somesite.com/somejsonfile.php',\n        data:           {something: true},\n        dataType:       'jsonp',\n\n        /* Very important */\n        contentType:    'application/json',\n    });\n}\n\nfunction GetData()\n    AjaxFeed()\n\n    /* Everything worked okay. Hooray */\n    .done(function(data){\n        return data;\n    })\n\n    /* Okay jQuery is stupid manually fix things */\n    .fail(function(jqXHR) {\n\n        /* Build HTML and update */\n        var data = jQuery.parseJSON(jqXHR.responseText);\n\n        return data;\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Make sure you are using the latest version of JQuery. We were facing this error for JQuery 1.10.2 and the error got resolved after using JQuery 1.11.1</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Folks,</p>\n\n<p>I ran into a similar issue. But using Fiddler, I was able to get at the issue. The problem is that the client URL that is configured in the CORS implementation on the Web API side must not have a trailing forward-slash. After submitting your request via Google Chrome and inspect the <strong>TextView</strong> tab of the <strong>Headers</strong> section of Fiddler, the error message states something like this:</p>\n\n<p>*\"The specified policy origin your_client_url:/' is invalid. <strong>It cannot end with a forward slash.\"</strong></p>\n\n<p>This is real quirky because it worked without any issues on Internet Explorer, but gave me a headache when testing using Google Chrome. </p>\n\n<p>I removed the forward-slash in the CORS code and recompiled the Web API, and now the API is accessible via Chrome and Internet Explorer without any issues. Please give this a shot.</p>\n\n<p>Thanks,\nAndy</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm developing a page that pulls images from Flickr and Panoramio via jQuery's AJAX support.</p>\n\n<p>The Flickr side is working fine, but when I try to <code>$.get(url, callback)</code> from Panoramio, I see an error in Chrome's console:</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load <a href=\"http://www.panoramio.com/wapi/data/get_photos?v=1&amp;key=dummykey&amp;tag=test&amp;offset=0&amp;length=20&amp;callback=processImages&amp;minx=-30&amp;miny=0&amp;maxx=0&amp;maxy=150\">http://www.panoramio.com/wapi/data/get_photos?v=1&amp;key=dummykey&amp;tag=test&amp;offset=0&amp;length=20&amp;callback=processImages&amp;minx=-30&amp;miny=0&amp;maxx=0&amp;maxy=150</a>. Origin null is not allowed by Access-Control-Allow-Origin.</p>\n</blockquote>\n\n<p>If I query that URL from a browser directly it works fine.  What is going on, and can I get around this?  Am I composing my query incorrectly, or is this something that Panoramio does to hinder what I'm trying to do?</p>\n\n<p>Google didn't turn up any useful matches on the <a href=\"http://www.google.co.uk/search?q=%22Origin+null+is+not+allowed+by+Access-Control-Allow-Origin%22\">error message</a>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here's some sample code that shows the problem:</p>\n\n<pre><code>$().ready(function () {\n  var url = 'http://www.panoramio.com/wapi/data/get_photos?v=1&amp;key=dummykey&amp;tag=test&amp;offset=0&amp;length=20&amp;callback=processImages&amp;minx=-30&amp;miny=0&amp;maxx=0&amp;maxy=150';\n\n  $.get(url, function (jsonp) {\n    var processImages = function (data) {\n      alert('ok');\n    };\n\n    eval(jsonp);\n  });\n});\n</code></pre>\n\n<p>You can <a href=\"http://jsfiddle.net/ZfvKm/\">run the example online</a>.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>Thanks to Darin for his help with this.  <strong>THE ABOVE CODE IS WRONG.</strong>  Use this instead:</p>\n\n<pre><code>$().ready(function () {\n  var url = 'http://www.panoramio.com/wapi/data/get_photos?v=1&amp;key=dummykey&amp;tag=test&amp;offset=0&amp;length=20&amp;minx=-30&amp;miny=0&amp;maxx=0&amp;maxy=150&amp;callback=?';\n\n  $.get(url, function (data) {\n    // can use 'data' in here...\n  });\n});\n</code></pre>\n",
            "last_activity_date": 1412606460,
            "question_id": 3595515,
            "score": 391,
            "tags": [
                "javascript",
                "jquery",
                "xmlhttprequest",
                "jsonp",
                "same-origin-policy"
            ],
            "title": "XmlHttpRequest error: Origin null is not allowed by Access-Control-Allow-Origin"
        },
        {
            "answer_count": 27,
            "answers": [
                {
                    "body": "<p>If you are using JavaScript 1.6 or later (Firefox 1.5 or later) you can use <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/indexOf\" rel=\"nofollow\">Array.indexOf</a>.  Otherwise, I think you are going to end up with something similar to your original code.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Array/indexOf\"><code>indexOf</code></a> maybe, but it's a \"JavaScript extension to the ECMA-262 standard; as such it may not be present in other implementations of the standard.\"</p>\n\n<p>Example:</p>\n\n<pre><code>[1, 2, 3].indexOf(1) =&gt; 0\n[\"foo\", \"bar\", \"baz\"].indexOf(\"bar\") =&gt; 1\n[1, 2, 3].indexOf(4) =&gt; -1\n</code></pre>\n\n<p>AFAICS <a href=\"http://msdn.microsoft.com/en-us/library/k4h76zbx%5C%28VS.85%5C%29.aspx\">Microsoft does <em>not</em> offer some kind of alternative</a> to this, but you can add similar functionality to arrays in Internet Explorer (and other browsers that don't support <code>indexOf</code>) if you want to, as a <a href=\"http://google.com/search?q=indexof%20internet%20explorer\">quick Google search reveals</a> (for example, <a href=\"http://soledadpenades.com/2007/05/17/arrayindexof-in-internet-explorer/\">this one</a>).</p>\n",
                    "is_accepted": false,
                    "score": 46
                },
                {
                    "body": "<p><strong>Update: As @orip mentions in comments, the linked benchmark was done in 2008, so results may not be relevant for modern browsers. However, you probably need this to support non-modern browsers anyway and they probably haven't been updated since. Always test for yourself.</strong></p>\n\n<p>As others have said, the iteration through the array is probably the best way, but it <a href=\"http://blogs.oracle.com/greimer/entry/best_way_to_code_a\">has been proven</a> that a decreasing <code>while</code> loop is the fastest way to iterate in JavaScript. So you may want to rewrite your code as follows:</p>\n\n<pre><code>function contains(a, obj) {\n    var i = a.length;\n    while (i--) {\n       if (a[i] === obj) {\n           return true;\n       }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Of course, you may as well extend Array prototype:</p>\n\n<pre><code>Array.prototype.contains = function(obj) {\n    var i = this.length;\n    while (i--) {\n        if (this[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>And now you can simply use the following:</p>\n\n<pre><code>alert([1, 2, 3].contains(2)); // =&gt; true\nalert([1, 2, 3].contains('2')); // =&gt; false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 191
                },
                {
                    "body": "<p>Here's a <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/indexOf\">Javascript 1.6 compatible</a> implementation of Array.indexOf:</p>\n\n<pre><code>if (!Array.indexOf)\n{\n  Array.indexOf = [].indexOf ?\n      function (arr, obj, from) { return arr.indexOf(obj, from); }:\n      function (arr, obj, from) { // (for IE6)\n        var l = arr.length,\n            i = from ? parseInt( (1*from) + (from&lt;0 ? l:0), 10) : 0;\n        i = i&lt;0 ? 0 : i;\n        for (; i&lt;l; i++) {\n          if (i in arr  &amp;&amp;  arr[i] === obj) { return i; }\n        }\n        return -1;\n      };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>Extending the JavaScript <code>Array</code> object is a really bad idea because you introduce new properties (your custom methods) into <code>for-in</code> loops which can break existing scripts. A few years ago the authors of the <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\">Prototype</a> library had to re-engineer their library implementation to remove just this kind of thing.</p>\n\n<p>If you don't need to worry about compatibility with other JavaScript running on your page, go for it, otherwise, I'd recommend the more awkward, but safer free-standing function solution.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Here's how <a href=\"http://github.com/sstephenson/prototype/blob/f405b2c510e09b55d08c926a9e1a5c2e2d0a1834/src/lang/array.js#L286-302\" rel=\"nofollow\">Prototype does it</a>:</p>\n\n<pre><code>/**\n *  Array#indexOf(item[, offset = 0]) -&gt; Number\n *  - item (?): A value that may or may not be in the array.\n *  - offset (Number): The number of initial items to skip before beginning the\n *      search.\n *\n *  Returns the position of the first occurrence of `item` within the array &amp;mdash; or\n *  `-1` if `item` doesn't exist in the array.\n**/\nfunction indexOf(item, i) {\n  i || (i = 0);\n  var length = this.length;\n  if (i &lt; 0) i = length + i;\n  for (; i &lt; length; i++)\n    if (this[i] === item) return i;\n  return -1;\n}\n</code></pre>\n\n<p>Also see <a href=\"http://github.com/sstephenson/prototype/blob/f405b2c510e09b55d08c926a9e1a5c2e2d0a1834/src/lang/array.js#L364-365\" rel=\"nofollow\">here</a> for how they hook it up.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Modern browsers have <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\"><code>Array#indexOf</code></a>, which does exactly that; this is in the new(ish) ECMAScript 5th edition specification, but it has been in several browsers for years. Older browsers can be supported using the code listed in the \"compatibility\" section at the bottom of that page.</p>\n\n<p><a href=\"http://api.jquery.com/jquery.inarray/\">jQuery has a utility function</a> for this:</p>\n\n<pre><code>$.inArray(value, array)\n</code></pre>\n\n<p>It returns the index of a value in an array. It returns -1 if the array does not contain the value.</p>\n\n<p>jQuery has several useful <a href=\"http://docs.jquery.com/Utilities\">utility functions</a>. </p>\n\n<p>An excellent JavaScript utility library is <a href=\"http://documentcloud.github.com/underscore/\">underscore.js</a>:</p>\n\n<ul>\n<li><a href=\"http://documentcloud.github.com/underscore/#contains\"><code>_.contains(list, value)</code></a>, alias <code>_.include(list, value)</code> (underscore's contains/include  uses <a href=\"http://documentcloud.github.com/underscore/#indexOf\">indexOf</a> internally if passed a JavaScript array). </li>\n</ul>\n\n<p>Some other frameworks:</p>\n\n<ul>\n<li>Dojo Toolkit: <code>dojo.indexOf(array, value, [fromIndex, findLast])</code> <a href=\"http://dojotoolkit.org/reference-guide/dojo/indexOf.html\">documentation</a>. Dojo has a lot of utility functions, see <a href=\"http://api.dojotoolkit.org\">http://api.dojotoolkit.org</a>.</li>\n<li>Prototype: <code>array.indexOf(value)</code> <a href=\"http://api.prototypejs.org/language/Array/prototype/indexOf/\">documentation</a></li>\n<li>MooTools: <code>array.indexOf(value)</code> <a href=\"http://mootools.net/docs/core/Native/Array#Array:indexOf\">documentation</a></li>\n<li>MochiKit: <code>findValue(array, value)</code> <a href=\"http://mochi.github.io/mochikit/doc/html/MochiKit/Base.html#fn-findvalue\">documentation</a></li>\n<li>MS Ajax: <code>array.indexOf(value)</code> <a href=\"http://www.asp.net/ajaxlibrary/Reference.Array-indexOf-Function.ashx\">documentation</a></li>\n<li>Ext: <code>Ext.Array.indexOf(array, value, [from])</code> <a href=\"http://docs.sencha.com/ext-js/4-0/#/api/Ext.Array\">documentation</a></li>\n</ul>\n\n<p>Notice that some frameworks implement this as a function, while others add the function to the array prototype.</p>\n\n<h2>Languages that compile to JavaScript</h2>\n\n<p>In <a href=\"http://coffeescript.org/#try:a%20%3D%20[1%2C%202%2C%203%2C%204]%0Aalert%282%20in%20a%29\">CoffeeScript</a>, the <code>in</code> operator is the equivalent of <code>contains</code>:</p>\n\n<pre><code>a = [1, 2, 3, 4]\nalert(2 in a)\n</code></pre>\n\n<p><a href=\"http://www.dartlang.org/docs/dart-up-and-running/ch03.html#ch03-collections\">Dart</a>:</p>\n\n<pre><code>var mylist = [1, 2, 3];\nassert(mylist.contains(1));\nassert(mylist.indexOf(1) == 0);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2020
                },
                {
                    "body": "<p>Thinking out of the box for a second, if you are in making this call many many times, it is more efficient to use an associative array to do lookups using a hash function.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Just another option</p>\n\n<pre><code>// usage: if ( ['a','b','c','d'].contains('b') ) { ... }\nArray.prototype.contains = function(value){\n    for (var key in this)\n        if (this[key] === value) return true;\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>If you are checking repeatedly for existence of an object in an array you should maybe look into</p>\n\n<ol>\n<li>Keeping the array sorted at all times by doing <a href=\"http://en.wikipedia.org/wiki/Insertion_sort\" rel=\"nofollow\">insertion sort</a> in your array (put new objects in on the right place) </li>\n<li>Make updating objects as remove+sorted insert operation and</li>\n<li>Use a <a href=\"http://en.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow\">binary search</a> lookup in your <code>contains(a, obj)</code>.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Literally:</p>\n\n<p>(using Firefox v3.6, with <code>for-in</code> caveats as previously noted \n(HOWEVER the use below might endorse <code>for-in</code> for this very purpose! That is, enumerating array elements that ACTUALLY exist via a property index (HOWEVER, in particular, the array <code>length</code> property is NOT enumerated in the <code>for-in</code> property list!).).)</p>\n\n<p>(Drag &amp; drop the following complete URI's for immediate mode browser testing.)</p>\n\n<pre><code>javascript:\n\n  function ObjInRA(ra){var has=false; for(i in ra){has=true; break;} return has;}\n\n  function check(ra){\n      return ['There is ',ObjInRA(ra)?'an':'NO',' object in [',ra,'].'].join('')\n  }\n  alert([\n            check([{}]), check([]), check([,2,3]),\n            check(['']), '\\t (a null string)', check([,,,])\n        ].join('\\n'));\n</code></pre>\n\n<p>which displays:</p>\n\n<pre><code>There is an object in [[object Object]].\nThere is NO object in [].\nThere is an object in [,2,3].\nThere is an object in [].\n     (a null string)\nThere is NO object in [,,].\n</code></pre>\n\n<p>Wrinkles: if looking for a \"specific\" object consider:</p>\n\n<pre><code>javascript: alert({}!={}); alert({}!=={});\n</code></pre>\n\n<p>and thus:</p>\n\n<pre><code>javascript:\n  obj={prop:\"value\"}; ra1=[obj]; ra2=[{prop:\"value\"}];\n  alert(ra1[0]==obj); alert(ra2[0]==obj);\n</code></pre>\n\n<p>Often <code>ra2</code> is considered to \"contain\" <code>obj</code> as the literal entity <code>{prop:\"value\"}</code>.</p>\n\n<p>A very coarse, rudimentary, naive (as in code needs qualification enhancing) solution:</p>\n\n<pre><code>javascript:\n  obj={prop:\"value\"};   ra2=[{prop:\"value\"}];\n  alert(\n    ra2 . toSource() . indexOf( obj.toSource().match(/^.(.*).$/)[1] ) != -1 ?\n      'found' :\n      'missing' );\n</code></pre>\n\n<p>See ref: <em><a href=\"http://stackoverflow.com/questions/3624741/searching-for-objects-in-javascript-arrays/5750179#5750179\">Searching for objects in JavaScript arrays</a></em>.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Hmmm. what about</p>\n\n<pre><code>Array.prototype.contains = function(x){\n  var retVal = -1;\n  //x is a primitive type\n  if([\"string\",\"number\"].indexOf(typeof x)&gt;=0 ){ retVal = this.indexOf(x);}\n  //x is a function\n  else if(typeof x ==\"function\") for(var ix in this){\n    if((this[ix]+\"\")==(x+\"\")) retVal = ix;\n  }\n  //x is an object...\n  else {\n    var sx=JSON.stringify(x);\n    for(var ix in this){\n      if(typeof this[ix] ==\"object\" &amp;&amp; JSON.stringify(this[ix])==sx) retVal = ix;\n    }\n  }\n  //Return False if -1 else number if numeric otherwise string\n  return (retVal === -1)?false : ( isNaN(+retVal) ? retVal : +retVal);\n}\n</code></pre>\n\n<p>I know it's not the best way to go, but since there is no native IComparable way to interact between objects, I guess this is as close as you can get to compare two entities in an array. Also, extending Array object might not be a wise thing to do sometimes it's ok (if you are aware of it and the trade-off)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>b is the value, a is the array</p>\n\n<p>It returns true or false</p>\n\n<pre><code>   function(a,b){return!!~a.indexOf(b)}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 38
                },
                {
                    "body": "<p>While <code>array.indexOf(x)!=-1</code> is the most concise way to do this (and has been supported by non-IE browsers for over decade...), it is not O(1), but rather O(N), which is terrible. If your array will not be changing, you can convert your array to a hashtable, then do <code>table[x]!==undefined</code> or <code>===undefined</code>:</p>\n\n<pre><code>Array.prototype.toTable = function() {\n    var t = {};\n    this.forEach(function(x){t[x]=true});\n    return t;\n}\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>var toRemove = [2,4].toTable();\n[1,2,3,4,5].filter(function(x){return toRemove[x]===undefined})\n</code></pre>\n\n<p>(Unfortunately, while you can create an Array.prototype.contains to \"freeze\" an array and store a hashtable in this._cache in two lines, this would give wrong results if you chose to edit your array later. Javascript has insufficient hooks to let you keep this state, unlike python for example.)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>function inArray(elem,array)\n{\n    var len = array.length;\n    for(var i = 0 ; i &lt; len;i++)\n    {\n        if(array[i] == elem){return i;}\n    }\n    return -1;\n} \n</code></pre>\n\n<p>Returns array index if found, or -1 if not found</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Similar thing: Finds the first element by a \"search lambda\":</p>\n\n<pre><code>Array.prototype.find = function(search_lambda) {\n  return this[this.map(search_lambda).indexOf(true)];\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>[1,3,4,5,8,3,5].find(function(item) { return item % 2 == 0 })\n=&gt; 4\n</code></pre>\n\n<p>Same in coffeescript:</p>\n\n<pre><code>Array.prototype.find = (search_lambda) -&gt; @[@map(search_lambda).indexOf(true)]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As others have mentioned you can use <code>Array.indexOf</code>, but it isn't available in all browsers. Here's the code from <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf</a> to make it work the same in older browsers.</p>\n\n<blockquote>\n  <p>indexOf is a recent addition to the ECMA-262 standard; as such it may\n  not be present in all browsers. You can work around this by inserting\n  the following code at the beginning of your scripts, allowing use of\n  indexOf in implementations which do not natively support it. This\n  algorithm is exactly the one specified in ECMA-262, 5th edition,\n  assuming Object, TypeError, Number, Math.floor, Math.abs, and Math.max\n  have their original value.</p>\n</blockquote>\n\n<pre><code>if (!Array.prototype.indexOf) {\n    Array.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\n        \"use strict\";\n        if (this == null) {\n            throw new TypeError();\n        }\n        var t = Object(this);\n        var len = t.length &gt;&gt;&gt; 0;\n        if (len === 0) {\n            return -1;\n        }\n        var n = 0;\n        if (arguments.length &gt; 1) {\n            n = Number(arguments[1]);\n            if (n != n) { // shortcut for verifying if it's NaN\n                n = 0;\n            } else if (n != 0 &amp;&amp; n != Infinity &amp;&amp; n != -Infinity) {\n                n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n            }\n        }\n        if (n &gt;= len) {\n            return -1;\n        }\n        var k = n &gt;= 0 ? n : Math.max(len - Math.abs(n), 0);\n        for (; k &lt; len; k++) {\n            if (k in t &amp;&amp; t[k] === searchElement) {\n                return k;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I looked through submitted answers and got that they only apply if you search for the object via reference. A simple linear search with reference object comparison. </p>\n\n<p>But lets say you don't have the reference to an object, how will you find the correct object in the array? You will have to go linearly and deep compare with each object. Imagine if the list is too large, and the objects in it are very big containing big pieces of text. The performance drops drastically with the number and size of the elements in the array.</p>\n\n<p>You can stringify objects and put them in the native hash table, but then you will have data redundancy remembering these keys cause JavaScript keeps them for 'for i in obj', and you only want to check if the object exists or not, that is, you have the key.</p>\n\n<p>I thought about this for some time constructing a JSON Schema validator, and I devised a simple wrapper for the native hash table, similar to the sole hash table implementation, with some optimization exceptions which I left to the native hash table to deal with. It only needs performance benchmarking...\nAll the details and code can be found on my blog: <a href=\"http://stamat.wordpress.com/javascript-quickly-find-very-large-objects-in-a-large-array/\" rel=\"nofollow\">http://stamat.wordpress.com/javascript-quickly-find-very-large-objects-in-a-large-array/</a>\nI will soon post benchmark results. </p>\n\n<p>The complete solution works like this:</p>\n\n<pre><code>var a = {'a':1,\n 'b':{'c':[1,2,[3,45],4,5],\n 'd':{'q':1, 'b':{'q':1, 'b':8},'c':4},\n 'u':'lol'},\n 'e':2};\n\n var b = {'a':1, \n 'b':{'c':[2,3,[1]],\n 'd':{'q':3,'b':{'b':3}}},\n 'e':2};\n\n var c = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\n\n var hc = new HashCache([{a:3, b:2, c:5}, {a:15, b:2, c:'foo'}]); //init\n\n hc.put({a:1, b:1});\n hc.put({b:1, a:1});\n hc.put(true);\n hc.put('true');\n hc.put(a);\n hc.put(c);\n hc.put(d);\n console.log(hc.exists('true'));\n console.log(hc.exists(a));\n console.log(hc.exists(c));\n console.log(hc.exists({b:1, a:1}));\n hc.remove(a);\n console.log(hc.exists(c));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My little contribution:</p>\n\n<pre><code>function isInArray(array, search)\n{\n    return array.indexOf(search) &gt;= 0;\n}\n\n//usage\nif(isInArray(my_array, \"my_value\"))\n{\n    //...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<pre><code>var myArray = ['yellow', 'orange', 'red'] ; \n\nalert(!!~myArray.indexOf('red')); //true\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/An5jQ/\" rel=\"nofollow\">Demo</a></p>\n\n<p>To know exactly what the <code>tilde</code> <code>~</code> do at this point refer to this question \n<a href=\"http://stackoverflow.com/questions/12299665/what-does-a-tilde-do-when-it-precedes-an-expression\">What does a tilde do when it precedes an expression?</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Ecmascript 6 has an elegant proposal on find. </p>\n\n<blockquote>\n  <p>The find method executes the callback function once for each element\n  present in the array until it finds one where callback returns a true\n  value. If such an element is found, find immediately returns the value\n  of that element. Otherwise, find returns undefined. callback is\n  invoked only for indexes of the array which have assigned values; it\n  is not invoked for indexes which have been deleted or which have never\n  been assigned values.</p>\n</blockquote>\n\n<p>Here is the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow\">MDN documentation</a> on that. </p>\n\n<p>The find functionality works like this.</p>\n\n<pre><code>function isPrime(element, index, array) {\n    var start = 2;\n    while (start &lt;= Math.sqrt(element)) {\n        if (element % start++ &lt; 1) return false;\n    }\n    return (element &gt; 1);\n}\n\nconsole.log( [4, 6, 8, 12].find(isPrime) ); // undefined, not found\nconsole.log( [4, 5, 8, 12].find(isPrime) ); // 5\n</code></pre>\n\n<p>You can use this in ES5 and below by <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find#Polyfill\" rel=\"nofollow\">defining the function</a>.</p>\n\n<pre><code>if (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(predicate) {\n      if (this == null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length &gt;&gt;&gt; 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i &lt; length; i++) {\n        if (i in list) {\n          value = list[i];\n          if (predicate.call(thisArg, value, i, list)) {\n            return value;\n          }\n        }\n      }\n      return undefined;\n    }\n  });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use the following:</p>\n\n<pre><code>Array.prototype.contains = function (v) {\n    return this.indexOf(v) &gt; -1;\n}\n\nvar a = [ 'foo', 'bar' ];\n\na.contains('foo'); // true\na.contains('fox'); // false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow\">Array.prototype.some()</a></p>\n\n<pre><code>var items = [ {a: '1'}, {a: '2'}, {a: '3'} ]\n\nitems.some(function(item) { item.a === '3' })  // returns true\nitems.some(function(item) { item.a === '4' })  // returns false\n</code></pre>\n\n<p>One thing to note is that <code>some()</code> is not present in all js versions: (from the website)</p>\n\n<blockquote>\n  <p>some was added to the ECMA-262 standard in the 5th edition; as such it\n  may not be present in all implementations of the standard</p>\n</blockquote>\n\n<p>You can add it in case it's not there:</p>\n\n<pre><code>if (!Array.prototype.some)\n{\n  Array.prototype.some = function(fun /*, thisArg */)\n  {\n    'use strict';\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== 'function')\n      throw new TypeError();\n\n    var thisArg = arguments.length &gt;= 2 ? arguments[1] : void 0;\n    for (var i = 0; i &lt; len; i++)\n    {\n      if (i in t &amp;&amp; fun.call(thisArg, t[i], i, t))\n        return true;\n    }\n\n    return false;\n  };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>We use this snippet (works with objects, arrays, strings):</p>\n\n<pre><code>/*\n * @function\n * @name Object.prototype.inArray\n * @description Extend Object prototype within inArray function\n *\n * @param {mix}    needle       - Search-able needle\n * @param {bool}   searchInKey  - Search needle in keys?\n *\n */\nObject.defineProperty(Object.prototype, 'inArray',{\n    value: function(needle, searchInKey){\n\n        var object = this;\n\n        if( Object.prototype.toString.call(needle) === '[object Object]' || \n            Object.prototype.toString.call(needle) === '[object Array]'){\n            needle = JSON.stringify(needle);\n        }\n\n        return Object.keys(object).some(function(key){\n\n            var value = object[key];\n\n            if( Object.prototype.toString.call(value) === '[object Object]' || \n                Object.prototype.toString.call(value) === '[object Array]'){\n                value = JSON.stringify(value);\n            }\n\n            if(searchInKey){\n                if(value === needle || key === needle){\n                return true;\n                }\n            }else{\n                if(value === needle){\n                    return true;\n                }\n            }\n        });\n    },\n    writable: true,\n    configurable: true,\n    enumerable: false\n});\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>var a = {one: \"first\", two: \"second\", foo: {three: \"third\"}};\na.inArray(\"first\");          //true\na.inArray(\"foo\");            //false\na.inArray(\"foo\", true);      //true - search by keys\na.inArray({three: \"third\"}); //true\n\nvar b = [\"one\", \"two\", \"three\", \"four\", {foo: 'val'}];\nb.inArray(\"one\");         //true\nb.inArray('foo');         //false\nb.inArray({foo: 'val'})   //true\nb.inArray(\"{foo: 'val'}\") //false\n\nvar c = \"String\";\nc.inArray(\"S\");        //true\nc.inArray(\"s\");        //false\nc.inArray(\"2\", true);  //true\nc.inArray(\"20\", true); //false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function contains(a, obj) {\n    return a.some(function(element){return element == obj;})\n}\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow\">Array.prototype.some()</a> was added to the ECMA-262 standard in the 5th edition</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>EcmaScript 7 introduces <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow\"><code>Array.prototype.includes</code></a>.</p>\n\n<p>It can be used like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[1, 2, 3].includes(2);     // true\n[1, 2, 3].includes(4);     // false\n</code></pre>\n\n<p>It also accepts an optional second argument <code>fromIndex</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[1, 2, 3].includes(3, 3);  // false\n[1, 2, 3].includes(3, -1); // true\n</code></pre>\n\n<p>Unlike <code>indexOf</code>, which uses <a href=\"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-strict-equality-comparison\" rel=\"nofollow\">Strict Equality Comparison</a>, <code>includes</code> compares using <a href=\"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero\" rel=\"nofollow\">SameValueZero</a> equality algorithm. That means that you to detect if an array includes a <code>NaN</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[1, 2, NaN].includes(NaN); // true\n</code></pre>\n\n<p>It can be <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill\" rel=\"nofollow\">polyfilled</a> to make it work on all browsers.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>one liner:</p>\n\n<pre><code>function contains(arr, x) {\n    return arr.filter(function(elem) { return elem == x }).length &gt; 0;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What is the most concise and efficient way to find out if a JavaScript array contains an obj?</p>\n\n<p>This is the only way I know to do it:</p>\n\n<pre><code>function contains(a, obj) {\n    for (var i = 0; i &lt; a.length; i++) {\n        if (a[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Is there a better and more concise way to accomplish this?</p>\n\n<p>This is very closely related to Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/143847/best-way-to-find-an-item-in-a-javascript-array\">Best way to find an item in a JavaScript Array?</a></em> which addresses finding objects in an array using <code>indexOf</code>.</p>\n",
            "last_activity_date": 1420634983,
            "question_id": 237104,
            "score": 1381,
            "tags": [
                "javascript",
                "arrays",
                "browser"
            ],
            "title": "array.contains(obj) in JavaScript"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>If you have a select element that looks like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select id=\"ddlViewBy\"&gt;\n  &lt;option value=\"1\"&gt;test1&lt;/option&gt;\n  &lt;option value=\"2\" selected=\"selected\"&gt;test2&lt;/option&gt;\n  &lt;option value=\"3\"&gt;test3&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Running this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var e = document.getElementById(\"ddlViewBy\");\nvar strUser = e.options[e.selectedIndex].value;\n</code></pre>\n\n<p>Would make <code>strUser</code> be <code>2</code>. If what you actually want is <code>test2</code>, then do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var e = document.getElementById(\"ddlViewBy\");\nvar strUser = e.options[e.selectedIndex].text;\n</code></pre>\n\n<p>Which would make <code>strUser</code> be <code>test2</code></p>\n",
                    "is_accepted": true,
                    "score": 1011
                },
                {
                    "body": "<pre><code>var strUser = e.options[e.selectedIndex].value;\n</code></pre>\n\n<p>This is correct and should give you the value.\nIs it the text you're after?</p>\n\n<pre><code>var strUser = e.options[e.selectedIndex].text;\n</code></pre>\n\n<p>So you're clear on the terminology:</p>\n\n<pre><code>&lt;select&gt;\n    &lt;option value=\"hello\"&gt;Hello World&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>This option has:</p>\n\n<ul>\n<li>Index = 0</li>\n<li>Value = hello</li>\n<li>Text = Hello World</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 83
                },
                {
                    "body": "<p>The only reason I can see that makes this code not work is if you're using IE7-, and forgot to specify the value attribute for your <code>&lt;option&gt;</code>-tags... Every other browser should convert what's inside open-close tags as the option value.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Beginners are likely to want to access values from a select with the NAME attribute rather than ID attribute. We know all form elements need names, even before they get ids.</p>\n\n<p>So, I'm adding the getElementByName() solution just for new developers to see too.</p>\n\n<p>NB. names for form elements will need to be unique for your form to be usable once posted, but the DOM can allow a name be shared by more than one element. For that reason consider adding IDs to forms if you can, or be explicit with form element names my_nth_select_named_x and my_nth_text_input_named_y.</p>\n\n<p><code>\nExample using getElementMyName\n<br />\nvar e = document.getElementByName(\"my_select_with_name_ddlViewBy\");<br/>\nvar strUser = e.options[e.selectedIndex].value;\n</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Plain Javascript:</p>\n\n<pre><code>var element = document.getElementById(\"elementId\");\nvar value = element.options[e.selectedIndex].value;\nvar text = element.options[e.selectedIndex].text;\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>$(\"#elementId :selected\").text() //the text content of the selected option\n$(\"#elementId\").val() //the value of the selected option\n</code></pre>\n\n<p>AngularJS (<a href=\"http://jsfiddle.net/qk5wwyct\">http://jsfiddle.net/qk5wwyct</a>):</p>\n\n<pre><code>// html\n&lt;select ng-model=\"selectItem\" ng-options=\"item as item.text for item in items\"&gt;\n&lt;/select&gt;\n&lt;p&gt;Text: {{selectItem.text}}&lt;/p&gt;\n&lt;p&gt;Value: {{selectItem.value}}&lt;/p&gt;\n\n// javascript\n$scope.items = [{\n  value: 'item_1_id',\n  text: 'Item 1'\n}, {\n  value: 'item_2_id',\n  text: 'Item 2'\n}];   \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 71
                },
                {
                    "body": "<p>If you ever run across code written purely for IE you might see this:</p>\n\n<pre><code>var e = document.getElementById(\"ddlViewBy\"); \nvar strUser = e.options(e.selectedIndex).value; \n</code></pre>\n\n<p>Running the above in Firefox et al will give you an 'is not a function' error because IE allows you to get away with using () instead of []:</p>\n\n<pre><code>var e = document.getElementById(\"ddlViewBy\");    \nvar strUser = e.options[e.selectedIndex].value; \n</code></pre>\n\n<p>The correct way is to use square brackets.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The following code exhibits various examples related to getting/putting of values from input/select fields using JavaScript.</p>\n\n<p><strong>Working <a href=\"http://jsfiddle.net/ipsjolly/wnmcL/2/\">DEMO</a></strong></p>\n\n<pre><code> &lt;select id=\"Ultra\" onchange=\"run()\"&gt;  &lt;!--Call run() function--&gt;\n     &lt;option value=\"0\"&gt;Select&lt;/option&gt;\n     &lt;option value=\"8\"&gt;text1&lt;/option&gt;\n     &lt;option value=\"5\"&gt;text2&lt;/option&gt;\n     &lt;option value=\"4\"&gt;text3&lt;/option&gt;\n&lt;/select&gt;&lt;br&gt;&lt;br&gt;\nTextBox1&lt;br&gt;\n&lt;input type=\"text\" id=\"srt\" placeholder=\"get value on option select\"&gt;&lt;br&gt;\nTextBox2&lt;br&gt;\n&lt;input type=\"text\" id=\"rtt\"  placeholder=\"Write Something !\" onkeyup=\"up()\"&gt;\n</code></pre>\n\n<p><strong>The following script is getting the value of the selected option and putting it in text box 1</strong></p>\n\n<pre><code>&lt;script&gt;\n    function run() {\n        document.getElementById(\"srt\").value = document.getElementById(\"Ultra\").value;\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>The following script is getting a value from a text box 2 and alerting with its value</strong></p>\n\n<pre><code>&lt;script&gt;\n    function up() {\n        //if (document.getElementById(\"srt\").value != \"\") {\n            var dop = document.getElementById(\"srt\").value;\n        //}\n        alert(dop);\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>The following script is calling a function from a function</strong></p>\n\n<pre><code>&lt;script&gt;\n    function up() {\n        var dop = document.getElementById(\"srt\").value;\n        pop(dop); // Calling function pop\n    }\n\n    function pop(val) {\n        alert(val);\n    }?\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<pre><code>var selectedValue = document.getElementById(\"ddlViewBy\").value;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just use</p>\n\n<ul>\n<li><p><code>$('#SelectBoxId option:selected').text();</code> for getting the text as listed</p></li>\n<li><p><code>$('#SelectBoxId').val();</code> for getting the selected index value</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here's an easy way to do it in an onchange function:</p>\n\n<p><code>event.target.options[event.target.selectedIndex].dataset.name</code></p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>How do I get the selected value from a dropdown list using JavaScript?</p>\n\n<p>I have tried the methods below, but each of them only returns the selected index instead of the value.</p>\n\n<pre><code>var as = document.form1.ddlViewBy.value;\nvar e = document.getElementById(\"ddlViewBy\");\nvar strUser = e.options[e.selectedIndex].value;\n\n//This is one of the simplest form by (Narendra Kottamidde) :\n\nvar value = document.getElementById(\"ddlViewBy\").value;\n</code></pre>\n",
            "last_activity_date": 1417485979,
            "question_id": 1085801,
            "score": 520,
            "tags": [
                "javascript",
                "drop-down-menu"
            ],
            "title": "Get selected value of dropdownlist using JavaScript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Yes, it's doable due to jQuery's noconflict mode. <a href=\"http://blog.nemikor.com/2009/10/03/using-multiple-versions-of-jquery/\">http://blog.nemikor.com/2009/10/03/using-multiple-versions-of-jquery/</a></p>\n\n<pre><code>&lt;!-- load jQuery 1.1.3 --&gt;\n&lt;script type=\"text/javascript\" src=\"http://example.com/jquery-1.1.3.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar jQuery_1_1_3 = $.noConflict(true);\n&lt;/script&gt;\n\n&lt;!-- load jQuery 1.3.2 --&gt;\n&lt;script type=\"text/javascript\" src=\"http://example.com/jquery-1.3.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar jQuery_1_3_2 = $.noConflict(true);\n&lt;/script&gt;\n</code></pre>\n\n<p>Then, instead of <code>$('#selector').function();</code>, you'd do <code>jQuery_1_3_2('#selector').function();</code> or <code>jQuery_1_1_3('#selector').function();</code>.</p>\n",
                    "is_accepted": true,
                    "score": 276
                },
                {
                    "body": "<ul>\n<li>Original page loads his \"jquery.versionX.js\" -- <code>$</code> and <code>jQuery</code> belong to versionX.</li>\n<li>You call your \"jquery.versionY.js\" -- now <code>$</code> and <code>jQuery</code> belong to versionY, plus <code>_$</code> and <code>_jQuery</code> belong to versionX.</li>\n<li><code>my_jQuery = jQuery.noConflict(true);</code> -- now <code>$</code> and <code>jQuery</code> belong to versionX, <code>_$</code> and <code>_jQuery</code> are probably null, and <code>my_jQuery</code> is versionY.</li>\n</ul>\n\n<p><a href=\"http://forum.jquery.com/topic/multiple-versions-of-jquery-on-the-same-page\">http://forum.jquery.com/topic/multiple-versions-of-jquery-on-the-same-page</a></p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>It is possible to load second version of the jQuery use it and then restore to the original or  keep second version if there was no jQuery loaded before. Here is an example:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var jQueryTemp = jQuery.noConflict(true);\n    var jQueryOriginal = jQuery || jQueryTemp;\n    if (window.jQuery){\n        console.log('Original jQuery: ', jQuery.fn.jquery);\n        console.log('Second jQuery: ', jQueryTemp.fn.jquery);\n    }\n    window.jQuery = window.$ = jQueryTemp;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    console.log('Script using second: ', jQuery.fn.jquery);\n&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    // Restore original jQuery:\n    window.jQuery = window.$ = jQueryOriginal;\n    console.log('Script using original or the only version: ', jQuery.fn.jquery);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>After looking at this and trying it out I found it actually didn't allow more than one instance of jquery to run at a time. After searching around I found that this did just the trick and was a whole lot less code.<br /></p>\n\n<pre><code>    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script&gt;var $j = jQuery.noConflict(true);&lt;/script&gt;\n    &lt;script&gt;\n      $(document).ready(function(){\n       console.log($().jquery); // This prints v1.4.2\n       console.log($j().jquery); // This prints v1.9.1\n      });\n   &lt;/script&gt;\n</code></pre>\n\n<p>So then adding the \"j\" after the \"$\" was all I needed to do.</p>\n\n<pre><code>$j(function () {\n        $j('.button-pro').on('click', function () {\n            var el = $('#cnt' + this.id.replace('btn', ''));\n            $j('#contentnew &gt; div').not(el).animate({\n                height: \"toggle\",\n                opacity: \"toggle\"\n            }, 100).hide();\n            el.toggle();\n        });\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>You can have as many different jQuery versions on your page as you want.</p>\n\n<h1>Use <a href=\"https://api.jquery.com/jQuery.noConflict/\" rel=\"nofollow\"><code>jQuery.noConflict()</code></a>:</h1>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var $i = jQuery.noConflict();\n    alert($i.fn.jquery);\n&lt;/script&gt; \n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var $j = jQuery.noConflict();\n    alert($j.fn.jquery);\n&lt;/script&gt; \n\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var $k = jQuery.noConflict();\n    alert($k.fn.jquery);\n&lt;/script&gt; \n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/PGLVs/\" rel=\"nofollow\">DEMO</a></strong> | <a href=\"http://stackoverflow.com/questions/21735713/including-more-than-one-jquery-versions/21736074#21736074\">Source</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<ul>\n<li>original page loads his \"jquery.versionX.js\"</li>\n<li>$ and jQuery belong to versionX</li>\n<li>you call your \"jquery.versionY.js\"</li>\n<li>now $ and jQuery belong to versionY, plus _$ and _jQuery that belongs to versionX</li>\n<li>var my_jQuery = jQuery.noConflict(true);</li>\n<li>now $ and jQuery belong to versionX, _$ and _jQuery are probably null, and my_jQuery is versionY</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>A project I'm working on requires the use of jQuery on customers' Web pages. Customers will insert a chunk of code that we'll supply which includes a few <code>&lt;script&gt;</code> elements that build a widget in a <code>&lt;script&gt;</code>-created <code>&lt;iframe&gt;</code>. If they aren't already using the latest version of jQuery, this will also include (most likely) a <code>&lt;script&gt;</code> for Google's hosted version of jQuery.</p>\n\n<p>The problem is that some customers may already have an older version of jQuery installed. While this may work if it's at least a fairly recent version, our code does rely on some recently introduced functionality in the jQuery library, so there are bound to be instances when a customer's jQuery version is just too old. We can't require that they upgrade to the latest version of jQuery.</p>\n\n<p>Is there any way to load a newer version of jQuery to use only within the context of our code, that will not interfere with, or affect, any code on the customer's page? Ideally, maybe we could check for the presence of jQuery, detect the version, and if it's too old, then somehow load the most recent version just to use for our code.</p>\n\n<p>I had the idea of loading jQuery in an <code>&lt;iframe&gt;</code> in the customer's domain that also includes our <code>&lt;script&gt;</code>, which seems like it might be feasible, but I'm hoping there's a more elegant way to do it (not to mention without the performance and complexity penalties of extra <code>&lt;iframe&gt;</code>s).</p>\n",
            "last_activity_date": 1400335008,
            "question_id": 1566595,
            "score": 188,
            "tags": [
                "javascript",
                "jquery",
                "iframe"
            ],
            "title": "Can I use multiple versions of jQuery on the same page?"
        },
        {
            "answer_count": 27,
            "answers": [
                {
                    "body": "<p>I suggest using phpjs.org 's number_format:\n<a href=\"http://phpjs.org/functions/number_format:481\">http://phpjs.org/functions/number_format:481</a></p>\n\n<pre><code>function number_format(number, decimals, dec_point, thousands_sep) {\n    // http://kevin.vanzonneveld.net\n    // +   original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +     bugfix by: Michael White (http://getsprink.com)\n    // +     bugfix by: Benjamin Lupton\n    // +     bugfix by: Allan Jensen (http://www.winternet.no)\n    // +    revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\n    // +     bugfix by: Howard Yeend\n    // +    revised by: Luke Smith (http://lucassmith.name)\n    // +     bugfix by: Diogo Resende\n    // +     bugfix by: Rival\n    // +      input by: Kheang Hok Chin (http://www.distantia.ca/)\n    // +   improved by: davook\n    // +   improved by: Brett Zamir (http://brett-zamir.me)\n    // +      input by: Jay Klehr\n    // +   improved by: Brett Zamir (http://brett-zamir.me)\n    // +      input by: Amir Habibi (http://www.residence-mixte.com/)\n    // +     bugfix by: Brett Zamir (http://brett-zamir.me)\n    // +   improved by: Theriault\n    // +   improved by: Drew Noakes\n    // *     example 1: number_format(1234.56);\n    // *     returns 1: '1,235'\n    // *     example 2: number_format(1234.56, 2, ',', ' ');\n    // *     returns 2: '1 234,56'\n    // *     example 3: number_format(1234.5678, 2, '.', '');\n    // *     returns 3: '1234.57'\n    // *     example 4: number_format(67, 2, ',', '.');\n    // *     returns 4: '67,00'\n    // *     example 5: number_format(1000);\n    // *     returns 5: '1,000'\n    // *     example 6: number_format(67.311, 2);\n    // *     returns 6: '67.31'\n    // *     example 7: number_format(1000.55, 1);\n    // *     returns 7: '1,000.6'\n    // *     example 8: number_format(67000, 5, ',', '.');\n    // *     returns 8: '67.000,00000'\n    // *     example 9: number_format(0.9, 0);\n    // *     returns 9: '1'\n    // *    example 10: number_format('1.20', 2);\n    // *    returns 10: '1.20'\n    // *    example 11: number_format('1.20', 4);\n    // *    returns 11: '1.2000'\n    // *    example 12: number_format('1.2000', 3);\n    // *    returns 12: '1.200'\n    var n = !isFinite(+number) ? 0 : +number, \n        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\n        sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\n        dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\n        toFixedFix = function (n, prec) {\n            // Fix for IE parseFloat(0.55).toFixed(0) = 0;\n            var k = Math.pow(10, prec);\n            return Math.round(n * k) / k;\n        },\n        s = (prec ? toFixedFix(n, prec) : Math.round(n)).toString().split('.');\n    if (s[0].length &gt; 3) {\n        s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n    }\n    if ((s[1] || '').length &lt; prec) {\n        s[1] = s[1] || '';\n        s[1] += new Array(prec - s[1].length + 1).join('0');\n    }\n    return s.join(dec);\n}\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE 02/13/14</strong></p>\n\n<p>People have been reporting this doesn't work as expected, so I did a JS Fiddle that includes automated tests:<br>\n<a href=\"http://jsfiddle.net/drewnoakes/xc3qh35z/\">http://jsfiddle.net/drewnoakes/xc3qh35z/</a></p>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>I think your solution is one of the shorter ones I've seen for this. I don't think there are any standard JavaScript functions to do this sort of thing, so you're probably on your own.</p>\n\n<p>I checked the CSS 3 specifications to see whether it's possible to do this in CSS, but unless you want every digit in its own <code>&lt;span&gt;</code>, I don't think that's possible.</p>\n\n<p>I did find one project on <a href=\"http://en.wikipedia.org/wiki/Google_Code\" rel=\"nofollow\">Google Code</a> that looked promising: <a href=\"http://code.google.com/p/flexible-js-formatting/\" rel=\"nofollow\">flexible-js-formatting</a>. I haven't used it, but it looks pretty flexible and has unit tests using <a href=\"https://github.com/pivotal/jsunit\" rel=\"nofollow\">JsUnit</a>. The developer also has a lot of posts (though old) about this topic.</p>\n\n<p>Be sure to consider international users: lots of nations use a space as the separator and use the comma for separating the decimal from the integral part of the number. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I used the idea from Kerry's answer, but simplified it since I was just looking for something simple for my specific purpose. Here is what I did:</p>\n\n<pre><code>function numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n</code></pre>\n\n<p>This is all you really need to know.</p>\n\n<p>@Neils Bom asked how the regex works. My explanation is sort of long. It won't fit in the comments and I don't know where else to put it so I am doing it here. If anyone has any other suggestions for where to put it, please let me know.</p>\n\n<p>The regex uses 2 lookahead assertions: a positive one to look for any point in the string that has a multiple of 3 digits in a row after it, and a negative assertion to make sure that point only has exactly a multiple of 3 digits. The replacement expression puts a comma there.</p>\n\n<p>For example, if you pass it \"123456789.01\", the positive assertion will match every spot to the left of the 7 (since \"789\" is a multiple of 3 digits, \"678\" is a multiple of 3 digits, \"567\", etc.). The negative assertion checks that the multiple of 3 digits does not have any digits after it. \"789\" has a period after it so it is exactly a multiple of 3 digits, so a comma goes there. \"678\" is a multiple of 3 digits but it has a \"9\" after it, so those 3 digits are part of a group of 4, and a comma does not go there. Similarly for \"567\". \"456789\" is 6 digits, which is a multiple of 3, so a comma goes before that. \"345678\" is a multiple of 3, but it has a \"9\" after it, so no comma goes there. And so on. The \"\\B\" keeps the regex from putting a comma at the beginning of the string.</p>\n\n<p>@neu-rah mentioned that this function adds commas in undesirable places if there are more than 3 digits after the decimal point. If this is a problem, you can use this function:</p>\n\n<pre><code>function numberWithCommas(x) {\n    var parts = x.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return parts.join(\".\");\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 765
                },
                {
                    "body": "<p>Here's a simple function that inserts commas for thousand separators.  It uses array functions rather than a RegEx.</p>\n\n<pre><code>/**\n * Format a number as a string with commas separating the thousands.\n * @param num - The number to be formatted (e.g. 10000)\n * @return A string representing the formatted number (e.g. \"10,000\")\n */\nvar formatNumber = function(num) {\n    var array = num.toString().split('');\n    var index = -3;\n    while (array.length + index &gt; 0) {\n        array.splice(index, 0, ',');\n        // Decrement by 4 since we just added another unit to the array.\n        index -= 4;\n    }\n    return array.join('');\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This is a variation of @mikez302's answer, but modified to support numbers with decimals (per @neu-rah's feedback that numberWithCommas(12345.6789) -> \"12,345.6,789\" instead of \"12,345.6789\"</p>\n\n<pre><code>function numberWithCommas(n) {\n    var parts=n.toString().split(\".\");\n    return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + (parts[1] ? \".\" + parts[1] : \"\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>Thanks to everyone for their replies. I have built off of some of the answers to make a more \"one-size-fits-all\" solution. </p>\n\n<p>The first snippet adds a function that mimics <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a>'s <code>number_format()</code> to the Number prototype. If I am formatting a number, I usually want decimal places so the function takes in the number of decimal places to show. Some countries use commas as the decimal and decimals as the thousands separator so the function allows these separators to be set.</p>\n\n<pre><code>Number.prototype.numberFormat = function(decimals, dec_point, thousands_sep) {\n    dec_point = typeof dec_point !== 'undefined' ? dec_point : '.';\n    thousands_sep = typeof thousands_sep !== 'undefined' ? thousands_sep : ',';\n\n    var parts = this.toFixed(decimals).split('.');\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousands_sep);\n\n    return parts.join(dec_point);\n}\n</code></pre>\n\n<p>You would use this as follows:</p>\n\n<pre><code>var foo = 5000;\nconsole.log(foo.numberFormat(2)); // us format: 5,000.00\nconsole.log(foo.numberFormat(2, ',', '.')); // european format: 5.000,00\n</code></pre>\n\n<p>I found that I often needed to get the number back for math operations, but parseFloat converts 5,000 to 5, simply taking the first sequence of integer values. So I created my own float conversion function and added it to the String prototype.</p>\n\n<pre><code>String.prototype.getFloat = function(dec_point, thousands_sep) {\n    dec_point = typeof dec_point !== 'undefined' ? dec_point : '.';\n    thousands_sep = typeof thousands_sep !== 'undefined' ? thousands_sep : ',';\n\n    var parts = this.split(dec_point);\n    var re = new RegExp(\"[\" + thousands_sep + \"]\");\n    parts[0] = parts[0].replace(re, '');\n\n    return parseFloat(parts.join(dec_point));\n}\n</code></pre>\n\n<p>Now you can use both functions as follows:</p>\n\n<pre><code>var foo = 5000;\nvar fooString = foo.numberFormat(2); // The string 5,000.00\nvar fooFloat = fooString.getFloat(); // The number 5000;\n\nconsole.log((fooString.getFloat() + 1).numberFormat(2)); // The string 5,001.00\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>I added tofixed to <strong>Aki143S</strong>'s solution.\nThis solution uses dots for thousands separators and comma for the precision.</p>\n\n<pre><code>function formatNumber( num, fixed ) { \n    var decimalPart;\n\n    var array = Math.floor(num).toString().split('');\n    var index = -3; \n    while ( array.length + index &gt; 0 ) { \n        array.splice( index, 0, '.' );              \n        index -= 4;\n    }\n\n    if(fixed &gt; 0){\n        decimalPart = num.toFixed(fixed).split(\".\")[1];\n        return array.join('') + \",\" + decimalPart; \n    }\n    return array.join(''); \n};\n</code></pre>\n\n<p>Examples;</p>\n\n<pre><code>formatNumber(17347, 0)  = 17.347\nformatNumber(17347, 3)  = 17.347,000\nformatNumber(1234563.4545, 3)  = 1.234.563,454\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think this function will take care of all the issues related to this problem.</p>\n\n<pre><code>function commaFormat(inputString) {\n    inputString = inputString.toString();\n    var decimalPart = \"\";\n    if (inputString.indexOf('.') != -1) {\n        //alert(\"decimal number\");\n        inputString = inputString.split(\".\");\n        decimalPart = \".\" + inputString[1];\n        inputString = inputString[0];\n        //alert(inputString);\n        //alert(decimalPart);\n\n    }\n    var outputString = \"\";\n    var count = 0;\n    for (var i = inputString.length - 1; i &gt;= 0 &amp;&amp; inputString.charAt(i) != '-'; i--) {\n        //alert(\"inside for\" + inputString.charAt(i) + \"and count=\" + count + \" and outputString=\" + outputString);\n        if (count == 3) {\n            outputString += \",\";\n            count = 0;\n        }\n        outputString += inputString.charAt(i);\n        count++;\n    }\n    if (inputString.charAt(0) == '-') {\n        outputString += \"-\";\n    }\n    //alert(outputString);\n    //alert(outputString.split(\"\").reverse().join(\"\"));\n    return outputString.split(\"\").reverse().join(\"\") + decimalPart;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>For Integers I used a very simple method:</p>\n\n<pre><code>var myNumber = 99999,\n    myString = myNumber + \"\";\n\nmyString.length &gt; 3 ? return myString.substring(0, myString.length - 3) + \",\" + \n    myString.substring(myString.length - 3) : return myString;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The solution from @user1437663 is great.</p>\n\n<p>Who really understands the solution is being prepared to understand complex regular expressions.</p>\n\n<p>A small improvement to make it more readable:</p>\n\n<pre><code>function numberWithCommas(x) {\n    var parts = x.toString().split(\".\");\n    return parts[0].replace(/\\B(?=(\\d{3})+(?=$))/g, \",\") + (parts[1] ? \".\" + parts[1] : \"\");\n}\n</code></pre>\n\n<p>The pattern starts with <strong>\\B</strong> to avoid use comma at the beginning of a word. Interestingly, the pattern is returned empty because <strong>\\B</strong> does not advance the \"cursor\" (the same applies to <strong>$</strong>).</p>\n\n<p>O <strong>\\B</strong> is followed by a less known resources but is a powerful feature from Perl's regular expressions.</p>\n\n<pre><code>            Pattern1 (? = (Pattern2) ).\n</code></pre>\n\n<p>The magic is that what is in parentheses (<em>Pattern2</em>) is a pattern that follows the previous pattern (<em>Pattern1</em>) but without advancing the cursor and also is not part of the pattern returned. It is a kind of future pattern. This is similar when someone looks forward but really doesn't walk! </p>\n\n<p>In this case <em>pattern2</em> is     </p>\n\n<pre><code>\\d{3})+(?=$)\n</code></pre>\n\n<p>It means 3 digits (one or more times) followed by the end of the string ($)</p>\n\n<p>Finally, <strong>Replace</strong> method changes all occurrences of the pattern found (empty string) for comma. This only happens in cases where the remaining piece is a multiple of 3 digits \n(such cases where future cursor reach the end of the origin).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm surprised nobody mentioned <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\">Number.prototype.toLocaleString</a>.\nIt's implemented in JavaScript 1.5 (which was introduced in 1999) so it's basically supported across major browsers.</p>\n\n<pre><code>var n = 34523453.345\nn.toLocaleString()\n\"34,523,453.345\"\n</code></pre>\n\n<p>P.S. For people who use node or want something different in the browser <a href=\"http://numeraljs.com/\">Numeral.js</a> might be interesting.</p>\n",
                    "is_accepted": false,
                    "score": 277
                },
                {
                    "body": "<p>The following code uses char scan, so there's no regex. </p>\n\n<pre><code>function commafy( num){\n  var parts = (''+num).split(\".\"), s=parts[0], i=L= s.length, o='',c;\n  while(i--){ o = (i==0?'':((L-i)%3?'':',')) \n                  +s.charAt(i) +o }\n  return o + (parts[1] ? '.' + parts[1] : ''); \n}\n</code></pre>\n\n<p>It shows promising performance: <a href=\"http://jsperf.com/number-formatting-with-commas/5\" rel=\"nofollow\">http://jsperf.com/number-formatting-with-commas/5</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yet another..(for int's as the question asks)</p>\n\n<pre><code>function insertCommas(str)\n{\n    var a = str.split(\"\");\n    a.reverse();\n\n    var t, i = 0, arr = Array();\n\n    while (t = a.shift())\n    {\n       if (((i++ % 3) == 0) &amp;&amp; arr.length &gt; 0)\n           arr.unshift(\",\");\n       arr.unshift(t);\n    }\n\n    return arr.join(\"\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Lots of good answers already. Here's another, just for fun:</p>\n\n<pre><code>function format(num, fix) {\n    var p = num.toFixed(fix).split(\".\");\n    return p[0].split(\"\").reduceRight(function(acc, num, i, orig) {\n        if (\"-\" === num &amp;&amp; 0 === i) {\n            return num + acc;\n        }\n        var pos = orig.length - i - 1\n        return  num + (pos &amp;&amp; !(pos % 3) ? \",\" : \"\") + acc;\n    }, \"\") + (p[1] ? \".\" + p[1] : \"\");\n}\n</code></pre>\n\n<p>Some examples:</p>\n\n<pre><code>format(77.03453, 2); // \"77.03\"\nformat(78436589374); // \"78,436,589,374\"\nformat(784, 4);      // \"784.0000\"\nformat(-123456);     // \"-123,456\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if you are dealing with currency values and formatting a lot then it might be worth to add tiny <a href=\"http://josscrowcroft.github.io/accounting.js/\">accounting.js</a> which handles lot of edge cases and localization:</p>\n\n<pre><code>// Default usage:\naccounting.formatMoney(12345678); // $12,345,678.00\n\n// European formatting (custom symbol and separators), could also use options object as second param:\naccounting.formatMoney(4999.99, \"\u20ac\", 2, \".\", \",\"); // \u20ac4.999,99\n\n// Negative values are formatted nicely, too:\naccounting.formatMoney(-500000, \"\u00a3 \", 0); // \u00a3 -500,000\n\n// Simple `format` string allows control of symbol position [%v = value, %s = symbol]:\naccounting.formatMoney(5318008, { symbol: \"GBP\",  format: \"%v %s\" }); // 5,318,008.00 GBP\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Here is good solution with less coding...</p>\n\n<pre><code>var y = \"\";\nvar arr = x.toString().split(\"\");\nfor(var i=0; i&lt;arr.length; i++)\n{\n    y += arr[i];\n    if((arr.length-i-1)%3==0 &amp;&amp; i&lt;arr.length-1) y += \",\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I wanted something simple that was easy to read. I'm only concerned with integers and I don't need high performance (so optimizing for readability over performance):</p>\n\n<pre><code>function numberWithCommas(number) {\n    if (isNaN(number)) {\n        return '';\n    }\n\n    var asString = '' + Math.abs(number),\n        numberOfUpToThreeCharSubstrings = Math.ceil(asString.length / 3),\n        startingLength = asString.length % 3,\n        substrings = [],\n        isNegative = (number &lt; 0),\n        formattedNumber,\n        i;\n\n    if (startingLength &gt; 0) {\n        substrings.push(asString.substring(0, startingLength));\n    }\n\n    for (i=startingLength; i &lt; asString.length; i += 3) {\n        substrings.push(asString.substr(i, 3));\n    }\n\n    formattedNumber = substrings.join(',');\n    if (isNegative) {\n        formattedNumber = '-' + formattedNumber;\n    }\n\n    return formattedNumber;\n}\n</code></pre>\n\n<p>JSFiddle: <a href=\"http://jsfiddle.net/Enw85/1/\" rel=\"nofollow\">http://jsfiddle.net/Enw85/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is a library that is putting together some helpful number formatting functions. They do have a function for taking a number and putting commas in.</p>\n\n<p><a href=\"https://github.com/ToothpickFactory/toMoney\" rel=\"nofollow\">https://github.com/ToothpickFactory/toMoney</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The thousands separator can be inserted in an international-friendly manner using the browser's <code>Intl</code> object:</p>\n\n<pre><code>Intl.NumberFormat().format(1234);\n// returns \"1,234\" if the user's locale is en_US, for example\n</code></pre>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\">MDN's article on NumberFormat</a> for more, you can specify locale behavior or default to the user's. This is a little more foolproof because it respects local differences; many countries use periods to separate digits while a comma denotes the decimals.</p>\n\n<p>Intl.NumberFormat isn't available in all browsers yet, but it works in latest Chrome, Opera, &amp; IE. Firefox's next release should support it. Webkit doesn't seem to have a timeline for implementation.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You could just use the <code>printf</code>-way, for example:</p>\n\n<pre><code>double number = 1234567;\nSystem.out.printf(\"%,.2f\" , number);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>For indian numeric system</p>\n\n<pre><code>var number = \"323483.85\"\nvar decimal = number.split(\".\");\nvar res = (decimal[0].length&gt;3? numberWithCommas(decimal[0].substring(0,decimal[0].length-3))+ ',' :decimal[0]) + (decimal[0].length&gt;3?decimal[0].substring(decimal[0].length-3,decimal[0].length):'') + '.' + decimal[1];\n</code></pre>\n\n<p>Output: 3,23,483.85</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>An alternative way, supporting decimals, different separators and negatives.</p>\n\n<pre><code>var number_format = function(number, decimal_pos, decimal_sep, thousand_sep) {\n    var ts      = ( thousand_sep == null ? ',' : thousand_sep )\n        , ds    = ( decimal_sep  == null ? '.' : decimal_sep )\n        , dp    = ( decimal_pos  == null ? 2   : decimal_pos )\n\n        , n     = Math.abs(Math.ceil(number)).toString()\n\n        , i     = n.length % 3 \n        , f     = n.substr(0, i)\n    ;\n\n    if(number &lt; 0) f = '-' + f;\n\n    for(;i&lt;n.length;i+=3) {\n        if(i!=0) f+=ts;\n        f+=n.substr(i,3);\n    }\n\n    if(dp &gt; 0) \n        f += ds + number.toFixed(dp).split('.')[1]\n\n    return f;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function formatNumber (num) {\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")\n}\n\nprint(formatNumber(2665));      // 2,665\nprint(formatNumber(102665));    // 102,665\nprint(formatNumber(111102665)); // 111,102,665\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>When you format locale specific messages such as number formatting. Use an internationalization tool. The complexity of number formatting increases a lot as you add more locales. So don't hard code your number formatting. Because maintenance will be hard after a while.</p>\n\n<p>I use a tool called l10ns (<a href=\"http://l10ns.org\" rel=\"nofollow\">http://l10ns.org</a>). It's a internationlization tool for javascript and pre-compiles formatted messages for you to use.</p>\n\n<pre><code>var l = requireLocalizations('en-US');\nvar string = l('NUMBER_OF_LIKES', {\n  likes: 1100\n});\n\nconsole.log(string) // outputs 1,100\n</code></pre>\n\n<p>Now define the message format.</p>\n\n<pre><code>{likes, number, integer}\n</code></pre>\n\n<p>If you want to get fancy and use pluralizations.</p>\n\n<pre><code>{likes, plural, one{# like} other {# likes}}\n</code></pre>\n\n<p>For more info about pluralization. Please check out their <a href=\"http://l10ns.org/docs.html#pluralformat\" rel=\"nofollow\">docs</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I Wrote this one before stumbling on this post. No regex and you can actually understand the code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  \r\n  function insertCommas(s) {\r\n\r\n    // get stuff before the dot\r\n    var d = s.indexOf('.');\r\n    var s2 = d === -1 ? s : s.slice(0, d);\r\n\r\n    // insert commas every 3 digits from the right\r\n    for (var i = s2.length - 3; i &gt; 0; i -= 3)\r\n      s2 = s2.slice(0, i) + ',' + s2.slice(i);\r\n\r\n    // append fractional part\r\n    if (d !== -1)\r\n      s2 += s.slice(d);\r\n\r\n    return s2;\r\n\r\n  }\r\n  \r\n  \r\n  $('#theDudeAbides').text( insertCommas('1234567.89012' ) );\r\n  \r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"theDudeAbides\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Let me try to improve <a href=\"http://stackoverflow.com/users/1286601/ukolka\" title=\"uKolka\">uKolka</a>'s <a href=\"http://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript/17663871#17663871\" title=\"answer\">answer</a> and maybe help others save some time.</p>\n\n<p>Use <a href=\"http://numeraljs.com/\" rel=\"nofollow\" title=\"Numeral.js\">Numeral.js</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.body.textContent = numeral(1234567).format('0,0');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/numeral.js/1.4.5/numeral.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You should go with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow\" title=\"Number.prototype.toLocaleString&#40;&#41;\">Number.prototype.toLocaleString&#40;&#41;</a> only if its <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString#AutoCompatibilityTable\" rel=\"nofollow\" title=\"browser compatibilty\">browser compatibilty</a> is not an issue.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think this is the shortest regular expression that does it:</p>\n\n<p>/\\B(?=(\\d{3})+\\b)/g</p>\n\n<p>\"123456\".replace(/\\B(?=(\\d{3})+\\b)/g, \",\")</p>\n\n<p>I checked it on a few numbers and it worked.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to print an integer in <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> with commas as thousands separators. For example, I want to show the number 1234567 as \"1,234,567\". How would I go about doing this? </p>\n\n<p>Here is how I am doing it:</p>\n\n<pre><code>function numberWithCommas(x) {\n    x = x.toString();\n    var pattern = /(-?\\d+)(\\d{3})/;\n    while (pattern.test(x))\n        x = x.replace(pattern, \"$1,$2\");\n    return x;\n}\n</code></pre>\n\n<p>Is there a simpler or more elegant way to do it? It would be nice if it works with floats also, but that is not necessary. It does not need to be locale-specific to decide between periods and commas. </p>\n",
            "last_activity_date": 1426228310,
            "question_id": 2901102,
            "score": 365,
            "tags": [
                "javascript",
                "formatting",
                "numbers"
            ],
            "title": "How to print a number with commas as thousands separators in JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You don't need a function for it - simply use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Member_Operators#Bracket_notation\"><em>bracket notation</em></a>:</p>\n\n<pre><code>var side = columns['right'];\n</code></pre>\n\n<p>This is equal to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Member_Operators#Dot_notation\"><em>dot notation</em></a>, <code>var side = columns.right;</code>, except the fact that <code>right</code> could also come from a variable, function return value, etc., when using bracket notation.</p>\n\n<p>If you NEED a function for it, here it is:</p>\n\n<pre><code>function read_prop(obj, prop) {\n    return obj[prop];\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 192
                },
                {
                    "body": "<p>Since I was helped with my project by the answer above (I asked a duplicate question and was referred here), I am submitting an answer (my test code) for bracket notation when nesting within the var:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction displayFile(whatOption, whatColor)\n{\nvar Test01 = \n{\nrectangle: \n    {\n    red: \"RectangleRedFile\", \n    blue: \"RectangleBlueFile\"\n    }, \nsquare: \n    {\n    red: \"SquareRedFile\", \n    blue: \"SquareBlueFile\"\n    }\n};\n\nvar filename = Test01[whatOption][whatColor];\nalert (filename);\n\n}\n\n\n&lt;/script&gt;\n\n  &lt;/head&gt;\n  &lt;body &gt;\n\n  &lt;p  onclick=\"displayFile('rectangle', 'red')\"&gt;[ Rec Red ]&lt;/p&gt;\n  &lt;br/&gt;\n  &lt;p  onclick=\"displayFile('square', 'blue')\"&gt;[ Sq Blue ]&lt;/p&gt;\n  &lt;br/&gt;\n  &lt;p  onclick=\"displayFile('square', 'red')\"&gt;[ Sq Red ]&lt;/p&gt;\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>ThiefMaster's answer is 100% correct (upvoted!), although I came across a similar problem where I needed to fetch a property from a nested object (object within an object), so as an alternative to his answer, you can create a recursive solution that will allow you to define a nomenclature to grab any property, regardless of depth:</p>\n\n<pre><code>function fetchFromObject(obj, prop){\n\n    if(typeof obj === 'undefined') return false;\n\n    var _index = prop.indexOf('.')\n\n    if(_index &gt; -1)  return fetchFromObject(obj[prop.substring(0, _index)], prop.substr(_index+1));\n\n    return obj[prop];\n\n}\n</code></pre>\n\n<p>Where your string reference to a given property ressembles <code>property1.property2</code></p>\n\n<p>Code and comments in <a href=\"http://jsfiddle.net/amofb8xa/5/\" rel=\"nofollow\">JsFiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>If I have a javascript object that looks like below</p>\n\n<pre><code>var columns = {\n  left: true,\n  center : false,\n  right : false\n}\n</code></pre>\n\n<p>and I have a function that is passed both the object, and a property name like so</p>\n\n<pre><code>//should return false\nvar side = read_prop(columns, 'right');\n</code></pre>\n\n<p>what would the body of <code>read_prop(object, property)</code> look like?</p>\n",
            "last_activity_date": 1424901483,
            "question_id": 4255472,
            "score": 106,
            "tags": [
                "javascript",
                "object"
            ],
            "title": "JavaScript object: access variable property by name as string"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>XHTML 1 specification says:</p>\n\n<p><a href=\"http://www.w3.org/TR/xhtml1/#C_3\">\u0421.3. Element Minimization and Empty Element Content</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>Given an empty instance of an element whose content model is not <code>EMPTY</code> (for example, an empty title or paragraph) do not use the minimized form (e.g. use <code>&lt;p&gt; &lt;/p&gt;</code> and not <code>&lt;p /&gt;</code>).</p>\n  </blockquote>\n</blockquote>\n\n<p><a href=\"http://www.w3.org/TR/xhtml1/dtds.html#a_dtd_XHTML-1.0-Strict\">XHTML DTD</a> specifies script tags as:</p>\n\n<pre><code>&lt;!-- script statements, which may include CDATA sections --&gt;\n&lt;!ELEMENT script (#PCDATA)&gt;\n</code></pre>\n\n<p>Hope it helps,</p>\n",
                    "is_accepted": true,
                    "score": 230
                },
                {
                    "body": "<p>Unlike XML and XHTML, HTML has no knowledge of the self-closing syntax.  Browsers that interpret XHTML as HTML don't know that the <code>/</code> character indicates that the tag should be self-closing; instead they is interpret it like an empty attribute and the parser still thinks the tag is 'open'</p>\n\n<p>Just as <code>&lt;script defer&gt;</code> is treated as <code>&lt;script defer=\"defer\"&gt;</code>, <code>&lt;script /&gt;</code> is treated as <code>&lt;script /=\"/\"&gt;</code>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Note that IE does not support XHTML parsing. Even if you use an XML declaration and/or an XHTML doctype, IE still parses the document as plain HTML. And in plain HTML, the self-closing syntax is not supported. The trailing slash is just ignored, you have to use an explicit closing tag.</p>\n\n<p>Even browsers with support for XHTML parsing will still parse the document as HTML unless you serve the document with a xml mime type. But in that case IE will not display the document at all!</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>To add to what Brad and squadette have said, the self-closing XML syntax <code>&lt;script /&gt;</code> actually <strong>is</strong> correct XML, but for it to work in practice, your web server also needs to send your documents as properly formed XML with an XML mimetype like <code>application/xhtml+xml</code> in the HTTP Content-Type header (and <em>not</em> as <code>text/html</code>).</p>\n\n<p>However, sending an XML mimetype will cause your pages not to be parsed by IE7, which only likes <code>text/html</code>.</p>\n\n<p>From <a href=\"http://www.w3.org/TR/xhtml-media-types/\">w3</a>:</p>\n\n<blockquote>\n  <p>In summary, 'application/xhtml+xml'\n  SHOULD be used for XHTML Family\n  documents, and the use of 'text/html'\n  SHOULD be limited to HTML-compatible\n  XHTML 1.0 documents. 'application/xml'\n  and 'text/xml' MAY also be used, but\n  whenever appropriate,\n  'application/xhtml+xml' SHOULD be used\n  rather than those generic XML media\n  types.</p>\n</blockquote>\n\n<p>I puzzled over this a few months ago, and the only workable (compatible with FF3+ and IE7) solution was to use the old <code>&lt;script&gt;&lt;/script&gt;</code> syntax with <code>text/html</code> (HTML syntax + HTML mimetype).</p>\n\n<p>If your server sends the <code>text/html</code> type in its HTTP headers, even with otherwise properly formed XHTML documents, FF3+ will use its HTML rendering mode which means that <code>&lt;script /&gt;</code> will not work (this is a change, Firefox was previously less strict).</p>\n\n<p>This will happen regardless of any fiddling with <code>http-equiv</code> meta tags, the XML prolog or doctype inside your document -- Firefox branches once it gets the <code>text/html</code> header, that determines whether the HTML or XML parser looks inside the document, and the HTML parser does not understand <code>&lt;script /&gt;</code>.</p>\n",
                    "is_accepted": false,
                    "score": 136
                },
                {
                    "body": "<p>If you're serving XHTML as text/html, which you have to for Internet Explorer to do anything, it will be interpreted as HTML 4.01. You can only use the short syntax with any element that permits the closing tag to be omitted. See the <a href=\"http://www.w3.org/TR/html401/\">HTML 4.01 Specification</a>.</p>\n\n<p>The XML 'short form' is interpreted as an attribute named /, which (because there is no equals sign) is interpreted as having an implicit value of \"/\". This is strictly wrong in HTML 4.01 - undeclared attributes are not permitted - but browsers will ignore it.</p>\n\n<p>XHTML is largely pointless on the web at the moment, because you can't serve it to the majority browser. application/xhtml+xml is not supported in IE8 Beta 2 and I haven't seen anything saying they plan to support it. Stick with HTML 4.01.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The people above have already pretty much explained the issue, but one thing that might make things clear is that, though people use '&lt;br/>' and such all the time in HTML documents, any '/' in such a position is basically ignored, and only used when trying to make something both parseable as XML and HTML. Try '&lt;p/>foo&lt;/p>', for example, and you get a regular paragraph.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>In case anyone's curious, the ultimate reason is that HTML was originally a dialect of SGML, which is XML's weird older brother. In SGML-land, tags can be specified in the DTD as either self-closing (e.g. BR, HR, INPUT), implicitly closeable (e.g. P, LI, TD), or explicitly closeable (e.g. TABLE, DIV, SCRIPT). XML of course has no concept of this.</p>\n\n<p>The tag-soup parsers used by modern browsers evolved out of this legacy, although their parsing model isn't pure SGML anymore. And of course your carefully-crafted XHTML is being treated as badly-written tag-soup/SGML unless you send it with an XML mime type. This is also why...</p>\n\n<pre><code>&lt;p&gt;&lt;div&gt;hello&lt;/div&gt;&lt;/p&gt;\n</code></pre>\n\n<p>...gets interpreted by the browser as:</p>\n\n<pre><code>&lt;p&gt;&lt;/p&gt;&lt;div&gt;hello&lt;/div&gt;&lt;p&gt;&lt;/p&gt;\n</code></pre>\n\n<p>...which is the recipe for a lovely obscure bug that can throw you into fits as you try to code against the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 70
                },
                {
                    "body": "<p>The self closing script tag won't work, because the script tag can contain inline code, and HTML is not smart enough to turn on or off that feature based on the presence of an attribute.</p>\n\n<blockquote>\n  <p>On the other hand, HTML does have an excellent tag for including\n  references to outside resources: the <code>&lt;link&gt;</code> tag, and it can be\n  self-closing. It's already used to include stylesheets, RSS and Atom\n  feeds, canonical URIs, and all sorts of other goodies. Why not\n  JavaScript?</p>\n</blockquote>\n\n<p>If you want the script tag to be self enclosed you can't do that as I said, but there is an alternative, though not a smart one. You can use the self closing link tag and link to your JavaScript by giving it a type of text/javascript and rel as script, something like below:</p>\n\n<pre><code>&lt;link type=\"text/javascript\" rel =\"script\" href=\"/path/tp/javascript\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Others has answered 'how' and quoted spec.  Here is the real story of 'why'.</p>\n\n<hr>\n\n<p><strong>HTML 4</strong></p>\n\n<p>HTML 4 is based on <a href=\"http://www.iso.org/iso/catalogue_detail.htm?csnumber=16387\" rel=\"nofollow\">SGML</a>.</p>\n\n<p>SGML has some <a href=\"https://en.wikipedia.org/wiki/Standard_Generalized_Markup_Language#SHORTTAG\" rel=\"nofollow\">shorttags</a>, such as <code>&lt;BR//</code>, <code>&lt;B&gt;text&lt;/&gt;</code>, <code>&lt;B/text/</code>, or <code>&lt;OL&lt;LI&gt;item&lt;/LI&lt;/OL&gt;</code>.\nXML takes the first form and defines the ending as '>' instead (allowed by SGML), so that it is written as <code>&lt;BR/&gt;</code>.</p>\n\n<p>However, you cannot redefine tokens in HTML, so <code>&lt;SCRIPT/&gt;</code> <a href=\"http://stackoverflow.com/a/3201889/893578\"><em>should</em> means</a> <code>&lt;SCRIPT&gt;&gt;</code>.\n(Yes, the '>' should be part of content, and tag is still <em>not</em> closed.)</p>\n\n<p>Obviously, this is incompatible with XHTML and <em>will</em> break many sites (by the time browser matures enough <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=47522\" rel=\"nofollow\">to care</a> <a href=\"https://bugs.webkit.org/show_bug.cgi?id=6393\" rel=\"nofollow\">about this</a>), so <a href=\"http://stackoverflow.com/a/9619296/893578\">nobody implement shorttag</a> and the spec <a href=\"http://www.w3.org/TR/html401/appendix/notes.html#h-B.3.3\" rel=\"nofollow\">advise against them</a>.</p>\n\n<p>Effectively, all 'working' self-ended tags are tags with optional end tag on technically non-conformance parsers, and are in fact invalid.\nIt is W3C who <a href=\"https://www.webkit.org/blog/68/understanding-html-xml-and-xhtml/\" rel=\"nofollow\">came up with this hack</a>, to help transit to XHTML by making them <a href=\"http://www.w3.org/TR/xhtml1/#guidelines\" rel=\"nofollow\">HTML compatible</a>.</p>\n\n<p>And <code>&lt;script&gt;</code>'s end tag is <a href=\"http://www.w3.org/TR/html401/interact/scripts.html#h-18.2.1\" rel=\"nofollow\">not optional</a>.</p>\n\n<p><strong>'Self-ending' tags is a hack in HTML 4 and is meaningless.</strong></p>\n\n<hr>\n\n<p><strong>HTML 5</strong></p>\n\n<p>HTML5 has <a href=\"https://html.spec.whatwg.org/multipage/syntax.html#elements-2\" rel=\"nofollow\">five type of tags</a>, and only 'void' and 'foreign' tags are <a href=\"https://html.spec.whatwg.org/multipage/syntax.html#syntax-tags\" rel=\"nofollow\">allowed to be self-closing</a>.</p>\n\n<p>Because <code>&lt;script&gt;</code> is not void (it <em>may</em> have content) and is not foreign (like MathML or SVG), <code>&lt;script&gt;</code> cannot be self-closed, regardless of how you use it.</p>\n\n<p>But why?</p>\n\n<p>HTML 5 aims to be <a href=\"https://html.spec.whatwg.org/multipage/introduction.html#history-2\" rel=\"nofollow\">backward-compatible</a> with <em>implementations</em> of HTML 4 and XHTML 1.\nIt is not based on SGML or XML; in term of syntax it is mainly concerned with documenting and uniting the implementations.\n(This is also why <code>&lt;br/&gt;</code> and <code>&lt;hr/&gt;</code> etc. are <a href=\"https://html.spec.whatwg.org/multipage/syntax.html#start-tags\" rel=\"nofollow\">valid HTML 5</a>)</p>\n\n<p>And self-closing script is one of the tags where implementations used to differ.\nIt used to <a href=\"https://www.webkit.org/blog/1273/the-html5-parsing-algorithm/\" rel=\"nofollow\">work in Chrome and Safari</a> (and Opera I heard); to my knowledge it never worked in IE and Firefox.</p>\n\n<p><a href=\"http://lists.w3.org/Archives/Public/public-whatwg-archive/2009Aug/0101.html\" rel=\"nofollow\">This was discussed</a> when HTML 5 was being drafted, and is rejected because it <a href=\"http://lists.w3.org/Archives/Public/public-whatwg-archive/2009Aug/0104.html\" rel=\"nofollow\">Breaks</a> <a href=\"http://lists.w3.org/Archives/Public/public-whatwg-archive/2009Aug/0117.html\" rel=\"nofollow\">Browser</a> <a href=\"http://lists.w3.org/Archives/Public/public-whatwg-archive/2009Aug/0119.html\" rel=\"nofollow\">Compatibility</a>.\nThere were <a href=\"http://lists.w3.org/Archives/Public/public-whatwg-archive/2009Aug/0384.html\" rel=\"nofollow\">other proposals</a>, but it doesn't solve the compatibility problem either.</p>\n\n<p>After the draft is out, Webkit updated the parser to not self close script and similar tags.</p>\n\n<p><strong>Self-closing <code>&lt;script&gt;</code> does not happen in HTML 5 because of backward compatibility.</strong></p>\n\n<hr>\n\n<p><strong>XHTML 1 / XHTML 5</strong></p>\n\n<p>When <em>really</em> served as XHTML, <code>&lt;script/&gt;</code> is really closed, as <a href=\"http://stackoverflow.com/a/70288/893578\">other answers</a> have stated.</p>\n\n<p>Except that <a href=\"http://www.w3.org/TR/xhtml1/#media\" rel=\"nofollow\">the spec says</a> it <em>should</em> have worked when served as html:</p>\n\n<blockquote>\n  <p>XHTML Documents ... may be labeled with the Internet Media Type \"text/html\" [RFC2854], as they are compatible with most HTML browsers.</p>\n</blockquote>\n\n<p>So, what happened?</p>\n\n<p>People did <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=67646\" rel=\"nofollow\">ask Firefox</a> to <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=107904\" rel=\"nofollow\">parse</a> conforming documents as <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=109837\" rel=\"nofollow\">XHTML</a>, regardless of content-header (known as <a href=\"https://en.wikipedia.org/wiki/Content_sniffing\" rel=\"nofollow\">content sniffing</a>).</p>\n\n<p>Content sniffing <a href=\"http://blogs.msdn.com/b/ie/archive/2005/02/01/364581.aspx\" rel=\"nofollow\">was necessary</a> because web hostings were not mature enough to serve the correct header, and IE was <a href=\"https://msdn.microsoft.com/en-us/library/ie/ms775147%28v=vs.85%29.aspx\" rel=\"nofollow\">good at it</a>.</p>\n\n<p>If the <a href=\"https://en.wikipedia.org/wiki/Browser_wars#First_browser_war\" rel=\"nofollow\">first browser war</a> didn't stop with IE 6, XHTML may have been added to the list, too.\nBut it did end.\nAnd IE 6 <a href=\"http://blog.isotoma.com/2008/01/xhtml-ccs-crashes-ie6/\" rel=\"nofollow\">has some problem</a> with XHTML.\nIn fact IE <a href=\"http://stackoverflow.com/questions/268526/blank-page-in-ie6\">did not support</a> correct MIME type <a href=\"http://blogs.msdn.com/b/ie/archive/2005/09/15/467901.aspx\" rel=\"nofollow\">at all</a>, forcing <em>everyone</em> to use <code>text/html</code> because IE <a href=\"https://en.wikipedia.org/wiki/Usage_share_of_web_browsers#TheCounter.com_.282000_to_2009.29\" rel=\"nofollow\">had major market share</a> for a whole decade.</p>\n\n<p>But content sniffing <a href=\"http://blogs.msdn.com/b/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx\" rel=\"nofollow\">can be</a> <a href=\"http://www.h-online.com/security/features/Risky-MIME-sniffing-in-Internet-Explorer-746229.html\" rel=\"nofollow\">really bad</a>, and some people <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=68421\" rel=\"nofollow\">wanted</a> it to stop.\nAt this stage, sniffing is starting to crack.</p>\n\n<p>Finally, it turns out that W3C <a href=\"http://lists.w3.org/Archives/Public/www-html/2000Sep/0024.html\" rel=\"nofollow\">didn't mean XHTML to be sniffable</a>: the document is <em>both</em> HTML and XHTML, and Content-Type rules.\nOne can say they are ignoring what was practical, a mistake that continued <a href=\"http://lemire.me/blog/archives/2006/10/30/reinventing-html-or-yes-we-admit-it-xhtml-failed/\" rel=\"nofollow\">into later versions</a>.</p>\n\n<p>However, this decision <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=109837#c11\" rel=\"nofollow\">settled the matter</a> for Firefox.\nIt is 7 years before Chrome <a href=\"https://en.wikipedia.org/wiki/Google_Chrome#Public_release\" rel=\"nofollow\">is born</a>; there was no other significant browser.\nThus it is decided.</p>\n\n<p><strong>Doctype alone does not trigger XML parsing because of specification.</strong></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>What is the reason browsers do not correctly recognize:</p>\n\n<pre><code>&lt;script src=\"foobar.js\" /&gt; &lt;!-- self-closing script tag --&gt;\n</code></pre>\n\n<p>Only this is recognized:</p>\n\n<pre><code>&lt;script src=\"foobar.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Does this break the concept of XHTML support?</p>\n\n<p>Note: This statement is correct at least for all IE (6-8 beta 2).</p>\n",
            "last_activity_date": 1424935820,
            "question_id": 69913,
            "score": 600,
            "tags": [
                "javascript",
                "html",
                "internet-explorer",
                "xhtml"
            ],
            "title": "Why don&#39;t self-closing script tags work?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Check out the built-in function <code>encodeURIComponent(str)</code> and <code>encodeURI(str)</code>.<br>\nIn your case, this should work:</p>\n\n<pre><code>var myOtherUrl = \n       \"http://example.com/index.html?url=\" + encodeURIComponent(myUrl);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1491
                },
                {
                    "body": "<p>You have three options:</p>\n\n<ul>\n<li><p><code>escape()</code> will not encode: <code>@*/+</code></p></li>\n<li><p><code>encodeURI()</code> will not encode: <code>~!@#$&amp;*()=:/,;?+'</code></p></li>\n<li><p><code>encodeURIComponent()</code> will not encode: <code>~!*()'</code></p></li>\n</ul>\n\n<p>But in your case, if you want to pass a <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\">URL</a> into a <code>GET</code> parameter of other page, you should use <code>escape</code> or <code>encodeURIComponent</code>, but not <code>encodeURI</code>.</p>\n\n<p>See Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/75980/best-practice-escape-or-encodeuri-encodeuricomponent\">Best practice: escape, or encodeURI / encodeURIComponent</a></em> for further discussion.</p>\n",
                    "is_accepted": false,
                    "score": 868
                },
                {
                    "body": "<p>Stick with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\"><code>encodeURIComponent()</code></a>. The function <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI\"><code>encodeURI()</code></a> does not bother to encode many characters that have semantic importance in URLs (e.g. \"#\", \"?\", and \"&amp;\"). <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape\"><code>escape()</code></a> is deprecated, and does not bother to encode \"+\" characters, which will be interpreted as encoded spaces on the server (and, as pointed out by others here, does not properly URL-encode non-ASCII characters).</p>\n\n<p>There is a nice <a href=\"http://stackoverflow.com/questions/75980/best-practice-escape-or-encodeuri-encodeuricomponent\">explanation of the difference between <code>encodeURI()</code> and <code>encodeURIComponent()</code></a> elsewhere. If you want to encode something so that it can safely be included as a component of a URI (e.g. as a query string parameter), you want to use <code>encodeURIComponent()</code>.</p>\n",
                    "is_accepted": false,
                    "score": 90
                },
                {
                    "body": "<p>Nothing worked for me. All I was seeing was the HTML of the login page, coming back to the client side with code 200. (302 at first but the same Ajax request loading login page inside another Ajax request, which was supposed to be a redirect rather than loading plain text of the login page).</p>\n\n<p>In the login controller, I added this line:</p>\n\n<pre><code>Response.Headers[\"land\"] = \"login\";\n</code></pre>\n\n<p>And in the global Ajax handler, I did this:</p>\n\n<pre><code>$(function () {\n    var $document = $(document);\n    $document.ajaxSuccess(function (e, response, request) {\n        var land = response.getResponseHeader('land');\n        var redrUrl = '/login?ReturnUrl=' + encodeURIComponent(window.location);\n        if(land) {\n            if (land.toString() === 'login') {\n                window.location = redrUrl;\n            }\n        }\n    });\n});\n</code></pre>\n\n<p>Now I don't have any issue, and it works like a charm.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Personally, I find that many APIs want to replace \" \" with \"+\" so I use the following:</p>\n\n<pre><code>encodeURIComponent(value).replace(/%20/g,'+')\n</code></pre>\n\n<p><code>escape</code> is implemented differently in different browsers and <code>encodeURI</code> doesn't encode most of the characters that are functional in a URI (like # and even /) -- it's made to be used on a full URI/URL without breaking it.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>If you are using jQuery I would go for <a href=\"http://api.jquery.com/jquery.param/\"><code>$.param</code></a> method. It URL encodes an object mapping fields to values, which is easier to read than calling an escape method on each value.</p>\n\n<pre><code>$.param({a:\"1=2\", b:\"Test 1\"}) // gets a=1%3D2&amp;b=Test+1\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Similar kind of thing I tried with normal javascript</p>\n\n<pre><code>function fixedEncodeURIComponent(str){\n     return encodeURIComponent(str).replace(/[!'()]/g, escape).replace(/\\*/g, \"%2A\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How do you safely encode a URL using JavaScript such that it can be put into a GET string?</p>\n\n<pre><code>var myUrl = \"http://example.com/index.html?param=1&amp;anotherParam=2\";\nvar myOtherUrl = \"http://example.com/index.html?url=\" + myUrl;\n</code></pre>\n\n<p>I assume that you need to encode the <code>myUrl</code> variable on that second line?</p>\n",
            "last_activity_date": 1424280367,
            "question_id": 332872,
            "score": 1162,
            "tags": [
                "javascript",
                "url",
                "encoding"
            ],
            "title": "Encode URL in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>It returns whether the statement can evaluate to false. eg:</p>\n\n<pre><code>!false      // true\n!true       // false\n!isValid()  // is not valid\n</code></pre>\n\n<p>You can use it twice to coerce a value to boolean:</p>\n\n<pre><code>!!1    // true\n!!0    // false\n</code></pre>\n\n<p>So, to more directly answer your question:</p>\n\n<pre><code>var myVar = !function(){ return false; }();  // myVar contains true\n</code></pre>\n\n<p><strong>Edit:</strong> It has the side effect of changing the function declaration to a function statement, allowing the function to be executed immediately.  Ie, the following code is not valid because it is a function declaration and not a statement:</p>\n\n<pre><code>function() { return false; }();  // syntax error\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>The function:</p>\n\n<pre><code>function () {}\n</code></pre>\n\n<p>returns nothing (or undefined). </p>\n\n<p>Sometimes we want to call a function right as we create it. You might be tempted to try this:</p>\n\n<pre><code>function () {}()\n</code></pre>\n\n<p>but it results in a <code>SyntaxError</code>.</p>\n\n<p>Using the <code>!</code> operator before the function causes it to be treated as an expression, so we can call it:</p>\n\n<pre><code>!function () {}()\n</code></pre>\n\n<p>This will also return the boolean opposite of the return value of the function, in this case <code>true</code>, because <code>!undefined</code> is <code>true</code>. If you want the actual return value to be the result of the call, then try doing it this way:</p>\n\n<pre><code>(function () {})()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 187
                },
                {
                    "body": "<p>JavaScript syntax 101. Here is a function declaration:</p>\n\n<pre><code>function foo() {}\n</code></pre>\n\n<p>Note that there's no semicolon: this is a function declaration; you need a separate invocation of <code>foo()</code> to actually run the function.</p>\n\n<p>On the other hand, <code>!function foo() {}</code> is an expression, but that still doesn't invoke the function, but we can now use <code>!function foo() {}()</code> to do that, as <code>()</code> has higher precedence than <code>!</code>. Presumably the original example function doesn't need a self-reference so that the name then can be dropped.</p>\n\n<p>So what the author is doing is saving a byte per function expression; a more readable way of writing it would be this:</p>\n\n<pre><code>(function(){})();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 883
                },
                {
                    "body": "<p>And here's something more I figured out from the console. As mentioned earlier, the exclamation mark makes the function return a boolean.</p>\n\n<p>For the latter one of the syntax:</p>\n\n<pre><code>( function my_function() {} )()\n</code></pre>\n\n<p>We can do something like:</p>\n\n<pre><code>(function add_them(a,b) { return a+b;} )(9,4)\n</code></pre>\n\n<p>Like a simultaneous function definition and call.</p>\n\n<p><strong>Edit:</strong><br />\nNow you would ask what's the use of '!' type function definition. Let's consider the following:</p>\n\n<pre><code>!function a_would_be_function() { alert(\"Do some junk but inside a function\"); }()\n</code></pre>\n\n<p>you would want to execute a function like above, but without a '!' would generate an error. Hope I'm clear.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There is good point for using <code>!</code> for function invocation marked on <a href=\"https://github.com/airbnb/javascript/issues/44#issuecomment-13063933\">aibnb javascript guide</a></p>\n\n<p>Generally idea for using this technique on separate files (aka modules) which later get concatenated. Caveat here is that files supposed to be concatenated by tools which put new file at new line (which is anyway common behavior for most of concat tools). In that case using <code>!</code> will help to avoid error in if previously concatenated module missed trailing semicolon, and yet that will give flexibility to put them in any order with no worry.</p>\n\n<pre><code>!function abc(){}()\n!function bca(){}();\n</code></pre>\n\n<p>Will work same as</p>\n\n<pre><code>!function abc(){}()\n;(function bca(){})();\n</code></pre>\n\n<p>but saves two characters and arbitrary looks better.</p>\n\n<p>And by the way any of <code>+</code>,<code>-</code>,<code>~</code> sequence have same effect, in terms of invoking function, for sure if you have use something to return from that function they would act differently.</p>\n\n<pre><code>abcval = !function abc(){return true;}() // abcval equals false\nbcaval = +function bca(){return true;}() // bcaval equals 1\nzyxval = -function zyx(){return true;}() // zyxval equals -1\nxyzval = ~function xyz(){return true;}() // your guess?\n</code></pre>\n\n<p>but if you using IIFE patterns for one file one module code separation and using concat tool for optimization (which makes one line one file job), than construction</p>\n\n<pre><code>!function abc(/*no returns*/) {}()\n+function bca() {/*no returns*/}()\n</code></pre>\n\n<p>Will do safe code execution, same as a very first code sample. </p>\n\n<p>This one will throw error cause JavaScirpt ASI will not be able to do its work.</p>\n\n<pre><code>!function abc(/*no returns*/) {}()\n(function bca() {/*no returns*/})()\n</code></pre>\n\n<p>One note regarding <code>^</code>,<code>&amp;</code>,<code>*</code>,<code>,</code> elements, they would do similar work, but only in case they used not in the first module. So they are not so safe if you do not have total control over the concatination order.</p>\n\n<p>This works:</p>\n\n<pre><code>!function abc(/*no returns*/) {}()\n^function bca() {/*no returns*/}()\n</code></pre>\n\n<p>This not:</p>\n\n<pre><code>^function abc(/*no returns*/) {}()\n!function bca() {/*no returns*/}()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<pre><code>!function () {}();\n</code></pre>\n",
            "last_activity_date": 1425611242,
            "question_id": 3755606,
            "score": 486,
            "tags": [
                "javascript",
                "function"
            ],
            "title": "What does the exclamation mark do before the function?"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.webtoolkit.info/javascript-base64.html\">From here</a>:</p>\n\n<pre><code>/**\n*\n*  Base64 encode / decode\n*  http://www.webtoolkit.info/\n*\n**/\nvar Base64 = {\n\n// private property\n_keyStr : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\n// public method for encoding\nencode : function (input) {\n    var output = \"\";\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i &lt; input.length) {\n\n        chr1 = input.charCodeAt(i++);\n        chr2 = input.charCodeAt(i++);\n        chr3 = input.charCodeAt(i++);\n\n        enc1 = chr1 &gt;&gt; 2;\n        enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n        enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n        enc4 = chr3 &amp; 63;\n\n        if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n            enc4 = 64;\n        }\n\n        output = output +\n        this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\n        this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\n\n    }\n\n    return output;\n},\n\n// public method for decoding\ndecode : function (input) {\n    var output = \"\";\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n    while (i &lt; input.length) {\n\n        enc1 = this._keyStr.indexOf(input.charAt(i++));\n        enc2 = this._keyStr.indexOf(input.charAt(i++));\n        enc3 = this._keyStr.indexOf(input.charAt(i++));\n        enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n        chr1 = (enc1 &lt;&lt; 2) | (enc2 &gt;&gt; 4);\n        chr2 = ((enc2 &amp; 15) &lt;&lt; 4) | (enc3 &gt;&gt; 2);\n        chr3 = ((enc3 &amp; 3) &lt;&lt; 6) | enc4;\n\n        output = output + String.fromCharCode(chr1);\n\n        if (enc3 != 64) {\n            output = output + String.fromCharCode(chr2);\n        }\n        if (enc4 != 64) {\n            output = output + String.fromCharCode(chr3);\n        }\n\n    }\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n\n},\n\n// private method for UTF-8 encoding\n_utf8_encode : function (string) {\n    string = string.replace(/\\r\\n/g,\"\\n\");\n    var utftext = \"\";\n\n    for (var n = 0; n &lt; string.length; n++) {\n\n        var c = string.charCodeAt(n);\n\n        if (c &lt; 128) {\n            utftext += String.fromCharCode(c);\n        }\n        else if((c &gt; 127) &amp;&amp; (c &lt; 2048)) {\n            utftext += String.fromCharCode((c &gt;&gt; 6) | 192);\n            utftext += String.fromCharCode((c &amp; 63) | 128);\n        }\n        else {\n            utftext += String.fromCharCode((c &gt;&gt; 12) | 224);\n            utftext += String.fromCharCode(((c &gt;&gt; 6) &amp; 63) | 128);\n            utftext += String.fromCharCode((c &amp; 63) | 128);\n        }\n\n    }\n\n    return utftext;\n},\n\n// private method for UTF-8 decoding\n_utf8_decode : function (utftext) {\n    var string = \"\";\n    var i = 0;\n    var c = c1 = c2 = 0;\n\n    while ( i &lt; utftext.length ) {\n\n        c = utftext.charCodeAt(i);\n\n        if (c &lt; 128) {\n            string += String.fromCharCode(c);\n            i++;\n        }\n        else if((c &gt; 191) &amp;&amp; (c &lt; 224)) {\n            c2 = utftext.charCodeAt(i+1);\n            string += String.fromCharCode(((c &amp; 31) &lt;&lt; 6) | (c2 &amp; 63));\n            i += 2;\n        }\n        else {\n            c2 = utftext.charCodeAt(i+1);\n            c3 = utftext.charCodeAt(i+2);\n            string += String.fromCharCode(((c &amp; 15) &lt;&lt; 12) | ((c2 &amp; 63) &lt;&lt; 6) | (c3 &amp; 63));\n            i += 3;\n        }\n\n    }\n\n    return string;\n}\n\n}\n</code></pre>\n\n<p>Also, search on <a href=\"http://www.google.com/search?q=javascript+base64+encode\">\"javascript base64 encoding\"</a> turns a lot of other options, the above was the first one.</p>\n",
                    "is_accepted": false,
                    "score": 181
                },
                {
                    "body": "<p>If you\u2019re writing code that doesn\u2019t need to support IE9 or earlier, then you can use <a href=\"https://developer.mozilla.org/En/DOM/Window.btoa\"><code>btoa()</code></a> and <a href=\"https://developer.mozilla.org/en/DOM/window.atob\"><code>atob()</code></a> to convert to and from base64 encoding. Otherwise, use something like <a href=\"http://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript#246813\">the function Sunny referenced</a>.</p>\n\n<p>There appears to be some confusion in the comments regarding what these functions accept/return, so\u2026</p>\n\n<ul>\n<li><p><code>btoa()</code> accepts a \u201cstring\u201d where each character represents an 8-bit byte \u2013 if you pass a string containing characters that can\u2019t be represented in 8 bits, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.btoa#Unicode_Strings\">it will probably break</a>. This isn\u2019t a problem <em>if</em> you\u2019re actually treating the string as a byte array, but if you\u2019re trying to do something else then you\u2019ll have to encode it first.</p></li>\n<li><p><code>atob()</code> returns a \u201cstring\u201d where each character represents an 8-bit byte \u2013 that is, its value will be between <code>0</code> and <code>0xff</code>. This does <em>not</em> mean it\u2019s ASCII \u2013 presumably if you\u2019re using this function at all, you expect to be working with binary data and not text.</p></li>\n</ul>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/1095102/how-do-i-load-binary-image-data-using-javascript-and-xmlhttprequest\">How do I load binary image data using Javascript and XMLHttpRequest?</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 306
                },
                {
                    "body": "<p>Sunny's code is great except it breaks in IE7 because of references to \"this\".   Fixed by replacing such references with \"Base64\":</p>\n\n<pre><code>var Base64 = {\n// private property\n_keyStr : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\n// public method for encoding\nencode : function (input) {\n    var output = \"\";\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i &lt; input.length) {\n\n        chr1 = input.charCodeAt(i++);\n        chr2 = input.charCodeAt(i++);\n        chr3 = input.charCodeAt(i++);\n\n        enc1 = chr1 &gt;&gt; 2;\n        enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n        enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n        enc4 = chr3 &amp; 63;\n\n        if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n            enc4 = 64;\n        }\n\n        output = output +\n        Base64._keyStr.charAt(enc1) + Base64._keyStr.charAt(enc2) +\n        Base64._keyStr.charAt(enc3) + Base64._keyStr.charAt(enc4);\n\n    }\n\n    return output;\n},\n\n// public method for decoding\ndecode : function (input) {\n    var output = \"\";\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n    while (i &lt; input.length) {\n\n        enc1 = Base64._keyStr.indexOf(input.charAt(i++));\n        enc2 = Base64._keyStr.indexOf(input.charAt(i++));\n        enc3 = Base64._keyStr.indexOf(input.charAt(i++));\n        enc4 = Base64._keyStr.indexOf(input.charAt(i++));\n\n        chr1 = (enc1 &lt;&lt; 2) | (enc2 &gt;&gt; 4);\n        chr2 = ((enc2 &amp; 15) &lt;&lt; 4) | (enc3 &gt;&gt; 2);\n        chr3 = ((enc3 &amp; 3) &lt;&lt; 6) | enc4;\n\n        output = output + String.fromCharCode(chr1);\n\n        if (enc3 != 64) {\n            output = output + String.fromCharCode(chr2);\n        }\n        if (enc4 != 64) {\n            output = output + String.fromCharCode(chr3);\n        }\n\n    }\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n\n},\n\n// private method for UTF-8 encoding\n_utf8_encode : function (string) {\n    string = string.replace(/\\r\\n/g,\"\\n\");\n    var utftext = \"\";\n\n    for (var n = 0; n &lt; string.length; n++) {\n\n        var c = string.charCodeAt(n);\n\n        if (c &lt; 128) {\n            utftext += String.fromCharCode(c);\n        }\n        else if((c &gt; 127) &amp;&amp; (c &lt; 2048)) {\n            utftext += String.fromCharCode((c &gt;&gt; 6) | 192);\n            utftext += String.fromCharCode((c &amp; 63) | 128);\n        }\n        else {\n            utftext += String.fromCharCode((c &gt;&gt; 12) | 224);\n            utftext += String.fromCharCode(((c &gt;&gt; 6) &amp; 63) | 128);\n            utftext += String.fromCharCode((c &amp; 63) | 128);\n        }\n\n    }\n\n    return utftext;\n},\n\n// private method for UTF-8 decoding\n_utf8_decode : function (utftext) {\n    var string = \"\";\n    var i = 0;\n    var c = c1 = c2 = 0;\n\n    while ( i &lt; utftext.length ) {\n\n        c = utftext.charCodeAt(i);\n\n        if (c &lt; 128) {\n            string += String.fromCharCode(c);\n            i++;\n        }\n        else if((c &gt; 191) &amp;&amp; (c &lt; 224)) {\n            c2 = utftext.charCodeAt(i+1);\n            string += String.fromCharCode(((c &amp; 31) &lt;&lt; 6) | (c2 &amp; 63));\n            i += 2;\n        }\n        else {\n            c2 = utftext.charCodeAt(i+1);\n            c3 = utftext.charCodeAt(i+2);\n            string += String.fromCharCode(((c &amp; 15) &lt;&lt; 12) | ((c2 &amp; 63) &lt;&lt; 6) | (c3 &amp; 63));\n            i += 3;\n        }\n\n    }\n    return string;\n}\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 79
                },
                {
                    "body": "<p>There's a couple of bugs in both implementations of <code>_utf8_decode</code>. <code>c1</code> and <code>c2</code> are assigned as global variables due to broken use of the <code>var</code> statement, and <code>c3</code> is not initialized or declared at all.</p>\n\n<p>It works, but these variables will overwrite any existing ones with the same name outside this function.</p>\n\n<p>Here's a version that won't do this:</p>\n\n<pre><code>// private method for UTF-8 decoding\n_utf8_decode : function (utftext) {\n    var string = \"\";\n    var i = 0;\n    var c = 0, c1 = 0, c2 = 0;\n\n    while ( i &lt; utftext.length ) {\n\n        c = utftext.charCodeAt(i);\n\n        if (c &lt; 128) {\n            string += String.fromCharCode(c);\n            i++;\n        }\n        else if((c &gt; 191) &amp;&amp; (c &lt; 224)) {\n            c1 = utftext.charCodeAt(i+1);\n            string += String.fromCharCode(((c &amp; 31) &lt;&lt; 6) | (c1 &amp; 63));\n            i += 2;\n        }\n        else {\n            c1 = utftext.charCodeAt(i+1);\n            c2 = utftext.charCodeAt(i+2);\n            string += String.fromCharCode(((c &amp; 15) &lt;&lt; 12) | ((c1 &amp; 63) &lt;&lt; 6) | (c2 &amp; 63));\n            i += 3;\n        }\n\n    }\n    return string;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>To make a Base64 encoded String URL friendly, in JavaScript you could do something like this:</p>\n\n<pre><code>// if this is your Base64 encoded string\nvar str = 'VGhpcyBpcyBhbiBhd2Vzb21lIHNjcmlwdA=='; \n\n// make URL friendly:\nstr = str.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/\\=+$/, '');\n\n// reverse to original encoding\nstr = (str + '===').slice(0, str.length + (str.length % 4));\nstr = str.replace(/-/g, '+').replace(/_/g, '/');\n</code></pre>\n\n<p>See also this Fiddle: <a href=\"http://jsfiddle.net/magikMaker/7bjaT/\">http://jsfiddle.net/magikMaker/7bjaT/</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>You can use <code>btoa</code> (to base-64) and <code>atob</code> (from base-64). </p>\n\n<p>For IE 9 and below, try the <a href=\"https://github.com/carlo/jquery-base64\">jquery-base64</a> plugin:</p>\n\n<pre><code>$.base64.encode(\"this is a test\");\n$.base64.decode(\"dGhpcyBpcyBhIHRlc3Q=\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 55
                },
                {
                    "body": "<p>I +1'ed Sunny's answer, but I wanted to contribute back a few changes I made for my own project in case anyone should find it useful. Basically I've just cleaned up the original code a little so JSLint doesn't complain quite as much, and I made the methods marked as private in the comments actually private. I also added two methods I needed in my own project, namely <code>decodeToHex</code> and <code>encodeFromHex</code>.</p>\n\n<p>The code:</p>\n\n<pre><code>var Base64 = (function() {\n    \"use strict\";\n\n    var _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n    var _utf8_encode = function (string) {\n\n        var utftext = \"\", c, n;\n\n        string = string.replace(/\\r\\n/g,\"\\n\");\n\n        for (n = 0; n &lt; string.length; n++) {\n\n            c = string.charCodeAt(n);\n\n            if (c &lt; 128) {\n\n                utftext += String.fromCharCode(c);\n\n            } else if((c &gt; 127) &amp;&amp; (c &lt; 2048)) {\n\n                utftext += String.fromCharCode((c &gt;&gt; 6) | 192);\n                utftext += String.fromCharCode((c &amp; 63) | 128);\n\n            } else {\n\n                utftext += String.fromCharCode((c &gt;&gt; 12) | 224);\n                utftext += String.fromCharCode(((c &gt;&gt; 6) &amp; 63) | 128);\n                utftext += String.fromCharCode((c &amp; 63) | 128);\n\n            }\n\n        }\n\n        return utftext;\n    };\n\n    var _utf8_decode = function (utftext) {\n        var string = \"\", i = 0, c = 0, c1 = 0, c2 = 0;\n\n        while ( i &lt; utftext.length ) {\n\n            c = utftext.charCodeAt(i);\n\n            if (c &lt; 128) {\n\n                string += String.fromCharCode(c);\n                i++;\n\n            } else if((c &gt; 191) &amp;&amp; (c &lt; 224)) {\n\n                c1 = utftext.charCodeAt(i+1);\n                string += String.fromCharCode(((c &amp; 31) &lt;&lt; 6) | (c1 &amp; 63));\n                i += 2;\n\n            } else {\n\n                c1 = utftext.charCodeAt(i+1);\n                c2 = utftext.charCodeAt(i+2);\n                string += String.fromCharCode(((c &amp; 15) &lt;&lt; 12) | ((c1 &amp; 63) &lt;&lt; 6) | (c2 &amp; 63));\n                i += 3;\n\n            }\n\n        }\n\n        return string;\n    };\n\n    var _hexEncode = function(input) {\n        var output = '', i;\n\n        for(i = 0; i &lt; input.length; i++) {\n            output += input.charCodeAt(i).toString(16);\n        }\n\n        return output;\n    };\n\n    var _hexDecode = function(input) {\n        var output = '', i;\n\n        if(input.length % 2 &gt; 0) {\n            input = '0' + input;\n        }\n\n        for(i = 0; i &lt; input.length; i = i + 2) {\n            output += String.fromCharCode(parseInt(input.charAt(i) + input.charAt(i + 1), 16));\n        }\n\n        return output;\n    };\n\n    var encode = function (input) {\n        var output = \"\", chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;\n\n        input = _utf8_encode(input);\n\n        while (i &lt; input.length) {\n\n            chr1 = input.charCodeAt(i++);\n            chr2 = input.charCodeAt(i++);\n            chr3 = input.charCodeAt(i++);\n\n            enc1 = chr1 &gt;&gt; 2;\n            enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n            enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n            enc4 = chr3 &amp; 63;\n\n            if (isNaN(chr2)) {\n                enc3 = enc4 = 64;\n            } else if (isNaN(chr3)) {\n                enc4 = 64;\n            }\n\n            output += _keyStr.charAt(enc1);\n            output += _keyStr.charAt(enc2);\n            output += _keyStr.charAt(enc3);\n            output += _keyStr.charAt(enc4);\n\n        }\n\n        return output;\n    };\n\n    var decode = function (input) {\n        var output = \"\", chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;\n\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n        while (i &lt; input.length) {\n\n            enc1 = _keyStr.indexOf(input.charAt(i++));\n            enc2 = _keyStr.indexOf(input.charAt(i++));\n            enc3 = _keyStr.indexOf(input.charAt(i++));\n            enc4 = _keyStr.indexOf(input.charAt(i++));\n\n            chr1 = (enc1 &lt;&lt; 2) | (enc2 &gt;&gt; 4);\n            chr2 = ((enc2 &amp; 15) &lt;&lt; 4) | (enc3 &gt;&gt; 2);\n            chr3 = ((enc3 &amp; 3) &lt;&lt; 6) | enc4;\n\n            output += String.fromCharCode(chr1);\n\n            if (enc3 !== 64) {\n                output += String.fromCharCode(chr2);\n            }\n            if (enc4 !== 64) {\n                output += String.fromCharCode(chr3);\n            }\n\n        }\n\n        return _utf8_decode(output);\n    };\n\n    var decodeToHex = function(input) {\n        return _hexEncode(decode(input));\n    };\n\n    var encodeFromHex = function(input) {\n        return encode(_hexDecode(input));\n    };\n\n    return {\n        'encode': encode,\n        'decode': decode,\n        'decodeToHex': decodeToHex,\n        'encodeFromHex': encodeFromHex\n    };\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>if you need to encode HTML image object,\nyou can write simple function like:</p>\n\n<pre><code>function getBase64Image(img) {  \n  var canvas = document.createElement(\"canvas\");  \n  canvas.width = img.width;  \n  canvas.height = img.height;  \n  var ctx = canvas.getContext(\"2d\");  \n  ctx.drawImage(img, 0, 0);  \n  var dataURL = canvas.toDataURL(\"image/png\");  \n  // escape data:image prefix\n  return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");  \n  // or just return dataURL\n  // return dataURL\n}  \n</code></pre>\n\n<p>To get base64 of image by id:</p>\n\n<pre><code>function getBase64ImageById(id){  \n  return getBase64Image(document.getElementById(id));  \n} \n</code></pre>\n\n<p>more <a href=\"http://drcreazy.com/art/61/base64-javascript.aspx\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Please note that this is not suitable for raw Unicode strings! See Unicode section <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.btoa\">here</a>.</p>\n\n<p>Syntax for encoding</p>\n\n<p><code>var encodedData = window.btoa(stringToEncode);</code></p>\n\n<p>Syntax for decoding</p>\n\n<p><code>var decodedData = window.atob(encodedData);</code></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I have re-wrote by hand, these encoding and decoding methods with the exception of the hexadecimal one into a modular format for cross-platform / browser compatibility and also with real private scoping, and uses <code>btoa</code> and <code>atob</code> if they exist due to speed rather than utilize its own encoding:</p>\n\n<p><a href=\"https://gist.github.com/Nijikokun/5192472\">https://gist.github.com/Nijikokun/5192472</a></p>\n\n<p>Usage:</p>\n\n<pre><code>base64.encode(/* String */);\nbase64.decode(/* String */);\n\nutf8.encode(/* String */);\nutf8.decode(/* String */);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>For my project I still need to support IE7 and work with large input to encode.</p>\n\n<p>Based on the code proposed by Joe Dyndale and as suggested in comment by Marius, it is possible to improve the performance with IE7 by constructing the result with an array instead of a string.</p>\n\n<p>Here is the example for encode:</p>\n\n<pre><code>var encode = function (input) {\n    var output = [], chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;\n\n    input = _utf8_encode(input);\n\n    while (i &lt; input.length) {\n\n        chr1 = input.charCodeAt(i++);\n        chr2 = input.charCodeAt(i++);\n        chr3 = input.charCodeAt(i++);\n\n        enc1 = chr1 &gt;&gt; 2;\n        enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n        enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n        enc4 = chr3 &amp; 63;\n\n        if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n            enc4 = 64;\n        }\n\n        output.push(_keyStr.charAt(enc1));\n        output.push(_keyStr.charAt(enc2));\n        output.push(_keyStr.charAt(enc3));\n        output.push(_keyStr.charAt(enc4));\n\n    }\n\n    return output.join(\"\");\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>well, if you are using dojo, it gives us dircet way to encode or decode into base64.</p>\n\n<p>try this:-</p>\n\n<p>To encode an array of bytes using dojox.encoding.base64:</p>\n\n<pre><code>var str = dojox.encoding.base64.encode(myByteArray);\n</code></pre>\n\n<p>To decode a base64-encoded string:</p>\n\n<pre><code>var bytes = dojox.encoding.base64.decode(str);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Base64 encode/decode functions can be found in Google Closure:</p>\n\n<p><a href=\"http://docs.closure-library.googlecode.com/git/closure_goog_crypt_base64.js.source.html\" rel=\"nofollow\">base64.js</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'd rather use the bas64 encode/decode methods from <a href=\"https://code.google.com/p/crypto-js/#Encoders\" rel=\"nofollow\">CryptoJS</a>, the most popular library for standard and secure cryptographic algorithms implemented in JavaScript using best practices and patterns.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Contributing with a minified polyfill for <code>window.atob</code> + <code>window.btoa</code> that I'm currently using.</p>\n\n<pre><code>(function(){function t(t){this.message=t}var e=\"undefined\"!=typeof exports?exports:this,r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";t.prototype=Error(),t.prototype.name=\"InvalidCharacterError\",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c=\"\";e.charAt(0|a)||(i=\"=\",a%1);c+=i.charAt(63&amp;o&gt;&gt;8-8*(a%1))){if(n=e.charCodeAt(a+=.75),n&gt;255)throw new t(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");o=o&lt;&lt;8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,\"\"),1==e.length%4)throw new t(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var o,n,a=0,i=0,c=\"\";n=e.charAt(i++);~n&amp;&amp;(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&amp;o&gt;&gt;(6&amp;-2*a)):0)n=r.indexOf(n);return c})})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is an AngularJS Factory version of @user850789's one:</p>\n\n<pre><code>'use strict';\n\nvar ProjectNameBase64Factory = angular.module('project_name.factories.base64', []);\n\nProjectNameBase64Factory.factory('Base64', function () {\n    var Base64 = {\n        // private property\n        _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\n        // public method for encoding\n        encode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n\n            input = Base64._utf8_encode(input);\n\n            while (i &lt; input.length) {\n\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n\n                enc1 = chr1 &gt;&gt; 2;\n                enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n                enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n                enc4 = chr3 &amp; 63;\n\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n\n                output = output +\n                         Base64._keyStr.charAt(enc1) + Base64._keyStr.charAt(enc2) +\n                         Base64._keyStr.charAt(enc3) + Base64._keyStr.charAt(enc4);\n\n            }\n\n            return output;\n        },\n\n        // public method for decoding\n        decode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3;\n            var enc1, enc2, enc3, enc4;\n            var i = 0;\n\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n            while (i &lt; input.length) {\n\n                enc1 = Base64._keyStr.indexOf(input.charAt(i++));\n                enc2 = Base64._keyStr.indexOf(input.charAt(i++));\n                enc3 = Base64._keyStr.indexOf(input.charAt(i++));\n                enc4 = Base64._keyStr.indexOf(input.charAt(i++));\n\n                chr1 = (enc1 &lt;&lt; 2) | (enc2 &gt;&gt; 4);\n                chr2 = ((enc2 &amp; 15) &lt;&lt; 4) | (enc3 &gt;&gt; 2);\n                chr3 = ((enc3 &amp; 3) &lt;&lt; 6) | enc4;\n\n                output = output + String.fromCharCode(chr1);\n\n                if (enc3 != 64) {\n                    output = output + String.fromCharCode(chr2);\n                }\n                if (enc4 != 64) {\n                    output = output + String.fromCharCode(chr3);\n                }\n\n            }\n\n            output = Base64._utf8_decode(output);\n\n            return output;\n\n        },\n\n        // private method for UTF-8 encoding\n        _utf8_encode: function (string) {\n            string = string.replace(/\\r\\n/g, \"\\n\");\n            var utftext = \"\";\n\n            for (var n = 0; n &lt; string.length; n++) {\n\n                var c = string.charCodeAt(n);\n\n                if (c &lt; 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if ((c &gt; 127) &amp;&amp; (c &lt; 2048)) {\n                    utftext += String.fromCharCode((c &gt;&gt; 6) | 192);\n                    utftext += String.fromCharCode((c &amp; 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c &gt;&gt; 12) | 224);\n                    utftext += String.fromCharCode(((c &gt;&gt; 6) &amp; 63) | 128);\n                    utftext += String.fromCharCode((c &amp; 63) | 128);\n                }\n\n            }\n\n            return utftext;\n        },\n\n        // private method for UTF-8 decoding\n        _utf8_decode: function (utftext) {\n            var string = \"\";\n            var i = 0;\n            var c = 0, c2 = 0, c3 = 0;\n\n            while (i &lt; utftext.length) {\n\n                c = utftext.charCodeAt(i);\n\n                if (c &lt; 128) {\n                    string += String.fromCharCode(c);\n                    i++;\n                }\n                else if ((c &gt; 191) &amp;&amp; (c &lt; 224)) {\n                    c2 = utftext.charCodeAt(i + 1);\n                    string += String.fromCharCode(((c &amp; 31) &lt;&lt; 6) | (c2 &amp; 63));\n                    i += 2;\n                }\n                else {\n                    c2 = utftext.charCodeAt(i + 1);\n                    c3 = utftext.charCodeAt(i + 2);\n                    string += String.fromCharCode(((c &amp; 15) &lt;&lt; 12) | ((c2 &amp; 63) &lt;&lt; 6) | (c3 &amp; 63));\n                    i += 3;\n                }\n\n            }\n            return string;\n        }\n    };\n    return Base64;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I needed encoding of an UTF-8 string as base64 for a project of mine. Most of the answers here don't seem to properly handle UTF-16 surrogate pairs when converting to UTF-8 so, for completion sake, I will post my solution:</p>\n\n<pre><code>function strToUTF8Base64(str) {\n\n    function decodeSurrogatePair(hi, lo) {\n        var resultChar = 0x010000;\n        resultChar += lo - 0xDC00;\n        resultChar += (hi - 0xD800) &lt;&lt; 10;\n        return resultChar;\n    }\n\n    var bytes = [0, 0, 0];\n    var byteIndex = 0;\n    var result = [];\n\n    function output(s) {\n        result.push(s);\n    }\n\n    function emitBase64() {\n\n        var digits =\n                'ABCDEFGHIJKLMNOPQRSTUVWXYZ' +\n                'abcdefghijklmnopqrstuvwxyz' +\n                '0123456789+/';\n\n        function toDigit(value) {\n            return digits[value];\n        }\n\n        // --Byte 0--    --Byte 1--    --Byte 2--\n        // 1111  1122    2222  3333    3344  4444\n\n        var d1 = toDigit(bytes[0] &gt;&gt; 2);\n        var d2 = toDigit(\n            ((bytes[0] &amp; 0x03) &lt;&lt; 4) |\n            (bytes[1] &gt;&gt; 4));\n        var d3 = toDigit(\n            ((bytes[1] &amp; 0x0F) &lt;&lt; 2) |\n            (bytes[2] &gt;&gt; 6));\n        var d4 = toDigit(\n            bytes[2] &amp; 0x3F);\n\n        if (byteIndex === 1) {\n            output(d1 + d2 + '==');\n        }\n        else if (byteIndex === 2) {\n            output(d1 + d2 + d3 + '=');\n        }\n        else {\n            output(d1 + d2 + d3 + d4);\n        }\n    }\n\n    function emit(chr) {\n        bytes[byteIndex++] = chr;\n        if (byteIndex == 3) {\n            emitBase64();\n            bytes[0] = 0;\n            bytes[1] = 0;\n            bytes[2] = 0;\n            byteIndex = 0;\n        }\n    }\n\n    function emitLast() {\n        if (byteIndex &gt; 0) {\n            emitBase64();\n        }\n    }\n\n    // Converts the string to UTF8:\n\n    var i, chr;\n    var hi, lo;\n    for (i = 0; i &lt; str.length; i++) {\n        chr = str.charCodeAt(i);\n\n        // Test and decode surrogate pairs in the string\n        if (chr &gt;= 0xD800 &amp;&amp; chr &lt;= 0xDBFF) {\n            hi = chr;\n            lo = str.charCodeAt(i + 1);\n            if (lo &gt;= 0xDC00 &amp;&amp; lo &lt;= 0xDFFF) {\n                chr = decodeSurrogatePair(hi, lo);\n                i++;\n            }\n        }\n\n        // Encode the character as UTF-8.\n        if (chr &lt; 0x80) {\n            emit(chr);\n        }\n        else if (chr &lt; 0x0800) {\n            emit((chr &gt;&gt; 6) | 0xC0);\n            emit(((chr &gt;&gt; 0) &amp; 0x3F) | 0x80);\n        }\n        else if (chr &lt; 0x10000) {\n            emit((chr &gt;&gt; 12) | 0xE0);\n            emit(((chr &gt;&gt;  6) &amp; 0x3F) | 0x80);\n            emit(((chr &gt;&gt;  0) &amp; 0x3F) | 0x80);\n        }\n        else if (chr &lt; 0x110000) {\n            emit((chr &gt;&gt; 18) | 0xF0);\n            emit(((chr &gt;&gt; 12) &amp; 0x3F) | 0x80);\n            emit(((chr &gt;&gt;  6) &amp; 0x3F) | 0x80);\n            emit(((chr &gt;&gt;  0) &amp; 0x3F) | 0x80);\n        }\n    }\n\n    emitLast();\n\n    return result.join('');\n}\n</code></pre>\n\n<p>Note that the code is not thoroughly tested. I tested some inputs, including things like <code>strToUTF8Base64('\u8860\u8862\u8829\u8828')</code> and compared with the output of an online encoding tool (<a href=\"https://www.base64encode.org/\" rel=\"nofollow\">https://www.base64encode.org/</a>).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h2>Internet Explorer 10+</h2>\n\n<pre><code>// Define the string\nvar string = 'Hello World!';\n\n// Encode the String\nvar encodedString = btoa(string);\nconsole.log(encodedString); // Outputs: \"SGVsbG8gV29ybGQh\"\n\n// Decode the String\nvar decodedString = atob(encodedString);\nconsole.log(decodedString); // Outputs: \"Hello World!\"\n</code></pre>\n\n<hr>\n\n<h2>Cross-Browser</h2>\n\n<pre><code>// Create Base64 Object\nvar Base64={_keyStr:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",encode:function(e){var t=\"\";var n,r,i,s,o,u,a;var f=0;e=Base64._utf8_encode(e);while(f&lt;e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n&gt;&gt;2;o=(n&amp;3)&lt;&lt;4|r&gt;&gt;4;u=(r&amp;15)&lt;&lt;2|i&gt;&gt;6;a=i&amp;63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t=\"\";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");while(f&lt;e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s&lt;&lt;2|o&gt;&gt;4;r=(o&amp;15)&lt;&lt;4|u&gt;&gt;2;i=(u&amp;3)&lt;&lt;6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=Base64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\\r\\n/g,\"\\n\");var t=\"\";for(var n=0;n&lt;e.length;n++){var r=e.charCodeAt(n);if(r&lt;128){t+=String.fromCharCode(r)}else if(r&gt;127&amp;&amp;r&lt;2048){t+=String.fromCharCode(r&gt;&gt;6|192);t+=String.fromCharCode(r&amp;63|128)}else{t+=String.fromCharCode(r&gt;&gt;12|224);t+=String.fromCharCode(r&gt;&gt;6&amp;63|128);t+=String.fromCharCode(r&amp;63|128)}}return t},_utf8_decode:function(e){var t=\"\";var n=0;var r=c1=c2=0;while(n&lt;e.length){r=e.charCodeAt(n);if(r&lt;128){t+=String.fromCharCode(r);n++}else if(r&gt;191&amp;&amp;r&lt;224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&amp;31)&lt;&lt;6|c2&amp;63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&amp;15)&lt;&lt;12|(c2&amp;63)&lt;&lt;6|c3&amp;63);n+=3}}return t}}\n\n// Define the string\nvar string = 'Hello World!';\n\n// Encode the String\nvar encodedString = Base64.encode(string);\nconsole.log(encodedString); // Outputs: \"SGVsbG8gV29ybGQh\"\n\n// Decode the String\nvar decodedString = Base64.decode(encodedString);\nconsole.log(decodedString); // Outputs: \"Hello World!\"\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/gabrieleromanato/qAGHT/\">jsFiddle</a></p>\n\n<hr>\n\n<h2>with Node.js</h2>\n\n<p>Here is how you encode normal text to base64 in Node.js:</p>\n\n<pre><code>//Buffer() requires a number, array or string as the first parameter, and an optional encoding type as the second parameter. \n// Default is utf8, possible encoding types are ascii, utf8, ucs2, base64, binary, and hex\nvar b = new Buffer('JavaScript');\n// If we don't use toString(), JavaScript assumes we want to convert the object to utf8.\n// We can make it convert to other formats by passing the encoding type to toString().\nvar s = b.toString('base64');\n</code></pre>\n\n<p>And here is how you decode base64 encoded strings:</p>\n\n<pre><code>var b = new Buffer('SmF2YVNjcmlwdA==', 'base64')\nvar s = b.toString();\n</code></pre>\n\n<hr>\n\n<h2>with Dojo.js</h2>\n\n<p>To encode an array of bytes using dojox.encoding.base64:</p>\n\n<pre><code>var str = dojox.encoding.base64.encode(myByteArray);\n</code></pre>\n\n<p>To decode a base64-encoded string:</p>\n\n<pre><code>var bytes = dojox.encoding.base64.decode(str)\n</code></pre>\n\n<hr>\n\n<h2>bower install angular-base64</h2>\n\n<pre><code>&lt;script src=\"bower_components/angular-base64/angular-base64.js\"&gt;&lt;/script&gt;\n\nangular\n    .module('myApp', ['base64'])\n    .controller('myController', [\n\n    '$base64', '$scope', \n    function($base64, $scope) {\n\n        $scope.encoded = $base64.encode('a string');\n        $scope.decoded = $base64.decode('YSBzdHJpbmc=');\n}]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>I have a PHP script that can encode a PNG image to a Base64 string.</p>\n\n<p>I'd like to do the same thing using JavaScript. I know how to open files, but I'm not sure how to do the encoding? I'm not used to working with binary data.</p>\n",
            "last_activity_date": 1417437884,
            "question_id": 246801,
            "score": 291,
            "tags": [
                "javascript",
                "base64"
            ],
            "title": "How can you encode a string to Base64 in JavaScript?"
        },
        {
            "answer_count": 24,
            "answers": [
                {
                    "body": "<p>Using a regular expression with the <code>g</code> flag set will replace all:</p>\n\n<pre><code>someString = 'the cat looks like a cat';\nanotherString = someString.replace(/cat/g, 'dog');\n// anotherString now contains \"the dog looks like a dog\"\n</code></pre>\n\n<h3>See also: <a href=\"http://www.tizag.com/javascriptT/javascript-string-replace.php\">http://www.tizag.com/javascriptT/javascript-string-replace.php</a></h3>\n",
                    "is_accepted": false,
                    "score": 143
                },
                {
                    "body": "<p>Match against a global regular expression:</p>\n\n<pre><code>anotherString = someString.replace(/cat/g, 'dog');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<pre><code>str = str.replace(/abc/g, '');\n</code></pre>\n\n<p>In response to comment:</p>\n\n<pre><code>var find = 'abc';\nvar re = new RegExp(find, 'g');\n\nstr = str.replace(re, '');\n</code></pre>\n\n<p>In response to <a href=\"http://stackoverflow.com/users/49153/click-upvote\">Click Upvote</a>'s comment, you could simplify it even more:</p>\n\n<pre><code>function replaceAll(find, replace, str) {\n  return str.replace(new RegExp(find, 'g'), replace);\n}\n</code></pre>\n\n<p><strong>Note:</strong> Regular expressions contain special (meta) characters, and as such it is dangerous to blindly pass an argument in the <code>find</code> function above without pre-processing it to escape those characters.  This is covered in the <a href=\"https://developer.mozilla.org/en-US/\">Mozilla Developer Network</a>'s <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\">JavaScript Guide on Regular Expressions</a>, where they present the following utility function:</p>\n\n<pre><code>function escapeRegExp(string) {\n    return string.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n}\n</code></pre>\n\n<p>So in order to make the <code>replaceAll</code> function above safer, it could be modified to the following if you also include <code>escapeRegExp</code>:</p>\n\n<pre><code>function replaceAll(string, find, replace) {\n  return string.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1227
                },
                {
                    "body": "<pre><code>str = str.replace(/abc/g, '');\n</code></pre>\n\n<p>Or try the replaceAll function from here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1137436/useful-javascript-methods-that-extends-built-in-objects/1137579#1137579\">http://stackoverflow.com/questions/1137436/useful-javascript-methods-that-extends-built-in-objects/1137579#1137579</a></p>\n\n<pre><code>str = str.replaceAll('abc', ''); OR\n\nvar search = 'abc';\nstr = str.replaceAll(search, '');\n</code></pre>\n\n<p><strong>EDIT:</strong> Clarification about replaceAll availability</p>\n\n<p>The 'replaceAll' method is added to String's prototype. This means it will be available for all string objects/literals.</p>\n\n<p>E.g.</p>\n\n<pre><code>var output = \"test this\".replaceAll('this', 'that');  //output is 'test that'.\noutput = output.replaceAll('that', 'this'); //output is 'test this'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>use a regex:</p>\n\n<pre><code>str.replace(/abc/g, '');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You could try using your existing code, then throw it in a while loop... Not sure what this will do for performance, but it will definitely get the job done!</p>\n\n<pre><code>var exists = false;\nif (str.indexOf('abc') !== -1)\n    exists = true; // does 'abc' exist in my string?\n\nwhile (exists) // replace 'abc' as long as it exists\n{\n    str = str.replace('abc', '');\n\n    if (str.indexOf('abc') !== -1)\n        exists = true;\n    else\n        exists = false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>As an alternative to regular expressions for a simple literal string, you could use</p>\n\n<pre><code>str = \"Test abc test test abc test...\".split(\"abc\").join(\"\");\n</code></pre>\n\n<p>The general pattern is</p>\n\n<pre><code>str.split(search).join(replacement)\n</code></pre>\n\n<p>I would wrap it in a function so it's more obvious what's going on.</p>\n\n<p>In recent V8 versions this seems to be even faster than the Regexp version: <a href=\"http://jsperf.com/replace-all-vs-split-join\">http://jsperf.com/replace-all-vs-split-join</a></p>\n",
                    "is_accepted": false,
                    "score": 486
                },
                {
                    "body": "<p>Not really much better than using a regexp, but multiple replacements can alternatively be achieved this way:</p>\n\n<pre><code>function multiReplace(str, match, repl) {\n    if (match === repl)\n        return str;\n    do {\n        str = str.replace(match, repl);\n    } while(str.indexOf(match) !== -1);\n    return str;\n}\n\nmultiReplace(\"the cat looks like a cat\", \"cat\", \"dog\"); // \"the dog looks like a dog\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>My implementation, very self explanatory</p>\n\n<pre><code>function replaceAll(string, token, newtoken) {\n    if(token!=newtoken)\n    while(string.indexOf(token) &gt; -1) {\n        string = string.replace(token, newtoken);\n    }\n    return string;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><em><strong>Update:</strong></em></p>\n\n<p>It's somewhat late for an update, but since I just stumbled on this question, and noticed that my previous answer is not one I'm happy with. Since the question involved replaceing a single word, it's incredible nobody thought of using word boundaries (<code>\\b</code>)</p>\n\n<pre><code>'a cat is not a caterpillar'.replace(/\\bcat\\b/gi,'dog');\n//\"a dog is not a caterpillar\"\n</code></pre>\n\n<p>This is a simple regex that avoids replacing parts of words in most cases. However, a dash <code>-</code> is still considered a word boundary. So conditionals can be used in this case to avoid replacing strings like <code>cool-cat</code>:</p>\n\n<pre><code>'a cat is not a cool-cat'.replace(/\\bcat\\b/gi,'dog');//wrong\n//\"a dog is not a cool-dog\" -- nips\n'a cat is not a cool-cat'.replace(/(?:\\b([^-]))cat(?:\\b([^-]))/gi,'$1dog$2');\n//\"a dog is not a cool-cat\"\n</code></pre>\n\n<hr>\n\n<p>basically, this question is the same as the question here:\n<a href=\"http://stackoverflow.com/questions/9499075/javascript-replace-with/9499926\">Javascript replace &quot; &#39; &quot; with &quot; &#39;&#39; &quot;</a></p>\n\n<p>@Mike, check the answer I gave there... regexp isn't the only way to replace multiple occurrences of a subsrting, far from it. Think flexible, think split!</p>\n\n<pre><code>var newText = \"the cat looks like a cat\".split('cat').join('dog');\n</code></pre>\n\n<p>Alternatively, to prevent replacing word parts -which the approved answer will do, too! You can get around this issue using regular expressions that are, I admit, somewhat more complex and as an upshot of that, a tad slower, too:</p>\n\n<pre><code>var regText = \"the cat looks like a cat\".replace(/(?:(^|[^a-z]))(([^a-z]*)(?=cat)cat)(?![a-z])/gi,\"$1dog\");\n</code></pre>\n\n<p>The output is the same as the accepted answer, however, using the /cat/g expression on this string:</p>\n\n<pre><code>var oops = 'the cat looks like a cat, not a caterpillar or coolcat'.replace(/cat/g,'dog');\n//returns \"the dog looks like a dog, not a dogerpillar or cooldog\" ?? \n</code></pre>\n\n<p>Oops indeed, this probably isn't what you want. What is, then? IMHO, a regex that only replaces 'cat' conditionally. (ie not part of a word), like so:</p>\n\n<pre><code>var caterpillar = 'the cat looks like a cat, not a caterpillar or coolcat'.replace(/(?:(^|[^a-z]))(([^a-z]*)(?=cat)cat)(?![a-z])/gi,\"$1dog\");\n//return \"the dog looks like a dog, not a caterpillar or coolcat\"\n</code></pre>\n\n<p>My guess is, this meets your needs. It's not fullproof, of course, but it should be enough to get you started. I'd recommend reading some more on these pages. This'll prove useful in perfecting this expression to meet your specific needs.</p>\n\n<p><a href=\"http://www.javascriptkit.com/jsref/regexp.shtml\">http://www.javascriptkit.com/jsref/regexp.shtml</a></p>\n\n<p><a href=\"http://www.regular-expressions.info\">http://www.regular-expressions.info</a></p>\n\n<hr>\n\n<p><strong>Final addition:</strong></p>\n\n<p>Given that this question still gets a lot of views, I thought I might add an example of <code>.replace</code> used with a callback function. In this case, it dramatically simplifies the expression <em>and</em> provides even more flexibility, like replacing with correct capitalisation or replacing both <code>cat</code> and <code>cats</code> in one go:</p>\n\n<pre><code>'Two cats are not 1 Cat! They\\'re just cool-cats, you caterpillar'\n   .replace(/(^|.\\b)(cat)(s?\\b.|$)/gi,function(all,char1,cat,char2)\n    {\n       //check 1st, capitalize if required\n       var replacement = (cat.charAt(0) === 'C' ? 'D' : 'd') + 'og';\n       if (char1 === ' ' &amp;&amp; char2 === 's')\n       {//replace plurals, too\n           cat = replacement + 's';\n       }\n       else\n       {//do not replace if dashes are matched\n           cat = char1 === '-' || char2 === '-' ? cat : replacement;\n       }\n       return char1 + cat + char2;//return replacement string\n    });\n//returns:\n//Two dogs are not 1 Dog! They're just cool-cats, you caterpillar\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 47
                },
                {
                    "body": "<p>Here's a string prototype function based on the accepted answer:</p>\n\n<pre><code>String.prototype.replaceAll = function (find, replace) {\n    var str = this;\n    return str.replace(new RegExp(find, 'g'), replace);\n};\n</code></pre>\n\n<p><strong>EDIT</strong> </p>\n\n<p>If your <code>find</code> will contain special characters then you need to escape them:</p>\n\n<pre><code>String.prototype.replaceAll = function (find, replace) {\n    var str = this;\n    return str.replace(new RegExp(find.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;'), 'g'), replace);\n};\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/cdbzL/\">http://jsfiddle.net/cdbzL/</a></p>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>I like this method, it looks a little cleaner.</p>\n\n<pre><code>text = text.replace(new RegExp(\"cat\",\"g\"), \"dog\"); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>//loop it until number occurrences comes to 0. OR simply copy/paste</p>\n\n<pre><code>    function replaceAll(find, replace, str) \n    {\n      while( str.indexOf(find) &gt; -1)\n      {\n        str = str.replace(find, replace);\n      }\n      return str;\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>If what you want to find is already in a string, and you don't have a regex escaper handy, you can use join/split:</p>\n\n<pre><code>function replaceMulti(haystack, needle, replacement)\n{\n    return haystack.split(needle).join(replacement);\n}\n\nsomeString = 'the cat looks like a cat';\nanotherString = replaceMulti(someString, 'cat', 'dog');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>For the sake of completeness, I got to thinking about which method I should use to do this. There are basically two ways to do this as suggested by the other answers on this page.</p>\n\n<h3>Regular Expression Based Implementation</h3>\n\n<pre><code>String.prototype.replaceAll = function(search, replacement) {\n    var target = this;\n    return target.replace(new RegExp(search, 'g'), replacement);\n};\n</code></pre>\n\n<h3>Split and Join (Functional) Implementation</h3>\n\n<pre><code>String.prototype.replaceAll = function(search, replacement) {\n    var target = this;\n    return target.split(search).join(replacement);\n};\n</code></pre>\n\n<p>Not knowing too much about how regular expressions work behind the scenes in terms of efficiency, I tended to lean toward the split and join implementation in the past without thinking about performance. When I did wonder which was more efficient, and by what margin, I used it as an excuse to find out.</p>\n\n<p>On my Chrome Win8 machine, <strong>the regular expression based implementation is the fastest</strong>, with the <strong>split and join implementation being 53% slower</strong>. Meaning the regular expressions are twice as fast for the lorem ipsum input I used.</p>\n\n<p>Check out this <a href=\"http://jsperf.com/benchmarking-js-replaceall\"><strong>jsPerf benchmark</strong></a> running these two implementations against each other.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<pre><code>var str = \"ff ff f f a de def\";\nstr = str.replace(/f/g,'');\nalert(str);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ANHR9/\">http://jsfiddle.net/ANHR9/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>for replace all kind of character try this code</p>\n\n<pre><code>suppose we have need to send \" and \\ in my string, then we will convert it \" to \\\" and \\ to \\\\\n</code></pre>\n\n<p>so this method will solve this issue.</p>\n\n<pre><code>String.prototype.replaceAll = function (find, replace) {\n     var str = this;\n     return str.replace(new RegExp(find.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;'), 'g'), replace);\n };\n\nvar message = $('#message').val();\n             message = message.replaceAll('\\\\', '\\\\\\\\'); /*it will replace \\ to \\\\ */\n             message = message.replaceAll('\"', '\\\\\"');   /*it will replace \" to \\\\\"*/\n</code></pre>\n\n<p>i was using ajax and i have need to send parameters in json format then my method is look like is</p>\n\n<pre><code> function sendMessage(source, messageID, toProfileID, userProfileID) {\n     if (validateTextBox()) {\n\n         var message = $('#message').val();\n         message = message.replaceAll('\\\\', '\\\\\\\\');\n         message = message.replaceAll('\"', '\\\\\"');                                         \n         $.ajax({\n             type: \"POST\",\n             async: \"false\", \n             contentType: \"application/json; charset=utf-8\",\n             url: \"services/WebService1.asmx/SendMessage\",\n             data: '{\"source\":\"' + source + '\",\"messageID\":\"' + messageID + '\",\"toProfileID\":\"' + toProfileID + '\",\"userProfileID\":\"' + userProfileID + '\",\"message\":\"' + message + '\"}',\n             dataType: \"json\",\n             success: function (data) {\n                 loadMessageAfterSend(toProfileID, userProfileID);\n                 $(\"#&lt;%=PanelMessageDelete.ClientID%&gt;\").hide();\n                 $(\"#message\").val(\"\");\n                 $(\"#delMessageContainer\").show();\n                 $(\"#msgPanel\").show();                    \n             },\n             error: function (result) {\n                 alert(\"message sending failed\");\n             }\n         });\n     }\n     else {\n         alert(\"Please type message in message box.\");\n         $(\"#message\").focus();\n\n     }}\nString.prototype.replaceAll = function (find, replace) {\n     var str = this;\n     return str.replace(new RegExp(find.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;'), 'g'), replace);\n };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>String.prototype.replaceAll = function (sfind, sreplace) {\n     var str = this;\n    while (str.indexOf(sfind)&gt;-1) str=str.replace(sfind, sreplace);\n    return str;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>This is the <strong>fastest</strong> version that <em>doesn't use regex</em> </p>\n\n<p><a href=\"http://jsperf.com/replace-all-vs-split-join/10\">revised jsperf</a></p>\n\n<pre><code>replaceAll = function(string, omit, place, prevstring) {\n  if (prevstring &amp;&amp; string === prevstring)\n    return string;\n  prevstring = string.replace(omit, place);\n  return replaceAll(prevstring, omit, place, string)\n}\n</code></pre>\n\n<p>it is almost <strong>twice</strong> as fast as split and join method.</p>\n\n<p>As pointed out in a comment here, this will not work if your <code>omit</code> variable contains <code>place</code>, as in: <code>replaceAll(\"string\", \"s\", \"ss\")</code>, because it will always be able to replace another occurrence of the word.</p>\n\n<p>There is another jsperf with variants on my recursive replace that go even faster!(<a href=\"http://jsperf.com/replace-all-vs-split-join/12\">http://jsperf.com/replace-all-vs-split-join/12</a>)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<pre><code>while (str.indexOf('abc') !== -1)\n{\n    str = str.replace('abc', '');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p><em>Note: I can't comment yet, so I posted this as an answer, though there is some research information that could go in an answer. I also can't post more than 2 links,<br> so the links are going to have N0N instead of /, N1N instead of - and N2N instead of . (You could use the replaceAll functions to fix that).</em> </p>\n\n<h1>Split+join vs. regular expression</h1>\n\n<p>I tested out the <code>.split().join()</code> vs. regular expresion replacing speed test from Matthew Crumley's answer (which also explains how to use .split().join() ) at jsperfN2NcomN0NreplaceN1NallN1NvsN1NsplitN1Njoin and though <strong>it is faster on Chrome &amp; Firefox</strong>, it was \u00b155% slower on IE, so if this will be used on a site that is likely to be visited mainly by <strong>IE</strong> users, I recommend a <strong>safe pre-escaped regular expression</strong> as written in the accepted answer.  </p>\n\n<h2>Some research later</h2>\n\n<p>IE is <strong>way</strong> less used than I thought it is (statistics: gsN2NstatcounterN2NcomN0N#allN1NbrowserN1NwwN1NmonthlyN1N200812N1N201407), so the above still kinda applies, but only if you are very, very sure that IE is going to be the primarily used browser on that page.</p>\n\n<h2>EDIT:</h2>\n\n<p>I've made IE, Firefox and Chrome bots on jsperfN2NcomN0NreplaceN1NallN1NvsN1NsplitN1NjoinN0N13 \n(Before, there was data only about a version of Chrome). Look into the source code in the top of the page and copy the fastest function. <em>Wow! I can't believe how fast i typed function.</em> IE&amp;Chrome - iterative replace() Firefox - split&amp;join (way better than all others)</p>\n\n<p><em>End-note: English isn't my first language, so this took me some time to correct statements and English and the red-wavey underlining (indicating word not in mother language vocabulary) under most of the words was annoying too (I think there's an HTML attribute against that). I do realize the previous sentence is not grammatically correct.</em></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If using a library is an option for you then you will get the benefits of the testing and community support that goes with a library function. For example, the <a href=\"http://stringjs.com/\" rel=\"nofollow\">string.js</a> library has a replaceAll() function that does what you're looking for:</p>\n\n<pre><code>// Include a reference to the string.js library and call it (for example) S.\nstr = S(str).replaceAll('abc', '').s;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are trying to ensure that the string you are looking for won't exist even after the replacement, you need to use a loop.</p>\n\n<p>For example:</p>\n\n<pre><code>var str = 'test aabcbc';\nstr = str.replace(/abc/g, '');\n</code></pre>\n\n<p>When complete, you will still have 'test abc'!</p>\n\n<p>The simplest loop to solve this would be:</p>\n\n<pre><code>var str = 'test aabcbc';\nwhile (str != str.replace(/abc/g, '')){\n   str.replace(/abc/g, '');\n}\n</code></pre>\n\n<p>But that runs the replacement twice for each cycle. Perhaps (at risk of being voted down) that can be combined for a slightly more efficient but less readable form:</p>\n\n<pre><code>var str = 'test aabcbc';\nwhile (str != (str = str.replace(/abc/g, ''))){}\n// alert(str); alerts 'test '!\n</code></pre>\n\n<p>This can be particularly useful when looking for duplicate strings.<br>\nFor example, if we have 'a,,,b' and we wish to remove all duplicate commas.<br>\n[In that case, one could do .replace(/,+/g,','), but at some point the regex gets complex and slow enough to loop instead.]</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function replaceAll(str, find, replace) {\n  var i = str.indexOf(find);\n  if (i &gt; -1){\n    str = str.replace(find, replace); \n    i = i + replace.length;\n    var st2 = str.substring(i);\n    if(st2.indexOf(find) &gt; -1){\n      str = str.substring(0,i) + replaceAll(st2, find, replace);\n    }       \n  }\n  return str;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have this string:</p>\n\n<pre>\nTest abc test test abc test test\ntest abc test test abc \n</pre>\n\n<p>Doing</p>\n\n<pre><code>str = str.replace('abc', '');\n</code></pre>\n\n<p>seems to only remove the first occurrence of <code>abc</code> in the string above. How can I replace <strong>all</strong> occurrences of it?</p>\n",
            "last_activity_date": 1417713918,
            "question_id": 1144783,
            "score": 709,
            "tags": [
                "javascript"
            ],
            "title": "Replacing all occurrences of a string in JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>remember that onComplete is called long after the someFunction is done working. What you need to do is pass a callback function to the somefunction as a parameter. This function will be called when the process is done working (ie, onComplete):</p>\n\n<pre><code>somefunction: function(callback){\n    var result = \"\";\n    myAjax = new Ajax.Request(postUrl, {\n        method: 'post',\n        postBody: postData,\n        contentType: 'application/x-www-form-urlencoded',\n        onComplete: function(transport){\n            if (200 == transport.status) {\n                result = transport.responseText;\n                callback(result);\n            }\n        }\n    });\n\n}\nsomefunction(function(result){\n  alert(result);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>How about adding \"asynchronous: false\" in your code? In my case, it worked well :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I use prototype to do my AJAX development, and I use the code like this:</p>\n\n<pre><code>somefunction: function(){\n    var result = \"\";\n    myAjax = new Ajax.Request(postUrl, {\n        method: 'post',\n        postBody: postData,\n        contentType: 'application/x-www-form-urlencoded',\n        onComplete: function(transport){\n            if (200 == transport.status) {\n                result = transport.responseText;\n            }\n        }\n    });\n    return result;\n}\n</code></pre>\n\n<p>And I find that the \"result\" is an empty string. So, I tried this:</p>\n\n<pre><code>somefunction: function(){\n    var result = \"\";\n    myAjax = new Ajax.Request(postUrl, {\n        method: 'post',\n        postBody: postData,\n        contentType: 'application/x-www-form-urlencoded',\n        onComplete: function(transport){\n            if (200 == transport.status) {\n                result = transport.responseText;\n                return result;\n            }\n        }\n    });\n\n}\n</code></pre>\n\n<p>But it didn't work also. How can I get the responseText for other method to use?</p>\n",
            "last_activity_date": 1325174718,
            "question_id": 1225667,
            "score": 16,
            "tags": [
                "javascript",
                "ajax",
                "prototypejs",
                "javascript-library"
            ],
            "title": "How to return AJAX response Text?"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>Coerces oObject to boolean. If it was falsey (e.g. 0, <code>null</code>, <code>undefined</code>, etc.), it will be <code>false</code>, otherwise, <code>true</code>.</p>\n\n<pre><code>!oObject  //Inverted boolean\n!!oObject //Non inverted boolean so true boolean representation\n</code></pre>\n\n<p>So !! is not an operator, it's just the ! operator twice.</p>\n",
                    "is_accepted": true,
                    "score": 633
                },
                {
                    "body": "<p>It's just the logical NOT operator, twice - it's used to convert something to boolean, e.g.:</p>\n\n<pre><code>true === !!10\n\nfalse === !!0\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>It seems that the <code>!!</code> operator results in a double negation.</p>\n\n<pre><code>var foo = \"Hello World!\";\n\n!foo // Result: false\n!!foo // Result: true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I suspect this is a leftover from C++ where people override the ! operator but not the bool operator.</p>\n\n<p>So to get a negative(or positive) answer in that case you would first need to use the ! operator to get a boolean, but if you wanted to check the positive case would use !!.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><code>!!</code> converts the value to the right of it to its equivalent boolean value. (Think poor man's way of \"type-casting\"). Its <em>intent</em> is usually to convey to the reader that the code does not care <em>what</em> value is in the variable, but what it's <a href=\"http://11heavens.com/falsy-and-truthy-in-javascript\">\"truth\" value</a> is.</p>\n",
                    "is_accepted": false,
                    "score": 63
                },
                {
                    "body": "<p>It converts the suffix to a Boolean value. </p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>It's a horribly obscure way to do a type conversion.</p>\n\n<p><code>!</code> is <em>NOT</em>.  So <code>!true</code> is <code>false</code>, and <code>!false</code> is <code>true</code>. <code>!0</code> is <code>true</code>, and <code>!1</code> is <code>false</code>.</p>\n\n<p>So you're converting a value to a boolean, then inverting it, then inverting it again.</p>\n\n<pre><code>// Maximum Obscurity:\nval.enabled = !!userId;\n\n// Partial Obscurity:\nval.enabled = (userId != 0) ? true : false;\n\n// And finally, much easier to understand:\nval.enabled = (userId != 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 414
                },
                {
                    "body": "<p>It's a double <code>not</code> operation.  The first <code>!</code> converts the value to boolean and inverts its logical value.  The second <code>!</code> inverts the logical value back.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>! is \"boolean not\", which essentially typecasts the value of \"enable\" to its boolean opposite. The second ! flips this value. So, <code>!!enable</code> means \"not not enable,\" giving you the value of <code>enable</code> as a boolean.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p><code>!!foo</code> applies the unary not operator twice and is used to cast to boolean type similar to the use of unary plus <code>+foo</code> to cast to number and concatenating an empty string <code>''+foo</code> to cast to string.</p>\n\n<p>Instead of these hacks, you can also use the constructor functions corresponding to the primitive types (<em>without</em> using <code>new</code>) to explicitly cast values, ie</p>\n\n<pre><code>Boolean(foo) === !!foo\nNumber(foo)  === +foo\nString(foo)  === ''+foo\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>It's not a single operator, it's two.  It's equivalent to the following and is a quick way to cast a value to boolean. </p>\n\n<pre><code>val.enabled = !(!enable);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Double boolean negation. Often used to check if value is not undefined.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It simulates the behavior of the <code>Boolean()</code> casting function.\nThe first <code>NOT</code> returns a Boolean value no matter what operand it is given. The second <code>NOT</code> negates that <code>Boolean</code> value and so gives the <code>true</code> Boolean value of a variable. The end result is the same as using the <code>Boolean()</code> function on a value.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>This is a really handy way to check for undefined, \"undefined\", null, \"null\", \"\"</p>\n\n<pre><code>if (!!var1 &amp;&amp; !!var2 &amp;&amp; !!var3 &amp;&amp; !!var4 ){\n   //... some code here\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>!!expr</code> <del>converts any <em>truthy</em> expression into the boolean <code>true</code> (and <code>false</code> otherwise)</del> returns a Boolean value (<code>true</code> or <code>false</code>) depending on the <em>truthiness</em> of the expression. It makes more sense when used on non-boolean types. Consider these examples, especially the 3rd example and onward and notice the use of <code>===</code> operator:</p>\n\n<pre><code>          !!false === false\n           !!true === true\n\n              !!0 === false\n!!parseInt(\"foo\") === false // NaN is falsy\n              !!1 === true\n             !!-1 === true  // -1 is truthy\n\n             !!\"\" === false // empty string is falsy\n          !!\"foo\" === true  // non-empty string is truthy\n        !!\"false\" === true  // ...even if it contains a falsy value\n\n     !!window.foo === false // undefined is falsy\n           !!null === false // null is falsy\n\n             !!{} === true  // an (empty) object is truthy\n             !![] === true  // an (empty) array is truthy; PHP programmers beware!\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 162
                },
                {
                    "body": "<p><strong>Brew some tea:</strong></p>\n\n<p><code>!!</code> is not an operator. It is the double-use of <code>!</code> -- which is the logical \"not\" operator. </p>\n\n<hr>\n\n<p><strong>In theory:</strong></p>\n\n<p><strong><code>!</code></strong> determines the \"truth\" of what a value is not:</p>\n\n<ul>\n<li><p>The truth is that <code>false</code> is not <code>true</code> (that's why <code>!false</code> results\nin <strong><code>true</code></strong>)</p></li>\n<li><p>The truth is that <code>true</code> is not <code>false</code> (that's why <code>!true</code> results\nin <strong><code>false</code></strong>)</p></li>\n</ul>\n\n<hr>\n\n<p><strong><code>!!</code></strong> determines the \"truth\" of what a value is <em>not</em> not:</p>\n\n<ul>\n<li><p>The truth is that <code>true</code> is not <em>not</em> <code>true</code> (that's why <code>!!true</code> results in <strong><code>true</code></strong>)</p></li>\n<li><p>The truth is that <code>false</code> is not <em>not</em> <code>false</code> (that's why <code>!!false</code> results in <strong><code>false</code></strong>)</p></li>\n</ul>\n\n<hr>\n\n<p>What we wish to determine in the comparison is the \"truth\" <em>about</em> the value of a reference, not the <em>value of</em> the reference itself. There is a use-case where we might want to know the truth about a value, even if we expect the value to be <em><code>false</code></em> (or falsey), or if we expect the value not to be typeof <code>boolean</code>. </p>\n\n<hr>\n\n<p><strong>In practice:</strong></p>\n\n<p>Consider a concise function which detects feature functionality (and in this case, platform compatibility) by way of <strong><a href=\"http://en.wikipedia.org/wiki/Type_system#Dynamic_typing\">dynamic typing</a></strong> (aka \"duck typing\"). We want to write a function that returns <code>true</code> if a user's browser supports the HTML5 <code>&lt;audio&gt;</code> element, but we don't want the function to throw an error if <code>&lt;audio&gt;</code> is undefined; and we don't want to use <code>try ... catch</code> to handle any possible errors (because they're gross); <em>and also</em> we don't want to use a check inside the function that won't consistently reveal the truth about the feature (for example, <code>document.createElement('audio')</code> will still create an element called <code>&lt;audio&gt;</code> even if HTML5 <code>&lt;audio&gt;</code> is not supported). </p>\n\n<hr>\n\n<p>Here are the three approaches:</p>\n\n<pre><code>// this won't tell us anything about HTML5 `&lt;audio&gt;` as a feature\nvar foo = function(tag, atr) { return document.createElement(tag)[atr]; }\n\n// this won't return true if the feature is detected (although it works just fine)\nvar bar = function(tag, atr) { return !document.createElement(tag)[atr]; }\n\n// this is the concise, feature-detecting solution we want\nvar baz = function(tag, atr) { return !!document.createElement(tag)[atr]; }\n\nfoo('audio', 'preload'); // returns \"auto\"\nbar('audio', 'preload'); // returns false\nbaz('audio', 'preload'); // returns true\n</code></pre>\n\n<p>Each function accepts an argument for a <code>&lt;tag&gt;</code> and an <code>attribute</code> to look for, but they each return different values based on what the comparisons determine. </p>\n\n<p><strong>But wait, there's more!</strong></p>\n\n<p>Some of you probably noticed that in this specific example, one could simply check for a property using the slightly <strong><a href=\"http://jsperf.com/hasownproperty-vs-comparison\">more performant</a></strong> means of checking if the object in question <em>has</em> a property. There are two ways to do this:</p>\n\n<pre><code>// the native `hasOwnProperty` method\nvar qux = function(tag, atr) { return document.createElement(tag).hasOwnProperty(atr); }\n\n// the `in` operator\nvar quux = function(tag, atr) { return atr in document.createElement(tag); }\n\nqux('audio', 'preload');  // returns true\nquux('audio', 'preload'); // returns true\n</code></pre>\n\n<p><strong>We digress...</strong></p>\n\n<p>However rare these situations may be, there may exist a few scenarios where the most concise, most performant, and thus most preferred means of getting <code>true</code> from a non-boolean, possibly undefined value is indeed by using <code>!!</code>. Hopefully this ridiculously clears it up.</p>\n",
                    "is_accepted": false,
                    "score": 47
                },
                {
                    "body": "<p>The <code>!!</code> construct is a simple way of turning any JavaScript expression into\nits Boolean equivalent. </p>\n\n<p>For example: <code>!!\"he shot me down\" === true</code> and <code>!!0 === false</code>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Tons of great answers here, but if you've read down this far, this helped me to 'get it'. Open the console on Chrome (etc), and start typing:</p>\n\n<pre><code>!(!(1))\n!(!(0))\n!(!('truthy')) \n!(!(null))\n!(!(''))\n!(!(undefined))\n!(!(new Object())\n!(!({}))\nwoo = 'hoo'\n!(!(woo))\n...etc, etc, until the light goes on ;)\n</code></pre>\n\n<p>Naturally, these are all the same as merely typing !!someThing, but the added parentheses might help make it more understandable.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>a = 1;\nalert(!a) // -&gt; false : a is not not defined\nalert(!!a) // -&gt; true : a is not not defined\n</code></pre>\n\n<p>For <code>!a</code>, it checks whether <code>a</code> is <strong>NOT</strong> defined, while <code>!!a</code> checks if the variable is defined.</p>\n\n<p><code>!!a</code> is the same as <code>!(!a)</code>. If <code>a</code> is defined, <code>a</code> is <code>true</code>, <code>!a</code> is <code>false</code>, and <code>!!a</code> is <code>true</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>here is a piece of code from angular js </p>\n\n<pre><code>var requestAnimationFrame = $window.requestAnimationFrame ||\n                                $window.webkitRequestAnimationFrame ||\n                                $window.mozRequestAnimationFrame;\n\n var rafSupported = !!requestAnimationFrame;\n</code></pre>\n\n<p>their intention is to set rafSupported to true or false based on the availability of function in requestAnimationFrame </p>\n\n<p>it can be achieved by checking in following way in general:</p>\n\n<pre><code>if(typeof  requestAnimationFrame === 'function')\nrafSupported =true;\nelse\nrafSupported =false;\n</code></pre>\n\n<p>the short way could be using !!</p>\n\n<pre><code>rafSupported = !!requestAnimationFrame ;\n</code></pre>\n\n<p>so if requestAnimationFrame was assigned a function\n then\n!requestAnimationFrame would be false and one more ! of it would be true</p>\n\n<p>if requestAnimationFrame was assinged undefined then\n!requestAnimationFrame would be true and one more ! of it would be false</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I saw some code that seems to use an operator I don't recognize, in the form of two exclamation points, like so: <code>!!</code>. Can someone please tell me what this operator does?</p>\n\n<p>The context in which I saw this was,</p>\n\n<pre><code>this.vertical = vertical !== undefined ? !!vertical : this.vertical;\n</code></pre>\n",
            "last_activity_date": 1425457535,
            "question_id": 784929,
            "score": 746,
            "tags": [
                "javascript",
                "operators"
            ],
            "title": "What is the !! (not not) operator in JavaScript?"
        },
        {
            "answer_count": 36,
            "answers": [
                {
                    "body": "<pre><code>for (var attrname in obj2) { obj1[attrname] = obj2[attrname]; }\n</code></pre>\n\n<p>Note that this will simply add all attributes of <code>obj2</code> to <code>obj1</code> which might not be what you want if you still want to use the unmodified <code>obj1</code>.</p>\n\n<p>If you're using a framework that craps all over your prototypes then you have to get fancier with checks like <code>hasOwnProperty</code>, but that code will work for 99% of cases.</p>\n\n<p>Example function:</p>\n\n<pre><code>/**\n * Overwrites obj1's values with obj2's and adds obj2's if non existent in obj1\n * @param obj1\n * @param obj2\n * @returns obj3 a new object based on obj1 and obj2\n */\nfunction merge_options(obj1,obj2){\n    var obj3 = {};\n    for (var attrname in obj1) { obj3[attrname] = obj1[attrname]; }\n    for (var attrname in obj2) { obj3[attrname] = obj2[attrname]; }\n    return obj3;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 533
                },
                {
                    "body": "<p>prototype.js has this:</p>\n\n<pre><code>Object.extend = function(destination,source) {\n    for (var property in source)\n        destination[property] = source[property];\n    return destination;\n}\n</code></pre>\n\n<p><code>obj1.extend(obj2)</code> will do what you want.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>jQuery also has a utility for this: <a href=\"http://api.jquery.com/jQuery.extend/\">http://api.jquery.com/jQuery.extend/</a>.</p>\n\n<p>Taken from the jQuery documentation:</p>\n\n<pre><code>// merge options object into settings object\nvar settings = { validate: false, limit: 5, name: \"foo\" };\nvar options  = { validate: true, name: \"bar\" };\njQuery.extend(settings, options);\n// now the content of settings object is the following:\n// { validate: true, limit: 5, name: \"bar\" }\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong>: (based on comment by @webmat)</p>\n\n<p>The above code will mutate the object named <em><code>settings</code></em>.</p>\n\n<p>If you want to create a new object without modifying either argument, use this:</p>\n\n<pre><code>var defaults = { validate: false, limit: 5, name: \"foo\" };\nvar options = { validate: true, name: \"bar\" };\n\n/* merge defaults and options, without modifying defaults */\nvar settings = $.extend({}, defaults, options);\n// the content of settings variable is now the following:\n// {validate: true, limit: 5, name: \"bar\"}\n// defaults and options variable remained the same\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 640
                },
                {
                    "body": "<p>I googled for code to merge object properties and ended up here. However since there wasn't any code for recursive merge I wrote it myself. (Maybe jQuery extend is recursive BTW?) Anyhow, hopefully someone else will find it useful as well.</p>\n\n<p>(Now the code does not use <code>Object.prototype</code> :)</p>\n\n<h2>Code</h2>\n\n<pre><code>/*\n* Recursively merge properties of two objects \n*/\nfunction MergeRecursive(obj1, obj2) {\n\n  for (var p in obj2) {\n    try {\n      // Property in destination object set; update its value.\n      if ( obj2[p].constructor==Object ) {\n        obj1[p] = MergeRecursive(obj1[p], obj2[p]);\n\n      } else {\n        obj1[p] = obj2[p];\n\n      }\n\n    } catch(e) {\n      // Property in destination object not set; create it and set its value.\n      obj1[p] = obj2[p];\n\n    }\n  }\n\n  return obj1;\n}\n</code></pre>\n\n<h2>An example</h2>\n\n<pre><code>o1 = {  a : 1,\n        b : 2,\n        c : {\n          ca : 1,\n          cb : 2,\n          cc : {\n            cca : 100,\n            ccb : 200 } } };\n\no2 = {  a : 10,\n        c : {\n          ca : 10,\n          cb : 20, \n          cc : {\n            cca : 101,\n            ccb : 202 } } };\n\no3 = MergeRecursive(o1, o2);\n</code></pre>\n\n<p><strong>Produces object o3 like</strong></p>\n\n<pre><code>o3 = {  a : 10,\n        b : 2,\n        c : {\n          ca : 10,\n          cb : 20,\n          cc : { \n            cca : 101,\n            ccb : 202 } } };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 113
                },
                {
                    "body": "<p>The given solutions should be modified to check <code>source.hasOwnProperty(property)</code> in the <code>for..in</code> loops before assigning - otherwise, you end up copying the properties of the whole prototype chain, which is rarely desired...</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>The correct implementation in Prototype should look like this:</p>\n\n<pre><code>var obj1 = { food: 'pizza', car: 'ford' }\nvar obj2 = { animal: 'dog' }\n\nobj1 = Object.extend(obj1, obj2);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In MooTools, there's Object.merge()</p>\n\n<pre><code>Object.merge(obj1, obj2);\n</code></pre>\n\n<p><a href=\"http://mootools.net/docs/core/Types/Object#Object:Object-merge\">http://mootools.net/docs/core/Types/Object#Object:Object-merge</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>For not too complicated objects you could use JSON:</p>\n\n<pre><code>var obj1 = { food: 'pizza', car: 'ford' }\nvar obj2 = { animal: 'dog', car: 'chevy'}\nvar objMerge;\n\nobjMerge = JSON.stringify(obj1) + JSON.stringify(obj2);\n            // {\"food\": \"pizza\",\"car\":\"ford\"}{\"animal\":\"dog\",\"car\":\"chevy\"}\nobjMerge = objMerge.replace(/\\}\\{/, \"\"); //  \\_ replace with comma for valid JSON\n\nobjMerge = JSON.parse(objMerge); // { food: 'pizza', animal: 'dog', car: 'chevy'}\n// of same keys in both objects, the last object's value is retained_/\n</code></pre>\n\n<p>!!! Mind that in this example \"}{\" MUST NOT OCCUR within a string!!!</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The best way for you to do this is to add a proper property that is non-enumerable using Object.defineProperty. </p>\n\n<p>This way you will still be able to iterate over your objects properties without having the newly created \"extend\" that you would get if you were to create the property with Object.prototype.extend.</p>\n\n<p>Hopefully this helps:</p>\n\n<pre>\nObject.defineProperty(Object.prototype, \"extend\", {\n    enumerable: false,\n    value: function(from) {\n        var props = Object.getOwnPropertyNames(from);\n        var dest = this;\n        props.forEach(function(name) {\n            if (name in dest) {\n                var destination = Object.getOwnPropertyDescriptor(from, name);\n                Object.defineProperty(dest, name, destination);\n            }\n        });\n        return this;\n    }\n});\n</pre>\n\n<p>Once you have that working, you can do:</p>\n\n<pre>\nvar obj = {\n    name: 'stack',\n    finish: 'overflow'\n}\nvar replacement = {\n    name: 'stock'\n};\n\nobj.extend(replacement);\n</pre>\n\n<p>I just wrote a blog post about it here: <a href=\"http://onemoredigit.com/post/1527191998/extending-objects-in-node-js\">http://onemoredigit.com/post/1527191998/extending-objects-in-node-js</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I extended David Coallier's method:</p>\n\n<ul>\n<li>Added the possibility to merge multiple objects</li>\n<li>Supports deep objects</li>\n<li>override parameter (that's detected if the last parameter is a boolean)</li>\n</ul>\n\n<p>If override is false, no property gets overridden but new properties will be added.</p>\n\n<p>Usage:\nobj.merge(merges... [, override]);</p>\n\n<p>Here is my code:</p>\n\n<pre><code>Object.defineProperty(Object.prototype, \"merge\", {\n    enumerable: false,\n    value: function () {\n        var override = true,\n            dest = this,\n            len = arguments.length,\n            props, merge, i, from;\n\n        if (typeof(arguments[arguments.length - 1]) === \"boolean\") {\n            override = arguments[arguments.length - 1];\n            len = arguments.length - 1;\n        }\n\n        for (i = 0; i &lt; len; i++) {\n            from = arguments[i];\n            if (from != null) {\n                Object.getOwnPropertyNames(from).forEach(function (name) {\n                    var descriptor;\n\n                    // nesting\n                    if ((typeof(dest[name]) === \"object\" || typeof(dest[name]) === \"undefined\")\n                            &amp;&amp; typeof(from[name]) === \"object\") {\n\n                        // ensure proper types (Array rsp Object)\n                        if (typeof(dest[name]) === \"undefined\") {\n                            dest[name] = Array.isArray(from[name]) ? [] : {};\n                        }\n                        if (override) {\n                            if (!Array.isArray(dest[name]) &amp;&amp; Array.isArray(from[name])) {\n                                dest[name] = [];\n                            }\n                            else if (Array.isArray(dest[name]) &amp;&amp; !Array.isArray(from[name])) {\n                                dest[name] = {};\n                            }\n                        }\n                        dest[name].merge(from[name], override);\n                    } \n\n                    // flat properties\n                    else if ((name in dest &amp;&amp; override) || !(name in dest)) {\n                        descriptor = Object.getOwnPropertyDescriptor(from, name);\n                        if (descriptor.configurable) {\n                            Object.defineProperty(dest, name, descriptor);\n                        }\n                    }\n                });\n            }\n        }\n        return this;\n    }\n});\n</code></pre>\n\n<p>Examples and TestCases:</p>\n\n<pre><code>function clone (obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nvar obj = {\n    name : \"trick\",\n    value : \"value\"\n};\n\nvar mergeObj = {\n    name : \"truck\",\n    value2 : \"value2\"\n};\n\nvar mergeObj2 = {\n    name : \"track\",\n    value : \"mergeObj2\",\n    value2 : \"value2-mergeObj2\",\n    value3 : \"value3\"\n};\n\nassertTrue(\"Standard\", clone(obj).merge(mergeObj).equals({\n    name : \"truck\",\n    value : \"value\",\n    value2 : \"value2\"\n}));\n\nassertTrue(\"Standard no Override\", clone(obj).merge(mergeObj, false).equals({\n    name : \"trick\",\n    value : \"value\",\n    value2 : \"value2\"\n}));\n\nassertTrue(\"Multiple\", clone(obj).merge(mergeObj, mergeObj2).equals({\n    name : \"track\",\n    value : \"mergeObj2\",\n    value2 : \"value2-mergeObj2\",\n    value3 : \"value3\"\n}));\n\nassertTrue(\"Multiple no Override\", clone(obj).merge(mergeObj, mergeObj2, false).equals({\n    name : \"trick\",\n    value : \"value\",\n    value2 : \"value2\",\n    value3 : \"value3\"\n}));\n\nvar deep = {\n    first : {\n        name : \"trick\",\n        val : \"value\"\n    },\n    second : {\n        foo : \"bar\"\n    }\n};\n\nvar deepMerge = {\n    first : {\n        name : \"track\",\n        anotherVal : \"wohoo\"\n    },\n    second : {\n        foo : \"baz\",\n        bar : \"bam\"\n    },\n    v : \"on first layer\"\n};\n\nassertTrue(\"Deep merges\", clone(deep).merge(deepMerge).equals({\n    first : {\n        name : \"track\",\n        val : \"value\",\n        anotherVal : \"wohoo\"\n    },\n    second : {\n        foo : \"baz\",\n        bar : \"bam\"\n    },\n    v : \"on first layer\"\n}));\n\nassertTrue(\"Deep merges no override\", clone(deep).merge(deepMerge, false).equals({\n    first : {\n        name : \"trick\",\n        val : \"value\",\n        anotherVal : \"wohoo\"\n    },\n    second : {\n        foo : \"bar\",\n        bar : \"bam\"\n    },\n    v : \"on first layer\"\n}));\n\nvar obj1 = {a: 1, b: \"hello\"};\nobj1.merge({c: 3});\nassertTrue(obj1.equals({a: 1, b: \"hello\", c: 3}));\n\nobj1.merge({a: 2, b: \"mom\", d: \"new property\"}, false);\nassertTrue(obj1.equals({a: 1, b: \"hello\", c: 3, d: \"new property\"}));\n\nvar obj2 = {};\nobj2.merge({a: 1}, {b: 2}, {a: 3});\nassertTrue(obj2.equals({a: 3, b: 2}));\n\nvar a = [];\nvar b = [1, [2, 3], 4];\na.merge(b);\nassertEquals(1, a[0]);\nassertEquals([2, 3], a[1]);\nassertEquals(4, a[2]);\n\n\nvar o1 = {};\nvar o2 = {a: 1, b: {c: 2}};\nvar o3 = {d: 3};\no1.merge(o2, o3);\nassertTrue(o1.equals({a: 1, b: {c: 2}, d: 3}));\no1.b.c = 99;\nassertTrue(o2.equals({a: 1, b: {c: 2}}));\n\n// checking types with arrays and objects\nvar bo;\na = [];\nbo = [1, {0:2, 1:3}, 4];\nb = [1, [2, 3], 4];\n\na.merge(b);\nassertTrue(\"Array stays Array?\", Array.isArray(a[1]));\n\na = [];\na.merge(bo);\nassertTrue(\"Object stays Object?\", !Array.isArray(a[1]));\n\na = [];\na.merge(b);\na.merge(bo);\nassertTrue(\"Object overrides Array\", !Array.isArray(a[1]));\n\na = [];\na.merge(b);\na.merge(bo, false);\nassertTrue(\"Object does not override Array\", Array.isArray(a[1]));\n\na = [];\na.merge(bo);\na.merge(b);\nassertTrue(\"Array overrides Object\", Array.isArray(a[1]));\n\na = [];\na.merge(bo);\na.merge(b, false);\nassertTrue(\"Array does not override Object\", !Array.isArray(a[1]));\n</code></pre>\n\n<p>My equals method can be found here: <a href=\"http://stackoverflow.com/questions/1068834/object-comparison-in-javascript/5522917#5522917\">Object comparison in JavaScript</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I'm kinda getting started with JavaScript so correct me if I'm wrong. </p>\n\n<p>But wouldn't it be better if you could merge any number of objects. Here's how I do it using the native Arguments object. </p>\n\n<p>The key to is that you can actually pass any number of arguments to a JavaScript function without defining them in the function declaration. You just can't access them without using the Arguments object.</p>\n\n<pre><code>function mergeObjects() (\n\n    var tmpObj = {};\n\n    for(var o in arguments) {\n\n       for(var m in arguments[o]) {\n\n           tmpObj[m] = arguments[o][m];\n\n        }\n\n    }\n\n    return tmpObj;\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>//Takes any number of objects and returns one merged object\nvar objectMerge = function(){\n    var out = {};\n    if(!arguments.length)\n        return out;\n    for(var i=0; i&lt;arguments.length; i++) {\n        for(var key in arguments[i]){\n            out[key] = arguments[i][key];\n        }\n    }\n    return out;\n}\n</code></pre>\n\n<p>tested with</p>\n\n<pre><code>console.log(objectMerge({a:1, b:2}, {a:2, c:4}));\n</code></pre>\n\n<p>results in </p>\n\n<blockquote>\n  <p>{ a: 2, b: 2, c: 4 }</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In ExtJS 4 it can be done as follows:</p>\n\n<pre><code>var mergedObject = Ext.Object.merge(object1, object2)\n\n//or shorter:\nvar mergedObject2 = Ext.merge(object1, object2)\n</code></pre>\n\n<p>See <a href=\"http://docs.sencha.com/ext-js/4-0/#/api/Ext.Object-method-merge\">http://docs.sencha.com/ext-js/4-0/#/api/Ext.Object-method-merge</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>gossi's extension of David Coallier's method:</p>\n\n<p>check these 2 lines:  </p>\n\n<pre><code>from = arguments[i];\nObject.getOwnPropertyNames(from).forEach(function (name) {\n</code></pre>\n\n<p>one need to check \"from\" against null object ... if for example merging an object that comes from an ajax response, previously created on a server, an object property can have a value of \"null\" and in that case the above code generate an error saying:</p>\n\n<pre><code>\"from\" is not a valid object\n</code></pre>\n\n<p>so for example wrapping the \"...Object.getOwnPropertyNames(from).forEach...\" function with an \"if (from != null) { ... }\" will prevent that error occuring</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Deep recursive merge of json strings and values</strong><br/>\n(better implantation to Markus answer)</p>\n\n<h2>Code:</h2>\n\n<pre><code>function mergeRecursive(obj1, obj2) {\n    for (var p in obj2) {\n        if( obj2.hasOwnProperty(p)){\n            obj1[p] = typeof obj2[p] === 'object' ? mergeRecursive(obj1[p], obj2[p]) : obj2[p];\n        }\n    }\n    return obj1;\n}\n</code></pre>\n\n<h2>Example:</h2>\n\n<pre><code>o1 = { a:1, b:2, c:{ ca:1, cb:2, cc:{ cca:100, ccb:200 }}}; \no2 = { a:10, c:{ ca:10, cb:20, cc:{ cca:101, ccb:202 }}};\nmergeRecursive(o1, o2);\n</code></pre>\n\n<h2>output:</h2>\n\n<pre><code>{ a : 10,\n     b : 2,\n     c : {\n         ca : 10,\n         cb : 20,\n         cc : { \n             cca : 101,\n             ccb : 202 \n         } \n     } \n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I need merge objects today and this question (and answers) helped me a lot. I tried some of the answers but none of them fit my needs, so I combined some of the answers, added something myself and came up with a new merge function. Here it is:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>var merge = function() {\n    var obj = {},\n        i = 0,\n        il = arguments.length,\n        key;\n    for (; i &lt; il; i++) {\n        for (key in arguments[i]) {\n            if (arguments[i].hasOwnProperty(key)) {\n                obj[key] = arguments[i][key];\n            }\n        }\n    }\n    return obj;\n};\n</code></pre>\n\n<p>Some example usages:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var t1 = {\n    key1: 1,\n    key2: \"test\",\n    key3: [5, 2, 76, 21]\n};\nvar t2 = {\n    key1: {\n        ik1: \"hello\",\n        ik2: \"world\",\n        ik3: 3\n    }\n};\nvar t3 = {\n    key2: 3,\n    key3: {\n        t1: 1,\n        t2: 2,\n        t3: {\n            a1: 1,\n            a2: 3,\n            a4: [21, 3, 42, \"asd\"]\n        }\n    }\n};\nconsole.log(merge(t1, t2));\nconsole.log(merge(t1, t3));\nconsole.log(merge(t2, t3));\nconsole.log(merge(t1, t2, t3));\nconsole.log(merge({}, t1, { key1: 1 }));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>Based on Markus and vsync answer, this is an expanded version. Function takes any number of arguments. It can be used to set properties on DOM Nodes and makes deep copies of values. However, first argument is given by reference.</p>\n\n<p>To to detect a DOM node isDOMNode() function is used (see <a href=\"http://stackoverflow.com/a/8736129/1131084\">http://stackoverflow.com/a/8736129/1131084</a>)</p>\n\n<p>Tested in Opera 11, FireFox 6, Internet Explorer 8 and Google Chrome 16.</p>\n\n<h2>Code</h2>\n\n<pre><code>function mergeRecursive() {\n  // _mergeRecursive does the actual job with two arguments.\n  var _mergeRecursive = function (dst, src) {\n    if ( isDOMNode(src) || typeof src!=='object' || src===null) {\n      return dst; \n    }\n\n    for ( var p in src ) {\n      if( !src.hasOwnProperty(p) ) continue;\n      if ( src[p]===undefined ) continue;\n      if ( typeof src[p]!=='object' || src[p]===null) {\n        dst[p] = src[p];\n      } else if ( typeof dst[p]!=='object' || dst[p]===null ) {\n        dst[p] = _mergeRecursive(src[p].constructor===Array ? [] : {}, src[p]); \n      } else {              \n        _mergeRecursive(dst[p], src[p]);\n      }\n    }\n    return dst;\n  }\n\n  // Loop through arguments and merge them into the first argument. \n  var out = arguments[0];\n  if ( typeof out!=='object' || out===null) return out;\n  for ( var i=1, il=arguments.length; i&lt;il; i++ ) {\n    _mergeRecursive(out, arguments[i]);\n  }\n  return out;\n}\n</code></pre>\n\n<h2>Some examples</h2>\n\n<p>Set innerHTML and style of a HTML Element</p>\n\n<pre><code>mergeRecursive(\n  document.getElementById('mydiv'),\n  {style:{border:'5px solid green',color:'red'}}, \n  {innerHTML:'Hello world!'});\n</code></pre>\n\n<p>Merge arrays and objects. Note that undefined can be used to preserv values in the lefthand array/object.</p>\n\n<pre><code>o = mergeRecursive({a:'a'}, [1,2,3], [undefined, null, [30,31]], {a:undefined, b:'b'});\n// o = {0:1, 1:null, 2:[30,31], a:'a', b:'b'}\n</code></pre>\n\n<p>Any argument not beeing a javascript object (including null) will be ignored. Except for the first argument, also DOM nodes are discarded. Beware that i.e. strings, created like new String() are in fact objects.</p>\n\n<pre><code>o = mergeRecursive({a:'a'}, 1, true, null, undefined, [1,2,3], 'bc', new String('de'));\n// o = {0:'d', 1:'e', 2:3, a:'a'}\n</code></pre>\n\n<p>If you want to merge two objects into a new (without affecting any of the two) supply {} as first argument</p>\n\n<pre><code>var a={}, b={b:'abc'}, c={c:'cde'}, o;\no = mergeRecursive(a, b, c);\n// o===a is true, o===b is false, o===c is false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In YUI this should get the job done</p>\n\n<p>Y.merge(obj1, obj2, obj3....) </p>\n\n<p><a href=\"http://yuilibrary.com/yui/docs/yui/yui-merge.html\" rel=\"nofollow\">http://yuilibrary.com/yui/docs/yui/yui-merge.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Altough this is an old question, I thought that it would be appropriate to note that <a href=\"http://documentcloud.github.com/underscore\"><code>underscore.js</code></a>'s <a href=\"http://documentcloud.github.com/underscore/#extend\"><code>extend</code>-method</a> does this in a one-liner:</p>\n\n<pre><code>_.extend({name : 'moe'}, {age : 50});\n=&gt; {name : 'moe', age : 50}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 75
                },
                {
                    "body": "<p>Just if anyone is using Google Closure Library: \n<a href=\"http://closure-library.googlecode.com/svn/docs/closure_goog_object_object.js.html\">http://closure-library.googlecode.com/svn/docs/closure_goog_object_object.js.html</a></p>\n\n<pre><code>goog.require('goog.object');\nvar a = {'a': 1, 'b': 2};\nvar b = {'b': 3, 'c': 4};\ngoog.object.extend(a, b);\n// now object a == {'a': 1, 'b': 3, 'c': 4};\n</code></pre>\n\n<p>Similar helper function exists for array:\n<a href=\"http://closure-library.googlecode.com/svn/docs/closure_goog_array_array.js.html\">http://closure-library.googlecode.com/svn/docs/closure_goog_array_array.js.html</a></p>\n\n<pre><code>var a = [1, 2];\nvar b = [3, 4];\ngoog.array.extend(a, b); // extends array a\ngoog.array.concat(a, b); // returns concatenation of array a and b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>function extend()\n{ \n    var o = {}; \n\n    for (var i in arguments)\n    { \n        var s = arguments[i]; \n\n        for (var i in s)\n        { \n            o[i] = s[i]; \n        } \n    } \n\n    return o;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>just by the way, what you're all doing is overwriting properties, not merging... this is how javascript objects area really merged: only keys in the <code>to</code> obejct which are not objects themelves will be overwritten by <code>from</code>. everything else will be REALLY MERGED. ofc you can change this behaviour to not overwrite anything which exists like only if <code>to[n] is undefined</code> etc....</p>\n\n<pre><code>var realMerge = function (to, from) {\n    for (n in from) {\n        if (typeof to[n] != 'object') {\n            to[n] = from[n];\n        } else if (typeof from[n] == 'object') {\n            to[n] = realMerge(to[n], from[n]);\n        }\n    }\n\n    return to;\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var merged = realMerge(obj1, obj2);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This merges <code>obj</code> into a \"default\" <code>def</code>. <code>obj</code> has precedence for anything that exists in both, since <code>obj</code> is copied into <code>def</code>. Note also that this is recursive.</p>\n\n<pre><code>function mergeObjs(def, obj) {\n    if (typeof obj == 'undefined') {\n        return def;\n    } else if (typeof def == 'undefined') {\n        return obj;\n    }\n    for (var i in obj) {\n        if (obj[i] != null &amp;&amp; obj[i].constructor == Object) {\n            def[i] = mergeObjs(def[i], obj[i]);\n        } else {\n            def[i] = obj[i];\n        }\n    }\n    return def;\n}\n\na = {x : {y : [123]}}\nb = {x : {z : 123}}\nconsole.log(mergeObjs(a, b));\n// {x: {y : [123], z : 123}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Even though this is an old post, I think it's worth to mention that the version from the <a href=\"http://www.140byt.es/\" rel=\"nofollow\">140byt.es collection</a> is solving the task within minmal space and is worth a try for this purpose:</p>\n\n<p>Code:</p>\n\n<pre><code>function m(a,b,c){for(c in b)b.hasOwnProperty(c)&amp;&amp;((typeof a[c])[0]=='o'?m(a[c],b[c]):a[c]=b[c])}\n</code></pre>\n\n<p>Usage for your purpose:</p>\n\n<pre><code>m(obj1,obj2);      \n</code></pre>\n\n<p>Here's the <a href=\"https://gist.github.com/988478\" rel=\"nofollow\">original Gist</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>A={a:1,b:function(){alert(9)}}\nB={a:2,c:3}\nA.merge = function(){for(var i in B){A[i]=B[i]}}\nA.merge()\n</code></pre>\n\n<p>Result is: {a:2,c:3,b:function()}</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's my stab which</p>\n\n<ol>\n<li>supports deep merge</li>\n<li>does not mutate arguments</li>\n<li>takes any number of arguments</li>\n<li>does not extend the object prototype</li>\n<li>does not depend on another library (jQuery, MooTools, Underscore, etc.)</li>\n<li>includes check for hasOwnProperty</li>\n<li>is short :)</li>\n</ol>\n\n<pre><code>\n    /*\n    Recursively merge properties and return new object\n    obj1 &lt;- obj2 [ &lt;- ... ]\n    */\n    function merge () {\n        var dst = {}\n            ,src\n            ,p\n            ,args = [].splice.call(arguments, 0)\n        ;\n\n        while (args.length > 0) {\n            src = args.splice(0, 1)[0];\n            if (toString.call(src) == '[object Object]') {\n                for (p in src) {\n                    if (src.hasOwnProperty(p)) {\n                        if (toString.call(src[p]) == '[object Object]') {\n                            dst[p] = merge(dst[p] || {}, src[p]);\n                        } else {\n                            dst[p] = src[p];\n                        }\n                    }\n                }\n            }\n        }\n\n        return dst;\n    }\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>\n    a = {\n        \"p1\": \"p1a\",\n        \"p2\": [\n            \"a\",\n            \"b\",\n            \"c\"\n        ],\n        \"p3\": true,\n        \"p5\": null,\n        \"p6\": {\n            \"p61\": \"p61a\",\n            \"p62\": \"p62a\",\n            \"p63\": [\n                \"aa\",\n                \"bb\",\n                \"cc\"\n            ],\n            \"p64\": {\n                \"p641\": \"p641a\"\n            }\n        }\n    };\n\n    b = {\n        \"p1\": \"p1b\",\n        \"p2\": [\n            \"d\",\n            \"e\",\n            \"f\"\n        ],\n        \"p3\": false,\n        \"p4\": true,\n        \"p6\": {\n            \"p61\": \"p61b\",\n            \"p64\": {\n                \"p642\": \"p642b\"\n            }\n        }\n    };\n\n    c = {\n        \"p1\": \"p1c\",\n        \"p3\": null,\n        \"p6\": {\n            \"p62\": \"p62c\",\n            \"p64\": {\n                \"p643\": \"p641c\"\n            }\n        }\n    };\n\n    d = merge(a, b, c);\n    /*\n    d = {\n        \"p1\": \"p1c\",\n        \"p2\": [\n            \"d\",\n            \"e\",\n            \"f\"\n        ],\n        \"p3\": null,\n        \"p5\": null,\n        \"p6\": {\n            \"p61\": \"p61b\",\n            \"p62\": \"p62c\",\n            \"p63\": [\n                \"aa\",\n                \"bb\",\n                \"cc\"\n            ],\n            \"p64\": {\n                \"p641\": \"p641a\",\n                \"p642\": \"p642b\",\n                \"p643\": \"p641c\"\n            }\n        },\n        \"p4\": true\n    };\n    */\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could assign every object a default merge (perhaps 'inherit' a better name) method:\nShould work with either objects or instantiated functions.\n<br>\nThe below code handles overriding the merged values if so desired:</p>\n\n<pre><code>Object.prototype.merge = function(obj, override) {\n//dont override by default\n\n    for (var key in obj) {\n        var n = obj[key];\n        var t = this[key];\n        this[key] = (override &amp;&amp; t) ? n : t;\n    };\n\n};\n</code></pre>\n\n<p>test data below:</p>\n\n<pre><code>var Mammal = function () {\n    this.eyes = 2;\n    this.thinking_brain = false;\n    this.say = function () {\n    console.log('screaming like a mammal')};\n}\n\nvar Human = function () {\n    this.thinking_brain = true;\n    this.say = function() {console.log('shouting like a human')};\n}\n\njohn = new Human();\n//extend mammal but do not override from mammal\njohn.merge(new Mammal());\njohn.say();\n\n//extend mammal and override from mammal\njohn.merge(new Mammal(), true);\njohn.say();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My way:</p>\n\n<pre><code>function mergeObjects(defaults, settings) {\n    Object.keys(defaults).forEach(function(key_default) {\n        if (typeof settings[key_default] == \"undefined\") {\n            settings[key_default] = defaults[key_default];\n        } else if (isObject(defaults[key_default]) &amp;&amp; isObject(settings[key_default])) {\n            mergeObjects(defaults[key_default], settings[key_default]);\n        }\n    });\n\n    function isObject(object) {\n        return Object.prototype.toString.call(object) === '[object Object]';\n    }\n\n    return settings;\n}\n</code></pre>\n\n<p>:)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've used Object.create() to keep the default settings (utilising __proto__ or Object.getPrototypeOf() ). </p>\n\n<pre><code>function myPlugin( settings ){\n    var defaults = {\n        \"keyName\": [ \"string 1\", \"string 2\" ]\n    }\n    var options = Object.create( defaults );\n    for (var key in settings) { options[key] = settings[key]; }\n}\nmyPlugin( { \"keyName\": [\"string 3\", \"string 4\" ] } );\n</code></pre>\n\n<p>This way I can always 'concat()' or 'push()' later.</p>\n\n<pre><code>var newArray = options['keyName'].concat( options.__proto__['keyName'] );\n</code></pre>\n\n<p><strong>Note</strong>: You'll need to do a hasOwnProperty check before concatenation to avoid duplication.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Similar to JQuery extend(), you have the same function in Angular JS</p>\n\n<pre><code>// merge options object into settings object\nvar settings = { validate: false, limit: 5, name: \"foo\" };\nvar options  = { validate: true, name: \"bar\" };\nangular.extend(settings, options);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>With underscore to merge an array of objects:</p>\n\n<pre><code>var arrayOfObjects = [ {a:1}, {b:2, c:3}, {d:4} ];\n_(arrayOfObjects).reduce(function(memo, o) { return _(memo).extend(o); });\n</code></pre>\n\n<p>result in:</p>\n\n<pre><code>Object {a: 1, b: 2, c: 3, d: 4}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For those using Node.js, there's a built-in library. <a href=\"https://www.npmjs.org/package/node.extend\" rel=\"nofollow\">https://www.npmjs.org/package/node.extend</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There's a library called <code>deepmerge</code> on github: <a href=\"https://github.com/nrf110/deepmerge\" rel=\"nofollow\">https://github.com/nrf110/deepmerge</a> that seems to be getting some tracktion. It's a standalonie, available through both npm and bower package managers.</p>\n\n<p>I would be inclined to use or improve on this instead of copy-pasting code from answers.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I thought it might be worth noting that the <a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts\" rel=\"nofollow\">(draft) Harmony ECMAScript 6</a> specifies <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow\"><strong><code>Object.assign</code></strong></a> which will do this.</p>\n\n<pre><code>obj1 = Object.assign(obj1, obj2);\n</code></pre>\n\n<p>The specification is still in flux, but the MDN article linked above conveniently provides a polyfill.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This solution creates a <strong>new object</strong> and is able to handle <strong>multiple objects</strong>.</p>\n\n<p>Furthermore, it is <strong>recursive</strong> and you can chose weather you <strong>want</strong> to <strong>overwrite Values</strong> and <strong>Objects</strong>.</p>\n\n<pre><code>    function extendObjects() {\n\n        var newObject        = {};\n        var overwriteValues  = false;\n        var overwriteObjects = false;\n\n        for ( var indexArgument = 0; indexArgument &lt; arguments.length; indexArgument++ ) {\n\n            if ( typeof arguments[indexArgument] !== 'object' ) {\n\n                if ( arguments[indexArgument] == 'overwriteValues_True' ) {\n\n                    overwriteValues = true;            \n                } else if ( arguments[indexArgument] == 'overwriteValues_False' ) {\n\n                    overwriteValues = false;                             \n                } else if ( arguments[indexArgument] == 'overwriteObjects_True' ) {\n\n                    overwriteObjects = true;     \n                } else if ( arguments[indexArgument] == 'overwriteObjects_False' ) {\n\n                    overwriteObjects = false; \n                }\n\n            } else {\n\n                extendObject( arguments[indexArgument], newObject, overwriteValues, overwriteObjects );\n            }\n\n        }\n\n        function extendObject( object, extendedObject, overwriteValues, overwriteObjects ) {\n\n            for ( var indexObject in object ) {\n\n                if ( typeof object[indexObject] === 'object' ) {\n\n                    if ( typeof extendedObject[indexObject] === \"undefined\" || overwriteObjects ) {\n                        extendedObject[indexObject] = object[indexObject];\n                    }\n\n                    extendObject( object[indexObject], extendedObject[indexObject], overwriteValues, overwriteObjects );\n\n                } else {\n\n                    if ( typeof extendedObject[indexObject] === \"undefined\" || overwriteValues ) {\n                        extendedObject[indexObject] = object[indexObject];\n                    }\n\n                }\n\n            }     \n\n            return extendedObject;\n\n        }\n\n        return newObject;\n    }\n\n    var object1           = { a : 1, b : 2, testArr : [888, { innArr : 1 }, 777 ], data : { e : 12, c : { lol : 1 }, rofl : { O : 3 } } };\n    var object2           = { a : 6, b : 9, data : { a : 17, b : 18, e : 13, rofl : { O : 99, copter : { mao : 1 } } }, hexa : { tetra : 66 } };\n    var object3           = { f : 13, g : 666, a : 333, data : { c : { xD : 45 } }, testArr : [888, { innArr : 3 }, 555 ]  };\n\n    var newExtendedObject = extendObjects( 'overwriteValues_False', 'overwriteObjects_False', object1, object2, object3 );\n</code></pre>\n\n<p><strong>Contents of newExtendedObject:</strong></p>\n\n<pre><code>{\"a\":1,\"b\":2,\"testArr\":[888,{\"innArr\":1},777],\"data\":{\"e\":12,\"c\":{\"lol\":1,\"xD\":45},\"rofl\":{\"O\":3,\"copter\":{\"mao\":1}},\"a\":17,\"b\":18},\"hexa\":{\"tetra\":66},\"f\":13,\"g\":666}\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/o0gb2umb/\" rel=\"nofollow\">http://jsfiddle.net/o0gb2umb/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>These are probably a good starting point. lowdash also has a customizer function for those special needs !</p>\n\n<p><code>_.extend</code> (<a href=\"http://underscorejs.org/#extend\" rel=\"nofollow\">http://underscorejs.org/#extend</a>)<br>\n<code>_.merge</code> (<a href=\"https://lodash.com/docs#merge\" rel=\"nofollow\">https://lodash.com/docs#merge</a>)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to be able to merge two (very simple) JavaScript objects at runtime.  For example I'd like to:</p>\n\n<pre><code>var obj1 = { food: 'pizza', car: 'ford' }\nvar obj2 = { animal: 'dog' }\n\nobj1.merge(obj2);\n\n//obj1 now has three properties: food, car, and animal\n</code></pre>\n\n<p>Does anyone have a script for this or know of a built in way to do this?  I do not need recursion, and I do not need to merge functions, just methods on flat objects.</p>\n",
            "last_activity_date": 1422579588,
            "question_id": 171251,
            "score": 567,
            "tags": [
                "javascript"
            ],
            "title": "How can I merge properties of two JavaScript objects dynamically?"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>It's easy enough to write your own comparison function:</p>\n\n<pre><code>function compare(a,b) {\n  if (a.last_nom &lt; b.last_nom)\n     return -1;\n  if (a.last_nom &gt; b.last_nom)\n    return 1;\n  return 0;\n}\n\nobjs.sort(compare);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 836
                },
                {
                    "body": "<p>If you have duplicate last names you might sort those by first name-</p>\n\n<pre><code>obj.sort(function(a,b){\n  if(a.last_nom&lt; b.last_nom) return -1;\n  if(a.last_nom &gt;b.last_nom) return 1;\n  if(a.first_nom&lt; b.first_nom) return -1;\n  if(a.first_nom &gt;b.first_nom) return 1;\n  return 0;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Instead of using a custom comparison function, you could also create an object type with custom <code>toString()</code> method (which is invoked by the default comparison function):</p>\n\n<pre><code>function Person(firstName, lastName) {\n    this.firtName = firstName;\n    this.lastName = lastName;\n}\n\nPerson.prototype.toString = function() {\n    return this.lastName + ', ' + this.firstName;\n}\n\nvar persons = [ new Person('Lazslo', 'Jamf'), ...]\npersons.sort();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You can also create a dynamic sort function that sorts objects by their value that you pass:</p>\n\n<pre><code>function dynamicSort(property) {\n    var sortOrder = 1;\n    if(property[0] === \"-\") {\n        sortOrder = -1;\n        property = property.substr(1);\n    }\n    return function (a,b) {\n        var result = (a[property] &lt; b[property]) ? -1 : (a[property] &gt; b[property]) ? 1 : 0;\n        return result * sortOrder;\n    }\n}\n</code></pre>\n\n<p>So you can have an array of objects like this:</p>\n\n<pre><code>var People = [\n    {Name: \"Name\", Surname: \"Surname\"},\n    {Name:\"AAA\", Surname:\"ZZZ\"},\n    {Name: \"Name\", Surname: \"AAA\"}\n];\n</code></pre>\n\n<p>...and it will work when you do:</p>\n\n<pre><code>People.sort(dynamicSort(\"Name\"));\nPeople.sort(dynamicSort(\"Surname\"));\nPeople.sort(dynamicSort(\"-Surname\"));\n</code></pre>\n\n<h2>Multiple Parameters</h2>\n\n<p>You can use the function below to generate sort functions with multiple sort parameters.</p>\n\n<pre><code>function dynamicSortMultiple() {\n    /*\n     * save the arguments object as it will be overwritten\n     * note that arguments object is an array-like object\n     * consisting of the names of the properties to sort by\n     */\n    var props = arguments;\n    return function (obj1, obj2) {\n        var i = 0, result = 0, numberOfProperties = props.length;\n        /* try getting a different result from 0 (equal)\n         * as long as we have extra properties to compare\n         */\n        while(result === 0 &amp;&amp; i &lt; numberOfProperties) {\n            result = dynamicSort(props[i])(obj1, obj2);\n            i++;\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>Which would enable you to do something like this:</p>\n\n<pre><code>People.sort(dynamicSortMultiple(\"Name\", \"-Surname\"));\n</code></pre>\n\n<h2>Adding It To The Prototype</h2>\n\n<p><em>(Implementation which is just below is inspired from <a href=\"http://stackoverflow.com/users/2312161/mike-r\">Mike R</a>'s <a href=\"http://stackoverflow.com/a/16174180/300011\">answer</a>)</em></p>\n\n<p><strong>I wouldn't recommend changing a native object prototype but just to give an example so you can implement it on your own objects</strong> (For the environments that support it, you can also use <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty</a> as shown in the next section, which doesn't have the negative side-effects of fiddling with a native object's prototype, as described at the last part)</p>\n\n<p>Prototype implementation would be something like the following (<a href=\"http://jsfiddle.net/M2ESb/\">Here's a working example</a>):</p>\n\n<pre><code>//Don't just copy-paste this code. You will break the \"for-in\" loops\n!function() {\n    function _dynamicSortMultiple(attr) {\n       /* dynamicSortMultiple function body comes here */\n    }\n    function _dynamicSort(property) {\n        /* dynamicSort function body comes here */\n    }\n    Array.prototype.sortBy = function() {\n        return this.sort(_dynamicSortMultiple.apply(null, arguments));\n    }\n}();\n</code></pre>\n\n<h3>The Proper Way Of Adding It To The Prototype</h3>\n\n<p>If you're targeting IE v9.0 and up then, as I previously mentioned, use <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty</a> like this (<a href=\"http://jsfiddle.net/K7Lt8/\">working example</a>):</p>\n\n<pre><code>//Won't work below IE9, but totally safe otherwise\n!function() {\n    function _dynamicSortMultiple(attr) {\n       /* dynamicSortMultiple function body comes here */\n    }\n    function _dynamicSort(property) {\n        /* dynamicSort function body comes here */\n    }\n    Object.defineProperty(Array.prototype, \"sortBy\", {\n        enumerable: false,\n        writable: true,\n        value: function() {\n            return this.sort(_dynamicSortMultiple.apply(null, arguments));\n        }\n    });\n}();\n</code></pre>\n\n<p>All those prototype fun enables this:</p>\n\n<pre><code>People.sortBy(\"Name\", \"-Surname\");\n</code></pre>\n\n<h3>You Should Read This</h3>\n\n<p>If you use the direct prototype access method (Object.defineProperty is fine) and other code does not check <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\">hasOwnProperty</a>, kittens die! Ok, to be honest, no harm comes to any kitten really but probably things will break and every other developer in your team will hate you:</p>\n\n<p><img src=\"http://i.stack.imgur.com/kL8So.png\" alt=\"evil\"></p>\n\n<p>See that last \"SortBy\"? Yeah. Not cool. Use Object.defineProperty where you can, and leave the Array.prototype alone otherwise.</p>\n",
                    "is_accepted": false,
                    "score": 248
                },
                {
                    "body": "<p><a href=\"http://documentcloud.github.com/underscore/#sortBy\">underscore.js</a></p>\n\n<p>use underscore, its small and awesome...</p>\n\n<blockquote>\n  <p>sortBy_.sortBy(list, iterator, [context])  Returns a sorted copy of\n  list, ranked in ascending order by the results of running each value\n  through iterator. Iterator may also be the string name of the property\n  to sort by (eg. length).</p>\n</blockquote>\n\n<pre><code>var objs = [ \n  { first_nom: 'Lazslo',last_nom: 'Jamf' },\n  { first_nom: 'Pig', last_nom: 'Bodine'  },\n  { first_nom: 'Pirate', last_nom: 'Prentice' }\n];\n\nvar sortedObjs = _.sortBy( objs, 'first_nom' );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>Simple and quick solution to this problem using prototype inheritance.</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>Array.prototype.sortByProp = function(p){\n return this.sort(function(a,b){\n  return (a[p] &gt; b[p]) ? 1 : (a[p] &lt; b[p]) ? -1 : 0;\n });\n}\n</code></pre>\n\n<p><strong>Example / Usage</strong></p>\n\n<pre><code>objs = [{age:44,name:'vinay'},{age:24,name:'deepak'},{age:74,name:'suresh'}];\n\nobjs.sortByProp('age');\n// Returns\n// [{\"age\":24,\"name\":\"deepak\"},{\"age\":44,\"name\":\"vinay\"},{\"age\":74,\"name\":\"suresh\"}]\n\nobjs.sortByProp('name');\n// Returns\n// [{\"age\":24,\"name\":\"deepak\"},{\"age\":74,\"name\":\"suresh\"},{\"age\":44,\"name\":\"vinay\"}]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>additional desc params for <strong>Ege \u00d6zcan</strong> code</p>\n\n<pre><code>function dynamicSort(property, desc) {\n    if (desc) {\n        return function (a, b) {\n            return (a[property] &gt; b[property]) ? -1 : (a[property] &lt; b[property]) ? 1 : 0;\n        }   \n    }\n    return function (a, b) {\n        return (a[property] &lt; b[property]) ? -1 : (a[property] &gt; b[property]) ? 1 : 0;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Combining Ege's dynamic solution with Vinay's idea, you get a nice robust solution:</p>\n\n<pre><code>Array.prototype.sortBy = function() {\n    function _sortByAttr(attr) {\n        var sortOrder = 1;\n        if (attr[0] == \"-\") {\n            sortOrder = -1;\n            attr = attr.substr(1);\n        }\n        return function(a, b) {\n            var result = (a[attr] &lt; b[attr]) ? -1 : (a[attr] &gt; b[attr]) ? 1 : 0;\n            return result * sortOrder;\n        }\n    }\n    function _getSortFunc() {\n        if (arguments.length == 0) {\n            throw \"Zero length arguments not allowed for Array.sortBy()\";\n        }\n        var args = arguments;\n        return function(a, b) {\n            for (var result = 0, i = 0; result == 0 &amp;&amp; i &lt; args.length; i++) {\n                result = _sortByAttr(args[i])(a, b);\n            }\n            return result;\n        }\n    }\n    return this.sort(_getSortFunc.apply(null, arguments));\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// Utility for printing objects\nArray.prototype.print = function(title) {\n    console.log(\"************************************************************************\");\n    console.log(\"**** \"+title);\n    console.log(\"************************************************************************\");\n    for (var i = 0; i &lt; this.length; i++) {\n        console.log(\"Name: \"+this[i].FirstName, this[i].LastName, \"Age: \"+this[i].Age);\n    }\n}\n\n// Setup sample data\nvar arrObj = [\n    {FirstName: \"Zach\", LastName: \"Emergency\", Age: 35},\n    {FirstName: \"Nancy\", LastName: \"Nurse\", Age: 27},\n    {FirstName: \"Ethel\", LastName: \"Emergency\", Age: 42},\n    {FirstName: \"Nina\", LastName: \"Nurse\", Age: 48},\n    {FirstName: \"Anthony\", LastName: \"Emergency\", Age: 44},\n    {FirstName: \"Nina\", LastName: \"Nurse\", Age: 32},\n    {FirstName: \"Ed\", LastName: \"Emergency\", Age: 28},\n    {FirstName: \"Peter\", LastName: \"Physician\", Age: 58},\n    {FirstName: \"Al\", LastName: \"Emergency\", Age: 51},\n    {FirstName: \"Ruth\", LastName: \"Registration\", Age: 62},\n    {FirstName: \"Ed\", LastName: \"Emergency\", Age: 38},\n    {FirstName: \"Tammy\", LastName: \"Triage\", Age: 29},\n    {FirstName: \"Alan\", LastName: \"Emergency\", Age: 60},\n    {FirstName: \"Nina\", LastName: \"Nurse\", Age: 54}\n];\n\n//Unit Tests\narrObj.sortBy(\"LastName\").print(\"LastName Ascending\");\narrObj.sortBy(\"-LastName\").print(\"LastName Descending\");\narrObj.sortBy(\"LastName\", \"FirstName\", \"-Age\").print(\"LastName Ascending, FirstName Ascending, Age Descending\");\narrObj.sortBy(\"-FirstName\", \"Age\").print(\"FirstName Descending, Age Ascending\");\narrObj.sortBy(\"-Age\").print(\"Age Descending\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You may need to convert them to the lower case in order to prevent from confusion.</p>\n\n<pre><code>objs.sort(function (a,b) {\n\nvar nameA=a.last_nom.toLowerCase(), nameB=b.last_nom.toLowerCase()\n\nif (nameA &lt; nameB)\n  return -1;\nif (nameA &gt; nameB)\n  return 1;\nreturn 0;  //no sorting\n\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Don't get why people make it so complicated:</p>\n\n<pre><code>objs.sort(function(a, b){\n  return a.last_nom &gt; b.last_nom;\n});\n</code></pre>\n\n<p>For stricter engines:</p>\n\n<pre><code>objs.sort(function(a, b){\n  return a.last_nom == b.last_nom ? 0 : +(a.last_nom &gt; b.last_nom) || -1;\n});\n</code></pre>\n\n<p>Swap the operator to have it sorted by reverse alphabetical order.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Example Usage:</p>\n\n<pre><code>objs.sort(sortBy('last_nom'));\n</code></pre>\n\n<p>Script: </p>\n\n<pre><code>/**\n * @description \n * Returns a function which will sort an\n * array of objects by the given key.\n * \n * @param  {String}  key\n * @param  {Boolean} reverse\n * @return {Function}     \n */\nfunction sortBy(key, reverse) {\n\n  // Move smaller items towards the front\n  // or back of the array depending on if\n  // we want to sort the array in reverse\n  // order or not.\n  var moveSmaller = reverse ? 1 : -1;\n\n  // Move larger items towards the front\n  // or back of the array depending on if\n  // we want to sort the array in reverse\n  // order or not.\n  var moveLarger = reverse ? -1 : 1;\n\n  /**\n   * @param  {*} a\n   * @param  {*} b\n   * @return {Number}\n   */\n  return function(a, b) {\n    if (a[key] &lt; b[key]) {\n      return moveSmaller;\n    }\n    if (a[key] &gt; b[key]) {\n      return moveLarger;\n    }\n    return 0;\n  };\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Acording your example, you need to sort by two fields (last name, first name), rather then one. You can use <a href=\"http://github.com/agershun/alasql\" rel=\"nofollow\">Alasql</a> library to make this sort in one line:</p>\n\n<pre><code>var res = alasql('SELECT * FROM ? ORDER BY last_nom, first_nom',[objs]);\n</code></pre>\n\n<p>Try this example <a href=\"http://jsfiddle.net/agershun/4f4Lr9ss/1/\" rel=\"nofollow\">at jsFiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Using <strong>xPrototype</strong>: <a href=\"https://github.com/reduardo7/xPrototype/blob/master/README.md#sortbycol1-col2-coln\" rel=\"nofollow\">https://github.com/reduardo7/xPrototype/blob/master/README.md#sortbycol1-col2-coln</a></p>\n\n<pre><code>var o = [ \n  { Name: 'Lazslo', LastName: 'Jamf'     },\n  { Name: 'Pig',    LastName: 'Bodine'   },\n  { Name: 'Pirate', LastName: 'Prentice' },\n  { Name: 'Pag',    LastName: 'Bodine'   }\n];\n\n\n// Original\no.each(function (a, b) { console.log(a, b); });\n/*\n 0 Object {Name: \"Lazslo\", LastName: \"Jamf\"}\n 1 Object {Name: \"Pig\", LastName: \"Bodine\"}\n 2 Object {Name: \"Pirate\", LastName: \"Prentice\"}\n 3 Object {Name: \"Pag\", LastName: \"Bodine\"}\n*/\n\n\n// Sort By LastName ASC, Name ASC\no.sortBy('LastName', 'Name').each(function(a, b) { console.log(a, b); });\n/*\n 0 Object {Name: \"Pag\", LastName: \"Bodine\"}\n 1 Object {Name: \"Pig\", LastName: \"Bodine\"}\n 2 Object {Name: \"Lazslo\", LastName: \"Jamf\"}\n 3 Object {Name: \"Pirate\", LastName: \"Prentice\"}\n*/\n\n\n// Sort by LastName ASC and Name ASC\no.sortBy('LastName'.asc, 'Name'.asc).each(function(a, b) { console.log(a, b); });\n/*\n 0 Object {Name: \"Pag\", LastName: \"Bodine\"}\n 1 Object {Name: \"Pig\", LastName: \"Bodine\"}\n 2 Object {Name: \"Lazslo\", LastName: \"Jamf\"}\n 3 Object {Name: \"Pirate\", LastName: \"Prentice\"}\n*/\n\n\n// Sort by LastName DESC and Name DESC\no.sortBy('LastName'.desc, 'Name'.desc).each(function(a, b) { console.log(a, b); });\n/*\n 0 Object {Name: \"Pirate\", LastName: \"Prentice\"}\n 1 Object {Name: \"Lazslo\", LastName: \"Jamf\"}\n 2 Object {Name: \"Pig\", LastName: \"Bodine\"}\n 3 Object {Name: \"Pag\", LastName: \"Bodine\"}\n*/\n\n\n// Sort by LastName DESC and Name ASC\no.sortBy('LastName'.desc, 'Name'.asc).each(function(a, b) { console.log(a, b); });\n/*\n 0 Object {Name: \"Pirate\", LastName: \"Prentice\"}\n 1 Object {Name: \"Lazslo\", LastName: \"Jamf\"}\n 2 Object {Name: \"Pag\", LastName: \"Bodine\"}\n 3 Object {Name: \"Pig\", LastName: \"Bodine\"}\n*/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Say I have an array of JavaScript objects:</p>\n\n<pre><code>var objs = [ \n        { first_nom: 'Lazslo', last_nom: 'Jamf'     },\n        { first_nom: 'Pig',    last_nom: 'Bodine'   },\n        { first_nom: 'Pirate', last_nom: 'Prentice' }\n    ];\n</code></pre>\n\n<p>How can I sort them by the value of <code>last_nom</code> in JavaScript?</p>\n\n<p>I know about <code>sort(a,b)</code>, but that only seems to work on strings and numbers. Do I need to add a toString method to my objects?</p>\n",
            "last_activity_date": 1423513389,
            "question_id": 1129216,
            "score": 475,
            "tags": [
                "javascript",
                "sorting"
            ],
            "title": "Sorting objects in an array by a field value in JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should stick to <code>getElementById()</code> in these cases, for example:</p>\n\n<pre><code>document.getElementById('example').innerHTML\n</code></pre>\n\n<p>IE likes to mix elements with <code>name</code> <em>and</em> <code>ID</code> attributes in the global namespace, so best to be explicit about what you're trying to get.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>What is supposed to happen is that \u2018named elements\u2019 are added as apparent properties of the <code>document</code> object. This is a really bad idea, as it allows element names to clash with real properties of <code>document</code>.</p>\n\n<p>IE made the situation worse by also adding named elements as properties of the <code>window</code> object. This is doubly bad in that now you have to avoid naming your elements after any member of either the <code>document</code> or the <code>window</code> object you (or any other library code in your project) might want to use.</p>\n\n<p>It also means that these elements are visible as global-like variables. Luckily in this case any real global <code>var</code> or <code>function</code> declarations in your code shadow them, so you don't need to worry so much about naming here, but if you try to do an assignment to a global variable with a clashing name and you forget to declare it <code>var</code>, you'll get an error in IE as it tries to assign the value to the element itself.</p>\n\n<p>It's generally considered bad practice to omit <code>var</code>, as well as to rely on named elements being visible on <code>window</code> or as globals. Stick to <code>document.getElementById</code>, which is more widely-supported and less ambiguous. You can write a trivial wrapper function with a shorter name if you don't like the typing. Either way, there's no point in using an id-to-element lookup cache, because browsers typically optimise the <code>getElementById</code> call to use a quick lookup anyway; all you get is problems when elements change <code>id</code> or are added/removed from the document.</p>\n\n<p>Opera copied IE, then WebKit joined in, and now both the previously-unstandardised practice of putting named elements on <code>document</code> properties, and the previously-IE-only practice of putting them on <code>window</code> are <a href=\"http://dev.w3.org/html5/spec/Overview.html#dom-document-nameditem\">being</a> <a href=\"http://dev.w3.org/html5/spec/Overview.html#named-access-on-the-window-object\">standardised</a> by HTML5, whose approach is to document and standardise every terrible practice inflicted on us by browser authors, making them part of the web forever. So Firefox 4 will also support this.</p>\n\n<p>What are \u2018named elements\u2019? Anything with an <code>id</code>, and anything with a <code>name</code> being used for \u2018identifying\u2019 purposes: that is, forms, images, anchors and a few others, but not other unrelated instances of a <code>name</code> attribute, like control-names in form input fields, parameter names in <code>&lt;param&gt;</code> or metadata type in <code>&lt;meta&gt;</code>. \u2018Identifying\u2019 <code>name</code>s are the ones that should should be avoided in favour of <code>id</code>.</p>\n",
                    "is_accepted": true,
                    "score": 212
                },
                {
                    "body": "<p>As mentioned in the earlier answer this behavior is known as <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#named-access-on-the-window-object\" rel=\"nofollow\">named access on the window object</a>.  The value of the <code>name</code> attribute for some elements and the value of the <code>id</code> attribute for all elements are made available as properties of the global <code>window</code> object.  These are known as named elements.  Since <code>window</code> is the global object in the browser, each named element will be accessible as a global variable.</p>\n\n<p>This was originally added by Internet Explorer and eventually was implemented by all other browsers simply for compatibility with sites that are dependent on this behavior.  Interestingly, Gecko (Firefox's rendering engine) chose to implement this in <a href=\"https://developer.mozilla.org/en/Mozilla%2527s_Quirks_Mode\" rel=\"nofollow\">quirks mode</a> only, whereas other rendering engines left it on in standards mode.</p>\n\n<p>However, as of Firefox 14, <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=622491\" rel=\"nofollow\">Firefox  now supports named access</a> on the <code>window</code> object in standards mode as well.  Why did they change this?  Turns out there's still a lot of sites that rely on this functionality in standards mode.  Microsoft even <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=737760\" rel=\"nofollow\">released a marketing demo</a> that did, preventing the demo from working in Firefox.</p>\n\n<p>Webkit has recently <a href=\"https://www.w3.org/Bugs/Public/show_bug.cgi?id=11960\" rel=\"nofollow\">considered the opposite</a>, relegating named access on the <code>window</code> object to quirks mode only.  They decided against it by the same reasoning as Gecko.</p>\n\n<p>So\u2026 crazy as it seems this behavior is now <strong>technically safe to use in the latest version of all major browsers in standards mode</strong>.  But while named access can seem somewhat convenient , <strong>it should not be used</strong>.</p>\n\n<p>Why?  A lot of the reasoning can be summed up in this article about why <a href=\"http://c2.com/cgi/wiki?GlobalVariablesAreBad\" rel=\"nofollow\">global variables are bad</a>.  Simply put, having a bunch of extra global variables leads to more bugs.  Let's say you accidentally type the name of a <code>var</code> and happen to type an <code>id</code> of a DOM node, SURPRISE!</p>\n\n<p>Additionally, despite being standardized there are still quite a few discrepancies in browser's implementations of named access.</p>\n\n<ul>\n<li>IE incorrectly makes the value of the <code>name</code> attribute accessible for form elements (input, select, etc).</li>\n<li>Gecko and Webkit incorrectly do NOT make <code>&lt;a&gt;</code> tags accessible via their <code>name</code> attribute.</li>\n<li>Gecko incorrectly handles multiple named elements with the same name (it returns a reference to a single node instead of an array of references).</li>\n</ul>\n\n<p>And I'm sure there's more if you try using named access on edge cases.</p>\n\n<p>As mentioned in other answers use <code>document.getElementById</code> to get a reference to a DOM node by its <code>id</code>.  If you need to get a reference to a node by its <code>name</code> attribute use <code>document.querySelectorAll</code>.</p>\n\n<p>Please, please do not propagate this problem by using named access in your site.  So many web developers have wasted time trying to track down this <em>magical</em> behavior.  We really need to take action and get rendering engines to turn named access off in standards mode.  In the short term it will break some sites doing bad things, but in the long run it'll help move the web forward.</p>\n\n<p>If you're interested I talk about this in more detail on my blog - <a href=\"http://tjvantoll.com/2012/07/19/dom-element-references-as-global-variables/\" rel=\"nofollow\">http://tjvantoll.com/2012/07/19/dom-element-references-as-global-variables/</a>.</p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>Working on an idea for a simple HTMLElement wrapper I stumbled upon the following for IE and Chrome:</p>\n\n<p>For a given HTMLElement with ID in the DOM tree, it is possible to retrieve the div using its ID as variable name. So for a div like</p>\n\n<pre><code>&lt;div id=\"example\"&gt;some text&lt;/div&gt;\n</code></pre>\n\n<p>in IE8 and Chrome you can do:</p>\n\n<pre><code>alert(example.innerHTML); //=&gt; 'some text'\n</code></pre>\n\n<p>or </p>\n\n<pre><code>alert(window['example'].innerHTML); //=&gt; 'some text'\n</code></pre>\n\n<p>So, does this mean <em>every element in the DOM tree</em> is converted to a variable in the global namespace? And does it also mean one can use this as a replament for the <code>getElementById</code> method in these browsers?</p>\n",
            "last_activity_date": 1426186607,
            "question_id": 3434278,
            "score": 147,
            "tags": [
                "javascript",
                "dom",
                "global-variables",
                "getelementbyid",
                "identifier"
            ],
            "title": "Do DOM tree elements with ids become global variables?"
        },
        {
            "answer_count": 43,
            "answers": [
                {
                    "body": "<p>The main part is inserting the thousand-separators, that could be done like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction ins1000Sep(val){\n  val = val.split(\".\");\n  val[0] = val[0].split(\"\").reverse().join(\"\");\n  val[0] = val[0].replace(/(\\d{3})/g,\"$1,\");\n  val[0] = val[0].split(\"\").reverse().join(\"\");\n  val[0] = val[0].indexOf(\",\")==0?val[0].substring(1):val[0];\n  return val.join(\".\");\n}\nfunction rem1000Sep(val){\n  return val.replace(/,/g,\"\");\n}\nfunction formatNum(val){\n  val = Math.round(val*100)/100;\n  val = (\"\"+val).indexOf(\".\")&gt;-1 ? val + \"00\" : val + \".00\";\n  var dec = val.indexOf(\".\");\n  return dec == val.length-3 || dec == 0 ? val : val.substring(0,dec+3);\n}\n&lt;/script&gt;\n\n&lt;button onclick=\"alert(ins1000Sep(formatNum(12313231)));\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use :</p>\n\n<pre><code>  var profits=2489.8237\n  profits.toFixed(3) //returns 2489.824 (round up)\n  profits.toFixed(2) //returns 2489.82\n  profits.toFixed(7) //returns 2489.8237000 (padding)\n</code></pre>\n\n<p>Then you can add the sign of '$'.</p>\n\n<p>If you require ',' for thousand you can use:</p>\n\n<pre><code>Number.prototype.formatMoney = function(c, d, t){\nvar n = this, \n    c = isNaN(c = Math.abs(c)) ? 2 : c, \n    d = d == undefined ? \".\" : d, \n    t = t == undefined ? \",\" : t, \n    s = n &lt; 0 ? \"-\" : \"\", \n    i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + \"\", \n    j = (j = i.length) &gt; 3 ? j % 3 : 0;\n   return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\n };\n</code></pre>\n\n<p>And use it with :</p>\n\n<pre><code>(123456789.12345).formatMoney(2, '.', ',');\n</code></pre>\n\n<p>If you're always going to use '.' and ',', you can leave them off your method call, the method will default them for you.</p>\n\n<pre><code>(123456789.12345).formatMoney(2);\n</code></pre>\n\n<p>If your culture has the two symbols flipped (i.e. Europeans), just paste over the following two lines in the formatMoney method:</p>\n\n<pre><code>    d = d == undefined ? \",\" : d, \n    t = t == undefined ? \".\" : t, \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 780
                },
                {
                    "body": "<p>Take a look at the JavaScript <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number\">Number</a> object and see if it can help you.</p>\n\n<p>toLocaleString() will format a number using location specific thousands separator.<br>\ntoFixed() will round the number to a specific number of decimal places.</p>\n\n<p>To use these at the same time the value must have its type changed back to a number because they both output a string. </p>\n\n<p>Example:</p>\n\n<p><code>Number(someNumber.toFixed(1)).toLocaleString()</code></p>\n",
                    "is_accepted": false,
                    "score": 51
                },
                {
                    "body": "<pre><code>function CurrencyFormatted(amount)\n{\n    var i = parseFloat(amount);\n    if(isNaN(i)) { i = 0.00; }\n    var minus = '';\n    if(i &lt; 0) { minus = '-'; }\n    i = Math.abs(i);\n    i = parseInt((i + .005) * 100);\n    i = i / 100;\n    s = new String(i);\n    if(s.indexOf('.') &lt; 0) { s += '.00'; }\n    if(s.indexOf('.') == (s.length - 2)) { s += '0'; }\n    s = minus + s;\n    return s;\n}\n</code></pre>\n\n<p>From <a href=\"http://www.willmaster.com/library/tutorials/currency-formatting-and-putting-commas-in-numbers-with-javascript-and-perl.php\">WillMaster</a>.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The YUI codebase uses the following formmating:</p>\n\n<pre><code>format: function(nData, oConfig) {\n    oConfig = oConfig || {};\n\n    if(!YAHOO.lang.isNumber(nData)) {\n        nData *= 1;\n    }\n\n    if(YAHOO.lang.isNumber(nData)) {\n        var sOutput = nData + \"\";\n        var sDecimalSeparator = (oConfig.decimalSeparator) ? oConfig.decimalSeparator : \".\";\n        var nDotIndex;\n\n        // Manage decimals\n        if(YAHOO.lang.isNumber(oConfig.decimalPlaces)) {\n            // Round to the correct decimal place\n            var nDecimalPlaces = oConfig.decimalPlaces;\n            var nDecimal = Math.pow(10, nDecimalPlaces);\n            sOutput = Math.round(nData*nDecimal)/nDecimal + \"\";\n            nDotIndex = sOutput.lastIndexOf(\".\");\n\n            if(nDecimalPlaces &gt; 0) {\n                // Add the decimal separator\n                if(nDotIndex &lt; 0) {\n                    sOutput += sDecimalSeparator;\n                    nDotIndex = sOutput.length-1;\n                }\n                // Replace the \".\"\n                else if(sDecimalSeparator !== \".\"){\n                    sOutput = sOutput.replace(\".\",sDecimalSeparator);\n                }\n                // Add missing zeros\n                while((sOutput.length - 1 - nDotIndex) &lt; nDecimalPlaces) {\n                    sOutput += \"0\";\n                }\n            }\n        }\n\n        // Add the thousands separator\n        if(oConfig.thousandsSeparator) {\n            var sThousandsSeparator = oConfig.thousandsSeparator;\n            nDotIndex = sOutput.lastIndexOf(sDecimalSeparator);\n            nDotIndex = (nDotIndex &gt; -1) ? nDotIndex : sOutput.length;\n            var sNewOutput = sOutput.substring(nDotIndex);\n            var nCount = -1;\n            for (var i=nDotIndex; i&gt;0; i--) {\n                nCount++;\n                if ((nCount%3 === 0) &amp;&amp; (i !== nDotIndex)) {\n                    sNewOutput = sThousandsSeparator + sNewOutput;\n                }\n                sNewOutput = sOutput.charAt(i-1) + sNewOutput;\n            }\n            sOutput = sNewOutput;\n        }\n\n        // Prepend prefix\n        sOutput = (oConfig.prefix) ? oConfig.prefix + sOutput : sOutput;\n\n        // Append suffix\n        sOutput = (oConfig.suffix) ? sOutput + oConfig.suffix : sOutput;\n\n        return sOutput;\n    }\n    // Still not a Number, just return unaltered\n    else {\n        return nData;\n    }\n}\n</code></pre>\n\n<p>it would need editing as the YUI library is configurable, like replacing oConfig.decimalSeparator with \".\"</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Ok, based on what you said, i'm using this:</p>\n\n<pre><code>var DecimalSeparator = Number(\"1.2\").toLocaleString().substr(1,1);\n\nvar AmountWithCommas = Amount.toLocaleString();\nvar arParts = String(AmountWithCommas).split(DecimalSeparator);\nvar intPart = arParts[0];\nvar decPart = (arParts.length &gt; 1 ? arParts[1] : '');\ndecPart = (decPart + '00').substr(0,2);\n\nreturn '\u00a3 ' + intPart + DecimalSeparator + decPart;\n</code></pre>\n\n<p>I'm open to improvement suggestions (i'd prefer not to include YUI just to do this :-) )\nI already know I should be detecting the \".\" instead of just using it as the decimal separator...</p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Minimalistic approach that just meets the original requirements:</p>\n\n<pre><code>function formatMoney(n) {\n    return \"$ \" + (Math.round(n * 100) / 100).toLocaleString();\n}\n</code></pre>\n\n<p>@<a href=\"#149150\" rel=\"nofollow\">Daniel Magliola</a>: You're right, the above was a hasty, incomplete implementation. Here's the corrected implementation:</p>\n\n<pre><code>function formatMoney(n) {\n    return \"$ \" + n.toLocaleString().split(\".\")[0] + \".\"\n        + n.toFixed(2).split(\".\")[1];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>There is a javascript port of the PHP function \"number_format\".</p>\n\n<p>I find it very usefull as it is easy to use and recognisable for PHP developers.</p>\n\n<pre><code>function number_format (number, decimals, dec_point, thousands_sep) {\n    var n = number, prec = decimals;\n\n    var toFixedFix = function (n,prec) {\n        var k = Math.pow(10,prec);\n        return (Math.round(n*k)/k).toString();\n    };\n\n    n = !isFinite(+n) ? 0 : +n;\n    prec = !isFinite(+prec) ? 0 : Math.abs(prec);\n    var sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep;\n    var dec = (typeof dec_point === 'undefined') ? '.' : dec_point;\n\n    var s = (prec &gt; 0) ? toFixedFix(n, prec) : toFixedFix(Math.round(n), prec); \n    //fix for IE parseFloat(0.55).toFixed(0) = 0;\n\n    var abs = toFixedFix(Math.abs(n), prec);\n    var _, i;\n\n    if (abs &gt;= 1000) {\n        _ = abs.split(/\\D/);\n        i = _[0].length % 3 || 3;\n\n        _[0] = s.slice(0,i + (n &lt; 0)) +\n               _[0].slice(i).replace(/(\\d{3})/g, sep+'$1');\n        s = _.join(dec);\n    } else {\n        s = s.replace('.', dec);\n    }\n\n    var decPos = s.indexOf(dec);\n    if (prec &gt;= 1 &amp;&amp; decPos !== -1 &amp;&amp; (s.length-decPos-1) &lt; prec) {\n        s += new Array(prec-(s.length-decPos-1)).join(0)+'0';\n    }\n    else if (prec &gt;= 1 &amp;&amp; decPos === -1) {\n        s += dec+new Array(prec).join(0)+'0';\n    }\n    return s; \n}\n</code></pre>\n\n<p>(Comment block from <a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript_equivalent_for_phps_number_format/\" rel=\"nofollow\">the original</a>, included below for examples &amp; credit where due)</p>\n\n<pre><code>// Formats a number with grouped thousands\n//\n// version: 906.1806\n// discuss at: http://phpjs.org/functions/number_format\n// +   original by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\n// +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n// +     bugfix by: Michael White (http://getsprink.com)\n// +     bugfix by: Benjamin Lupton\n// +     bugfix by: Allan Jensen (http://www.winternet.no)\n// +    revised by: Jonas Raoni Soares Silva (http://www.jsfromhell.com)\n// +     bugfix by: Howard Yeend\n// +    revised by: Luke Smith (http://lucassmith.name)\n// +     bugfix by: Diogo Resende\n// +     bugfix by: Rival\n// +     input by: Kheang Hok Chin (http://www.distantia.ca/)\n// +     improved by: davook\n// +     improved by: Brett Zamir (http://brett-zamir.me)\n// +     input by: Jay Klehr\n// +     improved by: Brett Zamir (http://brett-zamir.me)\n// +     input by: Amir Habibi (http://www.residence-mixte.com/)\n// +     bugfix by: Brett Zamir (http://brett-zamir.me)\n// *     example 1: number_format(1234.56);\n// *     returns 1: '1,235'\n// *     example 2: number_format(1234.56, 2, ',', ' ');\n// *     returns 2: '1 234,56'\n// *     example 3: number_format(1234.5678, 2, '.', '');\n// *     returns 3: '1234.57'\n// *     example 4: number_format(67, 2, ',', '.');\n// *     returns 4: '67,00'\n// *     example 5: number_format(1000);\n// *     returns 5: '1,000'\n// *     example 6: number_format(67.311, 2);\n// *     returns 6: '67.31'\n// *     example 7: number_format(1000.55, 1);\n// *     returns 7: '1,000.6'\n// *     example 8: number_format(67000, 5, ',', '.');\n// *     returns 8: '67.000,00000'\n// *     example 9: number_format(0.9, 0);\n// *     returns 9: '1'\n// *     example 10: number_format('1.20', 2);\n// *     returns 10: '1.20'\n// *     example 11: number_format('1.20', 4);\n// *     returns 11: '1.2000'\n// *     example 12: number_format('1.2000', 3);\n// *     returns 12: '1.200'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Below is the <a href=\"http://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-money-in-javascript/149099#149099\">Patrick Desjardins (alias Daok)</a> code with a bit of comments added and some minor changes:</p>\n\n<pre><code>/* \ndecimal_sep: character used as deciaml separtor, it defaults to '.' when omitted\nthousands_sep: char used as thousands separator, it defaults to ',' when omitted\n*/\nNumber.prototype.toMoney = function(decimals, decimal_sep, thousands_sep)\n{ \n   var n = this,\n   c = isNaN(decimals) ? 2 : Math.abs(decimals), //if decimal is zero we must take it, it means user does not want to show any decimal\n   d = decimal_sep || '.', //if no decimal separator is passed we use the dot as default decimal separator (we MUST use a decimal separator)\n\n   /*\n   according to [http://stackoverflow.com/questions/411352/how-best-to-determine-if-an-argument-is-not-sent-to-the-javascript-function]\n   the fastest way to check for not defined parameter is to use typeof value === 'undefined' \n   rather than doing value === undefined.\n   */   \n   t = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep, //if you don't want to use a thousands separator you can pass empty string as thousands_sep value\n\n   sign = (n &lt; 0) ? '-' : '',\n\n   //extracting the absolute value of the integer part of the number and converting to string\n   i = parseInt(n = Math.abs(n).toFixed(c)) + '', \n\n   j = ((j = i.length) &gt; 3) ? j % 3 : 0; \n   return sign + (j ? i.substr(0, j) + t : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : ''); \n}\n</code></pre>\n\n<p>and here some tests:</p>\n\n<pre><code>//some tests (do not forget parenthesis when using negative numbers and number with no decimals)\nalert(123456789.67392.toMoney() + '\\n' + 123456789.67392.toMoney(3) + '\\n' + 123456789.67392.toMoney(0) + '\\n' + (123456).toMoney() + '\\n' + (123456).toMoney(0) + '\\n' + 89.67392.toMoney() + '\\n' + (89).toMoney());\n\n//some tests (do not forget parenthesis when using negative numbers and number with no decimals)\nalert((-123456789.67392).toMoney() + '\\n' + (-123456789.67392).toMoney(-3));\n</code></pre>\n\n<p>The minor changes are:</p>\n\n<ol>\n<li><p>moved a bit the <code>Math.abs(decimals)</code> to be done only when is not <code>NaN</code>.</p></li>\n<li><p><code>decimal_sep</code> can not be empty string anymore (a some sort of decimal separator is a MUST)</p></li>\n<li><p>we use <code>typeof thousands_sep === 'undefined'</code> as suggested in <a href=\"http://stackoverflow.com/questions/411352/how-best-to-determine-if-an-argument-is-not-sent-to-the-javascript-function\">How best to determine if an argument is not sent to the JavaScript function</a></p></li>\n<li><p><code>(+n || 0)</code> is not needed because <code>this</code> is a <code>Number</code> object</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 128
                },
                {
                    "body": "<pre><code>function getMoney(A){\n    var a = new Number(A);\n    var b = a.toFixed(2); //get 12345678.90\n    a = parseInt(a); // get 12345678\n    b = (b-a).toPrecision(2); //get 0.90\n    b = parseFloat(b).toFixed(2); //in case we get 0.0, we pad it out to 0.00\n    a = a.toLocaleString();//put in commas - IE also puts in .00, so we'll get 12,345,678.00\n    //if IE (our number ends in .00)\n    if(a &lt; 1 &amp;&amp; a.lastIndexOf('.00') == (a.length - 3))\n    {\n        a=a.substr(0, a.length-3); //delete the .00\n    }\n    return a+b.substr(1);//remove the 0 from b, then return a + b = 12,345,678.90\n}\nalert(getMoney(12345678.9));\n</code></pre>\n\n<p>This works in FF and IE</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As usually, there are multiple ways of doing the same thing but I would avoid using <code>Number.prototype.toLocaleString</code> since it can return different values based on the user settings.</p>\n\n<p>I also don't recommend extending the <code>Number.prototype</code> - extending native objects prototypes is a bad practice since it can cause conflicts with other people code (e.g. libraries/frameworks/plugins) and may not be compatible with future JavaScript implementations/versions.</p>\n\n<p>I believe that Regular Expressions are the best approach for the problem, here is my implementation:</p>\n\n<pre><code>/**\n * Converts number into currency format\n * @param {number} number   Number that should be converted.\n * @param {string} [decimalSeparator]    Decimal separator, defaults to '.'.\n * @param {string} [thousandsSeparator]    Thousands separator, defaults to ','.\n * @param {int} [nDecimalDigits]    Number of decimal digits, defaults to `2`.\n * @return {string} Formatted string (e.g. numberToCurrency(12345.67) returns '12,345.67')\n */\nfunction numberToCurrency(number, decimalSeparator, thousandsSeparator, nDecimalDigits){\n    //default values\n    decimalSeparator = decimalSeparator || '.';\n    thousandsSeparator = thousandsSeparator || ',';\n    nDecimalDigits = nDecimalDigits == null? 2 : nDecimalDigits;\n\n    var fixed = number.toFixed(nDecimalDigits), //limit/add decimal digits\n        parts = new RegExp('^(-?\\\\d{1,3})((?:\\\\d{3})+)(\\\\.(\\\\d{'+ nDecimalDigits +'}))?$').exec( fixed ); //separate begin [$1], middle [$2] and decimal digits [$4]\n\n    if(parts){ //number &gt;= 1000 || number &lt;= -1000\n        return parts[1] + parts[2].replace(/\\d{3}/g, thousandsSeparator + '$&amp;') + (parts[4] ? decimalSeparator + parts[4] : '');\n    }else{\n        return fixed.replace('.', decimalSeparator);\n    }\n}\n</code></pre>\n\n<p><em>edited on 2010/08/30: added option to set number of decimal digits.</em>\n*edited on 2011/08/23: added option to set number of decimal digits to zero.*</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>There are already some great answers here. Here's another attempt, just for fun:</p>\n\n<pre><code>function formatDollar(num) {\n    var p = num.toFixed(2).split(\".\");\n    return \"$\" + p[0].split(\"\").reverse().reduce(function(acc, num, i, orig) {\n        return  num + (i &amp;&amp; !(i % 3) ? \",\" : \"\") + acc;\n    }, \"\") + \".\" + p[1];\n}\n</code></pre>\n\n<p>And some tests:</p>\n\n<pre><code>formatDollar(45664544.23423) // \"$45,664,544.23\"\nformatDollar(45) // \"$45.00\"\nformatDollar(123) // \"$123.00\"\nformatDollar(7824) // \"$7,824.00\"\nformatDollar(1) // \"$1.00\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>Patrick Desjardins (ex Daok)'s example worked well for me. I ported over to coffeescript if anyone is interested.</p>\n\n<pre><code>Number.prototype.toMoney = (decimals = 2, decimal_separator = \".\", thousands_separator = \",\") -&gt;\n    n = this\n    c = if isNaN(decimals) then 2 else Math.abs decimals\n    sign = if n &lt; 0 then \"-\" else \"\"\n    i = parseInt(n = Math.abs(n).toFixed(c)) + ''\n    j = if (j = i.length) &gt; 3 then j % 3 else 0\n    x = if j then i.substr(0, j) + thousands_separator else ''\n    y = i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands_separator)\n    z = if c then decimal_separator + Math.abs(n - i).toFixed(c).slice(2) else ''\n    sign + x + y + z\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This might work:</p>\n\n<pre><code>function format_currency(v, number_of_decimals, decimal_separator, currency_sign){\n  return (isNaN(v)? v : currency_sign + parseInt(v||0).toLocaleString() + decimal_separator + (v*1).toFixed(number_of_decimals).slice(-number_of_decimals));\n}\n</code></pre>\n\n<p>No loops, no regexes, no arrays, no exotic conditionals.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://code.google.com/p/javascript-number-formatter/\">http://code.google.com/p/javascript-number-formatter/</a></p>\n\n<ul>\n<li>Short, fast and flexible. Only 75 lines including MIT license info, blank lines &amp; comments.</li>\n<li>Accept standard number formatting like #,##0.00 or with negation -000.####.</li>\n<li>Accept any country format like # ##0,00, #,###.##, #'###.## or any type of non-numbering symbol.</li>\n<li>Accept any numbers of digit grouping. #,##,#0.000 or #,###0.00 are all valid.</li>\n<li>Accept any redundant/fool-proof formatting. ##,###,##.# or 0#,#00#.###0# are all OK.</li>\n<li>Auto number rounding.</li>\n<li>Simple interface, just supply mask &amp; value like this: format( \"0.0000\", 3.141592)</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>here is a quick way by using regexp and replace.</p>\n\n<pre><code>function formatCurrency( number, dp, ts ) {\n  var num = parseFloat( number ); //convert to float\n  var pw; //for IE\n  dp = parseInt( dp, 10 ); //decimal point\n  dp = isNaN( dp ) ? 2 : dp; //default 2 decimal point\n  ts = ts || ','; //thousands separator\n\n  return num != number ? \n    false : //return false for NaN\n    ( ( 0.9 ).toFixed( 0 ) == '1' ? //for cater IE toFixed bug\n        num.toFixed( dp ) : //format to fix n decimal point with round up\n        ( Math.round( num * ( pw = Math.pow( 10, dp ) || 1 ) ) / pw ).toFixed( dp ) //for fix ie toFixed bug on round up value like 0.9 in toFixed\n    ).replace( /^(-?\\d{1,3})((\\d{3})*)(\\.\\d+)?$/, function( all, first, subsequence, dmp, dec ) { //separate string into different parts\n      return ( first || '' ) + subsequence.replace( /(\\d{3})/g, ts + '$1' ) + ( dec || '' ); //add thousands seperator and re-join all parts\n    } );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>I use the library Globalize (from Microsoft): <a href=\"https://github.com/jquery/globalize\">https://github.com/jquery/globalize</a></p>\n\n<p>It's a great project to localize numbers, currencies and dates and to have them automatically formatted the right way according to the user locale! ...and despite it should be a jQuery extension, it's currently a 100% independent library. I suggest you all to try it out! :)</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>accounting.js is a tiny JavaScript library for number, money and currency formatting.</p>\n\n<p><a href=\"http://openexchangerates.github.io/accounting.js/\" rel=\"nofollow\">http://openexchangerates.github.io/accounting.js/</a></p>\n",
                    "is_accepted": false,
                    "score": 77
                },
                {
                    "body": "<p>A quiker way with regexp ?</p>\n\n<pre><code>Number.prototype.toMonetaryString=function(){var n=this.toFixed(2),m;\n// var=this.toFixed(2).replace(/\\./,','); for comma separator\n// with a space for thousands separator\n  while ((m=n.replace(/(\\d)(\\d\\d\\d)\\b/g,'$1 $2'))!=n) n=m; \n  return m;\n}\nString.prototype.fromMonetaryToNumber=function(s){\n  return this.replace(/[^\\d-]+/g,'')/100;\n}   \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A simple option for proper comma placement by reversing the string first and basic regexp.</p>\n\n<pre><code>String.prototype.reverse = function() {\n    return this.split('').reverse().join('');\n};\n\nNumber.prototype.toCurrency = function( round_decimal /*boolean*/ ) {       \n     // format decimal or round to nearest integer\n     var n = this.toFixed( round_decimal ? 0 : 2 );\n\n     // convert to a string, add commas every 3 digits from left to right \n     // by reversing string\n     return (n + '').reverse().replace( /(\\d{3})(?=\\d)/g, '$1,' ).reverse();\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>A shorter method (for inserting space, comma or point) with regular expression ?</p>\n\n<pre><code>    Number.prototype.toCurrencyString=function(){\n        return this.toFixed(2).replace(/(\\d)(?=(\\d{3})+\\b)/g,'$1 ');\n    }\n\n    n=12345678.9;\n    alert(n.toCurrencyString());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/a/149099/155987\">Patrick Desjardins</a>' answer looks good, but I prefer my javascript simple.  Here's a function I just wrote to take a number in and return it in currency format (minus the dollar sign)</p>\n\n<pre><code>// Format numbers to two decimals with commas\nfunction formatDollar(num) {\n    var p = num.toFixed(2).split(\".\");\n    var chars = p[0].split(\"\").reverse();\n    var newstr = '';\n    var count = 0;\n    for (x in chars) {\n        count++;\n        if(count%3 == 1 &amp;&amp; count != 1) {\n            newstr = chars[x] + ',' + newstr;\n        } else {\n            newstr = chars[x] + newstr;\n        }\n    }\n    return newstr + \".\" + p[1];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<pre><code>String.prototype.toPrice = function () {\n    var v;\n    if (/^\\d+(,\\d+)$/.test(this))\n        v = this.replace(/,/, '.');\n    else if (/^\\d+((,\\d{3})*(\\.\\d+)?)?$/.test(this))\n        v = this.replace(/,/g, \"\");\n    else if (/^\\d+((.\\d{3})*(,\\d+)?)?$/.test(this))\n        v = this.replace(/\\./g, \"\").replace(/,/, \".\");\n    var x = parseFloat(v).toFixed(2).toString().split(\".\"),\n    x1 = x[0],\n    x2 = ((x.length == 2) ? \".\" + x[1] : \".00\"),\n    exp = /^([0-9]+)(\\d{3})/;\n    while (exp.test(x1))\n        x1 = x1.replace(exp, \"$1\" + \",\" + \"$2\");\n    return x1 + x2;\n}\n\nalert(\"123123\".toPrice()); //123,123.00\nalert(\"123123,316\".toPrice()); //123,123.32\nalert(\"12,312,313.33213\".toPrice()); //12,312,313.33\nalert(\"123.312.321,32132\".toPrice()); //123,312,321.32\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Coffeescript for Patrick's popular answer above:</p>\n\n<pre><code>Number::formatMoney = (decimalPlaces, decimalChar, thousandsChar) -&gt;  \n  n = this  \n  c = decimalPlaces  \n  d = decimalChar  \n  t = thousandsChar  \n  c = (if isNaN(c = Math.abs(c)) then 2 else c)  \n  d = (if d is undefined then \".\" else d)  \n  t = (if t is undefined then \",\" else t)  \n  s = (if n &lt; 0 then \"-\" else \"\")  \n  i = parseInt(n = Math.abs(+n or 0).toFixed(c)) + \"\"  \n  j = (if (j = i.length) &gt; 3 then j % 3 else 0)  \n  s + (if j then i.substr(0, j) + t else \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (if c then d + Math.abs(n - i).toFixed(c).slice(2) else \"\")  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just created a js library to make it easy to format numbers <a href=\"http://adamwdraper.github.com/Numeral-js/\">Numeral.js</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I suggest the NumberFormat class from <a href=\"https://developers.google.com/chart/interactive/docs/reference#numberformatter\">Google Visualization API</a>.</p>\n\n<p>You can do something like this:</p>\n\n<pre><code>var formatter = new google.visualization.NumberFormat({\n    prefix: '$',\n    pattern: '#,###,###.##'\n});\n\nformatter.formatValue(1000000); // $ 1,000,000\n</code></pre>\n\n<p>I hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Here's mine...</p>\n\n<pre><code>function thousandCommas(num) {\n  num = num.toString().split('.');\n  var ints = num[0].split('').reverse();\n  for (var out=[],len=ints.length,i=0; i &lt; len; i++) {\n    if (i &gt; 0 &amp;&amp; (i % 3) === 0) out.push(',');\n    out.push(ints[i]);\n  }\n  out = out.reverse() &amp;&amp; out.join('');\n  if (num.length === 2) out += '.' + num[1];\n  return out;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<h2>Short solution #1:</h2>\n\n<pre><code>n.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&amp;,');\n</code></pre>\n\n<h2>Short solution #2:</h2>\n\n<pre><code>n.toFixed(2).replace(/./g, function(c, i, a) {\n    return i &amp;&amp; c !== \".\" &amp;&amp; ((a.length - i) % 3 === 0) ? ',' + c : c;\n});\n</code></pre>\n\n<p><strong>TESTS:</strong></p>\n\n<pre><code>1        --&gt; \"1.00\"\n12       --&gt; \"12.00\"\n123      --&gt; \"123.00\"\n1234     --&gt; \"1,234.00\"\n12345    --&gt; \"12,345.00\"\n123456   --&gt; \"123,456.00\"\n1234567  --&gt; \"1,234,567.00\"\n12345.67 --&gt; \"12,345.67\"\n</code></pre>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/hAfMM/\">http://jsfiddle.net/hAfMM/</a></p>\n\n<hr>\n\n<h2>Extended solution:</h2>\n\n<p>You can also extend the prototype of <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Number\"><code>Number</code></a> object to add additional support of any number of decimals <code>[0 .. n]</code> and the size of number groups <code>[0 .. x]</code>:</p>\n\n<pre><code>/**\n * Number.prototype.format(n, x)\n * \n * @param integer n: length of decimal\n * @param integer x: length of sections\n */\nNumber.prototype.format = function(n, x) {\n    var re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n &gt; 0 ? '\\\\.' : '$') + ')';\n    return this.toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$&amp;,');\n};\n\n1234..format();           // \"1,234\"\n12345..format(2);         // \"12,345.00\"\n123456.7.format(3, 2);    // \"12,34,56.700\"\n123456.789.format(2, 4);  // \"12,3456.79\"\n</code></pre>\n\n<p><strong>DEMO / TESTS:</strong> <a href=\"http://jsfiddle.net/hAfMM/435/\">http://jsfiddle.net/hAfMM/435/</a></p>\n\n<hr>\n\n<h2>Super extended solution:</h2>\n\n<p>In this <a href=\"http://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-money-in-javascript/14428340#comment34151293_14428340\">super extended version</a> you may set different delimiter types:</p>\n\n<pre><code>/**\n * Number.prototype.format(n, x, s, c)\n * \n * @param integer n: length of decimal\n * @param integer x: length of whole part\n * @param mixed   s: sections delimiter\n * @param mixed   c: decimal delimiter\n */\nNumber.prototype.format = function(n, x, s, c) {\n    var re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n &gt; 0 ? '\\\\D' : '$') + ')',\n        num = this.toFixed(Math.max(0, ~~n));\n\n    return (c ? num.replace('.', c) : num).replace(new RegExp(re, 'g'), '$&amp;' + (s || ','));\n};\n\n12345678.9.format(2, 3, '.', ',');  // \"12.345.678,90\"\n123456.789.format(4, 4, ' ', ':');  // \"12 3456:7890\"\n12345678.9.format(0, 3, '-');       // \"12-345-679\"\n</code></pre>\n\n<p><strong>DEMO / TESTS:</strong> <a href=\"http://jsfiddle.net/hAfMM/612/\">http://jsfiddle.net/hAfMM/612/</a></p>\n",
                    "is_accepted": false,
                    "score": 303
                },
                {
                    "body": "<p>I just saw <a href=\"http://josscrowcroft.github.com/accounting.js/\" rel=\"nofollow\">accounting.js</a> in Javascript Weekly. Looks to be a pretty nice formatting library.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This might be a little late, but here's a method I just worked up for a coworker to add a locale-aware .toCurrencyString() function to all numbers.  The internalization is for number grouping only, NOT the currency sign - if you're outputting dollars, use \"$\" as supplied, because $123 4567 in Japan or China is the same number of USD as $1,234,567 is here in the US.  If you're outputting euro/etc., then change the currency sign from \"$\".</p>\n\n<p>Declare this anywhere in your HEAD or wherever necessary, just before you need to use it:</p>\n\n<pre><code>  Number.prototype.toCurrencyString = function(prefix, suffix) {\n    if (typeof prefix === 'undefined') { prefix = '$'; }\n    if (typeof suffix === 'undefined') { suffix = ''; }\n    var _localeBug = new RegExp((1).toLocaleString().replace(/^1/, '').replace(/\\./, '\\\\.') + \"$\");\n    return prefix + (~~this).toLocaleString().replace(_localeBug, '') + (this % 1).toFixed(2).toLocaleString().replace(/^[+-]?0+/,'') + suffix;\n  }\n</code></pre>\n\n<p>Then you're done!  Use <code>(number).toCurrencyString()</code> anywhere you need to output the number as currency.</p>\n\n<pre><code>var MyNumber = 123456789.125;\nalert(MyNumber.toCurrencyString()); // alerts \"$123,456,789.13\"\nMyNumber = -123.567;\nalert(MyNumber.toCurrencyString()); // alerts \"$-123.57\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Because why not add another answer. I based this heavily on the answer from VisioN.</p>\n\n<pre><code>function format (val) {\n  val = (+val).toLocaleString();\n  val = (+val).toFixed(2);\n  val += \"\";\n  return val.replace(/(\\d)(?=(\\d{3})+(?:\\.\\d+)?$)/g, \"$1\" + format.thousands);\n}\n(function (isUS) {\n  format.decimal =   isUS ? \".\" : \",\";\n  format.thousands = isUS ? \",\" : \".\";\n}((\"\" + (+(0.00).toLocaleString()).toFixed(2)).indexOf(\".\") &gt; 0));\n</code></pre>\n\n<p>I tested with inputs:</p>\n\n<pre><code>[   \"\"\n  , \"1\"\n  , \"12\"\n  , \"123\"\n  , \"1234\"\n  , \"12345\"\n  , \"123456\"\n  , \"1234567\"\n  , \"12345678\"\n  , \"123456789\"\n  , \"1234567890\"\n  , \".12\"\n  , \"1.12\"\n  , \"12.12\"\n  , \"123.12\"\n  , \"1234.12\"\n  , \"12345.12\"\n  , \"123456.12\"\n  , \"1234567.12\"\n  , \"12345678.12\"\n  , \"123456789.12\"\n  , \"1234567890.12\"\n  , \"1234567890.123\"\n  , \"1234567890.125\"\n].forEach(function (item) {\n  console.log(format(item));\n});\n</code></pre>\n\n<p>And got these results:</p>\n\n<pre><code>0.00\n1.00\n12.00\n123.00\n1,234.00\n12,345.00\n123,456.00\n1,234,567.00\n12,345,678.00\n123,456,789.00\n1,234,567,890.00\n0.12\n1.12\n12.12\n123.12\n1,234.12\n12,345.12\n123,456.12\n1,234,567.12\n12,345,678.12\n123,456,789.12\n1,234,567,890.12\n1,234,567,890.12\n1,234,567,890.13\n</code></pre>\n\n<p>Just for fun.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This answer meets the following criteria:</p>\n\n<ul>\n<li>Does not depend on an external dependency.</li>\n<li>Does support localization.</li>\n<li>Does have tests/proofs.</li>\n<li>Does use simple and best coding practices (no complicated regex's, uses standard coding patterns).</li>\n</ul>\n\n<p>This code is built on concepts from other answers. It's execution speed should be among the better posted here if that's a concern.</p>\n\n<pre><code>var decimalCharacter = Number(\"1.1\").toLocaleString().substr(1,1);\nvar defaultCurrencyMarker = \"$\";\nfunction formatCurrency(number, currencyMarker) {\n    if (typeof number != \"number\")\n        number = parseFloat(number, 10);\n\n    // if NaN is passed in or comes from the parseFloat, set it to 0.\n    if (isNaN(number))\n        number = 0;\n\n    var sign = number &lt; 0 ? \"-\" : \"\";\n    number = Math.abs(number);  // so our signage goes before the $ symbol.\n\n    var integral = Math.floor(number);\n    var formattedIntegral = integral.toLocaleString();\n\n    // IE returns \"##.00\" while others return \"##\"\n    formattedIntegral = formattedIntegral.split(decimalCharacter)[0];\n\n    var decimal = Math.round((number - integral) * 100);\n    return sign + (currencyMarker || defaultCurrencyMarker) +\n        formattedIntegral  +\n        decimalCharacter +\n        decimal.toString() + (decimal &lt; 10 ? \"0\" : \"\");\n}\n</code></pre>\n\n<p>These tests only work on a US locale machine. This decision was made for simplicity and because this could cause of crappy input (bad auto-localization) allowing for crappy output issues.</p>\n\n<pre><code>var tests = [\n    // [ input, expected result ]\n    [123123, \"$123,123.00\"],    // no decimal\n    [123123.123, \"$123,123.12\"],    // decimal rounded down\n    [123123.126, \"$123,123.13\"],    // decimal rounded up\n    [123123.4, \"$123,123.40\"],  // single decimal\n    [\"123123\", \"$123,123.00\"],  // repeat subset of the above using string input.\n    [\"123123.123\", \"$123,123.12\"],\n    [\"123123.126\", \"$123,123.13\"],\n    [-123, \"-$123.00\"]  // negatives\n];\n\nfor (var testIndex=0; testIndex &lt; tests.length; testIndex++) {\n    var test = tests[testIndex];\n    var formatted = formatCurrency(test[0]);\n    if (formatted == test[1]) {\n        console.log(\"Test passed, \\\"\" + test[0] + \"\\\" resulted in \\\"\" + formatted + \"\\\"\");\n    } else {\n        console.error(\"Test failed. Expected \\\"\" + test[1] + \"\\\", got \\\"\" + formatted + \"\\\"\");\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>So why hasn't anyone suggested the following? </p>\n\n<pre><code>(2500).toLocaleString(\"en-GB\", {style: \"currency\", currency: \"GBP\", minimumFractionDigits: 2}) \n</code></pre>\n\n<p>Works for most/some browsers:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString#Browser_Compatibility\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString#Browser_Compatibility</a></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>The new ECMAScript Internationalization API offers a numberformat function. It works, except it doesn't appear to be possible to insert a space between the currency symbol and the amount.</p>\n\n<ul>\n<li><a href=\"http://www.ecma-international.org/ecma-402/1.0/\" rel=\"nofollow\">http://www.ecma-international.org/ecma-402/1.0/</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/NumberFormat\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/NumberFormat</a></li>\n</ul>\n\n<p>Using that API you do this:</p>\n\n<pre><code>// Create our number formatter.\nvar formatter = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n  minimumFractionDigits: 2,\n});\n\nalert(formatter.format(2500)); /* $2500.00 */\n</code></pre>\n\n<p>See <a href=\"http://stackoverflow.com/questions/9318674/javascript-number-currency-formatting/16233919#16233919\">this answer</a> for more info.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here are some solutions, all pass the test suite, test suite and benchmark included, if you want copy and paste to test, try <a href=\"https://gist.github.com/steelywing/85fdcbe084c332596179\" rel=\"nofollow\">This Gist</a>.</p>\n\n<h1>Method 0 (RegExp)</h1>\n\n<p>Base on <a href=\"http://stackoverflow.com/a/14428340/1877620\">http://stackoverflow.com/a/14428340/1877620</a>, but fix if there is no decimal point.</p>\n\n<pre><code>if (typeof Number.prototype.format === 'undefined') {\n    Number.prototype.format = function (precision) {\n        if (!isFinite(this)) {\n            return this.toString();\n        }\n\n        var a = this.toFixed(precision).split('.');\n        a[0] = a[0].replace(/\\d(?=(\\d{3})+$)/g, '$&amp;,');\n        return a.join('.');\n    }\n}\n</code></pre>\n\n<h1>Method 1</h1>\n\n<pre><code>if (typeof Number.prototype.format === 'undefined') {\n    Number.prototype.format = function (precision) {\n        if (!isFinite(this)) {\n            return this.toString();\n        }\n\n        var a = this.toFixed(precision).split('.'),\n            // skip the '-' sign\n            head = Number(this &lt; 0);\n\n        // skip the digits that's before the first thousands separator \n        head += (a[0].length - head) % 3 || 3;\n\n        a[0] = a[0].slice(0, head) + a[0].slice(head).replace(/\\d{3}/g, ',$&amp;');\n        return a.join('.');\n    };\n}\n</code></pre>\n\n<h1>Method 2 (Split to Array)</h1>\n\n<pre><code>if (typeof Number.prototype.format === 'undefined') {\n    Number.prototype.format = function (precision) {\n        if (!isFinite(this)) {\n            return this.toString();\n        }\n\n        var a = this.toFixed(precision).split('.');\n\n        a[0] = a[0]\n            .split('').reverse().join('')\n            .replace(/\\d{3}(?=\\d)/g, '$&amp;,')\n            .split('').reverse().join('');\n\n        return a.join('.');\n    };\n}\n</code></pre>\n\n<h1>Method 3 (Loop)</h1>\n\n<pre><code>if (typeof Number.prototype.format === 'undefined') {\n    Number.prototype.format = function (precision) {\n        if (!isFinite(this)) {\n            return this.toString();\n        }\n\n        var a = this.toFixed(precision).split('');\n        a.push('.');\n\n        var i = a.indexOf('.') - 3;\n        while (i &gt; 0 &amp;&amp; a[i-1] !== '-') {\n            a.splice(i, 0, ',');\n            i -= 3;\n        }\n\n        a.pop();\n        return a.join('');\n    };\n}\n</code></pre>\n\n<h1>Usage Example</h1>\n\n<pre><code>console.log('======== Demo ========')\nconsole.log(\n    (1234567).format(0),\n    (1234.56).format(2),\n    (-1234.56).format(0)\n);\nvar n = 0;\nfor (var i=1; i&lt;20; i++) {\n    n = (n * 10) + (i % 10)/100;\n    console.log(n.format(2), (-n).format(2));\n}\n</code></pre>\n\n<h1>Separator</h1>\n\n<p>If we want custom thousands separator or decimal separator, use <code>replace()</code>:</p>\n\n<pre><code>123456.78.format(2).replace(',', ' ').replace('.', ' ');\n</code></pre>\n\n<h1>Test suite</h1>\n\n<pre><code>function assertEqual(a, b) {\n    if (a !== b) {\n        throw a + ' !== ' + b;\n    }\n}\n\nfunction test(format_function) {\n    console.log(format_function);\n    assertEqual('NaN', format_function.call(NaN, 0))\n    assertEqual('Infinity', format_function.call(Infinity, 0))\n    assertEqual('-Infinity', format_function.call(-Infinity, 0))\n\n    assertEqual('0', format_function.call(0, 0))\n    assertEqual('0.00', format_function.call(0, 2))\n    assertEqual('1', format_function.call(1, 0))\n    assertEqual('-1', format_function.call(-1, 0))\n    // decimal padding\n    assertEqual('1.00', format_function.call(1, 2))\n    assertEqual('-1.00', format_function.call(-1, 2))\n    // decimal rounding\n    assertEqual('0.12', format_function.call(0.123456, 2))\n    assertEqual('0.1235', format_function.call(0.123456, 4))\n    assertEqual('-0.12', format_function.call(-0.123456, 2))\n    assertEqual('-0.1235', format_function.call(-0.123456, 4))\n    // thousands separator\n    assertEqual('1,234', format_function.call(1234.123456, 0))\n    assertEqual('12,345', format_function.call(12345.123456, 0))\n    assertEqual('123,456', format_function.call(123456.123456, 0))\n    assertEqual('1,234,567', format_function.call(1234567.123456, 0))\n    assertEqual('12,345,678', format_function.call(12345678.123456, 0))\n    assertEqual('123,456,789', format_function.call(123456789.123456, 0))\n    assertEqual('-1,234', format_function.call(-1234.123456, 0))\n    assertEqual('-12,345', format_function.call(-12345.123456, 0))\n    assertEqual('-123,456', format_function.call(-123456.123456, 0))\n    assertEqual('-1,234,567', format_function.call(-1234567.123456, 0))\n    assertEqual('-12,345,678', format_function.call(-12345678.123456, 0))\n    assertEqual('-123,456,789', format_function.call(-123456789.123456, 0))\n    // thousands separator and decimal\n    assertEqual('1,234.12', format_function.call(1234.123456, 2))\n    assertEqual('12,345.12', format_function.call(12345.123456, 2))\n    assertEqual('123,456.12', format_function.call(123456.123456, 2))\n    assertEqual('1,234,567.12', format_function.call(1234567.123456, 2))\n    assertEqual('12,345,678.12', format_function.call(12345678.123456, 2))\n    assertEqual('123,456,789.12', format_function.call(123456789.123456, 2))\n    assertEqual('-1,234.12', format_function.call(-1234.123456, 2))\n    assertEqual('-12,345.12', format_function.call(-12345.123456, 2))\n    assertEqual('-123,456.12', format_function.call(-123456.123456, 2))\n    assertEqual('-1,234,567.12', format_function.call(-1234567.123456, 2))\n    assertEqual('-12,345,678.12', format_function.call(-12345678.123456, 2))\n    assertEqual('-123,456,789.12', format_function.call(-123456789.123456, 2))\n}\n\nconsole.log('======== Testing ========');\ntest(Number.prototype.format);\ntest(Number.prototype.format1);\ntest(Number.prototype.format2);\ntest(Number.prototype.format3);\n</code></pre>\n\n<h1>Benchmark</h1>\n\n<pre><code>function benchmark(f) {\n    var start = new Date().getTime();\n    f();\n    return new Date().getTime() - start;\n}\n\nfunction benchmark_format(f) {\n    console.log(f);\n    time = benchmark(function () {\n        for (var i = 0; i &lt; 100000; i++) {\n            f.call(123456789, 0);\n            f.call(123456789, 2);\n        }\n    });\n    console.log(time.format(0) + 'ms');\n}\n\n// if not using async, browser will stop responding while running.\n// this will create a new thread to benchmark\nasync = [];\nfunction next() {\n    setTimeout(function () {\n        f = async.shift();\n        f &amp;&amp; f();\n        next();\n    }, 10);\n}\n\nconsole.log('======== Benchmark ========');\nasync.push(function () { benchmark_format(Number.prototype.format); });\nnext();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>A function to handle currency output, including negatives.\n<br /><br />Sample Output:<br />\n$5.23<br />\n-$5.23</p>\n\n<pre><code>function formatCurrency(total) {\n    var neg = false;\n    if(total &lt; 0) {\n        neg = true;\n        total = Math.abs(total);\n    }\n    return (neg ? \"-$\" : '$') + parseFloat(total, 10).toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, \"$1,\").toString();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I like it simple:</p>\n\n<pre><code>function formatPriceUSD(price) {\n    var strPrice = price.toFixed(2).toString();\n    var a = strPrice.split('');\n\n    if (price &gt; 1000000000)\n        a.splice(a.length - 12, 0, ',');\n\n    if (price &gt; 1000000)\n        a.splice(a.length - 9, 0, ',');\n\n    if (price &gt; 1000)\n        a.splice(a.length - 6, 0, ',');\n\n    return '$' + a.join(\"\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\" rel=\"nofollow\">Intl.NumberFormat</a></p>\n\n<pre><code>var number = 3500;\nalert(new Intl.NumberFormat().format(number));\n// \u2192 \"3,500\" if in US English locale\n</code></pre>\n\n<p>or <a href=\"http://phpjs.org/functions/number_format/\" rel=\"nofollow\">phpjs.com/functions/number_format</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You should never hard code your solution, because it will cause maintenance issues as you add more locales. And you should always use a internationalization tools for this problem, because the complexity of number formatting is very high as you add more and more locales. Just think about how to format the same amount but instead use arabic numerals? Or format the same amount on german locale? they use different symbols for thousand separator and fraction separator.</p>\n\n<p>As for internationalization tool, I use l10ns (<a href=\"http://l10ns.org\" rel=\"nofollow\">http://l10ns.org</a>).</p>\n\n<p>You just write your getter for your localized string.</p>\n\n<pre><code>var l = requireLocalizations('en-US');\nvar string = l('CURRENCY_AMOUNT', {\n  price: {\n    code: 'USD', //ISO currency code\n    amount: 2500\n  }\n});\n\nconsole.log(string) // Outputs '$ 2,500.00'\n</code></pre>\n\n<p>And define your return message in their translation interface tool.</p>\n\n<pre><code>{price, number, \u00a4 #,##0.00}\n</code></pre>\n\n<p>The third argument above is called a <a href=\"http://l10ns.org/docs.html#decimalpattern\" rel=\"nofollow\">decimal pattern</a>. And it lets you define almost any kind of format you want(We use <code>decimal pattern</code> because you want a space between the symbol and the amount). But for currency please use some default decimal pattern defined by CLDR. CLDR is a data repository that many organizations such as Google, IBM, Yahoo etc. is using for getting localization data. And one of the localization data we can get is to format currency amount. Their default <code>decimal pattern</code> for the English language is <code>\u00a4#,##0.00</code>. And we can use this pattern by simply input the following text on the translation interface.</p>\n\n<pre><code>{price, currency, local, symbol}\n</code></pre>\n\n<p>For more information please check out their <a href=\"http://l10ns.org/docs.html\" rel=\"nofollow\">documentation</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat</a>\nExample: Using locales</p>\n\n<p>This example shows some of the variations in localized number formats. In order to get the format of the language used in the user interface of your application, make sure to specify that language (and possibly some fallback languages) using the locales argument:</p>\n\n<blockquote>\n  <p>var number = 123456.789;</p>\n  \n  <p>// German uses comma as decimal separator and period for thousands\n  console.log(new Intl.NumberFormat('de-DE').format(number)); // \u2192\n  123.456,789</p>\n  \n  <p>// Arabic in most Arabic speaking countries uses real Arabic digits\n  console.log(new Intl.NumberFormat('ar-EG').format(number)); // \u2192\n  \u0661\u0662\u0663\u0664\u0665\u0666\u066b\u0667\u0668\u0669</p>\n  \n  <p>// India uses thousands/lakh/crore separators console.log(new\n  Intl.NumberFormat('en-IN').format(number));</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If amount is a number, say -123, then</p>\n\n<pre><code>amount.toLocaleString('en-US', { style: 'currency', currency: 'USD' });\n</code></pre>\n\n<p>will produce the string \"-$123.00\".</p>\n\n<p>Here's a complete working <a href=\"http://jsfiddle.net/1h29dguy/\">example</a>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I like the shortest answer by VisionN except when I need to modify it for a number without decimal point ($123 instead of $123.00) it does not work, so instead of quick copy/paste I need to decipher arcane syntax of the JavaScript regex.</p>\n\n<p>Here is the original solution</p>\n\n<pre><code>n.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&amp;,');\n</code></pre>\n\n<p>I'll make it a bit longer:</p>\n\n<pre><code>var re = /\\d(?=(\\d{3})+\\.)/g;\nvar subst = '$&amp;,';\nn.toFixed(2).replace(re, subst);\n</code></pre>\n\n<p><code>Re</code> part here (search part in string replace) means</p>\n\n<ol>\n<li>Find all digits (<code>\\d</code>)</li>\n<li>Followed by (<code>?=</code> ...) (lookahead)</li>\n<li>One or more groups <code>(</code>...<code>)+</code></li>\n<li>Of exactly 3 digits (<code>\\d{3}</code>)</li>\n<li>Ending with a dot (<code>\\.</code>)</li>\n<li>Do it for all occurrences (<code>g</code>)</li>\n</ol>\n\n<p><code>Subst</code> part here means</p>\n\n<ol>\n<li>Every time there is a match replace it with itself (<code>$&amp;</code>) followed by a comma.</li>\n</ol>\n\n<p>As we use <code>string.replace</code> all other text in the string remains the same and only found digits (those that are followed by 3,6,9,etc other digits) get an additional comma.</p>\n\n<p>So in a number 1234567.89 digits <strong>1</strong> and <strong>4</strong> meet the condition (<strong>1</strong>23<strong>4</strong>567.89) and are replaced with \"<strong>1,</strong>\" and \"<strong>4,</strong>\" resulting in 1,234,567.89.</p>\n\n<p>If we don't need the decimal point in dollar amount at all (i.e. $123 instead of $123.00), we may change the regex like this:</p>\n\n<pre><code>var re2 = /\\d(?=(\\d{3})+$)/g;\n</code></pre>\n\n<p>It relies on the end of line (<code>$</code>) instead of a dot (<code>\\.</code>) and the final expression will be (notice also <code>toFixed(0)</code>):</p>\n\n<pre><code>n.toFixed(0).replace(/\\d(?=(\\d{3})+$)/g, '$&amp;,');\n</code></pre>\n\n<p>This expression will give</p>\n\n<pre><code>1234567.89 -&gt; 1,234,567\n</code></pre>\n\n<p>Also instead of end of line (<code>$</code>) in the regex above you may opt for a word boundary as well (<code>\\b</code>).</p>\n\n<p><em>My apology in advance if I misinterpreted any part of regex handling.</em></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>many of the answers had helpful ideas, but none of them could fit my needs.\nSo I used all the ideas and build this example:</p>\n\n<pre><code>function Format_Numb( fmt){\n    var decimals = isNaN(decimals) ? 2 : Math.abs(decimals);\n    if(typeof decSgn===\"undefined\") decSgn = \".\";\n    if(typeof kommaSgn===\"undefined\") kommaSgn= \",\";\n\n    var s3digits=/(\\d{1,3}(?=(\\d{3})+(?=[.]|$))|(?:[.]\\d*))/g;\n    var dflt_nk=\"00000000\".substring(0,decimals);\n\n    //--------------------------------\n    // handler for pattern: \"%m\"\n    var _f_money= function( v_in){\n                var v=v_in.toFixed(decimals);\n                var add_nk=\",00\";\n                var arr=    v.split(\".\");\n                return     arr[0].toString().replace(s3digits, function ($0) {\n                                    return ($0.charAt(0)==\".\")\n                                        ? ((add_nk=\"\"),(kommaSgn + $0.substring(1)))\n                                        : ($0 + decSgn);\n                        })\n                        + (    (decimals &gt; 0)\n                                ?    (    kommaSgn\n                                        + (\n                                            (arr.length &gt; 1)\n                                            ? arr[1]\n                                            : dflt_nk\n                                        )\n                                    )\n                                :    \"\"                    \n                        );\n    }\n\n    // handler for pattern: \"%&lt;len&gt;[.&lt;prec&gt;]f\"\n    var _f_flt= function( v_in,l,prec){\n        var v=(typeof prec !== \"undefined\") ? v_in.toFixed(prec):v_in;\n        return ((typeof l !== \"undefined\")&amp;&amp;( (l=l-v.length) &gt; 0))\n                ?(Array(l+1).join(\" \") + v)\n                :v;\n    }\n\n    // handler for pattern: \"%&lt;len&gt;x\"\n    var _f_hex= function( v_in,l,flUpper){\n        var v=    Math.round(v_in).toString(16);\n        if(flUpper)    v=v.toUpperCase();\n        return ((typeof l !== \"undefined\")&amp;&amp;( (l=l-v.length) &gt; 0))\n                ?(Array(l+1).join(\"0\") + v)\n                :v;        \n    }\n\n    //...can be extended..., just add the function, f.e.:    var _f_octal= function( v_in,...){\n    //--------------------------------\n\n    if( typeof(fmt)!==\"undefined\"){\n        //...can be extended..., just add the char,f.e.\"O\":    MFX -&gt; MFXO\n        var rpatt=/(?:%([^%\"MFX]*)([MFX]))|(?:\"([^\"]*)\")|(\"|%%)/gi;\n        var _qu=    \"\\\"\";\n        var _mask_qu=    \"\\\\\\\"\";\n        var str=    fmt.toString().replace( rpatt,function($0,$1,$2,$3,$4){\n                                var f;\n                                if(typeof $1 !== \"undefined\"){\n                                    switch($2.toUpperCase()){\n                                        case \"M\":    f= \"_f_money(v)\";    break;\n                                        case \"F\":    var    n_dig0,n_dig1;\n                                                var    re_flt=/^(?:(\\d))*(?:[.](\\d))*$/;\n                                                $1.replace(re_flt,function($0,$1,$2){\n                                                    n_dig0=$1;\n                                                    n_dig1=$2;\n                                                });\n                                                f= \"_f_flt(v,\" + n_dig0 + \",\" + n_dig1 + \")\";    break;\n                                        case \"X\":    var    n_dig=\"undefined\";\n                                                var    re_flt=/^(\\d*)$/;\n                                                $1.replace(re_flt,function($0){\n                                                    if($0!=\"\")n_dig=$0;\n                                                });\n                                                f= \"_f_hex(v,\" + n_dig + \",\" + ($2==\"X\") + \")\";    break;\n                                        //...can be extended..., f.e.:    case \"O\":\n                                    }\n                                    return \"\\\"+\"+f+\"+\\\"\";\n                                } else if(typeof $3 !== \"undefined\"){\n                                    return _mask_qu + $3 + _mask_qu;\n                                } else {\n                                    return ($4==_qu)?_mask_qu:$4.charAt(0);\n                                }\n                            });\n        var cmd=        \"return function(v){\"\n                +        \"if(typeof v === \\\"undefined\\\")return \\\"\\\";\"    //null returned as empty string\n                +        \"if(!v.toFixed)return v.toString();\"        //not numb returned as string\n                +        \"return \\\"\" + str + \"\\\";\"\n                +    \"}\";\n\n        //...can be extended..., just add the function name in the 2 places:\n        return new Function( \"_f_money,_f_flt,_f_hex\", cmd)(_f_money,_f_flt,_f_hex);\n    }\n}\n</code></pre>\n\n<p>First, I needed a <strong>C-style</strong> format-string-definition that should be <strong>flexible, but very easy to use</strong> and I defined it in following way; patterns:</p>\n\n<pre><code>%[&lt;len&gt;][.&lt;prec&gt;]f        float, example \"%f\", \"%8.2d\", \"%.3f\"\n%m                        money\n%[&lt;len&gt;]x                 hexadecimal lower case, example \"%x\", \"%8x\"\n%[&lt;len&gt;]X                 hexadecimal upper case, example \"%X\", \"%8X\"\n</code></pre>\n\n<p>because there is no need to format others then to Euro for me, I implemented only \"%m\".\nBut it's easy to extend this...\nLike in C the format string is a string containing the patterns, \nf.e. <strong>for Euro</strong>:  <strong>\"%m \u20ac\"</strong>  (returns strings like \"8.129,33 \u20ac\")</p>\n\n<p>Beside the flexibility I needed a <strong>very fast solution for processing tables</strong>. That means, that when processing thousands of cells the processing of format string <strong>must not be done more than once</strong>. A call like \"format( value, fmt)\" is not acceptable for me, but this must be splitted in two steps:</p>\n\n<pre><code>// var formatter = Format_Numb( \"%m \u20ac\");  \n//simple example for Euro...\n\n//   but we use a complex example: \n\nvar formatter = Format_Numb(\"a%%%3mxx \\\"zz\\\"%8.2f\u00b0\\\"  &gt;0x%8X&lt;\");\n\n// formatter is now a function, which can be used more than once (this is an example, that can be tested:) \n\nvar v1= formatter( 1897654.8198344); \n\nvar v2= formatter( 4.2); \n\n... (and thousands of rows)\n</code></pre>\n\n<p>Also for performance, _f_money enclosures the regexp;</p>\n\n<p>Third, a call like \"format( value, fmt)\" is not acceptable because:\nAlthough it should be possible to format different collections of objects (f.e. cells of a column) with different masks, I don't want to have something to handle format strings at the point of processing. At this point I only want TO USE formatting, like in</p>\n\n<blockquote>\n  <p>for( var cell in cells){ do_something( cell.col.formatter(\n  cell.value)); }</p>\n</blockquote>\n\n<p>What format - maybe it's defined in an ini, in a xml for each column or somewhere else ..., but <strong>analyzing and setting formats</strong> or dealing with internationalizaton <strong>is processed in totally another place</strong>, and there I want to assign the formatter to the collection without thinking about performance issues:</p>\n\n<blockquote>\n  <p>col.formatter = Format_Numb( _getFormatForColumn(...) );</p>\n</blockquote>\n\n<p>Fourth, I wanted an <strong>\"tolerant\" solution</strong>, so passing f.e. a string instead of a number should return simply the string, but \"null\" should return en empty string.</p>\n\n<p>(Also formatting \"%4.2f\" must not cut something if the value is too big.)</p>\n\n<p>And last but not least - it should be <strong>readable and easy extendable</strong>, WITHOUT having any effects in performance...\nFor example, if somebody needs \"octal values\", please refer to lines with \"...can be extended...\" - I think that should be a very easy task.</p>\n\n<p>My overall focus lay on performance. Each \"processing routine\" (f.e. _f_money) can be encapsulated optimized or exchanged with other ideas in this or other threads without change of the \"prepare routines\" (analyze format strings and creation of the functions), which must only processed once and in that sense are not so performance critical like the conversion calls of thousands of numbers.</p>\n\n<p>For all, who prefer methods of numbers:</p>\n\n<pre><code>Number.prototype.format_euro=( function(formatter){\n    return function(){ return formatter(this); }})\n    (Format_Numb( \"%m \u20ac\"));\n\nvar v_euro= (8192.3282).format_euro(); //results: 8.192,33 \u20ac\n\nNumber.prototype.format_hex= (function(formatter){\n    return function(){ return formatter(this); }})\n    (Format_Numb( \"%4x\"));\n\nvar v_hex= (4.3282).format_hex();\n</code></pre>\n\n<p>Although I tested something there may be a lot of bugs in the code. So it's not a ready module, but just an idea and a starting point for non-js-experts like me.\nThe code contains many and little modified ideas from a lot of stackoverflow-posts; sorry I can't reference all of them, but thanks to all the experts.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to format a price in JavaScript.<br>\nI'd like a function which takes a <code>float</code> as an argument and returns a <code>string</code> formatted like this:</p>\n\n<pre><code>\"$ 2,500.00\"\n</code></pre>\n\n<p>What's the best way to do this?</p>\n\n<p><strong>UPDATE:</strong> This is my preferred method:</p>\n\n<pre><code>var DecimalSeparator = Number(\"1.2\").toLocaleString().substr(1,1);\n\nvar AmountWithCommas = Amount.toLocaleString();\nvar arParts = String(AmountWithCommas).split(DecimalSeparator);\nvar intPart = arParts[0];\nvar decPart = (arParts.length &gt; 1 ? arParts[1] : '');\ndecPart = (decPart + '00').substr(0,2);\n\nreturn '\u00a3 ' + intPart + DecimalSeparator + decPart;\n</code></pre>\n",
            "last_activity_date": 1425331213,
            "question_id": 149055,
            "score": 531,
            "tags": [
                "javascript",
                "formatting",
                "currency"
            ],
            "title": "How can I format numbers as money in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Tutorials</strong></p>\n\n<ul>\n<li><a href=\"http://nodeschool.io/\">NodeSchool.io interactive lessons</a></li>\n<li><a href=\"https://github.com/maxogden/art-of-node/#the-art-of-node\">The Art of Node (an introduction to Node)</a></li>\n<li><a href=\"http://node.blog.com/2014/12/29/hello-world-with-node-and-express/\">Hello World Example</a></li>\n<li><a href=\"http://www.nodebeginner.org/#hello-world\">Hello World</a></li>\n<li><a href=\"http://www.nodebeginner.org/#building-the-application-stack\">Hello World Web Server</a></li>\n<li><a href=\"http://nodeguide.com/\">Node.js guide</a></li>\n<li><a href=\"http://howtonode.org/express-mongodb\">Build a blog with Node.js, express and MongoDB</a></li>\n<li><a href=\"http://project70.com/\">Node.Js Tutorials At Project 70</a></li>\n<li><a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/node-js-for-beginners/\">Node.js for Beginners</a></li>\n<li><a href=\"http://javascriptissexy.com/learn-node-js-completely-and-with-confidence/\">Learn Node.js Completely and with Confidence</a></li>\n<li><a href=\"http://blog.modulus.io/absolute-beginners-guide-to-nodejs\">Absolute Beginners Guide To Node.js</a></li>\n</ul>\n\n<p><strong>Developer Sites</strong></p>\n\n<ul>\n<li><a href=\"http://www.joyent.com/developers/node\">Joyent's developer site for node</a></li>\n</ul>\n\n<p><strong>Videos</strong></p>\n\n<ul>\n<li><a href=\"http://nodetuts.com/\">Node tuts</a></li>\n<li><a href=\"http://www.youtube.com/watch?v=jo_B4LTHi3I\">Introduction to Node.js with Ryan Dahl</a></li>\n<li><a href=\"http://www.infoq.com/presentations/nodejs\">Node.js: Asynchronous Purity Leads to Faster Development</a></li>\n<li><a href=\"http://www.infoq.com/presentations/Parallel-Programming-with-Nodejs\">Parallel Programming with Node.js</a></li>\n<li><a href=\"http://vimeo.com/18077379\">Server-side JavaScript with Node, Connect &amp; Express</a></li>\n<li><a href=\"http://www.lynda.com/Nodejs-tutorials/Nodejs-First-Look/101554-2.html\">Node.js First Look</a></li>\n<li><a href=\"http://www.youtube.com/watch?v=0_GNHWZHc-o\">Node.js with MongoDB</a></li>\n<li><a href=\"http://www.youtube.com/watch?v=F6k8lTrAE2g\">Ryan Dahl's Google Tech Talk</a></li>\n<li><a href=\"http://node.codeschool.com/levels/1\">Real Time Web with Node.js</a></li>\n</ul>\n\n<p><strong>Screencasts</strong></p>\n\n<ul>\n<li><a href=\"http://learnallthenodes.com\">Learn All The Nodes</a></li>\n<li><a href=\"http://nodetuts.com/\">NodeTuts</a></li>\n<li><a href=\"http://nodecasts.net/\">NodeCasts</a></li>\n<li><a href=\"http://www.develop.com/webcasts/watch/5318c4d5d588bf08c461f4b1/create-server-side-mvc-apps-with-node-js-and-express\">Create server-side MVC apps with Node.js and Express</a></li>\n</ul>\n\n<p><strong>Books</strong></p>\n\n<ul>\n<li><a href=\"http://nodebeginner.org/\">The Node Beginner Book</a></li>\n<li><a href=\"https://github.com/tj/masteringnode\">Mastering Node.js</a></li>\n<li><a href=\"http://chimera.labs.oreilly.com/books/1234000001808/index.html\">Up and Running with Node.js</a></li>\n<li><a href=\"http://www.manning.com/cantelon/\">Node.js in Action</a></li>\n<li><a href=\"http://amzn.com/B008Z5OEUY\">Smashing Node.js: JavaScript Everywhere</a></li>\n<li><a href=\"http://www.amazon.de/dp/389864829X\">Node.js &amp; Co. (in German)</a></li>\n<li><a href=\"http://nodejsbook.io/\">Sam's Teach Yourself Node.js in 24 Hours</a></li>\n<li><a href=\"http://jsbooks.revolunet.com/\">Most detailed list of free JavaScript Books</a></li>\n<li><a href=\"http://book.mixu.net/node/index.html\">Mixu's Node Book</a></li>\n<li><a href=\"http://pragprog.com/book/jwnode/node-js-the-right-way\">Node.js the Right Way: Practical, Server-Side JavaScript That Scale</a></li>\n<li><a href=\"https://leanpub.com/webdevelopmentwithnodejs\">Beginning Web Development with Node.js</a></li>\n<li><a href=\"http://www.packtpub.com/node-javascript-web-development/book\">Node Web Development</a></li>\n<li><a href=\"http://nicholasjohnson.com/courses/nodejs/book\">NodeJS for Righteous Universal Domination!</a></li>\n</ul>\n\n<p><strong>Courses</strong></p>\n\n<ul>\n<li><a href=\"http://node.codeschool.com/\">Real Time Web with Node.js</a></li>\n<li><a href=\"http://www.develop.com/training-course/nodejs-featuring-node-npm-express-mocha-mongodb-with-mongoose\">Essential Node.js from DevelopMentor</a></li>\n</ul>\n\n<p><strong>Blogs</strong></p>\n\n<ul>\n<li><a href=\"http://blog.nodejs.org/\">The Node.js blog</a></li>\n<li><a href=\"http://howtonode.org/\">How To Node</a></li>\n<li><a href=\"http://dailyjs.com/\">DailyJS</a></li>\n<li><a href=\"http://blog.nodejitsu.com/\">Nodejitsu blog</a></li>\n<li><a href=\"http://www.wilcoxd.com/whitepapers/node_js/\">Ryan Wilcox's Whitepaper</a></li>\n<li><a href=\"http://www.devthought.com/\">devthought</a></li>\n</ul>\n\n<p><strong>Podcasts</strong></p>\n\n<ul>\n<li><a href=\"http://nodeup.com/\">NodeUp</a></li>\n</ul>\n\n<p><strong>JavaScript resources</strong></p>\n\n<ul>\n<li><a href=\"http://yuiblog.com/crockford/\">Crockford's videos</a> (must see!)</li>\n<li><a href=\"http://www.addyosmani.com/resources/essentialjsdesignpatterns/book/\">Essential JavaScript Design Patterns For Beginners</a></li>\n<li><a href=\"http://bonsaiden.github.com/JavaScript-Garden/\">JavaScript garden</a></li>\n<li><a href=\"http://oreilly.com/catalog/9780596806767\">JavaScript Patterns</a> book</li>\n<li><a href=\"http://oreilly.com/catalog/9780596517748/\">JavaScript: The Good Parts</a> book</li>\n</ul>\n\n<p><strong>Node.js Modules</strong></p>\n\n<ul>\n<li><a href=\"http://npmjs.org/\">Search for registered Node.js modules</a></li>\n<li><a href=\"https://github.com/joyent/node/wiki/modules\">Wiki List on GitHub/Joyent/Node.js</a> (start here last!)</li>\n<li><a href=\"http://www.freshblurbs.com/articles/important-node-js-modules.html\">A completely biased and incomplete selection of useful Node.js modules</a></li>\n</ul>\n\n<p><strong>Other</strong></p>\n\n<ul>\n<li><a href=\"http://jsapp.us/\">JSApp.US - like jsfiddle, but for Node.js</a></li>\n<li><a href=\"https://www.ebayopensource.org/index.php/VJET/NodeJS\">Node with VJET JS (for Eclipse IDE)</a></li>\n<li>Production sites with published source: \n<ul>\n<li><a href=\"http://nodeknockout.com/\">Node Knockout Hackathon</a> <a href=\"https://github.com/nko3/website\">(source)</a></li>\n</ul></li>\n<li><a href=\"http://coding.smashingmagazine.com/2011/09/16/useful-node-js-tools-tutorials-and-resources/\">Useful Node.js Tools, Tutorials and Resources</a></li>\n<li><a href=\"http://runnable.com/\">Runnable.com - like jsfiddle, but for server side as well</a></li>\n<li><a href=\"https://devcenter.heroku.com/categories/nodejs\">Getting Started with Node.js on Heroku</a></li>\n<li><a href=\"https://blog.openshift.com/run-your-nodejs-projects-on-openshift-in-two-simple-steps/\">Getting Started with Node.js on Open-Shift</a></li>\n<li><a href=\"http://passportjs.org/guide/\">Authentication using Passport</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2926
                },
                {
                    "body": "<p><strong>First, learn the core concepts of Node.js:</strong></p>\n\n<ul>\n<li><p><a href=\"http://blog.shinetech.com/2011/08/26/asynchronous-code-design-with-node-js/\">You'll want to understand the asynchronous coding style that Node encourages</a>.</p></li>\n<li><p><a href=\"http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop/\">Async != concurrent.  Understand Node's event loop</a>!</p></li>\n<li><p><a href=\"http://docs.nodejitsu.com/articles/getting-started/what-is-require\">Node uses CommonJS-style require() for code loading; it's probably a bit different from what you're used to</a>.</p></li>\n<li><p><a href=\"http://nodejs.org/api/index.html\">Familiarize yourself with Node's standard library</a>.</p></li>\n</ul>\n\n<p><strong>Then, you're going to want to see what the community has to offer:</strong></p>\n\n<p>The gold standard for Node.js package management is <a href=\"http://npmjs.org/\">NPM</a>.</p>\n\n<ul>\n<li><p><a href=\"http://docs.nodejitsu.com/articles/getting-started/npm/what-is-npm\">It is a command line tool for managing your project's dependencies</a>.</p></li>\n<li><p><a href=\"http://nodejs.org/api/modules.html\">Make sure you understand how Node and NPM interact with your project via the node_modules folder and package.json</a>.</p></li>\n<li><p><a href=\"http://search.npmjs.org/\">NPM is also a registry of pretty much every Node.js package out there</a></p></li>\n</ul>\n\n<p><strong>Finally, you're going to want to know what some of the more popular packages are for various tasks:</strong></p>\n\n<p><strong>Useful Tools for Every Project:</strong></p>\n\n<ul>\n<li><a href=\"http://documentcloud.github.com/underscore/\">Underscore</a> contains just about every core utility method you want.</li>\n<li><a href=\"http://lodash.com/\">Lo-Dash</a> is a clone of Underscore that aims to be faster, more customizable, and has quite a few functions that underscore doesn't have.  Certain versions of it can be used as drop-in replacements of underscore.</li>\n<li><a href=\"http://coffeescript.org/\">CoffeeScript</a> makes JavaScript considerably more bearable, while also keeping you out of trouble!\n<ul>\n<li>Caveat: <em>A large portion of the community frowns upon it. If you are writing a library, you should consider regular JavaScript, to benefit from wider collaboration.</em></li>\n</ul></li>\n<li><a href=\"http://jshint.com/\">JSHint</a> is a code-checking tools that'll save you loads of time finding stupid errors.  Find a plugin for your text editor that will automatically run it on your code.</li>\n</ul>\n\n<p><strong>Unit Testing:</strong></p>\n\n<ul>\n<li><a href=\"http://visionmedia.github.io/mocha/\">Mocha</a> is a popular test framework.</li>\n<li><a href=\"http://vowsjs.org/\">Vows</a> is a fantastic take on asynchronous testing, albeit somewhat stale.</li>\n<li><a href=\"http://visionmedia.github.com/expresso/\">Expresso</a> is a more traditional unit testing framework.</li>\n<li><a href=\"https://github.com/caolan/nodeunit\">node-unit</a> is another relatively traditional unit testing framework.</li>\n</ul>\n\n<p><strong>Web Frameworks:</strong></p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Express.js\">Express.js</a> is by far the most popular framework.</li>\n<li><a href=\"http://www.meteor.com/\">Meteor</a> bundles together jQuery, Handlebars, Node.js, <a href=\"http://en.wikipedia.org/wiki/WebSocket\">WebSocket</a>, <a href=\"http://en.wikipedia.org/wiki/MongoDB\">MongoDB</a>, and DDP and promotes convention over configuration without being a <a href=\"http://en.wikipedia.org/wiki/Ruby_on_Rails\">Ruby on Rails</a> clone.</li>\n<li><a href=\"http://towerjs.org/\">Tower</a> is an abstraction of top of Express.js that aims to be a Ruby on Rails clone.</li>\n<li><a href=\"http://geddyjs.org/\">Geddy</a> is another take on web frameworks.</li>\n<li><a href=\"https://npmjs.org/package/railway\">RailwayJS</a> is a Ruby on Rails inspired MVC web framework.</li>\n<li><a href=\"https://sailsjs.org/#!\">SailsJS</a> is a realtime MVC web framework.</li>\n<li><a href=\"https://sleekjs.com\">Sleek.js</a> is a simple web framework, built upon Express.js.</li>\n<li><a href=\"http://hapijs.com\">Hapi</a> is a configuration-centric framework with built-in support for input validation, caching, authentication, etc.</li>\n<li><a href=\"http://koajs.com/\">Koa</a> is a new web framework designed by the team behind Express.js, which aims to be a smaller, more expressive, and more robust foundation for web applications and APIs.</li>\n<li><a href=\"https://github.com/gnodi/danf\">Danf</a> is a full-stack OOP framework providing many features in order to produce a scalable, maintainable, testable and performant applications and allowing to code the same way on both the server (node.js) and client (browser) sides.</li>\n</ul>\n\n<p><strong>Web Framework Tools:</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/visionmedia/jade\">Jade</a> is the HAML/Slim of the Node.js world</li>\n<li><a href=\"https://github.com/visionmedia/ejs\">EJS</a> is a more traditional templating language.</li>\n<li>Don't forget about <a href=\"http://documentcloud.github.com/underscore/#template\">Underscore's template method</a>!</li>\n</ul>\n\n<p><strong>Networking:</strong></p>\n\n<ul>\n<li><a href=\"http://www.senchalabs.org/connect/\">Connect</a> is the Rack or WSGI of the Node.js world.</li>\n<li><a href=\"https://github.com/mikeal/request\">Request</a> is a very popular HTTP request library.</li>\n<li><a href=\"https://github.com/LearnBoost/socket.io\">socket.io</a> is handy for building WebSocket servers.</li>\n</ul>\n\n<p><strong>Command Line Interaction:</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/substack/node-optimist\">Optimist</a> makes argument parsing a joy.</li>\n<li><a href=\"https://github.com/visionmedia/commander.js\">Commander</a> is another popular argument parser.</li>\n<li><a href=\"https://github.com/Marak/colors.js\">Colors</a> makes your CLI output pretty.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1136
                }
            ],
            "body": "<p>Are there any good resources to get started with Node.JS? Any good tutorials, blogs or books?</p>\n\n<p>Of course, I have visited its official website <a href=\"http://nodejs.org/\">http://nodejs.org/</a>, but I didn't think the documentation they have is a good starting point.</p>\n",
            "last_activity_date": 1425511906,
            "question_id": 2353818,
            "score": 1267,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "How do I get started with Node.js"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>afaik there isn't any straight forward HTML Encode/Decode methods in javascript.</p>\n\n<p>However, what you can do, is to use JS to create an arbitrary element, set it's inner text, then read it using innerHTML. </p>\n\n<p>say, with jQuery this should work:</p>\n\n<pre><code>var helper = $('chalk &amp; cheese').hide().appendTo('body');\nvar htmled = helper.html();\nhelper.remove();\n</code></pre>\n\n<p>or something along these lines</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://prototypejs.org/\" rel=\"nofollow\">Prototype</a> has it built-in the <a href=\"http://prototypejs.org/api/string\" rel=\"nofollow\">String class</a>. So if you are using/plan to use Prototype, it does something like:</p>\n\n<pre><code>'&lt;div class=\"article\"&gt;This is an article&lt;/div&gt;'.escapeHTML();\n// -&gt; \"&amp;lt;div class=\"article\"&amp;gt;This is an article&amp;lt;/div&amp;gt;\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I use these functions:</p>\n\n<pre><code>function htmlEncode(value){\n  //create a in-memory div, set it's inner text(which jQuery automatically encodes)\n  //then grab the encoded contents back out.  The div never exists on the page.\n  return $('&lt;div/&gt;').text(value).html();\n}\n\nfunction htmlDecode(value){\n  return $('&lt;div/&gt;').html(value).text();\n}\n</code></pre>\n\n<p>Basically a div element is created in memory, but it is never appended to the document.</p>\n\n<p>On the htmlEncode function I set the innerText of the element, and retrieve the encoded innerHTML, on the htmlDecode function I set the innerHTML value of the element and the innerText is retrieved.</p>\n\n<p>Check a running example <a href=\"http://jsbin.com/ejuru\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 771
                },
                {
                    "body": "<p>FWIW, the encoding is not being lost.  The encoding is used by the markup parser (browser) during the page load.  Once the source is read and parsed and the browser has the DOM loaded into memory, the encoding has been parsed into what it represents. So by the time your JS is execute to read anything in memory, the char it gets is what the encoding represented.</p>\n\n<p>I may be operating strictly on semantics here, but I wanted you to understand the purpose of encoding.  The word \"lost\" makes it sound like something isn't working like it should.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I know this is an old one, but I wanted to post a variation of <a href=\"http://stackoverflow.com/a/1219983/578288\">the accepted answer</a> that will work in IE without removing lines. This should really be a comment on that answer, but I\u2019m not allowed to comment yet. So here it is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function multiLineHtmlEncode(value) {\n    var lines = value.split(/\\r\\n|\\r|\\n/);\n    for (var i = 0; i &lt; lines.length; i++) {\n        lines[i] = htmlEncode(lines[i]);\n    }\n    return lines.join('\\r\\n');\n}\n\nfunction htmlEncode(value) {\n    return $('&lt;div/&gt;').text(value).html();\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Good answer. Note that if the value to encode is <code>undefined</code> or <code>null</code> with jQuery 1.4.2 you might get errors such as:</p>\n\n<p><code>jQuery(\"&lt;div/&gt;\").text(value).html is not a function</code></p>\n\n<p>OR</p>\n\n<p><code>Uncaught TypeError: Object  has no method 'html'</code></p>\n\n<p>The solution is to modify the function to check for an actual value:</p>\n\n<pre><code>function htmlEncode(value){ \n    if (value) {\n        return jQuery('&lt;div/&gt;').text(value).html(); \n    } else {\n        return '';\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>The jQuery trick doesn't encode quote marks and in IE it will strip your whitespace.</p>\n\n<p>Based on the <strong>escape</strong> templatetag in Django, which I guess is heavily used/tested already, I made this function which does what's needed.</p>\n\n<p>It's arguably simpler (and possibly faster) than any of the workarounds for the whitespace-stripping issue - and it encodes quote marks, which is essential if you're going to use the result inside an attribute value for example.</p>\n\n<pre><code>function htmlEscape(str) {\n    return String(str)\n            .replace(/&amp;/g, '&amp;amp;')\n            .replace(/\"/g, '&amp;quot;')\n            .replace(/'/g, '&amp;#39;')\n            .replace(/&lt;/g, '&amp;lt;')\n            .replace(/&gt;/g, '&amp;gt;');\n}\n</code></pre>\n\n<p><strong>Update 2013-06-17:</strong><br>\nIn the search for the fastest escaping I have found this implementation of a <code>replaceAll</code> method:<br>\n<a href=\"http://dumpsite.com/forum/index.php?topic=4.msg29#msg29\" rel=\"nofollow\">http://dumpsite.com/forum/index.php?topic=4.msg29#msg29</a><br>\n(also referenced here: <a href=\"http://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string/6714233#6714233\">Fastest method to replace all instances of a character in a string</a>)<br>\nSome performance results here:<br>\n<a href=\"http://jsperf.com/htmlencoderegex/25\" rel=\"nofollow\">http://jsperf.com/htmlencoderegex/25</a></p>\n\n<p>It gives identical result string to the builtin <code>replace</code> chains above. I'd be very happy if someone could explain why it's faster!?</p>\n\n<p><strong>Update 2015-03-04:</strong><br>\nI just noticed that AngularJS are using exactly the method above:<br>\n<a href=\"https://github.com/angular/angular.js/blob/v1.3.14/src/ngSanitize/sanitize.js#L435\" rel=\"nofollow\">https://github.com/angular/angular.js/blob/v1.3.14/src/ngSanitize/sanitize.js#L435</a></p>\n\n<p>They add a couple of refinements - they appear to be handling an <a href=\"http://en.wikipedia.org/wiki/UTF-8#Invalid_code_points\" rel=\"nofollow\">obscure Unicode issue</a> as well as converting all non-alphanumeric characters to entities. I was under the impression the latter was not necessary as long as you have an UTF8 charset specified for your document.</p>\n\n<p>I will note that (4 years later) Django still does not do either of these things, so I'm not sure how important they are:<br>\n<a href=\"https://github.com/django/django/blob/1.8b1/django/utils/html.py#L44\" rel=\"nofollow\">https://github.com/django/django/blob/1.8b1/django/utils/html.py#L44</a></p>\n",
                    "is_accepted": false,
                    "score": 320
                },
                {
                    "body": "<p>You shouldn't have to escape/encode values in order to shuttle them from one input field to another.</p>\n\n<pre><code>&lt;form&gt;\n &lt;input id=\"button\" type=\"button\" value=\"Click me\"&gt;\n &lt;input type=\"hidden\" id=\"hiddenId\" name=\"hiddenId\" value=\"I like cheese\"&gt;\n &lt;input type=\"text\" id=\"output\" name=\"output\"&gt;\n&lt;/form&gt;\n&lt;script&gt;\n    $(document).ready(function(e) {\n        $('#button').click(function(e) {\n            $('#output').val($('#hiddenId').val());\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>JS doesn't go inserting raw HTML or anything; it just tells the DOM to set the <code>value</code> property (or attribute; not sure).  Either way, the DOM handles any encoding issues for you.  Unless you're doing something odd like using <code>document.write</code> or <code>eval</code>, HTML-encoding will be effectively transparent.</p>\n\n<p>If you're talking about generating a new textbox to hold the result...it's still as easy.  Just pass the static part of the HTML to jQuery, and then set the rest of the properties/attributes on the object it returns to you.</p>\n\n<pre><code>$box = $('&lt;input type=\"text\" name=\"whatever\"&gt;').val($('#hiddenId').val());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a non-jQuery version that is considerably faster than both the jQuery <code>.html()</code> version and the <code>.replace()</code> version. This preserves all whitespace, but like the jQuery version, doesn't handle quotes.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function htmlEncode( html ) {\n    return document.createElement( 'a' ).appendChild( \n        document.createTextNode( html ) ).parentNode.innerHTML;\n};\n</code></pre>\n\n<p><strong>Speed:</strong> <a href=\"http://jsperf.com/htmlencoderegex/17\">http://jsperf.com/htmlencoderegex/17</a></p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/NAner.png\" alt=\"speed test\"></p>\n</blockquote>\n\n<p><strong>Demo:</strong> <sub><sub><sub><a href=\"http://jsfiddle.net/ThinkingStiff/FSaU2/\"><img src=\"http://i.stack.imgur.com/NI3c4.png\" alt=\"jsFiddle\"></a></sub></sub></sub></p>\n\n<h3>Output:</h3>\n\n<p><img src=\"http://i.stack.imgur.com/zE07Z.png\" alt=\"output\"></p>\n\n<h3>Script:</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>function htmlEncode( html ) {\n    return document.createElement( 'a' ).appendChild( \n        document.createTextNode( html ) ).parentNode.innerHTML;\n};\n\nfunction htmlDecode( html ) {\n    var a = document.createElement( 'a' ); a.innerHTML = html;\n    return a.textContent;\n};\n\ndocument.getElementById( 'text' ).value = htmlEncode( document.getElementById( 'hidden' ).value );\n\n//sanity check\nvar html = '&lt;div&gt;   &amp;amp; hello&lt;/div&gt;';\ndocument.getElementById( 'same' ).textContent = \n      'html === htmlDecode( htmlEncode( html ) ): ' \n    + ( html === htmlDecode( htmlEncode( html ) ) );\n</code></pre>\n\n<h3>HTML:</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input id=\"hidden\" type=\"hidden\" value=\"chalk    &amp;amp; cheese\" /&gt;\n&lt;input id=\"text\" value=\"\" /&gt;\n&lt;div id=\"same\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>If you want to use jQuery. I found this:</p>\n\n<p><a href=\"http://www.jquerysdk.com/api/jQuery.htmlspecialchars\" rel=\"nofollow\">http://www.jquerysdk.com/api/jQuery.htmlspecialchars</a></p>\n\n<p>(part of jquery.string plugin offered by jQuery SDK)</p>\n\n<p>The problem with Prototype I believe is that it extends base objects in JavaScript and will be incompatible with any jQuery you may have used. Of course, if you are already using Prototype and not jQuery, it won't be a problem.</p>\n\n<p>EDIT: Also there is this, which is a port of Prototype's string utilities for jQuery:</p>\n\n<p><a href=\"http://stilldesigning.com/dotstring/\" rel=\"nofollow\">http://stilldesigning.com/dotstring/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For those who prefer plain javascript, here is the method I have used successfully:</p>\n\n<pre><code>function escapeHTML (str)\n{\n    var div = document.createElement('div');\n    var text = document.createTextNode(str);\n    div.appendChild(text);\n    return div.innerHTML;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As pointed out in <a href=\"http://stackoverflow.com/questions/332872/how-to-encode-a-url-in-javascript\">this answer</a>, encodeURIComponent works great for encoding bits of strings.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var htmlEnDeCode = (function() {\n    var charToEntityRegex,\n        entityToCharRegex,\n        charToEntity,\n        entityToChar;\n\n    function resetCharacterEntities() {\n        charToEntity = {};\n        entityToChar = {};\n        // add the default set\n        addCharacterEntities({\n            '&amp;amp;'     :   '&amp;',\n            '&amp;gt;'      :   '&gt;',\n            '&amp;lt;'      :   '&lt;',\n            '&amp;quot;'    :   '\"',\n            '&amp;#39;'     :   \"'\"\n        });\n    }\n\n    function addCharacterEntities(newEntities) {\n        var charKeys = [],\n            entityKeys = [],\n            key, echar;\n        for (key in newEntities) {\n            echar = newEntities[key];\n            entityToChar[key] = echar;\n            charToEntity[echar] = key;\n            charKeys.push(echar);\n            entityKeys.push(key);\n        }\n        charToEntityRegex = new RegExp('(' + charKeys.join('|') + ')', 'g');\n        entityToCharRegex = new RegExp('(' + entityKeys.join('|') + '|&amp;#[0-9]{1,5};' + ')', 'g');\n    }\n\n    function htmlEncode(value){\n        var htmlEncodeReplaceFn = function(match, capture) {\n            return charToEntity[capture];\n        };\n\n        return (!value) ? value : String(value).replace(charToEntityRegex, htmlEncodeReplaceFn);\n    }\n\n    function htmlDecode(value) {\n        var htmlDecodeReplaceFn = function(match, capture) {\n            return (capture in entityToChar) ? entityToChar[capture] : String.fromCharCode(parseInt(capture.substr(2), 10));\n        };\n\n        return (!value) ? value : String(value).replace(entityToCharRegex, htmlDecodeReplaceFn);\n    }\n\n    resetCharacterEntities();\n\n    return {\n        htmlEncode: htmlEncode,\n        htmlDecode: htmlDecode\n    };\n})();\n</code></pre>\n\n<p>This is from ExtJS source code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://underscorejs.org/\">Underscore</a> provides <a href=\"http://underscorejs.org/#escape\"><code>_.escape()</code></a> and <a href=\"http://underscorejs.org/#unescape\"><code>_.unescape()</code></a> methods that do this.</p>\n\n<pre><code>&gt; _.unescape( \"chalk &amp;amp; cheese\" );\n  \"chalk &amp; cheese\"\n\n&gt; _.escape( \"chalk &amp; cheese\" );\n  \"chalk &amp;amp; cheese\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>&lt;script&gt;\nString.prototype.htmlEncode = function () {\n    return String(this)\n        .replace(/&amp;/g, '&amp;amp;')\n        .replace(/\"/g, '&amp;quot;')\n        .replace(/'/g, '&amp;#39;')\n        .replace(/&lt;/g, '&amp;lt;')\n        .replace(/&gt;/g, '&amp;gt;');\n\n}\n\nvar aString = '&lt;script&gt;alert(\"I hack your site\")&lt;/script&gt;';\nconsole.log(aString.htmlEncode());\n&lt;/script&gt;\n</code></pre>\n\n<p>Will output: <code>&amp;lt;script&amp;gt;alert(&amp;quot;I hack your site&amp;quot;)&amp;lt;/script&amp;gt;</code></p>\n\n<p>.htmlEncode() will be accessible on all strings once defined.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a simple javascript solution. It extends String object with a method \"HTMLEncode\" which can be used on an object without parameter, or with a parameter.</p>\n\n<pre><code>String.prototype.HTMLEncode = function(str) {\n  var result = \"\";\n  var str = (arguments.length===1) ? str : this;\n  for(var i=0; i&lt;str.length; i++) {\n     var chrcode = str.charCodeAt(i);\n     result+=(chrcode&gt;128) ? \"&amp;#\"+chrcode+\";\" : str.substr(i,1)\n   }\n   return result;\n}\n// TEST\nconsole.log(\"stetaewteaw \u00e6\u00f8\".HTMLEncode());\nconsole.log(\"stetaewteaw \u00e6\u00f8\".HTMLEncode(\"\u00e6\u00e5\u00f8\u00e5\u00e6\u00e5\"))\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I\u2019m using JavaScript to pull a value out from a hidden field and display it in a textbox. The value in the hidden field is encoded.</p>\n\n<p>For example,</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input id='hiddenId' type='hidden' value='chalk &amp;amp; cheese' /&gt;\n</code></pre>\n\n<p>gets pulled into</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type='text' value='chalk &amp;amp; cheese' /&gt;\n</code></pre>\n\n<p>via some jQuery to get the value from the hidden field (it\u2019s at this point that I lose the encoding):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('#hiddenId').attr('value')\n</code></pre>\n\n<p>The problem is that when I read <code>chalk &amp;amp; cheese</code> from the hidden field, JavaScript seems to lose the encoding. To escape <code>\"</code> and <code>'</code>, I want the encoding to remain.</p>\n\n<p>Is there a JavaScript library or a jQuery method that will HTML-encode a string?</p>\n",
            "last_activity_date": 1425490218,
            "question_id": 1219860,
            "score": 440,
            "tags": [
                "javascript",
                "jquery",
                "html-encode"
            ],
            "title": "HTML-encoding in JavaScript/jQuery"
        },
        {
            "answer_count": 21,
            "answers": [
                {
                    "body": "<h2>For Actual Arrays</h2>\n\n<p><em>(See \"For Array-Like Objects\" below for array-like objects.)</em></p>\n\n<p>You currently have three options and will soon have two more:</p>\n\n<ol>\n<li>Use <code>forEach</code> and related (ES5+)</li>\n<li>Use a simple <code>for</code> loop</li>\n<li>Use <code>for-in</code> <em>correctly</em></li>\n<li>Use <code>for-of</code> (use an iterator implicitly) (ES6+)</li>\n<li>Use an iterator explicitly (ES6+)</li>\n</ol>\n\n<p>Details:</p>\n\n<h3>1. Use <code>forEach</code> and related</h3>\n\n<p>If you're using an environment that supports the <code>Array</code> features of ECMAScript5 (directly or using a shim), you can use the new <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.18\"><code>forEach</code></a> function:</p>\n\n<pre><code>var a = [\"a\", \"b\", \"c\"];\na.forEach(function(entry) {\n    console.log(entry);\n});\n</code></pre>\n\n<p><code>forEach</code> accepts an iterator function and, optionally, a value to use as <code>this</code> when calling that iterator function (not used above). The iterator function is called for each entry in the array, in order, skipping non-existent entries in sparse arrays. Although I only used one argument above, the iterator function is called with three: The value of each entry, the index of that entry, and a reference to the array you're iterating over (in case your function doesn't already have it handy).</p>\n\n<p>Using <code>forEach</code> on a general-purpose web page still (as of March 2014) requires that you include a \"shim\" for it for browsers that don't support it natively, because IE8 and earlier don't have it (and they're used by somewhere between 7% and 21% of the global browser users depending on who you believe; that figure is skewed a bit by markedly higher use in China vs. elsewhere, always check your own stats to see what you need to support). But shimming/polyfilling it is easily done (search for \"es5 shim\" for several options).</p>\n\n<p><code>forEach</code> has the benefit that you don't have to declare indexing and value variables in the containing scope, as they're supplied as arguments to the iteration function, and so nicely scoped to just that iteration.</p>\n\n<p>If you're worried about the runtime cost of making a function call for each array entry, don't be; <a href=\"http://blog.niftysnippets.org/2012/02/foreach-and-runtime-cost.html\">details</a>.</p>\n\n<p>Additionally, <code>forEach</code> is the \"loop through them all\" function, but ES5 defined several other useful \"work your way through the array and do things\" functions, including:</p>\n\n<ul>\n<li><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.16\"><code>every</code></a> (stops looping the first time the iterator returns <code>false</code> or something falsey)</li>\n<li><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.17\"><code>some</code></a> (stops looping the first time the iterator returns <code>true</code> or something truthy)</li>\n<li><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.20\"><code>filter</code></a> (creates a new array including elements where the filter function returns <code>true</code> and omitting the ones where it returns <code>false</code>)</li>\n<li><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.19\"><code>map</code></a> (creates a new array from the values returned by the iterator function)</li>\n<li><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.21\"><code>reduce</code></a> (builds up a value by repeated calling the iterator, passing in previous values; see the spec for the details; useful for summing the contents of an array and many other things)</li>\n<li><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.22\"><code>reduceRight</code></a> (like <code>reduce</code>, but works in descending rather than ascending order)</li>\n</ul>\n\n<h3>2. Use a simple <code>for</code> loop</h3>\n\n<p>Sometimes the old ways are the best:</p>\n\n<pre><code>var index;\nvar a = [\"a\", \"b\", \"c\"];\nfor (index = 0; index &lt; a.length; ++index) {\n    console.log(a[index]);\n}\n</code></pre>\n\n<p>If the length of the array won't change during the loop, and it's in performance-sensitive code (unlikely), a slightly more complicated version grabbing the length up front might be a <strong><em>tiny</em></strong> bit faster:</p>\n\n<pre><code>var index, len;\nvar a = [\"a\", \"b\", \"c\"];\nfor (index = 0, len = a.length; index &lt; len; ++index) {\n    console.log(a[index]);\n}\n</code></pre>\n\n<p>And/or counting backward:</p>\n\n<pre><code>var index;\nvar a = [\"a\", \"b\", \"c\"];\nfor (index = a.length - 1; index &gt;= 0; --index) {\n    console.log(a[index]);\n}\n</code></pre>\n\n<p>But with modern JavaScript engines, it's rare you need to eke out that last bit of juice.</p>\n\n<h3>3. Use <code>for-in</code> <em>correctly</em></h3>\n\n<p>You'll get people telling you to use <code>for-in</code>, but <a href=\"http://blog.niftysnippets.org/2010/11/myths-and-realities-of-forin.html\">that's not what <code>for-in</code> is for</a>. <code>for-in</code> loops through the <em>enumerable properties of an object</em>, not the indexes of an array.</p>\n\n<p>Still, it <em>can</em> be useful, particularly for <a href=\"http://en.wikipedia.org/wiki/Sparse_array\"><em>sparse</em> arrays</a>, if you use appropriate safeguards:</p>\n\n<pre><code>// `a` is a sparse array\nvar key;\nvar a = [];\na[0] = \"a\";\na[10] = \"b\";\na[10000] = \"c\";\nfor (key in a) {\n    if (a.hasOwnProperty(key)  &amp;&amp;        // These are explained\n        /^0$|^[1-9]\\d*$/.test(key) &amp;&amp;    // and then hidden\n        key &lt;= 4294967294                // away below\n        ) {\n        console.log(a[key]);\n    }\n}\n</code></pre>\n\n<p>Note the two checks:</p>\n\n<ol>\n<li><p>That the object has its <em>own</em> property by that name (not one it inherits from its prototype), and</p></li>\n<li><p>That the key is a base-10 numeric string in its normal string form and its value is &lt;= 2^32 - 2 (which is 4,294,967,294). Where does that number come from? It's part of the definition of an array index <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4\">in the specification, \u00a710.5</a>. Other numbers (non-integers, negative numbers, numbers greater than 2^32 - 2) are not array indexes. The reason it's 2^32 - <strong>2</strong> is that that makes the greatest index value one lower than 2^32 - <strong>1</strong>, which is the maximum value an array's <code>length</code> can have. (E.g., an array's length fits in a 32-bit unsigned integer.) <em>(Props to RobG for pointing out in a comment <a href=\"http://blog.niftysnippets.org/2010/11/myths-and-realities-of-forin.html\">on my blog post</a> that my previous test wasn't quite right.)</em></p></li>\n</ol>\n\n<p>That's a tiny bit of added overhead per loop iteration on most arrays, but if you have a <em>sparse</em> array, it can be a more efficient way to loop because it only loops for entries that actually exist. E.g., for the array above, we loop a total of three times (for keys <code>\"0\"</code>, <code>\"10\"</code>, and <code>\"10000\"</code>&nbsp;&mdash; remember, they're strings), not 10,001 times.</p>\n\n<p>Now, you won't want to write that every time, so you might put this in your toolkit:</p>\n\n<pre><code>function arrayHasOwnIndex(array, prop) {\n    return array.hasOwnProperty(prop) &amp;&amp; /^0$|^[1-9]\\d*$/.test(prop) &amp;&amp; prop &lt;= 4294967294; // 2^32 - 2\n}\n</code></pre>\n\n<p>And then we'd use it like this:</p>\n\n<pre><code>for (key in a) {\n    if (arrayHasOwnIndex(a, key)) {\n        console.log(a[key]);\n    }\n}\n</code></pre>\n\n<p>Or if you're interested in just a \"good enough for most cases\" test, you could use this, but while it's close, it's not quite correct:</p>\n\n<pre><code>for (key in a) {\n    // \"Good enough\" for most cases\n    if (String(parseInt(key, 10)) === key &amp;&amp; a.hasOwnProperty(key)) {\n        console.log(a[key]);\n    }\n}\n</code></pre>\n\n<h3>4. Use <code>for-of</code> (use an iterator implicitly) (ES6+)</h3>\n\n<p>ES6 (currently still <a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts\">being drafted</a>) will add <em>iterators</em> to JavaScript. The easiest way to use iterators is the new <code>for-of</code> statement. It looks like this:</p>\n\n<pre><code>var val;\nvar a = [\"a\", \"b\", \"c\"];\nfor (val of a) {\n    console.log(val);\n}\n</code></pre>\n\n<p>Under the covers, that gets an <em>iterator</em> from the array and loops through it, getting the values from it. This doesn't have the issue that using <code>for-in</code> has, because it uses an iterator defined by the object (the array), and arrays define that their iterators iterate through their <em>entries</em> (not their properties).</p>\n\n<h3>5. Use an iterator explicitly (ES6+)</h3>\n\n<p>Sometimes, you might want to use an iterator <em>explicitly</em>. You can do that, too, although it's a lot clunkier than <code>for-of</code>. It looks like this:</p>\n\n<pre><code>var a = [\"a\", \"b\", \"c\"];\nvar it = a.values();\nvar entry;\nwhile (!(entry = it.next()).done) {\n    console.log(entry.value);\n}\n</code></pre>\n\n<p>The iterator is a function (specifically, a <em>generator</em>) that returns a new object each time you call <code>next</code>. The object returned by the iterator has a property, <code>done</code>, telling us whether it's done, and a property <code>value</code> with the value for that iteration.</p>\n\n<p>The meaning of <code>value</code> varies depending on the iterator; arrays support (at least) three functions that return iterators:</p>\n\n<ul>\n<li><code>values()</code>: This is the one I used above. It returns an iterator where each <code>value</code> is the value for that iteration.</li>\n<li><code>keys()</code>: Returns an iterator where each <code>value</code> is the key for that iteration (so for our <code>a</code> above, that would be <code>\"0\"</code>, then <code>\"1\"</code>, then <code>\"2\"</code>).</li>\n<li><code>entries()</code>: Returns an iterator where each <code>value</code> is an array in the form <code>[key, value]</code> for that iteration.</li>\n</ul>\n\n<p>(As of this writing, Firefox 29 supports <code>entries</code> and <code>keys</code> but not <code>values</code>.)</p>\n\n<h2>For Array-Like Objects</h2>\n\n<p>Aside from true arrays, there are also <em>array-like</em> objects that have a <code>length</code> property and properties with numeric names: <code>NodeList</code> instances, the <code>arguments</code> object, etc. How do we loop through their contents?</p>\n\n<h3>Use any of the options above for arrays</h3>\n\n<p>At least some, and possibly most or even all, of the array approaches above frequently apply equally well to array-like objects:</p>\n\n<ol>\n<li><p><strong>Use <code>forEach</code> and related (ES5+)</strong></p>\n\n<p>The various functions on <code>Array.prototype</code> are \"intentionally generic\" and can usually be used on array-like objects via <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.3.4.4\"><code>Function#call</code></a> or <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.3.4.3\"><code>Function#apply</code></a>. (See the <em>Caveat for host-provided objects</em> at the end of this answer, but it's a rare issue.)</p>\n\n<p>Suppose you wanted to use <code>forEach</code> on a <code>Node</code>'s <code>childNodes</code> property. You'd do this:</p>\n\n<pre><code>Array.prototype.forEach.call(node.childNodes, function(child) {\n    // Do something with `child`\n});\n</code></pre>\n\n<p>If you're going to do that a lot, you might want to grab a copy of the function reference into a variable for reuse, e.g.:</p>\n\n<pre><code>// (This is all presumably in some scoping function)\nvar forEach = Array.prototype.forEach;\n\n// Then later...\nforEach.call(node.childNodes, function(child) {\n    // Do something with `child`\n});\n</code></pre></li>\n<li><p><strong>Use a simple <code>for</code> loop</strong></p>\n\n<p>Obviously, a simple <code>for</code> loop applies to array-like objects.</p></li>\n<li><p><strong>Use <code>for-in</code> <em>correctly</em></strong></p>\n\n<p><code>for-in</code> with the same safeguards as with an array should work with array-like objects as well; the caveat for host-provided objects on #1 above may apply.</p></li>\n<li><p><strong>Use <code>for-of</code> (use an iterator implicitly) (ES6+)</strong></p>\n\n<p><code>for-of</code> will use the iterator provided by the object (if any); we'll have to see how this plays with the various array-like objects, particularly host-provided ones.</p></li>\n<li><p><strong>Use an iterator explicitly (ES6+)</strong></p>\n\n<p>See #4, we'll have to see how iterators play out.</p></li>\n</ol>\n\n<h3>Create a true array</h3>\n\n<p>Other times, you may want to convert an array-like object into a true array. Doing that is surprisingly easy: We use the <code>slice</code> method of arrays, which like the other methods mentioned above is \"intentionally generic\" and so can be used with array-like objects, like this:</p>\n\n<pre><code>var trueArray = Array.prototype.slice.call(arrayLikeObject, 0);\n</code></pre>\n\n<p>So for instance, if we want to convert a <code>NodeList</code> into a true array, we could do this:</p>\n\n<pre><code>var divs = Array.prototype.slice.call(document.querySelectorAll(\"div\"), 0);\n</code></pre>\n\n<p>See the <em>Caveat for host-provided objects</em> below.</p>\n\n<h3>Caveat for host-provided objects</h3>\n\n<p>If you use <code>Array.prototype</code> functions with <em>host-provided</em> array-like objects (DOM lists and other things provided by the browser rather than the JavaScript engine), you need to be sure to test in your target environments to make sure the host-provided object behaves properly. <strong>Most do behave properly</strong> (now), but it's important to test. The reason is that most of the <code>Array.prototype</code> methods you're likely to want to use rely on the host-provided object giving an honest answer to the abstract <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.2\"><code>[[HasProperty]]</code></a> operation. As of this writing, browsers do a very good job of this, but the spec does allow for the possibility a host-provided object may not be honest; it's in <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.2\">\u00a78.6.2</a> (several paragraphs below the big table near the beginning of that section), where it says:</p>\n\n<blockquote>\n  <p>Host objects may implement these internal methods in any manner unless specified otherwise; for example, one possibility is that <code>[[Get]]</code> and <code>[[Put]]</code> for a particular host object indeed fetch and store property values but <code>[[HasProperty]]</code> always generates <strong>false</strong>.</p>\n</blockquote>\n\n<p>Again, as of this writing the common host-provided array-like objects in modern browsers (<code>NodeList</code> instances, for instance) <strong>do</strong> handle <code>[[HasProperty]]</code> correctly, but it's important to test.</p>\n",
                    "is_accepted": true,
                    "score": 2804
                },
                {
                    "body": "<p><strong>Edit</strong>: This answer is hopelessly out-of-date. For a more modern approach, look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\">the methods available on an array</a>. Methods of interest might be:</p>\n\n<ul>\n<li>forEach</li>\n<li>map</li>\n<li>filter</li>\n<li>zip</li>\n<li>reduce</li>\n<li>every</li>\n<li>some</li>\n</ul>\n\n<hr>\n\n<p>The standard way to iterate an array in <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> is a vanilla <code>for</code>-loop:</p>\n\n<pre><code>var length = arr.length,\n    element = null;\nfor (var i = 0; i &lt; length; i++) {\n  element = arr[i];\n  // Do something with element i.\n}\n</code></pre>\n\n<p>Note, however, that this approach is only good if you have a dense array, and each index is occupied by an element. If the array is sparse, then you can run into performance problems with this approach, since you will iterate over a lot of indices that do not <em>really</em> exist in the array. In this case, a <code>for .. in</code>-loop might be a better idea. <strong>However</strong>, you must use the appropriate safeguards to ensure that only the desired properties of the array (that is, the array elements) are acted upon, since the <code>for..in</code>-loop will also be enumerated in legacy browsers, or if the additional properties are defined as <code>enumerable</code>.</p>\n\n<p>In <a href=\"https://en.wikipedia.org/wiki/ECMAScript#ECMAScript.2C_5th_Edition\">ECMAScript 5</a> there will be a forEach method on the array prototype, but it is not supported in legacy browsers. So to be able to use it consistently you must either have an environment that supports it (for example, <a href=\"http://en.wikipedia.org/wiki/Node.js\">Node.js</a> for server side JavaScript), or use a \"Polyfill\". The Polyfill for this functionality is, however, trivial and since it makes the code easier to read, it is a good polyfill to include.</p>\n",
                    "is_accepted": false,
                    "score": 304
                },
                {
                    "body": "<p>If you want to loop over an array, use the standard three-part <code>for</code> loop.</p>\n\n<pre><code>for (var i = 0; i &lt; myArray.length; i++) {\n    var arrayItem = myArray[i];\n}\n</code></pre>\n\n<p>You can get some performance optimisations by caching <code>myArray.length</code> or iterating over it backwards.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>There isn't any <code>for each</code> loop in native <a href=\"http://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow\">JavaScript</a>. You can either use libraries to get this functionality (I recommend <a href=\"http://en.wikipedia.org/wiki/Underscore.js\" rel=\"nofollow\">Underscore.js</a>), use a simple <code>for</code> in loop.</p>\n\n<pre><code>for (var instance in objects) {\n   ...\n}\n</code></pre>\n\n<p>However, note that there may be reasons to use an even simpler <code>for</code> loop (see Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/500504\">Why is using \u201cfor\u2026in\u201d with array iteration such a bad idea?</a></em>)</p>\n\n<pre><code>var instance;\nfor (var i=0; i &lt; objects.length; i++) {\n    var instance = objects[i];\n    ...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Some <a href=\"http://en.wikipedia.org/wiki/C_%28programming_language%29\">C</a>-style languages use <code>foreach</code> to loop through enumerations. In JavaScript this is done with the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Statements/for...in\"><code>for..in</code> loop structure</a>:</p>\n\n<pre><code>var index,\n    value;\nfor (index in obj) {\n    value = obj[index];\n}\n</code></pre>\n\n<p>There is a catch. <code>for..in</code> will loop through each of the object's enumerable members, and the members on its prototype. To avoid reading values that are inherited through the object's prototype, simply check if the property belongs to the object:</p>\n\n<pre><code>for (i in obj) {\n    if (obj.hasOwnProperty(i)) {\n        //do stuff\n    }\n}\n</code></pre>\n\n<p>Additionally, <a href=\"https://en.wikipedia.org/wiki/ECMAScript#ECMAScript.2C_5th_Edition\">ECMAScript 5</a> has added a <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach\"><code>forEach</code></a> method to <code>Array.prototype</code> which can be used to enumerate over an array using a calback (the polyfill is in the docs so you can still use it for older browsers):</p>\n\n<pre><code>arr.forEach(function (val, index, theArray) {\n    //do stuff\n});\n</code></pre>\n\n<p>It's important to note that <code>Array.prototype.forEach</code> doesn't break when the callback returns <code>false</code>. <a href=\"http://en.wikipedia.org/wiki/JQuery\">jQuery</a> and <a href=\"http://en.wikipedia.org/wiki/Underscore.js\">Underscore.js</a> provide their own variations on <code>each</code> to provide loops that can be short-circuited.</p>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<p>If you\u2019re using the <a href=\"http://jquery.com/\">jQuery</a> library, you can use <a href=\"http://api.jquery.com/jQuery.each/\"><code>jQuery.each</code></a>:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>$.each(yourArray, function(index, value) {\n  // do your stuff here\n});\n</code></pre>\n\n<p><strong>EDIT :</strong> As per question, user want code in javascript instead of jquery so the edit is</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var length = yourArray.length;   \nfor (var i = 0; i &lt; length; i++) {\n  // Do something with yourArray[i].\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 128
                },
                {
                    "body": "<p>If you don't mind emptying the array:</p>\n\n<pre><code>var x;\n\nwhile(x = y.pop()){ \n\n    alert(x); //do something \n\n}\n</code></pre>\n\n<p><code>x</code> will contain the last value of <code>y</code> and it will be removed from the array. You can also use <code>shift()</code> which will give and remove the first item from <code>y</code>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>A <strong>forEach</strong> implementation (<a href=\"http://jsfiddle.net/nmoliveira/zNsyB/\">see in jsFiddle</a>):</p>\n\n<pre><code>function forEach(list,callback) {\n  var length = list.length;\n  for (var n = 0; n &lt; length; n++) {\n    callback.call(list[n]);\n  }\n}\n\nvar myArray = ['hello','world'];\n\nforEach(\n  myArray,\n  function(){\n    alert(this); // do something\n  }\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>IE8 and below don't support forEach. Here's a polyfill for non supporting browsers;</p>\n\n<pre><code>if ( !Array.prototype.forEach ) {\n  Array.prototype.forEach = function(fn, scope) {\n    for(var i = 0, len = this.length; i &lt; len; ++i) {\n      if (i in this) {\n        fn.call(scope, this[i], i, this);\n      }\n    }\n  };\n}\n</code></pre>\n\n<p>Taken from <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow\">Mozilla's doc</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>EcmaScript 6 will maybe contain the \"for...of\" construct. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of</a> for more information. You can already try it out with recent Firefox versions.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>An easy solution now would be to use the <a href=\"http://underscorejs.org/\" rel=\"nofollow\">underscore.js library</a>. It's providing many useful tools, such as <code>each</code> and will automatically delegate the job to the native <code>forEach</code> if available.</p>\n\n<p><a href=\"http://codepen.io/Micka33/pen/nbyxf\" rel=\"nofollow\">A CodePen example</a> of how it works.</p>\n\n<pre><code>var arr = [\"elemA\", \"elemB\", \"elemC\"];\n_.each(arr, function(elem, index, ar)\n{\n...\n});\n</code></pre>\n\n<h2>EDIT</h2>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow\">Here</a> is the documentation for native <code>Array.prototype.forEach()</code>.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for_each...in\" rel=\"nofollow\">Here</a> is explained that <code>for each (variable in object)</code> is deprecated as the part of ECMA-357 (<a href=\"https://developer.mozilla.org/en-US/docs/E4X\" rel=\"nofollow\">EAX</a>) standard.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow\">Here</a> is describe the next way of iterating using <code>for (variable of object)</code> as the part of the Harmony (EcmaScript 6) proposal.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>var i, len;\nfor( i=0, len=array.length ; i&lt;len ; i++){\n    // here, array[i] is the current element\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Probably the <code>for(i = 0; i &lt; array.length; i++)</code> loop is not the best choice. Why? If you have this:</p>\n\n<pre><code>var array = new Array();\narray[1] = \"Hello\";\narray[7] = \"World\";\narray[11] = \"!\";\n</code></pre>\n\n<p>The method will call from <code>array[0]</code> to <code>array[2]</code>. First, this will first reference variables you don't even have, second you would not have the variables in the array, and third this will make the code bolder. Look here, it's what I use:</p>\n\n<pre><code>for(var i in array){\n    var el = array[i];\n    //If you want 'i' to be INT just put parseInt(i)\n    //Do something with el\n}\n</code></pre>\n\n<p>And if you want it to be a function, you can do this:</p>\n\n<pre><code>function foreach(array, call){\n    for(var i in array){\n        call(array[i]);\n    }\n}\n</code></pre>\n\n<p>If you want to break, a little more logic:</p>\n\n<pre><code>function foreach(array, call){\n    for(var i in array){\n        if(call(array[i]) == false){\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>foreach(array, function(el){\n    if(el != \"!\"){\n        console.log(el);\n    } else {\n        console.log(el+\"!!\");\n    }\n});\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>//Hello\n//World\n//!!!\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>There are three implementations of <code>foreach</code> in <a href=\"http://en.wikipedia.org/wiki/JQuery\">jQuery</a> as follows.</p>\n\n<pre><code>var a = [3,2];\n\n$(a).each(function(){console.log(this.valueOf())}); //Method 1\n$.each(a, function(){console.log(this.valueOf())}); //Method 2\n$.each($(a), function(){console.log(this.valueOf())}); //Method 3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>This is an iterator for NON-sparse list where the index starts at 0, which is the typical scenario when dealing with document.getElementsByTagName or document.querySelectorAll)</p>\n\n<pre><code>function each( fn, data ) {\n\n    if(typeof fn == 'string')\n        eval('fn = function(data, i){' + fn + '}');\n\n    for(var i=0, L=this.length; i &lt; L; i++) \n        fn.call( this[i], data, i );   \n\n    return this;\n}\n\nArray.prototype.each = each;  \n</code></pre>\n\n<p><strong>Examples of usage:</strong></p>\n\n<p><strong>Example #1</strong></p>\n\n<pre><code>var arr=[];\n[1,2,3].each( function(a){ a.push( this * this},arr);\n</code></pre>\n\n<p>arr is now = [1, 4, 9]</p>\n\n<p><strong>Example #2</strong></p>\n\n<pre><code>each.call(document.getElementsByTagName('p'), \"this.className = data;\",'blue');\n</code></pre>\n\n<p>Each  p tag gets class=\"blue\"</p>\n\n<p><strong>Example #3</strong></p>\n\n<pre><code>each.call(document.getElementsByTagName('p'), \n    \"if( i % 2 == 0) this.className = data;\",\n    'red'\n);\n</code></pre>\n\n<p>Every other  p tag gets class=\"red\"></p>\n\n<p><strong>Example #4</strong></p>\n\n<pre><code>each.call(document.querySelectorAll('p.blue'), \n    function(newClass, i) {\n        if( i &lt; 20 )\n            this.className = newClass;\n    },'green'\n);\n</code></pre>\n\n<p>And finally, the first 20 blue p tags are changed to green</p>\n\n<p>Caution when using string as function: the function is created out-of-context and ought to be used only where you are certain of variable scoping.  Otherwise, better to pass functions where scoping is more intuitive.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>jQuery way using <code>$.map</code>:</p>\n\n<pre><code>var data = [1, 2, 3, 4, 5, 6, 7];\n\nvar newData = $.map(data, function(element) {\n    if (element % 2 == 0) {\n        return element;\n    }\n});\n\n// newData = [2, 4, 6];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h1>Loop backwards</h1>\n\n<p>I think the <em>reverse</em> for loop deserves a mention here:</p>\n\n<pre><code>for (var i=array.length; i--; ) {\n     // process array[i]\n}\n</code></pre>\n\n<h2>Advantages:</h2>\n\n<ul>\n<li>You do not need to declare a temporary <code>len</code> variable, or compare against <code>array.length</code> on each iteration, either of which might be a minute optimisation.</li>\n<li><strong>Removing siblings</strong> from the DOM in reverse order is usually <strong>more efficient</strong>.  (The browser needs to do less shifting of elements in its internal arrays.)</li>\n<li>If you <strong>modify the array</strong> while looping, at or after index <em>i</em> (for example you remove or insert an item at <code>array[i]</code>), then a forward loop would skip the item that shifted left into position <em>i</em>, or re-process the <em>i</em>th item that was shifted right.  In a traditional for loop, you <em>could</em> update <em>i</em> to point to the next item that needs processing - 1, but simply reversing the direction of iteration is often a <strong>simpler</strong> and <a href=\"http://stackoverflow.com/questions/23186254/javascript-splice-changing-earlier-values-in-an-array/23186450#23186450\">more elegant solution</a>.</li>\n<li>Similarly, when modifying or removing <strong>nested</strong> DOM elements, processing in reverse can <strong>circumvent errors</strong>. For example, consider modifying the innerHTML of a parent node before handling its children.  By the time the child node is reached it will be detached from the DOM, having been replaced by a newly created child when the parent's innerHTML was written.</li>\n<li>It is <strong>shorter</strong> to type, and <strong>read</strong>, than some of the other options available.  Although it loses to <code>forEach()</code> and to ES6's <code>for ... of</code>.</li>\n</ul>\n\n<h2>Disadvantages:</h2>\n\n<ul>\n<li>It processes the items in reverse order.  If you were building a new array from the results, or printing things on screen, naturally <strong>the output will be reversed</strong> with respect to the original order.</li>\n<li>Repeatedly inserting siblings into the DOM as a first child in order to retain their order is <strong>less efficient</strong>.  (The browser would keep having to shift things right.)  To create DOM nodes efficiently and in order, just loop forwards and append as normal (and also use a \"document fragment\").</li>\n<li>The reverse loop is <strong>confusing</strong> to junior developers.  (You may consider that an advantage, depending on your outlook.)</li>\n</ul>\n\n<hr>\n\n<h2>Should I always use it?</h2>\n\n<p>Some developers use the reverse for loop <em>by default</em>, unless there is a good reason to loop forwards.</p>\n\n<p>Although the performance gains are usually insignificant, it sort of screams:</p>\n\n<blockquote>\n  <p>\"Just do this to every item in the list, I don't care about the order!\"</p>\n</blockquote>\n\n<p>However in practice that is <strong>not</strong> actually a reliable indication of intent, since it is indistinguishable from those occasions when you <strong><em>do</em></strong> care about the order, and really do <strong><em>need</em></strong> to loop in reverse.  So in fact another construct would be needed to accurately express the \"don't care\" intent, something currently unavailable in most languages, including ECMAScript, but which could be called, for example, <code>forEachUnordered()</code>.</p>\n\n<p>If order doesn't matter, and <strong>efficiency</strong> is a concern (in the innermost loop of a game or animation engine), then it may be acceptable to use the reverse for loop as your go-to pattern.  Just remember that seeing a reverse for loop in existing code <strong>does not necessarily mean</strong> that the order irrelevant!</p>\n\n<h3>It is better to use forEach()</h3>\n\n<p>In general for higher level code where <strong>clarity and safety</strong> are greater concerns, I would recommend using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow\"><code>Array::forEach</code></a> as your default pattern:</p>\n\n<ul>\n<li>It is clear to read.</li>\n<li>It indicates that <em>i</em> is not going to be shifted within the block (which is always a possible surprise hiding in long <code>for</code> and <code>while</code> loops.)</li>\n<li>It gives you a free scope for closures.</li>\n<li>It reduces leakage of local variables and accidental collision with (and mutation of) outer variables.</li>\n<li>But note that unlike <code>map</code>, <code>forEach</code> <strong>does not</strong> exclude the possibility that the loop will <strong>break</strong> out part-way through.  This is a feature that can be triggered by returning <em>false</em> from the callback.</li>\n</ul>\n\n<p>Then when you do see the reverse for loop in your code, that is a hint that it is reversed for a good reason (perhaps one of the reasons described above).  And seeing a traditional forward for loop may indicate that shifting can take place.</p>\n\n<p>(If the discussion of intent makes no sense to you, then you and your code may benefit from watching Crockford's lecture on <a href=\"https://www.youtube.com/watch?v=taaEzHI9xyY&amp;t=480\" rel=\"nofollow\">Programming Style &amp; Your Brain</a>.)</p>\n\n<hr>\n\n<h2>How does it work?</h2>\n\n<pre><code>for (var i=0; i&lt;array.length; i++) { ... }   // Forwards\n\nfor (var i=array.length; i--; )    { ... }   // Reverse\n</code></pre>\n\n<p>You will notice that <code>i--</code> is the middle clause (where we usually see a comparison) and the last clause is empty (where we usually see <code>i++</code>).  That means that <code>i--</code> is also used as the <em>condition</em> for continuation.  Crucially, it is executed and checked <em>before</em> each iteration.</p>\n\n<ul>\n<li><p><strong>How can it start at <code>array.length</code> without exploding?</strong></p>\n\n<p>Because <code>i--</code> runs <em>before</em> each iteration, on the first iteration we will actually be accessing the item at <code>array.length-1</code> which avoids any issues with <strike>Array-out-of-bounds</strike> <code>undefined</code> items.</p></li>\n<li><p><strong>Why doesn't it stop iterating before index 0?</strong></p>\n\n<p>The loop will stop iterating when the condition <code>i--</code> evaluates to a falsey value (when it yields 0).</p>\n\n<p>The trick is that unlike <code>--i</code>, the trailing <code>i--</code> operator decrements <code>i</code> but yields the value <strong><em>before</em></strong> the decrement.  Your console can demonstrate this:</p>\n\n<p><code>&gt; var i = 5; [i, i--, i];</code></p>\n\n<p><code>[5, 5, 4]</code></p>\n\n<p>So on the final iteration, <em>i</em> was previously <strong>1</strong> and the <code>i--</code> expression changes it to <strong>0</strong> but actually yields <strong>1</strong> (truthy), and so the condition passes.  On the next iteration <code>i--</code> changes <em>i</em> to <strong>-1</strong> but yields <strong>0</strong> (falsey), causing execution to immediately drop out of the bottom of the loop.</p>\n\n<p>In the traditional forwards for loop, <code>i++</code> and <code>++i</code> are interchangeable (as Douglas Crockford points out).  However in the reverse for loop, because our decrement is also our condition expression, we must stick with <code>i--</code> if we want to process the item at index 0.</p></li>\n</ul>\n\n<hr>\n\n<h2>Trivia</h2>\n\n<p>Some people like to draw a little arrow in the reverse <code>for</code> loop, and end with a wink:</p>\n\n<pre><code>for (var i=array.length; i--&gt;0 ;) {\n</code></pre>\n\n<hr>\n\n<p><em>Credits go to WYL for showing me the benefits and horrors of the reverse for loop.</em></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>I know this is an old post, and there are so many great answers already. For a little more completeness I figured I'd throw in another one using <a href=\"https://angularjs.org/\">AngularJS</a>. Of course, this only applies if you're using Angular, obviously, nonetheless I'd like to put it anyway.</p>\n\n<p><code>angular.forEach</code> takes 2 arguments and an optional third argument. The first argument is the object (array) to iterate over, the second argument is the iterator function, and the optional third argument is the object context (basically referred to inside the loop as 'this'.</p>\n\n<p>There are different ways to use the forEach loop of angular. The simplest and probably most used is</p>\n\n<pre><code>var temp = [1, 2, 3];\nangular.forEach(temp, function(item) {\n    //item will be each element in the array\n    //do something\n});\n</code></pre>\n\n<p>Another way that is useful for copying items from one array to another is</p>\n\n<pre><code>var temp = [1, 2, 3];\nvar temp2 = [];\nangular.forEach(temp, function(item) {\n    this.push(item); //\"this\" refers to the array passed into the optional third parameter so, in this case, temp2.\n}, temp2);\n</code></pre>\n\n<p>Though, you don't have to do that, you can simply do the following and it's equivalent to the previous example:</p>\n\n<pre><code>angular.forEach(temp, function(item) {\n    temp2.push(item);\n});\n</code></pre>\n\n<p>Now there are pros and cons of using the <code>angular.forEach</code> function as opposed to the built in vanilla-flavored <code>for</code> loop.</p>\n\n<p><strong>Pros</strong></p>\n\n<ul>\n<li>Easy readability</li>\n<li>Easy writability</li>\n<li>If available, <code>angular.forEach</code> will use the ES5 forEach loop. Now, I will get to efficientcy in the cons section, as the forEach loops are <em>much</em> slower than the for loops. I mention this as a pro because it's nice to be consistent and standardized.</li>\n</ul>\n\n<p>Consider the following 2 nested loops, which do exactly the same thing. Let's say that we have 2 arrays of objects and each object contains an array of results, each of which has a Value property that's a string (or whatever). And let's say we need to iterate over each of the results and if they're equal then perform some action: </p>\n\n<pre><code>angular.forEach(obj1.results, function(result1) {\n    angular.forEach(obj2.results, function(result2) {\n        if (result1.Value === result2.Value) {\n            //do something\n        }\n    });\n});\n\n//exact same with a for loop\nfor (var i = 0; i &lt; obj1.results.length; i++) {\n    for (var j = 0; j &lt; obj2.results.length; j++) {\n        if (obj1.results[i].Value === obj2.results[j].Value) {\n            //do something\n        }\n    }\n}\n</code></pre>\n\n<p>Granted this is a very simple hypothetical example, but I've written triple embedded for loops using the second approach and it was <em>very</em> hard to read, and write for that matter.</p>\n\n<p><strong>Cons</strong></p>\n\n<ul>\n<li>Efficiency. <code>angular.forEach</code>, and the native <code>forEach</code>, for that matter, are both <em>so much</em> slower than the normal <code>for</code> loop....about <a href=\"http://jsperf.com/angular-foreach-vs-native-for-loop/3\">90% slower</a>. So for large data sets, best to stick to the native <code>for</code> loop.</li>\n<li>No break, continue, or return support. <code>continue</code> is actually supported by \"<a href=\"https://github.com/angular/angular.js/issues/263\">accident</a>\", to continue in an <code>angular.forEach</code> you simple put a <code>return;</code> statement in the function like <code>angular.forEach(array, function(item) { if (someConditionIsTrue) return; });</code> which will cause it to continue out of the function for that iteration. This is also due to the fact that the native <code>forEach</code> does not support break or continue either.</li>\n</ul>\n\n<p>I'm sure there's various other pros and cons as well, and please feel free to add any that you see fit. I feel that, bottom line, if you need efficiency, stick with just the native <code>for</code> loop for your looping needs. But, if your datasets are smaller and a some efficiency is okay to give up in exchange for readability and writability, then by all means throw an <code>angular.forEach</code> in that bad boy.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Use:</p>\n\n<pre><code>$.each([ 52, 97 ], function( index, value ) {\n    alert( index + \": \" + value );\n});\n</code></pre>\n\n<p>where <code>[ 52, 97 ]</code> is your array.</p>\n\n<p>This produces two messages:</p>\n\n<pre><code>0: 52\n1: 97\n</code></pre>\n\n<p><code>$.each()</code> is essentially a drop-in replacement of a traditional <code>for</code> or <code>for-in</code> loop.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>// **Traditional JavaScript code**\n\nvar sum = 0;\nvar arr = [ 1, 2, 3, 4, 5 ];\n\nfor ( var i = 0, l = arr.length; i &lt; l; i++ ) {\n    sum += arr[ i ];\n}\nconsole.log( sum ); // 15\n</code></pre>\n\n<p>It can be <strong>replaced with this using jQuery</strong>:</p>\n\n<pre><code>$.each( arr, function( index, value ){\n    sum += value;\n});\nconsole.log( sum ); // 15\n</code></pre>\n\n<p><strong>Using JavaScript</strong></p>\n\n<pre><code>var myStringArray = [\"Hello\",\"World\"];\nvar arrayLength = myStringArray.length;\nfor (var i = 0; i &lt; arrayLength; i++) {\n    alert(myStringArray[i]);\n    //Do something\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think that the best and standard way is to use the <code>for</code> loop, and I like the <strong>short way</strong> to write it:</p>\n\n<pre><code>var list = [\"a\", \"b\", \"c\"];\nfor (var i = 0, letter; letter=list[i]; i++) {\n     alert(letter) ;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>One more thing about array.forEach. You can get not only index, but also the iterated object with forEach, if you have array of objects:</p>\n\n<pre><code>var fruits = [{'name': 'banana'}, {'name': 'apple'}, {'name': 'pear'}, {'name': 'watermelon'}];\n\nfruits.forEach(function(fruit, i) {\n  console.log('name of fruit no. ' + i + ' is: ' + fruit.name);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have an array of a varying number of objects. At a certain point, I want to do something to all the objects in that array.</p>\n\n<p>How do I do this with JavaScript?</p>\n\n<p>I thought of something like this: <code>forEach(instance in objects)</code> (where objects is my array of objects) but this does not seem to be correct for JavaScript?</p>\n",
            "last_activity_date": 1425908611,
            "question_id": 9329446,
            "score": 1385,
            "tags": [
                "javascript",
                "arrays",
                "foreach"
            ],
            "title": "For-each over an array in JavaScript?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You need to use brackets if the propert names has special characters:</p>\n\n<pre><code>var foo = {\n    \"Hello, world!\": true,\n}\nfoo[\"Hello, world!\"] = false;\n</code></pre>\n\n<p>Other than that, I suppose it's just a matter of taste. IMHO, the dot notation is shorter and it makes it more obvious that it's a property rather than an array element.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>Square bracket notation <a href=\"http://www.dev-archive.net/articles/js-dot-notation/\">allows use of characters that can't be used with dot notation</a>:</strong></p>\n\n<blockquote>\n<pre><code>var foo = myForm.foo[]; // incorrect syntax\nvar foo = myForm[\"foo[]\"]; // correct syntax\n</code></pre>\n  \n  <p><strong>The <em>second advantage</em> of square bracket notation is when dealing with\n  variable property names.</strong></p>\n\n<pre><code>for (var i = 0; i &lt; 10; i++) {\n  someFunction(myForm[\"myControlNumber\" + i]);\n}\n</code></pre>\n  \n  <p><strong>Roundup:</strong></p>\n  \n  <ul>\n  <li>Dot notation is faster to write and clearer to read.</li>\n  <li>Square bracket notation allows access to properties containing\n  special characters and selection of\n  properties using variables</li>\n  </ul>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 130
                },
                {
                    "body": "<p>The bracket notation allows you to access properties by name stored in a variable:</p>\n\n<pre><code>var obj = { \"abc\" : \"hello\" };\nvar x = \"abc\";\nvar y = obj[x];\nconsole.log(y); //output - hello\n</code></pre>\n\n<p><code>obj.x</code> would not work in this case.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Generally speaking, they do the same job.<br>\nNevertheless, the bracket notation gives you the opportunity to do stuff that you can't do with dot notation, like</p>\n\n<pre><code>var x = elem[\"foo[]\"]; // can't do elem.foo[];\n</code></pre>\n\n<p>This can be extended to any property containing special characters.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Dot notation does not work with some keywords (like <code>new</code> and <code>class</code>) in internet explorer 8.</p>\n\n<p>I had this code:</p>\n\n<pre><code>//app.users is a hash\napp.users.new = {\n  // some code\n}\n</code></pre>\n\n<p>And this triggers the dreaded \"expected indentifier\" (at least on IE8 on windows xp, I havn't tried other environments). The simple fix for that is to switch to bracket notation:</p>\n\n<pre><code>app.users['new'] = {\n  // some code\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Bracket notation can use variables, so it is useful in two instances where dot notation will not work:</p>\n\n<p>1) When the property names are dynamically determined (when the exact names are not known until runtime).</p>\n\n<p>2) When using a for..in loop to go through all the properties of an object. </p>\n\n<p>source: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Be careful while using these notations:\nFor eg. if we want to access a function present in the parent of a window.\nIn IE :</p>\n\n<pre><code>window['parent']['func']\n</code></pre>\n\n<p>is not equivalent to </p>\n\n<pre><code>window.['parent.func']\n</code></pre>\n\n<p>We may either use: </p>\n\n<pre><code>window['parent']['func'] \n</code></pre>\n\n<p>or </p>\n\n<pre><code>window.parent.func \n</code></pre>\n\n<p>to access it</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To understand what's going on, run this snippet:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var o = {a:\"FOO\",b:\"BAR\",i:'WOW'};\r\nvar i = 'a';\r\nalert(o[i]);\r\nalert(o.i);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>Other than the obvious fact that the first form could use a variable and not just a string literal, is there any reason to use one over the other, and if so under which cases?</p>\n\n<p>In code:</p>\n\n<pre><code>// Given:\nvar foo = {'bar': 'baz'};\n\n// Then\nvar x = foo['bar'];\n\n// vs. \nvar x = foo.bar;\n</code></pre>\n\n<p>Context: I've written a code generator which produces these expressions and I'm wondering which is preferable.</p>\n",
            "last_activity_date": 1413560386,
            "question_id": 4968406,
            "score": 106,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript property access: dot notation vs. brackets?"
        },
        {
            "answer_count": 38,
            "answers": [
                {
                    "body": "<p>Try <a href=\"https://github.com/alexei/sprintf.js\">sprintf() for JavaScript</a>.</p>\n\n<hr>\n\n<p><strong>Update</strong>\u00a0\u00a0\u00a0\u00a0Ok, if you really want to do a simple format method on your own, don\u2019t do the replacements successively but do them simultaneously.</p>\n\n<p>Because most of the other proposals that are mentioned fail when a replace string of previous replacement does also contain a format sequence like this:</p>\n\n<pre><code>\"{0}{1}\".format(\"{1}\", \"{0}\")\n</code></pre>\n\n<p>Normally you would expect the output to be <code>{1}{0}</code> but the actual output is <code>{1}{1}</code>. So do a simultaneously replacement instead like in <a href=\"http://stackoverflow.com/questions/610406/javascript-printf-string-format/4673436#4673436\">fearphage\u2019s suggestion</a>.</p>\n",
                    "is_accepted": true,
                    "score": 414
                },
                {
                    "body": "<p>There is \"sprintf\" for JavaScript which you can find at <a href=\"http://www.webtoolkit.info/javascript-sprintf.html\" rel=\"nofollow\">http://www.webtoolkit.info/javascript-sprintf.html</a>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'll add my own discoveries which I've found since I asked:</p>\n\n<ul>\n<li><a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript%5Fequivalent%5Ffor%5Fphps%5Fnumber%5Fformat/\">number_format (for thousand seperator/currency formatting)</a></li>\n<li><a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript%5Fequivalent%5Ffor%5Fphps%5Fsprintf/\">sprintf (same author as above)</a></li>\n</ul>\n\n<p>Sadly it seems sprintf doesn't handle thousand seperator formatting like .NET's string format.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>If you are looking to handle the thousands separator, you should really use toLocaleString() from the JavaScript <a href=\"http://www.hunlock.com/blogs/The_Complete_Javascript_Number_Reference\" rel=\"nofollow\">Number</a> class since it will format the string for the user's region.</p>\n\n<p>The JavaScript <a href=\"http://www.hunlock.com/blogs/Javascript_Dates-The_Complete_Reference\" rel=\"nofollow\">Date</a> class can format localized dates and times.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I use a small library called <a href=\"http://www.masterdata.se/r/string%5Fformat%5Ffor%5Fjavascript/\">String.format for JavaScript</a> which supports most of the format string capabilities (including format of numbers and dates), and uses the .NET syntax. The script itself is smaller than 4 kB, so it doesn't create much of overhead.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I use this simple function:</p>\n\n<pre><code>String.prototype.format = function() {\n    var formatted = this;\n    for( var arg in arguments ) {\n        formatted = formatted.replace(\"{\" + arg + \"}\", arguments[arg]);\n    }\n    return formatted;\n};\n</code></pre>\n\n<p>That's very similar to string.format:</p>\n\n<pre><code>\"{0} is dead, but {1} is alive!\".format(\"ASP\", \"ASP.NET\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 59
                },
                {
                    "body": "<p>+1 Zippo with the exception that the function body needs to be as below or otherwise it appends the current string on every iteration:</p>\n\n<pre><code>String.prototype.format = function() {\n    var formatted = this;\n    for (var arg in arguments) {\n        formatted = formatted.replace(\"{\" + arg + \"}\", arguments[arg]);\n    }\n    return formatted;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>JavaScript programmers can use String.prototype.sprintf at <a href=\"http://code.google.com/p/jsxt/source/browse/trunk/js/String.js\">http://code.google.com/p/jsxt/source/browse/trunk/js/String.js</a>. Below is example:</p>\n\n<pre><code>var d = new Date();\nvar dateStr = '%02d:%02d:%02d'.sprintf(\n    d.getHours(), \n    d.getMinutes(), \n    d.getSeconds());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>jsxt, Zippo</p>\n\n<p>This option fits better.</p>\n\n<pre><code>String.prototype.format = function() {\n    var formatted = this;\n    for (var i = 0; i &lt; arguments.length; i++) {\n        var regexp = new RegExp('\\\\{'+i+'\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[i]);\n    }\n    return formatted;\n};\n</code></pre>\n\n<p>With this option I can replace string like thise:</p>\n\n<pre><code>'The {0} is dead. Don\\'t code {0}. Code {1} that is open source!'.format('ASP', 'PHP');\n</code></pre>\n\n<p>With your code the second {0} wouldn't be replaced. ;)</p>\n",
                    "is_accepted": false,
                    "score": 106
                },
                {
                    "body": "<p>Building on the previously suggested solutions:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// First, checks if it isn't implemented yet.\nif (!String.prototype.format) {\n  String.prototype.format = function() {\n    var args = arguments;\n    return this.replace(/{(\\d+)}/g, function(match, number) { \n      return typeof args[number] != 'undefined'\n        ? args[number]\n        : match\n      ;\n    });\n  };\n}\n</code></pre>\n\n<p><code>\"{0} is dead, but {1} is alive! {0} {2}\".format(\"ASP\", \"ASP.NET\")</code></p>\n\n<p>outputs</p>\n\n<blockquote>\n  <p>ASP is dead, but ASP.NET is alive! ASP {2}</p>\n</blockquote>\n\n<hr>\n\n<p>If you prefer not to modify <code>String</code>'s prototype:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (!String.format) {\n  String.format = function(format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return format.replace(/{(\\d+)}/g, function(match, number) { \n      return typeof args[number] != 'undefined'\n        ? args[number] \n        : match\n      ;\n    });\n  };\n}\n</code></pre>\n\n<p>Gives you the much more familiar:</p>\n\n<p><code>String.format('{0} is dead, but {1} is alive! {0} {2}', 'ASP', 'ASP.NET');</code></p>\n\n<p>with the same result:</p>\n\n<blockquote>\n  <p>ASP is dead, but ASP.NET is alive! ASP {2}</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 728
                },
                {
                    "body": "<p>Here's a <em>minimal</em> implementation of sprintf in JavaScript: it only does \"%s\" and \"%d\", but I have left space for it to be extended. It is useless to the OP, but other people who stumble across this thread coming from Google might benefit from it.</p>\n\n<pre><code>function sprintf() {\n    var args = arguments,\n    string = args[0],\n    i = 1;\n    return string.replace(/%((%)|s|d)/g, function (m) {\n        // m is the matched format, e.g. %s, %d\n        var val = null;\n        if (m[2]) {\n            val = m[2];\n        } else {\n            val = args[i];\n            // A switch statement so that the formatter can be extended. Default is %s\n            switch (m) {\n                case '%d':\n                    val = parseFloat(val);\n                    if (isNaN(val)) {\n                        val = 0;\n                    }\n                    break;\n            }\n            i++;\n        }\n        return val;\n    });\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>alert(sprintf('Latitude: %s, Longitude: %s, Count: %d', 41.847, -87.661, 'two'));\n// Expected output: Latitude: 41.847, Longitude: -87.661, Count: 0\n</code></pre>\n\n<p>In contrast with similar solutions in previous replies, this one does all substitutions <em>in one go</em>, so it will not replace parts of previously replaced values.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>The <a href=\"http://phpjs.org/\" rel=\"nofollow\">PHPJS project</a> has written JavaScript implementations for many of PHP's functions. Since PHP's <code>sprintf()</code> function is basically the same as C's <code>printf()</code>, <a href=\"http://phpjs.org/functions/sprintf\" rel=\"nofollow\">their JavaScript implementation of it</a> should satisfy your needs.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><code>arg</code> function: </p>\n\n<pre><code>/**\n * Qt stil arg()\n * var scr = \"&lt;div id='%1' class='%2'&gt;&lt;/div&gt;\".arg(\"mydiv\").arg(\"mydivClass\");\n */\nString.prototype.arg = function() {\n    var signIndex = this.indexOf(\"%\");\n    var result = this;\n    if (signIndex &gt; -1 &amp;&amp; arguments.length &gt; 0) {\n        var argNumber = this.charAt(signIndex + 1);\n        var _arg = \"%\"+argNumber;\n        var argCount = this.split(_arg);\n        for (var itemIndex = 0; itemIndex &lt; argCount.length; itemIndex++) {\n            result = result.replace(_arg, arguments[0]);\n        }\n    }\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is also <code>Globalize.format</code> in the <a href=\"https://github.com/jquery/globalize\" rel=\"nofollow\">jQuery Globalize</a> project, the official globalization service for jQuery UI. IT's nice when you need culture-aware formatting. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h1>Number Formatting in JavaScript</h1>\n\n<p>I got to this question page hoping to find how to <strong>format numbers</strong> in JavaScript, without introducing yet another library.  Here's what I've found:</p>\n\n<h2>Rounding floating-point numbers</h2>\n\n<p>The equivalent of <code>sprintf(\"%.2f\", num)</code> in JavaScript seems to be <code>num.toFixed(2)</code>, which formats <code>num</code> to 2 decimal places, with rounding (but see @ars265's comment about <code>Math.round</code> below).</p>\n\n<pre><code>12.345.toFixed(2); // returns \"12.35\" (rounding!)\n12.3.toFixed(2); // returns \"12.30\" (zero padding)\n</code></pre>\n\n<h2>Exponential form</h2>\n\n<p>The equivalent of <code>sprintf(\"%.2e\", num)</code> is <code>num.toExponential(2)</code>.  </p>\n\n<pre><code>33333 .toExponential(2); // \"3.33e+4\"\n//   ^ Note the space, which keeps the . from being a decimal point.\n//     Leaving out the space is a syntax error :-(\n</code></pre>\n\n<h2>Hexadecimal and other bases</h2>\n\n<p>To print numbers in base B, try <code>num.toString(B)</code>.  JavaScript supports automatic conversion to and from bases 2 through 36 (in addition, some browsers have <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.btoa\">limited support for base64 encoding</a>).</p>\n\n<pre><code>3735928559 .toString(16); // to base 16: \"deadbeef\"\nparseInt(\"deadbeef\", 16); // from base 16: 3735928559\n</code></pre>\n\n<h2>Reference Pages</h2>\n\n<p><a href=\"http://www.mredkj.com/javascript/numberFormat.html\">Quick tutorial on JS number formatting</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed\">Mozilla reference page for toFixed()</a> (with links to toPrecision(), toExponential(), toLocaleString(), ...)</p>\n",
                    "is_accepted": false,
                    "score": 195
                },
                {
                    "body": "<p>Very elegant:</p>\n\n<pre><code>String.prototype.format = function (){\n    var args = arguments;\n    return this.replace(/\\{\\{|\\}\\}|\\{(\\d+)\\}/g, function (curlyBrack, index) {\n        return ((curlyBrack == \"{{\") ? \"{\" : ((curlyBrack == \"}}\") ? \"}\" : args[index]));\n    });\n};\n\n// Usage:\n\"{0}{1}\".format(\"{1}\", \"{0}\")\n</code></pre>\n\n<p>Credit goes to <del><a href=\"http://technoblogia.net/2011/11/08/%D7%98%D7%99%D7%A4-%D7%A4%D7%95%D7%A0%D7%A7%D7%A6%D7%99%D7%99%D7%AA-%D7%A2%D7%96%D7%A8-%D7%91-javascript-%D7%9C%D7%A2%D7%99%D7%A6%D7%95%D7%91-%D7%9E%D7%97%D7%A8%D7%95%D7%96%D7%95%D7%AA/\" rel=\"nofollow\">(broken link)</a></del> <a href=\"https://gist.github.com/0i0/1519811\" rel=\"nofollow\">https://gist.github.com/0i0/1519811</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I have a slightly longer formatter for JavaScript <a href=\"https://github.com/tracker1/core-js/blob/master/js-extensions/100-String.format.js\" rel=\"nofollow\">here</a>...  </p>\n\n<p>You can do formatting several ways:</p>\n\n<ul>\n<li><code>String.format(input, args0, arg1, ...)</code></li>\n<li><code>String.format(input, obj)</code></li>\n<li><code>\"literal\".format(arg0, arg1, ...)</code></li>\n<li><code>\"literal\".format(obj)</code></li>\n</ul>\n\n<p>Also, if you have say a ObjectBase.prototype.format (such as with <a href=\"http://www.datejs.com/\" rel=\"nofollow\">DateJS</a>) it will use that.</p>\n\n<p>Examples...</p>\n\n<pre><code>var input = \"numbered args ({0}-{1}-{2}-{3})\";\nconsole.log(String.format(input, \"first\", 2, new Date()));\n//Outputs \"numbered args (first-2-Thu May 31 2012...Time)-{3})\"\n\nconsole.log(input.format(\"first\", 2, new Date()));\n//Outputs \"numbered args(first-2-Thu May 31 2012...Time)-{3})\"\n\nconsole.log(input.format(\n    \"object properties ({first}-{second}-{third:yyyy-MM-dd}-{fourth})\"\n    ,{\n        'first':'first'\n        ,'second':2\n        ,'third':new Date() //assumes Date.prototype.format method\n    }\n));\n//Outputs \"object properties (first-2-2012-05-31-{3})\"\n</code></pre>\n\n<p>I've also aliased with .asFormat and have some detection in place in case there's already a string.format (such as with MS Ajax Toolkit (I hate that library).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This one works with {0}, {1} and {}.</p>\n\n<pre><code>String.prototype.format = function format()\n{                                                                                                               \n  var msg = this;\n  for(var i in arguments)\n    msg = msg.replace(/\\{\\}/,arguments[i]).replace(new RegExp('\\\\{'+i+'\\\\}','g'),arguments[i]);\n  return msg;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I did not see the <code>String.format</code> variant:</p>\n\n<pre><code>String.format = function (string) {\n    var args = Array.prototype.slice.call(arguments, 1, arguments.length);\n    return string.replace(/{(\\d+)}/g, function (match, number) {\n        return typeof args[number] != \"undefined\" ? args[number] : match;\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>One very slightly different version, the one I prefer (this one uses {xxx} tokens rather than {0} numbered arguments, this is much more self-documenting and suits localization much better):</p>\n\n<pre><code>String.prototype.format = function(tokens) {\n  var formatted = this;\n  for (var token in tokens)\n    if (tokens.hasOwnProperty(token))\n      formatted = formatted.replace(RegExp(\"{\" + token + \"}\", \"g\"), tokens[token]);\n  return formatted;\n};\n</code></pre>\n\n<p>A variation would be:</p>\n\n<pre><code>  var formatted = l(this);\n</code></pre>\n\n<p>that calls an l() localization function first.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I want to share my solution for the 'problem'. I haven't re-invented the wheel but tries to find a solution based on what JavaScript already does. The advantage is, that you get all implicit conversions for free. Setting the prototype property $ of String gives a very nice and compact syntax (see examples below). It is maybe not the most efficient way, but in most cases dealing with output it does not have to be super optimized.</p>\n\n<pre><code>String.form = function(str, arr) {\n    var i = -1;\n    function callback(exp, p0, p1, p2, p3, p4) {\n        if (exp=='%%') return '%';\n        if (arr[++i]===undefined) return undefined;\n        var exp  = p2 ? parseInt(p2.substr(1)) : undefined;\n        var base = p3 ? parseInt(p3.substr(1)) : undefined;\n        var val;\n        switch (p4) {\n            case 's': val = arr[i]; break;\n            case 'c': val = arr[i][0]; break;\n            case 'f': val = parseFloat(arr[i]).toFixed(exp); break;\n            case 'p': val = parseFloat(arr[i]).toPrecision(exp); break;\n            case 'e': val = parseFloat(arr[i]).toExponential(exp); break;\n            case 'x': val = parseInt(arr[i]).toString(base?base:16); break;\n            case 'd': val = parseFloat(parseInt(arr[i], base?base:10).toPrecision(exp)).toFixed(0); break;\n        }\n        val = typeof(val)=='object' ? JSON.stringify(val) : val.toString(base);\n        var sz = parseInt(p1); /* padding size */\n        var ch = p1 &amp;&amp; p1[0]=='0' ? '0' : ' '; /* isnull? */\n        while (val.length&lt;sz) val = p0 !== undefined ? val+ch : ch+val; /* isminus? */\n       return val;\n    }\n    var regex = /%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd])/g;\n    return str.replace(regex, callback);\n}\n\nString.prototype.$ = function() {\n    return String.form(this, Array.prototype.slice.call(arguments));\n}\n</code></pre>\n\n<p>Here are a few examples:</p>\n\n<pre><code>String.format(\"%s %s\", [ \"This is a string\", 11 ]))\nconsole.out(\"%s %s\".$(\"This is a string\", 11))\nvar arr = [ \"12.3\", 13.6 ]; console.out(\"Array: %s\".$(arr));\nvar obj = { test:\"test\", id:12 }; console.out(\"Object: %s\".$(obj));\nconsole.out(\"%c\", \"Test\");\nconsole.out(\"%5d\".$(12)); // '   12'\nconsole.out(\"%05d\".$(12)); // '00012'\nconsole.out(\"%-5d\".$(12)); // '12   '\nconsole.out(\"%5.2d\".$(123)); // '  120'\nconsole.out(\"%5.2f\".$(1.1)); // ' 1.10'\nconsole.out(\"%10.2e\".$(1.1)); // '   1.10e+0'\nconsole.out(\"%5.3p\".$(1.12345)); // ' 1.12'\nconsole.out(\"%5x\".$(45054)); // ' affe'\nconsole.out(\"%20#2x\".$(\"45054\")); // '    1010111111111110'\nconsole.out(\"%6#2d\".$(\"111\")); // '     7'\nconsole.out(\"%6#16d\".$(\"affe\")); // ' 45054'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can use this function</p>\n\n<pre><code>            String.prototype.format = function (args) {\n            var str = this;\n            return str.replace(String.prototype.format.regex, function(item) {\n                var intVal = parseInt(item.substring(1, item.length - 1));\n                var replace;\n                if (intVal &gt;= 0) {\n                    replace = args[intVal];\n                } else if (intVal === -1) {\n                    replace = \"{\";\n                } else if (intVal === -2) {\n                    replace = \"}\";\n                } else {\n                    replace = \"\";\n                }\n                return replace;\n            });\n        };\n        String.prototype.format.regex = new RegExp(\"{-?[0-9]+}\", \"g\");\n\n        // Sample usage.\n        var str = \"She {1} {0}{2} by the {0}{3}. {-1}^_^{-2}\";\n        str = str.format([\"sea\", \"sells\", \"shells\", \"shore\"]);\n        alert(str);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For use with jQuery.ajax() success functions.  Pass only a single argument and string replace with the properties of that object as {propertyName}:</p>\n\n<pre><code>String.prototype.format = function () {\n    var formatted = this;\n    for (var prop in arguments[0]) {\n        var regexp = new RegExp('\\\\{' + prop + '\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[0][prop]);\n    }\n    return formatted;\n};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var userInfo = (\"Email: {Email} - Phone: {Phone}\").format({ Email: \"someone@somewhere.com\", Phone: \"123-123-1234\" });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>With sprintf.js in place - one can make a nifty little format-thingy </p>\n\n<pre><code>String.prototype.format = function(){\n    var _args = arguments \n    Array.prototype.unshift.apply(_args,[this])\n    return sprintf.apply(undefined,_args)\n}   \n// this gives you:\n\"{%1$s}{%2$s}\".format(\"1\", \"0\")\n// {1}{0}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Adding to <code>zippoxer</code>'s answer, I use this function:</p>\n\n<pre><code>String.prototype.format = function(){\n    var a = this, b;\n    for(b in arguments){\n        a = a.replace(/%[a-z]/,arguments[b]);\n    }\n    return a; // Make chainable\n};\n\nvar s = 'Hello %s The magic number is %d.';\ns.format('world!', 12); // Hello World! The magic number is 12.\n</code></pre>\n\n<p>I also have a non-prototype version which I use more often for its Java-like syntax:</p>\n\n<pre><code>function format(){\n    var a,b,c;\n    a = arguments[0];\n    b = [];\n    for(c = 1; c &lt; arguments.length; c++){\n        b.push(arguments[c]);\n    }\n    for(c in b){\n        a = a.replace(/%[a-z]/,b[c]);\n    }\n    return a;\n};\nformat('%d ducks, 55 %s', 12, 'cats'); // 12 ducks, 55 cats\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://www.bobjs.com\" rel=\"nofollow\">bobjs</a> can do this:</p>\n\n<pre><code>var sFormat = \"My name is {0} and I am {1} years old.\"; \nvar result = bob.string.formatString(sFormat, \"Bob\", 29); \nconsole.log(result); \n//output: \n//========== \n// My name is Bob and I am 29 years old. \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>String.prototype.repeat = function(n) { \n    return new Array(++n).join(this); \n};\n\nString.prototype.pad = function(requiredLength, paddingStr, paddingType) {    \n    var n = requiredLength - this.length; \n\n    if (n) {\n        paddingType = paddingType ? paddingType.toLowerCase() : '';\n        paddingStr = paddingStr || ' ';\n        paddingStr = paddingStr.repeat( Math.ceil(n / paddingStr.length) ).substr(0, n);\n\n        if (paddingType == 'both') {\n            n /= 2;\n            return paddingStr.substr( 0, Math.ceil(n) ) + this + paddingStr.substr( 0, Math.floor(n) );\n        }   \n\n        if (paddingType == 'left') {\n            return paddingStr + this;\n        }\n\n        return this + paddingStr;\n    } \n\n    return this; \n}; \n\n// \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u0435\u043d printf\n// '\u041f\u0440\u0438\u0432\u0435\u0442, %s!'.format('\u043c\u0438\u0440') -&gt; \"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440!\"\n// '%.1s.%.1s. %s'.format('\u0418\u0432\u0430\u043d', '\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447', '\u0418\u0432\u0430\u043d\u043e\u0432') -&gt; \"\u0418.\u0418. \u0418\u0432\u0430\u043d\u043e\u0432\"\nString.prototype.format = function() {\n    var i = 0, \n        params = arguments;\n\n    return this.replace(/%(?:%|(?:(|[+-]+)(|0|'.+?)([1-9]\\d*)?(?:\\.([1-9]\\d*))?)?(s|d|f))/g, function(match, sign, padding, width, precision, type) {\n        if (match == '%%') { \n            return '%'; \n        }\n\n        var v = params[i++];\n\n        if (type == 'd') { \n            v = Math.round(v); \n        }\n        else if (type == 'f') {\n            v = v.toFixed(precision ? precision : 6);\n        }\n\n        if (/\\+/.test(sign) &amp;&amp; v &gt; 0) {\n            v = '+' + v;\n        }\n\n        v += '';\n\n        if (type != 'f' &amp;&amp; precision) {\n            v = v.substr(0, precision);\n        }\n\n        if (width) {\n            v = v.pad(width, padding == '' ? ' ' : padding[0] == \"'\" ? padding.substr(1) : padding, /-/.test(sign) ? 'right' : 'left'); \n        }\n\n        return v;\n    });\n};\n\n// this.name = '\u0412\u0430\u0441\u044f';\n// console.log( '\u041f\u0440\u0438\u0432\u0435\u0442, ${name}!'.template(this) );\n// \"\u041f\u0440\u0438\u0432\u0435\u0442, \u0412\u0430\u0441\u044f!\"\nString.prototype.template = function(context) {\n    return this.replace(/\\$\\{(.*?)\\}/g, function(match, name) {\n        return context[name];\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was looking for a good C#-like <code>String.format</code> function, but I simply couldn't find one. I didn't like the sprintf answer in this article, so I decided to code my own:</p>\n\n<pre><code>var $format = function($string)\n{\n    // Get the arguments\n    var $arguments = arguments;\n\n    // Return the formatted string\n    return $string.format(/\\{([0-9]{1,2})\\}/g, function($0, $1)\n    {\n        // Get the argument index\n        var $argumentIndex = parseInt($1, 10) + 1;\n\n        // If the argument index exceeded the number of arguments, use the match as the replacement\n        if ($argumentIndex &gt;= $arguments.length)\n            return $0;\n\n        // Get the argument\n        var $argument = $arguments[$argumentIndex];\n\n        // Catch null and undefined\n        if ($argument === null || $argument === undefined)\n            return '';\n\n        // Use the argument as the replacement\n        return $argument.toString();\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is an implementation of <a href=\"http://stackoverflow.com/a/4673436/1258486\">http://stackoverflow.com/a/4673436/1258486</a> for CoffeeScript.</p>\n\n<p><a href=\"https://gist.github.com/eces/5669361\" rel=\"nofollow\">https://gist.github.com/eces/5669361</a></p>\n\n<pre><code>if String.prototype.format is undefined\n  String.prototype.format = () -&gt;\n    _arguments = arguments\n    this.replace /{(\\d+)}/g, (match, number) -&gt;\n      if typeof _arguments[number] isnt 'undefined' then _arguments[number] else match\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I needed a function which could format a price (given in cents) in a way preferred by the user, and the tricky part is that the format is specified by the user -- and I do not expect my users to understand printf-like syntax, or regexps, etc.\nMy solution is somewhat similar to that used in Basic, so the user just marks with # places for digits, for example:</p>\n\n<pre><code>simple_format(1234567,\"$ ###,###,###.##\")\n\"$ 12,345.67\"\nsimple_format(1234567,\"### ### ###,## pln\")\n\"12 345,67 pln\"\n</code></pre>\n\n<p>I believe this is quite easy to understand by user, and quite easy to implement:</p>\n\n<pre><code>function simple_format(integer,format){\n  var text = \"\";\n  for(var i=format.length;i--;){\n    if(format[i]=='#'){\n      text = (integer%10) + text;\n      integer=Math.floor(integer/10);\n      if(integer==0){\n        return format.substr(0,i).replace(/#(.*#)?/,\"\")+text;\n      }\n    }else{\n      text = format[i] + text;\n    }\n  }\n  return text;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>It's funny because Stack&nbsp;Overflow actually has their own formatting function for the <code>String</code> prototype called <code>formatUnicorn</code>. Try it! Go into the console and type something like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jYeIc.png\" alt=\"Firebug\"></p>\n\n<p>You get this output:</p>\n\n<p><code>Hello, Gabriel, are you feeling OK?</code></p>\n\n<p>You can use objects, arrays, and strings as arguments! I got its code and reworked it to produce a new version of <code>String.prototype.format</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (!String.prototype.format) {\n    String.prototype.format = function() {\n        var str = this.toString();\n        if (!arguments.length)\n            return str;\n        var args = typeof arguments[0],\n            args = ((\"string\" == args || \"number\" == args) ? arguments : arguments[0]);\n        for (arg in args)\n            str = str.replace(RegExp(\"\\\\{\" + arg + \"\\\\}\", \"gi\"), args[arg]);\n        return str;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 78
                },
                {
                    "body": "<p>I use this one:</p>\n\n<pre><code>String.prototype.format = function() {\n    var newStr = this, i = 0;\n    while (/%s/.test(newStr))\n        newStr = newStr.replace(\"%s\", arguments[i++])\n\n    return newStr;\n}\n</code></pre>\n\n<p>Then I call it:</p>\n\n<pre><code>\"&lt;h1&gt;%s&lt;/h1&gt;&lt;p&gt;%s&lt;/p&gt;\".format(\"Header\", \"Just a test!\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>For <a href=\"http://en.wikipedia.org/wiki/Node.js\" rel=\"nofollow\">Node.js</a> users there is <a href=\"http://nodejs.org/api/util.html#util_util_format_format\" rel=\"nofollow\"><code>util.format</code></a> which has printf-like functionality:</p>\n\n<pre><code>util.format(\"%s world\", \"Hello\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have a solution very close to Peter's, but it deals with number and object case.</p>\n\n<pre><code>if (!String.prototype.format) {\n  String.prototype.format = function() {\n    var args;\n    args = arguments;\n    if (args.length === 1 &amp;&amp; args[0] !== null &amp;&amp; typeof args[0] === 'object') {\n      args = args[0];\n    }\n    return this.replace(/{([^}]*)}/g, function(match, key) {\n      return (typeof args[key] !== \"undefined\" ? args[key] : match);\n    });\n  };\n}\n</code></pre>\n\n<p>Maybe it could be even better to deal with the all deeps cases, but for my needs this is just fine.</p>\n\n<pre><code>\"This is an example from {name}\".format({name:\"Blaine\"});\n\"This is an example from {0}\".format(\"Blaine\");\n</code></pre>\n\n<p>PS: This function is very cool if you are using translations in templates frameworks like <a href=\"http://en.wikipedia.org/wiki/AngularJS\" rel=\"nofollow\">AngularJS</a>:</p>\n\n<pre><code>&lt;h1&gt; {{('hello-message'|translate).format(user)}} &lt;h1&gt;\n&lt;h1&gt; {{('hello-by-name'|translate).format( user ? user.name : 'You' )}} &lt;h1&gt;\n</code></pre>\n\n<p>Where the en.json is something like</p>\n\n<pre><code>{\n    \"hello-message\": \"Hello {name}, welcome.\",\n    \"hello-by-name\": \"Hello {0}, welcome.\"\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I didn't see <a href=\"https://www.npmjs.org/package/pyformat\" rel=\"nofollow\">pyformat</a> in the list so I thought I'd throw it in:</p>\n\n<pre><code>console.log(pyformat( 'The {} {} jumped over the {}'\n                , ['brown' ,'fox' ,'foobar']\n                ))\nconsole.log(pyformat('The {0} {1} jumped over the {1}'\n                , ['brown' ,'fox' ,'foobar']\n                ))\nconsole.log(pyformat('The {color} {animal} jumped over the {thing}'\n                , [] ,{color: 'brown' ,animal: 'fox' ,thing: 'foobaz'}\n                ))\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I started porting the <code>Java</code> <code>String.format</code> (actually new Formatter().format()) to javascript. The initial version is available at: </p>\n\n<p><a href=\"https://github.com/RobAu/javascript.string.format\" rel=\"nofollow\">https://github.com/RobAu/javascript.string.format</a></p>\n\n<p>You can simple add the javscript and call <code>StringFormat.format(\"%.2f\", [2.4]);</code> etc.</p>\n\n<p>Please note it is NOT finished yet, but feedback is welcome :) </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just in case someone needs a function to prevent polluting global scope, here is the function that does the same:</p>\n\n<pre><code>  function _format (str, arr) {\n    return str.replace(/{(\\d+)}/g, function (match, number) {\n      return typeof arr[number] != 'undefined' ? arr[number] : match;\n    });\n  };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For those who like <a href=\"http://nodejs.org\" rel=\"nofollow\">Node.JS</a> and its <a href=\"http://nodejs.org/api/util.html#util_util_format_format\" rel=\"nofollow\"><code>util.format</code></a> feature, I've just extracted it out into its vanilla JavaScript form (with only functions that util.format uses):</p>\n\n<pre><code>exports = {};\n\nfunction isString(arg) {\n    return typeof arg === 'string';\n}\nfunction isNull(arg) {\n    return arg === null;\n}\nfunction isObject(arg) {\n    return typeof arg === 'object' &amp;&amp; arg !== null;\n}\nfunction isBoolean(arg) {\n    return typeof arg === 'boolean';\n}\nfunction isUndefined(arg) {\n    return arg === void 0;\n}\nfunction stylizeNoColor(str, styleType) {\n    return str;\n}\nfunction stylizeWithColor(str, styleType) {\n    var style = inspect.styles[styleType];\n\n    if (style) {\n        return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n            '\\u001b[' + inspect.colors[style][3] + 'm';\n    } else {\n        return str;\n    }\n}\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\nfunction isNumber(arg) {\n    return typeof arg === 'number';\n}\nfunction isSymbol(arg) {\n    return typeof arg === 'symbol';\n}\nfunction formatPrimitive(ctx, value) {\n    if (isUndefined(value))\n        return ctx.stylize('undefined', 'undefined');\n    if (isString(value)) {\n        var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                .replace(/'/g, \"\\\\'\")\n                .replace(/\\\\\"/g, '\"') + '\\'';\n        return ctx.stylize(simple, 'string');\n    }\n    if (isNumber(value)) {\n        // Format -0 as '-0'. Strict equality won't distinguish 0 from -0,\n        // so instead we use the fact that 1 / -0 &lt; 0 whereas 1 / 0 &gt; 0 .\n        if (value === 0 &amp;&amp; 1 / value &lt; 0)\n            return ctx.stylize('-0', 'number');\n        return ctx.stylize('' + value, 'number');\n    }\n    if (isBoolean(value))\n        return ctx.stylize('' + value, 'boolean');\n    // For some reason typeof null is \"object\", so special case here.\n    if (isNull(value))\n        return ctx.stylize('null', 'null');\n    // es6 symbol primitive\n    if (isSymbol(value))\n        return ctx.stylize(value.toString(), 'symbol');\n}\nfunction arrayToHash(array) {\n    var hash = {};\n\n    array.forEach(function (val, idx) {\n        hash[val] = true;\n    });\n\n    return hash;\n}\nfunction objectToString(o) {\n    return Object.prototype.toString.call(o);\n}\nfunction isDate(d) {\n    return isObject(d) &amp;&amp; objectToString(d) === '[object Date]';\n}\nfunction isError(e) {\n    return isObject(e) &amp;&amp;\n        (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nfunction isRegExp(re) {\n    return isObject(re) &amp;&amp; objectToString(re) === '[object RegExp]';\n}\nfunction formatError(value) {\n    return '[' + Error.prototype.toString.call(value) + ']';\n}\nfunction formatPrimitiveNoColor(ctx, value) {\n    var stylize = ctx.stylize;\n    ctx.stylize = stylizeNoColor;\n    var str = formatPrimitive(ctx, value);\n    ctx.stylize = stylize;\n    return str;\n}\nfunction isArray(ar) {\n    return Array.isArray(ar);\n}\nfunction hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n    var name, str, desc;\n    desc = Object.getOwnPropertyDescriptor(value, key) || {value: value[key]};\n    if (desc.get) {\n        if (desc.set) {\n            str = ctx.stylize('[Getter/Setter]', 'special');\n        } else {\n            str = ctx.stylize('[Getter]', 'special');\n        }\n    } else {\n        if (desc.set) {\n            str = ctx.stylize('[Setter]', 'special');\n        }\n    }\n    if (!hasOwnProperty(visibleKeys, key)) {\n        name = '[' + key + ']';\n    }\n    if (!str) {\n        if (ctx.seen.indexOf(desc.value) &lt; 0) {\n            if (isNull(recurseTimes)) {\n                str = formatValue(ctx, desc.value, null);\n            } else {\n                str = formatValue(ctx, desc.value, recurseTimes - 1);\n            }\n            if (str.indexOf('\\n') &gt; -1) {\n                if (array) {\n                    str = str.split('\\n').map(function (line) {\n                        return '  ' + line;\n                    }).join('\\n').substr(2);\n                } else {\n                    str = '\\n' + str.split('\\n').map(function (line) {\n                        return '   ' + line;\n                    }).join('\\n');\n                }\n            }\n        } else {\n            str = ctx.stylize('[Circular]', 'special');\n        }\n    }\n    if (isUndefined(name)) {\n        if (array &amp;&amp; key.match(/^\\d+$/)) {\n            return str;\n        }\n        name = JSON.stringify('' + key);\n        if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n            name = name.substr(1, name.length - 2);\n            name = ctx.stylize(name, 'name');\n        } else {\n            name = name.replace(/'/g, \"\\\\'\")\n                .replace(/\\\\\"/g, '\"')\n                .replace(/(^\"|\"$)/g, \"'\")\n                .replace(/\\\\\\\\/g, '\\\\');\n            name = ctx.stylize(name, 'string');\n        }\n    }\n\n    return name + ': ' + str;\n}\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n    var output = [];\n    for (var i = 0, l = value.length; i &lt; l; ++i) {\n        if (hasOwnProperty(value, String(i))) {\n            output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n                String(i), true));\n        } else {\n            output.push('');\n        }\n    }\n    keys.forEach(function (key) {\n        if (!key.match(/^\\d+$/)) {\n            output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n                key, true));\n        }\n    });\n    return output;\n}\nfunction reduceToSingleString(output, base, braces) {\n    var length = output.reduce(function (prev, cur) {\n        return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n    }, 0);\n\n    if (length &gt; 60) {\n        return braces[0] +\n            (base === '' ? '' : base + '\\n ') +\n            ' ' +\n            output.join(',\\n  ') +\n            ' ' +\n            braces[1];\n    }\n\n    return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\nfunction formatValue(ctx, value, recurseTimes) {\n    // Provide a hook for user-specified inspect functions.\n    // Check that value is an object with an inspect function on it\n    if (ctx.customInspect &amp;&amp;\n        value &amp;&amp;\n        isFunction(value.inspect) &amp;&amp;\n            // Filter out the util module, it's inspect function is special\n        value.inspect !== exports.inspect &amp;&amp;\n            // Also filter out any prototype objects using the circular check.\n        !(value.constructor &amp;&amp; value.constructor.prototype === value)) {\n        var ret = value.inspect(recurseTimes, ctx);\n        if (!isString(ret)) {\n            ret = formatValue(ctx, ret, recurseTimes);\n        }\n        return ret;\n    }\n\n    // Primitive types cannot have properties\n    var primitive = formatPrimitive(ctx, value);\n    if (primitive) {\n        return primitive;\n    }\n\n    // Look up the keys of the object.\n    var keys = Object.keys(value);\n    var visibleKeys = arrayToHash(keys);\n\n    if (ctx.showHidden) {\n        keys = Object.getOwnPropertyNames(value);\n    }\n\n    // This could be a boxed primitive (new String(), etc.), check valueOf()\n    // NOTE: Avoid calling `valueOf` on `Date` instance because it will return\n    // a number which, when object has some additional user-stored `keys`,\n    // will be printed out.\n    var formatted;\n    var raw = value;\n    try {\n        // the .valueOf() call can fail for a multitude of reasons\n        if (!isDate(value))\n            raw = value.valueOf();\n    } catch (e) {\n        // ignore...\n    }\n\n    if (isString(raw)) {\n        // for boxed Strings, we have to remove the 0-n indexed entries,\n        // since they just noisey up the output and are redundant\n        keys = keys.filter(function (key) {\n            return !(key &gt;= 0 &amp;&amp; key &lt; raw.length);\n        });\n    }\n\n    // Some type of object without properties can be shortcutted.\n    if (keys.length === 0) {\n        if (isFunction(value)) {\n            var name = value.name ? ': ' + value.name : '';\n            return ctx.stylize('[Function' + name + ']', 'special');\n        }\n        if (isRegExp(value)) {\n            return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n        }\n        if (isDate(value)) {\n            return ctx.stylize(Date.prototype.toString.call(value), 'date');\n        }\n        if (isError(value)) {\n            return formatError(value);\n        }\n        // now check the `raw` value to handle boxed primitives\n        if (isString(raw)) {\n            formatted = formatPrimitiveNoColor(ctx, raw);\n            return ctx.stylize('[String: ' + formatted + ']', 'string');\n        }\n        if (isNumber(raw)) {\n            formatted = formatPrimitiveNoColor(ctx, raw);\n            return ctx.stylize('[Number: ' + formatted + ']', 'number');\n        }\n        if (isBoolean(raw)) {\n            formatted = formatPrimitiveNoColor(ctx, raw);\n            return ctx.stylize('[Boolean: ' + formatted + ']', 'boolean');\n        }\n    }\n\n    var base = '', array = false, braces = ['{', '}'];\n\n    // Make Array say that they are Array\n    if (isArray(value)) {\n        array = true;\n        braces = ['[', ']'];\n    }\n\n    // Make functions say that they are functions\n    if (isFunction(value)) {\n        var n = value.name ? ': ' + value.name : '';\n        base = ' [Function' + n + ']';\n    }\n\n    // Make RegExps say that they are RegExps\n    if (isRegExp(value)) {\n        base = ' ' + RegExp.prototype.toString.call(value);\n    }\n\n    // Make dates with properties first say the date\n    if (isDate(value)) {\n        base = ' ' + Date.prototype.toUTCString.call(value);\n    }\n\n    // Make error with message first say the error\n    if (isError(value)) {\n        base = ' ' + formatError(value);\n    }\n\n    // Make boxed primitive Strings look like such\n    if (isString(raw)) {\n        formatted = formatPrimitiveNoColor(ctx, raw);\n        base = ' ' + '[String: ' + formatted + ']';\n    }\n\n    // Make boxed primitive Numbers look like such\n    if (isNumber(raw)) {\n        formatted = formatPrimitiveNoColor(ctx, raw);\n        base = ' ' + '[Number: ' + formatted + ']';\n    }\n\n    // Make boxed primitive Booleans look like such\n    if (isBoolean(raw)) {\n        formatted = formatPrimitiveNoColor(ctx, raw);\n        base = ' ' + '[Boolean: ' + formatted + ']';\n    }\n\n    if (keys.length === 0 &amp;&amp; (!array || value.length === 0)) {\n        return braces[0] + base + braces[1];\n    }\n\n    if (recurseTimes &lt; 0) {\n        if (isRegExp(value)) {\n            return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n        } else {\n            return ctx.stylize('[Object]', 'special');\n        }\n    }\n\n    ctx.seen.push(value);\n\n    var output;\n    if (array) {\n        output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n    } else {\n        output = keys.map(function (key) {\n            return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n        });\n    }\n\n    ctx.seen.pop();\n\n    return reduceToSingleString(output, base, braces);\n}\nfunction inspect(obj, opts) {\n    // default options\n    var ctx = {\n        seen: [],\n        stylize: stylizeNoColor\n    };\n    // legacy...\n    if (arguments.length &gt;= 3) ctx.depth = arguments[2];\n    if (arguments.length &gt;= 4) ctx.colors = arguments[3];\n    if (isBoolean(opts)) {\n        // legacy...\n        ctx.showHidden = opts;\n    } else if (opts) {\n        // got an \"options\" object\n        exports._extend(ctx, opts);\n    }\n    // set default options\n    if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n    if (isUndefined(ctx.depth)) ctx.depth = 2;\n    if (isUndefined(ctx.colors)) ctx.colors = false;\n    if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n    if (ctx.colors) ctx.stylize = stylizeWithColor;\n    return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n    'bold': [1, 22],\n    'italic': [3, 23],\n    'underline': [4, 24],\n    'inverse': [7, 27],\n    'white': [37, 39],\n    'grey': [90, 39],\n    'black': [30, 39],\n    'blue': [34, 39],\n    'cyan': [36, 39],\n    'green': [32, 39],\n    'magenta': [35, 39],\n    'red': [31, 39],\n    'yellow': [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n    'special': 'cyan',\n    'number': 'yellow',\n    'boolean': 'yellow',\n    'undefined': 'grey',\n    'null': 'bold',\n    'string': 'green',\n    'symbol': 'green',\n    'date': 'magenta',\n    // \"name\": intentionally not styling\n    'regexp': 'red'\n};\n\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function (f) {\n    if (!isString(f)) {\n        var objects = [];\n        for (var j = 0; j &lt; arguments.length; j++) {\n            objects.push(inspect(arguments[j]));\n        }\n        return objects.join(' ');\n    }\n\n    var i = 1;\n    var args = arguments;\n    var len = args.length;\n    var str = String(f).replace(formatRegExp, function (x) {\n        if (x === '%%') return '%';\n        if (i &gt;= len) return x;\n        switch (x) {\n            case '%s':\n                return String(args[i++]);\n            case '%d':\n                return Number(args[i++]);\n            case '%j':\n                try {\n                    return JSON.stringify(args[i++]);\n                } catch (_) {\n                    return '[Circular]';\n                }\n            default:\n                return x;\n        }\n    });\n    for (var x = args[i]; i &lt; len; x = args[++i]) {\n        if (isNull(x) || !isObject(x)) {\n            str += ' ' + x;\n        } else {\n            str += ' ' + inspect(x);\n        }\n    }\n    return str;\n};\n</code></pre>\n\n<p>Harvested from: <a href=\"https://github.com/joyent/node/blob/master/lib/util.js\" rel=\"nofollow\">https://github.com/joyent/node/blob/master/lib/util.js</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm looking for a good JavaScript equivalent of the C/PHP <code>printf()</code> or for C#/Java programmers, <code>String.Format()</code> (<code>IFormatProvider</code> for .NET).</p>\n\n<p>My basic requirement is a thousand separator format for numbers for now, but something that handles lots of combinations (including dates) would be good.</p>\n\n<p>I realize Microsoft's <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a> library provides a version of <code>String.Format()</code>, but we don't want the entire overhead of that framework.</p>\n",
            "last_activity_date": 1425676697,
            "question_id": 610406,
            "score": 825,
            "tags": [
                "javascript",
                "printf",
                "string.format"
            ],
            "title": "JavaScript equivalent to printf/string.format"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>The <code>ready</code> event occurs after the HTML document has been loaded, while the <code>onload</code> event occurs later, when all content (e.g. images) also has been loaded.</p>\n\n<p>The <code>onload</code> event is a standard event in the DOM, while the <code>ready</code> event is specific to jQuery. The purpose of the <code>ready</code> event is that it should occur as early as possible after the document has loaded, so that code that adds functionality to the elements in the page doesn't have to wait for all content to load.</p>\n",
                    "is_accepted": true,
                    "score": 556
                },
                {
                    "body": "<p><code>window.onload</code> is the built-in Javascript event, but as its implementation had <em>subtle</em> quirks across browsers (FF/IE6/IE8/Opera), jQuery provides document.ready, which abstracts those away, and fires as soon as the page's DOM is ready (doesn't wait for images etc.).</p>\n\n<p><code>$(document).ready</code> (note that it's <em>not</em> <code>document.ready</code>, which is undefined) is a jQuery function, wrapping and providing <em>consistency</em> to the following events:</p>\n\n<ul>\n<li><code>document.ondomcontentready</code> / <code>document.ondomcontentloaded</code> - a newish event which fires when the document's DOM is loaded (which may be some time <em>before</em> the images etc. are loaded); again, slightly different in IE and in rest of the world</li>\n<li>and window.onload (which is implemented even in old browsers), which fires when the entire page loads (images, styles, etc.) </li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 56
                },
                {
                    "body": "<p>A word of caution on using <code>$(document).ready()</code> with Internet Explorer.  If an HTTP request is interrupted <em>before</em> the entire document is loaded (for example, while a page is streaming to the browser, another link is clicked) IE will trigger the <code>$(document).ready</code> event.  </p>\n\n<p>If any code within the <code>$(document).ready()</code> event references DOM objects, the potential exists for those objects to be not found, and Javascript errors can occur.  Either guard your references to those objects, or defer code which references those objects to the window.load event. </p>\n\n<p>I have not been able to reproduce this problem in other browsers (specifically, Chrome and Firefox)</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><strong>window.onload :</strong> <em>A normal JavaScript event.</em></p>\n\n<p><strong>document.ready :</strong> <em>An specific jQuery event when the entire HTML have been loaded.</em></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>document.ready()</code> is a jQuery event.  JQuery\u2019s <code>document.ready()</code> method gets called as soon as the DOM is ready (which means that the browser has parsed the HTML and built the DOM tree). This allows you to run code as soon as the document is ready to be manipulated.  </p>\n\n<p>For example, if a browser supports the DOMContentLoaded event (as many non-IE browsers do), then it will fire on that event. However, IE can\u2019t safely fire until the document\u2019s readyState reaches \u201ccomplete\u201d, which is typically later.</p>\n\n<p>Two syntaxes can be used for this: </p>\n\n<pre><code>$(document).ready(function)\n</code></pre>\n\n<p>The ready() method can only be used on the current document, so no selector is required:</p>\n\n<pre><code>$(function)\n</code></pre>\n\n<p><strong>Main points for <code>document.ready()</code>:</strong></p>\n\n<ul>\n<li>It will not wait for the images to get loaded. </li>\n<li>Used to execute JavaScript when the DOM is completely loaded. Put event handlers here.</li>\n<li>Can be used multiple times.</li>\n<li>Replace <code>$</code> with <code>jQuery</code> when you receive \u201c$ is not defined.\u201d</li>\n<li>Not used if you want to manipulate images  Use <code>$(window).load()</code> instead.  </li>\n</ul>\n\n<p><code>window.onload()</code> is a JavaScript function. The load event fires when all the content on your page has loaded, including the DOM (document object model) banner ads and images. Another difference between the two is we can have more than one <code>document.ready()</code> function in a web page but only one <code>onload</code> function.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p><strong>Windows load</strong> event fires when all the content on your page fully loaded including the DOM (document object model) content, <strong>asynchronous JavaScript</strong>, <strong>frames and images</strong>, you can also use body onload= both are same just <code>window.onload = function(){}</code> and <code>&lt;body onload=\"func();\"&gt;</code> are different ways of using the same event.</p>\n\n<p><strong>jQuery <code>$document.ready</code></strong> function event executes a bit earlier than <code>window.onload</code> and called once the DOM(Document object model) is loaded on your page. It will not wait for the <strong>images, frames to get fully load</strong>.</p>\n\n<p>Taken from the following article:\n<a href=\"http://www.dotnetbull.com/2013/08/document-ready-vs-window-onload.html\">how <code>$document.ready()</code> is different from <code>window.onload()</code></a></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>One thing to remember (or should I say recall) is that you cannot stack onloads like you can with ready.  In other words, jQuery magic allows multiple readys on the same page but you can't do that with onload.</p>\n\n<p>The last onload will overrule any previous onloads.</p>\n\n<p>A nice way to deal with that is with a function apparently written by one Simon Willison and described here in this <a href=\"http://www.htmlgoodies.com/beyond/javascript/article.php/3724571\" rel=\"nofollow\">post</a></p>\n\n<pre><code>function addLoadEvent(func) {\n  var oldonload = window.onload;\n  if (typeof window.onload != 'function') {\n    window.onload = func;\n  } else {\n    window.onload = function() {\n      if (oldonload) {\n        oldonload();\n     }\n      func();\n    }\n  }\n}\n\n//example use:\naddLoadEvent(nameOfSomeFunctionToRunOnPageLoad);\naddLoadEvent(function() {\n  /* more code to run on page load */\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h1>Events</h1>\n\n<p><code>$(document).on('ready', handler)</code> binds to the ready event from jquery. The handler is called <strong>when the DOM is loaded</strong>. Assets like <strong>images maybe still are missing</strong>. It will never be called if the document is ready at the time of binding. jQuery uses the <a href=\"https://developer.mozilla.org/en-US/docs/Web/Reference/Events/DOMContentLoaded\"><em>DOMContentLoaded</em></a>-Event for that, emulating it if not available.</p>\n\n<p><code>$(document).on('load', handler)</code> is an event that will be fired once all <strong>resources are loaded</strong> from the server. Images are loaded now. While <a href=\"http://www.w3schools.com/jsref/event_onload.asp\">onload</a> is a raw HTML event, <a href=\"http://api.jquery.com/ready/\">ready</a> is built by jQuery.</p>\n\n<h1>Functions</h1>\n\n<p><code>$(document).ready(handler)</code> actually is a <a href=\"http://api.jquery.com/promise/\">promise</a>. <strong>The handler will be called immediately if its already there</strong>. Otherwise it binds to the <code>ready</code>-Event.</p>\n\n<p><code>$(document).load(handler)</code> behaves same as binding to the <code>load</code>-event. <strong>Unlike <code>$.fn.ready</code>, it will not call through immediately</strong>.</p>\n\n<h1>Further Reading</h1>\n\n<ul>\n<li><a href=\"http://www.dotnetbull.com/2013/08/document-ready-vs-window-onload.html\">the timing</a></li>\n<li><a href=\"http://api.jquery.com/ready/\">on the function ready</a></li>\n<li><a href=\"http://jsfiddle.net/2RyKn/1/\">an example</a></li>\n<li><a href=\"http://api.jquery.com/promise/\">promises</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>$(document).ready(function() {\n\n// executes when HTML-Document is loaded and DOM is ready\n alert(\"document is ready\");\n});\n\n$(window).load(function() {\n\n // executes when complete page is fully loaded, including all frames, objects and images\n alert(\"window is loaded\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>window.onload is javascript inbuilt function. window.onload trigger when html page loaded.\nwindow.onload can be written only once.</p>\n\n<p>document.ready is a function of jquery library. document.ready trigger when html and all js, css, images which included in html file completely loaded. \ndocument.ready can be written multiple time according to requirement. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Document.ready (a jQuery event) will fire when all the elements are in place, and they can be referenced in the JS code, but the content is not necessarily loaded. Document.ready executes when HTML-Document is loaded</p>\n\n<pre><code>$(document).ready(function() {\n\n// code to be executed\nalert(\"document is ready\");\n});\n</code></pre>\n\n<p>The window.load however will wait for the page to be fully loaded, this includes inner frames, images etc. </p>\n\n<pre><code>$(window).load(function() {\n\n//Fire when page is loaded completely\nalert(\"window is loaded\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What are the differences between JavaScript's <code>window.onload</code> and JQuery's <code>$(document).ready()</code> method?</p>\n",
            "last_activity_date": 1425365565,
            "question_id": 3698200,
            "score": 500,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "unobtrusive-javascript"
            ],
            "title": "window.onload vs $(document).ready()"
        },
        {
            "answer_count": 24,
            "answers": [
                {
                    "body": "<p>JavaScript has nothing built in for handling query string parameters. </p>\n\n<p>You could access <code>location.search</code>, which would give you from the ? character on to the end of the fragment identifer (#foo), whichever came first.</p>\n\n<p>This suggests that you have written (or found some third party) code for reading the query string and accessing just the bit that you want - but you haven't shared it with us, so it is hard to say what is wrong with it.</p>\n\n<p>The code I generally use is this:</p>\n\n<pre><code>var QueryString = function () {\n  // This function is anonymous, is executed immediately and \n  // the return value is assigned to QueryString!\n  var query_string = {};\n  var query = window.location.search.substring(1);\n  var vars = query.split(\"&amp;\");\n  for (var i=0;i&lt;vars.length;i++) {\n    var pair = vars[i].split(\"=\");\n        // If first entry with this name\n    if (typeof query_string[pair[0]] === \"undefined\") {\n      query_string[pair[0]] = pair[1];\n        // If second entry with this name\n    } else if (typeof query_string[pair[0]] === \"string\") {\n      var arr = [ query_string[pair[0]], pair[1] ];\n      query_string[pair[0]] = arr;\n        // If third or later entry with this name\n    } else {\n      query_string[pair[0]].push(pair[1]);\n    }\n  } \n    return query_string;\n} ();\n</code></pre>\n\n<p>You can then access <code>QueryString.c</code></p>\n",
                    "is_accepted": true,
                    "score": 315
                },
                {
                    "body": "<p>You can get the query string in <code>location.search</code>, then you can split everything after the question mark:</p>\n\n<pre><code>var params = {};\n\nif (location.search) {\n    var parts = location.search.substring(1).split('&amp;');\n\n    for (var i = 0; i &lt; parts.length; i++) {\n        var nv = parts[i].split('=');\n        if (!nv[0]) continue;\n        params[nv[0]] = nv[1] || true;\n    }\n}\n\n// Now you can get the parameters you want like so:\nvar abc = params.abc;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<pre><code>function gup( name, url ) {\n  if (!url) url = location.href\n  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n  var regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\n  var regex = new RegExp( regexS );\n  var results = regex.exec( url );\n  return results == null ? null : results[1];\n}\ngup('q', 'hxxp://xxx.com/?q=abc')\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 76
                },
                {
                    "body": "<p>Most implementations I've seen miss out URL-decoding the names and the values.</p>\n\n<p>Here's a general utility function that also does proper URL-decoding:</p>\n\n<pre><code>function getQueryParams(qs) {\n    qs = qs.split(\"+\").join(\" \");\n\n    var params = {}, tokens,\n        re = /[?&amp;]?([^=]+)=([^&amp;]*)/g;\n\n    while (tokens = re.exec(qs)) {\n        params[decodeURIComponent(tokens[1])]\n            = decodeURIComponent(tokens[2]);\n    }\n\n    return params;\n}\n\n//var query = getQueryParams(document.location.search);\n//alert(query.foo);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 98
                },
                {
                    "body": "<p>I use the <a href=\"http://stevenlevithan.com/demo/parseuri/js/\" rel=\"nofollow\">parseUri</a> library. It allows you to do exactly what you are asking for:</p>\n\n<pre><code>var uri = 'www.test.com/t.html&amp;a=1&amp;b=3&amp;c=m2-m3-m4-m5';\nvar c = uri.queryKey['c'];\n// c = 'm2-m3-m4-m5'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><a href=\"https://sourceforge.net/p/js-urlparam-omt/wiki/Home/\" rel=\"nofollow\">See this</a></p>\n\n<pre><code>function getURLParameters(paramName)\n{\n    var sURL = window.document.URL.toString();\n    if (sURL.indexOf(\"?\") &gt; 0)\n    {\n        var arrParams = sURL.split(\"?\");\n        var arrURLParams = arrParams[1].split(\"&amp;\");\n        var arrParamNames = new Array(arrURLParams.length);\n        var arrParamValues = new Array(arrURLParams.length);\n\n        var i = 0;\n        for (i = 0; i&lt;arrURLParams.length; i++)\n        {\n            var sParam =  arrURLParams[i].split(\"=\");\n            arrParamNames[i] = sParam[0];\n            if (sParam[1] != \"\")\n                arrParamValues[i] = unescape(sParam[1]);\n            else\n                arrParamValues[i] = \"No Value\";\n        }\n\n        for (i=0; i&lt;arrURLParams.length; i++)\n        {\n            if (arrParamNames[i] == paramName)\n            {\n                //alert(\"Parameter:\" + arrParamValues[i]);\n                return arrParamValues[i];\n            }\n        }\n        return \"No Parameters Found\";\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Here's a solution I find a little more readable -- but it will require a <code>.forEach()</code> shim for &lt; IE8:</p>\n\n<pre><code>var getParams = function () {\n  var params = {};\n  if (location.search) {\n    var parts = location.search.slice(1).split('&amp;');\n\n    parts.forEach(function (part) {\n      var pair = part.split('=');\n      pair[0] = decodeURIComponent(pair[0]);\n      pair[1] = decodeURIComponent(pair[1]);\n      params[pair[0]] = (pair[1] !== 'undefined') ?\n        pair[1] : true;\n    });\n  }\n  return params;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I found this ages ago, very easy:</p>\n\n<pre><code>function getUrlVars() {\n    var vars = {};\n    var parts = window.location.href.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi,    \n    function(m,key,value) {\n      vars[key] = value;\n    });\n    return vars;\n  }\n</code></pre>\n\n<p>Then call it like this:</p>\n\n<pre><code>var fType = getUrlVars()[\"type\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>THIS IS AN EASY WAY TO CHECK JUST ONE PARAMETER:</p>\n\n<p>Example URL:</p>\n\n<pre><code>    http://myserver/action?myParam=2\n</code></pre>\n\n<p>Example Javascript:</p>\n\n<pre><code>    var myParam = location.search.split('myParam=')[1]\n</code></pre>\n\n<p>if \"myParam\" exists in the URL... variable myParam will contain \"2\", otherwise it will be undefined.</p>\n\n<p>Maybe you want a default value, in that case:</p>\n\n<pre><code>    var myParam = location.search.split('myParam=')[1] ? location.search.split('myParam=')[1] : 'myDefaultValue';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 41
                },
                {
                    "body": "<p>Here is a recursive solution that has no regex, and has minimal mutation (only the params object is mutated, which I believe is unavoidable in JS).</p>\n\n<p><strong>It's awesome because it:</strong></p>\n\n<ul>\n<li>Is recursive</li>\n<li>Handles multiple parameters of the same name</li>\n<li>Deals well with malformed parameter strings (missing values, so on)</li>\n<li>Doesn't break if '=' is in the value</li>\n<li>Performs URL decoding</li>\n<li>IS RECURSIVE!</li>\n</ul>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>var get_params = function(search_string) {\n\n  var parse = function(params, pairs) {\n    var pair = pairs[0];\n    var parts = pair.split('=');\n    var key = decodeURIComponent(parts[0]);\n    var value = decodeURIComponent(parts.slice(1).join('='));\n\n    // Handle multiple parameters of the same name\n    if (typeof params[key] === \"undefined\") {\n      params[key] = value;\n    } else {\n      params[key] = [].concat(params[key], value);\n    }\n\n    return pairs.length == 1 ? params : parse(params, pairs.slice(1))\n  }\n\n  // Get rid of leading ?\n  return search_string.length == 0 ? {} : parse({}, search_string.substr(1).split('&amp;'));\n}\n\nvar params = get_params(location.search);\n\n// Finally, to get the param you want\nparams['c'];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I like writing shorthand as much as possible:</p>\n\n<p>URL: example.com/mortgage_calc.htm?pmts=120&amp;intr=6.8&amp;prin=10000</p>\n\n<p>Vanilla Javascript:</p>\n\n<pre><code>for ( var vObj = {}, i=0, vArr = window.location.search.substring(1).split('&amp;');\n        i &lt; vArr.length; v = vArr[i++].split('='), vObj[v[0]] = v[1] ){}\n// vObj = {pmts: \"120\", intr: \"6.8\", prin: \"10000\"}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yet another suggestion. </p>\n\n<p>There are some good answers already, but I found them needlessly complex and hard to understand. This is short, simple, and returns a simple associative array with key names corresponding to the token names in the URL. </p>\n\n<p>I added a version with comments below for those who want to learn.</p>\n\n<p>Note this relies on jQuery ($.each) for its loop, which I recommend instead of forEach. I find it simpler to ensure cross-browser compatibility using jQuery across the board rather than plugging in individual fixes to support whichever new functions aren't supported in older browsers.</p>\n\n<p>Edit: After I wrote this I noticed Eric Elliott's answer, which is almost the same, though it uses forEach, while I'm generally against (for reasons stated above).</p>\n\n<pre><code>function getTokens(){\n    var tokens = [];\n    var query = location.search;\n    query = query.slice(1);\n    query = query.split('&amp;');\n    $.each(query, function(i,value){    \n        var token = value.split('=');   \n        var key = decodeURIComponent(token[0]);     \n        var data = decodeURIComponent(token[1]);\n        tokens[key] = data;\n    });\n    return tokens;\n}\n</code></pre>\n\n<p>Commented version: </p>\n\n<pre><code>function getTokens(){\n    var tokens = [];            // new array to hold result\n    var query = location.search; // everything from the '?' onward \n    query = query.slice(1);     // remove the first character, which will be the '?' \n    query = query.split('&amp;');   // split via each '&amp;', leaving us an array of something=something strings\n\n    // iterate through each something=something string\n    $.each(query, function(i,value){    \n\n        // split the something=something string via '=', creating an array containing the token name and data\n        var token = value.split('=');   \n\n        // assign the first array element (the token name) to the 'key' variable\n        var key = decodeURIComponent(token[0]);     \n\n        // assign the second array element (the token data) to the 'data' variable\n        var data = decodeURIComponent(token[1]);\n\n        tokens[key] = data;     // add an associative key/data pair to our result array, with key names being the URI token names\n    });\n\n    return tokens;  // return the array\n}\n</code></pre>\n\n<p>For the examples below we'll assume this address:</p>\n\n<pre><code>http://www.example.com/page.htm?id=4&amp;name=murray\n</code></pre>\n\n<p>You can assign the URL tokens to your own variable:</p>\n\n<pre><code>var tokens = getTokens();\n</code></pre>\n\n<p>Then refer to each URL token by name like this:</p>\n\n<pre><code>document.write( tokens['id'] );\n</code></pre>\n\n<p>This would print \"4\".</p>\n\n<p>You can also simply refer to a a token name from the function directly:</p>\n\n<pre><code>document.write( getTokens()['name'] );\n</code></pre>\n\n<p>...which would print \"murray\".</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this question has too many answers, so i'm adding another one.</p>\n\n<pre><code>/**\n * parses and returns URI query parameters \n * \n * @param {string} param parm\n * @param {bool?} asArray if true, returns an array instead of a scalar \n * @returns {Object|Array} \n */\nfunction getURIParameter(param, asArray) {\n    return document.location.search.substring(1).split('&amp;').reduce(function(p,c) {\n        var parts = c.split('=', 2).map(function(param) { return decodeURIComponent(param); });\n        if(parts.length == 0 || parts[0] != param) return (p instanceof Array) &amp;&amp; !asArray ? null : p;\n        return asArray ? p.concat(parts.concat(true)[1]) : parts.concat(true)[1];\n    }, []);\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>getURIParameter(\"id\")  // returns the last id or null if not present\ngetURIParameter(\"id\", true) // returns an array of all ids\n</code></pre>\n\n<p>this copes with empty parameters (those keys present without <code>\"=value\"</code>), exposure of both a scalar and array-based value retrieval API, as well as proper URI component decoding.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can add an input box and then ask the user to copy the value into it...it's really easy that way:</p>\n\n<pre><code>&lt;h1&gt;Hey User! Can you please copy the value out of the location bar where it says like, &amp;m=2? Thanks! And then, if you could...paste it in the box below and click the Done button?&lt;/h1&gt;\n&lt;input type='text' id='the-url-value' /&gt;\n&lt;input type='button' value='This is the Done button. Click here after you do all that other stuff I wrote.' /&gt;\n\n&lt;script&gt;\n//...read the value on click\n</code></pre>\n\n<hr>\n\n<p>Ok, seriously though...I found this code and it seems to work good:</p>\n\n<p><a href=\"http://www.developerdrive.com/2013/08/turning-the-querystring-into-a-json-object-using-javascript/\" rel=\"nofollow\">http://www.developerdrive.com/2013/08/turning-the-querystring-into-a-json-object-using-javascript/</a></p>\n\n<pre><code>function queryToJSON() {\n    var pairs = location.search.slice(1).split('&amp;');\n\n    var result = {};\n    pairs.forEach(function(pair) {\n        pair = pair.split('=');\n        result[pair[0]] = decodeURIComponent(pair[1] || '');\n    });\n\n    return JSON.parse(JSON.stringify(result));\n}\n\nvar query = queryToJSON();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is my solution: <a href=\"http://jsfiddle.net/Jskp3/\" rel=\"nofollow\">jsfiddle</a></p>\n\n<p>The method below returns a dictionary containing the parameters of the given URL. In case there are no paramters it will be null.</p>\n\n<pre><code>function getParams(url){\n    var paramsStart = url.indexOf('?');\n    var params = null;\n\n    //no params available\n    if(paramsStart != -1){\n        var paramsString = url.substring(url.indexOf('?') + 1, url.length);\n\n        //only '?' available\n        if(paramsString != \"\"){\n            var paramsPairs = paramsString.split('&amp;');\n\n            //preparing\n            params = {};\n            var empty = true;\n            var index  = 0;\n            var key = \"\";\n            var val = \"\";\n\n            for(i = 0, len = paramsPairs.length; i &lt; len; i++){\n                index = paramsPairs[i].indexOf('=');\n\n                //if assignment symbol found\n                if(index != -1){\n                    key = paramsPairs[i].substring(0, index);\n                    val = paramsPairs[i].substring(index + 1, paramsPairs[i].length);\n\n                    if(key != \"\" &amp;&amp; val != \"\"){\n\n                        //extend here for decoding, integer parsing, whatever...\n\n                        params[key] = val;\n\n                        if(empty){\n                            empty = false;\n                        }\n                    }                    \n                }\n            }\n\n            if(empty){\n                params = null;\n            }\n        }\n    }\n\n    return params;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is what I do:</p>\n\n<pre><code>var uriParams = getSearchParameters();\nalert(uriParams.c);\n\n\n// background functions:\n\n// Get object/associative array of URL parameters\nfunction getSearchParameters () {\n  var prmstr = window.location.search.substr(1);\n  return prmstr !== null &amp;&amp; prmstr !== \"\" ? transformToAssocArray(prmstr) : {};\n}\n\n// convert parameters from url-style string to associative array\nfunction transformToAssocArray (prmstr) {\n  var params = {},\n      prmarr = prmstr.split(\"&amp;\");\n\n  for (var i = 0; i &lt; prmarr.length; i++) {\n    var tmparr = prmarr[i].split(\"=\");\n    params[tmparr[0]] = tmparr[1];\n  }\n  return params;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>// Read a page's GET URL variables and return them as an associative array.\nfunction getUrlVars()\n{\n    var vars = [], hash;\n    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n    for(var i = 0; i &lt; hashes.length; i++)\n    {\n        hash = hashes[i].split('=');\n        vars.push(hash[0]);\n        vars[hash[0]] = hash[1];\n    }\n    return vars;\n}\n\n// Usage for URL: http://my.site.com/location?locationId=53cc272c0364aefcb78756cd&amp;shared=false\nvar id = getUrlVars()[\"locationId\"];\n</code></pre>\n\n<p>Got from here: <a href=\"http://jquery-howto.blogspot.ru/2009/09/get-url-parameters-values-with-jquery.html\" rel=\"nofollow\">http://jquery-howto.blogspot.ru/2009/09/get-url-parameters-values-with-jquery.html</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Use dojo.  No other solution on here is this short or as well-tested:</p>\n\n<pre><code>require([\"dojo/io-query\"], function(ioQuery){\n    var uri = \"www.test.com/t.html?a=1&amp;b=3&amp;c=m2-m3-m4-m5 \";\n    var query = uri.substring(uri.indexOf(\"?\") + 1, uri.length);\n    var queryObject = ioQuery.queryToObject(query);\n    console.log(queryObject.c); //prints m2-m3-m4-m5\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I wrote a more simple and elegant solution.</p>\n\n<pre><code>var arr = document.URL.match(/room=([0-9]+)/)\nvar room = arr[1];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Or if you don't want to reinvent the URI parsing wheel use <a href=\"http://medialize.github.io/URI.js/\" rel=\"nofollow\">URI.js</a></p>\n\n<p>To get the value of a parameter named foo:</p>\n\n<pre><code>new URI((''+document.location)).search(true).foo\n</code></pre>\n\n<p>What that does is </p>\n\n<ol>\n<li>Convert document.location to a string (it's an object) </li>\n<li>Feed that string to URI.js's URI class construtor</li>\n<li>Invoke the search() function to get the search (query) portion of the url<br>\n(passing true tells it to output an object)</li>\n<li>Access the foo property on the resulting object to get the value</li>\n</ol>\n\n<p>Here's a fiddle for this.... <a href=\"http://jsfiddle.net/m6tett01/12/\" rel=\"nofollow\">http://jsfiddle.net/m6tett01/12/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>window.location.href.split(\"?\")\n</code></pre>\n\n<p>then disregard the first index</p>\n\n<pre><code>Array.prototype.slice.call(window.location.href.split(\"?\"), 1) \n</code></pre>\n\n<p>returns an array of your url parameters</p>\n\n<pre><code>var paramArray = Array.prototype.slice.call(window.location.href.split(/[?=]+/), 1);\nvar paramObject = paramArray.reduce(function(x, y, i, a){ (i%2==0) ?  (x[y] = a[i+1]) : void 0; return x; }, {});\n</code></pre>\n\n<p>A bit more verbose/hacky but also functional, paramObject contains all parameters mapped as a js object</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>PHP <code>parse_str</code> copycat.. :)</p>\n\n<pre><code>// Handles also array params well\nfunction parseQueryString(query) {\n    var pars = (query != null ? query : \"\").replace(/&amp;+/g, \"&amp;\").split('&amp;'),\n        par, key, val, re = /^([\\w]+)\\[(.*)\\]/i, ra, ks, ki, i = 0,\n        params = {};\n\n    while ((par = pars.shift()) &amp;&amp; (par = par.split('=', 2))) {\n        key = decodeURIComponent(par[0]);\n        // prevent param value going to be \"undefined\" as string\n        val = decodeURIComponent(par[1] || \"\").replace(/\\+/g, \" \");\n        // check array params\n        if (ra = re.exec(key)) {\n            ks = ra[1];\n            // init array param\n            if (!(ks in params)) {\n                params[ks] = {};\n            }\n            // set int key\n            ki = (ra[2] != \"\") ? ra[2] : i++;\n            // set array param\n            params[ks][ki] = val;\n            // go on..\n            continue;\n        }\n        // set param\n        params[key] = val;\n    }\n\n    return params;\n}\n\nvar query = 'foo=1&amp;bar=The+bar!%20&amp;arr[]=a0&amp;arr[]=a1&amp;arr[s]=as&amp;isset&amp;arr[]=last';\nvar params = parseQueryString(query);\nconsole.log(params)\nconsole.log(params.foo)        // 1\nconsole.log(params.bar)        // The bar!\nconsole.log(params.arr[0])     // a0\nconsole.log(params.arr[1])     // a1\nconsole.log(params.arr.s)      // as\nconsole.log(params.arr.none)   // undefined\nconsole.log(\"isset\" in params) // true like: isset($_GET['isset'])\n\n\n\n/*\n// in php\nparse_str('foo=1&amp;bar=The+bar!%20&amp;arr[]=a0&amp;arr[]=a1&amp;arr[s]=as&amp;isset&amp;arr[]=last', $query);\nprint_r($query);\n\nArray\n(\n    [foo] =&gt; 1\n    [bar] =&gt; The bar!\n    [arr] =&gt; Array\n        (\n            [0] =&gt; a0\n            [1] =&gt; a1\n            [s] =&gt; as\n            [2] =&gt; last\n        )\n\n    [isset] =&gt;\n)*/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Learning from many answers (like <a href=\"http://stackoverflow.com/a/20097994/2308745\">VaMoose</a>'s, <a href=\"http://stackoverflow.com/a/827390/2308745\">Gnarf</a>'s or <a href=\"http://stackoverflow.com/a/979996/2308745\">Blixt</a>'s).</p>\n\n<p>You can create an object (or use the Location object) and add a method that allows you to get the URL parameters, decoded and with JS style:</p>\n\n<pre><code>Url = {\n    params: undefined,\n    get get(){\n        if(!this.params){\n            var vars = {};\n            if(url.length!==0)\n                url.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value){\n                    key=decodeURIComponent(key);\n                    if(typeof vars[key]===\"undefined\") {\n                        vars[key]= decodeURIComponent(value);\n                    }\n                    else {\n                        vars[key]= [].concat(vars[key], decodeURIComponent(value));\n                    }\n                });\n            this.params = vars;\n        }\n        return this.params;\n    }\n};\n</code></pre>\n\n<p>This allows the method to be called just using <code>Url.get</code>.</p>\n\n<p>The first time it will fetch the object from the url, next times it will load the saved ones.</p>\n\n<h3><em>Example</em></h3>\n\n<p>In a url like <code>?param1=param1Value&amp;param2=param2Value&amp;param1=param1Value2</code>, parameters can be fetched like:</p>\n\n<pre><code>Url.get.param1 //[\"param1Value\",\"param1Value2\"]\nUrl.get.param2 //\"param2Value\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For <strong>Single Parameter Value</strong> like this index.html?msg=1 use following code,</p>\n\n<pre><code>$(window).load(function(){\n    queryString();\n});\n\nfunction queryString()\n{\n    var queryString = window.location.search.substring(1);\n    var varArray = queryString.split(\"=\"); //eg. index.html?msg=1\n\n    var param1 = varArray[0];\n    var param2 = varArray[1];\n\n}\n</code></pre>\n\n<p>For <strong>All Parameter</strong> Value use following Code,</p>\n\n<pre><code>$(window).load(function(){\n    queryString();\n});\n\nfunction queryString()\n{\n    var queryString = window.location.search;\n    var varArray = queryString.split(\"&amp;\");\n    for (var i=0;i&lt;varArray.length;i++) {\n      var param = varArray[i].split(\"=\");\n        //parameter-value pair\n    }\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a URL with a parameter as follows,</p>\n\n<blockquote>\n  <p>www.test.com/t.html?a=1&amp;b=3&amp;c=m2-m3-m4-m5 </p>\n</blockquote>\n\n<p>I need to get the whole value of <code>c</code>. I tried to read the URL, but I got only <code>m2</code>. How do I do this using JavaScript?</p>\n",
            "last_activity_date": 1425365736,
            "question_id": 979975,
            "score": 269,
            "tags": [
                "javascript",
                "url"
            ],
            "title": "How to get the value from the URL parameter?"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>Jauco posted a good solution in a comment, so I'm copying it here:</p>\n\n<pre><code>$(elem)\n  .contents()\n  .filter(function() {\n    return this.nodeType === 3; //Node.TEXT_NODE\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 155
                },
                {
                    "body": "<p>jQuery doesn't have a convenient function for this. You need to combine <code>contents()</code>, which will give just child nodes but includes text nodes, with <code>find()</code>, which gives all descendant elements but no text nodes. Here's what I've come up with:</p>\n\n<pre><code>var getTextNodesIn = function(el) {\n    return $(el).find(\":not(iframe)\").addBack().contents().filter(function() {\n        return this.nodeType == 3;\n    });\n};\n\ngetTextNodesIn(el);\n</code></pre>\n\n<p><strong>Note: If you're using jQuery 1.7 or earlier, the code above will not work. To fix this, replace <a href=\"http://api.jquery.com/addBack/\" rel=\"nofollow\"><code>addBack()</code></a> with <a href=\"http://api.jquery.com/andSelf/\" rel=\"nofollow\"><code>andSelf()</code></a>. <code>andSelf()</code> is deprecated in favour of <code>addBack()</code> from 1.8 onwards.</strong></p>\n\n<p>This is somewhat inefficient compared to pure DOM methods and has to include an <a href=\"http://bugs.jquery.com/ticket/11275\" rel=\"nofollow\">ugly workaround for jQuery's overloading of its <code>contents()</code> function</a> (thanks to @rabidsnail in the comments for pointing that out), so here is non-jQuery solution using a simple recursive function. The <code>includeWhitespaceNodes</code> parameter controls whether or not whitespace text nodes are included in the output (in jQuery they are automatically filtered out).</p>\n\n<p>Update: Fixed bug when includeWhitespaceNodes is falsy.</p>\n\n<pre><code>function getTextNodesIn(node, includeWhitespaceNodes) {\n    var textNodes = [], nonWhitespaceMatcher = /\\S/;\n\n    function getTextNodes(node) {\n        if (node.nodeType == 3) {\n            if (includeWhitespaceNodes || nonWhitespaceMatcher.test(node.nodeValue)) {\n                textNodes.push(node);\n            }\n        } else {\n            for (var i = 0, len = node.childNodes.length; i &lt; len; ++i) {\n                getTextNodes(node.childNodes[i]);\n            }\n        }\n    }\n\n    getTextNodes(node);\n    return textNodes;\n}\n\ngetTextNodesIn(el);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 176
                },
                {
                    "body": "<p><strong>If you can make the assumption that all children are either Element Nodes or Text Nodes, then this is one solution.</strong></p>\n\n<p>To get all child text nodes as a jquery collection:</p>\n\n<pre><code>$('selector').clone().children().remove().end().contents();\n</code></pre>\n\n<p>To get a copy of the original element with non-text children removed:</p>\n\n<pre><code>$('selector').clone().children().remove().end();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if you want to strip all tags, then try this</p>\n\n<p><strong>function:</strong></p>\n\n<pre><code>String.prototype.stripTags=function(){\nvar rtag=/&lt;.*?[^&gt;]&gt;/g;\nreturn this.replace(rtag,'');\n}\n</code></pre>\n\n<p><strong>usage:</strong>   </p>\n\n<pre><code>var newText=$('selector').html().stripTags();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had the same problem and solved it with:</p>\n\n<p>Code:</p>\n\n<pre><code>$.fn.nextNode = function(){\n  var contents = $(this).parent().contents();\n  return contents.get(contents.index(this)+1);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>$('#my_id').nextNode();\n</code></pre>\n\n<p>Is like <code>next()</code> but also returns the text nodes.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code>$('body').find('*').contents().filter(function () { return this.nodeType === 3; });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><strong><em>EDIT:</em></strong> <em>Does not work with newer jQuery versions</em> due the way <code>.contents()</code> operates.</p>\n\n<pre><code>var myText = $('div').contents(':not(span)').text();\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/roXon/gYH88/\" rel=\"nofollow\">demo jsFiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Can also be done like this:</p>\n\n<pre><code>var textContents = $(document.getElementById(\"ElementId\").childNodes).filter(function(){\n        return this.nodeType == 3;\n});\n</code></pre>\n\n<p>The above code filters the textNodes from direct children child nodes of a given element.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For me, plain old <code>.contents()</code> appeared to work to return the text nodes, just have to be careful with your selectors so that you know they will be text nodes.</p>\n\n<p>For example, this wrapped all the text content of the TDs in my table with <code>pre</code> tags and had no problems.</p>\n\n<pre><code>jQuery(\"#resultTable td\").content().wrap(\"&lt;pre/&gt;\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To find all text nodes within an element, use the correct selector and <a href=\"http://api.jquery.com/contents/\" rel=\"nofollow\"><strong><code>jQuery.contents()</code></strong></a>. The following will select all descendants of <code>#test</code> (whether children or grand children) and filter out text nodes.</p>\n\n<pre><code>$(\"#test, #test *\").contents().filter(function () {\n    return this.nodeType === Node.TEXT_NODE;\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/salman/GPsR2/\" rel=\"nofollow\"><strong>Demo here</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For some reason <code>contents()</code> didn't work for me, so if it didn't work for you, here's a solution I made, I created <code>jQuery.fn.descendants</code> with the option to include text nodes or not</p>\n\n<p><strong>Usage</strong></p>\n\n<hr>\n\n<p>Get all descendants including text nodes and element nodes</p>\n\n<pre><code>jQuery('body').descendants('all');\n</code></pre>\n\n<hr>\n\n<p>Get all descendants returning only text nodes</p>\n\n<pre><code>jQuery('body').descendants(true);\n</code></pre>\n\n<hr>\n\n<p>Get all descendants returning only element nodes</p>\n\n<pre><code>jQuery('body').descendants();\n</code></pre>\n\n<hr>\n\n<p><strong>Coffeescript Original</strong>:</p>\n\n<pre><code>jQuery.fn.descendants = ( textNodes ) -&gt;\n\n    # if textNodes is 'all' then textNodes and elementNodes are allowed\n    # if textNodes if true then only textNodes will be returned\n    # if textNodes is not provided as an argument then only element nodes\n    # will be returned\n\n    allowedTypes = if textNodes is 'all' then [1,3] else if textNodes then [3] else [1]\n\n    # nodes we find\n    nodes = []\n\n\n    dig = (node) -&gt;\n\n        # loop through children\n        for child in node.childNodes\n\n            # push child to collection if has allowed type\n            nodes.push(child) if child.nodeType in allowedTypes\n\n            # dig through child if has children\n            dig child if child.childNodes.length\n\n\n    # loop and dig through nodes in the current\n    # jQuery object\n    dig node for node in this\n\n\n    # wrap with jQuery\n    return jQuery(nodes)\n</code></pre>\n\n<p><strong>Drop In Javascript Version</strong> </p>\n\n<pre><code>var __indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t&lt;n;t++){if(t in this&amp;&amp;this[t]===e)return t}return-1}; /* indexOf polyfill ends here*/ jQuery.fn.descendants=function(e){var t,n,r,i,s,o;t=e===\"all\"?[1,3]:e?[3]:[1];i=[];n=function(e){var r,s,o,u,a,f;u=e.childNodes;f=[];for(s=0,o=u.length;s&lt;o;s++){r=u[s];if(a=r.nodeType,__indexOf.call(t,a)&gt;=0){i.push(r)}if(r.childNodes.length){f.push(n(r))}else{f.push(void 0)}}return f};for(s=0,o=this.length;s&lt;o;s++){r=this[s];n(r)}return jQuery(i)}\n</code></pre>\n\n<blockquote>\n  <p>Unminified Javascript version: <a href=\"http://pastebin.com/cX3jMfuD\" rel=\"nofollow\">http://pastebin.com/cX3jMfuD</a></p>\n</blockquote>\n\n<p><strong>This is cross browser, a small <code>Array.indexOf</code> polyfill is included in the code.</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was getting a lot of empty text nodes with the accepted filter function.  If you're only interested in selecting text nodes that contain non-whitespace, try adding a <code>nodeValue</code> conditional to your <code>filter</code> function, like a simple <code>$.trim(this.nodevalue) !== ''</code>:</p>\n\n<pre><code>$('element')\n    .contents()\n    .filter(function(){\n        return this.nodeType === 3 &amp;&amp; $.trim(this.nodeValue) !== '';\n    });\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ptp6m97v/\" rel=\"nofollow\">http://jsfiddle.net/ptp6m97v/</a></p>\n\n<p>Or to avoid strange situations where the content looks like whitespace, but is not (e.g. the soft hyphen <code>&amp;shy;</code> character, newlines <code>\\n</code>, tabs, etc.), you can try using a Regular Expression. For example, <code>\\S</code> will match any non-whitespace characters:</p>\n\n<pre><code>$('element')\n        .contents()\n        .filter(function(){\n            return this.nodeType === 3 &amp;&amp; /\\S/.test(this.nodeValue);\n        });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to get all descendant text nodes of an element, as a jQuery collection. What is the best way to do that?</p>\n",
            "last_activity_date": 1423734424,
            "question_id": 298750,
            "score": 254,
            "tags": [
                "javascript",
                "jquery",
                "dom"
            ],
            "title": "How do I select text nodes with jQuery?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>I haven't used it but you might want to try the <strong><a href=\"http://jollytoad.googlepages.com/json.js\">jQuery plugin written by Mark Gibson</a></strong> </p>\n\n<p>It adds the two functions: <code>$.toJSON(value)</code>, <code>$.parseJSON(json_str, [safe])</code>.</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>No, the standard way to serialize to JSON is to use an existing JSON serialization library.  If you don't wish to do this, then you're going to have to write your own serialization methods.</p>\n\n<p>If you want guidance on how to do this, I'd suggest examining the source of some of the available libraries.</p>\n\n<p><strong>EDIT:</strong> I'm not going to come out and say that writing your own serliazation methods is bad, but you must consider that if it's important to your application to use well-formed JSON, then you have to weigh the overhead of \"one more dependency\" against the possibility that your custom methods may one day encounter a failure case that you hadn't anticipated.  Whether that risk is acceptable is your call.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p><a href=\"https://github.com/douglascrockford/JSON-js\">JSON-js</a> - JSON in JavaScript.</p>\n\n<p>To convert an object to a string, use <code>JSON.stringify</code>:</p>\n\n<pre><code>var json_text = JSON.stringify(your_object, null, 2);\n</code></pre>\n\n<p>To convert a JSON string to object, use <code>JSON.parse</code>:</p>\n\n<pre><code>var your_object = JSON.parse(json_text);\n</code></pre>\n\n<p>It was recently recommended by <a href=\"http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\">John Resig</a>:</p>\n\n<blockquote>\n  <p>...PLEASE start migrating\n  your JSON-using applications over to\n  Crockford's json2.js. It is fully\n  compatible with the ECMAScript 5\n  specification and gracefully degrades\n  if a native (faster!) implementation\n  exists.</p>\n  \n  <p>In fact, I just landed a change in jQuery yesterday that utilizes the\n  JSON.parse method if it exists, now\n  that it has been completely specified.</p>\n</blockquote>\n\n<p>I tend to trust what he says on JavaScript matters :)</p>\n\n<p><a href=\"http://caniuse.com/json\">Newer browsers</a> support the <a href=\"http://ecma262-5.com/ELS5_Section_15.htm#Section_15.12\">JSON object</a> natively. The current version of Crockford's JSON library will only define <code>JSON.stringify</code> and <code>JSON.parse</code> if they're not already defined, leaving any browser native implementation intact.</p>\n",
                    "is_accepted": true,
                    "score": 768
                },
                {
                    "body": "<p>If you don't want to use external libraries there is <code>.toSource()</code> native JavaScript method, but it's not perfectly cross-browser.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I did find this somewhere.  Can't remember where though... probably on StackOverflow :)</p>\n\n<pre><code>$.fn.serializeObject = function(){\n    var o = {};\n    var a = this.serializeArray();\n    $.each(a, function() {\n        if (o[this.name]) {\n            if (!o[this.name].push) {\n                o[this.name] = [o[this.name]];\n            }\n            o[this.name].push(this.value || '');\n        } else {\n            o[this.name] = this.value || '';\n        }\n    });\n    return o;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>I've been using <a href=\"https://code.google.com/p/jquery-json/\">jquery-json</a> for 6 months and it works great.  It's very simple to use:</p>\n\n<pre><code>var myObj = {foo: \"bar\", \"baz\": \"wockaflockafliz\"};\n$.toJSON(myObj);\n\n// Result: {\"foo\":\"bar\",\"baz\":\"wockaflockafliz\"}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 108
                },
                {
                    "body": "<p><a href=\"http://caniuse.com/#search=JSON.stringify\"><strong>Works on IE8+</strong></a></p>\n\n<p>No need for jQuery, use:</p>\n\n<pre><code>JSON.stringify(countries); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 55
                },
                {
                    "body": "<p>One thing that the above solutions don't take into account is if you have an array of inputs but only one value was supplied.</p>\n\n<p>For instance, if the back end expects an array of People, but in this particular case, you are just dealing with a single person. Then doing:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"People\" value=\"Joe\" /&gt;\n</code></pre>\n\n<p>Then with the previous solutions, it would just map to something like:</p>\n\n<pre><code>{\n    \"People\" : \"Joe\"\n}\n</code></pre>\n\n<p>But it should really map to</p>\n\n<pre><code>{\n    \"People\" : [ \"Joe\" ]\n}\n</code></pre>\n\n<p>To fix that, the input should look like:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"People[]\" value=\"Joe\" /&gt;\n</code></pre>\n\n<p>And you would use the following function (based off of other solutions, but extended a bit)</p>\n\n<pre><code>$.fn.serializeObject = function() {\nvar o = {};\nvar a = this.serializeArray();\n$.each(a, function() {\n    if (this.name.substr(-2) == \"[]\"){\n        this.name = this.name.substr(0, this.name.length - 2);\n        o[this.name] = [];\n    }\n\n    if (o[this.name]) {\n        if (!o[this.name].push) {\n            o[this.name] = [o[this.name]];\n        }\n        o[this.name].push(this.value || '');\n    } else {\n        o[this.name] = this.value || '';\n    }\n});\nreturn o;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to serialize an object to JSON. I'm using jQuery. Is there a \"standard\" way to do this?</p>\n\n<p>My specific situation: I have an array defined something like this:</p>\n\n<pre><code>var countries = new Array();\ncountries[0] = 'ga';\ncountries[1] = 'cd';\n...\n</code></pre>\n\n<p>and I need to turn this into a string to pass to <code>$.ajax()</code> like this:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"Concessions.aspx/GetConcessions\",\n    data: \"{'countries':['ga','cd']}\",\n...\n</code></pre>\n",
            "last_activity_date": 1410910447,
            "question_id": 191881,
            "score": 698,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "json",
                "serialization"
            ],
            "title": "Serializing to JSON in jQuery"
        },
        {
            "answer_count": 23,
            "answers": [
                {
                    "body": "<p>When you trust the source. </p>\n\n<p>In case of JSON, it is more or less hard to tamper with the source, because it comes from a web server you control. As long as the JSON itself contains no data a user has uploaded, there is no major drawback to use eval.</p>\n\n<p>In all other cases I would go great lengths to ensure user supplied data conforms to my rules before feeding it to eval().</p>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>The only instance when you should be using eval() is when you need to run dynamic JS on the fly. I'm talking about JS that you download asynchronously from the server... </p>\n\n<p>...And 9 times of 10 you could easily avoid doing that by refactoring.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It's okay to use it if you have complete control over the code that's passed to the <code>eval</code> function.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I tend to follow <a href=\"http://javascript.crockford.com/code.html\">Crockford's advice</a> for <code>eval()</code>, and avoid it altogether. Even ways that appear to require it do not. For example, the <code>setTimeout()</code> allows you to pass a function rather than eval.</p>\n\n<pre><code>setTimeout(function() {\n  alert('hi');\n}, 1000);\n</code></pre>\n\n<p>Even if it's a <em>trusted</em> source, I don't use it, because the code returned by JSON might be garbled, which could at best do something wonky, at worst, expose something bad.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Only during testing, if possible. Also note that eval() is much slower than other specialized JSON etc. evaluators.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>eval()</code> isn't evil. Or, if it is, it's evil in the same way that reflection, file/network IO, threading, and IPC are \"evil\" in other languages.</p>\n\n<p>If, <em>for your purpose</em>, <code>eval()</code> is faster than manual interpretation, or makes your code simpler, or more clear... then you should use it. If neither, then you shouldn't. Simple as that.</p>\n",
                    "is_accepted": false,
                    "score": 53
                },
                {
                    "body": "<p>There is no reason not to use eval() as long as you can be sure that the source of the code comes from you or the actual user. Even though he can manipulate what gets sent into the eval() function, thats not a security problem because he is able to manipulate the source code of the web site and could therefore change the javascript code itself.</p>\n\n<p>So... when not use eval()? Eval() should only not be used when there is a chance that a third party could change it. Like intercepting the connection between the client and your server (but if that is a problem use HTTPS). You shouldn't eval() for parsing code that is written by others like in a forum.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'd like to take a moment to address the premise of your question - that eval() is \"<em>evil</em>\". The word \"<em>evil</em>\", as used by programming language people, usually means \"dangerous\", or more precisely \"able to cause lots of harm with a simple-looking command\". So, when is it OK to use something dangerous? When you know what the danger is, and when you're taking the appropriate precautions.</p>\n\n<p>To the point, let's look at the dangers in the use of eval(). There are probably many small hidden dangers just like everything else, but the two big risks - the reason why eval() is considered evil - are performance and code injection.</p>\n\n<ul>\n<li>Performance - eval() runs the interpreter/compiler. If your code is compiled, then this is a big hit, because you need to call a possibly-heavy compiler in the middle of run-time. However, JavaScript is still mostly an interpreted language, which means that calling eval() is not a big performance hit in the general case (but see my specific remarks below).</li>\n<li>Code injection - eval() potentially runs a string of code under elevated privileges. For example, a program running as administrator/root would never want to eval() user input, because that input could potentially be \"rm -rf /etc/important-file\" or worse. Again, JavaScript in a browser doesn't have that problem, because the program is running in the user's own account anyway. Server-side JavaScript could have that problem.</li>\n</ul>\n\n<p>On to your specific case. From what I understand, you're generating the strings yourself, so assuming you're careful not to allow a string like \"rm -rf something-important\" to be generated, there's no code injection risk (but please remember, it's <em>very very hard</em> to ensure this in the general case). Also, if you're running in the browser then code injection is a pretty minor risk, I believe.</p>\n\n<p>As for performance, you'll have to weight that against ease of coding. It is my opinion that if you're parsing the formula, you might as well compute the result during the parse rather than run another parser (the one inside eval()). But it may be easier to code using eval(), and the performance hit will probably be unnoticeable. It looks like eval() in this case is no more evil than any other function that could possibly save you some time.</p>\n",
                    "is_accepted": true,
                    "score": 161
                },
                {
                    "body": "<p>I just want to add my 0.50$ here, I saw people advocate to not use eval, because is <em>evil</em> but saw the same people use dinamically Function and setTimeout, so they use eval <em>under the hoods</em> :D\nbtw, if your sandbox is not sure enought (eg. if you're working on a site that allow code injection) eval is the last of your problems, the basic rule of security is that <em>all</em> input is evil, but in case of javascript <em>even</em> javascript itself could be evil, because in javascript you can overwrite any function and you just can't be sure you're using the real one, so, if a malicious code start before you, you can't trust any javascript built-in function :D</p>\n\n<p>Now the epilogue to this post is:\nif you <strong>REALLY</strong> need it (80% of the time eval is <strong>NOT</strong> needed) and you're sure of what you' re doing, just use eval (or better Function ;) ), closures and OOP cover the 80/90% of the case where eval can be replaced using another kind of logic, the rest is dinamically generated code (for example if you' re writing an interpreter) and as you already said evaluating json (here you can use the crockford safe evaluation ;) ) </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If i's really needed eval is not evil. But 99.9% of the uses of eval that I stumble across are <strong>not</strong> needed (not including setTimeout stuff).</p>\n\n<p>For me the evil is not a performance or even a security issue (well, indirectly it's both). All such unnecessary uses of eval add to a maintenance hell. Refactoring tools are thrown off. Searching for code is hard. Unanticipated effects of those evals are legion.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My believe is that eval is a very powerfull function for client side web application and safe... As safe as javascript, which are not. :-) The secutity issues are essentially a server side problem because, now, with tool like firebug, you can attack any javasript application. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Microsoft explains why eval() is slow in their browser on <a href=\"http://blogs.msdn.com/ie/archive/2006/11/16/ie-javascript-performance-recommendations-part-2-javascript-code-inefficiencies.aspx\" rel=\"nofollow\">IE Blog</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>eval</code> is rarely the right choice. While there may be numerous instances where you can accomplish what you need to accomplish by concatenating a script together and running it on the fly, you typically have much more powerful and maintainable techniques at your disposal: associative-array notation (<code>obj[\"prop\"]</code> is the same as <code>obj.prop</code>), closures, object-oriented techniques, functional techniques - use them instead.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As far as client script goes, I think the issue of security is a moot point. Everything loaded into the browser is subject to manipulation and should be treated as such. There is zero risk in using an eval() statement when there are much easier ways to execute javascript and/or manipulate objects in the DOM, such as the URL bar in your browser.</p>\n\n<pre><code>javascript:alert(\"hello\");\n</code></pre>\n\n<p>If someone wants to manipulate their DOM, I say swing away. Security to prevent any type of attack should always be the responsibility of the server application, period. </p>\n\n<p>From a pragmatic standpoint, there's no benefit to using an eval() in a situation where things can be done otherwise. However, there are specific cases where an eval SHOULD be used. When so, it can definitely be done without any risk of blowing up the page.</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;textarea id=\"output\"&gt;&lt;/textarea&gt;&lt;br/&gt;\n&lt;input type=\"text\" id=\"input\" /&gt;\n&lt;button id=\"button\" onclick=\"execute()\"&gt;eval&lt;/button&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nvar execute = function(){\n    var inputEl = document.getElementById('input');\n    var toEval = inputEl.value;\n    var outputEl = document.getElementById('output');\n    var output = \"\";\n\n    try {\n    \toutput = eval(toEval);\n    }\n    catch(err){\n    \tfor(var key in err){\n    \t\toutput += key + \": \" + err[key] + \"\\r\\n\";\n    \t}\n    }\n    outputEl.value = output;\n}\n&lt;/script&gt;\n\n&lt;body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Lets get real folks:</p>\n\n<ol>\n<li><p>Every major browser now has a built in console which your would-be hacker can use with abandon to invoke any function with any value - why would they bother to use an eval statement - even if they could?</p></li>\n<li><p>If it takes 0.2s to compile 2000 lines of javascript what is my performance degradation if I eval 4 lines of JSON?</p></li>\n</ol>\n\n<p>Even Crockford's explanation for 'eval is evil' is weak. </p>\n\n<pre><code>\"eval is Evil\nThe eval function is the most misused feature of JavaScript. Avoid it\"\n</code></pre>\n\n<p>As Crockford himself might say \"This kind of statement tends to generate irrational neurosis. Don't buy it\" </p>\n\n<p>Understanding eval and knowing when it might be useful is way more important. For example eval is a sensible tool for evaluating server responses that were generated by your software. </p>\n\n<p>BTW: Prototype.js calls eval directly 5 times (including in evalJSON() and evalResponse()). JQuery uses it in parseJSON (via Function constructor)</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p><em>When is JavaScript's eval() not evil?</em></p>\n\n<p>I'm always trying to <a href=\"http://stackoverflow.com/a/10279521\">discourage from eval</a>. Almost always, more clean and maintainable solution is available. Eval <a href=\"http://www.json.org/\" rel=\"nofollow\">is not needed even for JSON parsing</a>. Eval <a href=\"http://www.asiantravelhotel.com/javascript/when-is-javascript-39-s-eval-not-evil.html\" rel=\"nofollow\">adds to maintenance hell</a>. Not without reason is frowned upon masters like Douglas Crockford.</p>\n\n<p>But I found one example where it <em>should be</em> used:</p>\n\n<h2><strong>When you need to pass the expression.</strong></h2>\n\n<p>For example, I have a function that constructs a general <a href=\"https://developers.google.com/maps/documentation/javascript/reference?hl=cs#ImageMapType\" rel=\"nofollow\"><code>google.maps.ImageMapType</code></a> object for me, but I need to tell it the recipe, how should it construct the tile URL from the <code>zoom</code> and <code>coord</code> parameters:</p>\n\n<pre><code>my_func({\n    name: \"OSM\",\n    tileURLexpr: '\"http://tile.openstreetmap.org/\"+b+\"/\"+a.x+\"/\"+a.y+\".png\"',\n    ...\n});\n\nfunction my_func(opts) \n{\n    return new google.maps.ImageMapType({\n        getTileUrl: function (coord, zoom) {\n            var b = zoom;\n            var a = coord;\n            return eval(opts.tileURLexpr);\n        },\n        ....\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>When you parse JSON structure with a parse function (for example jQuery.parseJSON), it expects perfect structure of the JSON file (each property name is in double quotes). However, JavaScript is more flexible. Therefore, you can use eval() to avoid it.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>When performance is <strong>NOT</strong> that important which  in most cases it should be.</p>\n\n<p>Quote from MSDN</p>\n\n<p><a href=\"http://blogs.msdn.com/b/ie/archive/2006/11/16/ie-javascript-performance-recommendations-part-2-javascript-code-inefficiencies.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/ie/archive/2006/11/16/ie-javascript-performance-recommendations-part-2-javascript-code-inefficiencies.aspx</a></p>\n\n<blockquote>\n  <p>Running Code Using the \u2018eval\u2019 Statement is Expensive</p>\n  \n  <p>The title explains it all. The eval statement in JScript is both\n  expensive in terms of performance and prone to error if the site is\n  generating dynamically the script to be run. If you can remove it from\n  your application you should do so. You\u2019ll need to replace it with\n  functional equivalents where the dynamically evaluated code can be\n  simulated by changing the input parameters. This general wisdom not\n  only leads to faster code in most cases but can also make your program\n  more reliable and easy to understand. If arbitrary code is executing\n  on the client machine it becomes hard to determine how it failed.</p>\n  \n  <p>For those interested in the \u201cwhy\u201d, execution of an arbitrary string of\n  script involves the construction of a new script runtime, copying the\n  context of the currently executing script, manipulation of the runtime\n  stack, and a bit of other work. This isn\u2019t much different from running\n  other code, but isn\u2019t nearly as fast as writing the inline branching\n  code to handle all of the possibilities of the dynamically generated\n  code. There are obviously good uses for the eval statement, just\n  examine your project thoroughly before taking a dependency on it.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Eval is complementary to Compilation which is used in Templating the code, by templating I mean, that you write a simplified template generator that generates useful template code which increases development speed.</p>\n\n<p>I have written a framework, where developers dont use EVAL, but they use our framework and in turn that framework has to use EVAL to generate templates.</p>\n\n<p>Performance of EVAL can be increased by using following method, instead executing the script, you must return a function.</p>\n\n<pre><code>var a = eval(\"3 + 5\");\n</code></pre>\n\n<p>Should be organized as </p>\n\n<pre><code>var f = eval(\"(function(a,b) { return a + b; })\");\n\nvar a = f(3,5);\n</code></pre>\n\n<p>Caching f will certainly improve the speed.</p>\n\n<p>Also Chrome allows debugging of such functions very easily.</p>\n\n<p>Regarding Security, using eval or not will hardly make any difference,</p>\n\n<ol>\n<li>First of all, browser invokes entire script in sandbox.</li>\n<li><strong>Any code that is evil in EVAL, it is evil in browser itself, attacker or anyone can easily inject a script node in DOM and do anything if he can eval anything. Not using EVAL will not make any difference.</strong></li>\n<li>It is mostly a poor Server Side Security that is harmful, poor cookies validation or poor ACL implementation on server causes most attacks.</li>\n<li>Recent Java vulnerability etc was there in Java's native code, JavaScript was and is designed to run in sandbox, where else applets were designed to run outside sandbox with certificate etc that lead to vulnerability and many other things.</li>\n<li>Writing a code for imitating browser is not difficult, all you have to do is make HTTP request to server with a your fav user agent string. All testing tools mock browsers anyway, if an attacker want to harm you, EVAL is their last resort, they have many other ways to deal with your server side security.</li>\n<li>Browser DOM does not have access to files, not user name, infact nothing on the machine that eval can give access to.</li>\n</ol>\n\n<p><strong>If your Server Side Security is Solid enough for anyone to attack from anywhere, you should not worry about EVAL, as I mentioned, if EVAL would not exist, attackers have many tools to hack into your server irrespective of your browser's EVAL capability.</strong></p>\n\n<p>Eval is only good for generating some templates to do complex string processing based on something that is not used in advanced. For example,I will prefer </p>\n\n<pre><code>\"FirstName + ' ' + LastName\"\n</code></pre>\n\n<p>As opposed to</p>\n\n<pre><code>\"LastName + ' ' + FirstName\"\n</code></pre>\n\n<p>As my display name, which can come from database and which is not hardcoded.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My example of using <code>eval</code>: <em>import</em>.</p>\n\n<p>How it's usually done.</p>\n\n<pre><code>var components = require('components');\nvar Button = components.Button;\nvar ComboBox = components.ComboBox;\nvar CheckBox = components.CheckBox;\n...\n// that quickly gets very boring\n</code></pre>\n\n<p>But with the help of <code>eval</code> and little helper function it gets much better look.</p>\n\n<pre><code>var components = require('components');\neval(importable('components', 'Button', 'ComboBox', 'CheckBox', ...));\n</code></pre>\n\n<p><code>importable</code> might look like (this version doesn't support importing concrete members).</p>\n\n<pre><code>function importable(path) {\n    var name;\n    var pkg = eval(path);\n    var result = '\\n';\n    for (name in pkg) {\n        result += 'if (name !== undefined) throw \"import error: name already exists\";\\n'.replace(/name/g, name);\n    }\n    for (name in pkg) {\n        result += 'var name = path.name;\\n'.replace(/name/g, name).replace('path', path);\n    }\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Eval is useful for code generation when you don't have macros.</p>\n\n<p>For (a stupid) example, if you're writing a brainfuck compiler, you'll probably want to construct a function that performs the sequence of instructions as a string, and eval it to return a function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>When debugging in Chrome (v28.0.1500.72), I found that variables are not bound to closures if they are not used in a nested function that produces the closure. I guess, that's an optimization of the JavaScript engine. </p>\n\n<p><strong>BUT</strong>: when <code>eval()</code> is used inside a function that causes a closure, <strong>ALL</strong> the variables of outer functions are bound to the closure, even if they are not used at all. If someone has the time to test if memory leaks can be produced by that, please leave me a comment below.</p>\n\n<p>Here's my test code:</p>\n\n<pre><code>(function () {\n    var eval = function (arg) {\n    };\n\n    function evalTest() {\n        var used = \"used\";\n        var unused = \"not used\";\n\n        (function () {\n            used.toString();   // variable \"unused\" is visible in debugger\n            eval(\"1\");\n        })();\n    }\n\n    evalTest();\n})();\n\n(function () {\n    var eval = function (arg) {\n    };\n\n    function evalTest() {\n        var used = \"used\";\n        var unused = \"not used\";\n\n        (function () {\n            used.toString();   // variable \"unused\" is NOT visible in debugger\n            var noval = eval;\n            noval(\"1\");\n        })();\n    }\n\n    evalTest();\n})();\n\n(function () {\n    var noval = function (arg) {\n    };\n\n    function evalTest() {\n        var used = \"used\";\n        var unused = \"not used\";\n\n        (function () {\n            used.toString();    // variable \"unused\" is NOT visible in debugger\n            noval(\"1\");\n        })();\n    }\n\n    evalTest();\n})();\n</code></pre>\n\n<p>What I like to point out here is, that eval() must not necessarily refer to native <code>eval()</code> function, <strong>it all depends on the name of the function</strong>. So when calling native <code>eval()</code> with an alias name (say <code>var noval = eval;</code> and then in an inner function <code>noval(expression);</code>) then the evaluation of <code>expression</code> may fail when it refers to variables that should be part of the closure but is actually not.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another perspective:-</p>\n\n<p><strong>Use case for eval()</strong></p>\n\n<p><code>Performance</code> and <code>injection</code> aside use <code>eval</code> when you cannot avoid but receive Javascript code <code>as string</code>.</p>\n\n<p>Use Javascript <code>code as a string</code> as a last resort because most tools like <code>JSHint</code>, <code>JSLint</code> and <code>IDEs</code> cannot help you when the code is a string literals.</p>\n\n<p>So if you can achieve the same functionality without <code>eval()</code> you have more benefits on your side.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm writing some JavaScript to parse user-entered functions (for spreadsheet-like functionality). Having parsed the formula I <em>could</em> convert it into JavaScript and run <code>eval()</code> on it to yield the result. However, I've always shied away from using <code>eval()</code> if I can avoid it because it's evil (and, rightly or wrongly, I've always thought it is even more evil in JavaScript because the code to be evaluated might be changed by the user).</p>\n\n<p><strike>Obviously one has to use <code>eval()</code> to parse JSON (I presume that JS libraries use <code>eval()</code> for this somewhere, even if they run the JSON through a regex check first), but when else, <strong>other than when manipulating JSON</strong>, it is OK to use <code>eval()</code>?</strike></p>\n\n<p><i>As several people have now pointed-out, it's not even necessary to use <code>eval()</code> to parse JSON. So, when is it OK to use it?</i></p>\n",
            "last_activity_date": 1410198964,
            "question_id": 197769,
            "score": 139,
            "tags": [
                "javascript",
                "coding-style",
                "eval"
            ],
            "title": "When is JavaScript&#39;s eval() not evil?"
        },
        {
            "answer_count": 30,
            "answers": [
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/String/indexOf\"><code>indexOf</code></a> returns the position of the string in the other string. If not found, it will return -1:</p>\n\n<pre><code>var s = \"foo\";\nalert(s.indexOf(\"oo\") &gt; -1);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4389
                },
                {
                    "body": "<pre><code>var index = haystack.indexOf(needle);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 113
                },
                {
                    "body": "<p>Use a regular expression:</p>\n\n<p><a href=\"http://www.javascriptkit.com/javatutors/redev3.shtml\" rel=\"nofollow\"><code>RegExp.test(string)</code></a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The problem with your code is that JavaScript is case sensitive. Your method call</p>\n\n<pre><code>indexof()\n</code></pre>\n\n<p>should actually be</p>\n\n<pre><code>indexOf()\n</code></pre>\n\n<p>Try fixing it and see if that helps:</p>\n\n<pre><code>if (test.indexOf(\"title\") !=-1) {\n    alert(elm);\n    foundLinks++;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 153
                },
                {
                    "body": "<p>You need to call indexOf with a capital \"O\" as mentioned. It should also be noted, that in JavaScript class is a reserved word, you need to use className to get this data attribute. The reason it's probably failing is because it's returning a null value. You can do the following to get your class value...</p>\n\n<pre><code>var test = elm.getAttribute(\"className\");\n//or\nvar test = elm.className\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>You can easily add a <code>contains</code> method to String with this statement:</p>\n\n<pre><code>String.prototype.contains = function(it) { return this.indexOf(it) != -1; };\n</code></pre>\n\n<p><em>Note:</em> see the comments below for a valid argument for not using this. My advice: use your own judgement.</p>\n",
                    "is_accepted": false,
                    "score": 350
                },
                {
                    "body": "<p>You could use the JavaScript <code>search()</code> method.</p>\n\n<p>Syntax is: <code>string.search(regexp)</code></p>\n\n<p>It returns the position of the match, or -1 if no match is found.</p>\n\n<p>See examples there: <a href=\"http://www.w3schools.com/jsref/jsref_search.asp\">jsref_search</a></p>\n\n<p>You don't need a complicated regular expression syntax. If you are not familiar with them a simple <code>st.search(\"title\")</code> will do. If you want your test to be case insensitive, then you should do <code>st.search(/title/i)</code>.</p>\n",
                    "is_accepted": false,
                    "score": 100
                },
                {
                    "body": "<p>You can use jQuery's <code>:contains</code> selector.</p>\n\n<pre><code>$(\"div:contains('John')\")\n</code></pre>\n\n<p>Check it here: <a href=\"http://api.jquery.com/contains-selector/\" rel=\"nofollow\">http://api.jquery.com/contains-selector/</a></p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>This just worked for me. It selects for strings that do not contain the term \"Deleted:\"</p>\n\n<pre><code>if (eventString.indexOf(\"Deleted:\") == -1)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>This piece of code should work well:</p>\n\n<pre><code>var str=\"This is testing for javascript search !!!\";\nif(str.search(\"for\") != -1) {\n   //logic\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/q/10582286/497418\">A common way to write a <code>contains</code> method in JS</a> is:</p>\n\n<pre><code>if (!String.prototype.contains) {\n    String.prototype.contains = function (arg) {\n        return !!~this.indexOf(arg);\n    };\n}\n</code></pre>\n\n<p>The bitwise negation operator (<code>~</code>) is used to turn <code>-1</code> into <code>0</code> (falsey), and all other values will be non-zero (truthy).</p>\n\n<p>The double boolean negation operators are used to cast the number into a boolean.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Another option of doing this is:</p>\n\n<p>You can use the match function, that is, something like:</p>\n\n<pre><code>x = \"teststring\";\n\nif (x.match(\"test\")) {\n     // Code\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><strong>Update for 2015</strong>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\"><code>string.includes</code> has been added to JavaScript's next version, ES6</a>:</p>\n\n<pre><code>\"potato\".includes(\"to\");\n&gt; true\n</code></pre>\n\n<p>Note you may need to load <code>es6-shim</code> or similar to get this working on older browsers.</p>\n\n<pre><code>require('es6-shim')\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>JavaScript code to use the <code>contains</code> method in an array:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;h2&gt;Use of contains() method&lt;/h2&gt;\n        &lt;script&gt;\n            Array.prototype.contains = function (element) {\n                for (var i = 0; i &lt; this.length; i++) {\n                    if (this[i] == element) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n            arr1 = [\"Rose\", \"India\", \"Technologies\"];\n            document.write(\"The condition is \"+arr1.contains(\"India\")+\"&lt;br&gt;\");\n        &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;b&gt;[If the specified element is present in the array, it returns true otherwise\n    returns false.]&lt;/b&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>In the given code the <code>contains</code> method determines whether the specified element is present in the array or not. If the specified element is present in the array, it returns true, otherwise it returns false.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Since there is a complaint about using the prototype, and since using <code>indexOf</code> makes your code less readable, and since regexp is overkill:</p>\n\n<pre><code>function stringContains(inputString, stringToFind) {\n    return (inputString.indexOf(stringToFind) != -1);\n}\n</code></pre>\n\n<p>That is the compromise I ended up going for.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You were looking for <code>.indexOf</code><sup><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\">MDN</a></sup>.</p>\n\n<p><code>indexOf</code> is going to return an index to the matched substring. The index will correlate to where the substring starts. If there is no match, a -1 is returned. Here is a <strong><a href=\"http://jsfiddle.net/BFT5T/\">simple demo</a></strong> of that concept:<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var str = \"Hello World\";// For example, lets search this string,\r\n    var term = \"World\";// for the term \"World\",\r\n    var index = str.indexOf(term);// and get its index.\r\n    if(index != -1){// If the index is not -1 then the term was matched in the string,\r\n     alert(index);// and we can do some work based on that logic. (6 is alerted)\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/contains\" rel=\"nofollow\"><code>string.contains()</code></a> was introduced in ES6</p>\n\n<blockquote>\n  <p>Determines whether one string may be found within another string, \n  returning true or false as appropriate.</p>\n</blockquote>\n\n<h2>Syntax</h2>\n\n<pre><code>var contained = str.contains(searchString [, position]);  \n</code></pre>\n\n<h2>Parameters</h2>\n\n<pre><code>searchString\n</code></pre>\n\n<p>A string to be searched for within this string.</p>\n\n<pre><code>position\n</code></pre>\n\n<p>The position in this string at which to begin searching for <code>searchString</code> defaults to 0.  </p>\n\n<h2>Example</h2>\n\n<pre><code>var str = \"To be, or not to be, that is the question.\";\n\nconsole.log(str.contains(\"To be\"));    // true\nconsole.log(str.contains(\"question\")); // true\nconsole.log(str.contains(\"To be\", 1)); // false  \n</code></pre>\n\n<h2>Note</h2>\n\n<p>This may require ES6 shim in older browsers.</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Since the question is pretty popular, I thought I could add a little modern flavor to the code.</p>\n\n<pre><code>var allLinks = content.document.getElementsByTagName(\"a\")\n,   il       = allLinks.length\n,   i        = 0\n,   test\n,   alrt;\n\nwhile (i &lt; il) {\n    elm  = allLinks[i++];\n    test = elm.getAttribute(\"class\");\n\n    if (test.indexOf(\"title\") &gt; -1)\n        console.log(elm), foundLinks++;\n}\nalrt = foundLinks ? \"Found \" + foundLinks + \" title class\" : \"No title class found\";\nconsole.log(alrt);\n</code></pre>\n\n<p>BTW, the correct answer is misspelling <code>indexOf</code> or the non-standard <code>String.contains</code>.\nLoading an external library (especially if the code is written in pure JavaScript) or messing with <code>String.prototype</code> or using a <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow\">regular expression</a> is a little overkill.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>if ('Hello, World!'.indexOf('orl') !== -1)\n    alert(\"The string 'Hello World' contains the substring 'orl'!\");\nelse\n    alert(\"The string 'Hello World' does not contain the substring 'orl'!\");\n</code></pre>\n\n<p>Here is an example: <a href=\"http://jsfiddle.net/oliverni/cb8xw/\" rel=\"nofollow\">http://jsfiddle.net/oliverni/cb8xw/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Instead of using code snippets found here and there on the web, you can also use a well-tested and documented library like <a href=\"http://epeli.github.io/underscore.string/\" rel=\"nofollow\">Underscore.string</a> for this. It has an <a href=\"https://github.com/epeli/underscore.string#string-functions\" rel=\"nofollow\"><code>include</code></a> method that does what you want:</p>\n\n<pre><code>_.str.include(\"foobar\", \"ob\")\n=&gt; true\n</code></pre>\n\n<p>Here is the description of the library, it just adds 9kb but gives you all the advantages a well-tested and documented library has over copy'n'paste code snippets:</p>\n\n<blockquote>\n  <p>Underscore.string is JavaScript library for comfortable manipulation\n  with strings, extension for Underscore.js inspired by Prototype.js,\n  Right.js, Underscore and beautiful Ruby language.</p>\n  \n  <p>Underscore.string provides you several useful functions: capitalize,\n  clean, includes, count, escapeHTML, unescapeHTML, insert, splice,\n  startsWith, endsWith, titleize, trim, truncate and so on.</p>\n</blockquote>\n\n<p>Note well, Underscore.string is influenced by <a href=\"http://underscorejs.org/\" rel=\"nofollow\">Underscore.js</a> but can be used without it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is a function to check if a substring is existing in a string or not:</p>\n\n<pre><code>function isStringMatch(str, str_to_match) {\n    return (str.indexOf(str_to_match) &gt; -1);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you don't like the <code>!!~</code>, etc. tricks, you can simply add <code>+1</code> to the result of <code>.indexOf()</code>. This way if a string is not found, <code>-1 + 1 = 0</code> will be falsy, <code>0.. + 1 = 1..</code> will be truthy:</p>\n\n<pre><code>if (\"StackOverflow\".indexOf(\"Stack\") + 1 )\n    alert('contains');\nelse \n    alert('does not contain');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the inbuilt and simplest one i.e <code>match()</code> on the string. To achieve what you are looking forward do this:</p>\n\n<pre><code>var stringData =\"anyString Data\";\n\nvar subStringToSearch = \"any\";\n\n// This will give back the substring if matches and if not returns null\nvar doesContains = stringData.match(subStringToSearch);\n\nif(doesContains !=null) {\n    alert(\"Contains Substring\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you were looking for an alternative to write the ugly -1 check, you prepend a ~ tilde instead. </p>\n\n<pre><code>if (~haystack.indexOf('needle')) alert('found');\n</code></pre>\n\n<p>More <a href=\"http://www.joezimjs.com/javascript/great-mystery-of-the-tilde/\">details here</a></p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>The easyest way is indeed using <strong>indexOf</strong>. To just check a string <code>string</code> for a substring <code>substr</code> you can use this method:</p>\n\n<pre><code>string = \"asdf\";\nsubstr = \"as\";\nalert(string.indexOf(substr) == -1 ? false : true);\n</code></pre>\n\n<hr>\n\n<p>As you wanted the function <code>string.contains()</code>, you can implement it yourself like this:</p>\n\n<pre><code>String.prototype.contains = function(test) {\n    return this.indexOf(test) == -1 ? false : true;\n};\n</code></pre>\n\n<p>Now you can use this ecen shorter method to check if a string contains a special substring:</p>\n\n<pre><code>string = \"asdf\";\nalert(string.contains(\"as\"));\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/Lfvga/\" rel=\"nofollow\">JSFiddle</a> as well.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>result = 'GBP|1800';\n//if pipe delimeter is there it returns true else false.\nif(result.indexOf(\"|\"))\n{\n    console.log('go default:' +result);\n    var cur = result.substring(0, 3);//returns GBP\n    console.log('go default cur:' +cur);\n    var minmum_fee = result.substring(4);//gets the substring amount\n    console.log('go default minmum_fee:' +minmum_fee);\n\n}\nelse\n{\n    console.log('not found:' +result);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>ES6 contains <code>String.prototype.contains</code>.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/contains\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/contains</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One more Function <code>search</code></p>\n\n<pre><code>var str = \"stack Overflow\";\nvar n = str.search(\"Overflow\");\nif(n != -1)\nalert('String exists')\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is a sleek and better way to do this and it is using the (BitWise NOT) operator.</p>\n\n<pre><code>if(~\"John\".indexOf(\"J\")) {\n  alert(\"Found\")\n}\nelse {\n  alert(\"Not Found\");\n}\n</code></pre>\n\n<p>The Bitwise Not converts \"x\" into -(x + 1) so, if the x turns out -1 from indexOf method.then it will be converted into -( -1 + 1) = -0 which is a falsy value .</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>JavaScript</strong></p>\n\n<pre><code> var str = \"My big string contain apples and oranges\";\n var n = str.indexOf(\"apples\"); \n alert(n); //will alert 22, -1 if not found\n</code></pre>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>  &lt;p&gt;My big string contain apples and oranges&lt;/p&gt;\n  alert($(\"p:contains(apples)\")[0] != undefined); //will alert true if found\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I check if one string contains another substring in JavaScript? \nUsually I would expect a <code>String.contains()</code> method, but there doesn't seem to be one.</p>\n",
            "last_activity_date": 1425301882,
            "question_id": 1789945,
            "score": 2818,
            "tags": [
                "javascript",
                "string"
            ],
            "title": "How can I check if one string contains another substring?"
        }
    ]
}
